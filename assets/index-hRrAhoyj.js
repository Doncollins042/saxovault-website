(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function wT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var u1={exports:{}},xd={},d1={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cl=Symbol.for("react.element"),bT=Symbol.for("react.portal"),_T=Symbol.for("react.fragment"),NT=Symbol.for("react.strict_mode"),ST=Symbol.for("react.profiler"),ET=Symbol.for("react.provider"),TT=Symbol.for("react.context"),jT=Symbol.for("react.forward_ref"),IT=Symbol.for("react.suspense"),kT=Symbol.for("react.memo"),CT=Symbol.for("react.lazy"),gx=Symbol.iterator;function AT(t){return t===null||typeof t!="object"?null:(t=gx&&t[gx]||t["@@iterator"],typeof t=="function"?t:null)}var h1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f1=Object.assign,m1={};function Oa(t,e,n){this.props=t,this.context=e,this.refs=m1,this.updater=n||h1}Oa.prototype.isReactComponent={};Oa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Oa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function p1(){}p1.prototype=Oa.prototype;function dp(t,e,n){this.props=t,this.context=e,this.refs=m1,this.updater=n||h1}var hp=dp.prototype=new p1;hp.constructor=dp;f1(hp,Oa.prototype);hp.isPureReactComponent=!0;var yx=Array.isArray,g1=Object.prototype.hasOwnProperty,fp={current:null},y1={key:!0,ref:!0,__self:!0,__source:!0};function x1(t,e,n){var s,r={},a=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)g1.call(e,s)&&!y1.hasOwnProperty(s)&&(r[s]=e[s]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];r.children=c}if(t&&t.defaultProps)for(s in l=t.defaultProps,l)r[s]===void 0&&(r[s]=l[s]);return{$$typeof:Cl,type:t,key:a,ref:o,props:r,_owner:fp.current}}function PT(t,e){return{$$typeof:Cl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function mp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Cl}function RT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var xx=/\/+/g;function Ah(t,e){return typeof t=="object"&&t!==null&&t.key!=null?RT(""+t.key):e.toString(36)}function $c(t,e,n,s,r){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Cl:case bT:o=!0}}if(o)return o=t,r=r(o),t=s===""?"."+Ah(o,0):s,yx(r)?(n="",t!=null&&(n=t.replace(xx,"$&/")+"/"),$c(r,e,n,"",function(d){return d})):r!=null&&(mp(r)&&(r=PT(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(xx,"$&/")+"/")+t)),e.push(r)),1;if(o=0,s=s===""?".":s+":",yx(t))for(var l=0;l<t.length;l++){a=t[l];var c=s+Ah(a,l);o+=$c(a,e,n,c,r)}else if(c=AT(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=s+Ah(a,l++),o+=$c(a,e,n,c,r);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function mc(t,e,n){if(t==null)return t;var s=[],r=0;return $c(t,s,"","",function(a){return e.call(n,a,r++)}),s}function DT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Jt={current:null},Bc={transition:null},VT={ReactCurrentDispatcher:Jt,ReactCurrentBatchConfig:Bc,ReactCurrentOwner:fp};function v1(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:mc,forEach:function(t,e,n){mc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return mc(t,function(){e++}),e},toArray:function(t){return mc(t,function(e){return e})||[]},only:function(t){if(!mp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=Oa;je.Fragment=_T;je.Profiler=ST;je.PureComponent=dp;je.StrictMode=NT;je.Suspense=IT;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VT;je.act=v1;je.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=f1({},t.props),r=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=fp.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)g1.call(e,c)&&!y1.hasOwnProperty(c)&&(s[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:Cl,type:t.type,key:r,ref:a,props:s,_owner:o}};je.createContext=function(t){return t={$$typeof:TT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ET,_context:t},t.Consumer=t};je.createElement=x1;je.createFactory=function(t){var e=x1.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:jT,render:t}};je.isValidElement=mp;je.lazy=function(t){return{$$typeof:CT,_payload:{_status:-1,_result:t},_init:DT}};je.memo=function(t,e){return{$$typeof:kT,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=Bc.transition;Bc.transition={};try{t()}finally{Bc.transition=e}};je.unstable_act=v1;je.useCallback=function(t,e){return Jt.current.useCallback(t,e)};je.useContext=function(t){return Jt.current.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t){return Jt.current.useDeferredValue(t)};je.useEffect=function(t,e){return Jt.current.useEffect(t,e)};je.useId=function(){return Jt.current.useId()};je.useImperativeHandle=function(t,e,n){return Jt.current.useImperativeHandle(t,e,n)};je.useInsertionEffect=function(t,e){return Jt.current.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return Jt.current.useLayoutEffect(t,e)};je.useMemo=function(t,e){return Jt.current.useMemo(t,e)};je.useReducer=function(t,e,n){return Jt.current.useReducer(t,e,n)};je.useRef=function(t){return Jt.current.useRef(t)};je.useState=function(t){return Jt.current.useState(t)};je.useSyncExternalStore=function(t,e,n){return Jt.current.useSyncExternalStore(t,e,n)};je.useTransition=function(){return Jt.current.useTransition()};je.version="18.3.1";d1.exports=je;var D=d1.exports;const vd=wT(D);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LT=D,MT=Symbol.for("react.element"),OT=Symbol.for("react.fragment"),FT=Object.prototype.hasOwnProperty,UT=LT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$T={key:!0,ref:!0,__self:!0,__source:!0};function w1(t,e,n){var s,r={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)FT.call(e,s)&&!$T.hasOwnProperty(s)&&(r[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:MT,type:t,key:a,ref:o,props:r,_owner:UT.current}}xd.Fragment=OT;xd.jsx=w1;xd.jsxs=w1;u1.exports=xd;var i=u1.exports,kf={},b1={exports:{}},xn={},_1={exports:{}},N1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,$){var ee=V.length;V.push($);e:for(;0<ee;){var Y=ee-1>>>1,G=V[Y];if(0<r(G,$))V[Y]=$,V[ee]=G,ee=Y;else break e}}function n(V){return V.length===0?null:V[0]}function s(V){if(V.length===0)return null;var $=V[0],ee=V.pop();if(ee!==$){V[0]=ee;e:for(var Y=0,G=V.length,ce=G>>>1;Y<ce;){var O=2*(Y+1)-1,le=V[O],ae=O+1,_e=V[ae];if(0>r(le,ee))ae<G&&0>r(_e,le)?(V[Y]=_e,V[ae]=ee,Y=ae):(V[Y]=le,V[O]=ee,Y=O);else if(ae<G&&0>r(_e,ee))V[Y]=_e,V[ae]=ee,Y=ae;else break e}}return $}function r(V,$){var ee=V.sortIndex-$.sortIndex;return ee!==0?ee:V.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,f=null,p=3,v=!1,E=!1,w=!1,k=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(V){for(var $=n(d);$!==null;){if($.callback===null)s(d);else if($.startTime<=V)s(d),$.sortIndex=$.expirationTime,e(c,$);else break;$=n(d)}}function P(V){if(w=!1,b(V),!E)if(n(c)!==null)E=!0,ue(M);else{var $=n(d);$!==null&&re(P,$.startTime-V)}}function M(V,$){E=!1,w&&(w=!1,S(_),_=-1),v=!0;var ee=p;try{for(b($),f=n(c);f!==null&&(!(f.expirationTime>$)||V&&!R());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,p=f.priorityLevel;var G=Y(f.expirationTime<=$);$=t.unstable_now(),typeof G=="function"?f.callback=G:f===n(c)&&s(c),b($)}else s(c);f=n(c)}if(f!==null)var ce=!0;else{var O=n(d);O!==null&&re(P,O.startTime-$),ce=!1}return ce}finally{f=null,p=ee,v=!1}}var B=!1,I=null,_=-1,T=5,C=-1;function R(){return!(t.unstable_now()-C<T)}function L(){if(I!==null){var V=t.unstable_now();C=V;var $=!0;try{$=I(!0,V)}finally{$?A():(B=!1,I=null)}}else B=!1}var A;if(typeof y=="function")A=function(){y(L)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,oe=fe.port2;fe.port1.onmessage=L,A=function(){oe.postMessage(null)}}else A=function(){k(L,0)};function ue(V){I=V,B||(B=!0,A())}function re(V,$){_=k(function(){V(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){E||v||(E=!0,ue(M))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(V){switch(p){case 1:case 2:case 3:var $=3;break;default:$=p}var ee=p;p=$;try{return V()}finally{p=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,$){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ee=p;p=V;try{return $()}finally{p=ee}},t.unstable_scheduleCallback=function(V,$,ee){var Y=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Y+ee:Y):ee=Y,V){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=ee+G,V={id:h++,callback:$,priorityLevel:V,startTime:ee,expirationTime:G,sortIndex:-1},ee>Y?(V.sortIndex=ee,e(d,V),n(c)===null&&V===n(d)&&(w?(S(_),_=-1):w=!0,re(P,ee-Y))):(V.sortIndex=G,e(c,V),E||v||(E=!0,ue(M))),V},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(V){var $=p;return function(){var ee=p;p=$;try{return V.apply(this,arguments)}finally{p=ee}}}})(N1);_1.exports=N1;var BT=_1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zT=D,gn=BT;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var S1=new Set,el={};function Pi(t,e){wa(t,e),wa(t+"Capture",e)}function wa(t,e){for(el[t]=e,t=0;t<e.length;t++)S1.add(e[t])}var Cs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cf=Object.prototype.hasOwnProperty,HT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vx={},wx={};function WT(t){return Cf.call(wx,t)?!0:Cf.call(vx,t)?!1:HT.test(t)?wx[t]=!0:(vx[t]=!0,!1)}function qT(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function GT(t,e,n,s){if(e===null||typeof e>"u"||qT(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yt(t,e,n,s,r,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pt[t]=new Yt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pt[e]=new Yt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pt[t]=new Yt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pt[t]=new Yt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pt[t]=new Yt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pt[t]=new Yt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pt[t]=new Yt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pt[t]=new Yt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pt[t]=new Yt(t,5,!1,t.toLowerCase(),null,!1,!1)});var pp=/[\-:]([a-z])/g;function gp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(pp,gp);Pt[e]=new Yt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(pp,gp);Pt[e]=new Yt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(pp,gp);Pt[e]=new Yt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pt[t]=new Yt(t,1,!1,t.toLowerCase(),null,!1,!1)});Pt.xlinkHref=new Yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pt[t]=new Yt(t,1,!1,t.toLowerCase(),null,!0,!0)});function yp(t,e,n,s){var r=Pt.hasOwnProperty(e)?Pt[e]:null;(r!==null?r.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(GT(e,n,r,s)&&(n=null),s||r===null?WT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,s=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var Fs=zT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pc=Symbol.for("react.element"),qi=Symbol.for("react.portal"),Gi=Symbol.for("react.fragment"),xp=Symbol.for("react.strict_mode"),Af=Symbol.for("react.profiler"),E1=Symbol.for("react.provider"),T1=Symbol.for("react.context"),vp=Symbol.for("react.forward_ref"),Pf=Symbol.for("react.suspense"),Rf=Symbol.for("react.suspense_list"),wp=Symbol.for("react.memo"),er=Symbol.for("react.lazy"),j1=Symbol.for("react.offscreen"),bx=Symbol.iterator;function fo(t){return t===null||typeof t!="object"?null:(t=bx&&t[bx]||t["@@iterator"],typeof t=="function"?t:null)}var Ze=Object.assign,Ph;function No(t){if(Ph===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ph=e&&e[1]||""}return`
`+Ph+t}var Rh=!1;function Dh(t,e){if(!t||Rh)return"";Rh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var s=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){s=d}t.call(e.prototype)}else{try{throw Error()}catch(d){s=d}t()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var r=d.stack.split(`
`),a=s.stack.split(`
`),o=r.length-1,l=a.length-1;1<=o&&0<=l&&r[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(r[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||r[o]!==a[l]){var c=`
`+r[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Rh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?No(t):""}function KT(t){switch(t.tag){case 5:return No(t.type);case 16:return No("Lazy");case 13:return No("Suspense");case 19:return No("SuspenseList");case 0:case 2:case 15:return t=Dh(t.type,!1),t;case 11:return t=Dh(t.type.render,!1),t;case 1:return t=Dh(t.type,!0),t;default:return""}}function Df(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Gi:return"Fragment";case qi:return"Portal";case Af:return"Profiler";case xp:return"StrictMode";case Pf:return"Suspense";case Rf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case T1:return(t.displayName||"Context")+".Consumer";case E1:return(t._context.displayName||"Context")+".Provider";case vp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case wp:return e=t.displayName||null,e!==null?e:Df(t.type)||"Memo";case er:e=t._payload,t=t._init;try{return Df(t(e))}catch{}}return null}function JT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Df(e);case 8:return e===xp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function jr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function I1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function YT(t){var e=I1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){s=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gc(t){t._valueTracker||(t._valueTracker=YT(t))}function k1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=I1(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function mu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Vf(t,e){var n=e.checked;return Ze({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function _x(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=jr(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function C1(t,e){e=e.checked,e!=null&&yp(t,"checked",e,!1)}function Lf(t,e){C1(t,e);var n=jr(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Mf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Mf(t,e.type,jr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Nx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Mf(t,e,n){(e!=="number"||mu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var So=Array.isArray;function la(t,e,n,s){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&s&&(t[n].defaultSelected=!0)}else{for(n=""+jr(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,s&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Of(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return Ze({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Sx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(So(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:jr(n)}}function A1(t,e){var n=jr(e.value),s=jr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function Ex(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function P1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ff(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?P1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yc,R1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(yc=yc||document.createElement("div"),yc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function tl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Do={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},QT=["Webkit","ms","Moz","O"];Object.keys(Do).forEach(function(t){QT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Do[e]=Do[t]})});function D1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Do.hasOwnProperty(t)&&Do[t]?(""+e).trim():e+"px"}function V1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=D1(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,r):t[n]=r}}var XT=Ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Uf(t,e){if(e){if(XT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function $f(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bf=null;function bp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zf=null,ca=null,ua=null;function Tx(t){if(t=Rl(t)){if(typeof zf!="function")throw Error(J(280));var e=t.stateNode;e&&(e=Sd(e),zf(t.stateNode,t.type,e))}}function L1(t){ca?ua?ua.push(t):ua=[t]:ca=t}function M1(){if(ca){var t=ca,e=ua;if(ua=ca=null,Tx(t),e)for(t=0;t<e.length;t++)Tx(e[t])}}function O1(t,e){return t(e)}function F1(){}var Vh=!1;function U1(t,e,n){if(Vh)return t(e,n);Vh=!0;try{return O1(t,e,n)}finally{Vh=!1,(ca!==null||ua!==null)&&(F1(),M1())}}function nl(t,e){var n=t.stateNode;if(n===null)return null;var s=Sd(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var Hf=!1;if(Cs)try{var mo={};Object.defineProperty(mo,"passive",{get:function(){Hf=!0}}),window.addEventListener("test",mo,mo),window.removeEventListener("test",mo,mo)}catch{Hf=!1}function ZT(t,e,n,s,r,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var Vo=!1,pu=null,gu=!1,Wf=null,ej={onError:function(t){Vo=!0,pu=t}};function tj(t,e,n,s,r,a,o,l,c){Vo=!1,pu=null,ZT.apply(ej,arguments)}function nj(t,e,n,s,r,a,o,l,c){if(tj.apply(this,arguments),Vo){if(Vo){var d=pu;Vo=!1,pu=null}else throw Error(J(198));gu||(gu=!0,Wf=d)}}function Ri(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function $1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function jx(t){if(Ri(t)!==t)throw Error(J(188))}function sj(t){var e=t.alternate;if(!e){if(e=Ri(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,s=e;;){var r=n.return;if(r===null)break;var a=r.alternate;if(a===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return jx(r),t;if(a===s)return jx(r),e;a=a.sibling}throw Error(J(188))}if(n.return!==s.return)n=r,s=a;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,s=a;break}if(l===s){o=!0,s=r,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,s=r;break}if(l===s){o=!0,s=a,n=r;break}l=l.sibling}if(!o)throw Error(J(189))}}if(n.alternate!==s)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function B1(t){return t=sj(t),t!==null?z1(t):null}function z1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=z1(t);if(e!==null)return e;t=t.sibling}return null}var H1=gn.unstable_scheduleCallback,Ix=gn.unstable_cancelCallback,rj=gn.unstable_shouldYield,ij=gn.unstable_requestPaint,at=gn.unstable_now,aj=gn.unstable_getCurrentPriorityLevel,_p=gn.unstable_ImmediatePriority,W1=gn.unstable_UserBlockingPriority,yu=gn.unstable_NormalPriority,oj=gn.unstable_LowPriority,q1=gn.unstable_IdlePriority,wd=null,ts=null;function lj(t){if(ts&&typeof ts.onCommitFiberRoot=="function")try{ts.onCommitFiberRoot(wd,t,void 0,(t.current.flags&128)===128)}catch{}}var Fn=Math.clz32?Math.clz32:dj,cj=Math.log,uj=Math.LN2;function dj(t){return t>>>=0,t===0?32:31-(cj(t)/uj|0)|0}var xc=64,vc=4194304;function Eo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function xu(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,r=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~r;l!==0?s=Eo(l):(a&=o,a!==0&&(s=Eo(a)))}else o=n&~r,o!==0?s=Eo(o):a!==0&&(s=Eo(a));if(s===0)return 0;if(e!==0&&e!==s&&!(e&r)&&(r=s&-s,a=e&-e,r>=a||r===16&&(a&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-Fn(e),r=1<<n,s|=t[n],e&=~r;return s}function hj(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fj(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Fn(a),l=1<<o,c=r[o];c===-1?(!(l&n)||l&s)&&(r[o]=hj(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function qf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function G1(){var t=xc;return xc<<=1,!(xc&4194240)&&(xc=64),t}function Lh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Al(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Fn(e),t[e]=n}function mj(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Fn(n),a=1<<r;e[r]=0,s[r]=-1,t[r]=-1,n&=~a}}function Np(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-Fn(n),r=1<<s;r&e|t[s]&e&&(t[s]|=e),n&=~r}}var Ve=0;function K1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var J1,Sp,Y1,Q1,X1,Gf=!1,wc=[],hr=null,fr=null,mr=null,sl=new Map,rl=new Map,sr=[],pj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kx(t,e){switch(t){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":sl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rl.delete(e.pointerId)}}function po(t,e,n,s,r,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[r]},e!==null&&(e=Rl(e),e!==null&&Sp(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function gj(t,e,n,s,r){switch(e){case"focusin":return hr=po(hr,t,e,n,s,r),!0;case"dragenter":return fr=po(fr,t,e,n,s,r),!0;case"mouseover":return mr=po(mr,t,e,n,s,r),!0;case"pointerover":var a=r.pointerId;return sl.set(a,po(sl.get(a)||null,t,e,n,s,r)),!0;case"gotpointercapture":return a=r.pointerId,rl.set(a,po(rl.get(a)||null,t,e,n,s,r)),!0}return!1}function Z1(t){var e=oi(t.target);if(e!==null){var n=Ri(e);if(n!==null){if(e=n.tag,e===13){if(e=$1(n),e!==null){t.blockedOn=e,X1(t.priority,function(){Y1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Kf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);Bf=s,n.target.dispatchEvent(s),Bf=null}else return e=Rl(n),e!==null&&Sp(e),t.blockedOn=n,!1;e.shift()}return!0}function Cx(t,e,n){zc(t)&&n.delete(e)}function yj(){Gf=!1,hr!==null&&zc(hr)&&(hr=null),fr!==null&&zc(fr)&&(fr=null),mr!==null&&zc(mr)&&(mr=null),sl.forEach(Cx),rl.forEach(Cx)}function go(t,e){t.blockedOn===e&&(t.blockedOn=null,Gf||(Gf=!0,gn.unstable_scheduleCallback(gn.unstable_NormalPriority,yj)))}function il(t){function e(r){return go(r,t)}if(0<wc.length){go(wc[0],t);for(var n=1;n<wc.length;n++){var s=wc[n];s.blockedOn===t&&(s.blockedOn=null)}}for(hr!==null&&go(hr,t),fr!==null&&go(fr,t),mr!==null&&go(mr,t),sl.forEach(e),rl.forEach(e),n=0;n<sr.length;n++)s=sr[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<sr.length&&(n=sr[0],n.blockedOn===null);)Z1(n),n.blockedOn===null&&sr.shift()}var da=Fs.ReactCurrentBatchConfig,vu=!0;function xj(t,e,n,s){var r=Ve,a=da.transition;da.transition=null;try{Ve=1,Ep(t,e,n,s)}finally{Ve=r,da.transition=a}}function vj(t,e,n,s){var r=Ve,a=da.transition;da.transition=null;try{Ve=4,Ep(t,e,n,s)}finally{Ve=r,da.transition=a}}function Ep(t,e,n,s){if(vu){var r=Kf(t,e,n,s);if(r===null)qh(t,e,s,wu,n),kx(t,s);else if(gj(r,t,e,n,s))s.stopPropagation();else if(kx(t,s),e&4&&-1<pj.indexOf(t)){for(;r!==null;){var a=Rl(r);if(a!==null&&J1(a),a=Kf(t,e,n,s),a===null&&qh(t,e,s,wu,n),a===r)break;r=a}r!==null&&s.stopPropagation()}else qh(t,e,s,null,n)}}var wu=null;function Kf(t,e,n,s){if(wu=null,t=bp(s),t=oi(t),t!==null)if(e=Ri(t),e===null)t=null;else if(n=e.tag,n===13){if(t=$1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return wu=t,null}function eb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(aj()){case _p:return 1;case W1:return 4;case yu:case oj:return 16;case q1:return 536870912;default:return 16}default:return 16}}var cr=null,Tp=null,Hc=null;function tb(){if(Hc)return Hc;var t,e=Tp,n=e.length,s,r="value"in cr?cr.value:cr.textContent,a=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(s=1;s<=o&&e[n-s]===r[a-s];s++);return Hc=r.slice(t,1<s?1-s:void 0)}function Wc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function bc(){return!0}function Ax(){return!1}function vn(t){function e(n,s,r,a,o){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?bc:Ax,this.isPropagationStopped=Ax,this}return Ze(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bc)},persist:function(){},isPersistent:bc}),e}var Fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jp=vn(Fa),Pl=Ze({},Fa,{view:0,detail:0}),wj=vn(Pl),Mh,Oh,yo,bd=Ze({},Pl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ip,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yo&&(yo&&t.type==="mousemove"?(Mh=t.screenX-yo.screenX,Oh=t.screenY-yo.screenY):Oh=Mh=0,yo=t),Mh)},movementY:function(t){return"movementY"in t?t.movementY:Oh}}),Px=vn(bd),bj=Ze({},bd,{dataTransfer:0}),_j=vn(bj),Nj=Ze({},Pl,{relatedTarget:0}),Fh=vn(Nj),Sj=Ze({},Fa,{animationName:0,elapsedTime:0,pseudoElement:0}),Ej=vn(Sj),Tj=Ze({},Fa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),jj=vn(Tj),Ij=Ze({},Fa,{data:0}),Rx=vn(Ij),kj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Aj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Aj[t])?!!e[t]:!1}function Ip(){return Pj}var Rj=Ze({},Pl,{key:function(t){if(t.key){var e=kj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Wc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Cj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ip,charCode:function(t){return t.type==="keypress"?Wc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Dj=vn(Rj),Vj=Ze({},bd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dx=vn(Vj),Lj=Ze({},Pl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ip}),Mj=vn(Lj),Oj=Ze({},Fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fj=vn(Oj),Uj=Ze({},bd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$j=vn(Uj),Bj=[9,13,27,32],kp=Cs&&"CompositionEvent"in window,Lo=null;Cs&&"documentMode"in document&&(Lo=document.documentMode);var zj=Cs&&"TextEvent"in window&&!Lo,nb=Cs&&(!kp||Lo&&8<Lo&&11>=Lo),Vx=" ",Lx=!1;function sb(t,e){switch(t){case"keyup":return Bj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ki=!1;function Hj(t,e){switch(t){case"compositionend":return rb(e);case"keypress":return e.which!==32?null:(Lx=!0,Vx);case"textInput":return t=e.data,t===Vx&&Lx?null:t;default:return null}}function Wj(t,e){if(Ki)return t==="compositionend"||!kp&&sb(t,e)?(t=tb(),Hc=Tp=cr=null,Ki=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return nb&&e.locale!=="ko"?null:e.data;default:return null}}var qj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!qj[t.type]:e==="textarea"}function ib(t,e,n,s){L1(s),e=bu(e,"onChange"),0<e.length&&(n=new jp("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var Mo=null,al=null;function Gj(t){gb(t,0)}function _d(t){var e=Qi(t);if(k1(e))return t}function Kj(t,e){if(t==="change")return e}var ab=!1;if(Cs){var Uh;if(Cs){var $h="oninput"in document;if(!$h){var Ox=document.createElement("div");Ox.setAttribute("oninput","return;"),$h=typeof Ox.oninput=="function"}Uh=$h}else Uh=!1;ab=Uh&&(!document.documentMode||9<document.documentMode)}function Fx(){Mo&&(Mo.detachEvent("onpropertychange",ob),al=Mo=null)}function ob(t){if(t.propertyName==="value"&&_d(al)){var e=[];ib(e,al,t,bp(t)),U1(Gj,e)}}function Jj(t,e,n){t==="focusin"?(Fx(),Mo=e,al=n,Mo.attachEvent("onpropertychange",ob)):t==="focusout"&&Fx()}function Yj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _d(al)}function Qj(t,e){if(t==="click")return _d(e)}function Xj(t,e){if(t==="input"||t==="change")return _d(e)}function Zj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zn=typeof Object.is=="function"?Object.is:Zj;function ol(t,e){if(zn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!Cf.call(e,r)||!zn(t[r],e[r]))return!1}return!0}function Ux(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $x(t,e){var n=Ux(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ux(n)}}function lb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?lb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function cb(){for(var t=window,e=mu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=mu(t.document)}return e}function Cp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function eI(t){var e=cb(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&lb(n.ownerDocument.documentElement,n)){if(s!==null&&Cp(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,a=Math.min(s.start,r);s=s.end===void 0?a:Math.min(s.end,r),!t.extend&&a>s&&(r=s,s=a,a=r),r=$x(n,a);var o=$x(n,s);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),a>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var tI=Cs&&"documentMode"in document&&11>=document.documentMode,Ji=null,Jf=null,Oo=null,Yf=!1;function Bx(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yf||Ji==null||Ji!==mu(s)||(s=Ji,"selectionStart"in s&&Cp(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Oo&&ol(Oo,s)||(Oo=s,s=bu(Jf,"onSelect"),0<s.length&&(e=new jp("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=Ji)))}function _c(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Yi={animationend:_c("Animation","AnimationEnd"),animationiteration:_c("Animation","AnimationIteration"),animationstart:_c("Animation","AnimationStart"),transitionend:_c("Transition","TransitionEnd")},Bh={},ub={};Cs&&(ub=document.createElement("div").style,"AnimationEvent"in window||(delete Yi.animationend.animation,delete Yi.animationiteration.animation,delete Yi.animationstart.animation),"TransitionEvent"in window||delete Yi.transitionend.transition);function Nd(t){if(Bh[t])return Bh[t];if(!Yi[t])return t;var e=Yi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ub)return Bh[t]=e[n];return t}var db=Nd("animationend"),hb=Nd("animationiteration"),fb=Nd("animationstart"),mb=Nd("transitionend"),pb=new Map,zx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fr(t,e){pb.set(t,e),Pi(e,[t])}for(var zh=0;zh<zx.length;zh++){var Hh=zx[zh],nI=Hh.toLowerCase(),sI=Hh[0].toUpperCase()+Hh.slice(1);Fr(nI,"on"+sI)}Fr(db,"onAnimationEnd");Fr(hb,"onAnimationIteration");Fr(fb,"onAnimationStart");Fr("dblclick","onDoubleClick");Fr("focusin","onFocus");Fr("focusout","onBlur");Fr(mb,"onTransitionEnd");wa("onMouseEnter",["mouseout","mouseover"]);wa("onMouseLeave",["mouseout","mouseover"]);wa("onPointerEnter",["pointerout","pointerover"]);wa("onPointerLeave",["pointerout","pointerover"]);Pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var To="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rI=new Set("cancel close invalid load scroll toggle".split(" ").concat(To));function Hx(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,nj(s,e,void 0,t),t.currentTarget=null}function gb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],r=s.event;s=s.listeners;e:{var a=void 0;if(e)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&r.isPropagationStopped())break e;Hx(r,l,d),a=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&r.isPropagationStopped())break e;Hx(r,l,d),a=c}}}if(gu)throw t=Wf,gu=!1,Wf=null,t}function Be(t,e){var n=e[tm];n===void 0&&(n=e[tm]=new Set);var s=t+"__bubble";n.has(s)||(yb(e,t,2,!1),n.add(s))}function Wh(t,e,n){var s=0;e&&(s|=4),yb(n,t,s,e)}var Nc="_reactListening"+Math.random().toString(36).slice(2);function ll(t){if(!t[Nc]){t[Nc]=!0,S1.forEach(function(n){n!=="selectionchange"&&(rI.has(n)||Wh(n,!1,t),Wh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Nc]||(e[Nc]=!0,Wh("selectionchange",!1,e))}}function yb(t,e,n,s){switch(eb(e)){case 1:var r=xj;break;case 4:r=vj;break;default:r=Ep}n=r.bind(null,e,n,t),r=void 0,!Hf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function qh(t,e,n,s,r){var a=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;o=o.return}for(;l!==null;){if(o=oi(l),o===null)return;if(c=o.tag,c===5||c===6){s=a=o;continue e}l=l.parentNode}}s=s.return}U1(function(){var d=a,h=bp(n),f=[];e:{var p=pb.get(t);if(p!==void 0){var v=jp,E=t;switch(t){case"keypress":if(Wc(n)===0)break e;case"keydown":case"keyup":v=Dj;break;case"focusin":E="focus",v=Fh;break;case"focusout":E="blur",v=Fh;break;case"beforeblur":case"afterblur":v=Fh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Px;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=_j;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Mj;break;case db:case hb:case fb:v=Ej;break;case mb:v=Fj;break;case"scroll":v=wj;break;case"wheel":v=$j;break;case"copy":case"cut":case"paste":v=jj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Dx}var w=(e&4)!==0,k=!w&&t==="scroll",S=w?p!==null?p+"Capture":null:p;w=[];for(var y=d,b;y!==null;){b=y;var P=b.stateNode;if(b.tag===5&&P!==null&&(b=P,S!==null&&(P=nl(y,S),P!=null&&w.push(cl(y,P,b)))),k)break;y=y.return}0<w.length&&(p=new v(p,E,null,n,h),f.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&n!==Bf&&(E=n.relatedTarget||n.fromElement)&&(oi(E)||E[As]))break e;if((v||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,v?(E=n.relatedTarget||n.toElement,v=d,E=E?oi(E):null,E!==null&&(k=Ri(E),E!==k||E.tag!==5&&E.tag!==6)&&(E=null)):(v=null,E=d),v!==E)){if(w=Px,P="onMouseLeave",S="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(w=Dx,P="onPointerLeave",S="onPointerEnter",y="pointer"),k=v==null?p:Qi(v),b=E==null?p:Qi(E),p=new w(P,y+"leave",v,n,h),p.target=k,p.relatedTarget=b,P=null,oi(h)===d&&(w=new w(S,y+"enter",E,n,h),w.target=b,w.relatedTarget=k,P=w),k=P,v&&E)t:{for(w=v,S=E,y=0,b=w;b;b=$i(b))y++;for(b=0,P=S;P;P=$i(P))b++;for(;0<y-b;)w=$i(w),y--;for(;0<b-y;)S=$i(S),b--;for(;y--;){if(w===S||S!==null&&w===S.alternate)break t;w=$i(w),S=$i(S)}w=null}else w=null;v!==null&&Wx(f,p,v,w,!1),E!==null&&k!==null&&Wx(f,k,E,w,!0)}}e:{if(p=d?Qi(d):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var M=Kj;else if(Mx(p))if(ab)M=Xj;else{M=Yj;var B=Jj}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(M=Qj);if(M&&(M=M(t,d))){ib(f,M,n,h);break e}B&&B(t,p,d),t==="focusout"&&(B=p._wrapperState)&&B.controlled&&p.type==="number"&&Mf(p,"number",p.value)}switch(B=d?Qi(d):window,t){case"focusin":(Mx(B)||B.contentEditable==="true")&&(Ji=B,Jf=d,Oo=null);break;case"focusout":Oo=Jf=Ji=null;break;case"mousedown":Yf=!0;break;case"contextmenu":case"mouseup":case"dragend":Yf=!1,Bx(f,n,h);break;case"selectionchange":if(tI)break;case"keydown":case"keyup":Bx(f,n,h)}var I;if(kp)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Ki?sb(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(nb&&n.locale!=="ko"&&(Ki||_!=="onCompositionStart"?_==="onCompositionEnd"&&Ki&&(I=tb()):(cr=h,Tp="value"in cr?cr.value:cr.textContent,Ki=!0)),B=bu(d,_),0<B.length&&(_=new Rx(_,t,null,n,h),f.push({event:_,listeners:B}),I?_.data=I:(I=rb(n),I!==null&&(_.data=I)))),(I=zj?Hj(t,n):Wj(t,n))&&(d=bu(d,"onBeforeInput"),0<d.length&&(h=new Rx("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=I))}gb(f,e)})}function cl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function bu(t,e){for(var n=e+"Capture",s=[];t!==null;){var r=t,a=r.stateNode;r.tag===5&&a!==null&&(r=a,a=nl(t,n),a!=null&&s.unshift(cl(t,a,r)),a=nl(t,e),a!=null&&s.push(cl(t,a,r))),t=t.return}return s}function $i(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Wx(t,e,n,s,r){for(var a=e._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,r?(c=nl(n,a),c!=null&&o.unshift(cl(n,c,l))):r||(c=nl(n,a),c!=null&&o.push(cl(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var iI=/\r\n?/g,aI=/\u0000|\uFFFD/g;function qx(t){return(typeof t=="string"?t:""+t).replace(iI,`
`).replace(aI,"")}function Sc(t,e,n){if(e=qx(e),qx(t)!==e&&n)throw Error(J(425))}function _u(){}var Qf=null,Xf=null;function Zf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var em=typeof setTimeout=="function"?setTimeout:void 0,oI=typeof clearTimeout=="function"?clearTimeout:void 0,Gx=typeof Promise=="function"?Promise:void 0,lI=typeof queueMicrotask=="function"?queueMicrotask:typeof Gx<"u"?function(t){return Gx.resolve(null).then(t).catch(cI)}:em;function cI(t){setTimeout(function(){throw t})}function Gh(t,e){var n=e,s=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){t.removeChild(r),il(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);il(e)}function pr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Kx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ua=Math.random().toString(36).slice(2),Zn="__reactFiber$"+Ua,ul="__reactProps$"+Ua,As="__reactContainer$"+Ua,tm="__reactEvents$"+Ua,uI="__reactListeners$"+Ua,dI="__reactHandles$"+Ua;function oi(t){var e=t[Zn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[As]||n[Zn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Kx(t);t!==null;){if(n=t[Zn])return n;t=Kx(t)}return e}t=n,n=t.parentNode}return null}function Rl(t){return t=t[Zn]||t[As],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function Sd(t){return t[ul]||null}var nm=[],Xi=-1;function Ur(t){return{current:t}}function We(t){0>Xi||(t.current=nm[Xi],nm[Xi]=null,Xi--)}function Fe(t,e){Xi++,nm[Xi]=t.current,t.current=e}var Ir={},zt=Ur(Ir),nn=Ur(!1),vi=Ir;function ba(t,e){var n=t.type.contextTypes;if(!n)return Ir;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var r={},a;for(a in n)r[a]=e[a];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function sn(t){return t=t.childContextTypes,t!=null}function Nu(){We(nn),We(zt)}function Jx(t,e,n){if(zt.current!==Ir)throw Error(J(168));Fe(zt,e),Fe(nn,n)}function xb(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in e))throw Error(J(108,JT(t)||"Unknown",r));return Ze({},n,s)}function Su(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ir,vi=zt.current,Fe(zt,t),Fe(nn,nn.current),!0}function Yx(t,e,n){var s=t.stateNode;if(!s)throw Error(J(169));n?(t=xb(t,e,vi),s.__reactInternalMemoizedMergedChildContext=t,We(nn),We(zt),Fe(zt,t)):We(nn),Fe(nn,n)}var gs=null,Ed=!1,Kh=!1;function vb(t){gs===null?gs=[t]:gs.push(t)}function hI(t){Ed=!0,vb(t)}function $r(){if(!Kh&&gs!==null){Kh=!0;var t=0,e=Ve;try{var n=gs;for(Ve=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}gs=null,Ed=!1}catch(r){throw gs!==null&&(gs=gs.slice(t+1)),H1(_p,$r),r}finally{Ve=e,Kh=!1}}return null}var Zi=[],ea=0,Eu=null,Tu=0,Nn=[],Sn=0,wi=null,xs=1,vs="";function ti(t,e){Zi[ea++]=Tu,Zi[ea++]=Eu,Eu=t,Tu=e}function wb(t,e,n){Nn[Sn++]=xs,Nn[Sn++]=vs,Nn[Sn++]=wi,wi=t;var s=xs;t=vs;var r=32-Fn(s)-1;s&=~(1<<r),n+=1;var a=32-Fn(e)+r;if(30<a){var o=r-r%5;a=(s&(1<<o)-1).toString(32),s>>=o,r-=o,xs=1<<32-Fn(e)+r|n<<r|s,vs=a+t}else xs=1<<a|n<<r|s,vs=t}function Ap(t){t.return!==null&&(ti(t,1),wb(t,1,0))}function Pp(t){for(;t===Eu;)Eu=Zi[--ea],Zi[ea]=null,Tu=Zi[--ea],Zi[ea]=null;for(;t===wi;)wi=Nn[--Sn],Nn[Sn]=null,vs=Nn[--Sn],Nn[Sn]=null,xs=Nn[--Sn],Nn[Sn]=null}var mn=null,hn=null,Je=!1,Mn=null;function bb(t,e){var n=Tn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Qx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,mn=t,hn=pr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,mn=t,hn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=wi!==null?{id:xs,overflow:vs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Tn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,mn=t,hn=null,!0):!1;default:return!1}}function sm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function rm(t){if(Je){var e=hn;if(e){var n=e;if(!Qx(t,e)){if(sm(t))throw Error(J(418));e=pr(n.nextSibling);var s=mn;e&&Qx(t,e)?bb(s,n):(t.flags=t.flags&-4097|2,Je=!1,mn=t)}}else{if(sm(t))throw Error(J(418));t.flags=t.flags&-4097|2,Je=!1,mn=t}}}function Xx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mn=t}function Ec(t){if(t!==mn)return!1;if(!Je)return Xx(t),Je=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Zf(t.type,t.memoizedProps)),e&&(e=hn)){if(sm(t))throw _b(),Error(J(418));for(;e;)bb(t,e),e=pr(e.nextSibling)}if(Xx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){hn=pr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}hn=null}}else hn=mn?pr(t.stateNode.nextSibling):null;return!0}function _b(){for(var t=hn;t;)t=pr(t.nextSibling)}function _a(){hn=mn=null,Je=!1}function Rp(t){Mn===null?Mn=[t]:Mn.push(t)}var fI=Fs.ReactCurrentBatchConfig;function xo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var s=n.stateNode}if(!s)throw Error(J(147,t));var r=s,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=r.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function Tc(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Zx(t){var e=t._init;return e(t._payload)}function Nb(t){function e(S,y){if(t){var b=S.deletions;b===null?(S.deletions=[y],S.flags|=16):b.push(y)}}function n(S,y){if(!t)return null;for(;y!==null;)e(S,y),y=y.sibling;return null}function s(S,y){for(S=new Map;y!==null;)y.key!==null?S.set(y.key,y):S.set(y.index,y),y=y.sibling;return S}function r(S,y){return S=vr(S,y),S.index=0,S.sibling=null,S}function a(S,y,b){return S.index=b,t?(b=S.alternate,b!==null?(b=b.index,b<y?(S.flags|=2,y):b):(S.flags|=2,y)):(S.flags|=1048576,y)}function o(S){return t&&S.alternate===null&&(S.flags|=2),S}function l(S,y,b,P){return y===null||y.tag!==6?(y=tf(b,S.mode,P),y.return=S,y):(y=r(y,b),y.return=S,y)}function c(S,y,b,P){var M=b.type;return M===Gi?h(S,y,b.props.children,P,b.key):y!==null&&(y.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===er&&Zx(M)===y.type)?(P=r(y,b.props),P.ref=xo(S,y,b),P.return=S,P):(P=Xc(b.type,b.key,b.props,null,S.mode,P),P.ref=xo(S,y,b),P.return=S,P)}function d(S,y,b,P){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=nf(b,S.mode,P),y.return=S,y):(y=r(y,b.children||[]),y.return=S,y)}function h(S,y,b,P,M){return y===null||y.tag!==7?(y=mi(b,S.mode,P,M),y.return=S,y):(y=r(y,b),y.return=S,y)}function f(S,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=tf(""+y,S.mode,b),y.return=S,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case pc:return b=Xc(y.type,y.key,y.props,null,S.mode,b),b.ref=xo(S,null,y),b.return=S,b;case qi:return y=nf(y,S.mode,b),y.return=S,y;case er:var P=y._init;return f(S,P(y._payload),b)}if(So(y)||fo(y))return y=mi(y,S.mode,b,null),y.return=S,y;Tc(S,y)}return null}function p(S,y,b,P){var M=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return M!==null?null:l(S,y,""+b,P);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case pc:return b.key===M?c(S,y,b,P):null;case qi:return b.key===M?d(S,y,b,P):null;case er:return M=b._init,p(S,y,M(b._payload),P)}if(So(b)||fo(b))return M!==null?null:h(S,y,b,P,null);Tc(S,b)}return null}function v(S,y,b,P,M){if(typeof P=="string"&&P!==""||typeof P=="number")return S=S.get(b)||null,l(y,S,""+P,M);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case pc:return S=S.get(P.key===null?b:P.key)||null,c(y,S,P,M);case qi:return S=S.get(P.key===null?b:P.key)||null,d(y,S,P,M);case er:var B=P._init;return v(S,y,b,B(P._payload),M)}if(So(P)||fo(P))return S=S.get(b)||null,h(y,S,P,M,null);Tc(y,P)}return null}function E(S,y,b,P){for(var M=null,B=null,I=y,_=y=0,T=null;I!==null&&_<b.length;_++){I.index>_?(T=I,I=null):T=I.sibling;var C=p(S,I,b[_],P);if(C===null){I===null&&(I=T);break}t&&I&&C.alternate===null&&e(S,I),y=a(C,y,_),B===null?M=C:B.sibling=C,B=C,I=T}if(_===b.length)return n(S,I),Je&&ti(S,_),M;if(I===null){for(;_<b.length;_++)I=f(S,b[_],P),I!==null&&(y=a(I,y,_),B===null?M=I:B.sibling=I,B=I);return Je&&ti(S,_),M}for(I=s(S,I);_<b.length;_++)T=v(I,S,_,b[_],P),T!==null&&(t&&T.alternate!==null&&I.delete(T.key===null?_:T.key),y=a(T,y,_),B===null?M=T:B.sibling=T,B=T);return t&&I.forEach(function(R){return e(S,R)}),Je&&ti(S,_),M}function w(S,y,b,P){var M=fo(b);if(typeof M!="function")throw Error(J(150));if(b=M.call(b),b==null)throw Error(J(151));for(var B=M=null,I=y,_=y=0,T=null,C=b.next();I!==null&&!C.done;_++,C=b.next()){I.index>_?(T=I,I=null):T=I.sibling;var R=p(S,I,C.value,P);if(R===null){I===null&&(I=T);break}t&&I&&R.alternate===null&&e(S,I),y=a(R,y,_),B===null?M=R:B.sibling=R,B=R,I=T}if(C.done)return n(S,I),Je&&ti(S,_),M;if(I===null){for(;!C.done;_++,C=b.next())C=f(S,C.value,P),C!==null&&(y=a(C,y,_),B===null?M=C:B.sibling=C,B=C);return Je&&ti(S,_),M}for(I=s(S,I);!C.done;_++,C=b.next())C=v(I,S,_,C.value,P),C!==null&&(t&&C.alternate!==null&&I.delete(C.key===null?_:C.key),y=a(C,y,_),B===null?M=C:B.sibling=C,B=C);return t&&I.forEach(function(L){return e(S,L)}),Je&&ti(S,_),M}function k(S,y,b,P){if(typeof b=="object"&&b!==null&&b.type===Gi&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case pc:e:{for(var M=b.key,B=y;B!==null;){if(B.key===M){if(M=b.type,M===Gi){if(B.tag===7){n(S,B.sibling),y=r(B,b.props.children),y.return=S,S=y;break e}}else if(B.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===er&&Zx(M)===B.type){n(S,B.sibling),y=r(B,b.props),y.ref=xo(S,B,b),y.return=S,S=y;break e}n(S,B);break}else e(S,B);B=B.sibling}b.type===Gi?(y=mi(b.props.children,S.mode,P,b.key),y.return=S,S=y):(P=Xc(b.type,b.key,b.props,null,S.mode,P),P.ref=xo(S,y,b),P.return=S,S=P)}return o(S);case qi:e:{for(B=b.key;y!==null;){if(y.key===B)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(S,y.sibling),y=r(y,b.children||[]),y.return=S,S=y;break e}else{n(S,y);break}else e(S,y);y=y.sibling}y=nf(b,S.mode,P),y.return=S,S=y}return o(S);case er:return B=b._init,k(S,y,B(b._payload),P)}if(So(b))return E(S,y,b,P);if(fo(b))return w(S,y,b,P);Tc(S,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(S,y.sibling),y=r(y,b),y.return=S,S=y):(n(S,y),y=tf(b,S.mode,P),y.return=S,S=y),o(S)):n(S,y)}return k}var Na=Nb(!0),Sb=Nb(!1),ju=Ur(null),Iu=null,ta=null,Dp=null;function Vp(){Dp=ta=Iu=null}function Lp(t){var e=ju.current;We(ju),t._currentValue=e}function im(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function ha(t,e){Iu=t,Dp=ta=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(tn=!0),t.firstContext=null)}function kn(t){var e=t._currentValue;if(Dp!==t)if(t={context:t,memoizedValue:e,next:null},ta===null){if(Iu===null)throw Error(J(308));ta=t,Iu.dependencies={lanes:0,firstContext:t}}else ta=ta.next=t;return e}var li=null;function Mp(t){li===null?li=[t]:li.push(t)}function Eb(t,e,n,s){var r=e.interleaved;return r===null?(n.next=n,Mp(e)):(n.next=r.next,r.next=n),e.interleaved=n,Ps(t,s)}function Ps(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var tr=!1;function Op(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ns(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function gr(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,Pe&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,Ps(t,n)}return r=s.interleaved,r===null?(e.next=e,Mp(s)):(e.next=r.next,r.next=e),s.interleaved=e,Ps(t,n)}function qc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Np(t,n)}}function e0(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?r=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?r=a=e:a=a.next=e}else r=a=e;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ku(t,e,n,s){var r=t.updateQueue;tr=!1;var a=r.firstBaseUpdate,o=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(a!==null){var f=r.baseState;o=0,h=d=c=null,l=a;do{var p=l.lane,v=l.eventTime;if((s&p)===p){h!==null&&(h=h.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var E=t,w=l;switch(p=e,v=n,w.tag){case 1:if(E=w.payload,typeof E=="function"){f=E.call(v,f,p);break e}f=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=w.payload,p=typeof E=="function"?E.call(v,f,p):E,p==null)break e;f=Ze({},f,p);break e;case 2:tr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=r.effects,p===null?r.effects=[l]:p.push(l))}else v={eventTime:v,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=v,c=f):h=h.next=v,o|=p;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;p=l,l=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(h===null&&(c=f),r.baseState=c,r.firstBaseUpdate=d,r.lastBaseUpdate=h,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else a===null&&(r.shared.lanes=0);_i|=o,t.lanes=o,t.memoizedState=f}}function t0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(J(191,r));r.call(s)}}}var Dl={},ns=Ur(Dl),dl=Ur(Dl),hl=Ur(Dl);function ci(t){if(t===Dl)throw Error(J(174));return t}function Fp(t,e){switch(Fe(hl,e),Fe(dl,t),Fe(ns,Dl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ff(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ff(e,t)}We(ns),Fe(ns,e)}function Sa(){We(ns),We(dl),We(hl)}function jb(t){ci(hl.current);var e=ci(ns.current),n=Ff(e,t.type);e!==n&&(Fe(dl,t),Fe(ns,n))}function Up(t){dl.current===t&&(We(ns),We(dl))}var Ye=Ur(0);function Cu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Jh=[];function $p(){for(var t=0;t<Jh.length;t++)Jh[t]._workInProgressVersionPrimary=null;Jh.length=0}var Gc=Fs.ReactCurrentDispatcher,Yh=Fs.ReactCurrentBatchConfig,bi=0,Xe=null,yt=null,Nt=null,Au=!1,Fo=!1,fl=0,mI=0;function Vt(){throw Error(J(321))}function Bp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!zn(t[n],e[n]))return!1;return!0}function zp(t,e,n,s,r,a){if(bi=a,Xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Gc.current=t===null||t.memoizedState===null?xI:vI,t=n(s,r),Fo){a=0;do{if(Fo=!1,fl=0,25<=a)throw Error(J(301));a+=1,Nt=yt=null,e.updateQueue=null,Gc.current=wI,t=n(s,r)}while(Fo)}if(Gc.current=Pu,e=yt!==null&&yt.next!==null,bi=0,Nt=yt=Xe=null,Au=!1,e)throw Error(J(300));return t}function Hp(){var t=fl!==0;return fl=0,t}function Qn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Xe.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function Cn(){if(yt===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var e=Nt===null?Xe.memoizedState:Nt.next;if(e!==null)Nt=e,yt=t;else{if(t===null)throw Error(J(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Nt===null?Xe.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function ml(t,e){return typeof e=="function"?e(t):e}function Qh(t){var e=Cn(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var s=yt,r=s.baseQueue,a=n.pending;if(a!==null){if(r!==null){var o=r.next;r.next=a.next,a.next=o}s.baseQueue=r=a,n.pending=null}if(r!==null){a=r.next,s=s.baseState;var l=o=null,c=null,d=a;do{var h=d.lane;if((bi&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:t(s,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=s):c=c.next=f,Xe.lanes|=h,_i|=h}d=d.next}while(d!==null&&d!==a);c===null?o=s:c.next=l,zn(s,e.memoizedState)||(tn=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=c,n.lastRenderedState=s}if(t=n.interleaved,t!==null){r=t;do a=r.lane,Xe.lanes|=a,_i|=a,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Xh(t){var e=Cn(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var s=n.dispatch,r=n.pending,a=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do a=t(a,o.action),o=o.next;while(o!==r);zn(a,e.memoizedState)||(tn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,s]}function Ib(){}function kb(t,e){var n=Xe,s=Cn(),r=e(),a=!zn(s.memoizedState,r);if(a&&(s.memoizedState=r,tn=!0),s=s.queue,Wp(Pb.bind(null,n,s,t),[t]),s.getSnapshot!==e||a||Nt!==null&&Nt.memoizedState.tag&1){if(n.flags|=2048,pl(9,Ab.bind(null,n,s,r,e),void 0,null),St===null)throw Error(J(349));bi&30||Cb(n,e,r)}return r}function Cb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Ab(t,e,n,s){e.value=n,e.getSnapshot=s,Rb(e)&&Db(t)}function Pb(t,e,n){return n(function(){Rb(e)&&Db(t)})}function Rb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!zn(t,n)}catch{return!0}}function Db(t){var e=Ps(t,1);e!==null&&Un(e,t,1,-1)}function n0(t){var e=Qn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:t},e.queue=t,t=t.dispatch=yI.bind(null,Xe,t),[e.memoizedState,t]}function pl(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function Vb(){return Cn().memoizedState}function Kc(t,e,n,s){var r=Qn();Xe.flags|=t,r.memoizedState=pl(1|e,n,void 0,s===void 0?null:s)}function Td(t,e,n,s){var r=Cn();s=s===void 0?null:s;var a=void 0;if(yt!==null){var o=yt.memoizedState;if(a=o.destroy,s!==null&&Bp(s,o.deps)){r.memoizedState=pl(e,n,a,s);return}}Xe.flags|=t,r.memoizedState=pl(1|e,n,a,s)}function s0(t,e){return Kc(8390656,8,t,e)}function Wp(t,e){return Td(2048,8,t,e)}function Lb(t,e){return Td(4,2,t,e)}function Mb(t,e){return Td(4,4,t,e)}function Ob(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Fb(t,e,n){return n=n!=null?n.concat([t]):null,Td(4,4,Ob.bind(null,e,t),n)}function qp(){}function Ub(t,e){var n=Cn();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Bp(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function $b(t,e){var n=Cn();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Bp(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function Bb(t,e,n){return bi&21?(zn(n,e)||(n=G1(),Xe.lanes|=n,_i|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,tn=!0),t.memoizedState=n)}function pI(t,e){var n=Ve;Ve=n!==0&&4>n?n:4,t(!0);var s=Yh.transition;Yh.transition={};try{t(!1),e()}finally{Ve=n,Yh.transition=s}}function zb(){return Cn().memoizedState}function gI(t,e,n){var s=xr(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Hb(t))Wb(e,n);else if(n=Eb(t,e,n,s),n!==null){var r=Kt();Un(n,t,s,r),qb(n,e,s)}}function yI(t,e,n){var s=xr(t),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hb(t))Wb(e,r);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,n);if(r.hasEagerState=!0,r.eagerState=l,zn(l,o)){var c=e.interleaved;c===null?(r.next=r,Mp(e)):(r.next=c.next,c.next=r),e.interleaved=r;return}}catch{}finally{}n=Eb(t,e,r,s),n!==null&&(r=Kt(),Un(n,t,s,r),qb(n,e,s))}}function Hb(t){var e=t.alternate;return t===Xe||e!==null&&e===Xe}function Wb(t,e){Fo=Au=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function qb(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Np(t,n)}}var Pu={readContext:kn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},xI={readContext:kn,useCallback:function(t,e){return Qn().memoizedState=[t,e===void 0?null:e],t},useContext:kn,useEffect:s0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Kc(4194308,4,Ob.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Kc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Kc(4,2,t,e)},useMemo:function(t,e){var n=Qn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=Qn();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=gI.bind(null,Xe,t),[s.memoizedState,t]},useRef:function(t){var e=Qn();return t={current:t},e.memoizedState=t},useState:n0,useDebugValue:qp,useDeferredValue:function(t){return Qn().memoizedState=t},useTransition:function(){var t=n0(!1),e=t[0];return t=pI.bind(null,t[1]),Qn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=Xe,r=Qn();if(Je){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),St===null)throw Error(J(349));bi&30||Cb(s,e,n)}r.memoizedState=n;var a={value:n,getSnapshot:e};return r.queue=a,s0(Pb.bind(null,s,a,t),[t]),s.flags|=2048,pl(9,Ab.bind(null,s,a,n,e),void 0,null),n},useId:function(){var t=Qn(),e=St.identifierPrefix;if(Je){var n=vs,s=xs;n=(s&~(1<<32-Fn(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=fl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=mI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},vI={readContext:kn,useCallback:Ub,useContext:kn,useEffect:Wp,useImperativeHandle:Fb,useInsertionEffect:Lb,useLayoutEffect:Mb,useMemo:$b,useReducer:Qh,useRef:Vb,useState:function(){return Qh(ml)},useDebugValue:qp,useDeferredValue:function(t){var e=Cn();return Bb(e,yt.memoizedState,t)},useTransition:function(){var t=Qh(ml)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:Ib,useSyncExternalStore:kb,useId:zb,unstable_isNewReconciler:!1},wI={readContext:kn,useCallback:Ub,useContext:kn,useEffect:Wp,useImperativeHandle:Fb,useInsertionEffect:Lb,useLayoutEffect:Mb,useMemo:$b,useReducer:Xh,useRef:Vb,useState:function(){return Xh(ml)},useDebugValue:qp,useDeferredValue:function(t){var e=Cn();return yt===null?e.memoizedState=t:Bb(e,yt.memoizedState,t)},useTransition:function(){var t=Xh(ml)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:Ib,useSyncExternalStore:kb,useId:zb,unstable_isNewReconciler:!1};function Vn(t,e){if(t&&t.defaultProps){e=Ze({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function am(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:Ze({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var jd={isMounted:function(t){return(t=t._reactInternals)?Ri(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=Kt(),r=xr(t),a=Ns(s,r);a.payload=e,n!=null&&(a.callback=n),e=gr(t,a,r),e!==null&&(Un(e,t,r,s),qc(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=Kt(),r=xr(t),a=Ns(s,r);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=gr(t,a,r),e!==null&&(Un(e,t,r,s),qc(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Kt(),s=xr(t),r=Ns(n,s);r.tag=2,e!=null&&(r.callback=e),e=gr(t,r,s),e!==null&&(Un(e,t,s,n),qc(e,t,s))}};function r0(t,e,n,s,r,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,a,o):e.prototype&&e.prototype.isPureReactComponent?!ol(n,s)||!ol(r,a):!0}function Gb(t,e,n){var s=!1,r=Ir,a=e.contextType;return typeof a=="object"&&a!==null?a=kn(a):(r=sn(e)?vi:zt.current,s=e.contextTypes,a=(s=s!=null)?ba(t,r):Ir),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=jd,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=a),e}function i0(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&jd.enqueueReplaceState(e,e.state,null)}function om(t,e,n,s){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Op(t);var a=e.contextType;typeof a=="object"&&a!==null?r.context=kn(a):(a=sn(e)?vi:zt.current,r.context=ba(t,a)),r.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(am(t,e,a,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&jd.enqueueReplaceState(r,r.state,null),ku(t,n,r,s),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Ea(t,e){try{var n="",s=e;do n+=KT(s),s=s.return;while(s);var r=n}catch(a){r=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:r,digest:null}}function Zh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function lm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var bI=typeof WeakMap=="function"?WeakMap:Map;function Kb(t,e,n){n=Ns(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){Du||(Du=!0,xm=s),lm(t,e)},n}function Jb(t,e,n){n=Ns(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var r=e.value;n.payload=function(){return s(r)},n.callback=function(){lm(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){lm(t,e),typeof s!="function"&&(yr===null?yr=new Set([this]):yr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function a0(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new bI;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(n)||(r.add(n),t=VI.bind(null,t,e,n),e.then(t,t))}function o0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function l0(t,e,n,s,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ns(-1,1),e.tag=2,gr(n,e,1))),n.lanes|=1),t)}var _I=Fs.ReactCurrentOwner,tn=!1;function Gt(t,e,n,s){e.child=t===null?Sb(e,null,n,s):Na(e,t.child,n,s)}function c0(t,e,n,s,r){n=n.render;var a=e.ref;return ha(e,r),s=zp(t,e,n,s,a,r),n=Hp(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Rs(t,e,r)):(Je&&n&&Ap(e),e.flags|=1,Gt(t,e,s,r),e.child)}function u0(t,e,n,s,r){if(t===null){var a=n.type;return typeof a=="function"&&!eg(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,Yb(t,e,a,s,r)):(t=Xc(n.type,null,s,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&r)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:ol,n(o,s)&&t.ref===e.ref)return Rs(t,e,r)}return e.flags|=1,t=vr(a,s),t.ref=e.ref,t.return=e,e.child=t}function Yb(t,e,n,s,r){if(t!==null){var a=t.memoizedProps;if(ol(a,s)&&t.ref===e.ref)if(tn=!1,e.pendingProps=s=a,(t.lanes&r)!==0)t.flags&131072&&(tn=!0);else return e.lanes=t.lanes,Rs(t,e,r)}return cm(t,e,n,s,r)}function Qb(t,e,n){var s=e.pendingProps,r=s.children,a=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(sa,ln),ln|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Fe(sa,ln),ln|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,Fe(sa,ln),ln|=s}else a!==null?(s=a.baseLanes|n,e.memoizedState=null):s=n,Fe(sa,ln),ln|=s;return Gt(t,e,r,n),e.child}function Xb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function cm(t,e,n,s,r){var a=sn(n)?vi:zt.current;return a=ba(e,a),ha(e,r),n=zp(t,e,n,s,a,r),s=Hp(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Rs(t,e,r)):(Je&&s&&Ap(e),e.flags|=1,Gt(t,e,n,r),e.child)}function d0(t,e,n,s,r){if(sn(n)){var a=!0;Su(e)}else a=!1;if(ha(e,r),e.stateNode===null)Jc(t,e),Gb(e,n,s),om(e,n,s,r),s=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=kn(d):(d=sn(n)?vi:zt.current,d=ba(e,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==d)&&i0(e,o,s,d),tr=!1;var p=e.memoizedState;o.state=p,ku(e,s,o,r),c=e.memoizedState,l!==s||p!==c||nn.current||tr?(typeof h=="function"&&(am(e,n,h,s),c=e.memoizedState),(l=tr||r0(e,n,l,s,p,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=c),o.props=s,o.state=c,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,Tb(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:Vn(e.type,l),o.props=d,f=e.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=kn(c):(c=sn(n)?vi:zt.current,c=ba(e,c));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||p!==c)&&i0(e,o,s,c),tr=!1,p=e.memoizedState,o.state=p,ku(e,s,o,r);var E=e.memoizedState;l!==f||p!==E||nn.current||tr?(typeof v=="function"&&(am(e,n,v,s),E=e.memoizedState),(d=tr||r0(e,n,d,s,p,E,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,E,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,E,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=E),o.props=s,o.state=E,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),s=!1)}return um(t,e,n,s,a,r)}function um(t,e,n,s,r,a){Xb(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return r&&Yx(e,n,!1),Rs(t,e,a);s=e.stateNode,_I.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=Na(e,t.child,null,a),e.child=Na(e,null,l,a)):Gt(t,e,l,a),e.memoizedState=s.state,r&&Yx(e,n,!0),e.child}function Zb(t){var e=t.stateNode;e.pendingContext?Jx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Jx(t,e.context,!1),Fp(t,e.containerInfo)}function h0(t,e,n,s,r){return _a(),Rp(r),e.flags|=256,Gt(t,e,n,s),e.child}var dm={dehydrated:null,treeContext:null,retryLane:0};function hm(t){return{baseLanes:t,cachePool:null,transitions:null}}function e_(t,e,n){var s=e.pendingProps,r=Ye.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(r&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Fe(Ye,r&1),t===null)return rm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,a?(s=e.mode,a=e.child,o={mode:"hidden",children:o},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Cd(o,s,0,null),t=mi(t,s,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=hm(n),e.memoizedState=dm,t):Gp(e,o));if(r=t.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return NI(t,e,o,s,l,r,n);if(a){a=s.fallback,o=e.mode,r=t.child,l=r.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&e.child!==r?(s=e.child,s.childLanes=0,s.pendingProps=c,e.deletions=null):(s=vr(r,c),s.subtreeFlags=r.subtreeFlags&14680064),l!==null?a=vr(l,a):(a=mi(a,o,n,null),a.flags|=2),a.return=e,s.return=e,s.sibling=a,e.child=s,s=a,a=e.child,o=t.child.memoizedState,o=o===null?hm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=dm,s}return a=t.child,t=a.sibling,s=vr(a,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function Gp(t,e){return e=Cd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function jc(t,e,n,s){return s!==null&&Rp(s),Na(e,t.child,null,n),t=Gp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function NI(t,e,n,s,r,a,o){if(n)return e.flags&256?(e.flags&=-257,s=Zh(Error(J(422))),jc(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=s.fallback,r=e.mode,s=Cd({mode:"visible",children:s.children},r,0,null),a=mi(a,r,o,null),a.flags|=2,s.return=e,a.return=e,s.sibling=a,e.child=s,e.mode&1&&Na(e,t.child,null,o),e.child.memoizedState=hm(o),e.memoizedState=dm,a);if(!(e.mode&1))return jc(t,e,o,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var l=s.dgst;return s=l,a=Error(J(419)),s=Zh(a,s,void 0),jc(t,e,o,s)}if(l=(o&t.childLanes)!==0,tn||l){if(s=St,s!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|o)?0:r,r!==0&&r!==a.retryLane&&(a.retryLane=r,Ps(t,r),Un(s,t,r,-1))}return Zp(),s=Zh(Error(J(421))),jc(t,e,o,s)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=LI.bind(null,t),r._reactRetry=e,null):(t=a.treeContext,hn=pr(r.nextSibling),mn=e,Je=!0,Mn=null,t!==null&&(Nn[Sn++]=xs,Nn[Sn++]=vs,Nn[Sn++]=wi,xs=t.id,vs=t.overflow,wi=e),e=Gp(e,s.children),e.flags|=4096,e)}function f0(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),im(t.return,e,n)}function ef(t,e,n,s,r){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=r)}function t_(t,e,n){var s=e.pendingProps,r=s.revealOrder,a=s.tail;if(Gt(t,e,s.children,n),s=Ye.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&f0(t,n,e);else if(t.tag===19)f0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(Fe(Ye,s),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Cu(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),ef(e,!1,r,n,a);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Cu(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}ef(e,!0,n,null,a);break;case"together":ef(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Jc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Rs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_i|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=vr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=vr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function SI(t,e,n){switch(e.tag){case 3:Zb(e),_a();break;case 5:jb(e);break;case 1:sn(e.type)&&Su(e);break;case 4:Fp(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,r=e.memoizedProps.value;Fe(ju,s._currentValue),s._currentValue=r;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(Fe(Ye,Ye.current&1),e.flags|=128,null):n&e.child.childLanes?e_(t,e,n):(Fe(Ye,Ye.current&1),t=Rs(t,e,n),t!==null?t.sibling:null);Fe(Ye,Ye.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return t_(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Fe(Ye,Ye.current),s)break;return null;case 22:case 23:return e.lanes=0,Qb(t,e,n)}return Rs(t,e,n)}var n_,fm,s_,r_;n_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fm=function(){};s_=function(t,e,n,s){var r=t.memoizedProps;if(r!==s){t=e.stateNode,ci(ns.current);var a=null;switch(n){case"input":r=Vf(t,r),s=Vf(t,s),a=[];break;case"select":r=Ze({},r,{value:void 0}),s=Ze({},s,{value:void 0}),a=[];break;case"textarea":r=Of(t,r),s=Of(t,s),a=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=_u)}Uf(n,s);var o;n=null;for(d in r)if(!s.hasOwnProperty(d)&&r.hasOwnProperty(d)&&r[d]!=null)if(d==="style"){var l=r[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(el.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in s){var c=s[d];if(l=r!=null?r[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(el.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Be("scroll",t),a||l===c||(a=[])):(a=a||[]).push(d,c))}n&&(a=a||[]).push("style",n);var d=a;(e.updateQueue=d)&&(e.flags|=4)}};r_=function(t,e,n,s){n!==s&&(e.flags|=4)};function vo(t,e){if(!Je)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Lt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function EI(t,e,n){var s=e.pendingProps;switch(Pp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(e),null;case 1:return sn(e.type)&&Nu(),Lt(e),null;case 3:return s=e.stateNode,Sa(),We(nn),We(zt),$p(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Ec(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Mn!==null&&(bm(Mn),Mn=null))),fm(t,e),Lt(e),null;case 5:Up(e);var r=ci(hl.current);if(n=e.type,t!==null&&e.stateNode!=null)s_(t,e,n,s,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(J(166));return Lt(e),null}if(t=ci(ns.current),Ec(e)){s=e.stateNode,n=e.type;var a=e.memoizedProps;switch(s[Zn]=e,s[ul]=a,t=(e.mode&1)!==0,n){case"dialog":Be("cancel",s),Be("close",s);break;case"iframe":case"object":case"embed":Be("load",s);break;case"video":case"audio":for(r=0;r<To.length;r++)Be(To[r],s);break;case"source":Be("error",s);break;case"img":case"image":case"link":Be("error",s),Be("load",s);break;case"details":Be("toggle",s);break;case"input":_x(s,a),Be("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},Be("invalid",s);break;case"textarea":Sx(s,a),Be("invalid",s)}Uf(n,a),r=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?s.textContent!==l&&(a.suppressHydrationWarning!==!0&&Sc(s.textContent,l,t),r=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Sc(s.textContent,l,t),r=["children",""+l]):el.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Be("scroll",s)}switch(n){case"input":gc(s),Nx(s,a,!0);break;case"textarea":gc(s),Ex(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=_u)}s=r,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=P1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(n,{is:s.is}):(t=o.createElement(n),n==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,n),t[Zn]=e,t[ul]=s,n_(t,e,!1,!1),e.stateNode=t;e:{switch(o=$f(n,s),n){case"dialog":Be("cancel",t),Be("close",t),r=s;break;case"iframe":case"object":case"embed":Be("load",t),r=s;break;case"video":case"audio":for(r=0;r<To.length;r++)Be(To[r],t);r=s;break;case"source":Be("error",t),r=s;break;case"img":case"image":case"link":Be("error",t),Be("load",t),r=s;break;case"details":Be("toggle",t),r=s;break;case"input":_x(t,s),r=Vf(t,s),Be("invalid",t);break;case"option":r=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},r=Ze({},s,{value:void 0}),Be("invalid",t);break;case"textarea":Sx(t,s),r=Of(t,s),Be("invalid",t);break;default:r=s}Uf(n,r),l=r;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?V1(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&R1(t,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&tl(t,c):typeof c=="number"&&tl(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(el.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Be("scroll",t):c!=null&&yp(t,a,c,o))}switch(n){case"input":gc(t),Nx(t,s,!1);break;case"textarea":gc(t),Ex(t);break;case"option":s.value!=null&&t.setAttribute("value",""+jr(s.value));break;case"select":t.multiple=!!s.multiple,a=s.value,a!=null?la(t,!!s.multiple,a,!1):s.defaultValue!=null&&la(t,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=_u)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Lt(e),null;case 6:if(t&&e.stateNode!=null)r_(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(J(166));if(n=ci(hl.current),ci(ns.current),Ec(e)){if(s=e.stateNode,n=e.memoizedProps,s[Zn]=e,(a=s.nodeValue!==n)&&(t=mn,t!==null))switch(t.tag){case 3:Sc(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Sc(s.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Zn]=e,e.stateNode=s}return Lt(e),null;case 13:if(We(Ye),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Je&&hn!==null&&e.mode&1&&!(e.flags&128))_b(),_a(),e.flags|=98560,a=!1;else if(a=Ec(e),s!==null&&s.dehydrated!==null){if(t===null){if(!a)throw Error(J(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(J(317));a[Zn]=e}else _a(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Lt(e),a=!1}else Mn!==null&&(bm(Mn),Mn=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||Ye.current&1?xt===0&&(xt=3):Zp())),e.updateQueue!==null&&(e.flags|=4),Lt(e),null);case 4:return Sa(),fm(t,e),t===null&&ll(e.stateNode.containerInfo),Lt(e),null;case 10:return Lp(e.type._context),Lt(e),null;case 17:return sn(e.type)&&Nu(),Lt(e),null;case 19:if(We(Ye),a=e.memoizedState,a===null)return Lt(e),null;if(s=(e.flags&128)!==0,o=a.rendering,o===null)if(s)vo(a,!1);else{if(xt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Cu(t),o!==null){for(e.flags|=128,vo(a,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)a=n,t=s,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Fe(Ye,Ye.current&1|2),e.child}t=t.sibling}a.tail!==null&&at()>Ta&&(e.flags|=128,s=!0,vo(a,!1),e.lanes=4194304)}else{if(!s)if(t=Cu(o),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),vo(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Je)return Lt(e),null}else 2*at()-a.renderingStartTime>Ta&&n!==1073741824&&(e.flags|=128,s=!0,vo(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=at(),e.sibling=null,n=Ye.current,Fe(Ye,s?n&1|2:n&1),e):(Lt(e),null);case 22:case 23:return Xp(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?ln&1073741824&&(Lt(e),e.subtreeFlags&6&&(e.flags|=8192)):Lt(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function TI(t,e){switch(Pp(e),e.tag){case 1:return sn(e.type)&&Nu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Sa(),We(nn),We(zt),$p(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Up(e),null;case 13:if(We(Ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));_a()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return We(Ye),null;case 4:return Sa(),null;case 10:return Lp(e.type._context),null;case 22:case 23:return Xp(),null;case 24:return null;default:return null}}var Ic=!1,Ut=!1,jI=typeof WeakSet=="function"?WeakSet:Set,se=null;function na(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){nt(t,e,s)}else n.current=null}function mm(t,e,n){try{n()}catch(s){nt(t,e,s)}}var m0=!1;function II(t,e){if(Qf=vu,t=cb(),Cp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,h=0,f=t,p=null;t:for(;;){for(var v;f!==n||r!==0&&f.nodeType!==3||(l=o+r),f!==a||s!==0&&f.nodeType!==3||(c=o+s),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)p=f,f=v;for(;;){if(f===t)break t;if(p===n&&++d===r&&(l=o),p===a&&++h===s&&(c=o),(v=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=v}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xf={focusedElem:t,selectionRange:n},vu=!1,se=e;se!==null;)if(e=se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,se=t;else for(;se!==null;){e=se;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var w=E.memoizedProps,k=E.memoizedState,S=e.stateNode,y=S.getSnapshotBeforeUpdate(e.elementType===e.type?w:Vn(e.type,w),k);S.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(P){nt(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}return E=m0,m0=!1,E}function Uo(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var a=r.destroy;r.destroy=void 0,a!==void 0&&mm(e,n,a)}r=r.next}while(r!==s)}}function Id(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function pm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function i_(t){var e=t.alternate;e!==null&&(t.alternate=null,i_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Zn],delete e[ul],delete e[tm],delete e[uI],delete e[dI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function a_(t){return t.tag===5||t.tag===3||t.tag===4}function p0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||a_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gm(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=_u));else if(s!==4&&(t=t.child,t!==null))for(gm(t,e,n),t=t.sibling;t!==null;)gm(t,e,n),t=t.sibling}function ym(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(ym(t,e,n),t=t.sibling;t!==null;)ym(t,e,n),t=t.sibling}var jt=null,Ln=!1;function Qs(t,e,n){for(n=n.child;n!==null;)o_(t,e,n),n=n.sibling}function o_(t,e,n){if(ts&&typeof ts.onCommitFiberUnmount=="function")try{ts.onCommitFiberUnmount(wd,n)}catch{}switch(n.tag){case 5:Ut||na(n,e);case 6:var s=jt,r=Ln;jt=null,Qs(t,e,n),jt=s,Ln=r,jt!==null&&(Ln?(t=jt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):jt.removeChild(n.stateNode));break;case 18:jt!==null&&(Ln?(t=jt,n=n.stateNode,t.nodeType===8?Gh(t.parentNode,n):t.nodeType===1&&Gh(t,n),il(t)):Gh(jt,n.stateNode));break;case 4:s=jt,r=Ln,jt=n.stateNode.containerInfo,Ln=!0,Qs(t,e,n),jt=s,Ln=r;break;case 0:case 11:case 14:case 15:if(!Ut&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var a=r,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&mm(n,e,o),r=r.next}while(r!==s)}Qs(t,e,n);break;case 1:if(!Ut&&(na(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){nt(n,e,l)}Qs(t,e,n);break;case 21:Qs(t,e,n);break;case 22:n.mode&1?(Ut=(s=Ut)||n.memoizedState!==null,Qs(t,e,n),Ut=s):Qs(t,e,n);break;default:Qs(t,e,n)}}function g0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new jI),e.forEach(function(s){var r=MI.bind(null,t,s);n.has(s)||(n.add(s),s.then(r,r))})}}function Dn(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:jt=l.stateNode,Ln=!1;break e;case 3:jt=l.stateNode.containerInfo,Ln=!0;break e;case 4:jt=l.stateNode.containerInfo,Ln=!0;break e}l=l.return}if(jt===null)throw Error(J(160));o_(a,o,r),jt=null,Ln=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(d){nt(r,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)l_(e,t),e=e.sibling}function l_(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Dn(e,t),Yn(t),s&4){try{Uo(3,t,t.return),Id(3,t)}catch(w){nt(t,t.return,w)}try{Uo(5,t,t.return)}catch(w){nt(t,t.return,w)}}break;case 1:Dn(e,t),Yn(t),s&512&&n!==null&&na(n,n.return);break;case 5:if(Dn(e,t),Yn(t),s&512&&n!==null&&na(n,n.return),t.flags&32){var r=t.stateNode;try{tl(r,"")}catch(w){nt(t,t.return,w)}}if(s&4&&(r=t.stateNode,r!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&C1(r,a),$f(l,o);var d=$f(l,a);for(o=0;o<c.length;o+=2){var h=c[o],f=c[o+1];h==="style"?V1(r,f):h==="dangerouslySetInnerHTML"?R1(r,f):h==="children"?tl(r,f):yp(r,h,f,d)}switch(l){case"input":Lf(r,a);break;case"textarea":A1(r,a);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?la(r,!!a.multiple,v,!1):p!==!!a.multiple&&(a.defaultValue!=null?la(r,!!a.multiple,a.defaultValue,!0):la(r,!!a.multiple,a.multiple?[]:"",!1))}r[ul]=a}catch(w){nt(t,t.return,w)}}break;case 6:if(Dn(e,t),Yn(t),s&4){if(t.stateNode===null)throw Error(J(162));r=t.stateNode,a=t.memoizedProps;try{r.nodeValue=a}catch(w){nt(t,t.return,w)}}break;case 3:if(Dn(e,t),Yn(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{il(e.containerInfo)}catch(w){nt(t,t.return,w)}break;case 4:Dn(e,t),Yn(t);break;case 13:Dn(e,t),Yn(t),r=t.child,r.flags&8192&&(a=r.memoizedState!==null,r.stateNode.isHidden=a,!a||r.alternate!==null&&r.alternate.memoizedState!==null||(Yp=at())),s&4&&g0(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Ut=(d=Ut)||h,Dn(e,t),Ut=d):Dn(e,t),Yn(t),s&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(se=t,h=t.child;h!==null;){for(f=se=h;se!==null;){switch(p=se,v=p.child,p.tag){case 0:case 11:case 14:case 15:Uo(4,p,p.return);break;case 1:na(p,p.return);var E=p.stateNode;if(typeof E.componentWillUnmount=="function"){s=p,n=p.return;try{e=s,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(w){nt(s,n,w)}}break;case 5:na(p,p.return);break;case 22:if(p.memoizedState!==null){x0(f);continue}}v!==null?(v.return=p,se=v):x0(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{r=f.stateNode,d?(a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=D1("display",o))}catch(w){nt(t,t.return,w)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(w){nt(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Dn(e,t),Yn(t),s&4&&g0(t);break;case 21:break;default:Dn(e,t),Yn(t)}}function Yn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(a_(n)){var s=n;break e}n=n.return}throw Error(J(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(tl(r,""),s.flags&=-33);var a=p0(t);ym(t,a,r);break;case 3:case 4:var o=s.stateNode.containerInfo,l=p0(t);gm(t,l,o);break;default:throw Error(J(161))}}catch(c){nt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function kI(t,e,n){se=t,c_(t)}function c_(t,e,n){for(var s=(t.mode&1)!==0;se!==null;){var r=se,a=r.child;if(r.tag===22&&s){var o=r.memoizedState!==null||Ic;if(!o){var l=r.alternate,c=l!==null&&l.memoizedState!==null||Ut;l=Ic;var d=Ut;if(Ic=o,(Ut=c)&&!d)for(se=r;se!==null;)o=se,c=o.child,o.tag===22&&o.memoizedState!==null?v0(r):c!==null?(c.return=o,se=c):v0(r);for(;a!==null;)se=a,c_(a),a=a.sibling;se=r,Ic=l,Ut=d}y0(t)}else r.subtreeFlags&8772&&a!==null?(a.return=r,se=a):y0(t)}}function y0(t){for(;se!==null;){var e=se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ut||Id(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!Ut)if(n===null)s.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Vn(e.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&t0(e,a,s);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}t0(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&il(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Ut||e.flags&512&&pm(e)}catch(p){nt(e,e.return,p)}}if(e===t){se=null;break}if(n=e.sibling,n!==null){n.return=e.return,se=n;break}se=e.return}}function x0(t){for(;se!==null;){var e=se;if(e===t){se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,se=n;break}se=e.return}}function v0(t){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Id(4,e)}catch(c){nt(e,n,c)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var r=e.return;try{s.componentDidMount()}catch(c){nt(e,r,c)}}var a=e.return;try{pm(e)}catch(c){nt(e,a,c)}break;case 5:var o=e.return;try{pm(e)}catch(c){nt(e,o,c)}}}catch(c){nt(e,e.return,c)}if(e===t){se=null;break}var l=e.sibling;if(l!==null){l.return=e.return,se=l;break}se=e.return}}var CI=Math.ceil,Ru=Fs.ReactCurrentDispatcher,Kp=Fs.ReactCurrentOwner,jn=Fs.ReactCurrentBatchConfig,Pe=0,St=null,dt=null,At=0,ln=0,sa=Ur(0),xt=0,gl=null,_i=0,kd=0,Jp=0,$o=null,Zt=null,Yp=0,Ta=1/0,ps=null,Du=!1,xm=null,yr=null,kc=!1,ur=null,Vu=0,Bo=0,vm=null,Yc=-1,Qc=0;function Kt(){return Pe&6?at():Yc!==-1?Yc:Yc=at()}function xr(t){return t.mode&1?Pe&2&&At!==0?At&-At:fI.transition!==null?(Qc===0&&(Qc=G1()),Qc):(t=Ve,t!==0||(t=window.event,t=t===void 0?16:eb(t.type)),t):1}function Un(t,e,n,s){if(50<Bo)throw Bo=0,vm=null,Error(J(185));Al(t,n,s),(!(Pe&2)||t!==St)&&(t===St&&(!(Pe&2)&&(kd|=n),xt===4&&rr(t,At)),rn(t,s),n===1&&Pe===0&&!(e.mode&1)&&(Ta=at()+500,Ed&&$r()))}function rn(t,e){var n=t.callbackNode;fj(t,e);var s=xu(t,t===St?At:0);if(s===0)n!==null&&Ix(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&Ix(n),e===1)t.tag===0?hI(w0.bind(null,t)):vb(w0.bind(null,t)),lI(function(){!(Pe&6)&&$r()}),n=null;else{switch(K1(s)){case 1:n=_p;break;case 4:n=W1;break;case 16:n=yu;break;case 536870912:n=q1;break;default:n=yu}n=y_(n,u_.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function u_(t,e){if(Yc=-1,Qc=0,Pe&6)throw Error(J(327));var n=t.callbackNode;if(fa()&&t.callbackNode!==n)return null;var s=xu(t,t===St?At:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=Lu(t,s);else{e=s;var r=Pe;Pe|=2;var a=h_();(St!==t||At!==e)&&(ps=null,Ta=at()+500,fi(t,e));do try{RI();break}catch(l){d_(t,l)}while(!0);Vp(),Ru.current=a,Pe=r,dt!==null?e=0:(St=null,At=0,e=xt)}if(e!==0){if(e===2&&(r=qf(t),r!==0&&(s=r,e=wm(t,r))),e===1)throw n=gl,fi(t,0),rr(t,s),rn(t,at()),n;if(e===6)rr(t,s);else{if(r=t.current.alternate,!(s&30)&&!AI(r)&&(e=Lu(t,s),e===2&&(a=qf(t),a!==0&&(s=a,e=wm(t,a))),e===1))throw n=gl,fi(t,0),rr(t,s),rn(t,at()),n;switch(t.finishedWork=r,t.finishedLanes=s,e){case 0:case 1:throw Error(J(345));case 2:ni(t,Zt,ps);break;case 3:if(rr(t,s),(s&130023424)===s&&(e=Yp+500-at(),10<e)){if(xu(t,0)!==0)break;if(r=t.suspendedLanes,(r&s)!==s){Kt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=em(ni.bind(null,t,Zt,ps),e);break}ni(t,Zt,ps);break;case 4:if(rr(t,s),(s&4194240)===s)break;for(e=t.eventTimes,r=-1;0<s;){var o=31-Fn(s);a=1<<o,o=e[o],o>r&&(r=o),s&=~a}if(s=r,s=at()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*CI(s/1960))-s,10<s){t.timeoutHandle=em(ni.bind(null,t,Zt,ps),s);break}ni(t,Zt,ps);break;case 5:ni(t,Zt,ps);break;default:throw Error(J(329))}}}return rn(t,at()),t.callbackNode===n?u_.bind(null,t):null}function wm(t,e){var n=$o;return t.current.memoizedState.isDehydrated&&(fi(t,e).flags|=256),t=Lu(t,e),t!==2&&(e=Zt,Zt=n,e!==null&&bm(e)),t}function bm(t){Zt===null?Zt=t:Zt.push.apply(Zt,t)}function AI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],a=r.getSnapshot;r=r.value;try{if(!zn(a(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function rr(t,e){for(e&=~Jp,e&=~kd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Fn(e),s=1<<n;t[n]=-1,e&=~s}}function w0(t){if(Pe&6)throw Error(J(327));fa();var e=xu(t,0);if(!(e&1))return rn(t,at()),null;var n=Lu(t,e);if(t.tag!==0&&n===2){var s=qf(t);s!==0&&(e=s,n=wm(t,s))}if(n===1)throw n=gl,fi(t,0),rr(t,e),rn(t,at()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ni(t,Zt,ps),rn(t,at()),null}function Qp(t,e){var n=Pe;Pe|=1;try{return t(e)}finally{Pe=n,Pe===0&&(Ta=at()+500,Ed&&$r())}}function Ni(t){ur!==null&&ur.tag===0&&!(Pe&6)&&fa();var e=Pe;Pe|=1;var n=jn.transition,s=Ve;try{if(jn.transition=null,Ve=1,t)return t()}finally{Ve=s,jn.transition=n,Pe=e,!(Pe&6)&&$r()}}function Xp(){ln=sa.current,We(sa)}function fi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,oI(n)),dt!==null)for(n=dt.return;n!==null;){var s=n;switch(Pp(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Nu();break;case 3:Sa(),We(nn),We(zt),$p();break;case 5:Up(s);break;case 4:Sa();break;case 13:We(Ye);break;case 19:We(Ye);break;case 10:Lp(s.type._context);break;case 22:case 23:Xp()}n=n.return}if(St=t,dt=t=vr(t.current,null),At=ln=e,xt=0,gl=null,Jp=kd=_i=0,Zt=$o=null,li!==null){for(e=0;e<li.length;e++)if(n=li[e],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,a=n.pending;if(a!==null){var o=a.next;a.next=r,s.next=o}n.pending=s}li=null}return t}function d_(t,e){do{var n=dt;try{if(Vp(),Gc.current=Pu,Au){for(var s=Xe.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Au=!1}if(bi=0,Nt=yt=Xe=null,Fo=!1,fl=0,Kp.current=null,n===null||n.return===null){xt=1,gl=e,dt=null;break}e:{var a=t,o=n.return,l=n,c=e;if(e=At,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=o0(o);if(v!==null){v.flags&=-257,l0(v,o,l,a,e),v.mode&1&&a0(a,d,e),e=v,c=d;var E=e.updateQueue;if(E===null){var w=new Set;w.add(c),e.updateQueue=w}else E.add(c);break e}else{if(!(e&1)){a0(a,d,e),Zp();break e}c=Error(J(426))}}else if(Je&&l.mode&1){var k=o0(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),l0(k,o,l,a,e),Rp(Ea(c,l));break e}}a=c=Ea(c,l),xt!==4&&(xt=2),$o===null?$o=[a]:$o.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var S=Kb(a,c,e);e0(a,S);break e;case 1:l=c;var y=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(yr===null||!yr.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e;var P=Jb(a,l,e);e0(a,P);break e}}a=a.return}while(a!==null)}m_(n)}catch(M){e=M,dt===n&&n!==null&&(dt=n=n.return);continue}break}while(!0)}function h_(){var t=Ru.current;return Ru.current=Pu,t===null?Pu:t}function Zp(){(xt===0||xt===3||xt===2)&&(xt=4),St===null||!(_i&268435455)&&!(kd&268435455)||rr(St,At)}function Lu(t,e){var n=Pe;Pe|=2;var s=h_();(St!==t||At!==e)&&(ps=null,fi(t,e));do try{PI();break}catch(r){d_(t,r)}while(!0);if(Vp(),Pe=n,Ru.current=s,dt!==null)throw Error(J(261));return St=null,At=0,xt}function PI(){for(;dt!==null;)f_(dt)}function RI(){for(;dt!==null&&!rj();)f_(dt)}function f_(t){var e=g_(t.alternate,t,ln);t.memoizedProps=t.pendingProps,e===null?m_(t):dt=e,Kp.current=null}function m_(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=TI(n,e),n!==null){n.flags&=32767,dt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xt=6,dt=null;return}}else if(n=EI(n,e,ln),n!==null){dt=n;return}if(e=e.sibling,e!==null){dt=e;return}dt=e=t}while(e!==null);xt===0&&(xt=5)}function ni(t,e,n){var s=Ve,r=jn.transition;try{jn.transition=null,Ve=1,DI(t,e,n,s)}finally{jn.transition=r,Ve=s}return null}function DI(t,e,n,s){do fa();while(ur!==null);if(Pe&6)throw Error(J(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(mj(t,a),t===St&&(dt=St=null,At=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||kc||(kc=!0,y_(yu,function(){return fa(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=jn.transition,jn.transition=null;var o=Ve;Ve=1;var l=Pe;Pe|=4,Kp.current=null,II(t,n),l_(n,t),eI(Xf),vu=!!Qf,Xf=Qf=null,t.current=n,kI(n),ij(),Pe=l,Ve=o,jn.transition=a}else t.current=n;if(kc&&(kc=!1,ur=t,Vu=r),a=t.pendingLanes,a===0&&(yr=null),lj(n.stateNode),rn(t,at()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(Du)throw Du=!1,t=xm,xm=null,t;return Vu&1&&t.tag!==0&&fa(),a=t.pendingLanes,a&1?t===vm?Bo++:(Bo=0,vm=t):Bo=0,$r(),null}function fa(){if(ur!==null){var t=K1(Vu),e=jn.transition,n=Ve;try{if(jn.transition=null,Ve=16>t?16:t,ur===null)var s=!1;else{if(t=ur,ur=null,Vu=0,Pe&6)throw Error(J(331));var r=Pe;for(Pe|=4,se=t.current;se!==null;){var a=se,o=a.child;if(se.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(se=d;se!==null;){var h=se;switch(h.tag){case 0:case 11:case 15:Uo(8,h,a)}var f=h.child;if(f!==null)f.return=h,se=f;else for(;se!==null;){h=se;var p=h.sibling,v=h.return;if(i_(h),h===d){se=null;break}if(p!==null){p.return=v,se=p;break}se=v}}}var E=a.alternate;if(E!==null){var w=E.child;if(w!==null){E.child=null;do{var k=w.sibling;w.sibling=null,w=k}while(w!==null)}}se=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,se=o;else e:for(;se!==null;){if(a=se,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Uo(9,a,a.return)}var S=a.sibling;if(S!==null){S.return=a.return,se=S;break e}se=a.return}}var y=t.current;for(se=y;se!==null;){o=se;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,se=b;else e:for(o=y;se!==null;){if(l=se,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Id(9,l)}}catch(M){nt(l,l.return,M)}if(l===o){se=null;break e}var P=l.sibling;if(P!==null){P.return=l.return,se=P;break e}se=l.return}}if(Pe=r,$r(),ts&&typeof ts.onPostCommitFiberRoot=="function")try{ts.onPostCommitFiberRoot(wd,t)}catch{}s=!0}return s}finally{Ve=n,jn.transition=e}}return!1}function b0(t,e,n){e=Ea(n,e),e=Kb(t,e,1),t=gr(t,e,1),e=Kt(),t!==null&&(Al(t,1,e),rn(t,e))}function nt(t,e,n){if(t.tag===3)b0(t,t,n);else for(;e!==null;){if(e.tag===3){b0(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(yr===null||!yr.has(s))){t=Ea(n,t),t=Jb(e,t,1),e=gr(e,t,1),t=Kt(),e!==null&&(Al(e,1,t),rn(e,t));break}}e=e.return}}function VI(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=Kt(),t.pingedLanes|=t.suspendedLanes&n,St===t&&(At&n)===n&&(xt===4||xt===3&&(At&130023424)===At&&500>at()-Yp?fi(t,0):Jp|=n),rn(t,e)}function p_(t,e){e===0&&(t.mode&1?(e=vc,vc<<=1,!(vc&130023424)&&(vc=4194304)):e=1);var n=Kt();t=Ps(t,e),t!==null&&(Al(t,e,n),rn(t,n))}function LI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),p_(t,n)}function MI(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(J(314))}s!==null&&s.delete(e),p_(t,n)}var g_;g_=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||nn.current)tn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return tn=!1,SI(t,e,n);tn=!!(t.flags&131072)}else tn=!1,Je&&e.flags&1048576&&wb(e,Tu,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;Jc(t,e),t=e.pendingProps;var r=ba(e,zt.current);ha(e,n),r=zp(null,e,s,t,r,n);var a=Hp();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,sn(s)?(a=!0,Su(e)):a=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Op(e),r.updater=jd,e.stateNode=r,r._reactInternals=e,om(e,s,t,n),e=um(null,e,s,!0,a,n)):(e.tag=0,Je&&a&&Ap(e),Gt(null,e,r,n),e=e.child),e;case 16:s=e.elementType;e:{switch(Jc(t,e),t=e.pendingProps,r=s._init,s=r(s._payload),e.type=s,r=e.tag=FI(s),t=Vn(s,t),r){case 0:e=cm(null,e,s,t,n);break e;case 1:e=d0(null,e,s,t,n);break e;case 11:e=c0(null,e,s,t,n);break e;case 14:e=u0(null,e,s,Vn(s.type,t),n);break e}throw Error(J(306,s,""))}return e;case 0:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Vn(s,r),cm(t,e,s,r,n);case 1:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Vn(s,r),d0(t,e,s,r,n);case 3:e:{if(Zb(e),t===null)throw Error(J(387));s=e.pendingProps,a=e.memoizedState,r=a.element,Tb(t,e),ku(e,s,null,n);var o=e.memoizedState;if(s=o.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){r=Ea(Error(J(423)),e),e=h0(t,e,s,n,r);break e}else if(s!==r){r=Ea(Error(J(424)),e),e=h0(t,e,s,n,r);break e}else for(hn=pr(e.stateNode.containerInfo.firstChild),mn=e,Je=!0,Mn=null,n=Sb(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_a(),s===r){e=Rs(t,e,n);break e}Gt(t,e,s,n)}e=e.child}return e;case 5:return jb(e),t===null&&rm(e),s=e.type,r=e.pendingProps,a=t!==null?t.memoizedProps:null,o=r.children,Zf(s,r)?o=null:a!==null&&Zf(s,a)&&(e.flags|=32),Xb(t,e),Gt(t,e,o,n),e.child;case 6:return t===null&&rm(e),null;case 13:return e_(t,e,n);case 4:return Fp(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=Na(e,null,s,n):Gt(t,e,s,n),e.child;case 11:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Vn(s,r),c0(t,e,s,r,n);case 7:return Gt(t,e,e.pendingProps,n),e.child;case 8:return Gt(t,e,e.pendingProps.children,n),e.child;case 12:return Gt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,r=e.pendingProps,a=e.memoizedProps,o=r.value,Fe(ju,s._currentValue),s._currentValue=o,a!==null)if(zn(a.value,o)){if(a.children===r.children&&!nn.current){e=Rs(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(a.tag===1){c=Ns(-1,n&-n),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),im(a.return,n,e),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(J(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),im(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Gt(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,s=e.pendingProps.children,ha(e,n),r=kn(r),s=s(r),e.flags|=1,Gt(t,e,s,n),e.child;case 14:return s=e.type,r=Vn(s,e.pendingProps),r=Vn(s.type,r),u0(t,e,s,r,n);case 15:return Yb(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Vn(s,r),Jc(t,e),e.tag=1,sn(s)?(t=!0,Su(e)):t=!1,ha(e,n),Gb(e,s,r),om(e,s,r,n),um(null,e,s,!0,t,n);case 19:return t_(t,e,n);case 22:return Qb(t,e,n)}throw Error(J(156,e.tag))};function y_(t,e){return H1(t,e)}function OI(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,e,n,s){return new OI(t,e,n,s)}function eg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function FI(t){if(typeof t=="function")return eg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===vp)return 11;if(t===wp)return 14}return 2}function vr(t,e){var n=t.alternate;return n===null?(n=Tn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Xc(t,e,n,s,r,a){var o=2;if(s=t,typeof t=="function")eg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Gi:return mi(n.children,r,a,e);case xp:o=8,r|=8;break;case Af:return t=Tn(12,n,e,r|2),t.elementType=Af,t.lanes=a,t;case Pf:return t=Tn(13,n,e,r),t.elementType=Pf,t.lanes=a,t;case Rf:return t=Tn(19,n,e,r),t.elementType=Rf,t.lanes=a,t;case j1:return Cd(n,r,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case E1:o=10;break e;case T1:o=9;break e;case vp:o=11;break e;case wp:o=14;break e;case er:o=16,s=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=Tn(o,n,e,r),e.elementType=t,e.type=s,e.lanes=a,e}function mi(t,e,n,s){return t=Tn(7,t,s,e),t.lanes=n,t}function Cd(t,e,n,s){return t=Tn(22,t,s,e),t.elementType=j1,t.lanes=n,t.stateNode={isHidden:!1},t}function tf(t,e,n){return t=Tn(6,t,null,e),t.lanes=n,t}function nf(t,e,n){return e=Tn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function UI(t,e,n,s,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lh(0),this.expirationTimes=Lh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lh(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function tg(t,e,n,s,r,a,o,l,c){return t=new UI(t,e,n,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Tn(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Op(a),t}function $I(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qi,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function x_(t){if(!t)return Ir;t=t._reactInternals;e:{if(Ri(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(sn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(sn(n))return xb(t,n,e)}return e}function v_(t,e,n,s,r,a,o,l,c){return t=tg(n,s,!0,t,r,a,o,l,c),t.context=x_(null),n=t.current,s=Kt(),r=xr(n),a=Ns(s,r),a.callback=e??null,gr(n,a,r),t.current.lanes=r,Al(t,r,s),rn(t,s),t}function Ad(t,e,n,s){var r=e.current,a=Kt(),o=xr(r);return n=x_(n),e.context===null?e.context=n:e.pendingContext=n,e=Ns(a,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=gr(r,e,o),t!==null&&(Un(t,r,o,a),qc(t,r,o)),o}function Mu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function _0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ng(t,e){_0(t,e),(t=t.alternate)&&_0(t,e)}function BI(){return null}var w_=typeof reportError=="function"?reportError:function(t){console.error(t)};function sg(t){this._internalRoot=t}Pd.prototype.render=sg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));Ad(t,e,null,null)};Pd.prototype.unmount=sg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ni(function(){Ad(null,t,null,null)}),e[As]=null}};function Pd(t){this._internalRoot=t}Pd.prototype.unstable_scheduleHydration=function(t){if(t){var e=Q1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<sr.length&&e!==0&&e<sr[n].priority;n++);sr.splice(n,0,t),n===0&&Z1(t)}};function rg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Rd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function N0(){}function zI(t,e,n,s,r){if(r){if(typeof s=="function"){var a=s;s=function(){var d=Mu(o);a.call(d)}}var o=v_(e,s,t,0,null,!1,!1,"",N0);return t._reactRootContainer=o,t[As]=o.current,ll(t.nodeType===8?t.parentNode:t),Ni(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof s=="function"){var l=s;s=function(){var d=Mu(c);l.call(d)}}var c=tg(t,0,!1,null,null,!1,!1,"",N0);return t._reactRootContainer=c,t[As]=c.current,ll(t.nodeType===8?t.parentNode:t),Ni(function(){Ad(e,c,n,s)}),c}function Dd(t,e,n,s,r){var a=n._reactRootContainer;if(a){var o=a;if(typeof r=="function"){var l=r;r=function(){var c=Mu(o);l.call(c)}}Ad(e,o,t,r)}else o=zI(n,e,t,r,s);return Mu(o)}J1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Eo(e.pendingLanes);n!==0&&(Np(e,n|1),rn(e,at()),!(Pe&6)&&(Ta=at()+500,$r()))}break;case 13:Ni(function(){var s=Ps(t,1);if(s!==null){var r=Kt();Un(s,t,1,r)}}),ng(t,1)}};Sp=function(t){if(t.tag===13){var e=Ps(t,134217728);if(e!==null){var n=Kt();Un(e,t,134217728,n)}ng(t,134217728)}};Y1=function(t){if(t.tag===13){var e=xr(t),n=Ps(t,e);if(n!==null){var s=Kt();Un(n,t,e,s)}ng(t,e)}};Q1=function(){return Ve};X1=function(t,e){var n=Ve;try{return Ve=t,e()}finally{Ve=n}};zf=function(t,e,n){switch(e){case"input":if(Lf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var r=Sd(s);if(!r)throw Error(J(90));k1(s),Lf(s,r)}}}break;case"textarea":A1(t,n);break;case"select":e=n.value,e!=null&&la(t,!!n.multiple,e,!1)}};O1=Qp;F1=Ni;var HI={usingClientEntryPoint:!1,Events:[Rl,Qi,Sd,L1,M1,Qp]},wo={findFiberByHostInstance:oi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WI={bundleType:wo.bundleType,version:wo.version,rendererPackageName:wo.rendererPackageName,rendererConfig:wo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=B1(t),t===null?null:t.stateNode},findFiberByHostInstance:wo.findFiberByHostInstance||BI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{wd=Cc.inject(WI),ts=Cc}catch{}}xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HI;xn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rg(e))throw Error(J(200));return $I(t,e,null,n)};xn.createRoot=function(t,e){if(!rg(t))throw Error(J(299));var n=!1,s="",r=w_;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=tg(t,1,!1,null,null,n,!1,s,r),t[As]=e.current,ll(t.nodeType===8?t.parentNode:t),new sg(e)};xn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=B1(e),t=t===null?null:t.stateNode,t};xn.flushSync=function(t){return Ni(t)};xn.hydrate=function(t,e,n){if(!Rd(e))throw Error(J(200));return Dd(null,t,e,!0,n)};xn.hydrateRoot=function(t,e,n){if(!rg(t))throw Error(J(405));var s=n!=null&&n.hydratedSources||null,r=!1,a="",o=w_;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=v_(e,null,t,1,n??null,r,!1,a,o),t[As]=e.current,ll(t),s)for(t=0;t<s.length;t++)n=s[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Pd(e)};xn.render=function(t,e,n){if(!Rd(e))throw Error(J(200));return Dd(null,t,e,!1,n)};xn.unmountComponentAtNode=function(t){if(!Rd(t))throw Error(J(40));return t._reactRootContainer?(Ni(function(){Dd(null,null,t,!1,function(){t._reactRootContainer=null,t[As]=null})}),!0):!1};xn.unstable_batchedUpdates=Qp;xn.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!Rd(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return Dd(t,e,n,!1,s)};xn.version="18.3.1-next-f1338f8080-20240426";function b_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(b_)}catch(t){console.error(t)}}b_(),b1.exports=xn;var qI=b1.exports,S0=qI;kf.createRoot=S0.createRoot,kf.hydrateRoot=S0.hydrateRoot;const GI="modulepreload",KI=function(t){return"/"+t},E0={},JI=function(e,n,s){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(n.map(c=>{if(c=KI(c),c in E0)return;E0[c]=!0;const d=c.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":GI,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((p,v)=>{f.addEventListener("load",p),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return r.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})},__=D.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Vd=D.createContext({}),Ld=D.createContext(null),Md=typeof document<"u",ig=Md?D.useLayoutEffect:D.useEffect,N_=D.createContext({strict:!1}),ag=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),YI="framerAppearId",S_="data-"+ag(YI);function QI(t,e,n,s){const{visualElement:r}=D.useContext(Vd),a=D.useContext(N_),o=D.useContext(Ld),l=D.useContext(__).reducedMotion,c=D.useRef();s=s||a.renderer,!c.current&&s&&(c.current=s(t,{visualState:e,parent:r,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const d=c.current;D.useInsertionEffect(()=>{d&&d.update(n,o)});const h=D.useRef(!!(n[S_]&&!window.HandoffComplete));return ig(()=>{d&&(d.render(),h.current&&d.animationState&&d.animationState.animateChanges())}),D.useEffect(()=>{d&&(d.updateFeatures(),!h.current&&d.animationState&&d.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),d}function ra(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function XI(t,e,n){return D.useCallback(s=>{s&&t.mount&&t.mount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):ra(n)&&(n.current=s))},[e])}function yl(t){return typeof t=="string"||Array.isArray(t)}function Od(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const og=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],lg=["initial",...og];function Fd(t){return Od(t.animate)||lg.some(e=>yl(t[e]))}function E_(t){return!!(Fd(t)||t.variants)}function ZI(t,e){if(Fd(t)){const{initial:n,animate:s}=t;return{initial:n===!1||yl(n)?n:void 0,animate:yl(s)?s:void 0}}return t.inherit!==!1?e:{}}function ek(t){const{initial:e,animate:n}=ZI(t,D.useContext(Vd));return D.useMemo(()=>({initial:e,animate:n}),[T0(e),T0(n)])}function T0(t){return Array.isArray(t)?t.join(" "):t}const j0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},xl={};for(const t in j0)xl[t]={isEnabled:e=>j0[t].some(n=>!!e[n])};function tk(t){for(const e in t)xl[e]={...xl[e],...t[e]}}const cg=D.createContext({}),T_=D.createContext({}),nk=Symbol.for("motionComponentSymbol");function sk({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:r}){t&&tk(t);function a(l,c){let d;const h={...D.useContext(__),...l,layoutId:rk(l)},{isStatic:f}=h,p=ek(l),v=s(l,f);if(!f&&Md){p.visualElement=QI(r,v,h,e);const E=D.useContext(T_),w=D.useContext(N_).strict;p.visualElement&&(d=p.visualElement.loadFeatures(h,w,t,E))}return D.createElement(Vd.Provider,{value:p},d&&p.visualElement?D.createElement(d,{visualElement:p.visualElement,...h}):null,n(r,l,XI(v,p.visualElement,c),v,f,p.visualElement))}const o=D.forwardRef(a);return o[nk]=r,o}function rk({layoutId:t}){const e=D.useContext(cg).id;return e&&t!==void 0?e+"-"+t:t}function ik(t){function e(s,r={}){return sk(t(s,r))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(s,r)=>(n.has(r)||n.set(r,e(r)),n.get(r))})}const ak=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ug(t){return typeof t!="string"||t.includes("-")?!1:!!(ak.indexOf(t)>-1||/[A-Z]/.test(t))}const Ou={};function ok(t){Object.assign(Ou,t)}const Vl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Di=new Set(Vl);function j_(t,{layout:e,layoutId:n}){return Di.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ou[t]||t==="opacity")}const an=t=>!!(t&&t.getVelocity),lk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ck=Vl.length;function uk(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},s,r){let a="";for(let o=0;o<ck;o++){const l=Vl[o];if(t[l]!==void 0){const c=lk[l]||l;a+=`${c}(${t[l]}) `}}return e&&!t.z&&(a+="translateZ(0)"),a=a.trim(),r?a=r(t,s?"":a):n&&s&&(a="none"),a}const I_=t=>e=>typeof e=="string"&&e.startsWith(t),k_=I_("--"),_m=I_("var(--"),dk=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,hk=(t,e)=>e&&typeof t=="number"?e.transform(t):t,kr=(t,e,n)=>Math.min(Math.max(n,t),e),Vi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},zo={...Vi,transform:t=>kr(0,1,t)},Ac={...Vi,default:1},Ho=t=>Math.round(t*1e5)/1e5,Ud=/(-)?([\d]*\.?[\d])+/g,C_=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,fk=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Ll(t){return typeof t=="string"}const Ml=t=>({test:e=>Ll(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Zs=Ml("deg"),ss=Ml("%"),pe=Ml("px"),mk=Ml("vh"),pk=Ml("vw"),I0={...ss,parse:t=>ss.parse(t)/100,transform:t=>ss.transform(t*100)},k0={...Vi,transform:Math.round},A_={borderWidth:pe,borderTopWidth:pe,borderRightWidth:pe,borderBottomWidth:pe,borderLeftWidth:pe,borderRadius:pe,radius:pe,borderTopLeftRadius:pe,borderTopRightRadius:pe,borderBottomRightRadius:pe,borderBottomLeftRadius:pe,width:pe,maxWidth:pe,height:pe,maxHeight:pe,size:pe,top:pe,right:pe,bottom:pe,left:pe,padding:pe,paddingTop:pe,paddingRight:pe,paddingBottom:pe,paddingLeft:pe,margin:pe,marginTop:pe,marginRight:pe,marginBottom:pe,marginLeft:pe,rotate:Zs,rotateX:Zs,rotateY:Zs,rotateZ:Zs,scale:Ac,scaleX:Ac,scaleY:Ac,scaleZ:Ac,skew:Zs,skewX:Zs,skewY:Zs,distance:pe,translateX:pe,translateY:pe,translateZ:pe,x:pe,y:pe,z:pe,perspective:pe,transformPerspective:pe,opacity:zo,originX:I0,originY:I0,originZ:pe,zIndex:k0,fillOpacity:zo,strokeOpacity:zo,numOctaves:k0};function dg(t,e,n,s){const{style:r,vars:a,transform:o,transformOrigin:l}=t;let c=!1,d=!1,h=!0;for(const f in e){const p=e[f];if(k_(f)){a[f]=p;continue}const v=A_[f],E=hk(p,v);if(Di.has(f)){if(c=!0,o[f]=E,!h)continue;p!==(v.default||0)&&(h=!1)}else f.startsWith("origin")?(d=!0,l[f]=E):r[f]=E}if(e.transform||(c||s?r.transform=uk(t.transform,n,h,s):r.transform&&(r.transform="none")),d){const{originX:f="50%",originY:p="50%",originZ:v=0}=l;r.transformOrigin=`${f} ${p} ${v}`}}const hg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function P_(t,e,n){for(const s in e)!an(e[s])&&!j_(s,n)&&(t[s]=e[s])}function gk({transformTemplate:t},e,n){return D.useMemo(()=>{const s=hg();return dg(s,e,{enableHardwareAcceleration:!n},t),Object.assign({},s.vars,s.style)},[e])}function yk(t,e,n){const s=t.style||{},r={};return P_(r,s,t),Object.assign(r,gk(t,e,n)),t.transformValues?t.transformValues(r):r}function xk(t,e,n){const s={},r=yk(t,e,n);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=r,s}const vk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Fu(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||vk.has(t)}let R_=t=>!Fu(t);function wk(t){t&&(R_=e=>e.startsWith("on")?!Fu(e):t(e))}try{wk(require("@emotion/is-prop-valid").default)}catch{}function bk(t,e,n){const s={};for(const r in t)r==="values"&&typeof t.values=="object"||(R_(r)||n===!0&&Fu(r)||!e&&!Fu(r)||t.draggable&&r.startsWith("onDrag"))&&(s[r]=t[r]);return s}function C0(t,e,n){return typeof t=="string"?t:pe.transform(e+n*t)}function _k(t,e,n){const s=C0(e,t.x,t.width),r=C0(n,t.y,t.height);return`${s} ${r}`}const Nk={offset:"stroke-dashoffset",array:"stroke-dasharray"},Sk={offset:"strokeDashoffset",array:"strokeDasharray"};function Ek(t,e,n=1,s=0,r=!0){t.pathLength=1;const a=r?Nk:Sk;t[a.offset]=pe.transform(-s);const o=pe.transform(e),l=pe.transform(n);t[a.array]=`${o} ${l}`}function fg(t,{attrX:e,attrY:n,attrScale:s,originX:r,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},h,f,p){if(dg(t,d,h,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:E,dimensions:w}=t;v.transform&&(w&&(E.transform=v.transform),delete v.transform),w&&(r!==void 0||a!==void 0||E.transform)&&(E.transformOrigin=_k(w,r!==void 0?r:.5,a!==void 0?a:.5)),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),s!==void 0&&(v.scale=s),o!==void 0&&Ek(v,o,l,c,!1)}const D_=()=>({...hg(),attrs:{}}),mg=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Tk(t,e,n,s){const r=D.useMemo(()=>{const a=D_();return fg(a,e,{enableHardwareAcceleration:!1},mg(s),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};P_(a,t.style,t),r.style={...a,...r.style}}return r}function jk(t=!1){return(n,s,r,{latestValues:a},o)=>{const c=(ug(n)?Tk:xk)(s,a,o,n),h={...bk(s,typeof n=="string",t),...c,ref:r},{children:f}=s,p=D.useMemo(()=>an(f)?f.get():f,[f]);return D.createElement(n,{...h,children:p})}}function V_(t,{style:e,vars:n},s,r){Object.assign(t.style,e,r&&r.getProjectionStyles(s));for(const a in n)t.style.setProperty(a,n[a])}const L_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function M_(t,e,n,s){V_(t,e,void 0,s);for(const r in e.attrs)t.setAttribute(L_.has(r)?r:ag(r),e.attrs[r])}function pg(t,e){const{style:n}=t,s={};for(const r in n)(an(n[r])||e.style&&an(e.style[r])||j_(r,t))&&(s[r]=n[r]);return s}function O_(t,e){const n=pg(t,e);for(const s in t)if(an(t[s])||an(e[s])){const r=Vl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[r]=t[s]}return n}function gg(t,e,n,s={},r={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,s,r)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,s,r)),e}function F_(t){const e=D.useRef(null);return e.current===null&&(e.current=t()),e.current}const Uu=t=>Array.isArray(t),Ik=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),kk=t=>Uu(t)?t[t.length-1]||0:t;function Zc(t){const e=an(t)?t.get():t;return Ik(e)?e.toValue():e}function Ck({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},s,r,a){const o={latestValues:Ak(s,r,a,t),renderState:e()};return n&&(o.mount=l=>n(s,l,o)),o}const U_=t=>(e,n)=>{const s=D.useContext(Vd),r=D.useContext(Ld),a=()=>Ck(t,e,s,r);return n?a():F_(a)};function Ak(t,e,n,s){const r={},a=s(t,{});for(const p in a)r[p]=Zc(a[p]);let{initial:o,animate:l}=t;const c=Fd(t),d=E_(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?l:o;return f&&typeof f!="boolean"&&!Od(f)&&(Array.isArray(f)?f:[f]).forEach(v=>{const E=gg(t,v);if(!E)return;const{transitionEnd:w,transition:k,...S}=E;for(const y in S){let b=S[y];if(Array.isArray(b)){const P=h?b.length-1:0;b=b[P]}b!==null&&(r[y]=b)}for(const y in w)r[y]=w[y]}),r}const ot=t=>t;class A0{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function Pk(t){let e=new A0,n=new A0,s=0,r=!1,a=!1;const o=new WeakSet,l={schedule:(c,d=!1,h=!1)=>{const f=h&&r,p=f?e:n;return d&&o.add(c),p.add(c)&&f&&r&&(s=e.order.length),c},cancel:c=>{n.remove(c),o.delete(c)},process:c=>{if(r){a=!0;return}if(r=!0,[e,n]=[n,e],n.clear(),s=e.order.length,s)for(let d=0;d<s;d++){const h=e.order[d];h(c),o.has(h)&&(l.schedule(h),t())}r=!1,a&&(a=!1,l.process(c))}};return l}const Pc=["prepare","read","update","preRender","render","postRender"],Rk=40;function Dk(t,e){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=Pc.reduce((f,p)=>(f[p]=Pk(()=>n=!0),f),{}),o=f=>a[f].process(r),l=()=>{const f=performance.now();n=!1,r.delta=s?1e3/60:Math.max(Math.min(f-r.timestamp,Rk),1),r.timestamp=f,r.isProcessing=!0,Pc.forEach(o),r.isProcessing=!1,n&&e&&(s=!1,t(l))},c=()=>{n=!0,s=!0,r.isProcessing||t(l)};return{schedule:Pc.reduce((f,p)=>{const v=a[p];return f[p]=(E,w=!1,k=!1)=>(n||c(),v.schedule(E,w,k)),f},{}),cancel:f=>Pc.forEach(p=>a[p].cancel(f)),state:r,steps:a}}const{schedule:Ue,cancel:Ds,state:Ot,steps:sf}=Dk(typeof requestAnimationFrame<"u"?requestAnimationFrame:ot,!0),Vk={useVisualState:U_({scrapeMotionValuesFromProps:O_,createRenderState:D_,onMount:(t,e,{renderState:n,latestValues:s})=>{Ue.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ue.render(()=>{fg(n,s,{enableHardwareAcceleration:!1},mg(e.tagName),t.transformTemplate),M_(e,n)})}})},Lk={useVisualState:U_({scrapeMotionValuesFromProps:pg,createRenderState:hg})};function Mk(t,{forwardMotionProps:e=!1},n,s){return{...ug(t)?Vk:Lk,preloadedFeatures:n,useRender:jk(e),createVisualElement:s,Component:t}}function ws(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}const $_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function $d(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const Ok=t=>e=>$_(e)&&t(e,$d(e));function Ss(t,e,n,s){return ws(t,e,Ok(n),s)}const Fk=(t,e)=>n=>e(t(n)),wr=(...t)=>t.reduce(Fk);function B_(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const P0=B_("dragHorizontal"),R0=B_("dragVertical");function z_(t){let e=!1;if(t==="y")e=R0();else if(t==="x")e=P0();else{const n=P0(),s=R0();n&&s?e=()=>{n(),s()}:(n&&n(),s&&s())}return e}function H_(){const t=z_(!0);return t?(t(),!1):!0}class Br{constructor(e){this.isMounted=!1,this.node=e}update(){}}function D0(t,e){const n="pointer"+(e?"enter":"leave"),s="onHover"+(e?"Start":"End"),r=(a,o)=>{if(a.pointerType==="touch"||H_())return;const l=t.getProps();t.animationState&&l.whileHover&&t.animationState.setActive("whileHover",e),l[s]&&Ue.update(()=>l[s](a,o))};return Ss(t.current,n,r,{passive:!t.getProps()[s]})}class Uk extends Br{mount(){this.unmount=wr(D0(this.node,!0),D0(this.node,!1))}unmount(){}}class $k extends Br{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wr(ws(this.node.current,"focus",()=>this.onFocus()),ws(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const W_=(t,e)=>e?t===e?!0:W_(t,e.parentElement):!1;function rf(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,$d(n))}class Bk extends Br{constructor(){super(...arguments),this.removeStartListeners=ot,this.removeEndListeners=ot,this.removeAccessibleListeners=ot,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const s=this.node.getProps(),a=Ss(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:h,globalTapTarget:f}=this.node.getProps();Ue.update(()=>{!f&&!W_(this.node.current,l.target)?h&&h(l,c):d&&d(l,c)})},{passive:!(s.onTap||s.onPointerUp)}),o=Ss(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(s.onTapCancel||s.onPointerCancel)});this.removeEndListeners=wr(a,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=a=>{if(a.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||rf("up",(c,d)=>{const{onTap:h}=this.node.getProps();h&&Ue.update(()=>h(c,d))})};this.removeEndListeners(),this.removeEndListeners=ws(this.node.current,"keyup",o),rf("down",(l,c)=>{this.startPress(l,c)})},n=ws(this.node.current,"keydown",e),s=()=>{this.isPressing&&rf("cancel",(a,o)=>this.cancelPress(a,o))},r=ws(this.node.current,"blur",s);this.removeAccessibleListeners=wr(n,r)}}startPress(e,n){this.isPressing=!0;const{onTapStart:s,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),s&&Ue.update(()=>s(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!H_()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:s}=this.node.getProps();s&&Ue.update(()=>s(e,n))}mount(){const e=this.node.getProps(),n=Ss(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),s=ws(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=wr(n,s)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Nm=new WeakMap,af=new WeakMap,zk=t=>{const e=Nm.get(t.target);e&&e(t)},Hk=t=>{t.forEach(zk)};function Wk({root:t,...e}){const n=t||document;af.has(n)||af.set(n,{});const s=af.get(n),r=JSON.stringify(e);return s[r]||(s[r]=new IntersectionObserver(Hk,{root:t,...e})),s[r]}function qk(t,e,n){const s=Wk(e);return Nm.set(t,n),s.observe(t),()=>{Nm.delete(t),s.unobserve(t)}}const Gk={some:0,all:1};class Kk extends Br{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:a}=e,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:Gk[r]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),p=d?h:f;p&&p(c)};return qk(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Jk(e,n))&&this.startObserver()}unmount(){}}function Jk({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Yk={inView:{Feature:Kk},tap:{Feature:Bk},focus:{Feature:$k},hover:{Feature:Uk}};function q_(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}function Qk(t){const e={};return t.values.forEach((n,s)=>e[s]=n.get()),e}function Xk(t){const e={};return t.values.forEach((n,s)=>e[s]=n.getVelocity()),e}function Bd(t,e,n){const s=t.getProps();return gg(s,e,n!==void 0?n:s.custom,Qk(t),Xk(t))}let yg=ot;const pi=t=>t*1e3,Es=t=>t/1e3,Zk={current:!1},G_=t=>Array.isArray(t)&&typeof t[0]=="number";function K_(t){return!!(!t||typeof t=="string"&&J_[t]||G_(t)||Array.isArray(t)&&t.every(K_))}const jo=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,J_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:jo([0,.65,.55,1]),circOut:jo([.55,0,1,.45]),backIn:jo([.31,.01,.66,-.59]),backOut:jo([.33,1.53,.69,.99])};function Y_(t){if(t)return G_(t)?jo(t):Array.isArray(t)?t.map(Y_):J_[t]}function eC(t,e,n,{delay:s=0,duration:r,repeat:a=0,repeatType:o="loop",ease:l,times:c}={}){const d={[e]:n};c&&(d.offset=c);const h=Y_(l);return Array.isArray(h)&&(d.easing=h),t.animate(d,{delay:s,duration:r,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}function tC(t,{repeat:e,repeatType:n="loop"}){const s=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[s]}const Q_=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,nC=1e-7,sC=12;function rC(t,e,n,s,r){let a,o,l=0;do o=e+(n-e)/2,a=Q_(o,s,r)-t,a>0?n=o:e=o;while(Math.abs(a)>nC&&++l<sC);return o}function Ol(t,e,n,s){if(t===e&&n===s)return ot;const r=a=>rC(a,0,1,t,n);return a=>a===0||a===1?a:Q_(r(a),e,s)}const iC=Ol(.42,0,1,1),aC=Ol(0,0,.58,1),X_=Ol(.42,0,.58,1),oC=t=>Array.isArray(t)&&typeof t[0]!="number",Z_=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,e2=t=>e=>1-t(1-e),xg=t=>1-Math.sin(Math.acos(t)),t2=e2(xg),lC=Z_(xg),n2=Ol(.33,1.53,.69,.99),vg=e2(n2),cC=Z_(vg),uC=t=>(t*=2)<1?.5*vg(t):.5*(2-Math.pow(2,-10*(t-1))),dC={linear:ot,easeIn:iC,easeInOut:X_,easeOut:aC,circIn:xg,circInOut:lC,circOut:t2,backIn:vg,backInOut:cC,backOut:n2,anticipate:uC},V0=t=>{if(Array.isArray(t)){yg(t.length===4);const[e,n,s,r]=t;return Ol(e,n,s,r)}else if(typeof t=="string")return dC[t];return t},wg=(t,e)=>n=>!!(Ll(n)&&fk.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),s2=(t,e,n)=>s=>{if(!Ll(s))return s;const[r,a,o,l]=s.match(Ud);return{[t]:parseFloat(r),[e]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},hC=t=>kr(0,255,t),of={...Vi,transform:t=>Math.round(hC(t))},ui={test:wg("rgb","red"),parse:s2("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+of.transform(t)+", "+of.transform(e)+", "+of.transform(n)+", "+Ho(zo.transform(s))+")"};function fC(t){let e="",n="",s="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,s+=s,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const Sm={test:wg("#"),parse:fC,transform:ui.transform},ia={test:wg("hsl","hue"),parse:s2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+ss.transform(Ho(e))+", "+ss.transform(Ho(n))+", "+Ho(zo.transform(s))+")"},qt={test:t=>ui.test(t)||Sm.test(t)||ia.test(t),parse:t=>ui.test(t)?ui.parse(t):ia.test(t)?ia.parse(t):Sm.parse(t),transform:t=>Ll(t)?t:t.hasOwnProperty("red")?ui.transform(t):ia.transform(t)},Qe=(t,e,n)=>-n*t+n*e+t;function lf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function mC({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let r=0,a=0,o=0;if(!e)r=a=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;r=lf(c,l,t+1/3),a=lf(c,l,t),o=lf(c,l,t-1/3)}return{red:Math.round(r*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:s}}const cf=(t,e,n)=>{const s=t*t;return Math.sqrt(Math.max(0,n*(e*e-s)+s))},pC=[Sm,ui,ia],gC=t=>pC.find(e=>e.test(t));function L0(t){const e=gC(t);let n=e.parse(t);return e===ia&&(n=mC(n)),n}const r2=(t,e)=>{const n=L0(t),s=L0(e),r={...n};return a=>(r.red=cf(n.red,s.red,a),r.green=cf(n.green,s.green,a),r.blue=cf(n.blue,s.blue,a),r.alpha=Qe(n.alpha,s.alpha,a),ui.transform(r))};function yC(t){var e,n;return isNaN(t)&&Ll(t)&&(((e=t.match(Ud))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(C_))===null||n===void 0?void 0:n.length)||0)>0}const i2={regex:dk,countKey:"Vars",token:"${v}",parse:ot},a2={regex:C_,countKey:"Colors",token:"${c}",parse:qt.parse},o2={regex:Ud,countKey:"Numbers",token:"${n}",parse:Vi.parse};function uf(t,{regex:e,countKey:n,token:s,parse:r}){const a=t.tokenised.match(e);a&&(t["num"+n]=a.length,t.tokenised=t.tokenised.replace(e,s),t.values.push(...a.map(r)))}function $u(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&uf(n,i2),uf(n,a2),uf(n,o2),n}function l2(t){return $u(t).values}function c2(t){const{values:e,numColors:n,numVars:s,tokenised:r}=$u(t),a=e.length;return o=>{let l=r;for(let c=0;c<a;c++)c<s?l=l.replace(i2.token,o[c]):c<s+n?l=l.replace(a2.token,qt.transform(o[c])):l=l.replace(o2.token,Ho(o[c]));return l}}const xC=t=>typeof t=="number"?0:t;function vC(t){const e=l2(t);return c2(t)(e.map(xC))}const Cr={test:yC,parse:l2,createTransformer:c2,getAnimatableNone:vC},u2=(t,e)=>n=>`${n>0?e:t}`;function d2(t,e){return typeof t=="number"?n=>Qe(t,e,n):qt.test(t)?r2(t,e):t.startsWith("var(")?u2(t,e):f2(t,e)}const h2=(t,e)=>{const n=[...t],s=n.length,r=t.map((a,o)=>d2(a,e[o]));return a=>{for(let o=0;o<s;o++)n[o]=r[o](a);return n}},wC=(t,e)=>{const n={...t,...e},s={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(s[r]=d2(t[r],e[r]));return r=>{for(const a in s)n[a]=s[a](r);return n}},f2=(t,e)=>{const n=Cr.createTransformer(e),s=$u(t),r=$u(e);return s.numVars===r.numVars&&s.numColors===r.numColors&&s.numNumbers>=r.numNumbers?wr(h2(s.values,r.values),n):u2(t,e)},vl=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s},M0=(t,e)=>n=>Qe(t,e,n);function bC(t){return typeof t=="number"?M0:typeof t=="string"?qt.test(t)?r2:f2:Array.isArray(t)?h2:typeof t=="object"?wC:M0}function _C(t,e,n){const s=[],r=n||bC(t[0]),a=t.length-1;for(let o=0;o<a;o++){let l=r(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||ot:e;l=wr(c,l)}s.push(l)}return s}function m2(t,e,{clamp:n=!0,ease:s,mixer:r}={}){const a=t.length;if(yg(a===e.length),a===1)return()=>e[0];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=_C(e,s,r),l=o.length,c=d=>{let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=vl(t[h],t[h+1],d);return o[h](f)};return n?d=>c(kr(t[0],t[a-1],d)):c}function NC(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const r=vl(0,e,s);t.push(Qe(n,1,r))}}function SC(t){const e=[0];return NC(e,t.length-1),e}function EC(t,e){return t.map(n=>n*e)}function TC(t,e){return t.map(()=>e||X_).splice(0,t.length-1)}function Bu({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const r=oC(s)?s.map(V0):V0(s),a={done:!1,value:e[0]},o=EC(n&&n.length===e.length?n:SC(e),t),l=m2(o,e,{ease:Array.isArray(r)?r:TC(e,r)});return{calculatedDuration:t,next:c=>(a.value=l(c),a.done=c>=t,a)}}function p2(t,e){return e?t*(1e3/e):0}const jC=5;function g2(t,e,n){const s=Math.max(e-jC,0);return p2(n-t(s),e-s)}const df=.001,IC=.01,kC=10,CC=.05,AC=1;function PC({duration:t=800,bounce:e=.25,velocity:n=0,mass:s=1}){let r,a,o=1-e;o=kr(CC,AC,o),t=kr(IC,kC,Es(t)),o<1?(r=d=>{const h=d*o,f=h*t,p=h-n,v=Em(d,o),E=Math.exp(-f);return df-p/v*E},a=d=>{const f=d*o*t,p=f*n+n,v=Math.pow(o,2)*Math.pow(d,2)*t,E=Math.exp(-f),w=Em(Math.pow(d,2),o);return(-r(d)+df>0?-1:1)*((p-v)*E)/w}):(r=d=>{const h=Math.exp(-d*t),f=(d-n)*t+1;return-df+h*f},a=d=>{const h=Math.exp(-d*t),f=(n-d)*(t*t);return h*f});const l=5/t,c=DC(r,a,l);if(t=pi(t),isNaN(c))return{stiffness:100,damping:10,duration:t};{const d=Math.pow(c,2)*s;return{stiffness:d,damping:o*2*Math.sqrt(s*d),duration:t}}}const RC=12;function DC(t,e,n){let s=n;for(let r=1;r<RC;r++)s=s-t(s)/e(s);return s}function Em(t,e){return t*Math.sqrt(1-e*e)}const VC=["duration","bounce"],LC=["stiffness","damping","mass"];function O0(t,e){return e.some(n=>t[n]!==void 0)}function MC(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!O0(t,LC)&&O0(t,VC)){const n=PC(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function y2({keyframes:t,restDelta:e,restSpeed:n,...s}){const r=t[0],a=t[t.length-1],o={done:!1,value:r},{stiffness:l,damping:c,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=MC({...s,velocity:-Es(s.velocity||0)}),v=f||0,E=c/(2*Math.sqrt(l*d)),w=a-r,k=Es(Math.sqrt(l/d)),S=Math.abs(w)<5;n||(n=S?.01:2),e||(e=S?.005:.5);let y;if(E<1){const b=Em(k,E);y=P=>{const M=Math.exp(-E*k*P);return a-M*((v+E*k*w)/b*Math.sin(b*P)+w*Math.cos(b*P))}}else if(E===1)y=b=>a-Math.exp(-k*b)*(w+(v+k*w)*b);else{const b=k*Math.sqrt(E*E-1);y=P=>{const M=Math.exp(-E*k*P),B=Math.min(b*P,300);return a-M*((v+E*k*w)*Math.sinh(B)+b*w*Math.cosh(B))/b}}return{calculatedDuration:p&&h||null,next:b=>{const P=y(b);if(p)o.done=b>=h;else{let M=v;b!==0&&(E<1?M=g2(y,b,P):M=0);const B=Math.abs(M)<=n,I=Math.abs(a-P)<=e;o.done=B&&I}return o.value=o.done?a:P,o}}}function F0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:h}){const f=t[0],p={done:!1,value:f},v=_=>l!==void 0&&_<l||c!==void 0&&_>c,E=_=>l===void 0?c:c===void 0||Math.abs(l-_)<Math.abs(c-_)?l:c;let w=n*e;const k=f+w,S=o===void 0?k:o(k);S!==k&&(w=S-f);const y=_=>-w*Math.exp(-_/s),b=_=>S+y(_),P=_=>{const T=y(_),C=b(_);p.done=Math.abs(T)<=d,p.value=p.done?S:C};let M,B;const I=_=>{v(p.value)&&(M=_,B=y2({keyframes:[p.value,E(p.value)],velocity:g2(b,_,p.value),damping:r,stiffness:a,restDelta:d,restSpeed:h}))};return I(0),{calculatedDuration:null,next:_=>{let T=!1;return!B&&M===void 0&&(T=!0,P(_),I(_)),M!==void 0&&_>M?B.next(_-M):(!T&&P(_),p)}}}const OC=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ue.update(e,!0),stop:()=>Ds(e),now:()=>Ot.isProcessing?Ot.timestamp:performance.now()}},U0=2e4;function $0(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<U0;)e+=n,s=t.next(e);return e>=U0?1/0:e}const FC={decay:F0,inertia:F0,tween:Bu,keyframes:Bu,spring:y2};function zu({autoplay:t=!0,delay:e=0,driver:n=OC,keyframes:s,type:r="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:d,onComplete:h,onUpdate:f,...p}){let v=1,E=!1,w,k;const S=()=>{k=new Promise(Y=>{w=Y})};S();let y;const b=FC[r]||Bu;let P;b!==Bu&&typeof s[0]!="number"&&(P=m2([0,100],s,{clamp:!1}),s=[0,100]);const M=b({...p,keyframes:s});let B;l==="mirror"&&(B=b({...p,keyframes:[...s].reverse(),velocity:-(p.velocity||0)}));let I="idle",_=null,T=null,C=null;M.calculatedDuration===null&&a&&(M.calculatedDuration=$0(M));const{calculatedDuration:R}=M;let L=1/0,A=1/0;R!==null&&(L=R+o,A=L*(a+1)-o);let fe=0;const oe=Y=>{if(T===null)return;v>0&&(T=Math.min(T,Y)),v<0&&(T=Math.min(Y-A/v,T)),_!==null?fe=_:fe=Math.round(Y-T)*v;const G=fe-e*(v>=0?1:-1),ce=v>=0?G<0:G>A;fe=Math.max(G,0),I==="finished"&&_===null&&(fe=A);let O=fe,le=M;if(a){const qe=Math.min(fe,A)/L;let Et=Math.floor(qe),Ee=qe%1;!Ee&&qe>=1&&(Ee=1),Ee===1&&Et--,Et=Math.min(Et,a+1),!!(Et%2)&&(l==="reverse"?(Ee=1-Ee,o&&(Ee-=o/L)):l==="mirror"&&(le=B)),O=kr(0,1,Ee)*L}const ae=ce?{done:!1,value:s[0]}:le.next(O);P&&(ae.value=P(ae.value));let{done:_e}=ae;!ce&&R!==null&&(_e=v>=0?fe>=A:fe<=0);const xe=_===null&&(I==="finished"||I==="running"&&_e);return f&&f(ae.value),xe&&V(),ae},ue=()=>{y&&y.stop(),y=void 0},re=()=>{I="idle",ue(),w(),S(),T=C=null},V=()=>{I="finished",h&&h(),ue(),w()},$=()=>{if(E)return;y||(y=n(oe));const Y=y.now();c&&c(),_!==null?T=Y-_:(!T||I==="finished")&&(T=Y),I==="finished"&&S(),C=T,_=null,I="running",y.start()};t&&$();const ee={then(Y,G){return k.then(Y,G)},get time(){return Es(fe)},set time(Y){Y=pi(Y),fe=Y,_!==null||!y||v===0?_=Y:T=y.now()-Y/v},get duration(){const Y=M.calculatedDuration===null?$0(M):M.calculatedDuration;return Es(Y)},get speed(){return v},set speed(Y){Y===v||!y||(v=Y,ee.time=Es(fe))},get state(){return I},play:$,pause:()=>{I="paused",_=fe},stop:()=>{E=!0,I!=="idle"&&(I="idle",d&&d(),re())},cancel:()=>{C!==null&&oe(C),re()},complete:()=>{I="finished"},sample:Y=>(T=0,oe(Y))};return ee}function UC(t){let e;return()=>(e===void 0&&(e=t()),e)}const $C=UC(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),BC=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Rc=10,zC=2e4,HC=(t,e)=>e.type==="spring"||t==="backgroundColor"||!K_(e.ease);function WC(t,e,{onUpdate:n,onComplete:s,...r}){if(!($C()&&BC.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0&&r.type!=="inertia"))return!1;let o=!1,l,c,d=!1;const h=()=>{c=new Promise(b=>{l=b})};h();let{keyframes:f,duration:p=300,ease:v,times:E}=r;if(HC(e,r)){const b=zu({...r,repeat:0,delay:0});let P={done:!1,value:f[0]};const M=[];let B=0;for(;!P.done&&B<zC;)P=b.sample(B),M.push(P.value),B+=Rc;E=void 0,f=M,p=B-Rc,v="linear"}const w=eC(t.owner.current,e,f,{...r,duration:p,ease:v,times:E}),k=()=>{d=!1,w.cancel()},S=()=>{d=!0,Ue.update(k),l(),h()};return w.onfinish=()=>{d||(t.set(tC(f,r)),s&&s(),S())},{then(b,P){return c.then(b,P)},attachTimeline(b){return w.timeline=b,w.onfinish=null,ot},get time(){return Es(w.currentTime||0)},set time(b){w.currentTime=pi(b)},get speed(){return w.playbackRate},set speed(b){w.playbackRate=b},get duration(){return Es(p)},play:()=>{o||(w.play(),Ds(k))},pause:()=>w.pause(),stop:()=>{if(o=!0,w.playState==="idle")return;const{currentTime:b}=w;if(b){const P=zu({...r,autoplay:!1});t.setWithVelocity(P.sample(b-Rc).value,P.sample(b).value,Rc)}S()},complete:()=>{d||w.finish()},cancel:S}}function qC({keyframes:t,delay:e,onUpdate:n,onComplete:s}){const r=()=>(n&&n(t[t.length-1]),s&&s(),{time:0,speed:1,duration:0,play:ot,pause:ot,stop:ot,then:a=>(a(),Promise.resolve()),cancel:ot,complete:ot});return e?zu({keyframes:[0,1],duration:0,delay:e,onComplete:r}):r()}const GC={type:"spring",stiffness:500,damping:25,restSpeed:10},KC=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),JC={type:"keyframes",duration:.8},YC={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},QC=(t,{keyframes:e})=>e.length>2?JC:Di.has(t)?t.startsWith("scale")?KC(e[1]):GC:YC,Tm=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Cr.test(e)||e==="0")&&!e.startsWith("url(")),XC=new Set(["brightness","contrast","saturate","opacity"]);function ZC(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Ud)||[];if(!s)return t;const r=n.replace(s,"");let a=XC.has(e)?1:0;return s!==n&&(a*=100),e+"("+a+r+")"}const eA=/([a-z-]*)\(.*?\)/g,jm={...Cr,getAnimatableNone:t=>{const e=t.match(eA);return e?e.map(ZC).join(" "):t}},tA={...A_,color:qt,backgroundColor:qt,outlineColor:qt,fill:qt,stroke:qt,borderColor:qt,borderTopColor:qt,borderRightColor:qt,borderBottomColor:qt,borderLeftColor:qt,filter:jm,WebkitFilter:jm},bg=t=>tA[t];function x2(t,e){let n=bg(t);return n!==jm&&(n=Cr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const v2=t=>/^0[^.\s]+$/.test(t);function nA(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||v2(t)}function sA(t,e,n,s){const r=Tm(e,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const o=s.from!==void 0?s.from:t.get();let l;const c=[];for(let d=0;d<a.length;d++)a[d]===null&&(a[d]=d===0?o:a[d-1]),nA(a[d])&&c.push(d),typeof a[d]=="string"&&a[d]!=="none"&&a[d]!=="0"&&(l=a[d]);if(r&&c.length&&l)for(let d=0;d<c.length;d++){const h=c[d];a[h]=x2(e,l)}return a}function rA({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:d,...h}){return!!Object.keys(h).length}function _g(t,e){return t[e]||t.default||t}const iA={skipAnimations:!1},Ng=(t,e,n,s={})=>r=>{const a=_g(s,t)||{},o=a.delay||s.delay||0;let{elapsed:l=0}=s;l=l-pi(o);const c=sA(e,t,n,a),d=c[0],h=c[c.length-1],f=Tm(t,d),p=Tm(t,h);let v={keyframes:c,velocity:e.getVelocity(),ease:"easeOut",...a,delay:-l,onUpdate:E=>{e.set(E),a.onUpdate&&a.onUpdate(E)},onComplete:()=>{r(),a.onComplete&&a.onComplete()}};if(rA(a)||(v={...v,...QC(t,v)}),v.duration&&(v.duration=pi(v.duration)),v.repeatDelay&&(v.repeatDelay=pi(v.repeatDelay)),!f||!p||Zk.current||a.type===!1||iA.skipAnimations)return qC(v);if(!s.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const E=WC(e,t,v);if(E)return E}return zu(v)};function Hu(t){return!!(an(t)&&t.add)}const w2=t=>/^\-?\d*\.?\d+$/.test(t);function Sg(t,e){t.indexOf(e)===-1&&t.push(e)}function Eg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Tg{constructor(){this.subscriptions=[]}add(e){return Sg(this.subscriptions,e),()=>Eg(this.subscriptions,e)}notify(e,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,s);else for(let a=0;a<r;a++){const o=this.subscriptions[a];o&&o(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const aA=t=>!isNaN(parseFloat(t));class oA{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(s,r=!0)=>{this.prev=this.current,this.current=s;const{delta:a,timestamp:o}=Ot;this.lastUpdated!==o&&(this.timeDelta=a,this.lastUpdated=o,Ue.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ue.postRender(this.velocityCheck),this.velocityCheck=({timestamp:s})=>{s!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=aA(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Tg);const s=this.events[e].add(n);return e==="change"?()=>{s(),Ue.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=e,this.timeDelta=s}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?p2(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ja(t,e){return new oA(t,e)}const b2=t=>e=>e.test(t),lA={test:t=>t==="auto",parse:t=>t},_2=[Vi,pe,ss,Zs,pk,mk,lA],bo=t=>_2.find(b2(t)),cA=[..._2,qt,Cr],uA=t=>cA.find(b2(t));function dA(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ja(n))}function hA(t,e){const n=Bd(t,e);let{transitionEnd:s={},transition:r={},...a}=n?t.makeTargetAnimatable(n,!1):{};a={...a,...s};for(const o in a){const l=kk(a[o]);dA(t,o,l)}}function fA(t,e,n){var s,r;const a=Object.keys(e).filter(l=>!t.hasValue(l)),o=a.length;if(o)for(let l=0;l<o;l++){const c=a[l],d=e[c];let h=null;Array.isArray(d)&&(h=d[0]),h===null&&(h=(r=(s=n[c])!==null&&s!==void 0?s:t.readValue(c))!==null&&r!==void 0?r:e[c]),h!=null&&(typeof h=="string"&&(w2(h)||v2(h))?h=parseFloat(h):!uA(h)&&Cr.test(d)&&(h=x2(c,d)),t.addValue(c,ja(h,{owner:t})),n[c]===void 0&&(n[c]=h),h!==null&&t.setBaseTarget(c,h))}}function mA(t,e){return e?(e[t]||e.default||e).from:void 0}function pA(t,e,n){const s={};for(const r in t){const a=mA(r,e);if(a!==void 0)s[r]=a;else{const o=n.getValue(r);o&&(s[r]=o.get())}}return s}function gA({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function yA(t,e){const n=t.get();if(Array.isArray(e)){for(let s=0;s<e.length;s++)if(e[s]!==n)return!0}else return n!==e}function N2(t,e,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:o,...l}=t.makeTargetAnimatable(e);const c=t.getValue("willChange");s&&(a=s);const d=[],h=r&&t.animationState&&t.animationState.getState()[r];for(const f in l){const p=t.getValue(f),v=l[f];if(!p||v===void 0||h&&gA(h,f))continue;const E={delay:n,elapsed:0,..._g(a||{},f)};if(window.HandoffAppearAnimations){const S=t.getProps()[S_];if(S){const y=window.HandoffAppearAnimations(S,f,p,Ue);y!==null&&(E.elapsed=y,E.isHandoff=!0)}}let w=!E.isHandoff&&!yA(p,v);if(E.type==="spring"&&(p.getVelocity()||E.velocity)&&(w=!1),p.animation&&(w=!1),w)continue;p.start(Ng(f,p,v,t.shouldReduceMotion&&Di.has(f)?{type:!1}:E));const k=p.animation;Hu(c)&&(c.add(f),k.then(()=>c.remove(f))),d.push(k)}return o&&Promise.all(d).then(()=>{o&&hA(t,o)}),d}function Im(t,e,n={}){const s=Bd(t,e,n.custom);let{transition:r=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const a=s?()=>Promise.all(N2(t,s,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=r;return xA(t,e,d+c,h,f,n)}:()=>Promise.resolve(),{when:l}=r;if(l){const[c,d]=l==="beforeChildren"?[a,o]:[o,a];return c().then(()=>d())}else return Promise.all([a(),o(n.delay)])}function xA(t,e,n=0,s=0,r=1,a){const o=[],l=(t.variantChildren.size-1)*s,c=r===1?(d=0)=>d*s:(d=0)=>l-d*s;return Array.from(t.variantChildren).sort(vA).forEach((d,h)=>{d.notify("AnimationStart",e),o.push(Im(d,e,{...a,delay:n+c(h)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(o)}function vA(t,e){return t.sortNodePosition(e)}function wA(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const r=e.map(a=>Im(t,a,n));s=Promise.all(r)}else if(typeof e=="string")s=Im(t,e,n);else{const r=typeof e=="function"?Bd(t,e,n.custom):e;s=Promise.all(N2(t,r,n))}return s.then(()=>t.notify("AnimationComplete",e))}const bA=[...og].reverse(),_A=og.length;function NA(t){return e=>Promise.all(e.map(({animation:n,options:s})=>wA(t,n,s)))}function SA(t){let e=NA(t);const n=TA();let s=!0;const r=(c,d)=>{const h=Bd(t,d);if(h){const{transition:f,transitionEnd:p,...v}=h;c={...c,...v,...p}}return c};function a(c){e=c(t)}function o(c,d){const h=t.getProps(),f=t.getVariantContext(!0)||{},p=[],v=new Set;let E={},w=1/0;for(let S=0;S<_A;S++){const y=bA[S],b=n[y],P=h[y]!==void 0?h[y]:f[y],M=yl(P),B=y===d?b.isActive:null;B===!1&&(w=S);let I=P===f[y]&&P!==h[y]&&M;if(I&&s&&t.manuallyAnimateOnMount&&(I=!1),b.protectedKeys={...E},!b.isActive&&B===null||!P&&!b.prevProp||Od(P)||typeof P=="boolean")continue;let T=EA(b.prevProp,P)||y===d&&b.isActive&&!I&&M||S>w&&M,C=!1;const R=Array.isArray(P)?P:[P];let L=R.reduce(r,{});B===!1&&(L={});const{prevResolvedValues:A={}}=b,fe={...A,...L},oe=ue=>{T=!0,v.has(ue)&&(C=!0,v.delete(ue)),b.needsAnimating[ue]=!0};for(const ue in fe){const re=L[ue],V=A[ue];if(E.hasOwnProperty(ue))continue;let $=!1;Uu(re)&&Uu(V)?$=!q_(re,V):$=re!==V,$?re!==void 0?oe(ue):v.add(ue):re!==void 0&&v.has(ue)?oe(ue):b.protectedKeys[ue]=!0}b.prevProp=P,b.prevResolvedValues=L,b.isActive&&(E={...E,...L}),s&&t.blockInitialAnimation&&(T=!1),T&&(!I||C)&&p.push(...R.map(ue=>({animation:ue,options:{type:y,...c}})))}if(v.size){const S={};v.forEach(y=>{const b=t.getBaseTarget(y);b!==void 0&&(S[y]=b)}),p.push({animation:S})}let k=!!p.length;return s&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(k=!1),s=!1,k?e(p):Promise.resolve()}function l(c,d,h){var f;if(n[c].isActive===d)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(v=>{var E;return(E=v.animationState)===null||E===void 0?void 0:E.setActive(c,d)}),n[c].isActive=d;const p=o(h,c);for(const v in n)n[v].protectedKeys={};return p}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>n}}function EA(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!q_(e,t):!1}function ei(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function TA(){return{animate:ei(!0),whileInView:ei(),whileHover:ei(),whileTap:ei(),whileDrag:ei(),whileFocus:ei(),exit:ei()}}class jA extends Br{constructor(e){super(e),e.animationState||(e.animationState=SA(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Od(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let IA=0;class kA extends Br{constructor(){super(...arguments),this.id=IA++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e,{custom:s??this.node.getProps().custom});n&&!e&&a.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const CA={animation:{Feature:jA},exit:{Feature:kA}},B0=(t,e)=>Math.abs(t-e);function AA(t,e){const n=B0(t.x,e.x),s=B0(t.y,e.y);return Math.sqrt(n**2+s**2)}class S2{constructor(e,n,{transformPagePoint:s,contextWindow:r,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=ff(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,v=AA(f.offset,{x:0,y:0})>=3;if(!p&&!v)return;const{point:E}=f,{timestamp:w}=Ot;this.history.push({...E,timestamp:w});const{onStart:k,onMove:S}=this.handlers;p||(k&&k(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=hf(p,this.transformPagePoint),Ue.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:v,onSessionEnd:E,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=ff(f.type==="pointercancel"?this.lastMoveEventInfo:hf(p,this.transformPagePoint),this.history);this.startEvent&&v&&v(f,k),E&&E(f,k)},!$_(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.contextWindow=r||window;const o=$d(e),l=hf(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=Ot;this.history=[{...c,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,ff(l,this.history)),this.removeListeners=wr(Ss(this.contextWindow,"pointermove",this.handlePointerMove),Ss(this.contextWindow,"pointerup",this.handlePointerUp),Ss(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ds(this.updatePoint)}}function hf(t,e){return e?{point:e(t.point)}:t}function z0(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ff({point:t},e){return{point:t,delta:z0(t,E2(e)),offset:z0(t,PA(e)),velocity:RA(e,.1)}}function PA(t){return t[0]}function E2(t){return t[t.length-1]}function RA(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const r=E2(t);for(;n>=0&&(s=t[n],!(r.timestamp-s.timestamp>pi(e)));)n--;if(!s)return{x:0,y:0};const a=Es(r.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const o={x:(r.x-s.x)/a,y:(r.y-s.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function yn(t){return t.max-t.min}function km(t,e=0,n=.01){return Math.abs(t-e)<=n}function H0(t,e,n,s=.5){t.origin=s,t.originPoint=Qe(e.min,e.max,t.origin),t.scale=yn(n)/yn(e),(km(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Qe(n.min,n.max,t.origin)-t.originPoint,(km(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Wo(t,e,n,s){H0(t.x,e.x,n.x,s?s.originX:void 0),H0(t.y,e.y,n.y,s?s.originY:void 0)}function W0(t,e,n){t.min=n.min+e.min,t.max=t.min+yn(e)}function DA(t,e,n){W0(t.x,e.x,n.x),W0(t.y,e.y,n.y)}function q0(t,e,n){t.min=e.min-n.min,t.max=t.min+yn(e)}function qo(t,e,n){q0(t.x,e.x,n.x),q0(t.y,e.y,n.y)}function VA(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Qe(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Qe(n,t,s.max):Math.min(t,n)),t}function G0(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function LA(t,{top:e,left:n,bottom:s,right:r}){return{x:G0(t.x,n,r),y:G0(t.y,e,s)}}function K0(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function MA(t,e){return{x:K0(t.x,e.x),y:K0(t.y,e.y)}}function OA(t,e){let n=.5;const s=yn(t),r=yn(e);return r>s?n=vl(e.min,e.max-s,t.min):s>r&&(n=vl(t.min,t.max-r,e.min)),kr(0,1,n)}function FA(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Cm=.35;function UA(t=Cm){return t===!1?t=0:t===!0&&(t=Cm),{x:J0(t,"left","right"),y:J0(t,"top","bottom")}}function J0(t,e,n){return{min:Y0(t,e),max:Y0(t,n)}}function Y0(t,e){return typeof t=="number"?t:t[e]||0}const Q0=()=>({translate:0,scale:1,origin:0,originPoint:0}),aa=()=>({x:Q0(),y:Q0()}),X0=()=>({min:0,max:0}),ut=()=>({x:X0(),y:X0()});function _n(t){return[t("x"),t("y")]}function T2({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function $A({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function BA(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function mf(t){return t===void 0||t===1}function Am({scale:t,scaleX:e,scaleY:n}){return!mf(t)||!mf(e)||!mf(n)}function si(t){return Am(t)||j2(t)||t.z||t.rotate||t.rotateX||t.rotateY}function j2(t){return Z0(t.x)||Z0(t.y)}function Z0(t){return t&&t!=="0%"}function Wu(t,e,n){const s=t-n,r=e*s;return n+r}function ev(t,e,n,s,r){return r!==void 0&&(t=Wu(t,r,s)),Wu(t,n,s)+e}function Pm(t,e=0,n=1,s,r){t.min=ev(t.min,e,n,s,r),t.max=ev(t.max,e,n,s,r)}function I2(t,{x:e,y:n}){Pm(t.x,e.translate,e.scale,e.originPoint),Pm(t.y,n.translate,n.scale,n.originPoint)}function zA(t,e,n,s=!1){const r=n.length;if(!r)return;e.x=e.y=1;let a,o;for(let l=0;l<r;l++){a=n[l],o=a.projectionDelta;const c=a.instance;c&&c.style&&c.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&oa(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,I2(t,o)),s&&si(a.latestValues)&&oa(t,a.latestValues))}e.x=tv(e.x),e.y=tv(e.y)}function tv(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function nr(t,e){t.min=t.min+e,t.max=t.max+e}function nv(t,e,[n,s,r]){const a=e[r]!==void 0?e[r]:.5,o=Qe(t.min,t.max,a);Pm(t,e[n],e[s],o,e.scale)}const HA=["x","scaleX","originX"],WA=["y","scaleY","originY"];function oa(t,e){nv(t.x,e,HA),nv(t.y,e,WA)}function k2(t,e){return T2(BA(t.getBoundingClientRect(),e))}function qA(t,e,n){const s=k2(t,n),{scroll:r}=e;return r&&(nr(s.x,r.offset.x),nr(s.y,r.offset.y)),s}const C2=({current:t})=>t?t.ownerDocument.defaultView:null,GA=new WeakMap;class KA{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ut(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor($d(h,"page").point)},a=(h,f)=>{const{drag:p,dragPropagation:v,onDragStart:E}=this.getProps();if(p&&!v&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=z_(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),_n(k=>{let S=this.getAxisMotionValue(k).get()||0;if(ss.test(S)){const{projection:y}=this.visualElement;if(y&&y.layout){const b=y.layout.layoutBox[k];b&&(S=yn(b)*(parseFloat(S)/100))}}this.originPoint[k]=S}),E&&Ue.update(()=>E(h,f),!1,!0);const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(h,f)=>{const{dragPropagation:p,dragDirectionLock:v,onDirectionLock:E,onDrag:w}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:k}=f;if(v&&this.currentDirection===null){this.currentDirection=JA(k),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",f.point,k),this.updateAxis("y",f.point,k),this.visualElement.render(),w&&w(h,f)},l=(h,f)=>this.stop(h,f),c=()=>_n(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new S2(e,{onSessionStart:r,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:C2(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:a}=this.getProps();a&&Ue.update(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:r}=this.getProps();if(!s||!Dc(e,r,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(o=VA(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&ra(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=LA(r.layoutBox,n):this.constraints=!1,this.elastic=UA(s),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&_n(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=FA(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ra(e))return!1;const s=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=qA(s,r.root,this.visualElement.getTransformPagePoint());let o=MA(r.layout.layoutBox,a);if(n){const l=n($A(o));this.hasMutatedConstraints=!!l,l&&(o=T2(l))}return o}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=_n(h=>{if(!Dc(h,n,this.currentDirection))return;let f=c&&c[h]||{};o&&(f={min:0,max:0});const p=r?200:1e6,v=r?40:1e7,E={type:"inertia",velocity:s?e[h]:0,bounceStiffness:p,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(h,E)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return s.start(Ng(e,s,0,n))}stopAnimation(){_n(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){_n(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){_n(n=>{const{drag:s}=this.getProps();if(!Dc(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:l}=r.layout.layoutBox[n];a.set(e[n]-Qe(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!ra(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};_n(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();r[o]=OA({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),_n(o=>{if(!Dc(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Qe(c,d,r[o]))})}addListeners(){if(!this.visualElement.current)return;GA.set(this.visualElement,this);const e=this.visualElement.current,n=Ss(e,"pointerdown",c=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();ra(c)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,a=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),s();const o=ws(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(_n(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=c[h].translate,f.set(f.get()+c[h].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:o=Cm,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function Dc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function JA(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class YA extends Br{constructor(e){super(e),this.removeGroupControls=ot,this.removeListeners=ot,this.controls=new KA(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ot}unmount(){this.removeGroupControls(),this.removeListeners()}}const sv=t=>(e,n)=>{t&&Ue.update(()=>t(e,n))};class QA extends Br{constructor(){super(...arguments),this.removePointerDownListener=ot}onPointerDown(e){this.session=new S2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:C2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:sv(e),onStart:sv(n),onMove:s,onEnd:(a,o)=>{delete this.session,r&&Ue.update(()=>r(a,o))}}}mount(){this.removePointerDownListener=Ss(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function XA(){const t=D.useContext(Ld);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:s}=t,r=D.useId();return D.useEffect(()=>s(r),[]),!e&&n?[!1,()=>n&&n(r)]:[!0]}const eu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function rv(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const _o={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(pe.test(t))t=parseFloat(t);else return t;const n=rv(t,e.target.x),s=rv(t,e.target.y);return`${n}% ${s}%`}},ZA={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,r=Cr.parse(t);if(r.length>5)return s;const a=Cr.createTransformer(t),o=typeof r[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;r[0+o]/=l,r[1+o]/=c;const d=Qe(l,c,.5);return typeof r[2+o]=="number"&&(r[2+o]/=d),typeof r[3+o]=="number"&&(r[3+o]/=d),a(r)}};class eP extends vd.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:a}=e;ok(tP),a&&(n.group&&n.group.add(a),s&&s.register&&r&&s.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),eu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:r,isPresent:a}=this.props,o=s.projection;return o&&(o.isPresent=a,r||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||Ue.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function A2(t){const[e,n]=XA(),s=D.useContext(cg);return vd.createElement(eP,{...t,layoutGroup:s,switchLayoutGroup:D.useContext(T_),isPresent:e,safeToRemove:n})}const tP={borderRadius:{..._o,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_o,borderTopRightRadius:_o,borderBottomLeftRadius:_o,borderBottomRightRadius:_o,boxShadow:ZA},P2=["TopLeft","TopRight","BottomLeft","BottomRight"],nP=P2.length,iv=t=>typeof t=="string"?parseFloat(t):t,av=t=>typeof t=="number"||pe.test(t);function sP(t,e,n,s,r,a){r?(t.opacity=Qe(0,n.opacity!==void 0?n.opacity:1,rP(s)),t.opacityExit=Qe(e.opacity!==void 0?e.opacity:1,0,iP(s))):a&&(t.opacity=Qe(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let o=0;o<nP;o++){const l=`border${P2[o]}Radius`;let c=ov(e,l),d=ov(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||av(c)===av(d)?(t[l]=Math.max(Qe(iv(c),iv(d),s),0),(ss.test(d)||ss.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=Qe(e.rotate||0,n.rotate||0,s))}function ov(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const rP=R2(0,.5,t2),iP=R2(.5,.95,ot);function R2(t,e,n){return s=>s<t?0:s>e?1:n(vl(t,e,s))}function lv(t,e){t.min=e.min,t.max=e.max}function bn(t,e){lv(t.x,e.x),lv(t.y,e.y)}function cv(t,e,n,s,r){return t-=e,t=Wu(t,1/n,s),r!==void 0&&(t=Wu(t,1/r,s)),t}function aP(t,e=0,n=1,s=.5,r,a=t,o=t){if(ss.test(e)&&(e=parseFloat(e),e=Qe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Qe(a.min,a.max,s);t===a&&(l-=e),t.min=cv(t.min,e,n,l,r),t.max=cv(t.max,e,n,l,r)}function uv(t,e,[n,s,r],a,o){aP(t,e[n],e[s],e[r],e.scale,a,o)}const oP=["x","scaleX","originX"],lP=["y","scaleY","originY"];function dv(t,e,n,s){uv(t.x,e,oP,n?n.x:void 0,s?s.x:void 0),uv(t.y,e,lP,n?n.y:void 0,s?s.y:void 0)}function hv(t){return t.translate===0&&t.scale===1}function D2(t){return hv(t.x)&&hv(t.y)}function cP(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function V2(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function fv(t){return yn(t.x)/yn(t.y)}class uP{constructor(){this.members=[]}add(e){Sg(this.members,e),e.scheduleRender()}remove(e){if(Eg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const a=this.members[r];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function mv(t,e,n){let s="";const r=t.x.translate/e.x,a=t.y.translate/e.y;if((r||a)&&(s=`translate3d(${r}px, ${a}px, 0) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:c,rotateX:d,rotateY:h}=n;c&&(s+=`rotate(${c}deg) `),d&&(s+=`rotateX(${d}deg) `),h&&(s+=`rotateY(${h}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(s+=`scale(${o}, ${l})`),s||"none"}const dP=(t,e)=>t.depth-e.depth;class hP{constructor(){this.children=[],this.isDirty=!1}add(e){Sg(this.children,e),this.isDirty=!0}remove(e){Eg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(dP),this.isDirty=!1,this.children.forEach(e)}}function fP(t,e){const n=performance.now(),s=({timestamp:r})=>{const a=r-n;a>=e&&(Ds(s),t(a-e))};return Ue.read(s,!0),()=>Ds(s)}function mP(t){window.MotionDebug&&window.MotionDebug.record(t)}function pP(t){return t instanceof SVGElement&&t.tagName!=="svg"}function gP(t,e,n){const s=an(t)?t:ja(t);return s.start(Ng("",s,e,n)),s.animation}const pv=["","X","Y","Z"],yP={visibility:"hidden"},gv=1e3;let xP=0;const ri={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function L2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(o={},l=e==null?void 0:e()){this.id=xP++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ri.totalNodes=ri.resolvedTargetDeltas=ri.recalculatedProjection=0,this.nodes.forEach(bP),this.nodes.forEach(TP),this.nodes.forEach(jP),this.nodes.forEach(_P),mP(ri)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new hP)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Tg),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=pP(o),this.instance=o;const{layoutId:c,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),t){let f;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=fP(p,250),eu.hasAnimatedSinceResize&&(eu.hasAnimatedSinceResize=!1,this.nodes.forEach(xv))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||d)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:v,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||h.getDefaultTransition()||PP,{onLayoutAnimationStart:k,onLayoutAnimationComplete:S}=h.getProps(),y=!this.targetLayout||!V2(this.targetLayout,E)||v,b=!p&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||p&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const P={..._g(w,"layout"),onPlay:k,onComplete:S};(h.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P)}else p||xv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ds(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(IP),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(yv);return}this.isUpdating||this.nodes.forEach(SP),this.isUpdating=!1,this.nodes.forEach(EP),this.nodes.forEach(vP),this.nodes.forEach(wP),this.clearAllSnapshots();const l=performance.now();Ot.delta=kr(0,1e3/60,l-Ot.timestamp),Ot.timestamp=l,Ot.isProcessing=!0,sf.update.process(Ot),sf.preRender.process(Ot),sf.render.process(Ot),Ot.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(NP),this.sharedNodes.forEach(kP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ue.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ue.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ut(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:s(this.instance),offset:n(this.instance)})}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!D2(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;o&&(l||si(this.latestValues)||h)&&(r(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),RP(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return ut();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(nr(l.x,c.offset.x),nr(l.y,c.offset.y)),l}removeElementScroll(o){const l=ut();bn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:f}=d;if(d!==this.root&&h&&f.layoutScroll){if(h.isRoot){bn(l,o);const{scroll:p}=this.root;p&&(nr(l.x,-p.offset.x),nr(l.y,-p.offset.y))}nr(l.x,h.offset.x),nr(l.y,h.offset.y)}}return l}applyTransform(o,l=!1){const c=ut();bn(c,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&oa(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),si(h.latestValues)&&oa(c,h.latestValues)}return si(this.latestValues)&&oa(c,this.latestValues),c}removeTransform(o){const l=ut();bn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!si(d.latestValues))continue;Am(d.latestValues)&&d.updateSnapshot();const h=ut(),f=d.measurePageBox();bn(h,f),dv(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return si(this.latestValues)&&dv(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ot.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=Ot.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),qo(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ut(),this.targetWithTransforms=ut()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),DA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):bn(this.target,this.layout.layoutBox),I2(this.target,this.targetDelta)):bn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),qo(this.relativeTargetOrigin,this.target,v.target),bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ri.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Am(this.parent.latestValues)||j2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Ot.timestamp&&(d=!1),d)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;bn(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,v=this.treeScale.y;zA(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:E}=l;if(!E){this.projectionTransform&&(this.projectionDelta=aa(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=aa(),this.projectionDeltaWithTransform=aa());const w=this.projectionTransform;Wo(this.projectionDelta,this.layoutCorrected,E,this.latestValues),this.projectionTransform=mv(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==p||this.treeScale.y!==v)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E)),ri.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},h={...this.latestValues},f=aa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=ut(),v=c?c.source:void 0,E=this.layout?this.layout.source:void 0,w=v!==E,k=this.getStack(),S=!k||k.members.length<=1,y=!!(w&&!S&&this.options.crossfade===!0&&!this.path.some(AP));this.animationProgress=0;let b;this.mixTargetDelta=P=>{const M=P/1e3;vv(f.x,o.x,M),vv(f.y,o.y,M),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qo(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),CP(this.relativeTarget,this.relativeTargetOrigin,p,M),b&&cP(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=ut()),bn(b,this.relativeTarget)),w&&(this.animationValues=h,sP(h,d,this.latestValues,M,y,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ds(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ue.update(()=>{eu.hasAnimatedSinceResize=!0,this.currentAnimation=gP(0,gv,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(gv),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:h}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&M2(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||ut();const f=yn(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const p=yn(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+p}bn(l,c),oa(l,h),Wo(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new uP),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const d={};for(let h=0;h<pv.length;h++){const f="rotate"+pv[h];c[f]&&(d[f]=c[f],o.setStaticValue(f,0))}o.render();for(const h in d)o.setStaticValue(h,d[h]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return yP;const d={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Zc(o==null?void 0:o.pointerEvents)||"",d.transform=h?h(this.latestValues,""):"none",d;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Zc(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!si(this.latestValues)&&(w.transform=h?h({},""):"none",this.hasProjected=!1),w}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),d.transform=mv(this.projectionDeltaWithTransform,this.treeScale,p),h&&(d.transform=h(p,d.transform));const{x:v,y:E}=this.projectionDelta;d.transformOrigin=`${v.origin*100}% ${E.origin*100}% 0`,f.animationValues?d.opacity=f===this?(c=(l=p.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:d.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const w in Ou){if(p[w]===void 0)continue;const{correct:k,applyTo:S}=Ou[w],y=d.transform==="none"?p[w]:k(p[w],f);if(S){const b=S.length;for(let P=0;P<b;P++)d[S[P]]=y}else d[w]=y}return this.options.layoutId&&(d.pointerEvents=f===this?Zc(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(yv),this.root.sharedNodes.clear()}}}function vP(t){t.updateLayout()}function wP(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=t.layout,{animationType:a}=t.options,o=n.source!==t.layout.source;a==="size"?_n(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],v=yn(p);p.min=s[f].min,p.max=p.min+v}):M2(a,n.layoutBox,s)&&_n(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],v=yn(s[f]);p.max=p.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+v)});const l=aa();Wo(l,s,n.layoutBox);const c=aa();o?Wo(c,t.applyTransform(r,!0),n.measuredBox):Wo(c,s,n.layoutBox);const d=!D2(l);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:v}=f;if(p&&v){const E=ut();qo(E,n.layoutBox,p.layoutBox);const w=ut();qo(w,s,v.layoutBox),V2(E,w)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=E,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function bP(t){ri.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function _P(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function NP(t){t.clearSnapshot()}function yv(t){t.clearMeasurements()}function SP(t){t.isLayoutDirty=!1}function EP(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function xv(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function TP(t){t.resolveTargetDelta()}function jP(t){t.calcProjection()}function IP(t){t.resetRotation()}function kP(t){t.removeLeadSnapshot()}function vv(t,e,n){t.translate=Qe(e.translate,0,n),t.scale=Qe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function wv(t,e,n,s){t.min=Qe(e.min,n.min,s),t.max=Qe(e.max,n.max,s)}function CP(t,e,n,s){wv(t.x,e.x,n.x,s),wv(t.y,e.y,n.y,s)}function AP(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const PP={duration:.45,ease:[.4,0,.1,1]},bv=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),_v=bv("applewebkit/")&&!bv("chrome/")?Math.round:ot;function Nv(t){t.min=_v(t.min),t.max=_v(t.max)}function RP(t){Nv(t.x),Nv(t.y)}function M2(t,e,n){return t==="position"||t==="preserve-aspect"&&!km(fv(e),fv(n),.2)}const DP=L2({attachResizeListener:(t,e)=>ws(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),pf={current:void 0},O2=L2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!pf.current){const t=new DP({});t.mount(window),t.setOptions({layoutScroll:!0}),pf.current=t}return pf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),VP={pan:{Feature:QA},drag:{Feature:YA,ProjectionNode:O2,MeasureLayout:A2}},LP=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function MP(t){const e=LP.exec(t);if(!e)return[,];const[,n,s]=e;return[n,s]}function Rm(t,e,n=1){const[s,r]=MP(t);if(!s)return;const a=window.getComputedStyle(e).getPropertyValue(s);if(a){const o=a.trim();return w2(o)?parseFloat(o):o}else return _m(r)?Rm(r,e,n+1):r}function OP(t,{...e},n){const s=t.current;if(!(s instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(r=>{const a=r.get();if(!_m(a))return;const o=Rm(a,s);o&&r.set(o)});for(const r in e){const a=e[r];if(!_m(a))continue;const o=Rm(a,s);o&&(e[r]=o,n||(n={}),n[r]===void 0&&(n[r]=a))}return{target:e,transitionEnd:n}}const FP=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),F2=t=>FP.has(t),UP=t=>Object.keys(t).some(F2),Sv=t=>t===Vi||t===pe,Ev=(t,e)=>parseFloat(t.split(", ")[e]),Tv=(t,e)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const r=s.match(/^matrix3d\((.+)\)$/);if(r)return Ev(r[1],e);{const a=s.match(/^matrix\((.+)\)$/);return a?Ev(a[1],t):0}},$P=new Set(["x","y","z"]),BP=Vl.filter(t=>!$P.has(t));function zP(t){const e=[];return BP.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Ia={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Tv(4,13),y:Tv(5,14)};Ia.translateX=Ia.x;Ia.translateY=Ia.y;const HP=(t,e,n)=>{const s=e.measureViewportBox(),r=e.current,a=getComputedStyle(r),{display:o}=a,l={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(d=>{l[d]=Ia[d](s,a)}),e.render();const c=e.measureViewportBox();return n.forEach(d=>{const h=e.getValue(d);h&&h.jump(l[d]),t[d]=Ia[d](c,a)}),t},WP=(t,e,n={},s={})=>{e={...e},s={...s};const r=Object.keys(e).filter(F2);let a=[],o=!1;const l=[];if(r.forEach(c=>{const d=t.getValue(c);if(!t.hasValue(c))return;let h=n[c],f=bo(h);const p=e[c];let v;if(Uu(p)){const E=p.length,w=p[0]===null?1:0;h=p[w],f=bo(h);for(let k=w;k<E&&p[k]!==null;k++)v?yg(bo(p[k])===v):v=bo(p[k])}else v=bo(p);if(f!==v)if(Sv(f)&&Sv(v)){const E=d.get();typeof E=="string"&&d.set(parseFloat(E)),typeof p=="string"?e[c]=parseFloat(p):Array.isArray(p)&&v===pe&&(e[c]=p.map(parseFloat))}else f!=null&&f.transform&&(v!=null&&v.transform)&&(h===0||p===0)?h===0?d.set(v.transform(h)):e[c]=f.transform(p):(o||(a=zP(t),o=!0),l.push(c),s[c]=s[c]!==void 0?s[c]:e[c],d.jump(p))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,d=HP(e,t,l);return a.length&&a.forEach(([h,f])=>{t.getValue(h).set(f)}),t.render(),Md&&c!==null&&window.scrollTo({top:c}),{target:d,transitionEnd:s}}else return{target:e,transitionEnd:s}};function qP(t,e,n,s){return UP(e)?WP(t,e,n,s):{target:e,transitionEnd:s}}const GP=(t,e,n,s)=>{const r=OP(t,e,s);return e=r.target,s=r.transitionEnd,qP(t,e,n,s)},Dm={current:null},U2={current:!1};function KP(){if(U2.current=!0,!!Md)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Dm.current=t.matches;t.addListener(e),e()}else Dm.current=!1}function JP(t,e,n){const{willChange:s}=e;for(const r in e){const a=e[r],o=n[r];if(an(a))t.addValue(r,a),Hu(s)&&s.add(r);else if(an(o))t.addValue(r,ja(a,{owner:t})),Hu(s)&&s.remove(r);else if(o!==a)if(t.hasValue(r)){const l=t.getValue(r);!l.hasAnimated&&l.set(a)}else{const l=t.getStaticValue(r);t.addValue(r,ja(l!==void 0?l:a,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const jv=new WeakMap,$2=Object.keys(xl),YP=$2.length,Iv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],QP=lg.length;class XP{constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:r,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ue.render(this.render,!1,!0);const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.isControllingVariants=Fd(n),this.isVariantNode=E_(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{});for(const f in h){const p=h[f];l[f]!==void 0&&an(p)&&(p.set(l[f],!1),Hu(d)&&d.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,jv.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),U2.current||KP(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Dm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){jv.delete(this.current),this.projection&&this.projection.unmount(),Ds(this.notifyUpdate),Ds(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const s=Di.has(e),r=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Ue.update(this.notifyUpdate,!1,!0),s&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),a()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},s,r,a){let o,l;for(let c=0;c<YP;c++){const d=$2[c],{isEnabled:h,Feature:f,ProjectionNode:p,MeasureLayout:v}=xl[d];p&&(o=p),h(n)&&(!this.features[d]&&f&&(this.features[d]=new f(this)),v&&(l=v))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:d,drag:h,dragConstraints:f,layoutScroll:p,layoutRoot:v}=n;this.projection.setOptions({layoutId:c,layout:d,alwaysMeasureLayout:!!h||f&&ra(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:a,layoutScroll:p,layoutRoot:v})}return l}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ut()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Iv.length;s++){const r=Iv[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const a=e["on"+r];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=JP(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const s=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const n={};for(let s=0;s<QP;s++){const r=lg[s],a=this.props[r];(yl(a)||a===!1)&&(n[r]=a)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=ja(n,{owner:this}),this.addValue(e,s)),s}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:s}=this.props,r=typeof s=="string"||typeof s=="object"?(n=gg(this.props,s))===null||n===void 0?void 0:n[e]:void 0;if(s&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!an(a)?a:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Tg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class B2 extends XP{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...s},{transformValues:r},a){let o=pA(s,e||{},this);if(r&&(n&&(n=r(n)),s&&(s=r(s)),o&&(o=r(o))),a){fA(this,s,o);const l=GP(this,s,o,n);n=l.transitionEnd,s=l.target}return{transition:e,transitionEnd:n,...s}}}function ZP(t){return window.getComputedStyle(t)}class e4 extends B2{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Di.has(n)){const s=bg(n);return s&&s.default||0}else{const s=ZP(e),r=(k_(n)?s.getPropertyValue(n):s[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return k2(e,n)}build(e,n,s,r){dg(e,n,s,r.transformTemplate)}scrapeMotionValuesFromProps(e,n){return pg(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;an(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,s,r){V_(e,n,s,r)}}class t4 extends B2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Di.has(n)){const s=bg(n);return s&&s.default||0}return n=L_.has(n)?n:ag(n),e.getAttribute(n)}measureInstanceViewportBox(){return ut()}scrapeMotionValuesFromProps(e,n){return O_(e,n)}build(e,n,s,r){fg(e,n,s,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,s,r){M_(e,n,s,r)}mount(e){this.isSVGTag=mg(e.tagName),super.mount(e)}}const n4=(t,e)=>ug(t)?new t4(e,{enableHardwareAcceleration:!1}):new e4(e,{enableHardwareAcceleration:!0}),s4={layout:{ProjectionNode:O2,MeasureLayout:A2}},r4={...CA,...Yk,...VP,...s4},U=ik((t,e)=>Mk(t,e,r4,n4));function z2(){const t=D.useRef(!1);return ig(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function i4(){const t=z2(),[e,n]=D.useState(0),s=D.useCallback(()=>{t.current&&n(e+1)},[e]);return[D.useCallback(()=>Ue.postRender(s),[s]),e]}class a4 extends D.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function o4({children:t,isPresent:e}){const n=D.useId(),s=D.useRef(null),r=D.useRef({width:0,height:0,top:0,left:0});return D.useInsertionEffect(()=>{const{width:a,height:o,top:l,left:c}=r.current;if(e||!s.current||!a||!o)return;s.current.dataset.motionPopId=n;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),D.createElement(a4,{isPresent:e,childRef:s,sizeRef:r},D.cloneElement(t,{ref:s}))}const gf=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:a,mode:o})=>{const l=F_(l4),c=D.useId(),d=D.useMemo(()=>({id:c,initial:e,isPresent:n,custom:r,onExitComplete:h=>{l.set(h,!0);for(const f of l.values())if(!f)return;s&&s()},register:h=>(l.set(h,!1),()=>l.delete(h))}),a?void 0:[n]);return D.useMemo(()=>{l.forEach((h,f)=>l.set(f,!1))},[n]),D.useEffect(()=>{!n&&!l.size&&s&&s()},[n]),o==="popLayout"&&(t=D.createElement(o4,{isPresent:n},t)),D.createElement(Ld.Provider,{value:d},t)};function l4(){return new Map}function c4(t){return D.useEffect(()=>()=>t(),[])}const ii=t=>t.key||"";function u4(t,e){t.forEach(n=>{const s=ii(n);e.set(s,n)})}function d4(t){const e=[];return D.Children.forEach(t,n=>{D.isValidElement(n)&&e.push(n)}),e}const ft=({children:t,custom:e,initial:n=!0,onExitComplete:s,exitBeforeEnter:r,presenceAffectsLayout:a=!0,mode:o="sync"})=>{const l=D.useContext(cg).forceRender||i4()[0],c=z2(),d=d4(t);let h=d;const f=D.useRef(new Map).current,p=D.useRef(h),v=D.useRef(new Map).current,E=D.useRef(!0);if(ig(()=>{E.current=!1,u4(d,v),p.current=h}),c4(()=>{E.current=!0,v.clear(),f.clear()}),E.current)return D.createElement(D.Fragment,null,h.map(y=>D.createElement(gf,{key:ii(y),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:a,mode:o},y)));h=[...h];const w=p.current.map(ii),k=d.map(ii),S=w.length;for(let y=0;y<S;y++){const b=w[y];k.indexOf(b)===-1&&!f.has(b)&&f.set(b,void 0)}return o==="wait"&&f.size&&(h=[]),f.forEach((y,b)=>{if(k.indexOf(b)!==-1)return;const P=v.get(b);if(!P)return;const M=w.indexOf(b);let B=y;if(!B){const I=()=>{f.delete(b);const _=Array.from(v.keys()).filter(T=>!k.includes(T));if(_.forEach(T=>v.delete(T)),p.current=d.filter(T=>{const C=ii(T);return C===b||_.includes(C)}),!f.size){if(c.current===!1)return;l(),s&&s()}};B=D.createElement(gf,{key:ii(P),isPresent:!1,onExitComplete:I,custom:e,presenceAffectsLayout:a,mode:o},P),f.set(b,B)}h.splice(M,0,B)}),h=h.map(y=>{const b=y.key;return f.has(b)?y:D.createElement(gf,{key:ii(y),isPresent:!0,presenceAffectsLayout:a,mode:o},y)}),D.createElement(D.Fragment,null,f.size?h:h.map(y=>D.cloneElement(y)))};class Fl{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const h4=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},kt={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:h4()},jg=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},f4=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=jg(t);kt.publicKey=n.publicKey,kt.blockHeadless=n.blockHeadless,kt.storageProvider=n.storageProvider,kt.blockList=n.blockList,kt.limitRate=n.limitRate,kt.origin=n.origin||e},H2=async(t,e,n={})=>{const s=await fetch(kt.origin+t,{method:"POST",headers:n,body:e}),r=await s.text(),a=new Fl(s.status,r);if(s.ok)return a;throw a},W2=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},m4=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},q2=t=>t.webdriver||!t.languages||t.languages.length===0,G2=()=>new Fl(451,"Unavailable For Headless Browser"),p4=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},g4=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},y4=(t,e)=>t instanceof FormData?t.get(e):t[e],K2=(t,e)=>{if(g4(t))return!1;p4(t.list,t.watchVariable);const n=y4(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},J2=()=>new Fl(403,"Forbidden"),x4=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},v4=async(t,e,n)=>{const s=Number(await n.get(t)||0);return e-Date.now()+s},Y2=async(t,e,n)=>{if(!e.throttle||!n)return!1;x4(e.throttle,e.id);const s=e.id||t;return await v4(s,e.throttle,n)>0?!0:(await n.set(s,Date.now().toString()),!1)},Q2=()=>new Fl(429,"Too Many Requests"),w4=async(t,e,n,s)=>{const r=jg(s),a=r.publicKey||kt.publicKey,o=r.blockHeadless||kt.blockHeadless,l=r.storageProvider||kt.storageProvider,c={...kt.blockList,...r.blockList},d={...kt.limitRate,...r.limitRate};return o&&q2(navigator)?Promise.reject(G2()):(W2(a,t,e),m4(n),n&&K2(c,n)?Promise.reject(J2()):await Y2(location.pathname,d,l)?Promise.reject(Q2()):H2("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:a,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},b4=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},_4=t=>typeof t=="string"?document.querySelector(t):t,N4=async(t,e,n,s)=>{const r=jg(s),a=r.publicKey||kt.publicKey,o=r.blockHeadless||kt.blockHeadless,l=kt.storageProvider||r.storageProvider,c={...kt.blockList,...r.blockList},d={...kt.limitRate,...r.limitRate};if(o&&q2(navigator))return Promise.reject(G2());const h=_4(n);W2(a,t,e),b4(h);const f=new FormData(h);return K2(c,f)?Promise.reject(J2()):await Y2(location.pathname,d,l)?Promise.reject(Q2()):(f.append("lib_version","4.4.1"),f.append("service_id",t),f.append("template_id",e),f.append("user_id",a),H2("/api/v1.0/email/send-form",f))},qu={init:f4,send:w4,sendForm:N4,EmailJSResponseStatus:Fl};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var S4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),te=(t,e)=>{const n=D.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:c,...d},h)=>D.createElement("svg",{ref:h,...S4,width:r,height:r,stroke:s,strokeWidth:o?Number(a)*24/Number(r):a,className:["lucide",`lucide-${E4(t)}`,l].join(" "),...d},[...e.map(([f,p])=>D.createElement(f,p)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=te("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=te("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=te("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=te("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=te("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=te("BadgeDollarSign",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=te("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=te("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=te("Bitcoin",[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=te("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=te("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=te("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=te("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=te("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=te("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=te("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=te("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=te("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=te("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=te("DownloadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m8 17 4 4 4-4",key:"1ul180"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=te("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=te("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=te("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=te("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=te("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=te("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=te("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=te("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=te("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=te("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=te("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=te("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=te("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=te("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=te("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=te("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=te("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=te("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=te("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=te("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=te("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=te("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=te("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=te("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=te("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=te("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=te("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=te("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=te("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=te("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=te("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=te("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=te("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=te("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=te("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),W4=()=>{};var Pv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},q4=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const a=t[n++];e[s++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=t[n++],o=t[n++],l=t[n++],c=((r&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(c>>10)),e[s++]=String.fromCharCode(56320+(c&1023))}else{const a=t[n++],o=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(a&63)<<6|o&63)}}return e.join("")},hN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const a=t[r],o=r+1<t.length,l=o?t[r+1]:0,c=r+2<t.length,d=c?t[r+2]:0,h=a>>2,f=(a&3)<<4|l>>4;let p=(l&15)<<2|d>>6,v=d&63;c||(v=64,o||(p=64)),s.push(n[h],n[f],n[p],n[v])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):q4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const a=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const d=r<t.length?n[t.charAt(r)]:64;++r;const f=r<t.length?n[t.charAt(r)]:64;if(++r,a==null||l==null||d==null||f==null)throw new G4;const p=a<<2|l>>4;if(s.push(p),d!==64){const v=l<<4&240|d>>2;if(s.push(v),f!==64){const E=d<<6&192|f;s.push(E)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class G4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const K4=function(t){const e=dN(t);return hN.encodeByteArray(e,!0)},Xu=function(t){return K4(t).replace(/\./g,"")},fN=function(t){try{return hN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4=()=>J4().__FIREBASE_DEFAULTS__,Q4=()=>{if(typeof process>"u"||typeof Pv>"u")return;const t=Pv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},X4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&fN(t[1]);return e&&JSON.parse(e)},zd=()=>{try{return W4()||Y4()||Q4()||X4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mN=t=>{var e,n;return(n=(e=zd())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Z4=t=>{const e=mN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},pN=()=>{var t;return(t=zd())==null?void 0:t.config},gN=t=>{var e;return(e=zd())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function yN(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Xu(JSON.stringify(n)),Xu(JSON.stringify(o)),""].join(".")}const Ko={};function n5(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ko))Ko[e]?t.emulator.push(e):t.prod.push(e);return t}function s5(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Rv=!1;function xN(t,e){if(typeof window>"u"||typeof document>"u"||!$a(window.location.host)||Ko[t]===e||Ko[t]||Rv)return;Ko[t]=e;function n(p){return`__firebase__banner__${p}`}const s="__firebase__banner",a=n5().prod.length>0;function o(){const p=document.getElementById(s);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,v){p.setAttribute("width","24"),p.setAttribute("id",v),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function d(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{Rv=!0,o()},p}function h(p,v){p.setAttribute("id",v),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=s5(s),v=n("text"),E=document.getElementById(v)||document.createElement("span"),w=n("learnmore"),k=document.getElementById(w)||document.createElement("a"),S=n("preprendIcon"),y=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const b=p.element;l(b),h(k,w);const P=d();c(y,S),b.append(y,E,k,P),document.body.appendChild(b)}a?(E.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function r5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ht())}function i5(){var e;const t=(e=zd())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function a5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function o5(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function l5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function c5(){const t=Ht();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function u5(){return!i5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function d5(){try{return typeof indexedDB=="object"}catch{return!1}}function h5(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var a;e(((a=r.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5="FirebaseError";class Us extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=f5,Object.setPrototypeOf(this,Us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zl.prototype.create)}}class zl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,a=this.errors[e],o=a?m5(a,s):"Error",l=`${this.serviceName}: ${o} (${r}).`;return new Us(r,l,s)}}function m5(t,e){return t.replace(p5,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const p5=/\{\$([^}]+)}/g;function g5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ei(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const a=t[r],o=e[r];if(Dv(a)&&Dv(o)){if(!Ei(a,o))return!1}else if(a!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function Dv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Io(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[r,a]=s.split("=");e[decodeURIComponent(r)]=decodeURIComponent(a)}}),e}function ko(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function y5(t,e){const n=new x5(t,e);return n.subscribe.bind(n)}class x5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let r;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");v5(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:s},r.next===void 0&&(r.next=yf),r.error===void 0&&(r.error=yf),r.complete===void 0&&(r.complete=yf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function v5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function yf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(t){return t&&t._delegate?t._delegate:t}class Ti{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new e5;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_5(e))try{this.getOrInitializeService({instanceIdentifier:ai})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:r});s.resolve(a)}catch{}}}}clearInstance(e=ai){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ai){return this.instances.has(e)}getOptions(e=ai){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);s===l&&o.resolve(r)}return r}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(s)??new Set;r.add(e),this.onInitCallbacks.set(s,r);const a=this.instances.get(s);return a&&e(a,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:b5(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ai){return this.component?this.component.multipleInstances?e:ai:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function b5(t){return t===ai?void 0:t}function _5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new w5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ie||(Ie={}));const S5={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},E5=Ie.INFO,T5={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},j5=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=T5[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pg{constructor(e){this.name=e,this._logLevel=E5,this._logHandler=j5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?S5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}}const I5=(t,e)=>e.some(n=>t instanceof n);let Vv,Lv;function k5(){return Vv||(Vv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function C5(){return Lv||(Lv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vN=new WeakMap,Om=new WeakMap,wN=new WeakMap,xf=new WeakMap,Rg=new WeakMap;function A5(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(_r(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&vN.set(n,t)}).catch(()=>{}),Rg.set(e,t),e}function P5(t){if(Om.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});Om.set(t,e)}let Fm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Om.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _r(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function R5(t){Fm=t(Fm)}function D5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(vf(this),e,...n);return wN.set(s,e.sort?e.sort():[e]),_r(s)}:C5().includes(t)?function(...e){return t.apply(vf(this),e),_r(vN.get(this))}:function(...e){return _r(t.apply(vf(this),e))}}function V5(t){return typeof t=="function"?D5(t):(t instanceof IDBTransaction&&P5(t),I5(t,k5())?new Proxy(t,Fm):t)}function _r(t){if(t instanceof IDBRequest)return A5(t);if(xf.has(t))return xf.get(t);const e=V5(t);return e!==t&&(xf.set(t,e),Rg.set(e,t)),e}const vf=t=>Rg.get(t);function L5(t,e,{blocked:n,upgrade:s,blocking:r,terminated:a}={}){const o=indexedDB.open(t,e),l=_r(o);return s&&o.addEventListener("upgradeneeded",c=>{s(_r(o.result),c.oldVersion,c.newVersion,_r(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),r&&c.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const M5=["get","getKey","getAll","getAllKeys","count"],O5=["put","add","delete","clear"],wf=new Map;function Mv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wf.get(e))return wf.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=O5.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||M5.includes(n)))return;const a=async function(o,...l){const c=this.transaction(o,r?"readwrite":"readonly");let d=c.store;return s&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),r&&c.done]))[0]};return wf.set(e,a),a}R5(t=>({...t,get:(e,n,s)=>Mv(e,n)||t.get(e,n,s),has:(e,n)=>!!Mv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(U5(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function U5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Um="@firebase/app",Ov="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=new Pg("@firebase/app"),$5="@firebase/app-compat",B5="@firebase/analytics-compat",z5="@firebase/analytics",H5="@firebase/app-check-compat",W5="@firebase/app-check",q5="@firebase/auth",G5="@firebase/auth-compat",K5="@firebase/database",J5="@firebase/data-connect",Y5="@firebase/database-compat",Q5="@firebase/functions",X5="@firebase/functions-compat",Z5="@firebase/installations",eR="@firebase/installations-compat",tR="@firebase/messaging",nR="@firebase/messaging-compat",sR="@firebase/performance",rR="@firebase/performance-compat",iR="@firebase/remote-config",aR="@firebase/remote-config-compat",oR="@firebase/storage",lR="@firebase/storage-compat",cR="@firebase/firestore",uR="@firebase/ai",dR="@firebase/firestore-compat",hR="firebase",fR="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="[DEFAULT]",mR={[Um]:"fire-core",[$5]:"fire-core-compat",[z5]:"fire-analytics",[B5]:"fire-analytics-compat",[W5]:"fire-app-check",[H5]:"fire-app-check-compat",[q5]:"fire-auth",[G5]:"fire-auth-compat",[K5]:"fire-rtdb",[J5]:"fire-data-connect",[Y5]:"fire-rtdb-compat",[Q5]:"fire-fn",[X5]:"fire-fn-compat",[Z5]:"fire-iid",[eR]:"fire-iid-compat",[tR]:"fire-fcm",[nR]:"fire-fcm-compat",[sR]:"fire-perf",[rR]:"fire-perf-compat",[iR]:"fire-rc",[aR]:"fire-rc-compat",[oR]:"fire-gcs",[lR]:"fire-gcs-compat",[cR]:"fire-fst",[dR]:"fire-fst-compat",[uR]:"fire-vertex","fire-js":"fire-js",[hR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=new Map,pR=new Map,Bm=new Map;function Fv(t,e){try{t.container.addComponent(e)}catch(n){Vs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ca(t){const e=t.name;if(Bm.has(e))return Vs.debug(`There were multiple attempts to register component ${e}.`),!1;Bm.set(e,t);for(const n of Zu.values())Fv(n,t);for(const n of pR.values())Fv(n,t);return!0}function Dg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function dn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Nr=new zl("app","Firebase",gR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ti("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Nr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=fR;function bN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:$m,automaticDataCollectionEnabled:!0,...e},r=s.name;if(typeof r!="string"||!r)throw Nr.create("bad-app-name",{appName:String(r)});if(n||(n=pN()),!n)throw Nr.create("no-options");const a=Zu.get(r);if(a){if(Ei(n,a.options)&&Ei(s,a.config))return a;throw Nr.create("duplicate-app",{appName:r})}const o=new N5(r);for(const c of Bm.values())o.addComponent(c);const l=new yR(n,s,o);return Zu.set(r,l),l}function _N(t=$m){const e=Zu.get(t);if(!e&&t===$m&&pN())return bN();if(!e)throw Nr.create("no-app",{appName:t});return e}function Sr(t,e,n){let s=mR[t]??t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),a=e.match(/\s|\//);if(r||a){const o=[`Unable to register library "${s}" with version "${e}":`];r&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vs.warn(o.join(" "));return}Ca(new Ti(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR="firebase-heartbeat-database",vR=1,wl="firebase-heartbeat-store";let bf=null;function NN(){return bf||(bf=L5(xR,vR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Nr.create("idb-open",{originalErrorMessage:t.message})})),bf}async function wR(t){try{const n=(await NN()).transaction(wl),s=await n.objectStore(wl).get(SN(t));return await n.done,s}catch(e){if(e instanceof Us)Vs.warn(e.message);else{const n=Nr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vs.warn(n.message)}}}async function Uv(t,e){try{const s=(await NN()).transaction(wl,"readwrite");await s.objectStore(wl).put(e,SN(t)),await s.done}catch(n){if(n instanceof Us)Vs.warn(n.message);else{const s=Nr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Vs.warn(s.message)}}}function SN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=1024,_R=30;class NR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ER(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=$v();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>_R){const o=TR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Vs.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$v(),{heartbeatsToSend:s,unsentEntries:r}=SR(this._heartbeatsCache.heartbeats),a=Xu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Vs.warn(n),""}}}function $v(){return new Date().toISOString().substring(0,10)}function SR(t,e=bR){const n=[];let s=t.slice();for(const r of t){const a=n.find(o=>o.agent===r.agent);if(a){if(a.dates.push(r.date),Bv(n)>e){a.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Bv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class ER{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return d5()?h5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Uv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Uv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Bv(t){return Xu(JSON.stringify({version:2,heartbeats:t})).length}function TR(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(t){Ca(new Ti("platform-logger",e=>new F5(e),"PRIVATE")),Ca(new Ti("heartbeat",e=>new NR(e),"PRIVATE")),Sr(Um,Ov,t),Sr(Um,Ov,"esm2020"),Sr("fire-js","")}jR("");var IR="firebase",kR="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sr(IR,kR,"app");function EN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CR=EN,TN=new zl("auth","Firebase",EN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=new Pg("@firebase/auth");function AR(t,...e){ed.logLevel<=Ie.WARN&&ed.warn(`Auth (${Ba}): ${t}`,...e)}function ru(t,...e){ed.logLevel<=Ie.ERROR&&ed.error(`Auth (${Ba}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(t,...e){throw Lg(t,...e)}function $n(t,...e){return Lg(t,...e)}function Vg(t,e,n){const s={...CR(),[e]:n};return new zl("auth","Firebase",s).create(e,{appName:t.name})}function Is(t){return Vg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function PR(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&An(t,"argument-error"),Vg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Lg(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return TN.create(t,...e)}function ge(t,e,...n){if(!t)throw Lg(e,...n)}function bs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ru(e),new Error(e)}function Ls(t,e){t||bs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function RR(){return zv()==="http:"||zv()==="https:"}function zv(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RR()||o5()||"connection"in navigator)?navigator.onLine:!0}function VR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ls(n>e,"Short delay should be less than long delay!"),this.isMobile=r5()||l5()}get(){return DR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(t,e){Ls(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OR=new Wl(3e4,6e4);function $s(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function hs(t,e,n,s,r={}){return IN(t,r,async()=>{let a={},o={};s&&(e==="GET"?o=s:a={body:JSON.stringify(s)});const l=Hl({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...a};return a5()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&$a(t.emulatorConfig.host)&&(d.credentials="include"),jN.fetch()(await kN(t,t.config.apiHost,n,l),d)})}async function IN(t,e,n){t._canInitEmulator=!1;const s={...LR,...e};try{const r=new UR(t),a=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Vc(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vc(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Vc(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Vc(t,"user-disabled",o);const h=s[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Vg(t,h,d);An(t,h)}}catch(r){if(r instanceof Us)throw r;An(t,"network-request-failed",{message:String(r)})}}async function ql(t,e,n,s,r={}){const a=await hs(t,e,n,s,r);return"mfaPendingCredential"in a&&An(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function kN(t,e,n,s){const r=`${e}${n}?${s}`,a=t,o=a.config.emulator?Mg(t.config,r):`${t.config.apiScheme}://${r}`;return MR.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function FR(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class UR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s($n(this.auth,"network-request-failed")),OR.get())})}}function Vc(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=$n(t,e,s);return r.customData._tokenResponse=n,r}function Hv(t){return t!==void 0&&t.enterprise!==void 0}class $R{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return FR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function BR(t,e){return hs(t,"GET","/v2/recaptchaConfig",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zR(t,e){return hs(t,"POST","/v1/accounts:delete",e)}async function td(t,e){return hs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function HR(t,e=!1){const n=wt(t),s=await n.getIdToken(e),r=Og(s);ge(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const a=typeof r.firebase=="object"?r.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:r,token:s,authTime:Jo(_f(r.auth_time)),issuedAtTime:Jo(_f(r.iat)),expirationTime:Jo(_f(r.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function _f(t){return Number(t)*1e3}function Og(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return ru("JWT malformed, contained fewer than 3 sections"),null;try{const r=fN(n);return r?JSON.parse(r):(ru("Failed to decode base64 JWT payload"),null)}catch(r){return ru("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function Wv(t){const e=Og(t);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aa(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Us&&WR(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function WR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jo(this.lastLoginAt),this.creationTime=Jo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nd(t){var f;const e=t.auth,n=await t.getIdToken(),s=await Aa(t,td(e,{idToken:n}));ge(s==null?void 0:s.users.length,e,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const a=(f=r.providerUserInfo)!=null&&f.length?CN(r.providerUserInfo):[],o=KR(t.providerData,a),l=t.isAnonymous,c=!(t.email&&r.passwordHash)&&!(o!=null&&o.length),d=l?c:!1,h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Hm(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function GR(t){const e=wt(t);await nd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function KR(t,e){return[...t.filter(s=>!e.some(r=>r.providerId===s.providerId)),...e]}function CN(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JR(t,e){const n=await IN(t,{},async()=>{const s=Hl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:a}=t.config,o=await kN(t,r,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:s};return t.emulatorConfig&&$a(t.emulatorConfig.host)&&(c.credentials="include"),jN.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function YR(t,e){return hs(t,"POST","/v2/accounts:revokeToken",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Wv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const n=Wv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:r,expiresIn:a}=await JR(e,n);this.updateTokensAndExpiration(s,r,Number(a))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:r,expirationTime:a}=n,o=new ga;return s&&(ge(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),r&&(ge(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),a&&(ge(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ga,this.toJSON())}_performRefresh(){return bs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(t,e){ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class On{constructor({uid:e,auth:n,stsTokenManager:s,...r}){this.providerId="firebase",this.proactiveRefresh=new qR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Hm(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await Aa(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return HR(this,e)}reload(){return GR(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new On({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await nd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dn(this.auth.app))return Promise.reject(Is(this.auth));const e=await this.getIdToken();return await Aa(this,zR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,r=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:p,isAnonymous:v,providerData:E,stsTokenManager:w}=n;ge(f&&w,e,"internal-error");const k=ga.fromJSON(this.name,w);ge(typeof f=="string",e,"internal-error"),Xs(s,e.name),Xs(r,e.name),ge(typeof p=="boolean",e,"internal-error"),ge(typeof v=="boolean",e,"internal-error"),Xs(a,e.name),Xs(o,e.name),Xs(l,e.name),Xs(c,e.name),Xs(d,e.name),Xs(h,e.name);const S=new On({uid:f,auth:e,email:r,emailVerified:p,displayName:s,isAnonymous:v,photoURL:o,phoneNumber:a,tenantId:l,stsTokenManager:k,createdAt:d,lastLoginAt:h});return E&&Array.isArray(E)&&(S.providerData=E.map(y=>({...y}))),c&&(S._redirectEventId=c),S}static async _fromIdTokenResponse(e,n,s=!1){const r=new ga;r.updateFromServerResponse(n);const a=new On({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await nd(a),a}static async _fromGetAccountInfoResponse(e,n,s){const r=n.users[0];ge(r.localId!==void 0,"internal-error");const a=r.providerUserInfo!==void 0?CN(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(a!=null&&a.length),l=new ga;l.updateFromIdToken(s);const c=new On({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Hm(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv=new Map;function _s(t){Ls(t instanceof Function,"Expected a class definition");let e=qv.get(t);return e?(Ls(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,qv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}AN.type="NONE";const Gv=AN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(t,e,n){return`firebase:${t}:${e}:${n}`}class ya{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:r,name:a}=this.auth;this.fullUserKey=iu(this.userKey,r.apiKey,a),this.fullPersistenceKey=iu("persistence",r.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await td(this.auth,{idToken:e}).catch(()=>{});return n?On._fromGetAccountInfoResponse(this.auth,n,e):null}return On._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ya(_s(Gv),e,s);const r=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=r[0]||_s(Gv);const o=iu(s,e.config.apiKey,e.name);let l=null;for(const d of n)try{const h=await d._get(o);if(h){let f;if(typeof h=="string"){const p=await td(e,{idToken:h}).catch(()=>{});if(!p)break;f=await On._fromGetAccountInfoResponse(e,p,h)}else f=On._fromJSON(e,h);d!==a&&(l=f),a=d;break}}catch{}const c=r.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new ya(a,e,s):(a=c[0],l&&await a._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==a)try{await d._remove(o)}catch{}})),new ya(a,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(VN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MN(e))return"Blackberry";if(ON(e))return"Webos";if(RN(e))return"Safari";if((e.includes("chrome/")||DN(e))&&!e.includes("edge/"))return"Chrome";if(LN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function PN(t=Ht()){return/firefox\//i.test(t)}function RN(t=Ht()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DN(t=Ht()){return/crios\//i.test(t)}function VN(t=Ht()){return/iemobile/i.test(t)}function LN(t=Ht()){return/android/i.test(t)}function MN(t=Ht()){return/blackberry/i.test(t)}function ON(t=Ht()){return/webos/i.test(t)}function Fg(t=Ht()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function QR(t=Ht()){var e;return Fg(t)&&!!((e=window.navigator)!=null&&e.standalone)}function XR(){return c5()&&document.documentMode===10}function FN(t=Ht()){return Fg(t)||LN(t)||ON(t)||MN(t)||/windows phone/i.test(t)||VN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(t,e=[]){let n;switch(t){case"Browser":n=Kv(Ht());break;case"Worker":n=`${Kv(Ht())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ba}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=a=>new Promise((o,l)=>{try{const c=e(a);o(c)}catch(c){l(c)}});s.onAbort=n,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(t,e={}){return hs(t,"GET","/v2/passwordPolicy",$s(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=6;class nD{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??tD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let r=0;r<e.length;r++)s=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,n,s,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jv(this),this.idTokenSubscription=new Jv(this),this.beforeStateQueue=new ZR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_s(n)),this._initializationPromise=this.queue(async()=>{var s,r,a;if(!this._deleted&&(this.persistenceManager=await ya.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await td(this,{idToken:e}),s=await On._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(dn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(a=this.redirectUser)==null?void 0:a._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(s=c.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await nd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=VR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(dn(this.app))return Promise.reject(Is(this));const n=e?wt(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return dn(this.app)?Promise.reject(Is(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return dn(this.app)?Promise.reject(Is(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_s(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await eD(this),n=new nD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new zl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await YR(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_s(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=await ya.create(this,[_s(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,r){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,s,r);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&AR(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Bs(t){return wt(t)}class Jv{constructor(e){this.auth=e,this.observer=null,this.addObserver=y5(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rD(t){Hd=t}function $N(t){return Hd.loadJS(t)}function iD(){return Hd.recaptchaEnterpriseScript}function aD(){return Hd.gapiScript}function oD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class lD{constructor(){this.enterprise=new cD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class cD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const uD="recaptcha-enterprise",BN="NO_RECAPTCHA";class dD{constructor(e){this.type=uD,this.auth=Bs(e)}async verify(e="verify",n=!1){async function s(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,l)=>{BR(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new $R(c);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,o(d.siteKey)}}).catch(c=>{l(c)})})}function r(a,o,l){const c=window.grecaptcha;Hv(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(d=>{o(d)}).catch(()=>{o(BN)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new lD().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{s(this.auth).then(l=>{if(!n&&Hv(window.grecaptcha))r(l,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=iD();c.length!==0&&(c+=l),$N(c).then(()=>{r(l,a,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function Yv(t,e,n,s=!1,r=!1){const a=new dD(t);let o;if(r)o=BN;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return s?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function sd(t,e,n,s,r){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Yv(t,e,n,n==="getOobCode");return s(t,o)}else return s(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Yv(t,e,n,n==="getOobCode");return s(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(t,e){const n=Dg(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),a=n.getOptions();if(Ei(a,e??{}))return r;An(r,"already-initialized")}return n.initialize({options:e})}function fD(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(_s);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function mD(t,e,n){const s=Bs(t);ge(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const r=!1,a=zN(e),{host:o,port:l}=pD(e),c=l===null?"":`:${l}`,d={url:`${a}//${o}${c}/`},h=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!s._canInitEmulator){ge(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ge(Ei(d,s.config.emulator)&&Ei(h,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=d,s.emulatorConfig=h,s.settings.appVerificationDisabledForTesting=!0,$a(o)?(yN(`${a}//${o}${c}`),xN("Auth",!0)):gD()}function zN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function pD(t){const e=zN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const a=r[1];return{host:a,port:Qv(s.substr(a.length+1))}}else{const[a,o]=s.split(":");return{host:a,port:Qv(o)}}}function Qv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function gD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return bs("not implemented")}_getIdTokenResponse(e){return bs("not implemented")}_linkToIdToken(e,n){return bs("not implemented")}_getReauthenticationResolver(e){return bs("not implemented")}}async function yD(t,e){return hs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD(t,e){return ql(t,"POST","/v1/accounts:signInWithPassword",$s(t,e))}async function vD(t,e){return hs(t,"POST","/v1/accounts:sendOobCode",$s(t,e))}async function wD(t,e){return vD(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bD(t,e){return ql(t,"POST","/v1/accounts:signInWithEmailLink",$s(t,e))}async function _D(t,e){return ql(t,"POST","/v1/accounts:signInWithEmailLink",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl extends Ug{constructor(e,n,s,r=null){super("password",s),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new bl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new bl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sd(e,n,"signInWithPassword",xD);case"emailLink":return bD(e,{email:this._email,oobCode:this._password});default:An(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sd(e,s,"signUpPassword",yD);case"emailLink":return _D(e,{idToken:n,email:this._email,oobCode:this._password});default:An(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xa(t,e){return ql(t,"POST","/v1/accounts:signInWithIdp",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND="http://localhost";class ji extends Ug{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ji(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):An("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:r,...a}=n;if(!s||!r)return null;const o=new ji(s,r);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return xa(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,xa(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xa(e,n)}buildRequest(){const e={requestUri:ND,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Hl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ED(t){const e=Io(ko(t)).link,n=e?Io(ko(e)).deep_link_id:null,s=Io(ko(t)).deep_link_id;return(s?Io(ko(s)).link:null)||s||n||e||t}class $g{constructor(e){const n=Io(ko(e)),s=n.apiKey??null,r=n.oobCode??null,a=SD(n.mode??null);ge(s&&r&&a,"argument-error"),this.apiKey=s,this.operation=a,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=ED(e);try{return new $g(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(){this.providerId=za.PROVIDER_ID}static credential(e,n){return bl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=$g.parseLink(n);return ge(s,"argument-error"),bl._fromEmailAndCode(e,s.code,s.tenantId)}}za.PROVIDER_ID="password";za.EMAIL_PASSWORD_SIGN_IN_METHOD="password";za.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl extends Bg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends Gl{constructor(){super("facebook.com")}static credential(e){return ji._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ir.credential(e.oauthAccessToken)}catch{return null}}}ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";ir.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends Gl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ji._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ys.credential(n,s)}catch{return null}}}ys.GOOGLE_SIGN_IN_METHOD="google.com";ys.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends Gl{constructor(){super("github.com")}static credential(e){return ji._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ar.credential(e.oauthAccessToken)}catch{return null}}}ar.GITHUB_SIGN_IN_METHOD="github.com";ar.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends Gl{constructor(){super("twitter.com")}static credential(e,n){return ji._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return or.credential(n,s)}catch{return null}}}or.TWITTER_SIGN_IN_METHOD="twitter.com";or.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TD(t,e){return ql(t,"POST","/v1/accounts:signUp",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,r=!1){const a=await On._fromIdTokenResponse(e,s,r),o=Xv(s);return new Ii({user:a,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const r=Xv(s);return new Ii({user:e,providerId:r,_tokenResponse:s,operationType:n})}}function Xv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd extends Us{constructor(e,n,s,r){super(n.code,n.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,rd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,r){return new rd(e,n,s,r)}}function HN(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?rd._fromErrorAndOperation(t,a,e,s):a})}async function jD(t,e,n=!1){const s=await Aa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ii._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ID(t,e,n=!1){const{auth:s}=t;if(dn(s.app))return Promise.reject(Is(s));const r="reauthenticate";try{const a=await Aa(t,HN(s,r,e,t),n);ge(a.idToken,s,"internal-error");const o=Og(a.idToken);ge(o,s,"internal-error");const{sub:l}=o;return ge(t.uid===l,s,"user-mismatch"),Ii._forOperation(t,r,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&An(s,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WN(t,e,n=!1){if(dn(t.app))return Promise.reject(Is(t));const s="signIn",r=await HN(t,s,e),a=await Ii._fromIdTokenResponse(t,s,r);return n||await t._updateCurrentUser(a.user),a}async function kD(t,e){return WN(Bs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qN(t){const e=Bs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function CD(t,e,n){const s=Bs(t);await sd(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",wD)}async function AD(t,e,n){if(dn(t.app))return Promise.reject(Is(t));const s=Bs(t),o=await sd(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",TD).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&qN(t),c}),l=await Ii._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(l.user),l}function PD(t,e,n){return dn(t.app)?Promise.reject(Is(t)):kD(wt(t),za.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&qN(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RD(t,e){return hs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DD(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=wt(t),a={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Aa(s,RD(s.auth,a));s.displayName=o.displayName||null,s.photoURL=o.photoUrl||null;const l=s.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=s.displayName,l.photoURL=s.photoURL),await s._updateTokensIfNecessary(o)}function VD(t,e,n,s){return wt(t).onIdTokenChanged(e,n,s)}function LD(t,e,n){return wt(t).beforeAuthStateChanged(e,n)}function GN(t){return wt(t).signOut()}const id="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(id,"1"),this.storage.removeItem(id),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=1e3,OD=10;class JN extends KN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),r=this.localCache[n];s!==r&&e(n,r,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const s=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},a=this.storage.getItem(s);XR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,OD):r()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},MD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}JN.type="LOCAL";const FD=JN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN extends KN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}YN.type="SESSION";const QN=YN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const s=new Wd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:r,data:a}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const l=Array.from(o).map(async d=>d(n.origin,a)),c=await UD(l);n.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,o;return new Promise((l,c)=>{const d=zg("",20);r.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},s);o={messageChannel:r,onMessage(f){const p=f;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(p.data.response);break;default:clearTimeout(h),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(){return window}function BD(t){as().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(){return typeof as().WorkerGlobalScope<"u"&&typeof as().importScripts=="function"}async function zD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function WD(){return XN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN="firebaseLocalStorageDb",qD=1,ad="firebaseLocalStorage",eS="fbase_key";class Kl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qd(t,e){return t.transaction([ad],e?"readwrite":"readonly").objectStore(ad)}function GD(){const t=indexedDB.deleteDatabase(ZN);return new Kl(t).toPromise()}function Wm(){const t=indexedDB.open(ZN,qD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(ad,{keyPath:eS})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(ad)?e(s):(s.close(),await GD(),e(await Wm()))})})}async function Zv(t,e,n){const s=qd(t,!0).put({[eS]:e,value:n});return new Kl(s).toPromise()}async function KD(t,e){const n=qd(t,!1).get(e),s=await new Kl(n).toPromise();return s===void 0?null:s.value}function ew(t,e){const n=qd(t,!0).delete(e);return new Kl(n).toPromise()}const JD=800,YD=3;class tS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>YD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wd._getInstance(WD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await zD(),!this.activeServiceWorker)return;this.sender=new $D(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||HD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wm();return await Zv(e,id,"1"),await ew(e,id),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Zv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>KD(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ew(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const a=qd(r,!1).getAll();return new Kl(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:r,value:a}of e)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tS.type="LOCAL";const QD=tS;new Wl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(t,e){return e?_s(e):(ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg extends Ug{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function XD(t){return WN(t.auth,new Hg(t),t.bypassAuthState)}function ZD(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),ID(n,new Hg(t),t.bypassAuthState)}async function e3(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),jD(n,new Hg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,n,s,r,a=!1){this.auth=e,this.resolver=s,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:r,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:s,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return XD;case"linkViaPopup":case"linkViaRedirect":return e3;case"reauthViaPopup":case"reauthViaRedirect":return ZD;default:An(this.auth,"internal-error")}}resolve(e){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3=new Wl(2e3,1e4);async function n3(t,e,n){if(dn(t.app))return Promise.reject($n(t,"operation-not-supported-in-this-environment"));const s=Bs(t);PR(t,e,Bg);const r=nS(s,n);return new di(s,"signInViaPopup",e,r).executeNotNull()}class di extends sS{constructor(e,n,s,r,a){super(e,n,r,a),this.provider=s,this.authWindow=null,this.pollId=null,di.currentPopupAction&&di.currentPopupAction.cancel(),di.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){Ls(this.filter.length===1,"Popup operations only handle one event");const e=zg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject($n(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject($n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,di.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($n(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,t3.get())};e()}}di.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3="pendingRedirect",au=new Map;class r3 extends sS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=au.get(this.auth._key());if(!e){try{const s=await i3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}au.set(this.auth._key(),e)}return this.bypassAuthState||au.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function i3(t,e){const n=l3(e),s=o3(t);if(!await s._isAvailable())return!1;const r=await s._get(n)==="true";return await s._remove(n),r}function a3(t,e){au.set(t._key(),e)}function o3(t){return _s(t._redirectPersistence)}function l3(t){return iu(s3,t.config.apiKey,t.name)}async function c3(t,e,n=!1){if(dn(t.app))return Promise.reject(Is(t));const s=Bs(t),r=nS(s,e),o=await new r3(s,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3=10*60*1e3;class d3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!h3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!rS(e)){const r=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError($n(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=u3&&this.cachedEventUids.clear(),this.cachedEventUids.has(tw(e))}saveEventToCache(e){this.cachedEventUids.add(tw(e)),this.lastProcessedEventTime=Date.now()}}function tw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function rS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function h3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f3(t,e={}){return hs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,p3=/^https?/;async function g3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await f3(t);for(const n of e)try{if(y3(n))return}catch{}An(t,"unauthorized-domain")}function y3(t){const e=zm(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!p3.test(n))return!1;if(m3.test(t))return s===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3=new Wl(3e4,6e4);function nw(){const t=as().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function v3(t){return new Promise((e,n)=>{var r,a,o;function s(){nw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nw(),n($n(t,"network-request-failed"))},timeout:x3.get()})}if((a=(r=as().gapi)==null?void 0:r.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((o=as().gapi)!=null&&o.load)s();else{const l=oD("iframefcb");return as()[l]=()=>{gapi.load?s():n($n(t,"network-request-failed"))},$N(`${aD()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw ou=null,e})}let ou=null;function w3(t){return ou=ou||v3(t),ou}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3=new Wl(5e3,15e3),_3="__/auth/iframe",N3="emulator/auth/iframe",S3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},E3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function T3(t){const e=t.config;ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Mg(e,N3):`https://${t.config.authDomain}/${_3}`,s={apiKey:e.apiKey,appName:t.name,v:Ba},r=E3.get(t.config.apiHost);r&&(s.eid=r);const a=t._getFrameworks();return a.length&&(s.fw=a.join(",")),`${n}?${Hl(s).slice(1)}`}async function j3(t){const e=await w3(t),n=as().gapi;return ge(n,t,"internal-error"),e.open({where:document.body,url:T3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:S3,dontclear:!0},s=>new Promise(async(r,a)=>{await s.restyle({setHideOnLeave:!1});const o=$n(t,"network-request-failed"),l=as().setTimeout(()=>{a(o)},b3.get());function c(){as().clearTimeout(l),r(s)}s.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},k3=500,C3=600,A3="_blank",P3="http://localhost";class sw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function R3(t,e,n,s=k3,r=C3){const a=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let l="";const c={...I3,width:s.toString(),height:r.toString(),top:a,left:o},d=Ht().toLowerCase();n&&(l=DN(d)?A3:n),PN(d)&&(e=e||P3,c.scrollbars="yes");const h=Object.entries(c).reduce((p,[v,E])=>`${p}${v}=${E},`,"");if(QR(d)&&l!=="_self")return D3(e||"",l),new sw(null);const f=window.open(e||"",l,h);ge(f,t,"popup-blocked");try{f.focus()}catch{}return new sw(f)}function D3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3="__/auth/handler",L3="emulator/auth/handler",M3=encodeURIComponent("fac");async function rw(t,e,n,s,r,a){ge(t.config.authDomain,t,"auth-domain-config-required"),ge(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Ba,eventId:r};if(e instanceof Bg){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",g5(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Gl){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),d=c?`#${M3}=${encodeURIComponent(c)}`:"";return`${O3(t)}?${Hl(l).slice(1)}${d}`}function O3({config:t}){return t.emulator?Mg(t,L3):`https://${t.authDomain}/${V3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf="webStorageSupport";class F3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QN,this._completeRedirectFn=c3,this._overrideRedirectResult=a3}async _openPopup(e,n,s,r){var o;Ls((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await rw(e,n,s,zm(),r);return R3(e,a,zg())}async _openRedirect(e,n,s,r){await this._originValidation(e);const a=await rw(e,n,s,zm(),r);return BD(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:a}=this.eventManagers[n];return r?Promise.resolve(r):(Ls(a,"If manager is not set, promise should be"),a)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await j3(e),s=new d3(e);return n.register("authEvent",r=>(ge(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:s.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nf,{type:Nf},r=>{var o;const a=(o=r==null?void 0:r[0])==null?void 0:o[Nf];a!==void 0&&n(!!a),An(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=g3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return FN()||RN()||Fg()}}const U3=F3;var iw="@firebase/auth",aw="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function z3(t){Ca(new Ti("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=s.options;ge(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UN(t)},d=new sD(s,r,a,c);return fD(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ca(new Ti("auth-internal",e=>{const n=Bs(e.getProvider("auth").getImmediate());return(s=>new $3(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Sr(iw,aw,B3(t)),Sr(iw,aw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3=5*60,W3=gN("authIdTokenMaxAge")||H3;let ow=null;const q3=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>W3)return;const r=n==null?void 0:n.token;ow!==r&&(ow=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function G3(t=_N()){const e=Dg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=hD(t,{popupRedirectResolver:U3,persistence:[QD,FD,QN]}),s=gN("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(s,location.origin);if(location.origin===a.origin){const o=q3(a.toString());LD(n,o,()=>o(n.currentUser)),VD(n,l=>o(l))}}const r=mN("auth");return r&&mD(n,`http://${r}`),n}function K3(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}rD({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=r=>{const a=$n("internal-error");a.customData=r,n(a)},s.type="text/javascript",s.charset="UTF-8",K3().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});z3("Browser");var lw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Er,iS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,_){function T(){}T.prototype=_.prototype,I.F=_.prototype,I.prototype=new T,I.prototype.constructor=I,I.D=function(C,R,L){for(var A=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)A[fe-2]=arguments[fe];return _.prototype[R].apply(C,A)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(I,_,T){T||(T=0);const C=Array(16);if(typeof _=="string")for(var R=0;R<16;++R)C[R]=_.charCodeAt(T++)|_.charCodeAt(T++)<<8|_.charCodeAt(T++)<<16|_.charCodeAt(T++)<<24;else for(R=0;R<16;++R)C[R]=_[T++]|_[T++]<<8|_[T++]<<16|_[T++]<<24;_=I.g[0],T=I.g[1],R=I.g[2];let L=I.g[3],A;A=_+(L^T&(R^L))+C[0]+3614090360&4294967295,_=T+(A<<7&4294967295|A>>>25),A=L+(R^_&(T^R))+C[1]+3905402710&4294967295,L=_+(A<<12&4294967295|A>>>20),A=R+(T^L&(_^T))+C[2]+606105819&4294967295,R=L+(A<<17&4294967295|A>>>15),A=T+(_^R&(L^_))+C[3]+3250441966&4294967295,T=R+(A<<22&4294967295|A>>>10),A=_+(L^T&(R^L))+C[4]+4118548399&4294967295,_=T+(A<<7&4294967295|A>>>25),A=L+(R^_&(T^R))+C[5]+1200080426&4294967295,L=_+(A<<12&4294967295|A>>>20),A=R+(T^L&(_^T))+C[6]+2821735955&4294967295,R=L+(A<<17&4294967295|A>>>15),A=T+(_^R&(L^_))+C[7]+4249261313&4294967295,T=R+(A<<22&4294967295|A>>>10),A=_+(L^T&(R^L))+C[8]+1770035416&4294967295,_=T+(A<<7&4294967295|A>>>25),A=L+(R^_&(T^R))+C[9]+2336552879&4294967295,L=_+(A<<12&4294967295|A>>>20),A=R+(T^L&(_^T))+C[10]+4294925233&4294967295,R=L+(A<<17&4294967295|A>>>15),A=T+(_^R&(L^_))+C[11]+2304563134&4294967295,T=R+(A<<22&4294967295|A>>>10),A=_+(L^T&(R^L))+C[12]+1804603682&4294967295,_=T+(A<<7&4294967295|A>>>25),A=L+(R^_&(T^R))+C[13]+4254626195&4294967295,L=_+(A<<12&4294967295|A>>>20),A=R+(T^L&(_^T))+C[14]+2792965006&4294967295,R=L+(A<<17&4294967295|A>>>15),A=T+(_^R&(L^_))+C[15]+1236535329&4294967295,T=R+(A<<22&4294967295|A>>>10),A=_+(R^L&(T^R))+C[1]+4129170786&4294967295,_=T+(A<<5&4294967295|A>>>27),A=L+(T^R&(_^T))+C[6]+3225465664&4294967295,L=_+(A<<9&4294967295|A>>>23),A=R+(_^T&(L^_))+C[11]+643717713&4294967295,R=L+(A<<14&4294967295|A>>>18),A=T+(L^_&(R^L))+C[0]+3921069994&4294967295,T=R+(A<<20&4294967295|A>>>12),A=_+(R^L&(T^R))+C[5]+3593408605&4294967295,_=T+(A<<5&4294967295|A>>>27),A=L+(T^R&(_^T))+C[10]+38016083&4294967295,L=_+(A<<9&4294967295|A>>>23),A=R+(_^T&(L^_))+C[15]+3634488961&4294967295,R=L+(A<<14&4294967295|A>>>18),A=T+(L^_&(R^L))+C[4]+3889429448&4294967295,T=R+(A<<20&4294967295|A>>>12),A=_+(R^L&(T^R))+C[9]+568446438&4294967295,_=T+(A<<5&4294967295|A>>>27),A=L+(T^R&(_^T))+C[14]+3275163606&4294967295,L=_+(A<<9&4294967295|A>>>23),A=R+(_^T&(L^_))+C[3]+4107603335&4294967295,R=L+(A<<14&4294967295|A>>>18),A=T+(L^_&(R^L))+C[8]+1163531501&4294967295,T=R+(A<<20&4294967295|A>>>12),A=_+(R^L&(T^R))+C[13]+2850285829&4294967295,_=T+(A<<5&4294967295|A>>>27),A=L+(T^R&(_^T))+C[2]+4243563512&4294967295,L=_+(A<<9&4294967295|A>>>23),A=R+(_^T&(L^_))+C[7]+1735328473&4294967295,R=L+(A<<14&4294967295|A>>>18),A=T+(L^_&(R^L))+C[12]+2368359562&4294967295,T=R+(A<<20&4294967295|A>>>12),A=_+(T^R^L)+C[5]+4294588738&4294967295,_=T+(A<<4&4294967295|A>>>28),A=L+(_^T^R)+C[8]+2272392833&4294967295,L=_+(A<<11&4294967295|A>>>21),A=R+(L^_^T)+C[11]+1839030562&4294967295,R=L+(A<<16&4294967295|A>>>16),A=T+(R^L^_)+C[14]+4259657740&4294967295,T=R+(A<<23&4294967295|A>>>9),A=_+(T^R^L)+C[1]+2763975236&4294967295,_=T+(A<<4&4294967295|A>>>28),A=L+(_^T^R)+C[4]+1272893353&4294967295,L=_+(A<<11&4294967295|A>>>21),A=R+(L^_^T)+C[7]+4139469664&4294967295,R=L+(A<<16&4294967295|A>>>16),A=T+(R^L^_)+C[10]+3200236656&4294967295,T=R+(A<<23&4294967295|A>>>9),A=_+(T^R^L)+C[13]+681279174&4294967295,_=T+(A<<4&4294967295|A>>>28),A=L+(_^T^R)+C[0]+3936430074&4294967295,L=_+(A<<11&4294967295|A>>>21),A=R+(L^_^T)+C[3]+3572445317&4294967295,R=L+(A<<16&4294967295|A>>>16),A=T+(R^L^_)+C[6]+76029189&4294967295,T=R+(A<<23&4294967295|A>>>9),A=_+(T^R^L)+C[9]+3654602809&4294967295,_=T+(A<<4&4294967295|A>>>28),A=L+(_^T^R)+C[12]+3873151461&4294967295,L=_+(A<<11&4294967295|A>>>21),A=R+(L^_^T)+C[15]+530742520&4294967295,R=L+(A<<16&4294967295|A>>>16),A=T+(R^L^_)+C[2]+3299628645&4294967295,T=R+(A<<23&4294967295|A>>>9),A=_+(R^(T|~L))+C[0]+4096336452&4294967295,_=T+(A<<6&4294967295|A>>>26),A=L+(T^(_|~R))+C[7]+1126891415&4294967295,L=_+(A<<10&4294967295|A>>>22),A=R+(_^(L|~T))+C[14]+2878612391&4294967295,R=L+(A<<15&4294967295|A>>>17),A=T+(L^(R|~_))+C[5]+4237533241&4294967295,T=R+(A<<21&4294967295|A>>>11),A=_+(R^(T|~L))+C[12]+1700485571&4294967295,_=T+(A<<6&4294967295|A>>>26),A=L+(T^(_|~R))+C[3]+2399980690&4294967295,L=_+(A<<10&4294967295|A>>>22),A=R+(_^(L|~T))+C[10]+4293915773&4294967295,R=L+(A<<15&4294967295|A>>>17),A=T+(L^(R|~_))+C[1]+2240044497&4294967295,T=R+(A<<21&4294967295|A>>>11),A=_+(R^(T|~L))+C[8]+1873313359&4294967295,_=T+(A<<6&4294967295|A>>>26),A=L+(T^(_|~R))+C[15]+4264355552&4294967295,L=_+(A<<10&4294967295|A>>>22),A=R+(_^(L|~T))+C[6]+2734768916&4294967295,R=L+(A<<15&4294967295|A>>>17),A=T+(L^(R|~_))+C[13]+1309151649&4294967295,T=R+(A<<21&4294967295|A>>>11),A=_+(R^(T|~L))+C[4]+4149444226&4294967295,_=T+(A<<6&4294967295|A>>>26),A=L+(T^(_|~R))+C[11]+3174756917&4294967295,L=_+(A<<10&4294967295|A>>>22),A=R+(_^(L|~T))+C[2]+718787259&4294967295,R=L+(A<<15&4294967295|A>>>17),A=T+(L^(R|~_))+C[9]+3951481745&4294967295,I.g[0]=I.g[0]+_&4294967295,I.g[1]=I.g[1]+(R+(A<<21&4294967295|A>>>11))&4294967295,I.g[2]=I.g[2]+R&4294967295,I.g[3]=I.g[3]+L&4294967295}s.prototype.v=function(I,_){_===void 0&&(_=I.length);const T=_-this.blockSize,C=this.C;let R=this.h,L=0;for(;L<_;){if(R==0)for(;L<=T;)r(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<_;)if(C[R++]=I.charCodeAt(L++),R==this.blockSize){r(this,C),R=0;break}}else for(;L<_;)if(C[R++]=I[L++],R==this.blockSize){r(this,C),R=0;break}}this.h=R,this.o+=_},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var _=1;_<I.length-8;++_)I[_]=0;_=this.o*8;for(var T=I.length-8;T<I.length;++T)I[T]=_&255,_/=256;for(this.v(I),I=Array(16),_=0,T=0;T<4;++T)for(let C=0;C<32;C+=8)I[_++]=this.g[T]>>>C&255;return I};function a(I,_){var T=l;return Object.prototype.hasOwnProperty.call(T,I)?T[I]:T[I]=_(I)}function o(I,_){this.h=_;const T=[];let C=!0;for(let R=I.length-1;R>=0;R--){const L=I[R]|0;C&&L==_||(T[R]=L,C=!1)}this.g=T}var l={};function c(I){return-128<=I&&I<128?a(I,function(_){return new o([_|0],_<0?-1:0)}):new o([I|0],I<0?-1:0)}function d(I){if(isNaN(I)||!isFinite(I))return f;if(I<0)return k(d(-I));const _=[];let T=1;for(let C=0;I>=T;C++)_[C]=I/T|0,T*=4294967296;return new o(_,0)}function h(I,_){if(I.length==0)throw Error("number format error: empty string");if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(I.charAt(0)=="-")return k(h(I.substring(1),_));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const T=d(Math.pow(_,8));let C=f;for(let L=0;L<I.length;L+=8){var R=Math.min(8,I.length-L);const A=parseInt(I.substring(L,L+R),_);R<8?(R=d(Math.pow(_,R)),C=C.j(R).add(d(A))):(C=C.j(T),C=C.add(d(A)))}return C}var f=c(0),p=c(1),v=c(16777216);t=o.prototype,t.m=function(){if(w(this))return-k(this).m();let I=0,_=1;for(let T=0;T<this.g.length;T++){const C=this.i(T);I+=(C>=0?C:4294967296+C)*_,_*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(E(this))return"0";if(w(this))return"-"+k(this).toString(I);const _=d(Math.pow(I,6));var T=this;let C="";for(;;){const R=P(T,_).g;T=S(T,R.j(_));let L=((T.g.length>0?T.g[0]:T.h)>>>0).toString(I);if(T=R,E(T))return L+C;for(;L.length<6;)L="0"+L;C=L+C}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function E(I){if(I.h!=0)return!1;for(let _=0;_<I.g.length;_++)if(I.g[_]!=0)return!1;return!0}function w(I){return I.h==-1}t.l=function(I){return I=S(this,I),w(I)?-1:E(I)?0:1};function k(I){const _=I.g.length,T=[];for(let C=0;C<_;C++)T[C]=~I.g[C];return new o(T,~I.h).add(p)}t.abs=function(){return w(this)?k(this):this},t.add=function(I){const _=Math.max(this.g.length,I.g.length),T=[];let C=0;for(let R=0;R<=_;R++){let L=C+(this.i(R)&65535)+(I.i(R)&65535),A=(L>>>16)+(this.i(R)>>>16)+(I.i(R)>>>16);C=A>>>16,L&=65535,A&=65535,T[R]=A<<16|L}return new o(T,T[T.length-1]&-2147483648?-1:0)};function S(I,_){return I.add(k(_))}t.j=function(I){if(E(this)||E(I))return f;if(w(this))return w(I)?k(this).j(k(I)):k(k(this).j(I));if(w(I))return k(this.j(k(I)));if(this.l(v)<0&&I.l(v)<0)return d(this.m()*I.m());const _=this.g.length+I.g.length,T=[];for(var C=0;C<2*_;C++)T[C]=0;for(C=0;C<this.g.length;C++)for(let R=0;R<I.g.length;R++){const L=this.i(C)>>>16,A=this.i(C)&65535,fe=I.i(R)>>>16,oe=I.i(R)&65535;T[2*C+2*R]+=A*oe,y(T,2*C+2*R),T[2*C+2*R+1]+=L*oe,y(T,2*C+2*R+1),T[2*C+2*R+1]+=A*fe,y(T,2*C+2*R+1),T[2*C+2*R+2]+=L*fe,y(T,2*C+2*R+2)}for(I=0;I<_;I++)T[I]=T[2*I+1]<<16|T[2*I];for(I=_;I<2*_;I++)T[I]=0;return new o(T,0)};function y(I,_){for(;(I[_]&65535)!=I[_];)I[_+1]+=I[_]>>>16,I[_]&=65535,_++}function b(I,_){this.g=I,this.h=_}function P(I,_){if(E(_))throw Error("division by zero");if(E(I))return new b(f,f);if(w(I))return _=P(k(I),_),new b(k(_.g),k(_.h));if(w(_))return _=P(I,k(_)),new b(k(_.g),_.h);if(I.g.length>30){if(w(I)||w(_))throw Error("slowDivide_ only works with positive integers.");for(var T=p,C=_;C.l(I)<=0;)T=M(T),C=M(C);var R=B(T,1),L=B(C,1);for(C=B(C,2),T=B(T,2);!E(C);){var A=L.add(C);A.l(I)<=0&&(R=R.add(T),L=A),C=B(C,1),T=B(T,1)}return _=S(I,R.j(_)),new b(R,_)}for(R=f;I.l(_)>=0;){for(T=Math.max(1,Math.floor(I.m()/_.m())),C=Math.ceil(Math.log(T)/Math.LN2),C=C<=48?1:Math.pow(2,C-48),L=d(T),A=L.j(_);w(A)||A.l(I)>0;)T-=C,L=d(T),A=L.j(_);E(L)&&(L=p),R=R.add(L),I=S(I,A)}return new b(R,I)}t.B=function(I){return P(this,I).h},t.and=function(I){const _=Math.max(this.g.length,I.g.length),T=[];for(let C=0;C<_;C++)T[C]=this.i(C)&I.i(C);return new o(T,this.h&I.h)},t.or=function(I){const _=Math.max(this.g.length,I.g.length),T=[];for(let C=0;C<_;C++)T[C]=this.i(C)|I.i(C);return new o(T,this.h|I.h)},t.xor=function(I){const _=Math.max(this.g.length,I.g.length),T=[];for(let C=0;C<_;C++)T[C]=this.i(C)^I.i(C);return new o(T,this.h^I.h)};function M(I){const _=I.g.length+1,T=[];for(let C=0;C<_;C++)T[C]=I.i(C)<<1|I.i(C-1)>>>31;return new o(T,I.h)}function B(I,_){const T=_>>5;_%=32;const C=I.g.length-T,R=[];for(let L=0;L<C;L++)R[L]=_>0?I.i(L+T)>>>_|I.i(L+T+1)<<32-_:I.i(L+T);return new o(R,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,iS=s,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,Er=o}).apply(typeof lw<"u"?lw:typeof self<"u"?self:typeof window<"u"?window:{});var Lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aS,Co,oS,lu,qm,lS,cS,uS;(function(){var t,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lc=="object"&&Lc];for(var m=0;m<u.length;++m){var g=u[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=n(this);function r(u,m){if(m)e:{var g=s;u=u.split(".");for(var j=0;j<u.length-1;j++){var F=u[j];if(!(F in g))break e;g=g[F]}u=u[u.length-1],j=g[u],m=m(j),m!=j&&m!=null&&e(g,u,{configurable:!0,writable:!0,value:m})}}r("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(u){return u||function(m){var g=[],j;for(j in m)Object.prototype.hasOwnProperty.call(m,j)&&g.push([j,m[j]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function c(u,m,g){return u.call.apply(u.bind,arguments)}function d(u,m,g){return d=c,d.apply(null,arguments)}function h(u,m){var g=Array.prototype.slice.call(arguments,1);return function(){var j=g.slice();return j.push.apply(j,arguments),u.apply(this,j)}}function f(u,m){function g(){}g.prototype=m.prototype,u.Z=m.prototype,u.prototype=new g,u.prototype.constructor=u,u.Ob=function(j,F,z){for(var Q=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)Q[Se-2]=arguments[Se];return m.prototype[F].apply(j,Q)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function v(u){const m=u.length;if(m>0){const g=Array(m);for(let j=0;j<m;j++)g[j]=u[j];return g}return[]}function E(u,m){for(let j=1;j<arguments.length;j++){const F=arguments[j];var g=typeof F;if(g=g!="object"?g:F?Array.isArray(F)?"array":g:"null",g=="array"||g=="object"&&typeof F.length=="number"){g=u.length||0;const z=F.length||0;u.length=g+z;for(let Q=0;Q<z;Q++)u[g+Q]=F[Q]}else u.push(F)}}class w{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function k(u){o.setTimeout(()=>{throw u},0)}function S(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class y{constructor(){this.h=this.g=null}add(m,g){const j=b.get();j.set(m,g),this.h?this.h.next=j:this.g=j,this.h=j}}var b=new w(()=>new P,u=>u.reset());class P{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let M,B=!1,I=new y,_=()=>{const u=Promise.resolve(void 0);M=()=>{u.then(T)}};function T(){for(var u;u=S();){try{u.h.call(u.g)}catch(g){k(g)}var m=b;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}B=!1}function C(){this.u=this.u,this.C=this.C}C.prototype.u=!1,C.prototype.dispose=function(){this.u||(this.u=!0,this.N())},C.prototype[Symbol.dispose]=function(){this.dispose()},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var L=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};o.addEventListener("test",g,m),o.removeEventListener("test",g,m)}catch{}return u}();function A(u){return/^[\s\xa0]*$/.test(u)}function fe(u,m){R.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}f(fe,R),fe.prototype.init=function(u,m){const g=this.type=u.type,j=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(g=="mouseover"?m=u.fromElement:g=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&fe.Z.h.call(this)},fe.prototype.h=function(){fe.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var oe="closure_listenable_"+(Math.random()*1e6|0),ue=0;function re(u,m,g,j,F){this.listener=u,this.proxy=null,this.src=m,this.type=g,this.capture=!!j,this.ha=F,this.key=++ue,this.da=this.fa=!1}function V(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function $(u,m,g){for(const j in u)m.call(g,u[j],j,u)}function ee(u,m){for(const g in u)m.call(void 0,u[g],g,u)}function Y(u){const m={};for(const g in u)m[g]=u[g];return m}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(u,m){let g,j;for(let F=1;F<arguments.length;F++){j=arguments[F];for(g in j)u[g]=j[g];for(let z=0;z<G.length;z++)g=G[z],Object.prototype.hasOwnProperty.call(j,g)&&(u[g]=j[g])}}function O(u){this.src=u,this.g={},this.h=0}O.prototype.add=function(u,m,g,j,F){const z=u.toString();u=this.g[z],u||(u=this.g[z]=[],this.h++);const Q=ae(u,m,j,F);return Q>-1?(m=u[Q],g||(m.fa=!1)):(m=new re(m,this.src,z,!!j,F),m.fa=g,u.push(m)),m};function le(u,m){const g=m.type;if(g in u.g){var j=u.g[g],F=Array.prototype.indexOf.call(j,m,void 0),z;(z=F>=0)&&Array.prototype.splice.call(j,F,1),z&&(V(m),u.g[g].length==0&&(delete u.g[g],u.h--))}}function ae(u,m,g,j){for(let F=0;F<u.length;++F){const z=u[F];if(!z.da&&z.listener==m&&z.capture==!!g&&z.ha==j)return F}return-1}var _e="closure_lm_"+(Math.random()*1e6|0),xe={};function qe(u,m,g,j,F){if(Array.isArray(m)){for(let z=0;z<m.length;z++)qe(u,m[z],g,j,F);return null}return g=zs(g),u&&u[oe]?u.J(m,g,l(j)?!!j.capture:!1,F):Et(u,m,g,!1,j,F)}function Et(u,m,g,j,F,z){if(!m)throw Error("Invalid event type");const Q=l(F)?!!F.capture:!!F;let Se=Tt(u);if(Se||(u[_e]=Se=new O(u)),g=Se.add(m,g,j,Q,z),g.proxy)return g;if(j=Ee(),g.proxy=j,j.src=u,j.listener=g,u.addEventListener)L||(F=Q),F===void 0&&(F=!1),u.addEventListener(m.toString(),j,F);else if(u.attachEvent)u.attachEvent(lt(m.toString()),j);else if(u.addListener&&u.removeListener)u.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Ee(){function u(g){return m.call(u.src,u.listener,g)}const m=Qt;return u}function rt(u,m,g,j,F){if(Array.isArray(m))for(var z=0;z<m.length;z++)rt(u,m[z],g,j,F);else j=l(j)?!!j.capture:!!j,g=zs(g),u&&u[oe]?(u=u.i,z=String(m).toString(),z in u.g&&(m=u.g[z],g=ae(m,g,j,F),g>-1&&(V(m[g]),Array.prototype.splice.call(m,g,1),m.length==0&&(delete u.g[z],u.h--)))):u&&(u=Tt(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ae(m,g,j,F)),(g=u>-1?m[u]:null)&&Dt(g))}function Dt(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[oe])le(m.i,u);else{var g=u.type,j=u.proxy;m.removeEventListener?m.removeEventListener(g,j,u.capture):m.detachEvent?m.detachEvent(lt(g),j):m.addListener&&m.removeListener&&m.removeListener(j),(g=Tt(m))?(le(g,u),g.h==0&&(g.src=null,m[_e]=null)):V(u)}}}function lt(u){return u in xe?xe[u]:xe[u]="on"+u}function Qt(u,m){if(u.da)u=!0;else{m=new fe(m,this);const g=u.listener,j=u.ha||u.src;u.fa&&Dt(u),u=g.call(j,m)}return u}function Tt(u){return u=u[_e],u instanceof O?u:null}var Wn="__closure_events_fn_"+(Math.random()*1e9>>>0);function zs(u){return typeof u=="function"?u:(u[Wn]||(u[Wn]=function(m){return u.handleEvent(m)}),u[Wn])}function Ge(){C.call(this),this.i=new O(this),this.M=this,this.G=null}f(Ge,C),Ge.prototype[oe]=!0,Ge.prototype.removeEventListener=function(u,m,g,j){rt(this,u,m,g,j)};function Le(u,m){var g,j=u.G;if(j)for(g=[];j;j=j.G)g.push(j);if(u=u.M,j=m.type||m,typeof m=="string")m=new R(m,u);else if(m instanceof R)m.target=m.target||u;else{var F=m;m=new R(j,u),ce(m,F)}F=!0;let z,Q;if(g)for(Q=g.length-1;Q>=0;Q--)z=m.g=g[Q],F=qr(z,j,!0,m)&&F;if(z=m.g=u,F=qr(z,j,!0,m)&&F,F=qr(z,j,!1,m)&&F,g)for(Q=0;Q<g.length;Q++)z=m.g=g[Q],F=qr(z,j,!1,m)&&F}Ge.prototype.N=function(){if(Ge.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const g=u.g[m];for(let j=0;j<g.length;j++)V(g[j]);delete u.g[m],u.h--}}this.G=null},Ge.prototype.J=function(u,m,g,j){return this.i.add(String(u),m,!1,g,j)},Ge.prototype.K=function(u,m,g,j){return this.i.add(String(u),m,!0,g,j)};function qr(u,m,g,j){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let F=!0;for(let z=0;z<m.length;++z){const Q=m[z];if(Q&&!Q.da&&Q.capture==g){const Se=Q.listener,pt=Q.ha||Q.src;Q.fa&&le(u.i,Q),F=Se.call(pt,j)!==!1&&F}}return F&&!j.defaultPrevented}function Ja(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=d(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:o.setTimeout(u,m||0)}function Ya(u){u.g=Ja(()=>{u.g=null,u.i&&(u.i=!1,Ya(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class mh extends C{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ya(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gr(u){C.call(this),this.h=u,this.g={}}f(Gr,C);var qn=[];function sc(u){$(u.g,function(m,g){this.g.hasOwnProperty(g)&&Dt(m)},u),u.g={}}Gr.prototype.N=function(){Gr.Z.N.call(this),sc(this)},Gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qa=o.JSON.stringify,ph=o.JSON.parse,gh=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function Pn(){}function Xa(){}var Kr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Za(){R.call(this,"d")}f(Za,R);function Oi(){R.call(this,"c")}f(Oi,R);var Gn={},eo=null;function x(){return eo=eo||new Ge}Gn.Ia="serverreachability";function Z(u){R.call(this,Gn.Ia,u)}f(Z,R);function q(u){const m=x();Le(m,new Z(m))}Gn.STAT_EVENT="statevent";function ie(u,m){R.call(this,Gn.STAT_EVENT,u),this.stat=m}f(ie,R);function Re(u){const m=x();Le(m,new ie(m,u))}Gn.Ja="timingevent";function me(u,m){R.call(this,Gn.Ja,u),this.size=m}f(me,R);function ve(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},m)}function he(){this.g=!0}he.prototype.ua=function(){this.g=!1};function Ne(u,m,g,j,F,z){u.info(function(){if(u.g)if(z){var Q="",Se=z.split("&");for(let Me=0;Me<Se.length;Me++){var pt=Se[Me].split("=");if(pt.length>1){const bt=pt[0];pt=pt[1];const Jn=bt.split("_");Q=Jn.length>=2&&Jn[1]=="type"?Q+(bt+"="+pt+"&"):Q+(bt+"=redacted&")}}}else Q=null;else Q=z;return"XMLHTTP REQ ("+j+") [attempt "+F+"]: "+m+`
`+g+`
`+Q})}function Wt(u,m,g,j,F,z,Q){u.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+F+"]: "+m+`
`+g+`
`+z+" "+Q})}function Rn(u,m,g,j){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+wn(u,g)+(j?" "+j:"")})}function Hs(u,m){u.info(function(){return"TIMEOUT: "+m})}he.prototype.info=function(){};function wn(u,m){if(!u.g)return m;if(!m)return null;try{const z=JSON.parse(m);if(z){for(u=0;u<z.length;u++)if(Array.isArray(z[u])){var g=z[u];if(!(g.length<2)){var j=g[1];if(Array.isArray(j)&&!(j.length<1)){var F=j[0];if(F!="noop"&&F!="stop"&&F!="close")for(let Q=1;Q<j.length;Q++)j[Q]=""}}}}return Qa(z)}catch{return m}}var Jr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ms={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},rc;function yh(){}f(yh,Pn),yh.prototype.g=function(){return new XMLHttpRequest},rc=new yh;function to(u){return encodeURIComponent(String(u))}function nT(u){var m=1;u=u.split(":");const g=[];for(;m>0&&u.length;)g.push(u.shift()),m--;return u.length&&g.push(u.join(":")),g}function Ws(u,m,g,j){this.j=u,this.i=m,this.l=g,this.S=j||1,this.V=new Gr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ry}function Ry(){this.i=null,this.g="",this.h=!1}var Dy={},xh={};function vh(u,m,g){u.M=1,u.A=ac(Kn(m)),u.u=g,u.R=!0,Vy(u,null)}function Vy(u,m){u.F=Date.now(),ic(u),u.B=Kn(u.A);var g=u.B,j=u.S;Array.isArray(j)||(j=[String(j)]),Ky(g.i,"t",j),u.C=0,g=u.j.L,u.h=new Ry,u.g=hx(u.j,g?m:null,!u.u),u.P>0&&(u.O=new mh(d(u.Y,u,u.g),u.P)),m=u.V,g=u.g,j=u.ba;var F="readystatechange";Array.isArray(F)||(F&&(qn[0]=F.toString()),F=qn);for(let z=0;z<F.length;z++){const Q=qe(g,F[z],j||m.handleEvent,!1,m.h||m);if(!Q)break;m.g[Q.key]=Q}m=u.J?Y(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),q(),Ne(u.i,u.v,u.B,u.l,u.S,u.u)}Ws.prototype.ba=function(u){u=u.target;const m=this.O;m&&Ks(u)==3?m.j():this.Y(u)},Ws.prototype.Y=function(u){try{if(u==this.g)e:{const Se=Ks(this.g),pt=this.g.ya(),Me=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||tx(this.g)))){this.K||Se!=4||pt==7||(pt==8||Me<=0?q(3):q(2)),wh(this);var m=this.g.ca();this.X=m;var g=sT(this);if(this.o=m==200,Wt(this.i,this.v,this.B,this.l,this.S,Se,m),this.o){if(this.U&&!this.L){t:{if(this.g){var j,F=this.g;if((j=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(j)){var z=j;break t}}z=null}if(u=z)Rn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,bh(this,u);else{this.o=!1,this.m=3,Re(12),Yr(this),no(this);break e}}if(this.R){u=!0;let bt;for(;!this.K&&this.C<g.length;)if(bt=rT(this,g),bt==xh){Se==4&&(this.m=4,Re(14),u=!1),Rn(this.i,this.l,null,"[Incomplete Response]");break}else if(bt==Dy){this.m=4,Re(15),Rn(this.i,this.l,g,"[Invalid Chunk]"),u=!1;break}else Rn(this.i,this.l,bt,null),bh(this,bt);if(Ly(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||g.length!=0||this.h.h||(this.m=1,Re(16),u=!1),this.o=this.o&&u,!u)Rn(this.i,this.l,g,"[Invalid Chunked Response]"),Yr(this),no(this);else if(g.length>0&&!this.W){this.W=!0;var Q=this.j;Q.g==this&&Q.aa&&!Q.P&&(Q.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),kh(Q),Q.P=!0,Re(11))}}else Rn(this.i,this.l,g,null),bh(this,g);Se==4&&Yr(this),this.o&&!this.K&&(Se==4?lx(this.j,this):(this.o=!1,ic(this)))}else xT(this.g),m==400&&g.indexOf("Unknown SID")>0?(this.m=3,Re(12)):(this.m=0,Re(13)),Yr(this),no(this)}}}catch{}finally{}};function sT(u){if(!Ly(u))return u.g.la();const m=tx(u.g);if(m==="")return"";let g="";const j=m.length,F=Ks(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Yr(u),no(u),"";u.h.i=new o.TextDecoder}for(let z=0;z<j;z++)u.h.h=!0,g+=u.h.i.decode(m[z],{stream:!(F&&z==j-1)});return m.length=0,u.h.g+=g,u.C=0,u.h.g}function Ly(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function rT(u,m){var g=u.C,j=m.indexOf(`
`,g);return j==-1?xh:(g=Number(m.substring(g,j)),isNaN(g)?Dy:(j+=1,j+g>m.length?xh:(m=m.slice(j,j+g),u.C=j+g,m)))}Ws.prototype.cancel=function(){this.K=!0,Yr(this)};function ic(u){u.T=Date.now()+u.H,My(u,u.H)}function My(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ve(d(u.aa,u),m)}function wh(u){u.D&&(o.clearTimeout(u.D),u.D=null)}Ws.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Hs(this.i,this.B),this.M!=2&&(q(),Re(17)),Yr(this),this.m=2,no(this)):My(this,this.T-u)};function no(u){u.j.I==0||u.K||lx(u.j,u)}function Yr(u){wh(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,sc(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function bh(u,m){try{var g=u.j;if(g.I!=0&&(g.g==u||_h(g.h,u))){if(!u.L&&_h(g.h,u)&&g.I==3){try{var j=g.Ba.g.parse(m)}catch{j=null}if(Array.isArray(j)&&j.length==3){var F=j;if(F[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<u.F)dc(g),cc(g);else break e;Ih(g),Re(18)}}else g.xa=F[1],0<g.xa-g.K&&F[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=ve(d(g.Va,g),6e3));Uy(g.h)<=1&&g.ta&&(g.ta=void 0)}else Xr(g,11)}else if((u.L||g.g==u)&&dc(g),!A(m))for(F=g.Ba.g.parse(m),m=0;m<F.length;m++){let Me=F[m];const bt=Me[0];if(!(bt<=g.K))if(g.K=bt,Me=Me[1],g.I==2)if(Me[0]=="c"){g.M=Me[1],g.ba=Me[2];const Jn=Me[3];Jn!=null&&(g.ka=Jn,g.j.info("VER="+g.ka));const Zr=Me[4];Zr!=null&&(g.za=Zr,g.j.info("SVER="+g.za));const Js=Me[5];Js!=null&&typeof Js=="number"&&Js>0&&(j=1.5*Js,g.O=j,g.j.info("backChannelRequestTimeoutMs_="+j)),j=g;const Ys=u.g;if(Ys){const fc=Ys.g?Ys.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fc){var z=j.h;z.g||fc.indexOf("spdy")==-1&&fc.indexOf("quic")==-1&&fc.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(Nh(z,z.h),z.h=null))}if(j.G){const Ch=Ys.g?Ys.g.getResponseHeader("X-HTTP-Session-Id"):null;Ch&&(j.wa=Ch,$e(j.J,j.G,Ch))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-u.F,g.j.info("Handshake RTT: "+g.T+"ms")),j=g;var Q=u;if(j.na=dx(j,j.L?j.ba:null,j.W),Q.L){$y(j.h,Q);var Se=Q,pt=j.O;pt&&(Se.H=pt),Se.D&&(wh(Se),ic(Se)),j.g=Q}else ax(j);g.i.length>0&&uc(g)}else Me[0]!="stop"&&Me[0]!="close"||Xr(g,7);else g.I==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?Xr(g,7):jh(g):Me[0]!="noop"&&g.l&&g.l.qa(Me),g.A=0)}}q(4)}catch{}}var iT=class{constructor(u,m){this.g=u,this.map=m}};function Oy(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fy(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Uy(u){return u.h?1:u.g?u.g.size:0}function _h(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Nh(u,m){u.g?u.g.add(m):u.h=m}function $y(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Oy.prototype.cancel=function(){if(this.i=By(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function By(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const g of u.g.values())m=m.concat(g.G);return m}return v(u.i)}var zy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aT(u,m){if(u){u=u.split("&");for(let g=0;g<u.length;g++){const j=u[g].indexOf("=");let F,z=null;j>=0?(F=u[g].substring(0,j),z=u[g].substring(j+1)):F=u[g],m(F,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function qs(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof qs?(this.l=u.l,so(this,u.j),this.o=u.o,this.g=u.g,ro(this,u.u),this.h=u.h,Sh(this,Jy(u.i)),this.m=u.m):u&&(m=String(u).match(zy))?(this.l=!1,so(this,m[1]||"",!0),this.o=io(m[2]||""),this.g=io(m[3]||"",!0),ro(this,m[4]),this.h=io(m[5]||"",!0),Sh(this,m[6]||"",!0),this.m=io(m[7]||"")):(this.l=!1,this.i=new oo(null,this.l))}qs.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ao(m,Hy,!0),":");var g=this.g;return(g||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ao(m,Hy,!0),"@"),u.push(to(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&u.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(ao(g,g.charAt(0)=="/"?cT:lT,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",ao(g,dT)),u.join("")},qs.prototype.resolve=function(u){const m=Kn(this);let g=!!u.j;g?so(m,u.j):g=!!u.o,g?m.o=u.o:g=!!u.g,g?m.g=u.g:g=u.u!=null;var j=u.h;if(g)ro(m,u.u);else if(g=!!u.h){if(j.charAt(0)!="/")if(this.g&&!this.h)j="/"+j;else{var F=m.h.lastIndexOf("/");F!=-1&&(j=m.h.slice(0,F+1)+j)}if(F=j,F==".."||F==".")j="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){j=F.lastIndexOf("/",0)==0,F=F.split("/");const z=[];for(let Q=0;Q<F.length;){const Se=F[Q++];Se=="."?j&&Q==F.length&&z.push(""):Se==".."?((z.length>1||z.length==1&&z[0]!="")&&z.pop(),j&&Q==F.length&&z.push("")):(z.push(Se),j=!0)}j=z.join("/")}else j=F}return g?m.h=j:g=u.i.toString()!=="",g?Sh(m,Jy(u.i)):g=!!u.m,g&&(m.m=u.m),m};function Kn(u){return new qs(u)}function so(u,m,g){u.j=g?io(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ro(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Sh(u,m,g){m instanceof oo?(u.i=m,hT(u.i,u.l)):(g||(m=ao(m,uT)),u.i=new oo(m,u.l))}function $e(u,m,g){u.i.set(m,g)}function ac(u){return $e(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function io(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ao(u,m,g){return typeof u=="string"?(u=encodeURI(u).replace(m,oT),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function oT(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Hy=/[#\/\?@]/g,lT=/[#\?:]/g,cT=/[#\?]/g,uT=/[#\?@]/g,dT=/#/g;function oo(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Qr(u){u.g||(u.g=new Map,u.h=0,u.i&&aT(u.i,function(m,g){u.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}t=oo.prototype,t.add=function(u,m){Qr(this),this.i=null,u=Fi(this,u);let g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(m),this.h+=1,this};function Wy(u,m){Qr(u),m=Fi(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function qy(u,m){return Qr(u),m=Fi(u,m),u.g.has(m)}t.forEach=function(u,m){Qr(this),this.g.forEach(function(g,j){g.forEach(function(F){u.call(m,F,j,this)},this)},this)};function Gy(u,m){Qr(u);let g=[];if(typeof m=="string")qy(u,m)&&(g=g.concat(u.g.get(Fi(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)g=g.concat(u[m]);return g}t.set=function(u,m){return Qr(this),this.i=null,u=Fi(this,u),qy(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=Gy(this,u),u.length>0?String(u[0]):m):m};function Ky(u,m,g){Wy(u,m),g.length>0&&(u.i=null,u.g.set(Fi(u,m),v(g)),u.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let j=0;j<m.length;j++){var g=m[j];const F=to(g);g=Gy(this,g);for(let z=0;z<g.length;z++){let Q=F;g[z]!==""&&(Q+="="+to(g[z])),u.push(Q)}}return this.i=u.join("&")};function Jy(u){const m=new oo;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Fi(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function hT(u,m){m&&!u.j&&(Qr(u),u.i=null,u.g.forEach(function(g,j){const F=j.toLowerCase();j!=F&&(Wy(this,j),Ky(this,F,g))},u)),u.j=m}function fT(u,m){const g=new he;if(o.Image){const j=new Image;j.onload=h(Gs,g,"TestLoadImage: loaded",!0,m,j),j.onerror=h(Gs,g,"TestLoadImage: error",!1,m,j),j.onabort=h(Gs,g,"TestLoadImage: abort",!1,m,j),j.ontimeout=h(Gs,g,"TestLoadImage: timeout",!1,m,j),o.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=u}else m(!1)}function mT(u,m){const g=new he,j=new AbortController,F=setTimeout(()=>{j.abort(),Gs(g,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:j.signal}).then(z=>{clearTimeout(F),z.ok?Gs(g,"TestPingServer: ok",!0,m):Gs(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(F),Gs(g,"TestPingServer: error",!1,m)})}function Gs(u,m,g,j,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),j(g)}catch{}}function pT(){this.g=new gh}function Eh(u){this.i=u.Sb||null,this.h=u.ab||!1}f(Eh,Pn),Eh.prototype.g=function(){return new oc(this.i,this.h)};function oc(u,m){Ge.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(oc,Ge),t=oc.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,co(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||o).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,lo(this)),this.readyState=0},t.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,co(this)),this.g&&(this.readyState=3,co(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Yy(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Yy(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}t.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?lo(this):co(this),this.readyState==3&&Yy(this)}},t.Oa=function(u){this.g&&(this.response=this.responseText=u,lo(this))},t.Na=function(u){this.g&&(this.response=u,lo(this))},t.ga=function(){this.g&&lo(this)};function lo(u){u.readyState=4,u.l=null,u.j=null,u.B=null,co(u)}t.setRequestHeader=function(u,m){this.A.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=m.next();return u.join(`\r
`)};function co(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(oc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Qy(u){let m="";return $(u,function(g,j){m+=j,m+=":",m+=g,m+=`\r
`}),m}function Th(u,m,g){e:{for(j in g){var j=!1;break e}j=!0}j||(g=Qy(g),typeof u=="string"?g!=null&&to(g):$e(u,m,g))}function tt(u){Ge.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(tt,Ge);var gT=/^https?$/i,yT=["POST","PUT"];t=tt.prototype,t.Fa=function(u){this.H=u},t.ea=function(u,m,g,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():rc.g(),this.g.onreadystatechange=p(d(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(z){Xy(this,z);return}if(u=g||"",g=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var F in j)g.set(F,j[F]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const z of j.keys())g.set(z,j.get(z));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(g.keys()).find(z=>z.toLowerCase()=="content-type"),F=o.FormData&&u instanceof o.FormData,!(Array.prototype.indexOf.call(yT,m,void 0)>=0)||j||F||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,Q]of g)this.g.setRequestHeader(z,Q);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(z){Xy(this,z)}};function Xy(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Zy(u),lc(u)}function Zy(u){u.A||(u.A=!0,Le(u,"complete"),Le(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Le(this,"complete"),Le(this,"abort"),lc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),lc(this,!0)),tt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ex(this):this.Xa())},t.Xa=function(){ex(this)};function ex(u){if(u.h&&typeof a<"u"){if(u.v&&Ks(u)==4)setTimeout(u.Ca.bind(u),0);else if(Le(u,"readystatechange"),Ks(u)==4){u.h=!1;try{const z=u.ca();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var g;if(!(g=m)){var j;if(j=z===0){let Q=String(u.D).match(zy)[1]||null;!Q&&o.self&&o.self.location&&(Q=o.self.location.protocol.slice(0,-1)),j=!gT.test(Q?Q.toLowerCase():"")}g=j}if(g)Le(u,"complete"),Le(u,"success");else{u.o=6;try{var F=Ks(u)>2?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.ca()+"]",Zy(u)}}finally{lc(u)}}}}function lc(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const g=u.g;u.g=null,m||Le(u,"ready");try{g.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ks(u){return u.g?u.g.readyState:0}t.ca=function(){try{return Ks(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ph(m)}};function tx(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function xT(u){const m={};u=(u.g&&Ks(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<u.length;j++){if(A(u[j]))continue;var g=nT(u[j]);const F=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const z=m[F]||[];m[F]=z,z.push(g)}ee(m,function(j){return j.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function uo(u,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||m}function nx(u){this.za=0,this.i=[],this.j=new he,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=uo("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=uo("baseRetryDelayMs",5e3,u),this.Za=uo("retryDelaySeedMs",1e4,u),this.Ta=uo("forwardChannelMaxRetries",2,u),this.va=uo("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Oy(u&&u.concurrentRequestLimit),this.Ba=new pT,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=nx.prototype,t.ka=8,t.I=1,t.connect=function(u,m,g,j){Re(0),this.W=u,this.H=m||{},g&&j!==void 0&&(this.H.OSID=g,this.H.OAID=j),this.F=this.X,this.J=dx(this,null,this.W),uc(this)};function jh(u){if(sx(u),u.I==3){var m=u.V++,g=Kn(u.J);if($e(g,"SID",u.M),$e(g,"RID",m),$e(g,"TYPE","terminate"),ho(u,g),m=new Ws(u,u.j,m),m.M=2,m.A=ac(Kn(g)),g=!1,o.navigator&&o.navigator.sendBeacon)try{g=o.navigator.sendBeacon(m.A.toString(),"")}catch{}!g&&o.Image&&(new Image().src=m.A,g=!0),g||(m.g=hx(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ic(m)}ux(u)}function cc(u){u.g&&(kh(u),u.g.cancel(),u.g=null)}function sx(u){cc(u),u.v&&(o.clearTimeout(u.v),u.v=null),dc(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&o.clearTimeout(u.m),u.m=null)}function uc(u){if(!Fy(u.h)&&!u.m){u.m=!0;var m=u.Ea;M||_(),B||(M(),B=!0),I.add(m,u),u.D=0}}function vT(u,m){return Uy(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ve(d(u.Ea,u,m),cx(u,u.D)),u.D++,!0)}t.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const F=new Ws(this,this.j,u);let z=this.o;if(this.U&&(z?(z=Y(z),ce(z,this.U)):z=this.U),this.u!==null||this.R||(F.J=z,z=null),this.S)e:{for(var m=0,g=0;g<this.i.length;g++){t:{var j=this.i[g];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(m+=j,m>4096){m=g;break e}if(m===4096||g===this.i.length-1){m=g+1;break e}}m=1e3}else m=1e3;m=ix(this,F,m),g=Kn(this.J),$e(g,"RID",u),$e(g,"CVER",22),this.G&&$e(g,"X-HTTP-Session-Id",this.G),ho(this,g),z&&(this.R?m="headers="+to(Qy(z))+"&"+m:this.u&&Th(g,this.u,z)),Nh(this.h,F),this.Ra&&$e(g,"TYPE","init"),this.S?($e(g,"$req",m),$e(g,"SID","null"),F.U=!0,vh(F,g,null)):vh(F,g,m),this.I=2}}else this.I==3&&(u?rx(this,u):this.i.length==0||Fy(this.h)||rx(this))};function rx(u,m){var g;m?g=m.l:g=u.V++;const j=Kn(u.J);$e(j,"SID",u.M),$e(j,"RID",g),$e(j,"AID",u.K),ho(u,j),u.u&&u.o&&Th(j,u.u,u.o),g=new Ws(u,u.j,g,u.D+1),u.u===null&&(g.J=u.o),m&&(u.i=m.G.concat(u.i)),m=ix(u,g,1e3),g.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Nh(u.h,g),vh(g,j,m)}function ho(u,m){u.H&&$(u.H,function(g,j){$e(m,j,g)}),u.l&&$({},function(g,j){$e(m,j,g)})}function ix(u,m,g){g=Math.min(u.i.length,g);const j=u.l?d(u.l.Ka,u.l,u):null;e:{var F=u.i;let Se=-1;for(;;){const pt=["count="+g];Se==-1?g>0?(Se=F[0].g,pt.push("ofs="+Se)):Se=0:pt.push("ofs="+Se);let Me=!0;for(let bt=0;bt<g;bt++){var z=F[bt].g;const Jn=F[bt].map;if(z-=Se,z<0)Se=Math.max(0,F[bt].g-100),Me=!1;else try{z="req"+z+"_"||"";try{var Q=Jn instanceof Map?Jn:Object.entries(Jn);for(const[Zr,Js]of Q){let Ys=Js;l(Js)&&(Ys=Qa(Js)),pt.push(z+Zr+"="+encodeURIComponent(Ys))}}catch(Zr){throw pt.push(z+"type="+encodeURIComponent("_badmap")),Zr}}catch{j&&j(Jn)}}if(Me){Q=pt.join("&");break e}}Q=void 0}return u=u.i.splice(0,g),m.G=u,Q}function ax(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;M||_(),B||(M(),B=!0),I.add(m,u),u.A=0}}function Ih(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ve(d(u.Da,u),cx(u,u.A)),u.A++,!0)}t.Da=function(){if(this.v=null,ox(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ve(d(this.Wa,this),u)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Re(10),cc(this),ox(this))};function kh(u){u.B!=null&&(o.clearTimeout(u.B),u.B=null)}function ox(u){u.g=new Ws(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Kn(u.na);$e(m,"RID","rpc"),$e(m,"SID",u.M),$e(m,"AID",u.K),$e(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&$e(m,"TO",u.ia),$e(m,"TYPE","xmlhttp"),ho(u,m),u.u&&u.o&&Th(m,u.u,u.o),u.O&&(u.g.H=u.O);var g=u.g;u=u.ba,g.M=1,g.A=ac(Kn(m)),g.u=null,g.R=!0,Vy(g,u)}t.Va=function(){this.C!=null&&(this.C=null,cc(this),Ih(this),Re(19))};function dc(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function lx(u,m){var g=null;if(u.g==m){dc(u),kh(u),u.g=null;var j=2}else if(_h(u.h,m))g=m.G,$y(u.h,m),j=1;else return;if(u.I!=0){if(m.o)if(j==1){g=m.u?m.u.length:0,m=Date.now()-m.F;var F=u.D;j=x(),Le(j,new me(j,g)),uc(u)}else ax(u);else if(F=m.m,F==3||F==0&&m.X>0||!(j==1&&vT(u,m)||j==2&&Ih(u)))switch(g&&g.length>0&&(m=u.h,m.i=m.i.concat(g)),F){case 1:Xr(u,5);break;case 4:Xr(u,10);break;case 3:Xr(u,6);break;default:Xr(u,2)}}}function cx(u,m){let g=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(g*=2),g*m}function Xr(u,m){if(u.j.info("Error code "+m),m==2){var g=d(u.bb,u),j=u.Ua;const F=!j;j=new qs(j||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||so(j,"https"),ac(j),F?fT(j.toString(),g):mT(j.toString(),g)}else Re(2);u.I=0,u.l&&u.l.pa(m),ux(u),sx(u)}t.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Re(2)):(this.j.info("Failed to ping google.com"),Re(1))};function ux(u){if(u.I=0,u.ja=[],u.l){const m=By(u.h);(m.length!=0||u.i.length!=0)&&(E(u.ja,m),E(u.ja,u.i),u.h.i.length=0,v(u.i),u.i.length=0),u.l.oa()}}function dx(u,m,g){var j=g instanceof qs?Kn(g):new qs(g);if(j.g!="")m&&(j.g=m+"."+j.g),ro(j,j.u);else{var F=o.location;j=F.protocol,m=m?m+"."+F.hostname:F.hostname,F=+F.port;const z=new qs(null);j&&so(z,j),m&&(z.g=m),F&&ro(z,F),g&&(z.h=g),j=z}return g=u.G,m=u.wa,g&&m&&$e(j,g,m),$e(j,"VER",u.ka),ho(u,j),j}function hx(u,m,g){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new tt(new Eh({ab:g})):new tt(u.ma),m.Fa(u.L),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function fx(){}t=fx.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function hc(){}hc.prototype.g=function(u,m){return new on(u,m)};function on(u,m){Ge.call(this),this.g=new nx(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!A(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!A(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ui(this)}f(on,Ge),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){jh(this.g)},on.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.v&&(g={},g.__data__=Qa(u),u=g);m.i.push(new iT(m.Ya++,u)),m.I==3&&uc(m)},on.prototype.N=function(){this.g.l=null,delete this.j,jh(this.g),delete this.g,on.Z.N.call(this)};function mx(u){Za.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const g in m){u=g;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}f(mx,Za);function px(){Oi.call(this),this.status=1}f(px,Oi);function Ui(u){this.g=u}f(Ui,fx),Ui.prototype.ra=function(){Le(this.g,"a")},Ui.prototype.qa=function(u){Le(this.g,new mx(u))},Ui.prototype.pa=function(u){Le(this.g,new px)},Ui.prototype.oa=function(){Le(this.g,"b")},hc.prototype.createWebChannel=hc.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,uS=function(){return new hc},cS=function(){return x()},lS=Gn,qm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Jr.NO_ERROR=0,Jr.TIMEOUT=8,Jr.HTTP_ERROR=6,lu=Jr,ms.COMPLETE="complete",oS=ms,Xa.EventType=Kr,Kr.OPEN="a",Kr.CLOSE="b",Kr.ERROR="c",Kr.MESSAGE="d",Ge.prototype.listen=Ge.prototype.J,Co=Xa,tt.prototype.listenOnce=tt.prototype.K,tt.prototype.getLastError=tt.prototype.Ha,tt.prototype.getLastErrorCode=tt.prototype.ya,tt.prototype.getStatus=tt.prototype.ca,tt.prototype.getResponseJson=tt.prototype.La,tt.prototype.getResponseText=tt.prototype.la,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Fa,aS=tt}).apply(typeof Lc<"u"?Lc:typeof self<"u"?self:typeof window<"u"?window:{});const cw="@firebase/firestore",uw="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ha="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki=new Pg("@firebase/firestore");function Bi(){return ki.logLevel}function ne(t,...e){if(ki.logLevel<=Ie.DEBUG){const n=e.map(Wg);ki.debug(`Firestore (${Ha}): ${t}`,...n)}}function Ms(t,...e){if(ki.logLevel<=Ie.ERROR){const n=e.map(Wg);ki.error(`Firestore (${Ha}): ${t}`,...n)}}function Pa(t,...e){if(ki.logLevel<=Ie.WARN){const n=e.map(Wg);ki.warn(`Firestore (${Ha}): ${t}`,...n)}}function Wg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,dS(t,s,n)}function dS(t,e,n){let s=`FIRESTORE (${Ha}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ms(s),new Error(s)}function De(t,e,n,s){let r="Unexpected state";typeof n=="string"?r=n:s=n,t||dS(e,r,s)}function be(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends Us{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class J3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ft.UNAUTHENTICATED))}shutdown(){}}class Y3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Q3{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){De(this.o===void 0,42304);let s=this.i;const r=c=>this.i!==s?(s=this.i,n(c)):Promise.resolve();let a=new ks;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ks,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await r(this.currentUser)})},l=c=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ks)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(De(typeof s.accessToken=="string",31837,{l:s}),new hS(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string",2055,{h:e}),new Ft(e)}}class X3{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Z3{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new X3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,dn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){De(this.o===void 0,3512);const s=a=>{a.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>s(a))};const r=a=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?r(a):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new dw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(De(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new dw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const r=tV(40);for(let a=0;a<r.length;++a)s.length<20&&r[a]<n&&(s+=e.charAt(r[a]%62))}return s}}function ke(t,e){return t<e?-1:t>e?1:0}function Gm(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const r=t.charAt(s),a=e.charAt(s);if(r!==a)return Sf(r)===Sf(a)?ke(r,a):Sf(r)?1:-1}return ke(t.length,e.length)}const nV=55296,sV=57343;function Sf(t){const e=t.charCodeAt(0);return e>=nV&&e<=sV}function Ra(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="__name__";class Xn{constructor(e,n,s){n===void 0?n=0:n>e.length&&ye(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ye(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Xn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xn?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const a=Xn.compareSegments(e.get(r),n.get(r));if(a!==0)return a}return ke(e.length,n.length)}static compareSegments(e,n){const s=Xn.isNumericId(e),r=Xn.isNumericId(n);return s&&!r?-1:!s&&r?1:s&&r?Xn.extractNumericId(e).compare(Xn.extractNumericId(n)):Gm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Er.fromString(e.substring(4,e.length-2))}}class Oe extends Xn{construct(e,n,s){return new Oe(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new X(H.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new Oe(n)}static emptyPath(){return new Oe([])}}const rV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends Xn{construct(e,n,s){return new Ct(e,n,s)}static isValidIdentifier(e){return rV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hw}static keyField(){return new Ct([hw])}static fromServerFormat(e){const n=[];let s="",r=0;const a=()=>{if(s.length===0)throw new X(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new X(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new X(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=c,r+=2}else l==="`"?(o=!o,r++):l!=="."||o?(s+=l,r++):(a(),r++)}if(a(),o)throw new X(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(n)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(Oe.fromString(e))}static fromName(e){return new de(Oe.fromString(e).popFirst(5))}static empty(){return new de(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Oe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new Oe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(t,e,n){if(!n)throw new X(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function iV(t,e,n,s){if(e===!0&&s===!0)throw new X(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function fw(t){if(!de.isDocumentKey(t))throw new X(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mw(t){if(de.isDocumentKey(t))throw new X(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function mS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Gd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ye(12329,{type:typeof t})}function pn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gd(t);throw new X(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Jl(t,e){if(!mS(t))throw new X(H.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const r=e[s].typeString,a="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const o=t[s];if(r&&typeof o!==r){n=`JSON field '${s}' must be a ${r}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${s}' field to equal '${a.value}'`;break}}if(n)throw new X(H.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=-62135596800,gw=1e6;class He{static now(){return He.fromMillis(Date.now())}static fromDate(e){return He.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*gw);return new He(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<pw)throw new X(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gw}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:He._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Jl(e,He._jsonSchema))return new He(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-pw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}He._jsonSchemaVersion="firestore/timestamp/1.0",He._jsonSchema={type:mt("string",He._jsonSchemaVersion),seconds:mt("number"),nanoseconds:mt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new He(0,0))}static max(){return new we(new He(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l=-1;function aV(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=we.fromTimestamp(s===1e9?new He(n+1,0):new He(n,s));return new Pr(r,de.empty(),e)}function oV(t){return new Pr(t.readTime,t.key,_l)}class Pr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Pr(we.min(),de.empty(),_l)}static max(){return new Pr(we.max(),de.empty(),_l)}}function lV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(t.documentKey,e.documentKey),n!==0?n:ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wa(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==cV)throw t;ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((s,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(s,r)},this.catchCallback=a=>{this.wrapFailure(n,a).next(s,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,s)=>{n(e)})}static reject(e){return new W((n,s)=>{s(e)})}static waitFor(e){return new W((n,s)=>{let r=0,a=0,o=!1;e.forEach(l=>{++r,l.next(()=>{++a,o&&a===r&&n()},c=>s(c))}),o=!0,a===r&&n()})}static or(e){let n=W.resolve(!1);for(const s of e)n=n.next(r=>r?W.resolve(r):s());return n}static forEach(e,n){const s=[];return e.forEach((r,a)=>{s.push(n.call(this,r,a))}),this.waitFor(s)}static mapArray(e,n){return new W((s,r)=>{const a=e.length,o=new Array(a);let l=0;for(let c=0;c<a;c++){const d=c;n(e[d]).next(h=>{o[d]=h,++l,l===a&&s(o)},h=>r(h))}})}static doWhile(e,n){return new W((s,r)=>{const a=()=>{e()===!0?n().next(()=>{a()},r):s()};a()})}}function dV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Kd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg=-1;function Jd(t){return t==null}function od(t){return t===0&&1/t==-1/0}function hV(t){return typeof t=="number"&&Number.isInteger(t)&&!od(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="";function fV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=yw(e)),e=mV(t.get(n),e);return yw(e)}function mV(t,e){let n=e;const s=t.length;for(let r=0;r<s;r++){const a=t.charAt(r);switch(a){case"\0":n+="";break;case pS:n+="";break;default:n+=a}}return n}function yw(t){return t+pS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function zr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n){this.comparator=e,this.root=n||It.EMPTY}insert(e,n){return new et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,It.BLACK,null,null))}remove(e){return new et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,It.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mc(this.root,e,this.comparator,!0)}}class Mc{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?s(e.key,n):1,n&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class It{constructor(e,n,s,r,a){this.key=e,this.value=n,this.color=s??It.RED,this.left=r??It.EMPTY,this.right=a??It.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,a){return new It(e??this.key,n??this.value,s??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const a=s(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,n,s),null):a===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return It.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return It.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,It.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,It.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}It.EMPTY=null,It.RED=!0,It.BLACK=!1;It.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,n,s,r,a){return this}insert(e,n,s){return new It(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vw(this.data.getIterator())}getIteratorFrom(e){return new vw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,a=s.getNext().key;if(this.comparator(r,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new vt(this.comparator);return n.data=e,n}}class vw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new fn([])}unionWith(e){let n=new vt(Ct.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new fn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ra(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new yS("Invalid base64 string: "+a):a}}(e);return new Rt(n)}static fromUint8Array(e){const n=function(r){let a="";for(let o=0;o<r.length;++o)a+=String.fromCharCode(r[o]);return a}(e);return new Rt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rt.EMPTY_BYTE_STRING=new Rt("");const pV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rr(t){if(De(!!t,39018),typeof t=="string"){let e=0;const n=pV.exec(t);if(De(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:it(t.seconds),nanos:it(t.nanos)}}function it(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Dr(t){return typeof t=="string"?Rt.fromBase64String(t):Rt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="server_timestamp",vS="__type__",wS="__previous_value__",bS="__local_write_time__";function Kg(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[vS])==null?void 0:s.stringValue)===xS}function Yd(t){const e=t.mapValue.fields[wS];return Kg(e)?Yd(e):e}function Nl(t){const e=Rr(t.mapValue.fields[bS].timestampValue);return new He(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e,n,s,r,a,o,l,c,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}}const ld="(default)";class Sl{constructor(e,n){this.projectId=e,this.database=n||ld}static empty(){return new Sl("","")}get isDefaultDatabase(){return this.database===ld}isEqual(e){return e instanceof Sl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="__type__",yV="__max__",Oc={mapValue:{}},NS="__vector__",cd="value";function Vr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Kg(t)?4:vV(t)?9007199254740991:xV(t)?10:11:ye(28295,{value:t})}function ds(t,e){if(t===e)return!0;const n=Vr(t);if(n!==Vr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Nl(t).isEqual(Nl(e));case 3:return function(r,a){if(typeof r.timestampValue=="string"&&typeof a.timestampValue=="string"&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const o=Rr(r.timestampValue),l=Rr(a.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,a){return Dr(r.bytesValue).isEqual(Dr(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,a){return it(r.geoPointValue.latitude)===it(a.geoPointValue.latitude)&&it(r.geoPointValue.longitude)===it(a.geoPointValue.longitude)}(t,e);case 2:return function(r,a){if("integerValue"in r&&"integerValue"in a)return it(r.integerValue)===it(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const o=it(r.doubleValue),l=it(a.doubleValue);return o===l?od(o)===od(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Ra(t.arrayValue.values||[],e.arrayValue.values||[],ds);case 10:case 11:return function(r,a){const o=r.mapValue.fields||{},l=a.mapValue.fields||{};if(xw(o)!==xw(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!ds(o[c],l[c])))return!1;return!0}(t,e);default:return ye(52216,{left:t})}}function El(t,e){return(t.values||[]).find(n=>ds(n,e))!==void 0}function Da(t,e){if(t===e)return 0;const n=Vr(t),s=Vr(e);if(n!==s)return ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(t.booleanValue,e.booleanValue);case 2:return function(a,o){const l=it(a.integerValue||a.doubleValue),c=it(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return ww(t.timestampValue,e.timestampValue);case 4:return ww(Nl(t),Nl(e));case 5:return Gm(t.stringValue,e.stringValue);case 6:return function(a,o){const l=Dr(a),c=Dr(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const l=a.split("/"),c=o.split("/");for(let d=0;d<l.length&&d<c.length;d++){const h=ke(l[d],c[d]);if(h!==0)return h}return ke(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const l=ke(it(a.latitude),it(o.latitude));return l!==0?l:ke(it(a.longitude),it(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return bw(t.arrayValue,e.arrayValue);case 10:return function(a,o){var p,v,E,w;const l=a.fields||{},c=o.fields||{},d=(p=l[cd])==null?void 0:p.arrayValue,h=(v=c[cd])==null?void 0:v.arrayValue,f=ke(((E=d==null?void 0:d.values)==null?void 0:E.length)||0,((w=h==null?void 0:h.values)==null?void 0:w.length)||0);return f!==0?f:bw(d,h)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===Oc.mapValue&&o===Oc.mapValue)return 0;if(a===Oc.mapValue)return 1;if(o===Oc.mapValue)return-1;const l=a.fields||{},c=Object.keys(l),d=o.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const p=Gm(c[f],h[f]);if(p!==0)return p;const v=Da(l[c[f]],d[h[f]]);if(v!==0)return v}return ke(c.length,h.length)}(t.mapValue,e.mapValue);default:throw ye(23264,{he:n})}}function ww(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ke(t,e);const n=Rr(t),s=Rr(e),r=ke(n.seconds,s.seconds);return r!==0?r:ke(n.nanos,s.nanos)}function bw(t,e){const n=t.values||[],s=e.values||[];for(let r=0;r<n.length&&r<s.length;++r){const a=Da(n[r],s[r]);if(a)return a}return ke(n.length,s.length)}function Va(t){return Km(t)}function Km(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=Rr(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Dr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return de.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",r=!0;for(const a of n.values||[])r?r=!1:s+=",",s+=Km(a);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let r="{",a=!0;for(const o of s)a?a=!1:r+=",",r+=`${o}:${Km(n.fields[o])}`;return r+"}"}(t.mapValue):ye(61005,{value:t})}function cu(t){switch(Vr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yd(t);return e?16+cu(e):16;case 5:return 2*t.stringValue.length;case 6:return Dr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((r,a)=>r+cu(a),0)}(t.arrayValue);case 10:case 11:return function(s){let r=0;return zr(s.fields,(a,o)=>{r+=a.length+cu(o)}),r}(t.mapValue);default:throw ye(13486,{value:t})}}function _w(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Jm(t){return!!t&&"integerValue"in t}function Jg(t){return!!t&&"arrayValue"in t}function Nw(t){return!!t&&"nullValue"in t}function Sw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function uu(t){return!!t&&"mapValue"in t}function xV(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[_S])==null?void 0:s.stringValue)===NS}function Yo(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return zr(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Yo(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yo(t.arrayValue.values[n]);return e}return{...t}}function vV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===yV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.value=e}static empty(){return new en({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!uu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yo(n)}setAll(e){let n=Ct.emptyPath(),s={},r=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,s,r),s={},r=[],n=l.popLast()}o?s[l.lastSegment()]=Yo(o):r.push(l.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,s,r)}delete(e){const n=this.field(e.popLast());uu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ds(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];uu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){zr(n,(r,a)=>e[r]=a);for(const r of s)delete e[r]}clone(){return new en(Yo(this.value))}}function SS(t){const e=[];return zr(t.fields,(n,s)=>{const r=new Ct([n]);if(uu(s)){const a=SS(s.mapValue).fields;if(a.length===0)e.push(r);else for(const o of a)e.push(r.child(o))}else e.push(r)}),new fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n,s,r,a,o,l){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=a,this.data=o,this.documentState=l}static newInvalidDocument(e){return new $t(e,0,we.min(),we.min(),we.min(),en.empty(),0)}static newFoundDocument(e,n,s,r){return new $t(e,1,n,we.min(),s,r,0)}static newNoDocument(e,n){return new $t(e,2,n,we.min(),we.min(),en.empty(),0)}static newUnknownDocument(e,n){return new $t(e,3,n,we.min(),we.min(),en.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n){this.position=e,this.inclusive=n}}function Ew(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const a=e[r],o=t.position[r];if(a.field.isKeyField()?s=de.comparator(de.fromName(o.referenceValue),n.key):s=Da(o,n.data.field(a.field)),a.dir==="desc"&&(s*=-1),s!==0)break}return s}function Tw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ds(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,n="asc"){this.field=e,this.dir=n}}function wV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{}class ht extends ES{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new _V(e,n,s):n==="array-contains"?new EV(e,s):n==="in"?new TV(e,s):n==="not-in"?new jV(e,s):n==="array-contains-any"?new IV(e,s):new ht(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new NV(e,s):new SV(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Da(n,this.value)):n!==null&&Vr(this.value)===Vr(n)&&this.matchesComparison(Da(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends ES{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Hn(e,n)}matches(e){return TS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function TS(t){return t.op==="and"}function jS(t){return bV(t)&&TS(t)}function bV(t){for(const e of t.filters)if(e instanceof Hn)return!1;return!0}function Ym(t){if(t instanceof ht)return t.field.canonicalString()+t.op.toString()+Va(t.value);if(jS(t))return t.filters.map(e=>Ym(e)).join(",");{const e=t.filters.map(n=>Ym(n)).join(",");return`${t.op}(${e})`}}function IS(t,e){return t instanceof ht?function(s,r){return r instanceof ht&&s.op===r.op&&s.field.isEqual(r.field)&&ds(s.value,r.value)}(t,e):t instanceof Hn?function(s,r){return r instanceof Hn&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce((a,o,l)=>a&&IS(o,r.filters[l]),!0):!1}(t,e):void ye(19439)}function kS(t){return t instanceof ht?function(n){return`${n.field.canonicalString()} ${n.op} ${Va(n.value)}`}(t):t instanceof Hn?function(n){return n.op.toString()+" {"+n.getFilters().map(kS).join(" ,")+"}"}(t):"Filter"}class _V extends ht{constructor(e,n,s){super(e,n,s),this.key=de.fromName(s.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class NV extends ht{constructor(e,n){super(e,"in",n),this.keys=CS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class SV extends ht{constructor(e,n){super(e,"not-in",n),this.keys=CS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function CS(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(s=>de.fromName(s.referenceValue))}class EV extends ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Jg(n)&&El(n.arrayValue,this.value)}}class TV extends ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&El(this.value.arrayValue,n)}}class jV extends ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(El(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!El(this.value.arrayValue,n)}}class IV extends ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Jg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>El(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e,n=null,s=[],r=[],a=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=a,this.startAt=o,this.endAt=l,this.Te=null}}function jw(t,e=null,n=[],s=[],r=null,a=null,o=null){return new kV(t,e,n,s,r,a,o)}function Yg(t){const e=be(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Ym(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(a){return a.field.canonicalString()+a.dir}(s)).join(","),Jd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Va(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Va(s)).join(",")),e.Te=n}return e.Te}function Qg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!wV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!IS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Tw(t.startAt,e.startAt)&&Tw(t.endAt,e.endAt)}function Qm(t){return de.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,n=null,s=[],r=[],a=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function CV(t,e,n,s,r,a,o,l){return new Ga(t,e,n,s,r,a,o,l)}function Qd(t){return new Ga(t)}function Iw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function AS(t){return t.collectionGroup!==null}function Qo(t){const e=be(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new vt(Ct.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Tl(a,s))}),n.has(Ct.keyField().canonicalString())||e.Ie.push(new Tl(Ct.keyField(),s))}return e.Ie}function os(t){const e=be(t);return e.Ee||(e.Ee=AV(e,Qo(t))),e.Ee}function AV(t,e){if(t.limitType==="F")return jw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const a=r.dir==="desc"?"asc":"desc";return new Tl(r.field,a)});const n=t.endAt?new ud(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new ud(t.startAt.position,t.startAt.inclusive):null;return jw(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Xm(t,e){const n=t.filters.concat([e]);return new Ga(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Zm(t,e,n){return new Ga(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xd(t,e){return Qg(os(t),os(e))&&t.limitType===e.limitType}function PS(t){return`${Yg(os(t))}|lt:${t.limitType}`}function zi(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(r=>kS(r)).join(", ")}]`),Jd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(r=>Va(r)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(r=>Va(r)).join(",")),`Target(${s})`}(os(t))}; limitType=${t.limitType})`}function Zd(t,e){return e.isFoundDocument()&&function(s,r){const a=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(a):de.isDocumentKey(s.path)?s.path.isEqual(a):s.path.isImmediateParentOf(a)}(t,e)&&function(s,r){for(const a of Qo(s))if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1;return!0}(t,e)&&function(s,r){for(const a of s.filters)if(!a.matches(r))return!1;return!0}(t,e)&&function(s,r){return!(s.startAt&&!function(o,l,c){const d=Ew(o,l,c);return o.inclusive?d<=0:d<0}(s.startAt,Qo(s),r)||s.endAt&&!function(o,l,c){const d=Ew(o,l,c);return o.inclusive?d>=0:d>0}(s.endAt,Qo(s),r))}(t,e)}function PV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function RS(t){return(e,n)=>{let s=!1;for(const r of Qo(t)){const a=RV(r,e,n);if(a!==0)return a;s=s||r.field.isKeyField()}return 0}}function RV(t,e,n){const s=t.field.isKeyField()?de.comparator(e.key,n.key):function(a,o,l){const c=o.data.field(a),d=l.data.field(a);return c!==null&&d!==null?Da(c,d):ye(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return ye(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,a]of s)if(this.equalsFn(r,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){zr(this.inner,(n,s)=>{for(const[r,a]of s)e(r,a)})}isEmpty(){return gS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV=new et(de.comparator);function Os(){return DV}const DS=new et(de.comparator);function Ao(...t){let e=DS;for(const n of t)e=e.insert(n.key,n);return e}function VS(t){let e=DS;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function hi(){return Xo()}function LS(){return Xo()}function Xo(){return new Li(t=>t.toString(),(t,e)=>t.isEqual(e))}const VV=new et(de.comparator),LV=new vt(de.comparator);function Ce(...t){let e=LV;for(const n of t)e=e.add(n);return e}const MV=new vt(ke);function OV(){return MV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:od(e)?"-0":e}}function MS(t){return{integerValue:""+t}}function FV(t,e){return hV(e)?MS(e):Xg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(){this._=void 0}}function UV(t,e,n){return t instanceof jl?function(r,a){const o={fields:{[vS]:{stringValue:xS},[bS]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&Kg(a)&&(a=Yd(a)),a&&(o.fields[wS]=a),{mapValue:o}}(n,e):t instanceof Il?FS(t,e):t instanceof kl?US(t,e):function(r,a){const o=OS(r,a),l=kw(o)+kw(r.Ae);return Jm(o)&&Jm(r.Ae)?MS(l):Xg(r.serializer,l)}(t,e)}function $V(t,e,n){return t instanceof Il?FS(t,e):t instanceof kl?US(t,e):n}function OS(t,e){return t instanceof dd?function(s){return Jm(s)||function(a){return!!a&&"doubleValue"in a}(s)}(e)?e:{integerValue:0}:null}class jl extends eh{}class Il extends eh{constructor(e){super(),this.elements=e}}function FS(t,e){const n=$S(e);for(const s of t.elements)n.some(r=>ds(r,s))||n.push(s);return{arrayValue:{values:n}}}class kl extends eh{constructor(e){super(),this.elements=e}}function US(t,e){let n=$S(e);for(const s of t.elements)n=n.filter(r=>!ds(r,s));return{arrayValue:{values:n}}}class dd extends eh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function kw(t){return it(t.integerValue||t.doubleValue)}function $S(t){return Jg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e,n){this.field=e,this.transform=n}}function zV(t,e){return t.field.isEqual(e.field)&&function(s,r){return s instanceof Il&&r instanceof Il||s instanceof kl&&r instanceof kl?Ra(s.elements,r.elements,ds):s instanceof dd&&r instanceof dd?ds(s.Ae,r.Ae):s instanceof jl&&r instanceof jl}(t.transform,e.transform)}class HV{constructor(e,n){this.version=e,this.transformResults=n}}class Bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function du(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class th{}function BS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new HS(t.key,Bn.none()):new Yl(t.key,t.data,Bn.none());{const n=t.data,s=en.empty();let r=new vt(Ct.comparator);for(let a of e.fields)if(!r.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?s.delete(a):s.set(a,o),r=r.add(a)}return new Hr(t.key,s,new fn(r.toArray()),Bn.none())}}function WV(t,e,n){t instanceof Yl?function(r,a,o){const l=r.value.clone(),c=Aw(r.fieldTransforms,a,o.transformResults);l.setAll(c),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Hr?function(r,a,o){if(!du(r.precondition,a))return void a.convertToUnknownDocument(o.version);const l=Aw(r.fieldTransforms,a,o.transformResults),c=a.data;c.setAll(zS(r)),c.setAll(l),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(r,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Zo(t,e,n,s){return t instanceof Yl?function(a,o,l,c){if(!du(a.precondition,o))return l;const d=a.value.clone(),h=Pw(a.fieldTransforms,c,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,s):t instanceof Hr?function(a,o,l,c){if(!du(a.precondition,o))return l;const d=Pw(a.fieldTransforms,c,o),h=o.data;return h.setAll(zS(a)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,n,s):function(a,o,l){return du(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function qV(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),a=OS(s.transform,r||null);a!=null&&(n===null&&(n=en.empty()),n.set(s.field,a))}return n||null}function Cw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&Ra(s,r,(a,o)=>zV(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Yl extends th{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Hr extends th{constructor(e,n,s,r,a=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function zS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function Aw(t,e,n){const s=new Map;De(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let r=0;r<n.length;r++){const a=t[r],o=a.transform,l=e.data.field(a.field);s.set(a.field,$V(o,l,n[r]))}return s}function Pw(t,e,n){const s=new Map;for(const r of t){const a=r.transform,o=n.data.field(r.field);s.set(r.field,UV(a,o,e))}return s}class HS extends th{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GV extends th{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&WV(a,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Zo(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Zo(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=LS();return this.mutations.forEach(r=>{const a=e.get(r.key),o=a.overlayedDocument;let l=this.applyToLocalView(o,a.mutatedFields);l=n.has(r.key)?null:l;const c=BS(o,l);c!==null&&s.set(r.key,c),o.isValidDocument()||o.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&Ra(this.mutations,e.mutations,(n,s)=>Cw(n,s))&&Ra(this.baseMutations,e.baseMutations,(n,s)=>Cw(n,s))}}class Zg{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){De(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let r=function(){return VV}();const a=e.mutations;for(let o=0;o<a.length;o++)r=r.insert(a[o].key,s[o].version);return new Zg(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct,Ae;function QV(t){switch(t){case H.OK:return ye(64938);case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0;default:return ye(15467,{code:t})}}function WS(t){if(t===void 0)return Ms("GRPC error has no .code"),H.UNKNOWN;switch(t){case ct.OK:return H.OK;case ct.CANCELLED:return H.CANCELLED;case ct.UNKNOWN:return H.UNKNOWN;case ct.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case ct.INTERNAL:return H.INTERNAL;case ct.UNAVAILABLE:return H.UNAVAILABLE;case ct.UNAUTHENTICATED:return H.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case ct.NOT_FOUND:return H.NOT_FOUND;case ct.ALREADY_EXISTS:return H.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return H.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case ct.ABORTED:return H.ABORTED;case ct.OUT_OF_RANGE:return H.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return H.UNIMPLEMENTED;case ct.DATA_LOSS:return H.DATA_LOSS;default:return ye(39323,{code:t})}}(Ae=ct||(ct={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV=new Er([4294967295,4294967295],0);function Rw(t){const e=XV().encode(t),n=new iS;return n.update(e),new Uint8Array(n.digest())}function Dw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Er([n,s],0),new Er([r,a],0)]}class ey{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Po(`Invalid padding: ${n}`);if(s<0)throw new Po(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Po(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Po(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Er.fromNumber(this.ge)}ye(e,n,s){let r=e.add(n.multiply(Er.fromNumber(s)));return r.compare(ZV)===1&&(r=new Er([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Rw(e),[s,r]=Dw(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(s,r,a);if(!this.we(o))return!1}return!0}static create(e,n,s){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new ey(a,r,n);return s.forEach(l=>o.insert(l)),o}insert(e){if(this.ge===0)return;const n=Rw(e),[s,r]=Dw(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(s,r,a);this.Se(o)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Po extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n,s,r,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,Ql.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new nh(we.min(),r,new et(ke),Os(),Ce())}}class Ql{constructor(e,n,s,r,a){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ql(s,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n,s,r){this.be=e,this.removedTargetIds=n,this.key=s,this.De=r}}class qS{constructor(e,n){this.targetId=e,this.Ce=n}}class GS{constructor(e,n,s=Rt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class Vw{constructor(){this.ve=0,this.Fe=Lw(),this.Me=Rt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ce(),n=Ce(),s=Ce();return this.Fe.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:ye(38017,{changeType:a})}}),new Ql(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Lw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,De(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class eL{constructor(e){this.Ge=e,this.ze=new Map,this.je=Os(),this.Je=Fc(),this.He=Fc(),this.Ye=new et(ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,r)=>{this.rt(r)&&n(r)})}st(e){const n=e.targetId,s=e.Ce.count,r=this.ot(n);if(r){const a=r.target;if(Qm(a))if(s===0){const o=new de(a.path);this.et(n,o,$t.newNoDocument(o,we.min()))}else De(s===1,20013,{expectedCount:s});else{const o=this._t(n);if(o!==s){const l=this.ut(e),c=l?this.ct(l,e,o):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:r=0},hashCount:a=0}=n;let o,l;try{o=Dr(s).toUint8Array()}catch(c){if(c instanceof yS)return Pa("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new ey(o,r,a)}catch(c){return Pa(c instanceof Po?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let r=0;return s.forEach(a=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.et(n,a,null),r++)}),r}Tt(e){const n=new Map;this.ze.forEach((a,o)=>{const l=this.ot(o);if(l){if(a.current&&Qm(l.target)){const c=new de(l.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,$t.newNoDocument(c,e))}a.Be&&(n.set(o,a.ke()),a.qe())}});let s=Ce();this.He.forEach((a,o)=>{let l=!0;o.forEachWhile(c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(s=s.add(a))}),this.je.forEach((a,o)=>o.setReadTime(e));const r=new nh(e,n,this.Ye,this.je,s);return this.je=Os(),this.Je=Fc(),this.He=Fc(),this.Ye=new et(ke),r}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.Qe(n,1):r.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Vw,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new vt(ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new vt(ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Vw),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Fc(){return new et(de.comparator)}function Lw(){return new et(de.comparator)}const tL={asc:"ASCENDING",desc:"DESCENDING"},nL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sL={and:"AND",or:"OR"};class rL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ep(t,e){return t.useProto3Json||Jd(e)?e:{value:e}}function hd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function iL(t,e){return hd(t,e.toTimestamp())}function ls(t){return De(!!t,49232),we.fromTimestamp(function(n){const s=Rr(n);return new He(s.seconds,s.nanos)}(t))}function ty(t,e){return tp(t,e).canonicalString()}function tp(t,e){const n=function(r){return new Oe(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function JS(t){const e=Oe.fromString(t);return De(eE(e),10190,{key:e.toString()}),e}function np(t,e){return ty(t.databaseId,e.path)}function Ef(t,e){const n=JS(e);if(n.get(1)!==t.databaseId.projectId)throw new X(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new de(QS(n))}function YS(t,e){return ty(t.databaseId,e)}function aL(t){const e=JS(t);return e.length===4?Oe.emptyPath():QS(e)}function sp(t){return new Oe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function QS(t){return De(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Mw(t,e,n){return{name:np(t,e),fields:n.value.mapValue.fields}}function oL(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ye(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],a=function(d,h){return d.useProto3Json?(De(h===void 0||typeof h=="string",58123),Rt.fromBase64String(h||"")):(De(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Rt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(d){const h=d.code===void 0?H.UNKNOWN:WS(d.code);return new X(h,d.message||"")}(o);n=new GS(s,r,a,l||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=Ef(t,s.document.name),a=ls(s.document.updateTime),o=s.document.createTime?ls(s.document.createTime):we.min(),l=new en({mapValue:{fields:s.document.fields}}),c=$t.newFoundDocument(r,a,o,l),d=s.targetIds||[],h=s.removedTargetIds||[];n=new hu(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=Ef(t,s.document),a=s.readTime?ls(s.readTime):we.min(),o=$t.newNoDocument(r,a),l=s.removedTargetIds||[];n=new hu([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=Ef(t,s.document),a=s.removedTargetIds||[];n=new hu([],a,r,null)}else{if(!("filter"in e))return ye(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:a}=s,o=new YV(r,a),l=s.targetId;n=new qS(l,o)}}return n}function lL(t,e){let n;if(e instanceof Yl)n={update:Mw(t,e.key,e.value)};else if(e instanceof HS)n={delete:np(t,e.key)};else if(e instanceof Hr)n={update:Mw(t,e.key,e.data),updateMask:yL(e.fieldMask)};else{if(!(e instanceof GV))return ye(16599,{Vt:e.type});n={verify:np(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(a,o){const l=o.transform;if(l instanceof jl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Il)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof kl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof dd)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw ye(20930,{transform:o.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(r,a){return a.updateTime!==void 0?{updateTime:iL(r,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ye(27497)}(t,e.precondition)),n}function cL(t,e){return t&&t.length>0?(De(e!==void 0,14353),t.map(n=>function(r,a){let o=r.updateTime?ls(r.updateTime):ls(a);return o.isEqual(we.min())&&(o=ls(a)),new HV(o,r.transformResults||[])}(n,e))):[]}function uL(t,e){return{documents:[YS(t,e.path)]}}function dL(t,e){const n={structuredQuery:{}},s=e.path;let r;e.collectionGroup!==null?(r=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=YS(t,r);const a=function(d){if(d.length!==0)return ZS(Hn.create(d,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const o=function(d){if(d.length!==0)return d.map(h=>function(p){return{field:Hi(p.field),direction:mL(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=ep(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:r}}function hL(t){let e=aL(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){De(s===1,65062);const h=n.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let a=[];n.where&&(a=function(f){const p=XS(f);return p instanceof Hn&&jS(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(E){return new Tl(Wi(E.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(f){let p;return p=typeof f=="object"?f.value:f,Jd(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(f){const p=!!f.before,v=f.values||[];return new ud(v,p)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const p=!f.before,v=f.values||[];return new ud(v,p)}(n.endAt)),CV(e,r,o,a,l,"F",c,d)}function fL(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function XS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Wi(n.unaryFilter.field);return ht.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=Wi(n.unaryFilter.field);return ht.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Wi(n.unaryFilter.field);return ht.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Wi(n.unaryFilter.field);return ht.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}}(t):t.fieldFilter!==void 0?function(n){return ht.create(Wi(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Hn.create(n.compositeFilter.filters.map(s=>XS(s)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ye(1026)}}(n.compositeFilter.op))}(t):ye(30097,{filter:t})}function mL(t){return tL[t]}function pL(t){return nL[t]}function gL(t){return sL[t]}function Hi(t){return{fieldPath:t.canonicalString()}}function Wi(t){return Ct.fromServerFormat(t.fieldPath)}function ZS(t){return t instanceof ht?function(n){if(n.op==="=="){if(Sw(n.value))return{unaryFilter:{field:Hi(n.field),op:"IS_NAN"}};if(Nw(n.value))return{unaryFilter:{field:Hi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Sw(n.value))return{unaryFilter:{field:Hi(n.field),op:"IS_NOT_NAN"}};if(Nw(n.value))return{unaryFilter:{field:Hi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hi(n.field),op:pL(n.op),value:n.value}}}(t):t instanceof Hn?function(n){const s=n.getFilters().map(r=>ZS(r));return s.length===1?s[0]:{compositeFilter:{op:gL(n.op),filters:s}}}(t):ye(54877,{filter:t})}function yL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function eE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,n,s,r,a=we.min(),o=we.min(),l=Rt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new dr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e){this.yt=e}}function vL(t){const e=hL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(){this.Cn=new bL}addToCollectionParentIndex(e,n){return this.Cn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(Pr.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(Pr.min())}updateCollectionGroup(e,n,s){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class bL{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new vt(Oe.comparator),a=!r.has(s);return this.index[n]=r.add(s),a}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new vt(Oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tE=41943040;class Xt{static withCacheSize(e){return new Xt(e,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xt.DEFAULT_COLLECTION_PERCENTILE=10,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xt.DEFAULT=new Xt(tE,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xt.DISABLED=new Xt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new La(0)}static cr(){return new La(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="LruGarbageCollector",_L=1048576;function Uw([t,e],[n,s]){const r=ke(t,n);return r===0?ke(e,s):r}class NL{constructor(e){this.Ir=e,this.buffer=new vt(Uw),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Uw(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class SL{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ne(Fw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){qa(n)?ne(Fw,"Ignoring IndexedDB error during garbage collection: ",n):await Wa(n)}await this.Vr(3e5)})}}class EL{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Kd.ce);const s=new NL(n);return this.mr.forEachTarget(e,r=>s.Ar(r.sequenceNumber)).next(()=>this.mr.pr(e,r=>s.Ar(r))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ne("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(Ow)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ow):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,r,a,o,l,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),r=this.params.maximumSequenceNumbersToCollect):r=f,o=Date.now(),this.nthSequenceNumber(e,r))).next(f=>(s=f,l=Date.now(),this.removeTargets(e,s,n))).next(f=>(a=f,c=Date.now(),this.removeOrphanedDocuments(e,s))).next(f=>(d=Date.now(),Bi()<=Ie.DEBUG&&ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${r} in `+(l-o)+`ms
	Removed ${a} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:f})))}}function TL(t,e){return new EL(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(){this.changes=new Li(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?W.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(s=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(s!==null&&Zo(s.mutation,r,fn.empty(),He.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ce()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ce()){const r=hi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,s).next(a=>{let o=Ao();return a.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=hi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ce()))}populateOverlays(e,n,s){const r=[];return s.forEach(a=>{n.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,s,r){let a=Os();const o=Xo(),l=function(){return Xo()}();return n.forEach((c,d)=>{const h=s.get(d.key);r.has(d.key)&&(h===void 0||h.mutation instanceof Hr)?a=a.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),Zo(h.mutation,d,h.mutation.getFieldMask(),He.now())):o.set(d.key,fn.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>l.set(d,new IL(h,o.get(d)??null))),l))}recalculateAndSaveOverlays(e,n){const s=Xo();let r=new et((o,l)=>o-l),a=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=s.get(c)||fn.empty();h=l.applyToLocalView(d,h),s.set(c,h);const f=(r.get(l.batchId)||Ce()).add(c);r=r.insert(l.batchId,f)})}).next(()=>{const o=[],l=r.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,h=c.value,f=LS();h.forEach(p=>{if(!a.has(p)){const v=BS(n.get(p),s.get(p));v!==null&&f.set(p,v),a=a.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return W.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,r){return function(o){return de.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):AS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,r):this.getDocumentsMatchingCollectionQuery(e,n,s,r)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next(a=>{const o=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-a.size):W.resolve(hi());let l=_l,c=a;return o.next(d=>W.forEach(d,(h,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),a.get(h)?W.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{c=c.insert(h,p)}))).next(()=>this.populateOverlays(e,d,a)).next(()=>this.computeViews(e,c,d,Ce())).next(h=>({batchId:l,changes:VS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next(s=>{let r=Ao();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,s,r){const a=n.collectionGroup;let o=Ao();return this.indexManager.getCollectionParents(e,a).next(l=>W.forEach(l,c=>{const d=function(f,p){return new Ga(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,s,r).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,s,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,a,r))).next(o=>{a.forEach((c,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,$t.newInvalidDocument(h)))});let l=Ao();return o.forEach((c,d)=>{const h=a.get(c);h!==void 0&&Zo(h.mutation,d,fn.empty(),He.now()),Zd(n,d)&&(l=l.insert(c,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return W.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:ls(r.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(r){return{name:r.name,query:vL(r.bundledQuery),readTime:ls(r.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(){this.overlays=new et(de.comparator),this.qr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const s=hi();return W.forEach(n,r=>this.getOverlay(e,r).next(a=>{a!==null&&s.set(r,a)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((r,a)=>{this.St(e,n,a)}),W.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.qr.get(s);return r!==void 0&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(s)),W.resolve()}getOverlaysForCollection(e,n,s){const r=hi(),a=n.length+1,o=new de(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===a&&c.largestBatchId>s&&r.set(c.getKey(),c)}return W.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let a=new et((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>s){let h=a.get(d.largestBatchId);h===null&&(h=hi(),a=a.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const l=hi(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>l.set(d,h)),!(l.size()>=r)););return W.resolve(l)}St(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const o=this.qr.get(r.largestBatchId).delete(s.key);this.qr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new JV(n,s));let a=this.qr.get(n);a===void 0&&(a=Ce(),this.qr.set(n,a)),this.qr.set(n,a.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(){this.sessionToken=Rt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(){this.Qr=new vt(_t.$r),this.Ur=new vt(_t.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new _t(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new _t(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new de(new Oe([])),s=new _t(n,e),r=new _t(n,e+1),a=[];return this.Ur.forEachInRange([s,r],o=>{this.Gr(o),a.push(o.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new de(new Oe([])),s=new _t(n,e),r=new _t(n,e+1);let a=Ce();return this.Ur.forEachInRange([s,r],o=>{a=a.add(o.key)}),a}containsKey(e){const n=new _t(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class _t{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return de.comparator(e.key,n.key)||ke(e.Yr,n.Yr)}static Kr(e,n){return ke(e.Yr,n.Yr)||de.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new vt(_t.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new KV(a,n,s,r);this.mutationQueue.push(o);for(const l of r)this.Zr=this.Zr.add(new _t(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return W.resolve(o)}lookupMutationBatch(e,n){return W.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.ei(s),a=r<0?0:r;return W.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?Gg:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new _t(n,0),r=new _t(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([s,r],o=>{const l=this.Xr(o.Yr);a.push(l)}),W.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new vt(ke);return n.forEach(r=>{const a=new _t(r,0),o=new _t(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],l=>{s=s.add(l.Yr)})}),W.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let a=s;de.isDocumentKey(a)||(a=a.child(""));const o=new _t(new de(a),0);let l=new vt(ke);return this.Zr.forEachWhile(c=>{const d=c.key.path;return!!s.isPrefixOf(d)&&(d.length===r&&(l=l.add(c.Yr)),!0)},o),W.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(s=>{const r=this.Xr(s);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){De(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return W.forEach(n.mutations,r=>{const a=new _t(r.key,n.batchId);return s=s.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new _t(n,0),r=this.Zr.firstAfterOrEqual(s);return W.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e){this.ri=e,this.docs=function(){return new et(de.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),a=r?r.size:0,o=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return W.resolve(s?s.document.mutableCopy():$t.newInvalidDocument(n))}getEntries(e,n){let s=Os();return n.forEach(r=>{const a=this.docs.get(r);s=s.insert(r,a?a.document.mutableCopy():$t.newInvalidDocument(r))}),W.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let a=Os();const o=n.path,l=new de(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||lV(oV(h),s)<=0||(r.has(h.key)||Zd(n,h))&&(a=a.insert(h.key,h.mutableCopy()))}return W.resolve(a)}getAllFromCollectionGroup(e,n,s,r){ye(9500)}ii(e,n){return W.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new VL(this)}getSize(e){return W.resolve(this.size)}}class VL extends jL{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(s)}),W.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e){this.persistence=e,this.si=new Li(n=>Yg(n),Qg),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new ny,this.targetCount=0,this.ai=La.ur()}forEachTarget(e,n){return this.si.forEach((s,r)=>n(r)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),W.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new La(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Pr(n),W.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,s){let r=0;const a=[];return this.si.forEach((o,l)=>{l.sequenceNumber<=n&&s.get(l.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),W.waitFor(a).next(()=>r)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return W.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),W.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const r=this.persistence.referenceDelegate,a=[];return r&&n.forEach(o=>{a.push(r.markPotentiallyOrphaned(e,o))}),W.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return W.resolve(s)}containsKey(e,n){return W.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,n){this.ui={},this.overlays={},this.ci=new Kd(0),this.li=!1,this.li=!0,this.hi=new PL,this.referenceDelegate=e(this),this.Pi=new LL(this),this.indexManager=new wL,this.remoteDocumentCache=function(r){return new DL(r)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new xL(n),this.Ii=new CL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new AL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new RL(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ne("MemoryPersistence","Starting transaction:",e);const r=new ML(this.ci.next());return this.referenceDelegate.Ei(),s(r).next(a=>this.referenceDelegate.di(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Ai(e,n){return W.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class ML extends uV{constructor(e){super(),this.currentSequenceNumber=e}}class sy{constructor(e){this.persistence=e,this.Ri=new ny,this.Vi=null}static mi(e){return new sy(e)}get fi(){if(this.Vi)return this.Vi;throw ye(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),W.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),W.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(r=>this.fi.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(a=>this.fi.add(a.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,s=>{const r=de.fromPath(s);return this.gi(e,r).next(a=>{a||n.removeEntry(r,we.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class fd{constructor(e,n){this.persistence=e,this.pi=new Li(s=>fV(s.path),(s,r)=>s.isEqual(r)),this.garbageCollector=TL(this,n)}static mi(e,n){return new fd(e,n)}Ei(){}di(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(r=>s+r))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return W.forEach(this.pi,(s,r)=>this.br(e,s,r).next(a=>a?W.resolve():n(r)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const r=this.persistence.getRemoteDocumentCache(),a=r.newChangeBuffer();return r.ii(e,o=>this.br(e,o,n).next(l=>{l||(s++,a.removeEntry(o,we.min()))})).next(()=>a.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=cu(e.data.value)),n}br(e,n,s){return W.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.pi.get(n);return W.resolve(r!==void 0&&r>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=r}static As(e,n){let s=Ce(),r=Ce();for(const a of n.docChanges)switch(a.type){case 0:s=s.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new ry(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return u5()?8:dV(Ht())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,r){const a={result:null};return this.ys(e,n).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.ws(e,n,r,s).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new OL;return this.Ss(e,n,o).next(l=>{if(a.result=l,this.Vs)return this.bs(e,n,o,l.size)})}).next(()=>a.result)}bs(e,n,s,r){return s.documentReadCount<this.fs?(Bi()<=Ie.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",zi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(Bi()<=Ie.DEBUG&&ne("QueryEngine","Query:",zi(n),"scans",s.documentReadCount,"local documents and returns",r,"documents as results."),s.documentReadCount>this.gs*r?(Bi()<=Ie.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",zi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,os(n))):W.resolve())}ys(e,n){if(Iw(n))return W.resolve(null);let s=os(n);return this.indexManager.getIndexType(e,s).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Zm(n,null,"F"),s=os(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(a=>{const o=Ce(...a);return this.ps.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,s).next(c=>{const d=this.Ds(n,l);return this.Cs(n,d,o,c.readTime)?this.ys(e,Zm(n,null,"F")):this.vs(e,d,n,c)}))})))}ws(e,n,s,r){return Iw(n)||r.isEqual(we.min())?W.resolve(null):this.ps.getDocuments(e,s).next(a=>{const o=this.Ds(n,a);return this.Cs(n,o,s,r)?W.resolve(null):(Bi()<=Ie.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),zi(n)),this.vs(e,o,n,aV(r,_l)).next(l=>l))})}Ds(e,n){let s=new vt(RS(e));return n.forEach((r,a)=>{Zd(e,a)&&(s=s.add(a))}),s}Cs(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Ss(e,n,s){return Bi()<=Ie.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",zi(n)),this.ps.getDocumentsMatchingQuery(e,n,Pr.min(),s)}vs(e,n,s,r){return this.ps.getDocumentsMatchingQuery(e,s,r).next(a=>(n.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy="LocalStore",UL=3e8;class $L{constructor(e,n,s,r){this.persistence=e,this.Fs=n,this.serializer=r,this.Ms=new et(ke),this.xs=new Li(a=>Yg(a),Qg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function BL(t,e,n,s){return new $L(t,e,n,s)}async function sE(t,e){const n=be(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(a=>(r=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(a=>{const o=[],l=[];let c=Ce();for(const d of r){o.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of a){l.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(s,c).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:l}))})})}function zL(t,e){const n=be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const r=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,d,h){const f=d.batch,p=f.keys();let v=W.resolve();return p.forEach(E=>{v=v.next(()=>h.getEntry(c,E)).next(w=>{const k=d.docVersions.get(E);De(k!==null,48541),w.version.compareTo(k)<0&&(f.applyToRemoteDocument(w,d),w.isValidDocument()&&(w.setReadTime(d.commitVersion),h.addEntry(w)))})}),v.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,s,e,a).next(()=>a.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(l){let c=Ce();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(s,r))})}function rE(t){const e=be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function HL(t,e){const n=be(t),s=e.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const l=[];e.targetChanges.forEach((h,f)=>{const p=r.get(f);if(!p)return;l.push(n.Pi.removeMatchingKeys(a,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(a,h.addedDocuments,f)));let v=p.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?v=v.withResumeToken(Rt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,s)),r=r.insert(f,v),function(w,k,S){return w.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=UL?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(p,v,h)&&l.push(n.Pi.updateTargetData(a,v))});let c=Os(),d=Ce();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(a,h))}),l.push(WL(a,o,e.documentUpdates).next(h=>{c=h.ks,d=h.qs})),!s.isEqual(we.min())){const h=n.Pi.getLastRemoteSnapshotVersion(a).next(f=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,s));l.push(h)}return W.waitFor(l).next(()=>o.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,c,d)).next(()=>c)}).then(a=>(n.Ms=r,a))}function WL(t,e,n){let s=Ce(),r=Ce();return n.forEach(a=>s=s.add(a)),e.getEntries(t,s).next(a=>{let o=Os();return n.forEach((l,c)=>{const d=a.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(l)),c.isNoDocument()&&c.version.isEqual(we.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):ne(iy,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)}),{ks:o,qs:r}})}function qL(t,e){const n=be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Gg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function GL(t,e){const n=be(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.Pi.getTargetData(s,e).next(a=>a?(r=a,W.resolve(r)):n.Pi.allocateTargetId(s).next(o=>(r=new dr(e,o,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.Ms.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function rp(t,e,n){const s=be(t),r=s.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",a,o=>s.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!qa(o))throw o;ne(iy,`Failed to update sequence numbers for target ${e}: ${o}`)}s.Ms=s.Ms.remove(e),s.xs.delete(r.target)}function $w(t,e,n){const s=be(t);let r=we.min(),a=Ce();return s.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,h){const f=be(c),p=f.xs.get(h);return p!==void 0?W.resolve(f.Ms.get(p)):f.Pi.getTargetData(d,h)}(s,o,os(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(o,l.targetId).next(c=>{a=c})}).next(()=>s.Fs.getDocumentsMatchingQuery(o,e,n?r:we.min(),n?a:Ce())).next(l=>(KL(s,PV(e),l),{documents:l,Qs:a})))}function KL(t,e,n){let s=t.Os.get(e)||we.min();n.forEach((r,a)=>{a.readTime.compareTo(s)>0&&(s=a.readTime)}),t.Os.set(e,s)}class Bw{constructor(){this.activeTargetIds=OV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JL{constructor(){this.Mo=new Bw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Bw,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="ConnectivityMonitor";class Hw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ne(zw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ne(zw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uc=null;function ip(){return Uc===null?Uc=function(){return 268435456+Math.round(2147483648*Math.random())}():Uc++,"0x"+Uc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf="RestConnection",QL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class XL{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${r}`,this.Wo=this.databaseId.database===ld?`project_id=${s}`:`project_id=${s}&database_id=${r}`}Go(e,n,s,r,a){const o=ip(),l=this.zo(e,n.toUriEncodedString());ne(Tf,`Sending RPC '${e}' ${o}:`,l,s);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,r,a);const{host:d}=new URL(l),h=$a(d);return this.Jo(e,l,c,s,h).then(f=>(ne(Tf,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Pa(Tf,`RPC '${e}' ${o} failed with error: `,f,"url: ",l,"request:",s),f})}Ho(e,n,s,r,a,o){return this.Go(e,n,s,r,a)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ha}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,a)=>e[a]=r),s&&s.headers.forEach((r,a)=>e[a]=r)}zo(e,n){const s=QL[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt="WebChannelConnection";class eM extends XL{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,r,a){const o=ip();return new Promise((l,c)=>{const d=new aS;d.setWithCredentials(!0),d.listenOnce(oS.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case lu.NO_ERROR:const f=d.getResponseJson();ne(Mt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),l(f);break;case lu.TIMEOUT:ne(Mt,`RPC '${e}' ${o} timed out`),c(new X(H.DEADLINE_EXCEEDED,"Request time out"));break;case lu.HTTP_ERROR:const p=d.getStatus();if(ne(Mt,`RPC '${e}' ${o} failed with status:`,p,"response text:",d.getResponseText()),p>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const E=v==null?void 0:v.error;if(E&&E.status&&E.message){const w=function(S){const y=S.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(y)>=0?y:H.UNKNOWN}(E.status);c(new X(w,E.message))}else c(new X(H.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new X(H.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{ne(Mt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(r);ne(Mt,`RPC '${e}' ${o} sending request:`,r),d.send(n,"POST",h,s,15)})}T_(e,n,s){const r=ip(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=uS(),l=cS(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,s),c.encodeInitMessageHeaders=!0;const h=a.join("");ne(Mt,`Creating RPC '${e}' stream ${r}: ${h}`,c);const f=o.createWebChannel(h,c);this.I_(f);let p=!1,v=!1;const E=new ZL({Yo:k=>{v?ne(Mt,`Not sending because RPC '${e}' stream ${r} is closed:`,k):(p||(ne(Mt,`Opening RPC '${e}' stream ${r} transport.`),f.open(),p=!0),ne(Mt,`RPC '${e}' stream ${r} sending:`,k),f.send(k))},Zo:()=>f.close()}),w=(k,S,y)=>{k.listen(S,b=>{try{y(b)}catch(P){setTimeout(()=>{throw P},0)}})};return w(f,Co.EventType.OPEN,()=>{v||(ne(Mt,`RPC '${e}' stream ${r} transport opened.`),E.o_())}),w(f,Co.EventType.CLOSE,()=>{v||(v=!0,ne(Mt,`RPC '${e}' stream ${r} transport closed`),E.a_(),this.E_(f))}),w(f,Co.EventType.ERROR,k=>{v||(v=!0,Pa(Mt,`RPC '${e}' stream ${r} transport errored. Name:`,k.name,"Message:",k.message),E.a_(new X(H.UNAVAILABLE,"The operation could not be completed")))}),w(f,Co.EventType.MESSAGE,k=>{var S;if(!v){const y=k.data[0];De(!!y,16349);const b=y,P=(b==null?void 0:b.error)||((S=b[0])==null?void 0:S.error);if(P){ne(Mt,`RPC '${e}' stream ${r} received error:`,P);const M=P.status;let B=function(T){const C=ct[T];if(C!==void 0)return WS(C)}(M),I=P.message;B===void 0&&(B=H.INTERNAL,I="Unknown error status: "+M+" with message "+P.message),v=!0,E.a_(new X(B,I)),f.close()}else ne(Mt,`RPC '${e}' stream ${r} received:`,y),E.u_(y)}}),w(l,lS.STAT_EVENT,k=>{k.stat===qm.PROXY?ne(Mt,`RPC '${e}' stream ${r} detected buffering proxy`):k.stat===qm.NOPROXY&&ne(Mt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{E.__()},0),E}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function jf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(t){return new rL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e,n,s=1e3,r=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=r,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-s);r>0&&ne("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="PersistentStream";class aE{constructor(e,n,s,r,a,o,l,c){this.Mi=e,this.S_=s,this.b_=r,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new iE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(Ms(n.toString()),Ms("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.D_===n&&this.G_(s,r)},s=>{e(()=>{const r=new X(H.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(r)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(r=>{s(()=>this.z_(r))}),this.stream.onMessage(r=>{s(()=>++this.F_==1?this.J_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ne(Ww,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ne(Ww,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tM extends aE{constructor(e,n,s,r,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,o),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=oL(this.serializer,e),s=function(a){if(!("targetChange"in a))return we.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?we.min():o.readTime?ls(o.readTime):we.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=sp(this.serializer),n.addTarget=function(a,o){let l;const c=o.target;if(l=Qm(c)?{documents:uL(a,c)}:{query:dL(a,c).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=KS(a,o.resumeToken);const d=ep(a,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(we.min())>0){l.readTime=hd(a,o.snapshotVersion.toTimestamp());const d=ep(a,o.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const s=fL(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=sp(this.serializer),n.removeTarget=e,this.q_(n)}}class nM extends aE{constructor(e,n,s,r,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return De(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,De(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){De(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=cL(e.writeResults,e.commitTime),s=ls(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=sp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>lL(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{}class rM extends sM{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new X(H.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Go(e,tp(n,s),r,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new X(H.UNKNOWN,a.toString())})}Ho(e,n,s,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Ho(e,tp(n,s),r,o,l,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(H.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class iM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ms(n),this.aa=!1):ne("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci="RemoteStore";class aM{constructor(e,n,s,r,a){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(o=>{s.enqueueAndForget(async()=>{Mi(this)&&(ne(Ci,"Restarting streams for network reachability change."),await async function(c){const d=be(c);d.Ea.add(4),await Xl(d),d.Ra.set("Unknown"),d.Ea.delete(4),await rh(d)}(this))})}),this.Ra=new iM(s,r)}}async function rh(t){if(Mi(t))for(const e of t.da)await e(!0)}async function Xl(t){for(const e of t.da)await e(!1)}function oE(t,e){const n=be(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),cy(n)?ly(n):Ka(n).O_()&&oy(n,e))}function ay(t,e){const n=be(t),s=Ka(n);n.Ia.delete(e),s.O_()&&lE(n,e),n.Ia.size===0&&(s.O_()?s.L_():Mi(n)&&n.Ra.set("Unknown"))}function oy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ka(t).Y_(e)}function lE(t,e){t.Va.Ue(e),Ka(t).Z_(e)}function ly(t){t.Va=new eL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ka(t).start(),t.Ra.ua()}function cy(t){return Mi(t)&&!Ka(t).x_()&&t.Ia.size>0}function Mi(t){return be(t).Ea.size===0}function cE(t){t.Va=void 0}async function oM(t){t.Ra.set("Online")}async function lM(t){t.Ia.forEach((e,n)=>{oy(t,e)})}async function cM(t,e){cE(t),cy(t)?(t.Ra.ha(e),ly(t)):t.Ra.set("Unknown")}async function uM(t,e,n){if(t.Ra.set("Online"),e instanceof GS&&e.state===2&&e.cause)try{await async function(r,a){const o=a.cause;for(const l of a.targetIds)r.Ia.has(l)&&(await r.remoteSyncer.rejectListen(l,o),r.Ia.delete(l),r.Va.removeTarget(l))}(t,e)}catch(s){ne(Ci,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await md(t,s)}else if(e instanceof hu?t.Va.Ze(e):e instanceof qS?t.Va.st(e):t.Va.tt(e),!n.isEqual(we.min()))try{const s=await rE(t.localStore);n.compareTo(s)>=0&&await function(a,o){const l=a.Va.Tt(o);return l.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=a.Ia.get(d);h&&a.Ia.set(d,h.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,d)=>{const h=a.Ia.get(c);if(!h)return;a.Ia.set(c,h.withResumeToken(Rt.EMPTY_BYTE_STRING,h.snapshotVersion)),lE(a,c);const f=new dr(h.target,c,d,h.sequenceNumber);oy(a,f)}),a.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(s){ne(Ci,"Failed to raise snapshot:",s),await md(t,s)}}async function md(t,e,n){if(!qa(e))throw e;t.Ea.add(1),await Xl(t),t.Ra.set("Offline"),n||(n=()=>rE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ne(Ci,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await rh(t)})}function uE(t,e){return e().catch(n=>md(t,n,e))}async function ih(t){const e=be(t),n=Lr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Gg;for(;dM(e);)try{const r=await qL(e.localStore,s);if(r===null){e.Ta.length===0&&n.L_();break}s=r.batchId,hM(e,r)}catch(r){await md(e,r)}dE(e)&&hE(e)}function dM(t){return Mi(t)&&t.Ta.length<10}function hM(t,e){t.Ta.push(e);const n=Lr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function dE(t){return Mi(t)&&!Lr(t).x_()&&t.Ta.length>0}function hE(t){Lr(t).start()}async function fM(t){Lr(t).ra()}async function mM(t){const e=Lr(t);for(const n of t.Ta)e.ea(n.mutations)}async function pM(t,e,n){const s=t.Ta.shift(),r=Zg.from(s,e,n);await uE(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await ih(t)}async function gM(t,e){e&&Lr(t).X_&&await async function(s,r){if(function(o){return QV(o)&&o!==H.ABORTED}(r.code)){const a=s.Ta.shift();Lr(s).B_(),await uE(s,()=>s.remoteSyncer.rejectFailedWrite(a.batchId,r)),await ih(s)}}(t,e),dE(t)&&hE(t)}async function qw(t,e){const n=be(t);n.asyncQueue.verifyOperationInProgress(),ne(Ci,"RemoteStore received new credentials");const s=Mi(n);n.Ea.add(3),await Xl(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await rh(n)}async function yM(t,e){const n=be(t);e?(n.Ea.delete(2),await rh(n)):e||(n.Ea.add(2),await Xl(n),n.Ra.set("Unknown"))}function Ka(t){return t.ma||(t.ma=function(n,s,r){const a=be(n);return a.sa(),new tM(s,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(t.datastore,t.asyncQueue,{Xo:oM.bind(null,t),t_:lM.bind(null,t),r_:cM.bind(null,t),H_:uM.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),cy(t)?ly(t):t.Ra.set("Unknown")):(await t.ma.stop(),cE(t))})),t.ma}function Lr(t){return t.fa||(t.fa=function(n,s,r){const a=be(n);return a.sa(),new nM(s,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:fM.bind(null,t),r_:gM.bind(null,t),ta:mM.bind(null,t),na:pM.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await ih(t)):(await t.fa.stop(),t.Ta.length>0&&(ne(Ci,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,n,s,r,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=a,this.deferred=new ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,r,a){const o=Date.now()+s,l=new uy(e,n,o,r,a);return l.start(s),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dy(t,e){if(Ms("AsyncQueue",`${e}: ${t}`),qa(t))return new X(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{static emptySet(e){return new va(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||de.comparator(n.key,s.key):(n,s)=>de.comparator(n.key,s.key),this.keyedMap=Ao(),this.sortedSet=new et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof va)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,a=s.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new va;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(){this.ga=new et(de.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ye(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class Ma{constructor(e,n,s,r,a,o,l,c,d){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,s,r,a){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Ma(e,n,va.emptySet(n),o,s,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class vM{constructor(){this.queries=Kw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const r=be(n),a=r.queries;r.queries=Kw(),a.forEach((o,l)=>{for(const c of l.Sa)c.onError(s)})})(this,new X(H.ABORTED,"Firestore shutting down"))}}function Kw(){return new Li(t=>PS(t),Xd)}async function hy(t,e){const n=be(t);let s=3;const r=e.query;let a=n.queries.get(r);a?!a.ba()&&e.Da()&&(s=2):(a=new xM,s=e.Da()?0:1);try{switch(s){case 0:a.wa=await n.onListen(r,!0);break;case 1:a.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const l=dy(o,`Initialization of query '${zi(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&my(n)}async function fy(t,e){const n=be(t),s=e.query;let r=3;const a=n.queries.get(s);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?r=e.Da()?0:1:!a.ba()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function wM(t,e){const n=be(t);let s=!1;for(const r of e){const a=r.query,o=n.queries.get(a);if(o){for(const l of o.Sa)l.Fa(r)&&(s=!0);o.wa=r}}s&&my(n)}function bM(t,e,n){const s=be(t),r=s.queries.get(e);if(r)for(const a of r.Sa)a.onError(n);s.queries.delete(e)}function my(t){t.Ca.forEach(e=>{e.next()})}var ap,Jw;(Jw=ap||(ap={})).Ma="default",Jw.Cache="cache";class py{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new Ma(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ma.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ap.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e){this.key=e}}class mE{constructor(e){this.key=e}}class _M{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ce(),this.mutatedKeys=Ce(),this.eu=RS(e),this.tu=new va(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Gw,r=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,o=r,l=!1;const c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,f)=>{const p=r.get(h),v=Zd(this.query,f)?f:null,E=!!p&&this.mutatedKeys.has(p.key),w=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let k=!1;p&&v?p.data.isEqual(v.data)?E!==w&&(s.track({type:3,doc:v}),k=!0):this.su(p,v)||(s.track({type:2,doc:v}),k=!0,(c&&this.eu(v,c)>0||d&&this.eu(v,d)<0)&&(l=!0)):!p&&v?(s.track({type:0,doc:v}),k=!0):p&&!v&&(s.track({type:1,doc:p}),k=!0,(c||d)&&(l=!0)),k&&(v?(o=o.add(v),a=w?a.add(h):a.delete(h)):(o=o.delete(h),a=a.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),a=a.delete(h.key),s.track({type:1,doc:h})}return{tu:o,iu:s,Cs:l,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,r){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(v,E){const w=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Rt:k})}};return w(v)-w(E)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(s),r=r??!1;const l=n&&!r?this._u():[],c=this.Xa.size===0&&this.current&&!r?1:0,d=c!==this.Za;return this.Za=c,o.length!==0||d?{snapshot:new Ma(this.query,e.tu,a,o,e.mutatedKeys,c===0,d,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Gw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ce(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new mE(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new fE(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ce();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ma.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const gy="SyncEngine";class NM{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class SM{constructor(e){this.key=e,this.hu=!1}}class EM{constructor(e,n,s,r,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Li(l=>PS(l),Xd),this.Iu=new Map,this.Eu=new Set,this.du=new et(de.comparator),this.Au=new Map,this.Ru=new ny,this.Vu={},this.mu=new Map,this.fu=La.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function TM(t,e,n=!0){const s=wE(t);let r;const a=s.Tu.get(e);return a?(s.sharedClientState.addLocalQueryTarget(a.targetId),r=a.view.lu()):r=await pE(s,e,n,!0),r}async function jM(t,e){const n=wE(t);await pE(n,e,!0,!1)}async function pE(t,e,n,s){const r=await GL(t.localStore,os(e)),a=r.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let l;return s&&(l=await IM(t,e,a,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&oE(t.remoteStore,r),l}async function IM(t,e,n,s,r){t.pu=(f,p,v)=>async function(w,k,S,y){let b=k.view.ru(S);b.Cs&&(b=await $w(w.localStore,k.query,!1).then(({documents:I})=>k.view.ru(I,b)));const P=y&&y.targetChanges.get(k.targetId),M=y&&y.targetMismatches.get(k.targetId)!=null,B=k.view.applyChanges(b,w.isPrimaryClient,P,M);return Qw(w,k.targetId,B.au),B.snapshot}(t,f,p,v);const a=await $w(t.localStore,e,!0),o=new _M(e,a.Qs),l=o.ru(a.documents),c=Ql.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),d=o.applyChanges(l,t.isPrimaryClient,c);Qw(t,n,d.au);const h=new NM(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function kM(t,e,n){const s=be(t),r=s.Tu.get(e),a=s.Iu.get(r.targetId);if(a.length>1)return s.Iu.set(r.targetId,a.filter(o=>!Xd(o,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await rp(s.localStore,r.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(r.targetId),n&&ay(s.remoteStore,r.targetId),op(s,r.targetId)}).catch(Wa)):(op(s,r.targetId),await rp(s.localStore,r.targetId,!0))}async function CM(t,e){const n=be(t),s=n.Tu.get(e),r=n.Iu.get(s.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),ay(n.remoteStore,s.targetId))}async function AM(t,e,n){const s=OM(t);try{const r=await function(o,l){const c=be(o),d=He.now(),h=l.reduce((v,E)=>v.add(E.key),Ce());let f,p;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let E=Os(),w=Ce();return c.Ns.getEntries(v,h).next(k=>{E=k,E.forEach((S,y)=>{y.isValidDocument()||(w=w.add(S))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,E)).next(k=>{f=k;const S=[];for(const y of l){const b=qV(y,f.get(y.key).overlayedDocument);b!=null&&S.push(new Hr(y.key,b,SS(b.value.mapValue),Bn.exists(!0)))}return c.mutationQueue.addMutationBatch(v,d,S,l)}).next(k=>{p=k;const S=k.applyToLocalDocumentSet(f,w);return c.documentOverlayCache.saveOverlays(v,k.batchId,S)})}).then(()=>({batchId:p.batchId,changes:VS(f)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),function(o,l,c){let d=o.Vu[o.currentUser.toKey()];d||(d=new et(ke)),d=d.insert(l,c),o.Vu[o.currentUser.toKey()]=d}(s,r.batchId,n),await Zl(s,r.changes),await ih(s.remoteStore)}catch(r){const a=dy(r,"Failed to persist write");n.reject(a)}}async function gE(t,e){const n=be(t);try{const s=await HL(n.localStore,e);e.targetChanges.forEach((r,a)=>{const o=n.Au.get(a);o&&(De(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?o.hu=!0:r.modifiedDocuments.size>0?De(o.hu,14607):r.removedDocuments.size>0&&(De(o.hu,42227),o.hu=!1))}),await Zl(n,s,e)}catch(s){await Wa(s)}}function Yw(t,e,n){const s=be(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.Tu.forEach((a,o)=>{const l=o.view.va(e);l.snapshot&&r.push(l.snapshot)}),function(o,l){const c=be(o);c.onlineState=l;let d=!1;c.queries.forEach((h,f)=>{for(const p of f.Sa)p.va(l)&&(d=!0)}),d&&my(c)}(s.eventManager,e),r.length&&s.Pu.H_(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function PM(t,e,n){const s=be(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.Au.get(e),a=r&&r.key;if(a){let o=new et(de.comparator);o=o.insert(a,$t.newNoDocument(a,we.min()));const l=Ce().add(a),c=new nh(we.min(),new Map,new et(ke),o,l);await gE(s,c),s.du=s.du.remove(a),s.Au.delete(e),yy(s)}else await rp(s.localStore,e,!1).then(()=>op(s,e,n)).catch(Wa)}async function RM(t,e){const n=be(t),s=e.batch.batchId;try{const r=await zL(n.localStore,e);xE(n,s,null),yE(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Zl(n,r)}catch(r){await Wa(r)}}async function DM(t,e,n){const s=be(t);try{const r=await function(o,l){const c=be(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,l).next(f=>(De(f!==null,37113),h=f.keys(),c.mutationQueue.removeMutationBatch(d,f))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(s.localStore,e);xE(s,e,n),yE(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Zl(s,r)}catch(r){await Wa(r)}}function yE(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function xE(t,e,n){const s=be(t);let r=s.Vu[s.currentUser.toKey()];if(r){const a=r.get(e);a&&(n?a.reject(n):a.resolve(),r=r.remove(e)),s.Vu[s.currentUser.toKey()]=r}}function op(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(s=>{t.Ru.containsKey(s)||vE(t,s)})}function vE(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(ay(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),yy(t))}function Qw(t,e,n){for(const s of n)s instanceof fE?(t.Ru.addReference(s.key,e),VM(t,s)):s instanceof mE?(ne(gy,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||vE(t,s.key)):ye(19791,{wu:s})}function VM(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(ne(gy,"New document in limbo: "+n),t.Eu.add(s),yy(t))}function yy(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new de(Oe.fromString(e)),s=t.fu.next();t.Au.set(s,new SM(n)),t.du=t.du.insert(n,s),oE(t.remoteStore,new dr(os(Qd(n.path)),s,"TargetPurposeLimboResolution",Kd.ce))}}async function Zl(t,e,n){const s=be(t),r=[],a=[],o=[];s.Tu.isEmpty()||(s.Tu.forEach((l,c)=>{o.push(s.pu(c,e,n).then(d=>{var h;if((d||n)&&s.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;s.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){r.push(d);const f=ry.As(c.targetId,d);a.push(f)}}))}),await Promise.all(o),s.Pu.H_(r),await async function(c,d){const h=be(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>W.forEach(d,p=>W.forEach(p.Es,v=>h.persistence.referenceDelegate.addReference(f,p.targetId,v)).next(()=>W.forEach(p.ds,v=>h.persistence.referenceDelegate.removeReference(f,p.targetId,v)))))}catch(f){if(!qa(f))throw f;ne(iy,"Failed to update sequence numbers: "+f)}for(const f of d){const p=f.targetId;if(!f.fromCache){const v=h.Ms.get(p),E=v.snapshotVersion,w=v.withLastLimboFreeSnapshotVersion(E);h.Ms=h.Ms.insert(p,w)}}}(s.localStore,a))}async function LM(t,e){const n=be(t);if(!n.currentUser.isEqual(e)){ne(gy,"User change. New user:",e.toKey());const s=await sE(n.localStore,e);n.currentUser=e,function(a,o){a.mu.forEach(l=>{l.forEach(c=>{c.reject(new X(H.CANCELLED,o))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Zl(n,s.Ls)}}function MM(t,e){const n=be(t),s=n.Au.get(e);if(s&&s.hu)return Ce().add(s.key);{let r=Ce();const a=n.Iu.get(e);if(!a)return r;for(const o of a){const l=n.Tu.get(o);r=r.unionWith(l.view.nu)}return r}}function wE(t){const e=be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=PM.bind(null,e),e.Pu.H_=wM.bind(null,e.eventManager),e.Pu.yu=bM.bind(null,e.eventManager),e}function OM(t){const e=be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DM.bind(null,e),e}class pd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return BL(this.persistence,new FL,e.initialUser,this.serializer)}Cu(e){return new nE(sy.mi,this.serializer)}Du(e){return new JL}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pd.provider={build:()=>new pd};class FM extends pd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){De(this.persistence.referenceDelegate instanceof fd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new SL(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Xt.withCacheSize(this.cacheSizeBytes):Xt.DEFAULT;return new nE(s=>fd.mi(s,n),this.serializer)}}class lp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Yw(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=LM.bind(null,this.syncEngine),await yM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new vM}()}createDatastore(e){const n=sh(e.databaseInfo.databaseId),s=function(a){return new eM(a)}(e.databaseInfo);return function(a,o,l,c){return new rM(a,o,l,c)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,r,a,o,l){return new aM(s,r,a,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Yw(this.syncEngine,n,0),function(){return Hw.v()?new Hw:new YL}())}createSyncEngine(e,n){return function(r,a,o,l,c,d,h){const f=new EM(r,a,o,l,c,d);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const a=be(r);ne(Ci,"RemoteStore shutting down."),a.Ea.add(5),await Xl(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}lp.provider={build:()=>new lp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ms("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr="FirestoreClient";class UM{constructor(e,n,s,r,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=Ft.UNAUTHENTICATED,this.clientId=qg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(s,async o=>{ne(Mr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(s,o=>(ne(Mr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=dy(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function If(t,e){t.asyncQueue.verifyOperationInProgress(),ne(Mr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async r=>{s.isEqual(r)||(await sE(e.localStore,r),s=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Xw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await $M(t);ne(Mr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>qw(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,r)=>qw(e.remoteStore,r)),t._onlineComponents=e}async function $M(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ne(Mr,"Using user provided OfflineComponentProvider");try{await If(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===H.FAILED_PRECONDITION||r.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Pa("Error using user provided cache. Falling back to memory cache: "+n),await If(t,new pd)}}else ne(Mr,"Using default OfflineComponentProvider"),await If(t,new FM(void 0));return t._offlineComponents}async function bE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ne(Mr,"Using user provided OnlineComponentProvider"),await Xw(t,t._uninitializedComponentsProvider._online)):(ne(Mr,"Using default OnlineComponentProvider"),await Xw(t,new lp))),t._onlineComponents}function BM(t){return bE(t).then(e=>e.syncEngine)}async function gd(t){const e=await bE(t),n=e.eventManager;return n.onListen=TM.bind(null,e.syncEngine),n.onUnlisten=kM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=jM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=CM.bind(null,e.syncEngine),n}function zM(t,e,n={}){const s=new ks;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,l,c,d){const h=new xy({next:p=>{h.Nu(),o.enqueueAndForget(()=>fy(a,f));const v=p.docs.has(l);!v&&p.fromCache?d.reject(new X(H.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&p.fromCache&&c&&c.source==="server"?d.reject(new X(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new py(Qd(l.path),h,{includeMetadataChanges:!0,qa:!0});return hy(a,f)}(await gd(t),t.asyncQueue,e,n,s)),s.promise}function HM(t,e,n={}){const s=new ks;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,l,c,d){const h=new xy({next:p=>{h.Nu(),o.enqueueAndForget(()=>fy(a,f)),p.fromCache&&c.source==="server"?d.reject(new X(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new py(l,h,{includeMetadataChanges:!0,qa:!0});return hy(a,f)}(await gd(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="firestore.googleapis.com",e1=!0;class t1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new X(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NE,this.ssl=e1}else this.host=e.host,this.ssl=e.ssl??e1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_L)throw new X(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_E(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new X(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new X(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new X(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,r){return s.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ah{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new t1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new t1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new J3;switch(s.type){case"firstParty":return new Z3(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new X(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Zw.get(n);s&&(ne("ComponentProvider","Removing Datastore"),Zw.delete(n),s.terminate())}(this),Promise.resolve()}}function WM(t,e,n,s={}){var d;t=pn(t,ah);const r=$a(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;r&&(yN(`https://${l}`),xN("Firestore",!0)),a.host!==NE&&a.host!==l&&Pa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...a,host:l,ssl:r,emulatorOptions:s};if(!Ei(c,o)&&(t._setSettings(c),s.mockUserToken)){let h,f;if(typeof s.mockUserToken=="string")h=s.mockUserToken,f=Ft.MOCK_USER;else{h=t5(s.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const p=s.mockUserToken.sub||s.mockUserToken.user_id;if(!p)throw new X(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ft(p)}t._authCredentials=new Y3(new hS(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Wr(this.firestore,e,this._query)}}class st{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new st(this.firestore,e,this._key)}toJSON(){return{type:st._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Jl(n,st._jsonSchema))return new st(e,s||null,new de(Oe.fromString(n.referencePath)))}}st._jsonSchemaVersion="firestore/documentReference/1.0",st._jsonSchema={type:mt("string",st._jsonSchemaVersion),referencePath:mt("string")};class Tr extends Wr{constructor(e,n,s){super(e,n,Qd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new st(this.firestore,null,new de(e))}withConverter(e){return new Tr(this.firestore,e,this._path)}}function ec(t,e,...n){if(t=wt(t),fS("collection","path",e),t instanceof ah){const s=Oe.fromString(e,...n);return mw(s),new Tr(t,null,s)}{if(!(t instanceof st||t instanceof Tr))throw new X(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Oe.fromString(e,...n));return mw(s),new Tr(t.firestore,null,s)}}function tc(t,e,...n){if(t=wt(t),arguments.length===1&&(e=qg.newId()),fS("doc","path",e),t instanceof ah){const s=Oe.fromString(e,...n);return fw(s),new st(t,null,new de(s))}{if(!(t instanceof st||t instanceof Tr))throw new X(H.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Oe.fromString(e,...n));return fw(s),new st(t.firestore,t instanceof Tr?t.converter:null,new de(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="AsyncQueue";class s1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new iE(this,"async_queue_retry"),this._c=()=>{const s=jf();s&&ne(n1,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=jf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=jf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ks;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!qa(e))throw e;ne(n1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,Ms("INTERNAL UNHANDLED ERROR: ",r1(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=uy.createAndSchedule(this,e,n,s,a=>this.hc(a));return this.tc.push(r),r}uc(){this.nc&&ye(47125,{Pc:r1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function r1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(t){return function(n,s){if(typeof n!="object"||n===null)return!1;const r=n;for(const a of s)if(a in r&&typeof r[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Or extends ah{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new s1,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new s1(e),this._firestoreClient=void 0,await e}}}function qM(t,e){const n=typeof t=="object"?t:_N(),s=typeof t=="string"?t:ld,r=Dg(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const a=Z4("firestore");a&&WM(r,...a)}return r}function oh(t){if(t._terminated)throw new X(H.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||GM(t),t._firestoreClient}function GM(t){var s,r,a;const e=t._freezeSettings(),n=function(l,c,d,h){return new gV(l,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,_E(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((s=t._app)==null?void 0:s.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(r=e.localCache)!=null&&r._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new UM(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this._byteString=e}static fromBase64String(e){try{return new En(Rt.fromBase64String(e))}catch(n){throw new X(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new En(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:En._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Jl(e,En._jsonSchema))return En.fromBase64String(e.bytes)}}En._jsonSchemaVersion="firestore/bytes/1.0",En._jsonSchema={type:mt("string",En._jsonSchemaVersion),bytes:mt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:cs._jsonSchemaVersion}}static fromJSON(e){if(Jl(e,cs._jsonSchema))return new cs(e.latitude,e.longitude)}}cs._jsonSchemaVersion="firestore/geoPoint/1.0",cs._jsonSchema={type:mt("string",cs._jsonSchemaVersion),latitude:mt("number"),longitude:mt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,r){if(s.length!==r.length)return!1;for(let a=0;a<s.length;++a)if(s[a]!==r[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:us._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Jl(e,us._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new us(e.vectorValues);throw new X(H.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}us._jsonSchemaVersion="firestore/vectorValue/1.0",us._jsonSchema={type:mt("string",us._jsonSchemaVersion),vectorValues:mt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM=/^__.*__$/;class JM{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Hr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Yl(e,this.data,n,this.fieldTransforms)}}class SE{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Hr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function EE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{Ac:t})}}class vy{constructor(e,n,s,r,a,o){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new vy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var r;const n=(r=this.path)==null?void 0:r.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var r;const n=(r=this.path)==null?void 0:r.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return yd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(EE(this.Ac)&&KM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class YM{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||sh(e)}Cc(e,n,s,r=!1){return new vy({Ac:e,methodName:n,Dc:s,path:Ct.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uh(t){const e=t._freezeSettings(),n=sh(t._databaseId);return new YM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function TE(t,e,n,s,r,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,n,r);by("Data must be an object, but it was:",o,s);const l=jE(s,o);let c,d;if(a.merge)c=new fn(o.fieldMask),d=o.fieldTransforms;else if(a.mergeFields){const h=[];for(const f of a.mergeFields){const p=cp(e,f,n);if(!o.contains(p))throw new X(H.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);kE(h,p)||h.push(p)}c=new fn(h),d=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,d=o.fieldTransforms;return new JM(new en(l),c,d)}class dh extends ch{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dh}}class wy extends ch{_toFieldTransform(e){return new BV(e.path,new jl)}isEqual(e){return e instanceof wy}}function QM(t,e,n,s){const r=t.Cc(1,e,n);by("Data must be an object, but it was:",r,s);const a=[],o=en.empty();zr(s,(c,d)=>{const h=_y(e,c,n);d=wt(d);const f=r.yc(h);if(d instanceof dh)a.push(h);else{const p=nc(d,f);p!=null&&(a.push(h),o.set(h,p))}});const l=new fn(a);return new SE(o,l,r.fieldTransforms)}function XM(t,e,n,s,r,a){const o=t.Cc(1,e,n),l=[cp(e,s,n)],c=[r];if(a.length%2!=0)throw new X(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<a.length;p+=2)l.push(cp(e,a[p])),c.push(a[p+1]);const d=[],h=en.empty();for(let p=l.length-1;p>=0;--p)if(!kE(d,l[p])){const v=l[p];let E=c[p];E=wt(E);const w=o.yc(v);if(E instanceof dh)d.push(v);else{const k=nc(E,w);k!=null&&(d.push(v),h.set(v,k))}}const f=new fn(d);return new SE(h,f,o.fieldTransforms)}function ZM(t,e,n,s=!1){return nc(n,t.Cc(s?4:3,e))}function nc(t,e){if(IE(t=wt(t)))return by("Unsupported field value:",e,t),jE(t,e);if(t instanceof ch)return function(s,r){if(!EE(r.Ac))throw r.Sc(`${s._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${s._methodName}() is not currently supported inside arrays`);const a=s._toFieldTransform(r);a&&r.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,r){const a=[];let o=0;for(const l of s){let c=nc(l,r.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),o++}return{arrayValue:{values:a}}}(t,e)}return function(s,r){if((s=wt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return FV(r.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const a=He.fromDate(s);return{timestampValue:hd(r.serializer,a)}}if(s instanceof He){const a=new He(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:hd(r.serializer,a)}}if(s instanceof cs)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof En)return{bytesValue:KS(r.serializer,s._byteString)};if(s instanceof st){const a=r.databaseId,o=s.firestore._databaseId;if(!o.isEqual(a))throw r.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ty(s.firestore._databaseId||r.databaseId,s._key.path)}}if(s instanceof us)return function(o,l){return{mapValue:{fields:{[_S]:{stringValue:NS},[cd]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw l.Sc("VectorValues must only contain numeric values.");return Xg(l.serializer,d)})}}}}}}(s,r);throw r.Sc(`Unsupported field value: ${Gd(s)}`)}(t,e)}function jE(t,e){const n={};return gS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zr(t,(s,r)=>{const a=nc(r,e.mc(s));a!=null&&(n[s]=a)}),{mapValue:{fields:n}}}function IE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof He||t instanceof cs||t instanceof En||t instanceof st||t instanceof ch||t instanceof us)}function by(t,e,n){if(!IE(n)||!mS(n)){const s=Gd(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function cp(t,e,n){if((e=wt(e))instanceof lh)return e._internalPath;if(typeof e=="string")return _y(t,e);throw yd("Field path arguments must be of type string or ",t,!1,void 0,n)}const e6=new RegExp("[~\\*/\\[\\]]");function _y(t,e,n){if(e.search(e6)>=0)throw yd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new lh(...e.split("."))._internalPath}catch{throw yd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function yd(t,e,n,s,r){const a=s&&!s.isEmpty(),o=r!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||o)&&(c+=" (found",a&&(c+=` in field ${s}`),o&&(c+=` in document ${r}`),c+=")"),new X(H.INVALID_ARGUMENT,l+t+c)}function kE(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e,n,s,r,a){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new st(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new t6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ny("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class t6 extends CE{data(){return super.data()}}function Ny(t,e){return typeof e=="string"?_y(t,e):e instanceof lh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sy{}class PE extends Sy{}function RE(t,e,...n){let s=[];e instanceof Sy&&s.push(e),s=s.concat(n),function(a){const o=a.filter(c=>c instanceof Ty).length,l=a.filter(c=>c instanceof Ey).length;if(o>1||o>0&&l>0)throw new X(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const r of s)t=r._apply(t);return t}class Ey extends PE{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Ey(e,n,s)}_apply(e){const n=this._parse(e);return VE(e._query,n),new Wr(e.firestore,e.converter,Xm(e._query,n))}_parse(e){const n=uh(e.firestore);return function(a,o,l,c,d,h,f){let p;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new X(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){o1(f,h);const E=[];for(const w of f)E.push(a1(c,a,w));p={arrayValue:{values:E}}}else p=a1(c,a,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||o1(f,h),p=ZM(l,o,f,h==="in"||h==="not-in");return ht.create(d,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Ty extends Sy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ty(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Hn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,a){let o=r;const l=a.getFlattenedFilters();for(const c of l)VE(o,c),o=Xm(o,c)}(e._query,n),new Wr(e.firestore,e.converter,Xm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class jy extends PE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new jy(e,n)}_apply(e){const n=function(r,a,o){if(r.startAt!==null)throw new X(H.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new X(H.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Tl(a,o)}(e._query,this._field,this._direction);return new Wr(e.firestore,e.converter,function(r,a){const o=r.explicitOrderBy.concat([a]);return new Ga(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function DE(t,e="asc"){const n=e,s=Ny("orderBy",t);return jy._create(s,n)}function a1(t,e,n){if(typeof(n=wt(n))=="string"){if(n==="")throw new X(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AS(e)&&n.indexOf("/")!==-1)throw new X(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Oe.fromString(n));if(!de.isDocumentKey(s))throw new X(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return _w(t,new de(s))}if(n instanceof st)return _w(t,n._key);throw new X(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gd(n)}.`)}function o1(t,e){if(!Array.isArray(t)||t.length===0)throw new X(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function VE(t,e){const n=function(r,a){for(const o of r)for(const l of o.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class n6{convertValue(e,n="none"){switch(Vr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return zr(e,(r,a)=>{s[r]=this.convertValue(a,n)}),s}convertVectorValue(e){var s,r,a;const n=(a=(r=(s=e.fields)==null?void 0:s[cd].arrayValue)==null?void 0:r.values)==null?void 0:a.map(o=>it(o.doubleValue));return new us(n)}convertGeoPoint(e){return new cs(it(e.latitude),it(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Yd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Nl(e));default:return null}}convertTimestamp(e){const n=Rr(e);return new He(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Oe.fromString(e);De(eE(s),9688,{name:e});const r=new Sl(s.get(1),s.get(3)),a=new de(s.popFirst(5));return r.isEqual(n)||Ms(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class Ro{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yi extends CE{constructor(e,n,s,r,a,o){super(e,n,s,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Ny("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new X(H.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=yi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}yi._jsonSchemaVersion="firestore/documentSnapshot/1.0",yi._jsonSchema={type:mt("string",yi._jsonSchemaVersion),bundleSource:mt("string","DocumentSnapshot"),bundleName:mt("string"),bundle:mt("string")};class fu extends yi{data(e={}){return super.data(e)}}class xi{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Ro(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new fu(this._firestore,this._userDataWriter,s.key,s,new Ro(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(l=>{const c=new fu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Ro(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>a||l.type!==3).map(l=>{const c=new fu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Ro(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,h=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:s6(l.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new X(H.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=xi._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],r=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),s.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),r.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function s6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r6(t){t=pn(t,st);const e=pn(t.firestore,Or);return zM(oh(e),t._key).then(n=>UE(e,t,n))}xi._jsonSchemaVersion="firestore/querySnapshot/1.0",xi._jsonSchema={type:mt("string",xi._jsonSchemaVersion),bundleSource:mt("string","QuerySnapshot"),bundleName:mt("string"),bundle:mt("string")};class Iy extends n6{constructor(e){super(),this.firestore=e}convertBytes(e){return new En(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new st(this.firestore,null,n)}}function ME(t){t=pn(t,Wr);const e=pn(t.firestore,Or),n=oh(e),s=new Iy(e);return AE(t._query),HM(n,t._query).then(r=>new xi(e,s,t,r))}function i6(t,e,n){t=pn(t,st);const s=pn(t.firestore,Or),r=LE(t.converter,e,n);return ky(s,[TE(uh(s),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,Bn.none())])}function OE(t,e,n,...s){t=pn(t,st);const r=pn(t.firestore,Or),a=uh(r);let o;return o=typeof(e=wt(e))=="string"||e instanceof lh?XM(a,"updateDoc",t._key,e,n,s):QM(a,"updateDoc",t._key,e),ky(r,[o.toMutation(t._key,Bn.exists(!0))])}function a6(t,e){const n=pn(t.firestore,Or),s=tc(t),r=LE(t.converter,e);return ky(n,[TE(uh(t.firestore),"addDoc",s._key,r,t.converter!==null,{}).toMutation(s._key,Bn.exists(!1))]).then(()=>s)}function FE(t,...e){var c,d,h;t=wt(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||i1(e[s])||(n=e[s++]);const r={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(i1(e[s])){const f=e[s];e[s]=(c=f.next)==null?void 0:c.bind(f),e[s+1]=(d=f.error)==null?void 0:d.bind(f),e[s+2]=(h=f.complete)==null?void 0:h.bind(f)}let a,o,l;if(t instanceof st)o=pn(t.firestore,Or),l=Qd(t._key.path),a={next:f=>{e[s]&&e[s](UE(o,t,f))},error:e[s+1],complete:e[s+2]};else{const f=pn(t,Wr);o=pn(f.firestore,Or),l=f._query;const p=new Iy(o);a={next:v=>{e[s]&&e[s](new xi(o,p,f,v))},error:e[s+1],complete:e[s+2]},AE(t._query)}return function(p,v,E,w){const k=new xy(w),S=new py(v,k,E);return p.asyncQueue.enqueueAndForget(async()=>hy(await gd(p),S)),()=>{k.Nu(),p.asyncQueue.enqueueAndForget(async()=>fy(await gd(p),S))}}(oh(o),l,r,a)}function ky(t,e){return function(s,r){const a=new ks;return s.asyncQueue.enqueueAndForget(async()=>AM(await BM(s),r,a)),a.promise}(oh(t),e)}function UE(t,e,n){const s=n.docs.get(e._key),r=new Iy(t);return new yi(t,r,e._key,s,new Ro(n.hasPendingWrites,n.fromCache),e.converter)}function hh(){return new wy("serverTimestamp")}(function(e,n=!0){(function(r){Ha=r})(Ba),Ca(new Ti("firestore",(s,{instanceIdentifier:r,options:a})=>{const o=s.getProvider("app").getImmediate(),l=new Or(new Q3(s.getProvider("auth-internal")),new eV(o,s.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new X(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sl(d.options.projectId,h)}(o,r),o);return a={useFetchStreams:n,...a},l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),Sr(cw,uw,e),Sr(cw,uw,"esm2020")})();const o6={apiKey:"AIzaSyA4oe_gqt8NOWC6VCEfJYbznsVQuoyIJC4",authDomain:"saxovault-d94c5.firebaseapp.com",projectId:"saxovault-d94c5",storageBucket:"saxovault-d94c5.firebasestorage.app",messagingSenderId:"61739859282",appId:"1:61739859282:web:e33555e56540b7aee20e8b",measurementId:"G-RC1Y2MJJVS"},$E=bN(o6),Ai=G3($E),fs=qM($E),BE=new ys;BE.setCustomParameters({prompt:"select_account"});const Cy=async t=>{try{return await i6(tc(fs,"users",t.uid),{...t,updatedAt:hh()},{merge:!0}),console.log(" User saved to Firestore:",t.email),{success:!0}}catch(e){return console.error(" Error saving user to Firestore:",e),{success:!1,error:e.message}}},Ay=async t=>{try{const e=tc(fs,"users",t),n=await r6(e);return n.exists()?{success:!0,data:n.data()}:{success:!1,error:"User not found"}}catch(e){return console.error(" Error getting user from Firestore:",e),{success:!1,error:e.message}}},zE=async()=>{try{const t=await ME(ec(fs,"users")),e=[];return t.forEach(n=>{e.push({id:n.id,...n.data()})}),console.log(" Fetched",e.length,"users from Firestore"),{success:!0,data:e}}catch(t){return console.error(" Error getting users from Firestore:",t),{success:!1,error:t.message}}},Py=async(t,e)=>{try{return await OE(tc(fs,"users",t),{...e,updatedAt:hh()}),console.log(" User updated in Firestore"),{success:!0}}catch(n){return console.error(" Error updating user in Firestore:",n),{success:!1,error:n.message}}},HE=async t=>{try{const e=await a6(ec(fs,"transactions"),{...t,createdAt:hh(),status:t.status||"pending"});return console.log(" Transaction added to Firestore:",e.id),{success:!0,id:e.id}}catch(e){return console.error(" Error adding transaction to Firestore:",e),{success:!1,error:e.message}}},WE=async()=>{try{const t=RE(ec(fs,"transactions"),DE("createdAt","desc")),e=await ME(t),n=[];return e.forEach(s=>{var a,o,l;const r=s.data();n.push({id:s.id,...r,createdAt:((l=(o=(a=r.createdAt)==null?void 0:a.toDate)==null?void 0:o.call(a))==null?void 0:l.toISOString())||r.createdAt})}),console.log(" Fetched",n.length,"transactions from Firestore"),{success:!0,data:n}}catch(t){return console.error(" Error getting transactions from Firestore:",t),{success:!1,error:t.message}}},up=async(t,e)=>{try{return await OE(tc(fs,"transactions",t),{...e,updatedAt:hh()}),console.log(" Transaction updated in Firestore"),{success:!0}}catch(n){return console.error(" Error updating transaction in Firestore:",n),{success:!1,error:n.message}}},qE=t=>{const e=RE(ec(fs,"transactions"),DE("createdAt","desc"));return FE(e,n=>{const s=[];n.forEach(r=>{var o,l,c;const a=r.data();s.push({id:r.id,...a,createdAt:((c=(l=(o=a.createdAt)==null?void 0:o.toDate)==null?void 0:l.call(o))==null?void 0:c.toISOString())||a.createdAt})}),t(s)})},GE=t=>FE(ec(fs,"users"),e=>{const n=[];e.forEach(s=>{n.push({id:s.id,...s.data()})}),t(n)}),KE=async()=>{try{const e=(await n3(Ai,BE)).user,n=await Ay(e.uid);let s,r=!1;return!n.success||!n.data?(r=!0,s={uid:e.uid,email:e.email,name:e.displayName||"",phone:"",country:"",referralCode:"",createdAt:new Date().toISOString(),balance:0,signInMethod:"google",photoURL:e.photoURL||""},await Cy(s),localStorage.setItem(`user_${e.uid}`,JSON.stringify(s))):(s=n.data,e.photoURL&&e.photoURL!==s.photoURL&&(s.photoURL=e.photoURL,await Py(e.uid,{photoURL:e.photoURL})),localStorage.setItem(`user_${e.uid}`,JSON.stringify(s))),{success:!0,user:e,userData:s,isNewUser:r}}catch(t){let e="Google sign-in failed. Please try again.";switch(t.code){case"auth/popup-closed-by-user":e="Sign-in popup was closed. Please try again.";break;case"auth/popup-blocked":e="Popup was blocked. Please allow popups for this site.";break;case"auth/cancelled-popup-request":e="Sign-in was cancelled.";break;case"auth/account-exists-with-different-credential":e="An account already exists with this email using a different sign-in method.";break;default:e=t.message}return{success:!1,error:e}}},JE=async(t,e,n)=>{try{const r=(await AD(Ai,t,e)).user;await DD(r,{displayName:n.name||""});const a=Math.random().toString(36).substring(2,8).toUpperCase(),o=new Date(Date.now()+24*60*60*1e3).toISOString(),l={uid:r.uid,email:t,name:n.name||"",phone:n.phone||"",country:n.country||"",referralCode:n.referralCode||"",createdAt:new Date().toISOString(),balance:0,signInMethod:"email",emailVerified:!1,verificationToken:a,verificationExpiry:o};try{await Cy(l),console.log(" User saved to Firestore")}catch(d){console.error(" Firestore save failed, will retry on login:",d)}localStorage.setItem(`user_${r.uid}`,JSON.stringify(l));const c=JSON.parse(localStorage.getItem("saxovault_pending_verifications")||"{}");return c[t]={uid:r.uid,token:a,expiry:o,name:n.name},localStorage.setItem("saxovault_pending_verifications",JSON.stringify(c)),window.pendingVerificationData={email:t,name:n.name,token:a,uid:r.uid},{success:!0,user:r,verificationToken:a,message:"Account created! Please check your email to verify your account."}}catch(s){let r="Registration failed. Please try again.";switch(s.code){case"auth/email-already-in-use":r='This email is already registered. Please login instead. If you cannot login, use "Forgot Password" to reset.';break;case"auth/weak-password":r="Password is too weak. Please use at least 8 characters with uppercase, lowercase, number, and symbol.";break;case"auth/invalid-email":r="Please enter a valid email address.";break;default:r=s.message}return{success:!1,error:r}}},YE=async(t,e)=>{try{const s=(await PD(Ai,t,e)).user;let r;const a=await Ay(s.uid);if(a.success&&a.data)r=a.data;else{const o=localStorage.getItem(`user_${s.uid}`);o?r=JSON.parse(o):r={uid:s.uid,email:s.email,name:s.displayName||"",balance:0,emailVerified:!1}}return r.emailVerified?(localStorage.setItem(`user_${s.uid}`,JSON.stringify(r)),{success:!0,user:s,userData:r}):(await GN(Ai),{success:!1,needsVerification:!0,uid:s.uid,email:t,name:r.name,error:"Please verify your email first. Check your inbox for the verification link."})}catch(n){let s="Login failed. Please try again.";switch(n.code){case"auth/user-not-found":s="No account found with this email.";break;case"auth/wrong-password":s="Incorrect password. Please try again.";break;case"auth/invalid-email":s="Please enter a valid email address.";break;case"auth/too-many-requests":s="Too many failed attempts. Please try again later.";break;case"auth/invalid-credential":s="Invalid email or password.";break;default:s=n.message}return{success:!1,error:s}}},QE=async()=>{try{return await GN(Ai),{success:!0}}catch(t){return{success:!1,error:t.message}}},XE=async t=>{try{return await CD(Ai,t),{success:!0,message:"Password reset email sent! Check your inbox."}}catch(e){let n="Failed to send reset email.";switch(e.code){case"auth/user-not-found":n="No account found with this email.";break;case"auth/invalid-email":n="Please enter a valid email address.";break;default:n=e.message}return{success:!1,error:n}}},l6=Object.freeze(Object.defineProperty({__proto__:null,addTransactionToFirestore:HE,auth:Ai,db:fs,getAllTransactionsFromFirestore:WE,getAllUsersFromFirestore:zE,getUserFromFirestore:Ay,loginUser:YE,logoutUser:QE,registerUser:JE,resetPassword:XE,saveUserToFirestore:Cy,signInWithGoogle:KE,subscribeToTransactions:qE,subscribeToUsers:GE,updateTransactionInFirestore:up,updateUserInFirestore:Py},Symbol.toStringTag,{value:"Module"}));D.createContext();const c6={navy:"#0a1628",navyLight:"#1a2d4a",gold:"#D4AF37",goldDark:"#b8962e",green:"#0FAF76",greenDark:"#0d9962",cream:"#faf8f5"},N=c6,u6={en:{welcome:"Welcome",dashboard:"Dashboard",investments:"Investments",deposit:"Deposit",withdraw:"Withdraw",balance:"Balance",pending:"Pending",approved:"Approved",home:"Home",profile:"Profile",settings:"Settings",logout:"Logout",login:"Login",register:"Register",email:"Email",password:"Password",name:"Name",phone:"Phone",submit:"Submit",cancel:"Cancel",confirm:"Confirm",amount:"Amount",history:"History",notifications:"Notifications",referral:"Referral",calculator:"Calculator",investNow:"Invest Now",minInvestment:"Min Investment",returns:"Returns",duration:"Duration",status:"Status",copyAddress:"Copy Address",paymentPending:"Payment Pending",transactionHistory:"Transaction History",noTransactions:"No transactions yet",securityTips:"Security Tips",activityLog:"Activity Log",viewAll:"View All",search:"Search",filter:"Filter",export:"Export",support:"Support",help:"Help",about:"About",terms:"Terms",privacy:"Privacy",contact:"Contact",language:"Language",darkMode:"Dark Mode",lightMode:"Light Mode"},es:{welcome:"Bienvenido",dashboard:"Panel",investments:"Inversiones",deposit:"Depositar",withdraw:"Retirar",balance:"Saldo",pending:"Pendiente",approved:"Aprobado",home:"Inicio",profile:"Perfil",settings:"Ajustes",logout:"Cerrar sesin",login:"Iniciar sesin",register:"Registrarse",email:"Correo",password:"Contrasea",name:"Nombre",phone:"Telfono",submit:"Enviar",cancel:"Cancelar",confirm:"Confirmar",amount:"Cantidad",history:"Historial",notifications:"Notificaciones",referral:"Referidos",calculator:"Calculadora",investNow:"Invertir Ahora",minInvestment:"Inversin Mnima",returns:"Retornos",duration:"Duracin",status:"Estado",copyAddress:"Copiar Direccin",paymentPending:"Pago Pendiente",transactionHistory:"Historial de Transacciones",noTransactions:"Sin transacciones",securityTips:"Consejos de Seguridad",activityLog:"Registro de Actividad",viewAll:"Ver Todo",search:"Buscar",filter:"Filtrar",export:"Exportar",support:"Soporte",help:"Ayuda",about:"Acerca de",terms:"Trminos",privacy:"Privacidad",contact:"Contacto",language:"Idioma",darkMode:"Modo Oscuro",lightMode:"Modo Claro"},fr:{welcome:"Bienvenue",dashboard:"Tableau de bord",investments:"Investissements",deposit:"Dpt",withdraw:"Retirer",balance:"Solde",pending:"En attente",approved:"Approuv",home:"Accueil",profile:"Profil",settings:"Paramtres",logout:"Dconnexion",login:"Connexion",register:"S'inscrire",email:"E-mail",password:"Mot de passe",name:"Nom",phone:"Tlphone",submit:"Soumettre",cancel:"Annuler",confirm:"Confirmer",amount:"Montant",history:"Historique",notifications:"Notifications",referral:"Parrainage",calculator:"Calculatrice",investNow:"Investir Maintenant",minInvestment:"Investissement Min",returns:"Rendements",duration:"Dure",status:"Statut",copyAddress:"Copier l'adresse",paymentPending:"Paiement en attente",transactionHistory:"Historique des transactions",noTransactions:"Aucune transaction",securityTips:"Conseils de scurit",activityLog:"Journal d'activit",viewAll:"Voir tout",search:"Rechercher",filter:"Filtrer",export:"Exporter",support:"Support",help:"Aide",about:" propos",terms:"Conditions",privacy:"Confidentialit",contact:"Contact",language:"Langue",darkMode:"Mode sombre",lightMode:"Mode clair"},de:{welcome:"Willkommen",dashboard:"bersicht",investments:"Investitionen",deposit:"Einzahlung",withdraw:"Auszahlung",balance:"Guthaben",pending:"Ausstehend",approved:"Genehmigt",home:"Startseite",profile:"Profil",settings:"Einstellungen",logout:"Abmelden",login:"Anmelden",register:"Registrieren",email:"E-Mail",password:"Passwort",name:"Name",phone:"Telefon",submit:"Absenden",cancel:"Abbrechen",confirm:"Besttigen",amount:"Betrag",history:"Verlauf",notifications:"Benachrichtigungen",referral:"Empfehlung",calculator:"Rechner",investNow:"Jetzt investieren",minInvestment:"Mindestanlage",returns:"Rendite",duration:"Laufzeit",status:"Status",copyAddress:"Adresse kopieren"},pt:{welcome:"Bem-vindo",dashboard:"Painel",investments:"Investimentos",deposit:"Depsito",withdraw:"Saque",balance:"Saldo",pending:"Pendente",approved:"Aprovado",home:"Incio",profile:"Perfil",settings:"Configuraes",logout:"Sair",login:"Entrar",register:"Cadastrar",email:"E-mail",password:"Senha",name:"Nome",phone:"Telefone",submit:"Enviar",cancel:"Cancelar",confirm:"Confirmar",amount:"Valor",history:"Histrico",notifications:"Notificaes",referral:"Indicao",calculator:"Calculadora",investNow:"Investir Agora"},it:{welcome:"Benvenuto",dashboard:"Pannello",investments:"Investimenti",deposit:"Deposito",withdraw:"Prelievo",balance:"Saldo",pending:"In attesa",approved:"Approvato",home:"Home",profile:"Profilo",settings:"Impostazioni",logout:"Esci",login:"Accedi",register:"Registrati",email:"Email",password:"Password",name:"Nome",phone:"Telefono",submit:"Invia",cancel:"Annulla",confirm:"Conferma",amount:"Importo",history:"Cronologia",investNow:"Investi Ora",minInvestment:"Investimento Minimo",returns:"Rendimenti",duration:"Durata"},nl:{welcome:"Welkom",dashboard:"Dashboard",investments:"Investeringen",deposit:"Storting",withdraw:"Opname",balance:"Saldo",pending:"In behandeling",approved:"Goedgekeurd",home:"Home",profile:"Profiel",settings:"Instellingen",logout:"Uitloggen",login:"Inloggen",register:"Registreren",investNow:"Nu Investeren"},ru:{welcome:" ",dashboard:"",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",email:". ",password:"",name:"",phone:"",submit:"",cancel:"",confirm:"",amount:"",history:"",investNow:"",minInvestment:". ",returns:"",duration:""},zh:{welcome:"",dashboard:"",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",email:"",password:"",name:"",phone:"",submit:"",cancel:"",confirm:"",amount:"",history:"",investNow:"",minInvestment:"",returns:"",duration:"",notifications:""},ja:{welcome:"",dashboard:"",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",email:"",password:"",name:"",phone:"",submit:"",cancel:"",confirm:"",amount:"",history:"",investNow:"",minInvestment:"",returns:"",duration:""},ko:{welcome:"",dashboard:"",investments:"",deposit:"",withdraw:"",balance:"",pending:" ",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",email:"",password:"",name:"",phone:"",submit:"",cancel:"",confirm:"",amount:"",history:"",investNow:" ",minInvestment:" ",returns:"",duration:""},ar:{welcome:"",dashboard:" ",investments:"",deposit:"",withdraw:"",balance:"",pending:" ",approved:" ",home:"",profile:" ",settings:"",logout:" ",login:" ",register:"",email:" ",password:" ",name:"",phone:"",submit:"",cancel:"",confirm:"",amount:"",history:"",investNow:" ",minInvestment:"  ",returns:"",duration:""},hi:{welcome:" ",dashboard:"",investments:"",deposit:"",withdraw:"",balance:" ",pending:"",approved:"",home:"",profile:"",settings:"",logout:" ",login:" ",register:"",email:"",password:"",name:"",phone:"",submit:" ",cancel:" ",confirm:" ",amount:"",history:"",investNow:"  ",minInvestment:" ",returns:"",duration:""},tr:{welcome:"Ho geldiniz",dashboard:"Kontrol Paneli",investments:"Yatrmlar",deposit:"Para Yatr",withdraw:"Para ek",balance:"Bakiye",pending:"Beklemede",approved:"Onayland",home:"Ana Sayfa",profile:"Profil",settings:"Ayarlar",logout:"k",login:"Giri",register:"Kayt Ol",email:"E-posta",password:"ifre",name:"Ad",phone:"Telefon",submit:"Gnder",cancel:"ptal",confirm:"Onayla",amount:"Tutar",history:"Gemi",investNow:"imdi Yatrm Yap",minInvestment:"Min Yatrm",returns:"Getiri",duration:"Sre"},pl:{welcome:"Witamy",dashboard:"Panel",investments:"Inwestycje",deposit:"Wpata",withdraw:"Wypata",balance:"Saldo",pending:"Oczekujce",approved:"Zatwierdzone",home:"Strona gwna",profile:"Profil",settings:"Ustawienia",logout:"Wyloguj",login:"Zaloguj",register:"Zarejestruj",investNow:"Inwestuj Teraz"},vi:{welcome:"Cho mng",dashboard:"Bng iu khin",investments:"u t",deposit:"Np tin",withdraw:"Rt tin",balance:"S d",pending:"ang ch",approved:" duyt",home:"Trang ch",profile:"H s",settings:"Ci t",logout:"ng xut",login:"ng nhp",register:"ng k",investNow:"u t ngay"},th:{welcome:"",dashboard:"",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",investNow:""},id:{welcome:"Selamat datang",dashboard:"Dasbor",investments:"Investasi",deposit:"Setor",withdraw:"Tarik",balance:"Saldo",pending:"Tertunda",approved:"Disetujui",home:"Beranda",profile:"Profil",settings:"Pengaturan",logout:"Keluar",login:"Masuk",register:"Daftar",investNow:"Investasi Sekarang"},ms:{welcome:"Selamat datang",dashboard:"Papan pemuka",investments:"Pelaburan",deposit:"Deposit",withdraw:"Pengeluaran",balance:"Baki",pending:"Menunggu",approved:"Diluluskan",home:"Laman utama",profile:"Profil",settings:"Tetapan",logout:"Log keluar",login:"Log masuk",register:"Daftar",investNow:"Labur Sekarang"},tl:{welcome:"Maligayang pagdating",dashboard:"Dashboard",investments:"Mga Pamumuhunan",deposit:"Deposito",withdraw:"Withdraw",balance:"Balanse",pending:"Nakabinbin",approved:"Aprubado",home:"Home",profile:"Profile",settings:"Settings",logout:"Mag-logout",login:"Mag-login",register:"Mag-register",investNow:"Mamuhunan Ngayon"},el:{welcome:" ",dashboard:" ",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",investNow:" "},cs:{welcome:"Vtejte",dashboard:"Pehled",investments:"Investice",deposit:"Vklad",withdraw:"Vbr",balance:"Zstatek",pending:"ekajc",approved:"Schvleno",home:"Dom",profile:"Profil",settings:"Nastaven",logout:"Odhlsit",login:"Pihlsit",register:"Registrace",investNow:"Investovat nyn"},sv:{welcome:"Vlkommen",dashboard:"Instrumentpanel",investments:"Investeringar",deposit:"Insttning",withdraw:"Uttag",balance:"Saldo",pending:"Vntande",approved:"Godknd",home:"Hem",profile:"Profil",settings:"Instllningar",logout:"Logga ut",login:"Logga in",register:"Registrera",investNow:"Investera Nu"},no:{welcome:"Velkommen",dashboard:"Kontrollpanel",investments:"Investeringer",deposit:"Innskudd",withdraw:"Uttak",balance:"Saldo",pending:"Venter",approved:"Godkjent",home:"Hjem",profile:"Profil",settings:"Innstillinger",logout:"Logg ut",login:"Logg inn",register:"Registrer",investNow:"Invester N"},da:{welcome:"Velkommen",dashboard:"Kontrolpanel",investments:"Investeringer",deposit:"Indbetaling",withdraw:"Udbetaling",balance:"Saldo",pending:"Afventer",approved:"Godkendt",home:"Hjem",profile:"Profil",settings:"Indstillinger",logout:"Log ud",login:"Log ind",register:"Registrer",investNow:"Invester Nu"},fi:{welcome:"Tervetuloa",dashboard:"Hallintapaneeli",investments:"Sijoitukset",deposit:"Talletus",withdraw:"Nosto",balance:"Saldo",pending:"Odottaa",approved:"Hyvksytty",home:"Etusivu",profile:"Profiili",settings:"Asetukset",logout:"Kirjaudu ulos",login:"Kirjaudu",register:"Rekisteridy",investNow:"Sijoita Nyt"},he:{welcome:" ",dashboard:" ",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",investNow:" "},uk:{welcome:" ",dashboard:"",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",investNow:" "},ro:{welcome:"Bun venit",dashboard:"Panou",investments:"Investiii",deposit:"Depunere",withdraw:"Retragere",balance:"Sold",pending:"n ateptare",approved:"Aprobat",home:"Acas",profile:"Profil",settings:"Setri",logout:"Deconectare",login:"Conectare",register:"nregistrare",investNow:"Investete Acum"},hu:{welcome:"dvzljk",dashboard:"Irnytpult",investments:"Befektetsek",deposit:"Befizets",withdraw:"Kifizets",balance:"Egyenleg",pending:"Fggben",approved:"Jvhagyott",home:"Foldal",profile:"Profil",settings:"Belltsok",logout:"Kijelentkezs",login:"Bejelentkezs",register:"Regisztrci",investNow:"Befektets Most"},bn:{welcome:"",dashboard:"",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",investNow:"  "},sw:{welcome:"Karibu",dashboard:"Dashibodi",investments:"Uwekezaji",deposit:"Amana",withdraw:"Kutoa",balance:"Salio",pending:"Inasubiri",approved:"Imeidhinishwa",home:"Nyumbani",profile:"Wasifu",settings:"Mipangilio",logout:"Ondoka",login:"Ingia",register:"Jisajili",investNow:"Wekeza Sasa"},yo:{welcome:" kb",dashboard:"Pnl",investments:"dkw",deposit:"fipam",withdraw:"mkr",balance:"yk",pending:" dr",approved:"Ti fws",home:"Il",profile:"ksl",settings:"t",investNow:"e dkw by"},ha:{welcome:"Barka da zuwa",dashboard:"Dashboard",investments:"Saka hannun jari",deposit:"Ajiya",withdraw:"Cire kui",balance:"Ragowar kui",pending:"Ana jira",approved:"An amince",home:"Gida",profile:"Bayani",settings:"Saiti",investNow:"Saka hannun jari yanzu"},ig:{welcome:"Nn",dashboard:"Dashboard",investments:"Ntinye ego",deposit:"Tinyere ego",withdraw:"Wepu ego",balance:"Ego fdr",pending:"Na-echere",approved:"Kwadoro",home:"l",profile:"Profal",settings:"Ntala",investNow:"Tinye ego ugbu a"}},l1={en:"English",es:"Espaol",fr:"Franais",de:"Deutsch",pt:"Portugus",it:"Italiano",nl:"Nederlands",ru:"",zh:"",ja:"",ko:"",ar:"",hi:"",tr:"Trke",pl:"Polski",vi:"Ting Vit",th:"",id:"Bahasa Indonesia",ms:"Bahasa Melayu",tl:"Filipino",el:"",cs:"etina",sv:"Svenska",no:"Norsk",da:"Dansk",fi:"Suomi",he:"",uk:"",ro:"Romn",hu:"Magyar",bn:"",sw:"Kiswahili",yo:"Yorb",ha:"Hausa",ig:"Igbo"},d6=()=>{const e=(navigator.language||navigator.userLanguage).split("-")[0].toLowerCase();return u6[e]?e:"en"},h6=()=>localStorage.getItem("saxovault_language")||d6(),ZE=()=>i.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3 py-4",children:[i.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-gray-100 rounded-lg",children:[i.jsx(Ar,{className:"w-4 h-4 text-green-600"}),i.jsx("span",{className:"text-xs text-gray-600",children:"256-bit SSL"})]}),i.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-gray-100 rounded-lg",children:[i.jsx(br,{className:"w-4 h-4 text-blue-600"}),i.jsx("span",{className:"text-xs text-gray-600",children:"Bank-Level Security"})]}),i.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-gray-100 rounded-lg",children:[i.jsx(j4,{className:"w-4 h-4 text-yellow-600"}),i.jsx("span",{className:"text-xs text-gray-600",children:"Licensed"})]})]});function f6({onComplete:t}){const[e,n]=D.useState(0),s=[{title:"Welcome to SaxoVault! ",description:"Your journey to smart investing starts here. Let us show you around.",icon:""},{title:"Explore Investments",description:"Browse our curated investment opportunities across real estate, crypto, stocks, and more.",icon:""},{title:"Easy Deposits",description:"Fund your account instantly using Bitcoin, Ethereum, or USDT cryptocurrency.",icon:""},{title:"Track Your Portfolio",description:"Monitor your investments, returns, and transaction history from your dashboard.",icon:""},{title:"Secure & Trusted",description:"Your investments are protected with bank-level security and 24/7 support.",icon:""}],r=()=>{if(e<s.length-1)n(e+1);else{const o=JSON.parse(localStorage.getItem("saxovault_current_user")||"{}");o.uid&&localStorage.setItem(`saxovault_onboarding_${o.uid}`,"true"),localStorage.setItem("saxovault_onboarding_complete","true"),t()}},a=()=>{const o=JSON.parse(localStorage.getItem("saxovault_current_user")||"{}");o.uid&&localStorage.setItem(`saxovault_onboarding_${o.uid}`,"true"),localStorage.setItem("saxovault_onboarding_complete","true"),t()};return i.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:i.jsxs(U.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl p-6 max-w-md w-full text-center shadow-2xl",children:[i.jsx("div",{className:"flex gap-1 mb-6 justify-center",children:s.map((o,l)=>i.jsx("div",{className:`h-1 rounded-full transition-all ${l<=e?"w-8":"w-4"}`,style:{background:l<=e?N.gold:"#e5e7eb"}},l))}),i.jsx("div",{className:"text-5xl mb-4",children:s[e].icon}),i.jsx("h2",{className:"font-serif text-xl mb-2",style:{color:N.navy},children:s[e].title}),i.jsx("p",{className:"text-gray-500 text-sm mb-6",children:s[e].description}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:a,className:"flex-1 py-3 rounded-xl text-gray-500 text-sm hover:bg-gray-100",children:"Skip"}),i.jsx(U.button,{onClick:r,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 py-3 rounded-xl text-white text-sm font-medium",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:e===s.length-1?"Let's Go!":"Next"})]})]})})}const ze={hero:"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?w=1920&q=80",realEstate1:"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?w=800&q=80",realEstate2:"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=800&q=80",realEstate3:"https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=800&q=80",crypto1:"https://images.unsplash.com/photo-1518546305927-5a555bb7020d?w=800&q=80",crypto2:"https://images.unsplash.com/photo-1621761191319-c6fb62004040?w=800&q=80",crypto3:"https://images.unsplash.com/photo-1516245834210-c4c142787335?w=800&q=80",stocks1:"https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?w=800&q=80",stocks2:"https://images.unsplash.com/photo-1590283603385-17ffb3a7f29f?w=800&q=80",stocks3:"https://images.unsplash.com/photo-1642790106117-e829e14a795f?w=800&q=80",gold1:"https://images.unsplash.com/photo-1610375461246-83df859d849d?w=800&q=80",gold2:"https://images.unsplash.com/photo-1624365168968-f283d506c6b6?w=800&q=80",plans1:"https://images.unsplash.com/photo-1554224155-6726b3ff858f?w=800&q=80",plans2:"https://images.unsplash.com/photo-1579621970563-ebec7560ff3e?w=800&q=80",plans3:"https://images.unsplash.com/photo-1553729459-efe14ef6055d?w=800&q=80"},fh=[{id:100,name:"Starter Trial",category:"Trial Plan",type:"crypto",min:500,max:500,returns:"5%",term:"5 days",desc:"Experience our platform with a $500 trial investment. Earn 1% daily profit for 5 days. Access your daily profits anytime - withdraw accumulated earnings while your capital works. Principal returned after plan completion. Limited to one trial per account.",progress:98,goal:5e5,img:ze.crypto1,features:["1% Daily Profit","5-Day Duration","Withdraw Daily Profits","Capital Protected","One Per Account"],investors:24853,rating:5,status:"Active",payoutSchedule:"Daily Access",dailyRate:1,totalDays:5,isTestPlan:!0,onePerUser:!0,allowDailyWithdraw:!0},{id:5,name:"Crypto Starter",category:"Cryptocurrency",type:"crypto",min:1e3,max:14999,returns:"8-12%",term:"30 days",desc:"Begin your crypto journey with our entry-level fund. Diversified portfolio of Bitcoin, Ethereum, and top-performing altcoins managed by our expert trading team. Daily profit tracking available.",progress:94,goal:5e6,img:ze.crypto1,features:["Daily Profit Access","BTC & ETH Core","Professional Management","Weekly Reports"],investors:12458,rating:4.8,status:"Active",payoutSchedule:"Daily Access",dailyRate:.33,totalDays:30,allowDailyWithdraw:!0},{id:6,name:"Crypto Growth",category:"Cryptocurrency",type:"crypto",min:15e3,max:29999,returns:"12-18%",term:"45 days",desc:"Accelerate your returns with our growth-focused crypto fund. Strategic allocation across top 20 cryptocurrencies with active rebalancing and DeFi yield optimization strategies.",progress:91,goal:1e7,img:ze.crypto2,features:["Daily Profit Access","Top 20 Cryptos","Active Rebalancing","Bi-Weekly Updates"],investors:6234,rating:4.8,status:"Active",payoutSchedule:"Daily Access",dailyRate:.33,totalDays:45,allowDailyWithdraw:!0},{id:7,name:"Crypto Pro",category:"Cryptocurrency",type:"crypto",min:3e4,max:49999,returns:"18-25%",term:"60 days",desc:"Professional-grade crypto investment with advanced DeFi strategies. Access yield farming, liquidity pools, and arbitrage opportunities. Dedicated support and priority execution included.",progress:87,goal:15e6,img:ze.crypto3,features:["Daily Profit Access","DeFi Strategies","Yield Farming","Priority Support"],investors:3876,rating:4.9,status:"Active",payoutSchedule:"Daily Access",dailyRate:.35,totalDays:60,allowDailyWithdraw:!0},{id:17,name:"Crypto Elite",category:"Cryptocurrency",type:"crypto",min:5e4,max:99999,returns:"25-35%",term:"90 days",desc:"Elite tier for serious investors. Combines algorithmic trading, market-making strategies, and exclusive pre-listing access. Personal account manager and custom reporting included.",progress:78,goal:25e6,img:ze.crypto1,features:["Daily Profit Access","Algo Trading","Pre-Listing Access","Personal Manager"],investors:1567,rating:4.9,status:"Active",payoutSchedule:"Daily Access",dailyRate:.33,totalDays:90,allowDailyWithdraw:!0},{id:18,name:"Crypto Premium",category:"Cryptocurrency",type:"crypto",min:1e5,max:249999,returns:"35-48%",term:"120 days",desc:"Premium crypto fund with institutional-grade strategies. OTC deals, venture investments, and maximum yield optimization. White-glove service with 24/7 dedicated support.",progress:68,goal:5e7,img:ze.crypto2,features:["Daily Profit Access","OTC Deals","Venture Access","24/7 VIP Support"],investors:487,rating:5,status:"Active",payoutSchedule:"Daily Access",dailyRate:.33,totalDays:120,allowDailyWithdraw:!0},{id:19,name:"Crypto Institutional",category:"Cryptocurrency",type:"crypto",min:25e4,returns:"48-65%",term:"180 days",desc:"Institutional-grade crypto portfolio for high-net-worth clients. Bespoke investment strategies, direct trader access, and comprehensive wealth management. Insurance-backed principal protection.",progress:55,goal:1e8,img:ze.crypto3,features:["Daily Profit Access","Bespoke Strategy","Direct Trader Access","Insurance Backed"],investors:156,rating:5,status:"Active",payoutSchedule:"Daily Access",dailyRate:.3,totalDays:180,allowDailyWithdraw:!0},{id:1,name:"Metro Prime REIT",category:"Real Estate",type:"real-estate",min:25e3,returns:"18-25%",term:"12 months",desc:"Premium commercial real estate portfolio featuring Class-A properties in major metropolitan areas. Stable rental income combined with capital appreciation. Quarterly dividend distributions.",progress:76,goal:25e6,img:ze.realEstate1,features:["Class-A Properties","Quarterly Dividends","Capital Appreciation","Tax Benefits"],investors:892,rating:4.9,status:"Active",dailyRate:.058,totalDays:365},{id:2,name:"Luxury Residences Fund",category:"Real Estate",type:"real-estate",min:25e3,returns:"22-30%",term:"18 months",desc:"Exclusive luxury residential developments in prime global locations. Benefit from property appreciation and rental yields in high-demand markets. Professional property management included.",progress:65,goal:35e6,img:ze.realEstate2,features:["Luxury Properties","Prime Locations","High Appreciation","Professional Mgmt"],investors:567,rating:4.8,status:"Active",dailyRate:.048,totalDays:540},{id:3,name:"Commercial Portfolio",category:"Real Estate",type:"real-estate",min:5e4,returns:"28-38%",term:"24 months",desc:"Diversified commercial real estate including office buildings, retail centers, and industrial properties. Long-term leases provide stable, predictable returns with upside potential.",progress:52,goal:75e6,img:ze.realEstate3,features:["Diversified Assets","Long-Term Leases","Stable Income","Capital Growth"],investors:324,rating:4.7,status:"Funding",dailyRate:.045,totalDays:730},{id:8,name:"Dividend Champions",category:"Stocks & Bonds",type:"stocks",min:5e3,returns:"12-18%",term:"12 months",desc:"Curated portfolio of dividend-paying stocks with proven track records. Focus on companies with 25+ years of consecutive dividend increases. Reliable quarterly income stream.",img:ze.stocks1,features:["Quarterly Dividends","Blue Chip Quality","25+ Year Track Record","Steady Income"],investors:3456,rating:4.9,status:"Open",dailyRate:.042,totalDays:365},{id:9,name:"Tech Leaders Fund",category:"Stocks & Bonds",type:"stocks",min:5e3,returns:"18-28%",term:"12 months",desc:"Growth-focused portfolio targeting technology sector leaders in AI, cloud computing, semiconductors, and emerging tech. Higher growth potential with active management.",img:ze.stocks2,features:["AI & Tech Focus","Growth Oriented","Active Management","Monthly Updates"],investors:2134,rating:4.7,status:"Open",dailyRate:.065,totalDays:365},{id:10,name:"Global Bond Fund",category:"Stocks & Bonds",type:"stocks",min:1e4,returns:"8-12%",term:"12 months",desc:"Investment-grade corporate and government bonds from global markets. Capital preservation focus with steady income. Lower volatility suitable for conservative investors.",img:ze.stocks3,features:["Capital Preservation","Monthly Income","Investment Grade","Low Volatility"],investors:1876,rating:4.9,status:"Open",dailyRate:.028,totalDays:365},{id:11,name:"Gold Reserve Fund",category:"Precious Metals",type:"metals",min:5e3,returns:"10-15%",term:"6 months",desc:"Strategic gold investment combining physical holdings and gold mining equities. Inflation hedge with exposure to precious metals market movements and safe-haven demand.",progress:87,goal:15e6,img:ze.gold1,features:["Inflation Hedge","Physical + Miners","Safe Haven","Quarterly Reports"],investors:2678,rating:4.8,status:"Active",dailyRate:.07,totalDays:180},{id:12,name:"Precious Metals Mix",category:"Precious Metals",type:"metals",min:1e4,returns:"15-22%",term:"12 months",desc:"Diversified precious metals portfolio including gold, silver, platinum, and palladium. Benefit from industrial demand and safe-haven status across multiple metals markets.",progress:72,goal:2e7,img:ze.gold2,features:["Multi-Metal Exposure","Industrial Demand","Diversified","Quarterly Payouts"],investors:1534,rating:4.7,status:"Active",dailyRate:.052,totalDays:365},{id:14,name:"Conservative Growth",category:"Balanced",type:"plans",min:2500,returns:"10-15%",term:"6 months",desc:"Balanced allocation across stable assets for steady growth. Perfect for investors seeking consistent returns with minimized risk. Capital protection focus with monthly distributions.",img:ze.plans1,features:["Capital Protected","Monthly Payouts","Low Volatility","Beginner Friendly"],investors:5678,rating:4.9,status:"Open",dailyRate:.07,totalDays:180},{id:15,name:"Balanced Wealth",category:"Balanced",type:"plans",min:1e4,returns:"18-25%",term:"12 months",desc:"Dynamic portfolio balancing growth and income across multiple asset classes. Quarterly rebalancing optimizes returns while managing risk. Ideal for medium-term wealth building.",img:ze.plans2,features:["Multi-Asset Mix","Quarterly Rebalance","Growth + Income","Tax Efficient"],investors:3421,rating:4.8,status:"Open",dailyRate:.06,totalDays:365},{id:16,name:"Maximum Growth",category:"Balanced",type:"plans",min:25e3,returns:"28-40%",term:"12 months",desc:"Aggressive growth strategy targeting maximum returns through high-conviction positions in crypto, tech stocks, and emerging opportunities. For experienced investors with higher risk tolerance.",img:ze.plans3,features:["Max Growth Focus","High Conviction","Active Trading","Weekly Updates"],investors:1234,rating:4.7,status:"Open",dailyRate:.095,totalDays:365}],m6=[{id:"crypto",name:"Cryptocurrency",icon:Z2,count:6},{id:"real-estate",name:"Real Estate",icon:kg,count:3},{id:"stocks",name:"Stocks & Bonds",icon:X2,count:3},{id:"plans",name:"Portfolios",icon:k4,count:3}];function p6({onLogin:t,setMessage:e,setLoading:n,loading:s}){const[r,a]=D.useState(!1),o=async()=>{a(!0),e({type:"",text:""});try{const l=await KE();l.success?(l.isNewUser&&Te.sendNewUserNotification(l.userData.email,l.userData.name,"Google").catch(console.error),t(l.userData)):e({type:"error",text:l.error})}catch{e({type:"error",text:"Google sign-in failed. Please try again."})}finally{a(!1)}};return i.jsx(U.button,{type:"button",onClick:o,disabled:s||r,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3.5 rounded-xl font-semibold flex items-center justify-center gap-3 border-2 border-gray-200 bg-white hover:bg-gray-50 disabled:opacity-70 transition-all",children:r?i.jsx(In,{className:"w-5 h-5 animate-spin text-gray-600"}):i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[i.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),i.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),i.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),i.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),i.jsx("span",{style:{color:N.navy},children:"Continue with Google"})]})})}function g6({onLogin:t}){const[e,n]=D.useState("login"),[s,r]=D.useState(!1),[a,o]=D.useState(1),[l,c]=D.useState({name:"",email:"",phone:"",password:"",confirmPassword:"",referralCode:"",country:""}),[d,h]=D.useState(!1),[f,p]=D.useState({}),[v,E]=D.useState({type:"",text:""}),w=[{name:"Afghanistan",code:"+93",flag:""},{name:"Albania",code:"+355",flag:""},{name:"Algeria",code:"+213",flag:""},{name:"Argentina",code:"+54",flag:""},{name:"Australia",code:"+61",flag:""},{name:"Austria",code:"+43",flag:""},{name:"Bangladesh",code:"+880",flag:""},{name:"Belgium",code:"+32",flag:""},{name:"Brazil",code:"+55",flag:""},{name:"Canada",code:"+1",flag:""},{name:"Chile",code:"+56",flag:""},{name:"China",code:"+86",flag:""},{name:"Colombia",code:"+57",flag:""},{name:"Czech Republic",code:"+420",flag:""},{name:"Denmark",code:"+45",flag:""},{name:"Egypt",code:"+20",flag:""},{name:"Ethiopia",code:"+251",flag:""},{name:"Finland",code:"+358",flag:""},{name:"France",code:"+33",flag:""},{name:"Germany",code:"+49",flag:""},{name:"Ghana",code:"+233",flag:""},{name:"Greece",code:"+30",flag:""},{name:"Hong Kong",code:"+852",flag:""},{name:"Hungary",code:"+36",flag:""},{name:"India",code:"+91",flag:""},{name:"Indonesia",code:"+62",flag:""},{name:"Ireland",code:"+353",flag:""},{name:"Israel",code:"+972",flag:""},{name:"Italy",code:"+39",flag:""},{name:"Japan",code:"+81",flag:""},{name:"Kenya",code:"+254",flag:""},{name:"Malaysia",code:"+60",flag:""},{name:"Mexico",code:"+52",flag:""},{name:"Morocco",code:"+212",flag:""},{name:"Nepal",code:"+977",flag:""},{name:"Netherlands",code:"+31",flag:""},{name:"New Zealand",code:"+64",flag:""},{name:"Nigeria",code:"+234",flag:""},{name:"Norway",code:"+47",flag:""},{name:"Pakistan",code:"+92",flag:""},{name:"Peru",code:"+51",flag:""},{name:"Philippines",code:"+63",flag:""},{name:"Poland",code:"+48",flag:""},{name:"Portugal",code:"+351",flag:""},{name:"Romania",code:"+40",flag:""},{name:"Russia",code:"+7",flag:""},{name:"Saudi Arabia",code:"+966",flag:""},{name:"Singapore",code:"+65",flag:""},{name:"South Africa",code:"+27",flag:""},{name:"South Korea",code:"+82",flag:""},{name:"Spain",code:"+34",flag:""},{name:"Sri Lanka",code:"+94",flag:""},{name:"Sweden",code:"+46",flag:""},{name:"Switzerland",code:"+41",flag:""},{name:"Taiwan",code:"+886",flag:""},{name:"Tanzania",code:"+255",flag:""},{name:"Thailand",code:"+66",flag:""},{name:"Turkey",code:"+90",flag:""},{name:"UAE",code:"+971",flag:""},{name:"Uganda",code:"+256",flag:""},{name:"Ukraine",code:"+380",flag:""},{name:"United Kingdom",code:"+44",flag:""},{name:"United States",code:"+1",flag:""},{name:"Vietnam",code:"+84",flag:""},{name:"Zimbabwe",code:"+263",flag:""}],k=w.find(V=>V.name===l.country)||null,[S,y]=D.useState(!1),[b,P]=D.useState(""),[M,B]=D.useState({score:0,checks:{}}),I=V=>{const $={minLength:V.length>=8,hasUppercase:/[A-Z]/.test(V),hasLowercase:/[a-z]/.test(V),hasNumber:/[0-9]/.test(V),hasSymbol:/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(V)};return{score:Object.values($).filter(Boolean).length,checks:$}};D.useEffect(()=>{e==="register"&&B(I(l.password))},[l.password,e]);const _=V=>V===0?{label:"",color:"#gray"}:V<=2?{label:"Weak",color:"#ef4444"}:V<=3?{label:"Fair",color:"#f59e0b"}:V<=4?{label:"Good",color:"#3b82f6"}:{label:"Strong",color:"#10b981"},T=()=>{const V={};return e==="register"&&(l.name.trim()||(V.name="Full name is required"),l.country||(V.country="Please select your country"),l.password!==l.confirmPassword&&(V.confirmPassword="Passwords do not match"),l.password.length<8?V.password="Password must be at least 8 characters":M.checks.hasUppercase?M.checks.hasLowercase?M.checks.hasNumber?M.checks.hasSymbol||(V.password="Password must include a symbol (!@#$%^&*)"):V.password="Password must include a number":V.password="Password must include a lowercase letter":V.password="Password must include an uppercase letter"),(!l.email.includes("@")||!l.email.includes("."))&&(V.email="Please enter a valid email address"),l.password||(V.password="Password is required"),p(V),Object.keys(V).length===0},[C,R]=D.useState(!1),[L,A]=D.useState(null),fe=async V=>{if(V.preventDefault(),!!T()){if(h(!0),E({type:"",text:""}),e==="register"){const $=await JE(l.email,l.password,{name:l.name,phone:k?`${k.code} ${l.phone}`:l.phone,country:l.country,referralCode:l.referralCode});if($.success){o(2),E({type:"success",text:$.message});try{await Te.sendVerificationEmail(l.email,l.name,$.verificationToken),console.log(" Custom verification email sent")}catch(ee){console.error(" Failed to send verification email:",ee)}Te.sendNewUserNotification(l.email,l.name,"Email").catch(console.error)}else E({type:"error",text:$.error})}else{const $=await YE(l.email,l.password);if($.success){if(un.is2FAEnabled($.userData.uid)){A($.userData),console.log(" Sending 2FA code to:",$.userData.email),(await un.send2FACode($.userData.uid,$.userData.email)).success?console.log(" 2FA code sent successfully"):console.error(" Failed to send 2FA code"),R(!0),h(!1);return}t($.userData)}else $.needsVerification?(o(2),E({type:"warning",text:$.error})):E({type:"error",text:$.error})}h(!1)}},oe=()=>{R(!1),L&&(t(L),A(null))},ue=async V=>{if(V.preventDefault(),!b.includes("@")){E({type:"error",text:"Please enter a valid email address"});return}h(!0);const $=await XE(b);$.success?(E({type:"success",text:$.message}),y(!1),P("")):E({type:"error",text:$.error}),h(!1)},re=async()=>{h(!0);try{const V=await Te.resendVerificationEmail(l.email);V.success?E({type:"success",text:" Verification email sent! Please check your inbox."}):E({type:"error",text:V.error||"Failed to resend verification email."})}catch(V){console.error("Resend verification error:",V),E({type:"error",text:"Failed to resend verification email. Please try again."})}h(!1)};return a===2?i.jsxs("div",{className:"min-h-screen flex flex-col lg:flex-row",style:{background:N.cream},children:[i.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:[i.jsx("div",{className:"absolute inset-0",children:i.jsx("img",{src:ze.hero,alt:"",className:"w-full h-full object-cover opacity-20"})}),i.jsxs("div",{className:"relative z-10 flex flex-col justify-center items-center p-16 text-center",children:[i.jsx(U.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring"},className:"mb-8",children:i.jsxs("svg",{viewBox:"0 0 50 55",className:"w-20 h-20 lg:w-24 lg:h-24",children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"authLogoGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#d4a853"}),i.jsx("stop",{offset:"50%",stopColor:"#f4d078"}),i.jsx("stop",{offset:"100%",stopColor:"#d4a853"})]})}),i.jsx("path",{d:"M25 0 L50 8 L50 30 C50 42 38 50 25 55 C12 50 0 42 0 30 L0 8 Z",fill:"rgba(255,255,255,0.15)"}),i.jsx("path",{d:"M25 5 L45 12 L45 29 C45 39 35 46 25 50 C15 46 5 39 5 29 L5 12 Z",fill:"none",stroke:"url(#authLogoGold)",strokeWidth:"2"}),i.jsx("text",{x:"25",y:"36",fontFamily:"Georgia, serif",fontSize:"26",fontWeight:"bold",fill:"url(#authLogoGold)",textAnchor:"middle",children:"S"})]})}),i.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[i.jsx("h1",{className:"font-serif text-4xl lg:text-5xl text-white",children:"SAXO"}),i.jsx("h1",{className:"font-serif text-4xl lg:text-5xl",style:{color:N.gold},children:"VAULT"})]}),i.jsx("p",{className:"text-lg tracking-[0.3em] uppercase text-white/70",children:"Capital"})]})]}),i.jsx("div",{className:"flex-1 flex items-center justify-center p-6 lg:p-16",children:i.jsxs(U.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[i.jsxs("div",{className:"lg:hidden text-center mb-8",children:[i.jsx("div",{className:"w-14 h-14 mx-auto mb-3",children:i.jsxs("svg",{viewBox:"0 0 50 55",className:"w-full h-full",children:[i.jsxs("defs",{children:[i.jsxs("linearGradient",{id:"authMobileGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#d4a853"}),i.jsx("stop",{offset:"50%",stopColor:"#f4d078"}),i.jsx("stop",{offset:"100%",stopColor:"#d4a853"})]}),i.jsxs("linearGradient",{id:"authMobileNavy",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#1a2d4a"}),i.jsx("stop",{offset:"100%",stopColor:"#0a1628"})]})]}),i.jsx("path",{d:"M25 0 L50 8 L50 30 C50 42 38 50 25 55 C12 50 0 42 0 30 L0 8 Z",fill:"url(#authMobileNavy)"}),i.jsx("path",{d:"M25 5 L45 12 L45 29 C45 39 35 46 25 50 C15 46 5 39 5 29 L5 12 Z",fill:"none",stroke:"url(#authMobileGold)",strokeWidth:"1.5"}),i.jsx("text",{x:"25",y:"35",fontFamily:"Georgia, serif",fontSize:"24",fontWeight:"bold",fill:"url(#authMobileGold)",textAnchor:"middle",children:"S"})]})}),i.jsxs("div",{className:"flex items-baseline justify-center gap-1",children:[i.jsx("span",{className:"font-serif text-xl",style:{color:N.navy},children:"SAXO"}),i.jsx("span",{className:"font-serif text-xl",style:{color:N.gold},children:"VAULT"})]})]}),i.jsxs("div",{className:"text-center mb-8",children:[i.jsx(U.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2},className:"w-16 h-16 lg:w-20 lg:h-20 mx-auto rounded-full flex items-center justify-center mb-4",style:{background:`${N.green}15`},children:i.jsx(es,{className:"w-8 h-8 lg:w-10 lg:h-10",style:{color:N.green}})}),i.jsx("h2",{className:"font-serif text-2xl lg:text-3xl mb-2",style:{color:N.navy},children:"Check Your Email!"}),i.jsx("p",{className:"text-gray-500 text-sm lg:text-base mb-2",children:"We've sent a verification link to:"}),i.jsx("p",{className:"font-semibold",style:{color:N.navy},children:l.email})]}),i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-6",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(es,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-blue-800 text-sm font-medium",children:"Verification Required"}),i.jsx("p",{className:"text-blue-600 text-xs mt-1",children:"Click the link in your email to verify your account. Check your spam folder if you don't see it."})]})]})}),v.text&&i.jsxs(U.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`mb-4 p-3 rounded-xl text-sm flex items-center gap-2 ${v.type==="success"?"bg-green-50 text-green-700 border border-green-200":v.type==="warning"?"bg-yellow-50 text-yellow-700 border border-yellow-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[v.type==="success"?i.jsx(Ke,{className:"w-4 h-4"}):i.jsx(rs,{className:"w-4 h-4"}),v.text]}),i.jsx(U.button,{onClick:re,disabled:d,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3.5 lg:py-4 rounded-xl font-semibold text-base lg:text-lg flex items-center justify-center gap-3 border-2 mb-4",style:{borderColor:N.navy,color:N.navy},children:d?i.jsx(In,{className:"w-5 h-5 animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(es,{className:"w-5 h-5"})," Resend Verification Email"]})}),i.jsx(U.button,{onClick:()=>{o(1),n("login")},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3.5 lg:py-4 rounded-xl text-white font-semibold text-base lg:text-lg flex items-center justify-center gap-3",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:"Back to Login"}),i.jsx("p",{className:"text-center text-gray-500 text-xs mt-6",children:"Already verified? Go back to login and sign in."})]})})]}):S?i.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",style:{background:N.cream},children:i.jsxs(U.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"w-full max-w-md bg-white rounded-2xl shadow-xl p-6 lg:p-8",children:[i.jsxs("button",{onClick:()=>y(!1),className:"mb-4 flex items-center gap-2 text-gray-500 hover:text-gray-700",children:[i.jsx(Ul,{className:"w-4 h-4"})," Back to Login"]}),i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"w-16 h-16 mx-auto rounded-full flex items-center justify-center mb-4",style:{background:`${N.gold}15`},children:i.jsx(Ju,{className:"w-8 h-8",style:{color:N.gold}})}),i.jsx("h2",{className:"font-serif text-2xl mb-2",style:{color:N.navy},children:"Reset Password"}),i.jsx("p",{className:"text-gray-500 text-sm",children:"Enter your email to receive a reset link"})]}),v.text&&i.jsxs(U.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`mb-4 p-3 rounded-xl text-sm flex items-center gap-2 ${v.type==="success"?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:[v.type==="success"?i.jsx(Ke,{className:"w-4 h-4"}):i.jsx(rs,{className:"w-4 h-4"}),v.text]}),i.jsxs("form",{onSubmit:ue,children:[i.jsxs("div",{className:"relative mb-4",children:[i.jsx(es,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"email",value:b,onChange:V=>P(V.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email"})]}),i.jsx(U.button,{type:"submit",disabled:d,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3.5 rounded-xl text-white font-semibold flex items-center justify-center gap-3",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:d?i.jsx(In,{className:"w-5 h-5 animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(Go,{className:"w-5 h-5"})," Send Reset Link"]})})]})]})}):i.jsxs(i.Fragment,{children:[i.jsx(ft,{children:C&&L&&i.jsx(F6,{user:L,onVerify:oe,onClose:()=>R(!1),onResend:async()=>(await un.send2FACode(L.uid,L.email)).success})}),i.jsxs("div",{className:"min-h-screen flex flex-col lg:flex-row",style:{background:N.cream},children:[i.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:[i.jsx("div",{className:"absolute inset-0",children:i.jsx("img",{src:ze.hero,alt:"",className:"w-full h-full object-cover opacity-20"})}),i.jsxs("div",{className:"relative z-10 flex flex-col justify-center items-center p-16 text-center",children:[i.jsx(U.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",duration:.8},className:"mb-8",children:i.jsxs("svg",{viewBox:"0 0 50 55",className:"w-24 h-24",children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"regLogoGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#d4a853"}),i.jsx("stop",{offset:"50%",stopColor:"#f4d078"}),i.jsx("stop",{offset:"100%",stopColor:"#d4a853"})]})}),i.jsx("path",{d:"M25 0 L50 8 L50 30 C50 42 38 50 25 55 C12 50 0 42 0 30 L0 8 Z",fill:"rgba(255,255,255,0.15)"}),i.jsx("path",{d:"M25 5 L45 12 L45 29 C45 39 35 46 25 50 C15 46 5 39 5 29 L5 12 Z",fill:"none",stroke:"url(#regLogoGold)",strokeWidth:"2"}),i.jsx("text",{x:"25",y:"36",fontFamily:"Georgia, serif",fontSize:"26",fontWeight:"bold",fill:"url(#regLogoGold)",textAnchor:"middle",children:"S"})]})}),i.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[i.jsx("h1",{className:"font-serif text-5xl text-white",children:"SAXO"}),i.jsx("h1",{className:"font-serif text-5xl",style:{color:N.gold},children:"VAULT"})]}),i.jsx("p",{className:"text-lg tracking-[0.3em] uppercase text-white/70",children:"Capital"}),i.jsx("p",{className:"text-white/60 text-lg max-w-md mt-4",children:"Access curated Real Estate, Cryptocurrency, Stocks, and Precious Metals investments."}),i.jsx("div",{className:"mt-12 space-y-4 text-left max-w-sm",children:["Institutional-grade investments","Professional asset management","Refer & earn bonus rewards"].map((V,$)=>i.jsxs(U.div,{initial:{x:-30,opacity:0},animate:{x:0,opacity:1},transition:{delay:.3+$*.1},className:"flex items-center gap-3 text-white/80",children:[i.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{background:`${N.gold}30`},children:i.jsx(cn,{className:"w-4 h-4",style:{color:N.gold}})}),V]},$))})]})]}),i.jsx("div",{className:"flex-1 flex items-center justify-center p-6 lg:p-16",children:i.jsxs(U.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[i.jsxs("div",{className:"lg:hidden text-center mb-8",children:[i.jsx("div",{className:"w-14 h-14 mx-auto mb-3",children:i.jsxs("svg",{viewBox:"0 0 50 55",className:"w-full h-full",children:[i.jsxs("defs",{children:[i.jsxs("linearGradient",{id:"regMobileGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#d4a853"}),i.jsx("stop",{offset:"50%",stopColor:"#f4d078"}),i.jsx("stop",{offset:"100%",stopColor:"#d4a853"})]}),i.jsxs("linearGradient",{id:"regMobileNavy",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#1a2d4a"}),i.jsx("stop",{offset:"100%",stopColor:"#0a1628"})]})]}),i.jsx("path",{d:"M25 0 L50 8 L50 30 C50 42 38 50 25 55 C12 50 0 42 0 30 L0 8 Z",fill:"url(#regMobileNavy)"}),i.jsx("path",{d:"M25 5 L45 12 L45 29 C45 39 35 46 25 50 C15 46 5 39 5 29 L5 12 Z",fill:"none",stroke:"url(#regMobileGold)",strokeWidth:"1.5"}),i.jsx("text",{x:"25",y:"35",fontFamily:"Georgia, serif",fontSize:"24",fontWeight:"bold",fill:"url(#regMobileGold)",textAnchor:"middle",children:"S"})]})}),i.jsxs("div",{className:"flex items-baseline justify-center gap-1",children:[i.jsx("span",{className:"font-serif text-xl",style:{color:N.navy},children:"SAXO"}),i.jsx("span",{className:"font-serif text-xl",style:{color:N.gold},children:"VAULT"})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"font-serif text-2xl lg:text-3xl mb-2",style:{color:N.navy},children:e==="login"?"Welcome Back":"Create Account"}),i.jsx("p",{className:"text-gray-500 text-sm lg:text-base",children:e==="login"?"Sign in to access your investments":"Start your investment journey today"})]}),v.text&&i.jsxs(U.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`mb-4 p-3 rounded-xl text-sm flex items-center gap-2 ${v.type==="success"?"bg-green-50 text-green-700 border border-green-200":v.type==="warning"?"bg-yellow-50 text-yellow-700 border border-yellow-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[v.type==="success"?i.jsx(Ke,{className:"w-4 h-4"}):i.jsx(rs,{className:"w-4 h-4"}),v.text]}),i.jsx("div",{className:"flex mb-6 bg-gray-100 rounded-xl p-1.5",children:["login","register"].map(V=>i.jsx("button",{onClick:()=>{n(V),p({}),E({type:"",text:""})},className:`flex-1 py-2.5 lg:py-3 rounded-lg font-medium text-sm lg:text-base transition-all ${e===V?"bg-white shadow-md":"text-gray-500"}`,style:e===V?{color:N.navy}:{},children:V==="login"?"Sign In":"Register"},V))}),i.jsxs("form",{onSubmit:fe,className:"space-y-4",children:[i.jsx(ft,{mode:"wait",children:e==="register"&&i.jsxs(U.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Full Name"}),i.jsxs("div",{className:"relative",children:[i.jsx(Bl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",value:l.name,onChange:V=>c({...l,name:V.target.value}),className:`w-full pl-12 pr-4 py-3 border rounded-xl focus:outline-none ${f.name?"border-red-500":"border-gray-200"}`,placeholder:"John Doe"})]}),f.name&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.name})]},"name")}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Email Address"}),i.jsxs("div",{className:"relative",children:[i.jsx(es,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"email",value:l.email,onChange:V=>c({...l,email:V.target.value}),className:`w-full pl-12 pr-4 py-3 border rounded-xl focus:outline-none ${f.email?"border-red-500":"border-gray-200"}`,placeholder:"john@example.com"})]}),f.email&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.email})]}),i.jsx(ft,{mode:"wait",children:e==="register"&&i.jsxs(i.Fragment,{children:[i.jsxs(U.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Country"}),i.jsxs("div",{className:"relative",children:[i.jsx(ma,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsxs("select",{value:l.country,onChange:V=>c({...l,country:V.target.value}),className:`w-full pl-12 pr-4 py-3 border rounded-xl focus:outline-none appearance-none bg-white ${f.country?"border-red-500":"border-gray-200"}`,children:[i.jsx("option",{value:"",children:"Select your country"}),w.map(V=>i.jsxs("option",{value:V.name,children:[V.flag," ",V.name," (",V.code,")"]},V.name))]}),i.jsx(eN,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"})]}),f.country&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.country})]},"country"),i.jsxs(U.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Phone Number"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("div",{className:"relative w-24 flex-shrink-0",children:i.jsx("div",{className:"w-full px-3 py-3 border border-gray-200 rounded-xl bg-gray-50 text-sm font-medium flex items-center justify-center gap-1",style:{color:N.navy},children:k?i.jsxs(i.Fragment,{children:[k.flag," ",k.code]}):i.jsx("span",{className:"text-gray-400",children:"Code"})})}),i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Cg,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"tel",value:l.phone,onChange:V=>c({...l,phone:V.target.value.replace(/\D/g,"")}),className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none",placeholder:"Phone number",maxLength:"15"})]})]}),k&&l.phone&&i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Full number: ",k.code," ",l.phone]})]},"phone")]})}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(br,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:s?"text":"password",value:l.password,onChange:V=>c({...l,password:V.target.value}),className:`w-full pl-12 pr-14 py-3 border rounded-xl focus:outline-none ${f.password?"border-red-500":"border-gray-200"}`,placeholder:"Create a strong password"}),i.jsx("button",{type:"button",onClick:()=>r(!s),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400",children:s?i.jsx(tu,{className:"w-5 h-5"}):i.jsx(nu,{className:"w-5 h-5"})})]}),f.password&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.password}),e==="register"&&l.password&&i.jsxs("div",{className:"mt-2",children:[i.jsx("div",{className:"flex gap-1 mb-2",children:[1,2,3,4,5].map(V=>i.jsx("div",{className:"h-1.5 flex-1 rounded-full transition-all duration-300",style:{background:M.score>=V?_(M.score).color:"#e5e7eb"}},V))}),i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-xs font-medium",style:{color:_(M.score).color},children:_(M.score).label}),i.jsxs("span",{className:"text-xs text-gray-400",children:[M.score,"/5 requirements met"]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-1 text-xs",children:[i.jsxs("div",{className:`flex items-center gap-1 ${M.checks.minLength?"text-green-600":"text-gray-400"}`,children:[M.checks.minLength?i.jsx(Ke,{className:"w-3 h-3"}):i.jsx("div",{className:"w-3 h-3 rounded-full border border-current"}),i.jsx("span",{children:"8+ characters"})]}),i.jsxs("div",{className:`flex items-center gap-1 ${M.checks.hasUppercase?"text-green-600":"text-gray-400"}`,children:[M.checks.hasUppercase?i.jsx(Ke,{className:"w-3 h-3"}):i.jsx("div",{className:"w-3 h-3 rounded-full border border-current"}),i.jsx("span",{children:"Uppercase (A-Z)"})]}),i.jsxs("div",{className:`flex items-center gap-1 ${M.checks.hasLowercase?"text-green-600":"text-gray-400"}`,children:[M.checks.hasLowercase?i.jsx(Ke,{className:"w-3 h-3"}):i.jsx("div",{className:"w-3 h-3 rounded-full border border-current"}),i.jsx("span",{children:"Lowercase (a-z)"})]}),i.jsxs("div",{className:`flex items-center gap-1 ${M.checks.hasNumber?"text-green-600":"text-gray-400"}`,children:[M.checks.hasNumber?i.jsx(Ke,{className:"w-3 h-3"}):i.jsx("div",{className:"w-3 h-3 rounded-full border border-current"}),i.jsx("span",{children:"Number (0-9)"})]}),i.jsxs("div",{className:`flex items-center gap-1 col-span-2 ${M.checks.hasSymbol?"text-green-600":"text-gray-400"}`,children:[M.checks.hasSymbol?i.jsx(Ke,{className:"w-3 h-3"}):i.jsx("div",{className:"w-3 h-3 rounded-full border border-current"}),i.jsx("span",{children:"Symbol (!@#$%^&*)"})]})]})]})]}),i.jsx(ft,{mode:"wait",children:e==="register"&&i.jsxs(i.Fragment,{children:[i.jsxs(U.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Confirm Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(br,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:s?"text":"password",value:l.confirmPassword,onChange:V=>c({...l,confirmPassword:V.target.value}),className:`w-full pl-12 pr-4 py-3 border rounded-xl focus:outline-none ${f.confirmPassword?"border-red-500":"border-gray-200"}`,placeholder:""})]}),f.confirmPassword&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.confirmPassword})]},"confirm"),i.jsxs(U.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Referral Code (Optional)"}),i.jsxs("div",{className:"relative",children:[i.jsx($l,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",value:l.referralCode,onChange:V=>c({...l,referralCode:V.target.value}),className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none",placeholder:"Enter referral code"})]})]},"referral")]})}),e==="login"&&i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{type:"button",onClick:()=>y(!0),className:"text-sm font-medium hover:underline",style:{color:N.navy},children:"Forgot Password?"})}),i.jsx(U.button,{type:"submit",disabled:d,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3.5 rounded-xl text-white font-semibold flex items-center justify-center gap-3 shadow-lg disabled:opacity-70",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:d?i.jsx(In,{className:"w-5 h-5 animate-spin"}):i.jsxs(i.Fragment,{children:[e==="login"?"Sign In":"Create Account"," ",i.jsx(Ig,{className:"w-5 h-5"})]})})]}),i.jsxs("div",{className:"flex items-center gap-4 my-6",children:[i.jsx("div",{className:"flex-1 h-px bg-gray-200"}),i.jsx("span",{className:"text-sm text-gray-400",children:"or continue with"}),i.jsx("div",{className:"flex-1 h-px bg-gray-200"})]}),i.jsx(p6,{onLogin:t,setMessage:E,setLoading:h,loading:d}),i.jsxs("div",{className:"mt-6 flex flex-wrap items-center gap-4 text-sm text-gray-500",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(pa,{className:"w-4 h-4",style:{color:N.green}}),i.jsx("span",{children:"Bank-level Security"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(br,{className:"w-4 h-4",style:{color:N.green}}),i.jsx("span",{children:"256-bit SSL"})]})]})]})})]})]})}function y6({activePage:t,onNavigate:e,user:n,onLogout:s}){const[r,a]=D.useState(!1),[o,l]=D.useState(!1),[c,d]=D.useState(!1),[h,f]=D.useState(!1);D.useEffect(()=>{const E=()=>a(window.scrollY>20);return window.addEventListener("scroll",E),()=>window.removeEventListener("scroll",E)},[]);const p=[{id:"home",label:"Home",icon:iN},{id:"investments",label:"Investments",icon:gi},{id:"dashboard",label:"Dashboard",icon:Ag},{id:"deposit",label:"Deposit",icon:js,isAction:!0,color:"#10b981"},{id:"withdraw",label:"Withdraw",icon:is,isAction:!0,color:"#f59e0b"},{id:"referral",label:"Referral",icon:$l},{id:"calculator",label:"Calculator",icon:A4}],v=E=>{E==="deposit"?d(!0):E==="withdraw"?f(!0):e(E),l(!1)};return i.jsxs(i.Fragment,{children:[i.jsx(U.nav,{initial:{y:-100},animate:{y:0},className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${r||t!=="home"?"bg-white/95 backdrop-blur-md shadow-lg":"bg-transparent"}`,children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 lg:px-6 py-3 lg:py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(U.div,{whileHover:{scale:1.02},className:"flex items-center gap-2 lg:gap-3 cursor-pointer",onClick:()=>e("home"),children:[i.jsx("div",{className:"relative w-10 h-10 lg:w-11 lg:h-11",children:i.jsxs("svg",{viewBox:"0 0 50 55",className:"w-full h-full",children:[i.jsxs("defs",{children:[i.jsxs("linearGradient",{id:"logoGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#d4a853"}),i.jsx("stop",{offset:"50%",stopColor:"#f4d078"}),i.jsx("stop",{offset:"100%",stopColor:"#d4a853"})]}),i.jsxs("linearGradient",{id:"logoNavy",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#1a2d4a"}),i.jsx("stop",{offset:"100%",stopColor:"#0a1628"})]})]}),i.jsx("path",{d:"M25 0 L50 8 L50 30 C50 42 38 50 25 55 C12 50 0 42 0 30 L0 8 Z",fill:"url(#logoNavy)"}),i.jsx("path",{d:"M25 5 L45 12 L45 29 C45 39 35 46 25 50 C15 46 5 39 5 29 L5 12 Z",fill:"none",stroke:"url(#logoGold)",strokeWidth:"1.5"}),i.jsx("text",{x:"25",y:"35",fontFamily:"Georgia, serif",fontSize:"24",fontWeight:"bold",fill:"url(#logoGold)",textAnchor:"middle",children:"S"})]})}),i.jsxs("div",{className:"hidden sm:block",children:[i.jsxs("div",{className:"flex items-baseline gap-1",children:[i.jsx("span",{className:"font-serif text-lg lg:text-xl font-semibold",style:{color:r||t!=="home"?N.navy:"white"},children:"SAXO"}),i.jsx("span",{className:"font-serif text-lg lg:text-xl font-semibold",style:{color:N.gold},children:"VAULT"})]}),i.jsx("p",{className:"text-[10px] tracking-[0.2em] uppercase",style:{color:r||t!=="home"?"#6b7280":"rgba(255,255,255,0.7)"},children:"Capital"})]})]}),i.jsx("div",{className:"hidden lg:flex items-center gap-1",children:p.map(E=>i.jsxs(U.button,{onClick:()=>v(E.id),whileHover:{scale:1.05},whileTap:{scale:.98},className:`flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium transition-all ${E.isAction||t===E.id?"text-white shadow-lg":r||t!=="home"?"text-gray-600 hover:bg-gray-100":"text-white/80 hover:text-white hover:bg-white/10"}`,style:E.isAction?{background:E.color}:t===E.id?{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`}:{},children:[i.jsx(E.icon,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:E.label})]},E.id))}),i.jsxs("div",{className:"flex items-center gap-2 lg:gap-3",children:[i.jsxs(U.button,{whileHover:{scale:1.05},whileTap:{scale:.98},onClick:()=>e("notifications"),className:`relative p-2 rounded-xl transition-all ${r||t!=="home"?"hover:bg-gray-100":"hover:bg-white/10"}`,children:[i.jsx(Ts,{className:`w-5 h-5 ${r||t!=="home"?"text-gray-600":"text-white"}`}),(()=>{const w=(JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}")[n.uid]||[]).filter(k=>!k.read).length;return w>0?i.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center text-xs text-white font-bold",children:w>9?"9+":w}):null})()]}),i.jsxs(U.button,{whileHover:{scale:1.05},whileTap:{scale:.98},onClick:()=>e("profile"),className:"flex items-center gap-2 px-2 lg:px-4 py-2 rounded-xl transition-all",children:[i.jsx("div",{className:"w-8 h-8 lg:w-9 lg:h-9 rounded-full flex items-center justify-center text-sm font-bold text-white overflow-hidden",style:{background:`linear-gradient(135deg, ${N.gold} 0%, ${N.goldDark} 100%)`},children:n.profileImage?i.jsx("img",{src:n.profileImage,alt:"",className:"w-full h-full object-cover"}):n.name.charAt(0)}),i.jsx("span",{className:`text-sm font-medium hidden md:block ${r||t!=="home"?"text-gray-700":"text-white"}`,children:n.name.split(" ")[0]})]}),i.jsx("button",{onClick:s,className:"hidden lg:flex p-2.5 rounded-xl text-red-500 hover:bg-red-50 transition-all",children:i.jsx(ka,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>l(!o),className:"lg:hidden p-2 rounded-xl",style:{color:r||t!=="home"?N.navy:"white"},children:i.jsx(O4,{className:"w-6 h-6"})})]})]})})}),i.jsx(ft,{children:o&&i.jsxs(i.Fragment,{children:[i.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>l(!1),className:"fixed inset-0 bg-black/50 z-50 lg:hidden"}),i.jsx(U.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"tween"},className:"fixed top-0 right-0 bottom-0 w-72 bg-white z-50 shadow-2xl lg:hidden",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-9 h-9",children:i.jsxs("svg",{viewBox:"0 0 50 55",className:"w-full h-full",children:[i.jsxs("defs",{children:[i.jsxs("linearGradient",{id:"mobileLogoGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#d4a853"}),i.jsx("stop",{offset:"50%",stopColor:"#f4d078"}),i.jsx("stop",{offset:"100%",stopColor:"#d4a853"})]}),i.jsxs("linearGradient",{id:"mobileLogoNavy",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#1a2d4a"}),i.jsx("stop",{offset:"100%",stopColor:"#0a1628"})]})]}),i.jsx("path",{d:"M25 0 L50 8 L50 30 C50 42 38 50 25 55 C12 50 0 42 0 30 L0 8 Z",fill:"url(#mobileLogoNavy)"}),i.jsx("path",{d:"M25 5 L45 12 L45 29 C45 39 35 46 25 50 C15 46 5 39 5 29 L5 12 Z",fill:"none",stroke:"url(#mobileLogoGold)",strokeWidth:"1.5"}),i.jsx("text",{x:"25",y:"35",fontFamily:"Georgia, serif",fontSize:"24",fontWeight:"bold",fill:"url(#mobileLogoGold)",textAnchor:"middle",children:"S"})]})}),i.jsxs("div",{children:[i.jsx("span",{className:"font-serif text-sm",style:{color:N.navy},children:"SAXO"}),i.jsx("span",{className:"font-serif text-sm",style:{color:N.gold},children:"VAULT"})]})]}),i.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:i.jsx(Bt,{className:"w-5 h-5"})})]}),i.jsx("div",{className:"space-y-2",children:p.map(E=>i.jsxs("button",{onClick:()=>v(E.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all ${E.isAction||t===E.id?"text-white":"text-gray-600 hover:bg-gray-100"}`,style:E.isAction?{background:E.color}:t===E.id?{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`}:{},children:[i.jsx(E.icon,{className:"w-5 h-5"}),E.label]},E.id))}),i.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-100 space-y-2",children:[i.jsxs("button",{onClick:()=>{e("profile"),l(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-600 hover:bg-gray-100",children:[i.jsx(su,{className:"w-5 h-5"})," Profile & Settings"]}),i.jsxs("button",{onClick:s,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-red-500 hover:bg-red-50",children:[i.jsx(ka,{className:"w-5 h-5"})," Logout"]})]})]})})]})}),i.jsxs(ft,{children:[c&&i.jsx(eT,{onClose:()=>d(!1)}),h&&i.jsx(tT,{onClose:()=>f(!1),balance:n.balance})]})]})}function x6({activePage:t,onNavigate:e}){const n=[{id:"home",label:"Home",icon:iN},{id:"investments",label:"Invest",icon:gi},{id:"dashboard",label:"Portfolio",icon:Ag},{id:"referral",label:"Referral",icon:$l},{id:"profile",label:"Profile",icon:Bl}];return i.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-40 lg:hidden",children:i.jsx("div",{className:"flex items-center justify-around py-2",children:n.map(s=>i.jsxs("button",{onClick:()=>e(s.id),className:`flex flex-col items-center gap-1 px-3 py-2 rounded-xl transition-all ${t===s.id?"text-white":"text-gray-500"}`,style:t===s.id?{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`}:{},children:[i.jsx(s.icon,{className:"w-5 h-5"}),i.jsx("span",{className:"text-xs font-medium",children:s.label})]},s.id))})})}const v6=D.createContext();function w6({children:t}){const[e,n]=D.useState([]),s=(c,d="info",h=4e3)=>{const f=Date.now();n(p=>[...p,{id:f,message:c,type:d}]),setTimeout(()=>{n(p=>p.filter(v=>v.id!==f))},h)},r=c=>s(c,"success"),a=c=>s(c,"error"),o=c=>s(c,"warning"),l=c=>s(c,"info");return i.jsxs(v6.Provider,{value:{showSuccess:r,showError:a,showWarning:o,showInfo:l},children:[t,i.jsx(b6,{toasts:e})]})}function b6({toasts:t}){return i.jsx("div",{className:"fixed top-4 right-4 z-[9999] space-y-2 pointer-events-none",children:i.jsx(ft,{children:t.map(e=>i.jsxs(U.div,{initial:{opacity:0,x:100,scale:.9},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:100,scale:.9},className:`pointer-events-auto flex items-center gap-3 px-4 py-3 rounded-xl shadow-2xl backdrop-blur-sm ${e.type==="success"?"bg-green-500 text-white":e.type==="error"?"bg-red-500 text-white":e.type==="warning"?"bg-yellow-500 text-white":"bg-blue-500 text-white"}`,children:[e.type==="success"&&i.jsx(Ke,{className:"w-5 h-5"}),e.type==="error"&&i.jsx(Bt,{className:"w-5 h-5"}),e.type==="warning"&&i.jsx(rs,{className:"w-5 h-5"}),e.type==="info"&&i.jsx(Ts,{className:"w-5 h-5"}),i.jsx("span",{className:"text-sm font-medium",children:e.message})]},e.id))})})}function _6(t,e,n=30){const s=D.useRef(null),r=D.useRef(null),[a,o]=D.useState(!1),[l,c]=D.useState(60),d=()=>{if(s.current&&clearTimeout(s.current),r.current&&clearTimeout(r.current),o(!1),!t)return;const f=(n-1)*60*1e3;r.current=setTimeout(()=>{o(!0),c(60);const p=setInterval(()=>{c(v=>v<=1?(clearInterval(p),0):v-1)},1e3);s.current=setTimeout(()=>{clearInterval(p),o(!1),e()},6e4)},f)};return D.useEffect(()=>{if(!t)return;const f=["mousedown","mousemove","keypress","scroll","touchstart","click"],p=()=>{d()};return f.forEach(v=>{document.addEventListener(v,p,{passive:!0})}),d(),()=>{s.current&&clearTimeout(s.current),r.current&&clearTimeout(r.current),f.forEach(v=>{document.removeEventListener(v,p)})}},[t]),{showWarning:a,countdown:l,extendSession:()=>{o(!1),d()}}}function N6({countdown:t,onExtend:e,onLogout:n}){return i.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[9998] flex items-center justify-center p-4",children:i.jsxs(U.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},className:"bg-white rounded-2xl shadow-2xl p-6 max-w-sm w-full text-center",children:[i.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-yellow-100 flex items-center justify-center",children:i.jsx(Si,{className:"w-8 h-8 text-yellow-600"})}),i.jsx("h3",{className:"font-serif text-xl mb-2",style:{color:N.navy},children:"Session Expiring"}),i.jsxs("p",{className:"text-gray-600 text-sm mb-4",children:["Your session will expire in ",i.jsx("span",{className:"font-bold text-red-500",children:t})," seconds due to inactivity."]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(U.button,{onClick:n,whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl border border-gray-200 text-gray-700 text-sm font-medium",children:"Logout"}),i.jsx(U.button,{onClick:e,whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl text-white text-sm font-medium",style:{background:N.green},children:"Stay Logged In"})]})]})})}function S6(){const[t,e]=D.useState(!1),[n,s]=D.useState("options"),[r,a]=D.useState({name:"",email:"",category:"",priority:"medium",subject:"",message:""}),[o,l]=D.useState(!1),[c,d]=D.useState(""),[h,f]=D.useState(!1);D.useEffect(()=>{const w=()=>{if(window.$zoho&&window.$zoho.salesiq)try{window.$zoho.salesiq.floatbutton&&window.$zoho.salesiq.floatbutton.visible("hide"),document.querySelectorAll('[id*="zsiq"], [class*="zsiq"], .siq_bR, .zsiq_floatmain').forEach(B=>{B.style.display="none",B.style.visibility="hidden"})}catch(M){console.log("Zoho widget control:",M)}};w();const k=setTimeout(w,1e3),S=setTimeout(w,2e3),y=setTimeout(w,3e3),b=setTimeout(w,5e3);window.$zoho=window.$zoho||{},window.$zoho.salesiq=window.$zoho.salesiq||{ready:function(){w()}};const P=new MutationObserver(M=>{M.forEach(B=>{B.addedNodes.forEach(I=>{var _,T,C;if(I.nodeType===1){const R=I;((_=R.id)!=null&&_.includes("zsiq")||(T=R.className)!=null&&T.includes("zsiq")||(C=R.className)!=null&&C.includes("siq_bR"))&&(R.style.display="none",R.style.visibility="hidden")}})})});return P.observe(document.body,{childList:!0,subtree:!0}),()=>{clearTimeout(k),clearTimeout(S),clearTimeout(y),clearTimeout(b),P.disconnect()}},[]);const p=()=>{if(window.$zoho&&window.$zoho.salesiq)try{window.$zoho.salesiq.floatbutton&&window.$zoho.salesiq.floatbutton.visible("show"),window.$zoho.salesiq.chat&&window.$zoho.salesiq.chat.start();const w=document.querySelector('.zsiq_floatmain, .siq_bR, [id*="zsiq_float"]');w&&(w.style.display="block",w.style.visibility="visible",w.click())}catch(w){console.log("Opening Zoho chat:",w),alert(` Live Chat

Opening chat window...
If it doesn't appear, please use Email or WhatsApp.`)}else alert(` Live Chat

Our live chat service is being configured.
Please use Email or WhatsApp for immediate support.`);e(!1)},v=async w=>{w.preventDefault(),f(!0);const k="TKT-"+Math.random().toString(36).substr(2,9).toUpperCase(),S=JSON.parse(localStorage.getItem("saxovault_tickets")||"[]"),y={id:k,name:r.name,email:r.email,category:r.category,priority:r.priority,subject:r.subject,message:r.message,status:"open",createdAt:new Date().toISOString()};S.unshift(y),localStorage.setItem("saxovault_tickets",JSON.stringify(S)),K.addNotification({type:"ticket",message:`New ticket from ${r.name}: ${r.subject}`,ticketId:k});try{const b=gt.adminEmail||"saxovault6@gmail.com",P=`New Support Ticket Received

Ticket ID: ${k}
From: ${r.name}
Email: ${r.email}
Category: ${r.category}
Priority: ${r.priority.toUpperCase()}
Subject: ${r.subject}

Message:
${r.message}

---
Please respond to this ticket in the Admin Dashboard.
SaxoVault Capital`;await Te.sendEmail(b,` New Support Ticket: ${r.subject}`,P,"ticket"),console.log(" Ticket notification sent to admin")}catch(b){console.error(" Failed to send ticket notification:",b)}d(k),l(!0),f(!1),setTimeout(()=>{l(!1),a({name:"",email:"",category:"",priority:"medium",subject:"",message:""}),s("options")},5e3)},E=[{id:"livechat",label:"Live Chat",desc:"Chat with an agent now",icon:aN,color:"#00a884",action:p},{id:"whatsapp",label:"WhatsApp",desc:"Message us on WhatsApp",icon:Cg,color:"#25D366",action:()=>window.open("https://wa.me/1234567890","_blank")},{id:"email",label:"Email Support",desc:"support@saxovault.com",icon:es,color:"#EA4335",action:()=>window.location.href="mailto:support@saxovault.com"},{id:"ticket",label:"Submit Ticket",desc:"Create a support ticket",icon:lN,color:N.navy,action:()=>s("ticket")}];return i.jsxs(i.Fragment,{children:[i.jsx(U.button,{onClick:()=>e(!t),whileHover:{scale:1.1},whileTap:{scale:.9},className:"fixed bottom-28 lg:bottom-8 right-4 lg:right-8 w-14 h-14 rounded-full shadow-2xl flex items-center justify-center text-white z-40",style:{background:`linear-gradient(135deg, ${N.green} 0%, ${N.greenDark} 100%)`},children:i.jsx(ft,{mode:"wait",children:t?i.jsx(U.div,{initial:{rotate:-90},animate:{rotate:0},children:i.jsx(Bt,{className:"w-6 h-6"})},"x"):i.jsx(U.div,{initial:{rotate:90},animate:{rotate:0},children:i.jsx(Mm,{className:"w-6 h-6"})},"msg")})}),i.jsx(ft,{children:t&&i.jsxs(i.Fragment,{children:[i.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/30 z-40 lg:hidden",onClick:()=>e(!1)}),i.jsxs(U.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},className:"fixed bottom-44 lg:bottom-24 right-4 lg:right-8 w-80 max-w-[calc(100vw-2rem)] bg-white rounded-2xl shadow-2xl overflow-hidden z-50",children:[i.jsx("div",{className:"p-4 text-white",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{background:"rgba(255,255,255,0.2)"},children:i.jsx(Mm,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-sm",children:"Support Center"}),i.jsx("p",{className:"text-xs text-white/70",children:"We're here to help 24/7"})]})]}),i.jsx("button",{onClick:()=>e(!1),className:"p-1 hover:bg-white/10 rounded-full",children:i.jsx(Bt,{className:"w-5 h-5"})})]})}),i.jsxs("div",{className:"p-4 max-h-96 overflow-y-auto",children:[n==="options"&&i.jsxs("div",{className:"space-y-2",children:[E.map(w=>i.jsxs(U.button,{onClick:w.action,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full flex items-center gap-3 p-3 rounded-xl hover:bg-gray-50 transition-colors border border-gray-100",children:[i.jsx("div",{className:"w-11 h-11 rounded-xl flex items-center justify-center",style:{background:`${w.color}15`},children:i.jsx(w.icon,{className:"w-5 h-5",style:{color:w.color}})}),i.jsxs("div",{className:"flex-1 text-left",children:[i.jsx("span",{className:"font-medium text-sm block",style:{color:N.navy},children:w.label}),i.jsx("span",{className:"text-xs text-gray-500",children:w.desc})]}),i.jsx(tN,{className:"w-4 h-4 text-gray-400"})]},w.id)),i.jsx("div",{className:"pt-3 border-t border-gray-100 mt-3",children:i.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-gray-500",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),i.jsx("span",{children:"Agents online  Avg response: 5 mins"})]})})]}),n==="ticket"&&!o&&i.jsxs("form",{onSubmit:v,className:"space-y-3",children:[i.jsxs("button",{type:"button",onClick:()=>s("options"),className:"text-sm text-gray-500 flex items-center gap-1 mb-2",children:[i.jsx(Ul,{className:"w-4 h-4"})," Back"]}),i.jsx("input",{type:"text",placeholder:"Your Name",required:!0,value:r.name,onChange:w=>a({...r,name:w.target.value}),className:"w-full px-3 py-2.5 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),i.jsx("input",{type:"email",placeholder:"Email Address",required:!0,value:r.email,onChange:w=>a({...r,email:w.target.value}),className:"w-full px-3 py-2.5 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),i.jsxs("select",{value:r.category,onChange:w=>a({...r,category:w.target.value}),required:!0,className:"w-full px-3 py-2.5 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"Select Category"}),i.jsx("option",{value:"account",children:"Account"}),i.jsx("option",{value:"deposit",children:"Deposit"}),i.jsx("option",{value:"withdrawal",children:"Withdrawal"}),i.jsx("option",{value:"investment",children:"Investment"}),i.jsx("option",{value:"kyc",children:"KYC"}),i.jsx("option",{value:"other",children:"Other"})]}),i.jsx("input",{type:"text",placeholder:"Subject",required:!0,value:r.subject,onChange:w=>a({...r,subject:w.target.value}),className:"w-full px-3 py-2.5 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),i.jsx("textarea",{placeholder:"Describe your issue...",required:!0,value:r.message,onChange:w=>a({...r,message:w.target.value}),className:"w-full px-3 py-2.5 border border-gray-200 rounded-lg text-sm resize-none focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3}),i.jsx(U.button,{type:"submit",disabled:h,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-2.5 rounded-lg text-white text-sm font-medium flex items-center justify-center gap-2",style:{background:N.navy},children:h?i.jsx(In,{className:"w-4 h-4 animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(Go,{className:"w-4 h-4"})," Submit Ticket"]})})]}),o&&i.jsxs("div",{className:"text-center py-6",children:[i.jsx(Ke,{className:"w-12 h-12 text-green-500 mx-auto mb-3"}),i.jsx("h4",{className:"font-semibold mb-1",style:{color:N.navy},children:"Ticket Submitted!"}),i.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Your ticket ID:"}),i.jsx("p",{className:"font-mono text-lg font-bold",style:{color:N.gold},children:c}),i.jsx("p",{className:"text-xs text-gray-400 mt-3",children:"We'll respond within 24 hours"})]})]})]})]})})]})}function E6({onViewDocument:t}){const[e,n]=D.useState(!1),s=[{title:"White Paper",desc:"Investment philosophy, technology infrastructure, and growth roadmap",icon:Ku,pages:"42 pages",color:N.gold},{title:"Terms of Service",desc:"Platform usage terms, account management, and service agreements",icon:pa,pages:"28 pages",color:"#3b82f6"},{title:"Privacy Policy",desc:"Data collection, protection, GDPR & CCPA compliance procedures",icon:br,pages:"18 pages",color:"#10b981"},{title:"Risk Disclosure",desc:"Investment risks, market volatility, and important warnings",icon:Ts,pages:"24 pages",color:"#ef4444"},{title:"AML/KYC Policy",desc:"Anti-Money Laundering and identity verification procedures",icon:Ar,pages:"16 pages",color:"#8b5cf6"},{title:"Investment Guide",desc:"Portfolio strategies, asset allocation, and payout structures",icon:H4,pages:"32 pages",color:"#f59e0b"},{title:"Fee Schedule",desc:"Complete breakdown of all fees, charges, and commissions",icon:Lm,pages:"8 pages",color:"#06b6d4"},{title:"FAQ & Support",desc:"Frequently asked questions and comprehensive support guide",icon:Mm,pages:"36 pages",color:"#ec4899"}];return i.jsxs(U.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"bg-white/5 backdrop-blur-md rounded-2xl lg:rounded-3xl border border-white/10 overflow-hidden",children:[i.jsxs(U.button,{onClick:()=>n(!e),className:"w-full p-5 lg:p-6 flex items-center justify-between hover:bg-white/5 transition-all",whileTap:{scale:.99},children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(U.div,{animate:{rotateY:e?180:0},transition:{duration:.3},className:"w-14 h-14 lg:w-16 lg:h-16 rounded-2xl flex items-center justify-center",style:{background:`linear-gradient(135deg, ${N.gold}40 0%, ${N.gold}20 100%)`},children:i.jsx(Ku,{className:"w-7 h-7 lg:w-8 lg:h-8",style:{color:N.gold}})}),i.jsxs("div",{className:"text-left",children:[i.jsx("h3",{className:"font-serif text-lg lg:text-xl text-white mb-1",children:"Legal Documents & Policies"}),i.jsxs("p",{className:"text-white/50 text-sm",children:[s.length," documents available"]})]})]}),i.jsx(U.div,{animate:{rotate:e?180:0},transition:{duration:.3},className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center",children:i.jsx(eN,{className:"w-5 h-5 text-white/70"})})]}),i.jsx(ft,{children:e&&i.jsx(U.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},children:i.jsxs("div",{className:"px-4 lg:px-6 pb-5 lg:pb-6",children:[i.jsx("div",{className:"h-px bg-white/10 mb-4"}),i.jsx("div",{className:"space-y-2",children:s.map((r,a)=>i.jsxs(U.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:a*.05},onClick:()=>t(r.title),className:"w-full flex items-center gap-4 p-3 lg:p-4 rounded-xl hover:bg-white/10 transition-all group text-left",children:[i.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 rounded-xl flex items-center justify-center flex-shrink-0",style:{background:`${r.color}20`},children:i.jsx(r.icon,{className:"w-5 h-5 lg:w-6 lg:h-6",style:{color:r.color}})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[i.jsx("h4",{className:"font-medium text-white group-hover:text-yellow-400 transition-colors text-sm lg:text-base",children:r.title}),i.jsx("span",{className:"px-2 py-0.5 rounded-full bg-white/10 text-white/50 text-xs hidden sm:inline",children:"PDF"})]}),i.jsx("p",{className:"text-white/40 text-xs lg:text-sm truncate",children:r.desc})]}),i.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[i.jsx("span",{className:"text-white/30 text-xs hidden sm:inline",children:r.pages}),i.jsx("div",{className:"w-8 h-8 rounded-full bg-white/5 flex items-center justify-center group-hover:bg-white/10 transition-all",children:i.jsx(Ig,{className:"w-4 h-4 text-white/50 group-hover:text-yellow-400 transition-colors"})})]})]},a))}),i.jsx("div",{className:"mt-4 pt-4 border-t border-white/10",children:i.jsx("p",{className:"text-white/40 text-xs text-center",children:"All documents are available for viewing. Click any document to read the full content."})})]})})})]})}function T6({onNavigate:t,onSelectInvestment:e}){const[n,s]=D.useState(null);JSON.parse(localStorage.getItem("saxovault_investments")||"null");const r=a=>{s(a)};return i.jsxs("div",{className:"min-h-screen",style:{background:N.cream},children:[i.jsx(ft,{children:n&&i.jsx(D6,{document:n,onClose:()=>s(null)})}),i.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[i.jsxs("div",{className:"absolute inset-0",children:[i.jsx("img",{src:ze.hero,alt:"",className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute inset-0",style:{background:`linear-gradient(135deg, ${N.navy}ee 0%, ${N.navyLight}dd 50%, ${N.navy}ee 100%)`}})]}),i.jsx("div",{className:"relative z-10 max-w-6xl mx-auto px-4 lg:px-6 text-center pt-24 lg:pt-20",children:i.jsxs(U.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[i.jsxs("div",{className:"inline-flex items-center gap-2 px-4 lg:px-6 py-2 lg:py-3 rounded-full bg-white/10 backdrop-blur-md border border-white/20 mb-6 lg:mb-8",children:[i.jsx(sN,{className:"w-4 h-4 lg:w-5 lg:h-5",style:{color:N.gold}}),i.jsx("span",{style:{color:N.gold},className:"text-xs lg:text-sm tracking-wide",children:"Institutional-Grade Investment Platform"})]}),i.jsxs("h1",{className:"font-serif text-4xl sm:text-5xl lg:text-7xl text-white mb-4 lg:mb-6 leading-tight",children:["Your Gateway to",i.jsx("br",{}),i.jsx("span",{style:{color:N.gold},children:"Diversified Investments"})]}),i.jsx("p",{className:"text-base lg:text-xl text-white/80 mb-3 lg:mb-4 max-w-3xl mx-auto px-4",children:"Access curated Real Estate, Cryptocurrency, Stock & Bond Portfolios, and Precious Metals."}),i.jsx("p",{className:"text-white/60 mb-8 lg:mb-12 text-sm lg:text-base",children:"All with clear targets, defined timelines, and professional management."}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 lg:gap-4 justify-center px-4",children:[i.jsxs(U.button,{onClick:()=>t("investments"),whileHover:{scale:1.05},whileTap:{scale:.98},className:"px-8 lg:px-10 py-3.5 lg:py-4 rounded-xl text-white font-semibold text-base lg:text-lg shadow-2xl flex items-center justify-center gap-3",style:{background:`linear-gradient(135deg, ${N.gold} 0%, ${N.goldDark} 100%)`},children:["Explore Opportunities ",i.jsx(Ig,{className:"w-5 h-5"})]}),i.jsxs(U.button,{onClick:()=>t("referral"),whileHover:{scale:1.05},whileTap:{scale:.98},className:"px-8 lg:px-10 py-3.5 lg:py-4 rounded-xl font-semibold text-base lg:text-lg border-2 border-white/30 text-white hover:bg-white/10 flex items-center justify-center gap-3",children:[i.jsx($l,{className:"w-5 h-5"})," Referral Program"]})]})]})})]}),i.jsx("section",{className:"py-16 lg:py-20 px-4 lg:px-6",style:{background:N.cream},children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-12 lg:mb-16",children:[i.jsx("h2",{className:"font-serif text-3xl lg:text-4xl mb-3 lg:mb-4",style:{color:N.navy},children:"Investment Verticals"}),i.jsx("p",{className:"text-gray-600 text-sm lg:text-base",children:"Four distinct pathways to building wealth."})]}),i.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:[{title:"Real Estate",desc:"Development funding & income properties",icon:kg,color:"#3b82f6",img:ze.realEstate1},{title:"Cryptocurrency",desc:"Managed crypto portfolios",icon:Z2,color:"#f59e0b",img:ze.crypto1},{title:"Stocks & Bonds",desc:"Curated market portfolios",icon:X2,color:"#10b981",img:ze.stocks1},{title:"Precious Metals",desc:"Gold, silver & platinum",icon:D4,color:"#D4AF37",img:ze.gold1}].map((a,o)=>i.jsxs(U.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:o*.1},whileHover:{y:-5},onClick:()=>t("investments"),className:"group cursor-pointer bg-white rounded-xl lg:rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all",children:[i.jsxs("div",{className:"relative h-28 lg:h-48 overflow-hidden",children:[i.jsx("img",{src:a.img,alt:a.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),i.jsx("div",{className:"absolute inset-0",style:{background:`linear-gradient(to top, ${a.color}cc, transparent)`}}),i.jsx("div",{className:"absolute top-2 lg:top-4 left-2 lg:left-4 w-8 h-8 lg:w-12 lg:h-12 rounded-lg lg:rounded-xl bg-white/20 backdrop-blur flex items-center justify-center",children:i.jsx(a.icon,{className:"w-4 h-4 lg:w-6 lg:h-6 text-white"})})]}),i.jsxs("div",{className:"p-3 lg:p-6",children:[i.jsx("h3",{className:"font-serif text-sm lg:text-xl mb-1 lg:mb-2",style:{color:N.navy},children:a.title}),i.jsx("p",{className:"text-gray-600 text-xs lg:text-sm hidden sm:block",children:a.desc})]})]},o))})]})}),i.jsx("section",{className:"py-16 lg:py-20 px-4 lg:px-6",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-8 lg:mb-10",children:[i.jsxs(U.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/10 backdrop-blur mb-4",children:[i.jsx(Ku,{className:"w-4 h-4",style:{color:N.gold}}),i.jsx("span",{style:{color:N.gold},className:"text-sm",children:"Legal & Compliance"})]}),i.jsx("h2",{className:"font-serif text-3xl lg:text-4xl text-white mb-3",children:"Required Documents"}),i.jsx("p",{className:"text-white/60 max-w-2xl mx-auto text-sm lg:text-base",children:"Transparency is at the core of our operations. Review our comprehensive documentation below."})]}),i.jsx(E6,{onViewDocument:r})]})}),i.jsx("footer",{className:"py-8 lg:py-12 px-4 lg:px-6",style:{background:N.navy},children:i.jsx("div",{className:"max-w-7xl mx-auto",children:i.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8",children:i.jsxs("svg",{viewBox:"0 0 50 55",className:"w-full h-full",children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"footerGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#d4a853"}),i.jsx("stop",{offset:"50%",stopColor:"#f4d078"}),i.jsx("stop",{offset:"100%",stopColor:"#d4a853"})]})}),i.jsx("path",{d:"M25 0 L50 8 L50 30 C50 42 38 50 25 55 C12 50 0 42 0 30 L0 8 Z",fill:"rgba(255,255,255,0.1)"}),i.jsx("path",{d:"M25 5 L45 12 L45 29 C45 39 35 46 25 50 C15 46 5 39 5 29 L5 12 Z",fill:"none",stroke:"url(#footerGold)",strokeWidth:"1.5"}),i.jsx("text",{x:"25",y:"35",fontFamily:"Georgia, serif",fontSize:"24",fontWeight:"bold",fill:"url(#footerGold)",textAnchor:"middle",children:"S"})]})}),i.jsxs("div",{className:"flex items-baseline gap-1",children:[i.jsx("span",{className:"font-serif text-white text-sm lg:text-base",children:"SAXO"}),i.jsx("span",{className:"font-serif text-sm lg:text-base",style:{color:N.gold},children:"VAULT"})]})]}),i.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 lg:gap-6 text-white/60 text-xs lg:text-sm",children:[i.jsx("span",{children:" 2024 SaxoVault Capital"}),i.jsx("span",{children:"Privacy Policy"}),i.jsx("span",{children:"Terms of Service"})]})]})})})]})}function j6({onSelectInvestment:t}){const[e,n]=D.useState("crypto"),[s,r]=D.useState(""),[a,o]=D.useState("grid"),c=(JSON.parse(localStorage.getItem("saxovault_investments")||"null")||fh).filter(d=>d.type===e&&d.name.toLowerCase().includes(s.toLowerCase()));return i.jsx("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:N.cream},children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-6",children:[i.jsxs("div",{className:"mb-6 lg:mb-8",children:[i.jsx("h1",{className:"font-serif text-2xl lg:text-3xl mb-1",style:{color:N.navy},children:"Investment Opportunities"}),i.jsx("p",{className:"text-gray-500 text-sm",children:"Explore our curated selection across multiple asset classes."})]}),i.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-6",children:i.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(kv,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",value:s,onChange:d=>r(d.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Search investments..."})]}),i.jsx("div",{className:"flex gap-2 overflow-x-auto",children:m6.map(d=>i.jsxs("button",{onClick:()=>n(d.id),className:`flex items-center gap-1.5 px-3 py-2 rounded-lg whitespace-nowrap text-sm transition-all ${e===d.id?"text-white shadow":"bg-gray-50 text-gray-600 hover:bg-gray-100"}`,style:e===d.id?{background:N.navy}:{},children:[i.jsx(d.icon,{className:"w-4 h-4"}),d.name]},d.id))})]})}),i.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:[c.length," investments found"]}),i.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6",children:c.map((d,h)=>{var f,p;return i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:h*.03},onClick:()=>t(d),className:"bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-xl transition-all cursor-pointer border border-gray-100 group",children:[i.jsxs("div",{className:"relative h-44 lg:h-48",children:[i.jsx("img",{src:d.img||d.customImg,alt:d.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent"}),i.jsx("div",{className:"absolute top-3 right-3",children:i.jsx("span",{className:"px-2.5 py-1 rounded-full text-xs font-medium text-white backdrop-blur-sm",style:{background:d.status==="Active"?"rgba(16,185,129,0.9)":d.status==="Open"?"rgba(10,22,40,0.9)":"rgba(212,175,55,0.9)"},children:d.status})}),i.jsxs("div",{className:"absolute bottom-3 left-4 right-4",children:[i.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide mb-1",children:d.category}),i.jsx("h3",{className:"font-serif text-white text-xl leading-tight",children:d.name})]})]}),i.jsxs("div",{className:"p-5",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b border-gray-100",children:[i.jsxs("div",{className:"text-center flex-1",children:[i.jsx("p",{className:"text-base font-bold",style:{color:N.green},children:d.returns}),i.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:"Returns"})]}),i.jsx("div",{className:"w-px h-10 bg-gray-100"}),i.jsxs("div",{className:"text-center flex-1",children:[i.jsx("p",{className:"text-base font-bold",style:{color:N.navy},children:d.min>=1e3?`$${(d.min/1e3).toFixed(d.min%1e3===0?0:1)}K`:`$${d.min}`}),i.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:"Minimum"})]}),i.jsx("div",{className:"w-px h-10 bg-gray-100"}),i.jsxs("div",{className:"text-center flex-1",children:[i.jsx("p",{className:"text-base font-bold",style:{color:N.gold},children:((f=d.term)==null?void 0:f.split(" ")[0])||"12"}),i.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:(p=d.term)!=null&&p.includes("day")?"Days":"Months"})]})]}),i.jsx("p",{className:"text-sm text-gray-500 mb-4 line-clamp-2",children:d.desc||"Premium investment opportunity with professional management and strong projected returns."}),d.progress!==void 0&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex justify-between text-xs mb-1.5",children:[i.jsxs("span",{className:"text-gray-600 font-medium",children:[d.progress,"% funded"]}),i.jsxs("span",{className:"text-gray-400",children:["$",(d.progress/100*(d.goal||1e6)/1e3).toFixed(0),"K raised"]})]}),i.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:i.jsx(U.div,{initial:{width:0},animate:{width:`${d.progress}%`},transition:{duration:1,delay:h*.1},className:"h-full rounded-full",style:{background:`linear-gradient(90deg, ${N.green}, ${N.gold})`}})})]}),i.jsxs("button",{className:"w-full py-3 rounded-xl text-sm font-semibold text-white transition-all hover:shadow-lg group-hover:scale-[1.02]",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:["View Details",i.jsx(tN,{className:"w-4 h-4 inline ml-1"})]})]})]},d.id)})}),c.length===0&&i.jsxs("div",{className:"text-center py-16",children:[i.jsx(kv,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500",children:"No investments found matching your criteria."})]})]})})}function I6({investment:t,onClose:e,onInvest:n}){var s,r,a;return t?i.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-white z-50 overflow-y-auto",children:[i.jsx("div",{className:"sticky top-0 bg-white/95 backdrop-blur-sm border-b border-gray-100 z-10",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-3 flex items-center justify-between",children:[i.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[i.jsx(Ul,{className:"w-5 h-5"})," Back"]}),i.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium text-white",style:{background:t.status==="Active"?N.green:N.gold},children:t.status})]})}),i.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[i.jsxs("div",{className:"relative h-48 lg:h-64 rounded-2xl overflow-hidden mb-6",children:[i.jsx("img",{src:t.img||t.customImg,alt:t.name,className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"}),i.jsxs("div",{className:"absolute bottom-4 left-4",children:[i.jsx("span",{className:"px-2 py-1 rounded bg-white/20 backdrop-blur text-white text-xs mb-2 inline-block",children:t.category}),i.jsx("h1",{className:"font-serif text-2xl lg:text-3xl text-white",children:t.name})]})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[i.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 text-center",children:[i.jsx("p",{className:"text-xl lg:text-2xl font-bold",style:{color:N.green},children:t.returns}),i.jsx("p",{className:"text-xs text-gray-500",children:"Returns"})]}),i.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 text-center",children:[i.jsx("p",{className:"text-xl lg:text-2xl font-bold",style:{color:N.navy},children:t.min>=1e3?`$${t.min/1e3}K`:`$${t.min}`}),i.jsx("p",{className:"text-xs text-gray-500",children:"Min"})]}),i.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 text-center",children:[i.jsx("p",{className:"text-xl lg:text-2xl font-bold",style:{color:N.gold},children:((s=t.term)==null?void 0:s.split(" ")[0])||"12"}),i.jsx("p",{className:"text-xs text-gray-500",children:(r=t.term)!=null&&r.includes("month")?"Months":"Term"})]}),i.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 text-center",children:[i.jsx("p",{className:"text-xl lg:text-2xl font-bold text-gray-700",children:t.investors||"50+"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Investors"})]})]}),t.progress!==void 0&&i.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-6",children:[i.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[i.jsx("span",{className:"font-medium",style:{color:N.navy},children:"Funding Progress"}),i.jsxs("span",{className:"font-bold",children:[t.progress,"%"]})]}),i.jsx("div",{className:"h-3 bg-gray-200 rounded-full overflow-hidden mb-2",children:i.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${t.progress}%`,background:`linear-gradient(90deg, ${N.green}, ${N.gold})`}})}),i.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[i.jsxs("span",{children:["$",(t.progress/100*(t.goal||1e6)).toLocaleString()," raised"]}),i.jsxs("span",{children:["Goal: $",(t.goal||1e6).toLocaleString()]})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"font-semibold text-lg mb-2",style:{color:N.navy},children:"About This Investment"}),i.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:t.desc||"A premium investment opportunity with strong projected returns and professional management. This carefully vetted opportunity offers investors exposure to a high-growth sector with risk-managed strategies."})]}),t.features&&t.features.length>0&&i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"font-semibold text-lg mb-3",style:{color:N.navy},children:"Key Features"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:t.features.map((o,l)=>i.jsxs("div",{className:"flex items-center gap-2 p-2.5 bg-gray-50 rounded-lg",children:[i.jsx(cn,{className:"w-4 h-4 text-green-600 flex-shrink-0"}),i.jsx("span",{className:"text-sm text-gray-700",children:o})]},l))})]}),i.jsx("div",{className:"mb-6",children:i.jsx(ZE,{})}),i.jsxs("div",{className:"sticky bottom-0 bg-white pt-4 pb-6 -mx-4 px-4 border-t border-gray-100 lg:relative lg:border-0 lg:pt-0 lg:pb-0 lg:mx-0 lg:px-0",children:[i.jsxs(U.button,{onClick:n,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-4 rounded-xl text-white font-semibold text-lg shadow-xl",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:["Invest Now - Min $",(a=t.min)==null?void 0:a.toLocaleString()]}),i.jsx("p",{className:"text-center text-xs text-gray-400 mt-2",children:"Secure  Instant Confirmation  24/7 Support"})]})]})]}):null}function k6({investment:t,onClose:e,balance:n}){const[s,r]=D.useState(1),[a,o]=D.useState(t.min),[l,c]=D.useState("BTC"),[d,h]=D.useState(1800),[f,p]=D.useState(!1),[v,E]=D.useState(!1),[w,k]=D.useState(!1),S=JSON.parse(localStorage.getItem("saxovault_current_user")||"{}"),y=S.balance||n||0,b=()=>t.min>y?`Insufficient balance. You have $${y.toLocaleString()} available. Minimum investment is $${t.min.toLocaleString()}. Please deposit funds first.`:"",[P,M]=D.useState(b);D.useEffect(()=>{parseFloat(a)>y?M(`Insufficient balance. You have $${y.toLocaleString()} available. Please deposit funds first.`):parseFloat(a)<t.min?M(`Minimum investment for ${t.name} is $${t.min.toLocaleString()}`):M("")},[a,y,t.min,t.name]),D.useEffect(()=>{if(t.isTestPlan&&t.onePerUser){const V=JSON.parse(localStorage.getItem(`investments_${S.uid}`)||"[]"),$=K.getTransactions().filter(Y=>Y.userId===S.uid),ee=V.some(Y=>Y.investmentId===100||Y.investmentName==="Test Plan")||$.some(Y=>Y.investmentId===100||Y.investmentName==="Test Plan");E(ee)}},[t,S.uid]);const I=JSON.parse(localStorage.getItem("saxovault_settings")||"{}").wallets||{BTC:"bc1qzmgg6hw0fttfpczh2whp8f44k497d6pucghk58",ETH:"0x83057882eC7B7EE0cBe63C2fE2b8957e7ab69655",USDT:"TLGH9FucAuPNUoQw2XUFEDtCg4FFdJ2jKG"},_=[{id:"BTC",name:"Bitcoin",icon:"",color:"#f7931a"},{id:"ETH",name:"Ethereum",icon:"",color:"#627eea"},{id:"USDT",name:"USDT (TRC-20)",icon:"",color:"#26a17b"}],C=(()=>{if(t.dailyRate&&t.totalDays)return t.dailyRate/100*t.totalDays;const $=(t.returns||"12%").match(/(\d+)/);return $?parseFloat($[1])/100:.12})(),R=t.dailyRate?a*t.dailyRate/100:a*C/(t.totalDays||30),L=a*C,A=a+L;D.useEffect(()=>{if(s===2&&d>0){const V=setInterval(()=>h($=>$-1),1e3);return()=>clearInterval(V)}},[s,d]);const fe=V=>{const $=Math.floor(V/60),ee=V%60;return`${$.toString().padStart(2,"0")}:${ee.toString().padStart(2,"0")}`},oe=V=>{navigator.clipboard.writeText(V),p(!0),setTimeout(()=>p(!1),2e3)},ue=()=>{const V=I[l],$=parseFloat(a),ee=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),Y=/iPhone|iPad|iPod/i.test(navigator.userAgent);navigator.clipboard.writeText(V).then(()=>{console.log(" Address copied to clipboard")}).catch(O=>{console.error("Could not copy address:",O)});let G=l,ce="";if(l==="BTC"?(G="Bitcoin",ce="Open your Bitcoin wallet (Coinbase, Trust Wallet, Cash App, etc.)"):l==="ETH"?(G="Ethereum",ce="Open your Ethereum wallet (MetaMask, Trust Wallet, Coinbase, etc.)"):l==="USDT"&&(G="USDT TRC-20",ce="Open your USDT wallet (Trust Wallet, TronLink, Binance, etc.)"),Y){alert(` Send ${G}

 Address copied to clipboard!

Steps:
1. ${ce}
2. Tap "Send" or "Transfer"
3. Paste the address (long-press  Paste)
4. Enter amount: $${$.toLocaleString()} USD
5. Confirm and send

Address:
${V.substring(0,25)}...`);return}if(ee&&!Y){let O=null;if(l==="BTC"){const le=($/95e3).toFixed(8);O=`bitcoin:${V}?amount=${le}`}else if(l==="ETH"){const le=($/3500).toFixed(8);O=`ethereum:${V}?value=${le}`}else l==="USDT"&&(O=`trust://send?asset=trc20_TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t&address=${V}&amount=${$}`);O&&(window.location.href=O,setTimeout(()=>{alert(`If your wallet didn't open:

 Address copied to clipboard!

1. ${ce}
2. Tap "Send"
3. Paste the address
4. Amount: $${$.toLocaleString()} USD

Address: ${V.substring(0,20)}...`)},2e3));return}alert(` Send ${G}

 Address copied to clipboard!

Steps:
1. ${ce}
2. Click "Send"
3. Paste the address (Ctrl+V / Cmd+V)
4. Enter amount: $${$.toLocaleString()} USD
5. Confirm and send

Address:
${V}`)},re=async()=>{var V;console.log(" Starting investment submission..."),k(!0);try{const $=JSON.parse(localStorage.getItem("saxovault_current_user")||"{}");if(!$.email||!$.uid){alert("Please login to continue"),k(!1);return}const ee=$.balance||0,Y=parseFloat(a);if(Y>ee){alert(` Insufficient Balance

You cannot invest more than your available balance.

Your balance: $${ee.toLocaleString()}
Investment amount: $${Y.toLocaleString()}

Please deposit funds first.`),k(!1);return}if(Y<t.min){alert(` Below Minimum Investment

Minimum investment for ${t.name} is $${t.min.toLocaleString()}.`),k(!1);return}const G=(V=t.term)==null?void 0:V.match(/(\d+)/);let ce=t.totalDays||30;if(G){const xe=parseInt(G[1]);t.term.includes("month")?ce=xe*30:t.term.includes("day")?ce=xe:t.term.includes("year")&&(ce=xe*365)}const O=new Date;O.setDate(O.getDate()+ce);const le={type:"investment",investmentId:t.id,investmentName:t.name,category:t.category,amount:parseFloat(a),crypto:l,walletAddress:I[l],returnRate:(C*100).toFixed(1)+"%",dailyRate:t.dailyRate||C*100/ce,dailyProfit:parseFloat(R.toFixed(2)),expectedReturn:parseFloat(L.toFixed(2)),totalReturn:parseFloat(A.toFixed(2)),term:t.term,totalDays:ce,maturityDate:O.toISOString(),userEmail:$.email,userId:$.uid,userName:$.name||"User",isTestPlan:t.isTestPlan||!1,payoutSchedule:t.payoutSchedule||"End of Term",approvalDate:null,countdownStarted:!1};console.log(" Investment data:",le);const ae=await K.addTransaction(le);console.log(" Investment saved to storage:",ae);const _e=JSON.parse(localStorage.getItem(`investments_${$.uid}`)||"[]");_e.push({...le,id:ae.id,firestoreId:ae.firestoreId,status:"pending",createdAt:new Date().toISOString()}),localStorage.setItem(`investments_${$.uid}`,JSON.stringify(_e)),console.log(" Sending email notifications..."),Te.sendInvestmentNotification($.email,t.name,a,t.term).then(xe=>{console.log(" Investment email sent:",xe)}).catch(xe=>{console.error(" Investment email failed:",xe)});try{const qe=$.usedReferralCode||$.referralCode||$.referredBy;if(qe){console.log(" Checking for referrer with code:",qe);const Et=K.getUsers(),Ee=Et.find(rt=>rt.referralCode===qe||rt.uid===qe||rt.uid===$.referredBy);if(Ee&&Ee.uid!==$.uid){console.log(" Found referrer:",Ee.email);const rt=parseFloat(a)*4/100;console.log(` Referral bonus: $${rt.toFixed(2)} (4% of $${a})`);const Dt=JSON.parse(localStorage.getItem(`user_${Ee.uid}`)||"{}"),Qt=(Dt.balance||Ee.balance||0)+rt;Dt.balance=Qt,localStorage.setItem(`user_${Ee.uid}`,JSON.stringify(Dt)),await K.updateUser(Ee.uid,{balance:Qt});const Tt=Et.map(Le=>Le.uid===Ee.uid?{...Le,balance:Qt}:Le);K.setUsers(Tt);const Wn=JSON.parse(localStorage.getItem("saxovault_current_user")||"{}");Wn.uid===Ee.uid&&(Wn.balance=Qt,localStorage.setItem("saxovault_current_user",JSON.stringify(Wn)));const zs={type:"referral_bonus",amount:rt,status:"approved",userEmail:Ee.email,userId:Ee.uid,userName:Ee.name||Ee.email,referredUser:$.email,referredUserName:$.name||$.email,investmentAmount:parseFloat(a),investmentName:t.name,bonusPercent:4,note:`4% referral bonus from ${$.email}'s investment of $${parseFloat(a).toLocaleString()} in ${t.name}`};await K.addTransaction(zs),console.log(" Referral bonus transaction created");const Ge=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}");Ge[Ee.uid]||(Ge[Ee.uid]=[]),Ge[Ee.uid].unshift({id:Date.now(),type:"referral_bonus",title:" Referral Bonus Credited!",message:`You earned $${rt.toFixed(2)} (4%) from ${$.name||$.email}'s investment of $${parseFloat(a).toLocaleString()} in ${t.name}`,amount:rt,read:!1,createdAt:new Date().toISOString()}),localStorage.setItem("saxovault_user_notifications",JSON.stringify(Ge));try{const Le=` Referral Bonus Credited!

Great news! You've earned a referral bonus!

Bonus Details:
 Amount: $${rt.toFixed(2)}
 From: ${$.name||$.email}
 Their Investment: $${parseFloat(a).toLocaleString()} in ${t.name}
 Bonus Rate: 4%

Your new balance: $${Qt.toLocaleString()}

The bonus has been credited to your account instantly!

Keep referring friends to earn more bonuses on every investment they make.

Best regards,
SaxoVault Capital Team`;await Te.sendEmail(Ee.email,` You earned $${rt.toFixed(2)} Referral Bonus!`,Le,"referral"),console.log(" Referral bonus email sent to:",Ee.email)}catch(Le){console.error(" Referral bonus email failed:",Le)}K.notifyAdmin({type:"referral_bonus",title:" Referral Bonus Paid",message:`$${rt.toFixed(2)} bonus paid to ${Ee.email} from ${$.email}'s $${parseFloat(a).toLocaleString()} investment`,urgent:!1,actionRequired:!1}),console.log(` Referral bonus of $${rt.toFixed(2)} credited to ${Ee.email}`)}else console.log(" No referrer found for code:",qe)}else console.log(" User was not referred by anyone")}catch(xe){console.error(" Referral bonus error (non-critical):",xe)}K.logActivity($.uid,"investment_request",{investment:t.name,amount:a,crypto:l,expectedReturn:L,dailyProfit:R}),console.log(" Investment submission complete!"),k(!1),r(3)}catch($){console.error(" Investment submission error:",$),alert("Error submitting investment. Please try again. Error: "+$.message),k(!1)}};return i.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-end lg:items-center justify-center p-0 lg:p-4",onClick:e,children:i.jsx(U.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"tween"},className:"bg-white rounded-t-3xl lg:rounded-3xl w-full lg:max-w-lg shadow-2xl max-h-[90vh] overflow-y-auto",onClick:V=>V.stopPropagation(),children:i.jsxs("div",{className:"p-5 lg:p-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl",style:{color:N.navy},children:s===1?"Investment Amount":s===2?"Make Payment":" Pending Approval"}),i.jsx("p",{className:"text-sm text-gray-500",children:t.name})]}),i.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:i.jsx(Bt,{className:"w-5 h-5"})})]}),s===1&&i.jsxs("div",{children:[t.isTestPlan&&v&&i.jsxs("div",{className:"mb-4 p-4 rounded-xl bg-red-50 border border-red-200",children:[i.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[i.jsx(rs,{className:"w-5 h-5"}),i.jsx("span",{className:"font-medium",children:"One Per Account"})]}),i.jsx("p",{className:"text-red-600 text-sm mt-1",children:"You have already invested in the Test Plan. This plan is limited to one investment per account."})]}),t.isTestPlan&&!v&&i.jsxs("div",{className:"mb-4 p-4 rounded-xl bg-green-50 border border-green-200",children:[i.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[i.jsx(Ke,{className:"w-5 h-5"}),i.jsx("span",{className:"font-medium",children:"Test Plan - Perfect for Beginners!"})]}),i.jsx("p",{className:"text-green-600 text-sm mt-1",children:"Earn 1% daily for 5 days. Fixed $500 investment. One per account."})]}),i.jsx("label",{className:"block font-medium text-gray-700 mb-2 text-sm",children:"Investment Amount (USD)"}),i.jsxs("div",{className:"relative mb-4",children:[i.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-2xl font-bold text-gray-400",children:"$"}),i.jsx("input",{type:"number",value:t.isTestPlan?t.min:a,onChange:V=>!t.isTestPlan&&o(Math.max(t.min,Math.min(t.max||1e6,+V.target.value))),className:"w-full pl-12 pr-4 py-4 text-2xl font-bold border-2 rounded-xl text-center focus:outline-none",style:{borderColor:N.gold},readOnly:t.isTestPlan})]}),i.jsx("p",{className:"text-xs text-gray-500 mb-4",children:t.isTestPlan?"Fixed amount: $500":`Minimum: $${t.min.toLocaleString()}`}),!t.isTestPlan&&i.jsx("div",{className:"flex gap-2 mb-6",children:[1,2,5,10].map(V=>{const $=t.min*V,ee=$>=1e3?`$${$/1e3}K`:`$${$}`;return i.jsx("button",{onClick:()=>o($),className:`flex-1 py-2.5 rounded-xl text-sm font-medium border-2 transition-all ${a===$?"text-white":"border-gray-200"}`,style:a===$?{background:N.navy,borderColor:N.navy}:{},children:ee},V)})}),i.jsx("label",{className:"block font-medium text-gray-700 mb-2 text-sm",children:"Select Cryptocurrency"}),i.jsx("div",{className:"space-y-2 mb-6",children:_.map(V=>i.jsxs("button",{onClick:()=>c(V.id),className:`w-full flex items-center gap-3 p-4 rounded-xl border-2 transition-all ${l===V.id?"shadow-lg":"border-gray-200"}`,style:l===V.id?{borderColor:V.color,background:`${V.color}10`}:{},children:[i.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center text-white text-xl font-bold",style:{background:V.color},children:V.icon}),i.jsx("div",{className:"text-left flex-1",children:i.jsx("p",{className:"font-semibold",style:{color:N.navy},children:V.name})}),l===V.id&&i.jsx(Ke,{className:"w-5 h-5",style:{color:V.color}})]},V.id))}),i.jsxs("div",{className:"p-4 rounded-2xl mb-4",style:{background:`${N.green}10`},children:[t.dailyRate&&i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-gray-600 text-sm",children:"Daily Profit"}),i.jsxs("span",{className:"font-bold",style:{color:N.green},children:[t.dailyRate,"% ($",R.toLocaleString(void 0,{maximumFractionDigits:2}),"/day)"]})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-gray-600 text-sm",children:"Duration"}),i.jsx("span",{className:"font-bold",style:{color:N.navy},children:t.term})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-gray-600 text-sm",children:"Total Profit"}),i.jsxs("span",{className:"font-bold",style:{color:N.green},children:["+$",L.toLocaleString(void 0,{maximumFractionDigits:2})]})]}),i.jsxs("div",{className:"flex justify-between border-t border-green-200 pt-2 mt-2",children:[i.jsx("span",{className:"text-gray-600 text-sm",children:"Total Payout"}),i.jsxs("span",{className:"font-bold text-lg",style:{color:N.navy},children:["$",(a+L).toLocaleString(void 0,{maximumFractionDigits:2})]})]})]}),i.jsx(ZE,{}),P&&i.jsx("div",{className:"mt-4 p-4 rounded-xl bg-red-50 border border-red-200",children:i.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[i.jsx(rs,{className:"w-5 h-5"}),i.jsx("span",{className:"font-medium text-sm",children:P})]})}),i.jsxs("div",{className:"mt-4 p-3 rounded-xl bg-gray-50 flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Your Available Balance:"}),i.jsxs("span",{className:"font-bold",style:{color:y>=a?N.green:"#ef4444"},children:["$",y.toLocaleString()]})]}),i.jsx(U.button,{onClick:()=>{if(P){alert(P);return}r(2)},whileHover:{scale:P?1:1.02},whileTap:{scale:P?1:.98},disabled:t.isTestPlan&&v||!!P,className:"w-full py-4 rounded-xl text-white font-semibold mt-4 disabled:opacity-50 disabled:cursor-not-allowed",style:{background:P?"#9ca3af":`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:t.isTestPlan&&v?"Already Invested in Test Plan":P?"Insufficient Balance":"Continue to Payment"})]}),s===2&&i.jsxs("div",{children:[i.jsxs("div",{className:"text-center mb-6 p-4 rounded-2xl",style:{background:d<300?"#fef2f2":`${N.gold}10`},children:[i.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Payment expires in"}),i.jsxs("p",{className:`text-3xl font-mono font-bold ${d<300?"text-red-500":""}`,style:{color:d>=300?N.navy:void 0},children:[i.jsx(cN,{className:"w-6 h-6 inline mr-2"}),fe(d)]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4 mb-4",children:[i.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Amount to invest"}),i.jsxs("p",{className:"text-2xl font-bold",style:{color:N.navy},children:["$",a.toLocaleString()," USD"]}),i.jsxs("p",{className:"text-sm text-gray-500",children:["Pay equivalent in ",l]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["Send ",l," to this address:"]}),i.jsxs("div",{className:"bg-gray-900 rounded-xl p-4",children:[i.jsxs("p",{className:"text-xs text-gray-400 mb-2 text-center",children:[l," Wallet Address"]}),i.jsx("p",{className:"font-mono text-sm text-white break-all text-center mb-3",children:I[l]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(U.button,{onClick:()=>oe(I[l]),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 py-2.5 rounded-lg text-sm font-medium flex items-center justify-center gap-2",style:{background:f?N.green:N.gold,color:"white"},children:f?i.jsxs(i.Fragment,{children:[i.jsx(Ke,{className:"w-4 h-4"})," Copied!"]}):i.jsxs(i.Fragment,{children:[i.jsx(Gu,{className:"w-4 h-4"})," Copy Address"]})}),i.jsxs(U.button,{onClick:ue,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 py-2.5 rounded-lg text-sm font-medium flex items-center justify-center gap-2 bg-blue-500 text-white",children:[i.jsx(R4,{className:"w-4 h-4"})," Open Wallet"]})]})]})]}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:"w-32 h-32 bg-gray-100 rounded-xl flex items-center justify-center",children:i.jsx(B4,{className:"w-16 h-16 text-gray-400"})})}),i.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-3 mb-4",children:i.jsxs("p",{className:"text-xs text-yellow-800",children:[" Only send ",l," to this address. Sending any other cryptocurrency may result in permanent loss."]})}),i.jsx(U.button,{onClick:re,whileHover:{scale:w?1:1.02},whileTap:{scale:w?1:.98},disabled:w,className:"w-full py-4 rounded-xl text-white font-semibold flex items-center justify-center gap-2 disabled:opacity-70",style:{background:`linear-gradient(135deg, ${N.green} 0%, ${N.greenDark} 100%)`},children:w?i.jsxs(i.Fragment,{children:[i.jsx(In,{className:"w-5 h-5 animate-spin"}),"Processing..."]}):"I've Made the Payment"})]}),s===3&&i.jsxs("div",{className:"text-center py-6",children:[i.jsx(U.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring"},className:"w-20 h-20 mx-auto rounded-full flex items-center justify-center mb-4",style:{background:`${N.gold}20`},children:i.jsx(Si,{className:"w-10 h-10",style:{color:N.gold}})}),i.jsx("h3",{className:"font-serif text-xl mb-2",style:{color:N.navy},children:"Investment Pending"}),i.jsxs("p",{className:"text-gray-500 text-sm mb-6",children:["Your investment of ",i.jsxs("strong",{children:["$",a.toLocaleString()]})," in ",i.jsx("strong",{children:t.name})," is being reviewed."]}),i.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4 text-left space-y-3 mb-6",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-500",children:"Status"}),i.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 rounded-full text-xs font-medium",children:" Pending Approval"})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-500",children:"Amount"}),i.jsxs("span",{className:"font-bold",children:["$",a.toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-500",children:"Payment Method"}),i.jsx("span",{className:"font-bold",children:l})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-500",children:"Expected Return"}),i.jsxs("span",{className:"font-bold",style:{color:N.green},children:["+$",L.toLocaleString(void 0,{maximumFractionDigits:0})]})]})]}),i.jsx("p",{className:"text-xs text-gray-400 mb-4",children:"You will be notified once your investment is approved. This usually takes 1-24 hours."}),i.jsx(U.button,{onClick:e,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-4 rounded-xl text-white font-semibold",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:"Done"})]})]})})})}function C6({user:t,onNavigate:e}){const[n,s]=D.useState(!1),[r,a]=D.useState(!1),[o,l]=D.useState(!1),[c,d]=D.useState([]),[h,f]=D.useState(t);D.useEffect(()=>{const y=async()=>{try{const P=K.getTransactions();P.length>0&&d(P);try{const M=await K.fetchTransactionsFromCloud();if(M&&M.length>0){const B=new Map;M.forEach(_=>{const T=_.firestoreId||_.id||`${_.createdAt}_${_.amount}_${_.userEmail}`;B.set(T,_)}),P.forEach(_=>{for(const[T,C]of B.entries())if(_.id===C.id||_.firestoreId===C.id||_.firestoreId===C.firestoreId||_.id===C.firestoreId){const R=new Date(_.updatedAt||0).getTime(),L=new Date(C.updatedAt||0).getTime();R>=L&&B.set(T,{...C,..._});break}});const I=Array.from(B.values()).sort((_,T)=>new Date(T.createdAt)-new Date(_.createdAt));d(I),K.setTransactions(I)}}catch{console.log("Using cached transactions")}try{const B=(await K.fetchUsersFromCloud()).find(I=>I.uid===t.uid);if(B){const I=JSON.parse(localStorage.getItem(`user_${t.uid}`)||"{}"),_={...B,...I};f(_),localStorage.setItem(`user_${t.uid}`,JSON.stringify(_)),localStorage.setItem("saxovault_current_user",JSON.stringify(_))}}catch{console.log("Using cached user data")}}catch{console.log("Using cached data"),d(K.getTransactions())}};y();const b=setInterval(y,3e4);return()=>clearInterval(b)},[t.uid]),JSON.parse(localStorage.getItem("saxovault_investments")||"null");const p=c.filter(y=>y.userId===t.uid&&y.type==="investment"&&(y.status==="approved"||y.status==="completed")),v=p.length>0?p.map(y=>{let b=.1;y.returnRate&&(typeof y.returnRate=="string"?b=parseFloat(y.returnRate)/100:y.returnRate<1?b=y.returnRate:b=y.returnRate/100);let P=0,M=0,B=!1,I=0;if(y.countdownStarted&&y.maturityDate){const _=new Date,T=new Date(y.maturityDate),C=y.approvalDate?new Date(y.approvalDate):_,R=T-C,L=T-_;L>0?(B=!0,P=Math.floor(L/(1e3*60*60*24)),M=Math.floor(L%(1e3*60*60*24)/(1e3*60*60)),I=Math.round((R-L)/R*100)):I=100}return{id:y.id,name:y.investmentName||"Investment",type:y.category||y.investmentType||"Mixed",invested:y.amount||0,current:(y.amount||0)+(y.expectedReturn||y.amount*b),returns:b*100,expectedReturn:y.expectedReturn||y.amount*b,dailyProfit:y.dailyProfit||y.amount*(y.dailyRate||1)/100,dailyRate:y.dailyRate||0,term:y.term,totalDays:y.totalDays,maturityDate:y.maturityDate,approvalDate:y.approvalDate,countdownActive:B,daysRemaining:P,hoursRemaining:M,progressPercent:I,status:y.status,color:"#3b82f6"}}):[],E=v.reduce((y,b)=>y+b.invested,0),w=v.reduce((y,b)=>y+b.current,0),k=w-E,S=h.balance||0;return i.jsxs("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:N.cream},children:[i.jsxs("div",{className:"max-w-6xl mx-auto px-4 lg:px-6",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsxs("div",{children:[i.jsx("h1",{className:"font-serif text-xl lg:text-2xl",style:{color:N.navy},children:"Dashboard"}),i.jsxs("p",{className:"text-gray-500 text-sm",children:["Welcome back, ",h.name||"Investor"]})]})}),i.jsx(U.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"rounded-2xl p-5 lg:p-6 mb-6 text-white",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-white/60 text-sm mb-1",children:"Available Balance"}),i.jsxs("p",{className:"text-3xl lg:text-4xl font-bold",children:["$",S.toLocaleString()]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(U.button,{onClick:()=>s(!0),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-xl text-sm font-medium",style:{background:N.green,color:"white"},children:[i.jsx(js,{className:"w-4 h-4 inline mr-1"})," Deposit"]}),i.jsxs(U.button,{onClick:()=>a(!0),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-xl text-sm font-medium bg-white/20 text-white",children:[i.jsx(is,{className:"w-4 h-4 inline mr-1"})," Withdraw"]})]})]})}),i.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[i.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[i.jsx("p",{className:"text-gray-500 text-xs mb-1",children:"Portfolio"}),i.jsxs("p",{className:"text-lg font-bold",style:{color:N.navy},children:["$",w.toLocaleString()]})]}),i.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[i.jsx("p",{className:"text-gray-500 text-xs mb-1",children:"Invested"}),i.jsxs("p",{className:"text-lg font-bold",style:{color:N.gold},children:["$",E.toLocaleString()]})]}),i.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[i.jsx("p",{className:"text-gray-500 text-xs mb-1",children:"Returns"}),i.jsxs("p",{className:"text-lg font-bold",style:{color:N.green},children:[k>=0?"+":"","$",k.toLocaleString()]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden mb-6",children:[i.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[i.jsx("h2",{className:"font-medium",style:{color:N.navy},children:"My Investments"}),i.jsx("button",{onClick:()=>e("investments"),className:"text-sm",style:{color:N.gold},children:"View All"})]}),v.length>0?i.jsx("div",{className:"divide-y divide-gray-50",children:v.map((y,b)=>{var P,M;return i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{background:`${y.color}15`},children:i.jsx(gi,{className:"w-5 h-5",style:{color:y.color}})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",style:{color:N.navy},children:y.name}),i.jsxs("p",{className:"text-xs text-gray-400",children:[y.type,"  ",y.term]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"font-bold text-sm",style:{color:N.navy},children:["$",y.current.toLocaleString(void 0,{maximumFractionDigits:2})]}),i.jsxs("p",{className:"text-xs text-green-600",children:["+$",(P=y.expectedReturn)==null?void 0:P.toLocaleString(void 0,{maximumFractionDigits:2})]})]})]}),y.countdownActive?i.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(cN,{className:"w-4 h-4 text-blue-600"}),i.jsx("span",{className:"text-xs font-medium text-blue-600",children:"Time Remaining"})]}),i.jsxs("span",{className:"text-sm font-bold",style:{color:N.navy},children:[y.daysRemaining,"d ",y.hoursRemaining,"h"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"h-2 rounded-full transition-all duration-500",style:{width:`${y.progressPercent}%`,background:`linear-gradient(90deg, ${N.green} 0%, ${N.gold} 100%)`}})}),i.jsxs("div",{className:"flex justify-between mt-1",children:[i.jsxs("span",{className:"text-xs text-gray-500",children:[y.progressPercent,"% complete"]}),y.dailyRate>0&&i.jsxs("span",{className:"text-xs text-green-600",children:["+$",(M=y.dailyProfit)==null?void 0:M.toFixed(2),"/day"]})]})]}):y.status==="pending"?i.jsxs("div",{className:"bg-yellow-50 rounded-lg p-3 flex items-center gap-2",children:[i.jsx(Si,{className:"w-4 h-4 text-yellow-600"}),i.jsx("span",{className:"text-xs text-yellow-700",children:"Awaiting approval - countdown starts after approval"})]}):y.progressPercent>=100?i.jsxs("div",{className:"bg-green-50 rounded-lg p-3 flex items-center gap-2",children:[i.jsx(Ke,{className:"w-4 h-4 text-green-600"}),i.jsx("span",{className:"text-xs text-green-700",children:"Completed! Payout ready"})]}):null]},b)})}):i.jsxs("div",{className:"p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mx-auto mb-4",children:i.jsx(gi,{className:"w-8 h-8 text-gray-400"})}),i.jsx("p",{className:"text-gray-500 font-medium mb-2",children:"No investments yet"}),i.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Start your investment journey today"}),i.jsx(U.button,{onClick:()=>e("investments"),whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-6 py-2 rounded-lg text-white text-sm font-medium",style:{background:N.gold},children:"Browse Investments"})]})]}),i.jsx("div",{className:"grid grid-cols-4 gap-3",children:[{icon:gi,label:"Invest",color:N.navy,action:()=>e("investments")},{icon:Qu,label:"Auto-Invest",color:"#f59e0b",action:()=>l(!0)},{icon:rN,label:"History",color:"#8b5cf6",action:()=>e("history")},{icon:Bl,label:"Profile",color:N.green,action:()=>e("profile")}].map((y,b)=>i.jsxs(U.button,{onClick:y.action,whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-white rounded-xl p-4 shadow-sm flex flex-col items-center gap-2",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{background:`${y.color}15`},children:i.jsx(y.icon,{className:"w-5 h-5",style:{color:y.color}})}),i.jsx("span",{className:"text-xs font-medium text-gray-600",children:y.label})]},b))})]}),i.jsxs(ft,{children:[n&&i.jsx(eT,{onClose:()=>s(!1)}),r&&i.jsx(tT,{onClose:()=>a(!1),balance:S}),o&&i.jsx(O6,{onClose:()=>l(!1),user:t})]})]})}function A6({user:t}){const[e,n]=D.useState("all"),[s,r]=D.useState("all"),[a,o]=D.useState([]);D.useEffect(()=>{const w=()=>{const S=K.getTransactions().filter(y=>y.userId===(t==null?void 0:t.uid)||y.userEmail===(t==null?void 0:t.email));o(S)};w(),K.fetchTransactionsFromCloud().then(S=>{if(S&&S.length>0){const y=K.getTransactions(),b=S.map(P=>{const M=y.find(B=>B.id===P.id||B.firestoreId===P.id||B.firestoreId===P.firestoreId);if(M){const B=new Date(M.updatedAt||0).getTime(),I=new Date(P.updatedAt||0).getTime();if(B>=I)return{...P,...M}}return P});K.setTransactions(b),o(b.filter(P=>P.userId===(t==null?void 0:t.uid)||P.userEmail===(t==null?void 0:t.email)))}}).catch(()=>{});const k=setInterval(w,1e4);return()=>clearInterval(k)},[t==null?void 0:t.uid,t==null?void 0:t.email]);const l=JSON.parse(localStorage.getItem("saxovault_pending_investments")||"[]").filter(w=>w.userEmail===(t==null?void 0:t.email)),c=[...a.map(w=>({...w,category:w.type})),...l.map(w=>({id:w.id,type:"investment",category:"investment",amount:w.amount,status:w.status,name:w.investmentName,crypto:w.crypto,createdAt:w.createdAt}))],d=new Map;c.forEach(w=>{const k=w.firestoreId||w.id||`${w.createdAt}_${w.amount}_${w.type}`;d.has(k)||d.set(k,w)});const f=Array.from(d.values()).sort((w,k)=>new Date(k.createdAt)-new Date(w.createdAt)).filter(w=>e==="all"||w.category===e),p=w=>{switch(w){case"completed":case"approved":return"bg-green-100 text-green-700";case"pending":return"bg-yellow-100 text-yellow-700";case"rejected":case"failed":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},v=w=>{switch(w){case"deposit":return i.jsx(js,{className:"w-5 h-5 text-green-600"});case"withdrawal":return i.jsx(is,{className:"w-5 h-5 text-orange-600"});case"investment":return i.jsx(gi,{className:"w-5 h-5 text-blue-600"});default:return i.jsx(nN,{className:"w-5 h-5 text-gray-600"})}},E=()=>{const w=[["Date","Type","Amount","Status","Details"].join(","),...f.map(b=>[new Date(b.createdAt).toLocaleDateString(),b.type,b.amount,b.status,b.name||b.crypto||""].join(","))].join(`
`),k=new Blob([w],{type:"text/csv"}),S=URL.createObjectURL(k),y=document.createElement("a");y.href=S,y.download=`saxovault_transactions_${new Date().toISOString().split("T")[0]}.csv`,y.click()};return i.jsx("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:N.cream},children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4 lg:px-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"font-serif text-xl lg:text-2xl",style:{color:N.navy},children:"Transaction History"}),i.jsxs("p",{className:"text-gray-500 text-sm",children:[f.length," transactions"]})]}),i.jsxs(U.button,{onClick:E,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-medium",style:{background:N.navy,color:"white"},children:[i.jsx(P4,{className:"w-4 h-4"})," Export"]})]}),i.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm mb-6",children:i.jsx("div",{className:"flex gap-2 overflow-x-auto",children:[{id:"all",label:"All"},{id:"deposit",label:"Deposits"},{id:"withdrawal",label:"Withdrawals"},{id:"investment",label:"Investments"}].map(w=>i.jsx("button",{onClick:()=>n(w.id),className:`px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all ${e===w.id?"text-white":"bg-gray-100 text-gray-600"}`,style:e===w.id?{background:N.navy}:{},children:w.label},w.id))})}),i.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:f.length>0?i.jsx("div",{className:"divide-y divide-gray-100",children:f.map((w,k)=>{var S;return i.jsx(U.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:k*.03},className:"p-4 hover:bg-gray-50 transition-colors",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-gray-100 flex items-center justify-center",children:v(w.type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("p",{className:"font-medium",style:{color:N.navy},children:w.type.charAt(0).toUpperCase()+w.type.slice(1)}),i.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${p(w.status)}`,children:w.status})]}),i.jsxs("p",{className:"text-sm text-gray-500 truncate",children:[w.name||w.crypto||"Transaction","  ",new Date(w.createdAt).toLocaleDateString()]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:`font-bold ${w.type==="withdrawal"?"text-orange-600":"text-green-600"}`,children:[w.type==="withdrawal"?"-":"+","$",(S=w.amount)==null?void 0:S.toLocaleString()]}),i.jsx("p",{className:"text-xs text-gray-400",children:new Date(w.createdAt).toLocaleTimeString()})]})]})},k)})}):i.jsxs("div",{className:"text-center py-16",children:[i.jsx(rN,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500",children:"No transactions yet"})]})})]})})}function P6({user:t}){const[e,n]=D.useState([]);D.useEffect(()=>{const o=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}"),l=JSON.parse(localStorage.getItem("saxovault_broadcasts")||"[]"),c=[...o[t==null?void 0:t.email]||[],...l.map(d=>({...d,type:"broadcast",title:d.title,message:d.message}))].sort((d,h)=>new Date(h.createdAt)-new Date(d.createdAt));n(c)},[t]);const s=o=>{const l=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}");l[t==null?void 0:t.email]&&(l[t.email]=l[t.email].map(c=>c.id===o?{...c,read:!0}:c),localStorage.setItem("saxovault_user_notifications",JSON.stringify(l)),n(c=>c.map(d=>d.id===o?{...d,read:!0}:d)))},r=o=>{switch(o){case"investment_approved":return i.jsx(Ke,{className:"w-5 h-5 text-green-600"});case"investment_rejected":return i.jsx(Bt,{className:"w-5 h-5 text-red-600"});case"deposit_confirmed":return i.jsx(js,{className:"w-5 h-5 text-green-600"});case"withdrawal_processed":return i.jsx(is,{className:"w-5 h-5 text-orange-600"});case"broadcast":return i.jsx(Ts,{className:"w-5 h-5 text-blue-600"});default:return i.jsx(Ts,{className:"w-5 h-5 text-gray-600"})}},a=e.filter(o=>!o.read).length;return i.jsx("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:N.cream},children:i.jsxs("div",{className:"max-w-2xl mx-auto px-4 lg:px-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"font-serif text-xl lg:text-2xl",style:{color:N.navy},children:"Notifications"}),i.jsxs("p",{className:"text-gray-500 text-sm",children:[a," unread"]})]}),a>0&&i.jsx("button",{onClick:()=>{const o=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}");o[t==null?void 0:t.email]&&(o[t.email]=o[t.email].map(l=>({...l,read:!0})),localStorage.setItem("saxovault_user_notifications",JSON.stringify(o)),n(l=>l.map(c=>({...c,read:!0}))))},className:"text-sm font-medium",style:{color:N.gold},children:"Mark all as read"})]}),i.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:e.length>0?i.jsx("div",{className:"divide-y divide-gray-100",children:e.map((o,l)=>i.jsx(U.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:l*.03},onClick:()=>s(o.id),className:`p-4 cursor-pointer transition-colors ${o.read?"bg-white":"bg-blue-50"} hover:bg-gray-50`,children:i.jsxs("div",{className:"flex gap-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center flex-shrink-0",children:r(o.type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("p",{className:"font-medium text-sm",style:{color:N.navy},children:o.title}),!o.read&&i.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500"})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:o.message}),i.jsx("p",{className:"text-xs text-gray-400",children:new Date(o.createdAt).toLocaleString()})]})]})},l))}):i.jsxs("div",{className:"text-center py-16",children:[i.jsx(Ts,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500",children:"No notifications yet"})]})})]})})}function R6({user:t}){const[e,n]=D.useState([]);return D.useEffect(()=>{const s=JSON.parse(localStorage.getItem("saxovault_activity_logs")||"{}");n(s[t==null?void 0:t.email]||[])},[t]),i.jsx("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:N.cream},children:i.jsxs("div",{className:"max-w-2xl mx-auto px-4 lg:px-6",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h1",{className:"font-serif text-xl lg:text-2xl",style:{color:N.navy},children:"Activity Log"}),i.jsx("p",{className:"text-gray-500 text-sm",children:"Your recent account activity"})]}),i.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:e.length>0?i.jsx("div",{className:"divide-y divide-gray-100",children:e.map((s,r)=>i.jsx("div",{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${s.type==="login"?"bg-green-100":s.type==="logout"?"bg-gray-100":s.type==="password_change"?"bg-yellow-100":"bg-blue-100"}`,children:[s.type==="login"&&i.jsx(ka,{className:"w-5 h-5 text-green-600 rotate-180"}),s.type==="logout"&&i.jsx(ka,{className:"w-5 h-5 text-gray-600"}),s.type==="password_change"&&i.jsx(Ju,{className:"w-5 h-5 text-yellow-600"}),s.type==="profile_update"&&i.jsx(Bl,{className:"w-5 h-5 text-blue-600"})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-sm",style:{color:N.navy},children:s.type==="login"?"Signed in":s.type==="logout"?"Signed out":s.type==="password_change"?"Password changed":"Profile updated"}),i.jsx("p",{className:"text-xs text-gray-500",children:new Date(s.timestamp).toLocaleString()})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-xs text-gray-400",children:s.ip||"Unknown IP"}),i.jsx("p",{className:"text-xs text-gray-400",children:s.device||"Unknown Device"})]})]})},r))}):i.jsxs("div",{className:"text-center py-16",children:[i.jsx(T4,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500",children:"No activity recorded yet"})]})}),i.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-xl",children:[i.jsxs("h3",{className:"font-medium text-blue-800 mb-2 flex items-center gap-2",children:[i.jsx(Ar,{className:"w-5 h-5"})," Security Tips"]}),i.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[i.jsx("li",{children:" Review your activity regularly for suspicious logins"}),i.jsx("li",{children:" Enable two-factor authentication for extra security"}),i.jsx("li",{children:" Never share your password with anyone"})]})]})]})})}function eT({onClose:t}){const[e,n]=D.useState(1),[s,r]=D.useState(""),[a,o]=D.useState(null),[l,c]=D.useState(!1),[d,h]=D.useState(1800),[f,p]=D.useState(""),[v,E]=D.useState(null),[w,k]=D.useState(!1),[S,y]=D.useState(!1),b=D.useRef(null),P=[{id:"btc",name:"Bitcoin",symbol:"BTC",icon:"",color:"#f7931a",address:"bc1qzmgg6hw0fttfpczh2whp8f44k497d6pucghk58",network:"Bitcoin"},{id:"eth",name:"Ethereum",symbol:"ETH",icon:"",color:"#627eea",address:"0x83057882eC7B7EE0cBe63C2fE2b8957e7ab69655",network:"ERC-20"},{id:"usdt",name:"Tether",symbol:"USDT",icon:"",color:"#26a17b",address:"TLGH9FucAuPNUoQw2XUFEDtCg4FFdJ2jKG",network:"TRC-20"},{id:"usdc",name:"USD Coin",symbol:"USDC",icon:"$",color:"#2775ca",address:"0x83057882eC7B7EE0cBe63C2fE2b8957e7ab69655",network:"ERC-20"},{id:"bnb",name:"BNB",symbol:"BNB",icon:"B",color:"#f3ba2f",address:"0x83057882eC7B7EE0cBe63C2fE2b8957e7ab69655",network:"BEP-20"}];D.useEffect(()=>{if(e===2&&d>0){const T=setInterval(()=>h(C=>C-1),1e3);return()=>clearInterval(T)}},[e,d]);const M=T=>`${Math.floor(T/60).toString().padStart(2,"0")}:${(T%60).toString().padStart(2,"0")}`,B=T=>{navigator.clipboard.writeText(T),c(!0),setTimeout(()=>c(!1),2e3)},I=T=>{var R;const C=(R=T.target.files)==null?void 0:R[0];if(C){if(C.size>5*1024*1024){alert("File too large. Max 5MB.");return}k(!0);const L=new FileReader;L.onload=()=>{E(L.result),k(!1)},L.readAsDataURL(C)}},_=async()=>{if(!f&&!v){alert("Please provide transaction hash or payment proof.");return}y(!0),console.log(" Starting deposit submission...");try{const T=JSON.parse(localStorage.getItem("saxovault_current_user")||"{}");if(!T.email||!T.uid){alert("Please login to continue"),y(!1);return}const C={type:"deposit",amount:parseFloat(s),crypto:a.symbol,network:a.network,txHash:f||null,proofImage:v?"uploaded":null,userEmail:T.email,userId:T.uid,userName:T.name||"User"};console.log(" Deposit data:",C);const R=await K.addTransaction(C);console.log(" Deposit saved:",R),console.log(" Sending deposit email notification...");try{const L=await Te.sendDepositNotification(T.email,parseFloat(s),a.symbol);console.log(" Deposit email sent:",L)}catch(L){console.error(" Deposit email failed:",L)}y(!1),n(4),console.log(" Deposit submission complete!")}catch(T){console.error(" Deposit submission error:",T),alert("Error submitting deposit. Please try again."),y(!1)}};return i.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t,children:i.jsxs(U.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-2xl w-full max-w-md shadow-xl overflow-hidden",onClick:T=>T.stopPropagation(),children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",style:{background:N.navy},children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(js,{className:"w-5 h-5 text-white"}),i.jsx("span",{className:"text-white font-medium",children:"Deposit Funds"})]}),i.jsx("button",{onClick:t,className:"text-white/70 hover:text-white",children:i.jsx(Bt,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"px-6 py-3 bg-gray-50 border-b border-gray-100",children:[i.jsx("div",{className:"flex gap-2",children:[1,2,3,4].map(T=>i.jsx("div",{className:`h-1 flex-1 rounded-full ${e>=T?"bg-blue-500":"bg-gray-200"}`},T))}),i.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Step ",e," of 4: ",e===1?"Select Amount":e===2?"Send Payment":e===3?"Confirm Payment":"Complete"]})]}),i.jsxs("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:[e===1&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Payment Method"}),i.jsx("div",{className:"grid grid-cols-3 gap-2",children:P.map(T=>i.jsxs("button",{onClick:()=>o(T),className:`p-3 rounded-lg border-2 text-center transition-all ${(a==null?void 0:a.id)===T.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[i.jsx("span",{className:"text-lg",children:T.icon}),i.jsx("p",{className:"text-xs font-medium mt-1",children:T.symbol})]},T.id))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Amount (USD)"}),i.jsx("input",{type:"number",value:s,onChange:T=>r(T.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"Enter amount",min:"10"}),i.jsx("div",{className:"flex gap-2 mt-2",children:[100,500,1e3,5e3].map(T=>i.jsxs("button",{onClick:()=>r(T.toString()),className:"flex-1 py-1.5 text-xs border border-gray-200 rounded hover:bg-gray-50",children:["$",T.toLocaleString()]},T))})]}),i.jsx("button",{onClick:()=>a&&s>=10&&n(2),disabled:!a||!s||parseFloat(s)<10,className:"w-full py-3 rounded-lg text-white font-medium disabled:opacity-50 transition-all",style:{background:N.navy},children:"Continue"})]}),e===2&&a&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"text-center p-3 bg-amber-50 rounded-lg border border-amber-200",children:[i.jsx("p",{className:"text-sm text-amber-700",children:"Complete payment within"}),i.jsx("p",{className:"text-2xl font-mono font-bold text-amber-800",children:M(d)})]}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Amount"}),i.jsxs("span",{className:"font-semibold",children:["$",parseFloat(s).toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Network"}),i.jsx("span",{className:"text-sm font-medium",children:a.network})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:["Send ",a.symbol," to:"]}),i.jsx("div",{className:"p-3 bg-gray-900 rounded-lg",children:i.jsx("p",{className:"font-mono text-xs text-gray-300 break-all text-center",children:a.address})}),i.jsx("button",{onClick:()=>B(a.address),className:"w-full mt-2 py-2 text-sm border border-gray-200 rounded-lg hover:bg-gray-50 flex items-center justify-center gap-2",children:l?i.jsxs(i.Fragment,{children:[i.jsx(Ke,{className:"w-4 h-4 text-green-500"})," Copied!"]}):i.jsxs(i.Fragment,{children:[i.jsx(Gu,{className:"w-4 h-4"})," Copy Address"]})})]}),i.jsxs("p",{className:"text-xs text-gray-500 text-center",children:[" Only send ",a.symbol," via ",a.network,". Wrong network = lost funds."]}),i.jsx("button",{onClick:()=>n(3),className:"w-full py-3 rounded-lg text-white font-medium",style:{background:N.navy},children:"I've Sent Payment"})]}),e===3&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("button",{onClick:()=>n(2),className:"text-sm text-gray-500 hover:text-gray-700 flex items-center gap-1",children:[i.jsx(Ul,{className:"w-4 h-4"})," Back"]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Transaction Hash (Recommended)"}),i.jsx("input",{type:"text",value:f,onChange:T=>p(T.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-blue-500 font-mono text-sm",placeholder:"0x... or txid..."})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex-1 h-px bg-gray-200"}),i.jsx("span",{className:"text-xs text-gray-400",children:"OR"}),i.jsx("div",{className:"flex-1 h-px bg-gray-200"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Upload Proof of Payment"}),i.jsx("input",{ref:b,type:"file",accept:"image/*",onChange:I,className:"hidden"}),v?i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:v,alt:"Proof",className:"w-full h-32 object-cover rounded-lg"}),i.jsx("button",{onClick:()=>E(null),className:"absolute top-2 right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center",children:i.jsx(Bt,{className:"w-3 h-3"})})]}):i.jsx("button",{onClick:()=>{var T;return(T=b.current)==null?void 0:T.click()},className:"w-full p-6 border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 text-center",children:w?i.jsx(In,{className:"w-6 h-6 mx-auto animate-spin text-gray-400"}):i.jsxs(i.Fragment,{children:[i.jsx(Vm,{className:"w-6 h-6 mx-auto text-gray-400 mb-2"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Click to upload screenshot"})]})})]}),i.jsx("div",{className:"p-3 bg-gray-50 rounded-lg text-sm",children:i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Verification"}),i.jsx("span",{className:f||v?"text-green-600":"text-amber-600",children:f&&v?" Both provided":f?" Hash provided":v?" Proof uploaded":" Required"})]})}),i.jsx("button",{onClick:_,disabled:!f&&!v||S,className:"w-full py-3 rounded-lg text-white font-medium disabled:opacity-50 flex items-center justify-center gap-2",style:{background:N.navy},children:S?i.jsxs(i.Fragment,{children:[i.jsx(In,{className:"w-4 h-4 animate-spin"})," Processing..."]}):"Submit for Verification"})]}),e===4&&i.jsxs("div",{className:"text-center py-6",children:[i.jsx("div",{className:"w-16 h-16 mx-auto rounded-full bg-green-100 flex items-center justify-center mb-4",children:i.jsx(Ke,{className:"w-8 h-8 text-green-500"})}),i.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:N.navy},children:"Deposit Submitted"}),i.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Your deposit is pending verification. You'll be notified once approved."}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg text-sm text-left mb-4",children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-gray-500",children:"Amount"}),i.jsxs("span",{className:"font-medium",children:["$",parseFloat(s).toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-gray-500",children:"Method"}),i.jsx("span",{className:"font-medium",children:a==null?void 0:a.symbol})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Status"}),i.jsx("span",{className:"text-amber-600 font-medium",children:"Pending Approval"})]})]}),i.jsx("button",{onClick:t,className:"w-full py-3 rounded-lg font-medium border border-gray-200 hover:bg-gray-50",children:"Done"})]})]})]})})}function tT({onClose:t,balance:e}){const[n,s]=D.useState(1),[r,a]=D.useState(""),[o,l]=D.useState(null),[c,d]=D.useState(""),[h,f]=D.useState(!1),v=JSON.parse(localStorage.getItem("saxovault_platform_config")||"{}").minWithdrawal||100,E=[{id:"btc",name:"Bitcoin",symbol:"BTC",icon:"",network:"Bitcoin",minWithdraw:50},{id:"eth",name:"Ethereum",symbol:"ETH",icon:"",network:"ERC-20",minWithdraw:50},{id:"usdt",name:"Tether",symbol:"USDT",icon:"",network:"TRC-20",minWithdraw:20},{id:"usdc",name:"USD Coin",symbol:"USDC",icon:"$",network:"ERC-20",minWithdraw:20},{id:"bnb",name:"BNB",symbol:"BNB",icon:"B",network:"BEP-20",minWithdraw:30}],w=(o==null?void 0:o.minWithdraw)||v,k=parseFloat(r)||0,S=k>0&&k<w,y=k>e,b=k>=w&&k<=e,P=c.length>=26,M=()=>r?y?`Insufficient balance. You have $${e.toLocaleString()} available.`:S?`Minimum withdrawal is $${w}. Please enter a higher amount.`:"":"",B=()=>{if(y){alert(` Insufficient Balance

You cannot withdraw more than your available balance.

Your balance: $${e.toLocaleString()}
Requested: $${k.toLocaleString()}`);return}if(S){alert(` Below Minimum

Minimum withdrawal for ${(o==null?void 0:o.symbol)||"this method"} is $${w}.

Please enter at least $${w}.`);return}if(!P){alert("Please enter a valid wallet address (at least 26 characters).");return}s(2)},I=async()=>{if(!(!b||!P)){f(!0),console.log(" Starting withdrawal submission...");try{const _=JSON.parse(localStorage.getItem("saxovault_current_user")||"{}");if(!_.email||!_.uid){alert("Please login to continue"),f(!1);return}const T={type:"withdrawal",amount:parseFloat(r),crypto:o.symbol,network:o.network,walletAddress:c,userEmail:_.email,userId:_.uid,userName:_.name||"User"};console.log(" Withdrawal data:",T);const C=await K.addTransaction(T);console.log(" Withdrawal saved:",C),console.log(" Sending withdrawal email...");try{const R=await Te.sendWithdrawalNotification(_.email,parseFloat(r),c);console.log(" Withdrawal email sent:",R)}catch(R){console.error(" Withdrawal email failed:",R)}f(!1),s(3),console.log(" Withdrawal submission complete!")}catch(_){console.error(" Withdrawal submission error:",_),alert("Error submitting withdrawal. Please try again."),f(!1)}}};return i.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t,children:i.jsxs(U.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-2xl w-full max-w-md shadow-xl overflow-hidden",onClick:_=>_.stopPropagation(),children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",style:{background:N.navy},children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(is,{className:"w-5 h-5 text-white"}),i.jsxs("div",{children:[i.jsx("span",{className:"text-white font-medium",children:"Withdraw Funds"}),i.jsxs("p",{className:"text-white/60 text-xs",children:["Balance: $",e.toLocaleString()]})]})]}),i.jsx("button",{onClick:t,className:"text-white/70 hover:text-white",children:i.jsx(Bt,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"px-6 py-3 bg-gray-50 border-b border-gray-100",children:[i.jsx("div",{className:"flex gap-2",children:[1,2,3].map(_=>i.jsx("div",{className:`h-1 flex-1 rounded-full ${n>=_?"bg-blue-500":"bg-gray-200"}`},_))}),i.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Step ",n," of 3: ",n===1?"Enter Details":n===2?"Confirm":"Complete"]})]}),i.jsxs("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:[n===1&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Withdrawal Method"}),i.jsx("div",{className:"grid grid-cols-3 gap-2",children:E.map(_=>i.jsxs("button",{onClick:()=>l(_),className:`p-3 rounded-lg border-2 text-center transition-all ${(o==null?void 0:o.id)===_.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[i.jsx("span",{className:"text-lg",children:_.icon}),i.jsx("p",{className:"text-xs font-medium mt-1",children:_.symbol})]},_.id))}),o&&i.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Min: $",o.minWithdraw,"  Network: ",o.network]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Amount (USD)"}),i.jsx("input",{type:"number",value:r,onChange:_=>a(_.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:border-blue-500 ${M()?"border-red-300 bg-red-50":"border-gray-200"}`,placeholder:"Enter amount",max:e}),i.jsx("div",{className:"flex gap-2 mt-2",children:[25,50,75,100].map(_=>i.jsxs("button",{onClick:()=>a(Math.floor(e*_/100).toString()),className:"flex-1 py-1.5 text-xs border border-gray-200 rounded hover:bg-gray-50",children:[_,"%"]},_))}),M()&&i.jsxs("p",{className:"text-xs text-red-500 mt-2 flex items-center gap-1",children:[i.jsx(rs,{className:"w-3 h-3"})," ",M()]}),i.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Available balance: ",i.jsxs("span",{className:"font-semibold",children:["$",e.toLocaleString()]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Wallet Address"}),i.jsx("input",{type:"text",value:c,onChange:_=>d(_.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-blue-500 font-mono text-sm",placeholder:"Enter your wallet address"})]}),i.jsx("button",{onClick:B,disabled:!r||!o||!c,className:"w-full py-3 rounded-lg text-white font-medium disabled:opacity-50",style:{background:y||S?"#9ca3af":N.navy},children:"Continue"})]}),n===2&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("button",{onClick:()=>s(1),className:"text-sm text-gray-500 hover:text-gray-700 flex items-center gap-1",children:[i.jsx(Ul,{className:"w-4 h-4"})," Back"]}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg space-y-3",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Amount"}),i.jsxs("span",{className:"font-semibold",children:["$",parseFloat(r).toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Method"}),i.jsxs("span",{className:"font-medium",children:[o==null?void 0:o.symbol," (",o==null?void 0:o.network,")"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Fee"}),i.jsx("span",{className:"text-sm",children:"Network fee applies"})]}),i.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Destination"}),i.jsx("p",{className:"font-mono text-xs break-all",children:c})]})]}),i.jsx("div",{className:"p-3 bg-amber-50 rounded-lg border border-amber-200",children:i.jsx("p",{className:"text-xs text-amber-700",children:" Please verify the address is correct. Withdrawals to wrong addresses cannot be recovered."})}),i.jsx("button",{onClick:I,disabled:h,className:"w-full py-3 rounded-lg text-white font-medium disabled:opacity-50 flex items-center justify-center gap-2",style:{background:N.navy},children:h?i.jsxs(i.Fragment,{children:[i.jsx(In,{className:"w-4 h-4 animate-spin"})," Processing..."]}):"Confirm Withdrawal"})]}),n===3&&i.jsxs("div",{className:"text-center py-6",children:[i.jsx("div",{className:"w-16 h-16 mx-auto rounded-full bg-blue-100 flex items-center justify-center mb-4",children:i.jsx(Si,{className:"w-8 h-8 text-blue-500"})}),i.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:N.navy},children:"Withdrawal Submitted"}),i.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Your withdrawal is under review. Processing time: 24-48 hours."}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg text-sm text-left mb-4",children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-gray-500",children:"Amount"}),i.jsxs("span",{className:"font-medium",children:["$",parseFloat(r).toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-gray-500",children:"Method"}),i.jsx("span",{className:"font-medium",children:o==null?void 0:o.symbol})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Status"}),i.jsx("span",{className:"text-amber-600 font-medium",children:"Under Review"})]})]}),i.jsx("button",{onClick:t,className:"w-full py-3 rounded-lg font-medium border border-gray-200 hover:bg-gray-50",children:"Done"})]})]})]})})}function D6({document:t,onClose:e}){const n={"White Paper":{title:"SaxoVault Capital White Paper",version:"Version 2.1 | January 2024",sections:[{title:"Executive Summary",content:`SaxoVault Capital is a premier institutional-grade investment platform designed to democratize access to high-yield investment opportunities traditionally reserved for accredited investors and financial institutions.

Our platform leverages cutting-edge technology, rigorous due diligence processes, and diversified asset allocation strategies to deliver consistent, risk-adjusted returns across multiple asset classes including Real Estate, Cryptocurrency, Stocks & Bonds, and Precious Metals.

Founded in 2019, SaxoVault Capital has grown to manage over $600 million in assets under management (AUM), serving more than 12,000 investors across 45+ countries.`},{title:"1. Introduction & Vision",content:`1.1 Mission Statement
To provide retail and institutional investors with secure, transparent, and profitable investment opportunities through innovative technology and expert portfolio management.

1.2 Core Values
 Transparency: Full disclosure of investment strategies, risks, and performance
 Security: Bank-level encryption and multi-layer authentication
 Accessibility: Institutional-grade investments with retail-friendly minimums
 Education: Comprehensive investor resources and market insights

1.3 Platform Overview
SaxoVault Capital offers curated opportunities across four primary asset verticals: Real Estate, Cryptocurrency & Digital Assets, Stocks & Fixed Income, and Precious Metals.`},{title:"2. Investment Philosophy",content:`2.1 Diversification Strategy
Our portfolio construction emphasizes strategic diversification across asset classes, geographies, and investment horizons to mitigate concentration risk.

2.2 Due Diligence Framework
Every investment undergoes a rigorous 5-stage vetting process:
 Stage 1: Initial Screening & Market Analysis
 Stage 2: Financial Modeling & Stress Testing
 Stage 3: Legal & Regulatory Compliance Review
 Stage 4: Third-Party Audit & Verification
 Stage 5: Investment Committee Approval

2.3 Risk Management
We employ sophisticated risk management including position sizing limits, stop-loss mechanisms, and real-time monitoring. Maximum exposure to any single investment is capped at 15% of total AUM.`},{title:"3. Asset Allocation",content:`Real Estate (35%): Development funding and income properties
Cryptocurrency (25%): Blue-chip holdings and DeFi strategies
Stocks & Bonds (25%): Dividend aristocrats and growth ETFs
Precious Metals (15%): Gold, silver, and platinum exposure`},{title:"4. Technology & Security",content:` 256-bit SSL/TLS encryption
 Multi-factor authentication (MFA)
 Cold storage for 95% of digital assets
 SOC 2 Type II certified data centers
 Regular penetration testing and security audits
 Smart contract integration for transparent transactions`},{title:"5. Regulatory Compliance",content:"SaxoVault Capital maintains appropriate licenses and adheres to AML/KYC procedures. We implement robust Anti-Money Laundering and Know Your Customer procedures with segregated client accounts and independent custodian relationships."},{title:"6. Fee Structure",content:`Management Fee: 1.5% annually
Performance Fee: 20% of profits above 8% hurdle
Deposit Fee: 0% (no deposit fees)
Withdrawal Fee: Network fees only for cryptocurrency`}]},"Terms of Service":{title:"Terms of Service",version:"Last Updated: December 2024",sections:[{title:"1. Agreement to Terms",content:"By accessing SaxoVault Capital, you agree to these Terms. If you do not agree, you may not use the Platform. We may modify these Terms at any time."},{title:"2. Eligibility",content:"You must be 18+ years old, have legal capacity to contract, not be in a prohibited jurisdiction, complete KYC verification, and provide accurate information."},{title:"3. Account Security",content:"You are responsible for maintaining credential confidentiality. Notify us immediately of unauthorized access. One account per person."},{title:"4. Investment Services",content:"We provide access to curated investment opportunities as an intermediary. All investments carry risk. Past performance does not guarantee future results."},{title:"5. Deposits & Withdrawals",content:"We accept cryptocurrency deposits. Withdrawals are processed within 24-48 hours. Large withdrawals may require additional verification."},{title:"6. Prohibited Activities",content:"No money laundering, market manipulation, fraud, unauthorized bots, security circumvention, impersonation, or illegal activity."},{title:"7. Limitation of Liability",content:"SaxoVault Capital is not liable for indirect, incidental, or consequential damages. Total liability is limited to fees paid in the preceding 12 months."}]},"Privacy Policy":{title:"Privacy Policy",version:"GDPR & CCPA Compliant | December 2024",sections:[{title:"1. Information We Collect",content:"Identity info (name, DOB, ID), contact info (email, phone, address), financial info (wallet addresses), verification documents, device info, and usage data."},{title:"2. How We Use Information",content:"Verify identity, process transactions, communicate about your account, comply with regulations, improve services, and detect security threats."},{title:"3. Data Sharing",content:"We share with service providers, regulatory authorities, and professional advisors. We do NOT sell your personal information."},{title:"4. Data Security",content:"256-bit encryption, multi-factor authentication, regular audits, employee access controls, and SOC 2 certified data centers."},{title:"5. Your Rights",content:"Access, rectification, erasure, restriction, portability, and objection rights. Contact privacy@saxobankcapital.com to exercise."},{title:"6. Data Retention",content:"We retain data as long as necessary for services and legal compliance. After account closure, certain data is retained for up to 7 years."}]},"Risk Disclosure":{title:"Risk Disclosure Statement",version:"Required Reading | All Investors",sections:[{title:"IMPORTANT WARNING",content:"Investing involves risk including possible loss of principal. Values can go down as well as up. This does not disclose all risks. Consult a financial advisor."},{title:"1. Market Risk",content:"Values fluctuate based on economic events, political developments, and market sentiment."},{title:"2. Real Estate Risks",content:"Property values may decline, projects may face delays, rental income affected by vacancies, regulatory changes, environmental issues."},{title:"3. Cryptocurrency Risks",content:"Extreme volatility, regulatory uncertainty, security risks, technology vulnerabilities, market manipulation, no intrinsic value."},{title:"4. Stock & Bond Risks",content:"Equity risk, credit risk, sector concentration, currency fluctuations, dividend reductions."},{title:"5. Precious Metals Risks",content:"Price volatility, no income generation, storage costs, industrial demand cycles."},{title:"Acknowledgment",content:"By investing, you acknowledge reading this disclosure, understanding risks, accepting potential losses, and conducting your own due diligence."}]},"AML/KYC Policy":{title:"Anti-Money Laundering & KYC Policy",version:"FATF Compliant | December 2024",sections:[{title:"1. Policy Statement",content:"SaxoVault Capital is committed to highest AML/CTF standards, adhering to FATF recommendations and applicable laws."},{title:"2. Customer Identification",content:"Required: Government photo ID, proof of address (within 90 days), selfie verification. Enhanced due diligence for high-value transactions and PEPs."},{title:"3. Ongoing Monitoring",content:"Transaction monitoring, periodic reviews, sanctions screening, automated alerts for unusual activity."},{title:"4. Suspicious Activity",content:"We file SARs and CTRs as required, cooperate with law enforcement, and maintain records for 5+ years."},{title:"5. Prohibited Activities",content:"Money laundering, terrorist financing, sanctioned transactions, structuring, false identities, illegal proceeds."},{title:"6. Sanctions Compliance",content:"We screen against OFAC, UN, EU, and other sanctions lists. Transactions with sanctioned parties are blocked and reported."}]},"Investment Guide":{title:"Investment Guidelines & Handbook",version:"Investor Reference | 2024",sections:[{title:"1. Getting Started",content:"Register  Complete KYC  Enable 2FA  Fund account  Browse investments. Account levels: Basic (<$25K), Premium ($25K-$100K), Elite ($100K+)."},{title:"2. Investment Categories",content:"Real Estate: $10K-$50K min, 12-36 months, 7-22% target. Crypto: $2.5K-$10K min, 6-12 months, 15-40% target. Stocks: $3K-$10K min, 12 months, 5-20% target. Metals: $2.5K-$15K min, 12-24 months, 8-18% target."},{title:"3. Portfolio Strategies",content:"Conservative: 50% bonds, 30% RE income, 15% metals, 5% crypto. Balanced: 35% RE, 25% stocks, 25% crypto, 15% metals. Aggressive: 40% crypto, 30% growth stocks, 20% RE dev, 10% altcoins."},{title:"4. Payouts",content:"Methods: Cryptocurrency or reinvestment. Schedule: Monthly, quarterly, or at maturity. Compound option available."},{title:"5. Withdrawals",content:"Crypto: 24-48 hours. Large (>$50K): 3-5 days. Daily limit: $100K (Elite: $500K)."}]},"Fee Schedule":{title:"Fee Schedule",version:"Effective January 2024",sections:[{title:"Account Fees",content:"Opening: FREE. Maintenance: FREE. Closure: FREE. Inactivity (12+ months): $25/month."},{title:"Deposit Fees",content:"All cryptocurrency deposits: FREE. Network fees paid by sender."},{title:"Withdrawal Fees",content:"Network fees only. Express processing (4 hours): 0.1% of amount."},{title:"Management Fees",content:"1.5% annually (0.375% quarterly). Performance fee: 20% of profits above 8% hurdle."},{title:"Early Redemption",content:"0-30 days: 5%. 31-90 days: 3%. 91-180 days: 1%. 180+ days: No penalty."},{title:"Elite Discounts",content:"25% off management fees, free express withdrawals, dedicated account manager."}]},"FAQ & Support":{title:"Frequently Asked Questions",version:"Updated December 2024",sections:[{title:"Account",content:`Q: How to register? A: Click Register, enter details, complete KYC.
Q: Verification time? A: 24-48 hours standard, 4 hours express.
Q: Multiple accounts? A: No, one per person.`},{title:"Deposits",content:`Q: Which cryptos? A: BTC, ETH, USDT, USDC, BNB, LTC.
Q: Minimum? A: No account minimum. Each investment has its own.
Q: How long? A: 10-30 minutes after confirmation.`},{title:"Investments",content:`Q: Minimum investment? A: $2,500 - $50,000 depending on opportunity.
Q: Early withdrawal? A: May incur penalties per terms.
Q: When payouts? A: Monthly, quarterly, or at maturity.`},{title:"Withdrawals",content:`Q: Processing time? A: 24-48 hours standard.
Q: Limits? A: $100K daily ($500K for Elite).
Q: Delayed? A: Contact support if >72 hours.`},{title:"Contact Support",content:`WhatsApp: +1 (464) 239-5280 (24/7)
Live Chat: Available on website
Email: support@saxovault.com
Response: Under 24 hours`}]}},s=n[t]||n["White Paper"];return i.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e,children:i.jsxs(U.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-2xl lg:rounded-3xl w-full max-w-4xl max-h-[90vh] overflow-hidden shadow-2xl",onClick:r=>r.stopPropagation(),children:[i.jsxs("div",{className:"p-5 lg:p-6 border-b border-gray-100 flex items-center justify-between sticky top-0 bg-white z-10",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl",style:{color:N.navy},children:s.title}),i.jsx("p",{className:"text-gray-500 text-sm",children:s.version})]}),i.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:i.jsx(Bt,{className:"w-6 h-6",style:{color:N.navy}})})]}),i.jsxs("div",{className:"p-5 lg:p-8 overflow-y-auto max-h-[calc(90vh-100px)]",children:[i.jsx("div",{className:"space-y-8",children:s.sections.map((r,a)=>i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:a*.05},children:[i.jsx("h3",{className:"font-serif text-lg lg:text-xl mb-3 pb-2 border-b border-gray-100",style:{color:N.navy},children:r.title}),i.jsx("div",{className:"text-gray-600 text-sm lg:text-base leading-relaxed whitespace-pre-line",children:r.content})]},a))}),i.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-100 flex flex-col sm:flex-row gap-3",children:[i.jsxs(U.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 py-3 rounded-xl font-medium flex items-center justify-center gap-2",style:{background:`${N.navy}10`,color:N.navy},children:[i.jsx(js,{className:"w-4 h-4"})," Download PDF"]}),i.jsx(U.button,{onClick:e,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 py-3 rounded-xl text-white font-medium",style:{background:N.navy},children:"Close"})]})]})]})})}function V6({user:t}){const e=D.useMemo(()=>{const E=localStorage.getItem(`saxovault_referral_code_${t.uid}`);if(E)return E;const w="SAXO"+(t.name||"USER").split(" ")[0].toUpperCase().slice(0,4)+Math.random().toString(36).substr(2,4).toUpperCase();return localStorage.setItem(`saxovault_referral_code_${t.uid}`,w),w},[t.uid,t.name]),n=`https://saxovault.com/ref/${e}`,[s,r]=D.useState(!1),a=E=>{navigator.clipboard.writeText(E),r(!0),setTimeout(()=>r(!1),2e3)},o=K.getUsers(),l=K.getTransactions(),c=o.filter(E=>{const w=E.usedReferralCode===e,k=E.referredBy===t.uid,S=E.registrationReferralCode===e;return(w||k||S)&&E.uid!==t.uid}).map(E=>{var y;const k=l.filter(b=>b.userId===E.uid&&b.type==="investment"&&(b.status==="approved"||b.status==="pending"||b.status==="active")).reduce((b,P)=>b+(P.amount||0),0),S=k*.04;return{name:E.name?E.name.split(" ")[0]+" "+(((y=E.name.split(" ")[1])==null?void 0:y[0])||"")+".":"User",date:E.createdAt||new Date().toISOString(),invested:k,bonus:S,status:k>0?"Active":"Pending"}}),h=l.filter(E=>E.type==="referral_bonus"&&E.userId===t.uid&&(E.status==="approved"||E.status==="completed")).reduce((E,w)=>E+(w.amount||0),0),f=h>0?h:c.reduce((E,w)=>E+w.bonus,0),p=c.length,v=c.filter(E=>E.status==="Active").length;return i.jsx("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:N.cream},children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4 lg:px-6",children:[i.jsxs("div",{className:"text-center mb-8 lg:mb-12",children:[i.jsx(U.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring"},className:"w-16 h-16 lg:w-20 lg:h-20 mx-auto rounded-2xl flex items-center justify-center mb-4",style:{background:`linear-gradient(135deg, ${N.gold} 0%, ${N.goldDark} 100%)`},children:i.jsx($l,{className:"w-8 h-8 lg:w-10 lg:h-10 text-white"})}),i.jsx("h1",{className:"font-serif text-2xl lg:text-4xl mb-2",style:{color:N.navy},children:"Referral Program"}),i.jsxs("p",{className:"text-gray-600 text-sm lg:text-base max-w-lg mx-auto",children:["Earn rewards when your friends invest. Get ",i.jsx("strong",{children:"4% bonus instantly"})," on every investment your referrals make!"]})]}),c.length>0?i.jsx("div",{className:"grid grid-cols-3 gap-3 lg:gap-6 mb-6 lg:mb-8",children:[{label:"Total Earnings",value:`$${f.toLocaleString()}`,icon:I4,color:N.green},{label:"Total Referrals",value:p,icon:Yu,color:N.navy},{label:"Active Referrals",value:v,icon:Cv,color:N.gold}].map((E,w)=>i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:w*.1},className:"bg-white rounded-xl lg:rounded-2xl p-4 lg:p-6 shadow-lg text-center",children:[i.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 rounded-xl flex items-center justify-center mx-auto mb-2 lg:mb-3",style:{background:`${E.color}15`},children:i.jsx(E.icon,{className:"w-5 h-5 lg:w-6 lg:h-6",style:{color:E.color}})}),i.jsx("p",{className:"text-xl lg:text-3xl font-bold",style:{color:E.color},children:E.value}),i.jsx("p",{className:"text-xs lg:text-sm text-gray-500",children:E.label})]},w))}):i.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl p-6 lg:p-8 mb-6 lg:mb-8 text-center border border-blue-100",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-white shadow-md flex items-center justify-center mx-auto mb-4",children:i.jsx(Cv,{className:"w-8 h-8 text-blue-500"})}),i.jsx("h3",{className:"font-semibold text-lg mb-2",style:{color:N.navy},children:"Start Earning Today!"}),i.jsxs("p",{className:"text-gray-600 text-sm mb-4",children:["Share your referral link with friends and earn ",i.jsx("strong",{children:"4% bonus instantly"})," on every investment they make."]}),i.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[i.jsx("span",{className:"px-3 py-1 bg-white rounded-full text-gray-500",children:"No referrals yet"}),i.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full",children:"$0 earned"})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-5 lg:p-8 mb-6 lg:mb-8",children:[i.jsx("h2",{className:"font-serif text-lg lg:text-xl mb-4 lg:mb-6",style:{color:N.navy},children:"Your Referral Details"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-500 mb-2",children:"Referral Code"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex-1 px-4 py-3 lg:py-4 bg-gray-50 rounded-xl font-mono font-bold text-lg lg:text-xl text-center",style:{color:N.navy},children:e}),i.jsx(U.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>a(e),className:"p-3 lg:p-4 rounded-xl text-white",style:{background:s?N.green:N.navy},children:s?i.jsx(cn,{className:"w-5 h-5"}):i.jsx(Gu,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-500 mb-2",children:"Referral Link"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex-1 px-4 py-3 bg-gray-50 rounded-xl text-sm text-gray-600 truncate",children:n}),i.jsx(U.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>a(n),className:"p-3 rounded-xl",style:{background:`${N.gold}15`,color:N.gold},children:i.jsx(M4,{className:"w-5 h-5"})})]})]})]}),i.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[i.jsx("h3",{className:"font-medium mb-3",style:{color:N.navy},children:"Share via"}),i.jsx("div",{className:"flex gap-3",children:[{name:"WhatsApp",color:"#25D366",icon:aN},{name:"Email",color:"#EA4335",icon:es},{name:"Copy Link",color:N.navy,icon:Gu}].map((E,w)=>i.jsxs(U.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>E.name==="Copy Link"?a(n):null,className:"flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-white text-sm font-medium",style:{background:E.color},children:[i.jsx(E.icon,{className:"w-4 h-4"}),i.jsx("span",{className:"hidden sm:inline",children:E.name})]},w))})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-5 lg:p-8 mb-6 lg:mb-8",children:[i.jsx("h2",{className:"font-serif text-lg lg:text-xl mb-4 lg:mb-6",style:{color:N.navy},children:"How It Works"}),i.jsx("div",{className:"grid sm:grid-cols-3 gap-4 lg:gap-6",children:[{step:"1",title:"Share Your Link",desc:"Send your unique referral link to friends and family"},{step:"2",title:"They Sign Up",desc:"When they register using your link or code"},{step:"3",title:"Earn Rewards",desc:"Get 1% bonus on every deposit they make!"}].map((E,w)=>i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 rounded-full flex items-center justify-center mx-auto mb-3 text-white font-bold",style:{background:`linear-gradient(135deg, ${N.gold} 0%, ${N.goldDark} 100%)`},children:E.step}),i.jsx("h3",{className:"font-semibold text-sm lg:text-base mb-1",style:{color:N.navy},children:E.title}),i.jsx("p",{className:"text-gray-500 text-xs lg:text-sm",children:E.desc})]},w))})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg overflow-hidden",children:[i.jsxs("div",{className:"p-4 lg:p-6 border-b border-gray-100",children:[i.jsx("h2",{className:"font-serif text-lg lg:text-xl",style:{color:N.navy},children:"Your Referrals"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"You earn 4% of every investment your referrals make"})]}),c.length>0?i.jsx("div",{className:"divide-y divide-gray-100",children:c.map((E,w)=>i.jsxs("div",{className:"p-4 lg:p-5 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-bold",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:E.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm lg:text-base",style:{color:N.navy},children:E.name}),i.jsxs("p",{className:"text-xs text-gray-500",children:["Joined ",new Date(E.date).toLocaleDateString()]}),E.invested>0&&i.jsxs("p",{className:"text-xs text-blue-600",children:["Invested: $",E.invested.toLocaleString()]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"font-bold text-sm lg:text-base",style:{color:N.green},children:["+$",E.bonus.toFixed(2)]}),i.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${E.status==="Active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:E.status==="Active"?"Invested":"Pending Investment"})]})]},w))}):i.jsxs("div",{className:"p-8 text-center",children:[i.jsx(Yu,{className:"w-12 h-12 mx-auto text-gray-300 mb-3"}),i.jsx("p",{className:"text-gray-500",children:"No referrals yet. Share your link to get started!"})]})]})]})})}function L6(){const[t,e]=D.useState(25e3),[n,s]=D.useState(12),[r,a]=D.useState(24),o=t*Math.pow(1+n/100/12,r),l=o-t;return i.jsx("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:N.cream},children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4 lg:px-6",children:[i.jsxs("div",{className:"text-center mb-8 lg:mb-12",children:[i.jsx("h1",{className:"font-serif text-2xl lg:text-4xl mb-2",style:{color:N.navy},children:"Investment Calculator"}),i.jsx("p",{className:"text-gray-600 text-sm lg:text-base",children:"Project your potential returns."})]}),i.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 lg:gap-8",children:[i.jsxs("div",{className:"bg-white rounded-2xl lg:rounded-3xl p-5 lg:p-8 shadow-xl",children:[i.jsx("h2",{className:"font-serif text-lg lg:text-xl mb-4 lg:mb-6",style:{color:N.navy},children:"Parameters"}),i.jsxs("div",{className:"space-y-5 lg:space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block font-medium text-gray-700 mb-2 text-sm lg:text-base",children:"Initial Investment"}),i.jsx("input",{type:"number",value:t,onChange:c=>e(+c.target.value),className:"w-full px-4 py-3 lg:py-4 text-xl font-bold border-2 border-gray-200 rounded-xl text-center focus:outline-none"}),i.jsx("div",{className:"flex gap-2 mt-2",children:[1e4,25e3,5e4,1e5].map(c=>i.jsxs("button",{onClick:()=>e(c),className:`flex-1 py-2 rounded-lg text-xs font-medium border ${t===c?"text-white":"border-gray-200"}`,style:t===c?{background:N.navy}:{},children:["$",c/1e3,"K"]},c))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block font-medium text-gray-700 mb-2 text-sm lg:text-base",children:"Annual Return (%)"}),i.jsx("input",{type:"number",value:n,onChange:c=>s(+c.target.value),className:"w-full px-4 py-3 lg:py-4 text-xl font-bold border-2 border-gray-200 rounded-xl text-center focus:outline-none"}),i.jsx("div",{className:"flex gap-2 mt-2",children:[8,12,15,20].map(c=>i.jsxs("button",{onClick:()=>s(c),className:`flex-1 py-2 rounded-lg text-xs font-medium border ${n===c?"text-white":"border-gray-200"}`,style:n===c?{background:N.navy}:{},children:[c,"%"]},c))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block font-medium text-gray-700 mb-2 text-sm lg:text-base",children:"Period (Months)"}),i.jsx("input",{type:"number",value:r,onChange:c=>a(+c.target.value),className:"w-full px-4 py-3 lg:py-4 text-xl font-bold border-2 border-gray-200 rounded-xl text-center focus:outline-none"}),i.jsx("div",{className:"flex gap-2 mt-2",children:[12,24,36,60].map(c=>i.jsxs("button",{onClick:()=>a(c),className:`flex-1 py-2 rounded-lg text-xs font-medium border ${r===c?"text-white":"border-gray-200"}`,style:r===c?{background:N.navy}:{},children:[c,"mo"]},c))})]})]})]}),i.jsxs("div",{className:"rounded-2xl lg:rounded-3xl p-5 lg:p-8 text-white shadow-xl",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:[i.jsx("h2",{className:"font-serif text-lg lg:text-xl mb-6 lg:mb-8",style:{color:N.gold},children:"Projected Returns"}),i.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-white/60 text-xs lg:text-sm mb-1",children:"Final Value"}),i.jsxs("p",{className:"font-serif text-4xl lg:text-5xl font-bold",children:["$",o.toLocaleString(void 0,{maximumFractionDigits:0})]})]}),i.jsx("div",{className:"h-px bg-white/20"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 lg:gap-6",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-white/60 text-xs lg:text-sm mb-1",children:"Total Return"}),i.jsxs("p",{className:"text-xl lg:text-2xl font-bold",style:{color:N.gold},children:["+$",l.toLocaleString(void 0,{maximumFractionDigits:0})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-white/60 text-xs lg:text-sm mb-1",children:"Return %"}),i.jsxs("p",{className:"text-xl lg:text-2xl font-bold",style:{color:N.green},children:["+",(l/t*100).toFixed(1),"%"]})]})]}),i.jsxs("div",{className:"p-4 rounded-xl bg-white/10",children:[i.jsx("p",{className:"text-white/60 text-xs lg:text-sm mb-2",children:"Summary"}),i.jsxs("p",{className:"text-xs lg:text-sm",children:[i.jsxs("span",{className:"font-bold",children:["$",t.toLocaleString()]})," at ",i.jsxs("span",{className:"font-bold",children:[n,"%"]})," for ",i.jsxs("span",{className:"font-bold",children:[r," months"]})," = ",i.jsxs("span",{className:"font-bold",style:{color:N.gold},children:["$",o.toLocaleString(void 0,{maximumFractionDigits:0})]})]})]})]})]})]}),i.jsx("p",{className:"text-center text-xs lg:text-sm text-gray-500 mt-6 lg:mt-8",children:"* Estimates only. Actual returns may vary."})]})})}function M6({user:t,setUser:e,onLogout:n}){const[s,r]=D.useState("profile"),[a,o]=D.useState({name:t.name,email:t.email,phone:t.phone,address:t.address}),[l,c]=D.useState({current:"",new:"",confirm:""}),[d,h]=D.useState({current:!1,new:!1,confirm:!1}),[f,p]=D.useState("pending"),[v,E]=D.useState(1),[w,k]=D.useState({fullName:(t==null?void 0:t.name)||"",dateOfBirth:"",idNumber:"",idType:"",idFront:null,idBack:null,selfie:null}),[S,y]=D.useState(!1),[b,P]=D.useState(!1),[M,B]=D.useState(!1),[I,_]=D.useState(()=>un.is2FAEnabled(t==null?void 0:t.uid)),[T,C]=D.useState(!1),[R,L]=D.useState(""),[A,fe]=D.useState(!1),oe=D.useRef(null);D.useRef(null),D.useRef(null),D.useRef(null),D.useEffect(()=>{if(t!=null&&t.uid){const O=JSON.parse(localStorage.getItem(`kyc_${t.uid}`)||"{}");O.status&&(p(O.status),k(le=>({...le,...O})))}},[t==null?void 0:t.uid]);const ue=(O,le)=>{var qe;const ae=(qe=O.target.files)==null?void 0:qe[0];if(console.log(` KYC Upload - Field: ${le}, File:`,ae),!ae){console.log(" No file selected");return}if(ae.size>5*1024*1024){alert("File size must be less than 5MB");return}if(!["image/jpeg","image/png","image/jpg","image/gif","image/webp","application/pdf"].includes(ae.type)){alert("Please upload an image (JPG, PNG) or PDF file");return}const xe=new FileReader;xe.onload=()=>{console.log(` File loaded for ${le}`),k(Et=>({...Et,[le]:xe.result}))},xe.onerror=()=>{console.error(" Error reading file"),alert("Error reading file. Please try again.")},xe.readAsDataURL(ae)},re=h6(),V=l1[re]||"English",$=async()=>{try{const O={...t,...a};await K.updateUser(t.uid,a),localStorage.setItem(`user_${t.uid}`,JSON.stringify(O)),localStorage.setItem("saxovault_current_user",JSON.stringify(O)),e(O),y(!0),setTimeout(()=>y(!1),3e3),console.log(" Profile saved successfully")}catch(O){console.error(" Error saving profile:",O),alert("Error saving profile. Please try again.")}},ee=async()=>{if(!l.current){alert("Please enter your current password");return}if(!l.new){alert("Please enter a new password");return}if(l.new!==l.confirm){alert("New passwords do not match!");return}const O=l.new.length>=8,le=/[A-Z]/.test(l.new),ae=/[a-z]/.test(l.new),_e=/[0-9]/.test(l.new);if(/[^A-Za-z0-9]/.test(l.new),!O||!le||!ae||!_e){alert(` Password does not meet requirements!

Your password must have:
 At least 8 characters
 One uppercase letter (A-Z)
 One lowercase letter (a-z)
 One number (0-9)
 One special character (!@#$%^&*) - recommended`);return}try{const xe=JSON.parse(localStorage.getItem(`user_${t.uid}`)||"{}"),qe=K.getUsers(),Et=qe.find(Tt=>Tt.uid===t.uid),Ee=xe.passwordHash||(Et==null?void 0:Et.passwordHash),rt=btoa(l.current);if(Ee){if(Ee!==rt){alert(` Current password is incorrect!

The password you entered does not match your current password.`);return}console.log(" Current password verified")}else{console.log(" First time password setup - no existing hash found");const Tt=btoa(l.current);await K.updateUser(t.uid,{initialPasswordHash:Tt,passwordSetupDate:new Date().toISOString()})}const Dt=btoa(l.new);await K.updateUser(t.uid,{passwordHash:Dt,passwordLastChanged:new Date().toISOString()});const lt={...xe,...t,passwordHash:Dt,passwordLastChanged:new Date().toISOString()};localStorage.setItem(`user_${t.uid}`,JSON.stringify(lt)),localStorage.setItem("saxovault_current_user",JSON.stringify(lt));const Qt=qe.map(Tt=>Tt.uid===t.uid?{...Tt,passwordHash:Dt,passwordLastChanged:new Date().toISOString()}:Tt);K.setUsers(Qt),e(lt),y(!0),c({current:"",new:"",confirm:""}),setTimeout(()=>y(!1),3e3),alert(` Password Updated Successfully!

Your new password has been saved. Please use this password for future logins.`),console.log(" Password updated in all storage locations")}catch(xe){console.error(" Error changing password:",xe),alert("Error changing password. Please try again.")}},Y=async O=>{var ae;const le=(ae=O.target.files)==null?void 0:ae[0];if(le){if(le.size>2*1024*1024){alert("Image size must be less than 2MB");return}P(!0);const _e=new FileReader;_e.onload=async()=>{try{const xe=_e.result;await K.updateUser(t.uid,{profileImage:xe});const qe={...t,profileImage:xe};localStorage.setItem(`user_${t.uid}`,JSON.stringify(qe)),localStorage.setItem("saxovault_current_user",JSON.stringify(qe)),e(qe),P(!1),console.log(" Profile image saved")}catch(xe){console.error(" Error saving profile image:",xe),alert("Error saving profile image. Please try again."),P(!1)}},_e.readAsDataURL(le)}},G=async()=>{if(!w.fullName||!w.idNumber||!w.idType){alert("Please fill in all personal information fields"),E(1);return}if(!w.idFront||!w.idBack){alert("Please upload both front and back of your ID"),E(2);return}if(!w.selfie){alert("Please upload a selfie with your ID");return}P(!0);try{const O={...w,status:"submitted",userId:t.uid,userEmail:t.email,submittedAt:new Date().toISOString()};localStorage.setItem(`kyc_${t.uid}`,JSON.stringify(O));const le=JSON.parse(localStorage.getItem("saxovault_kyc_submissions")||"[]");le.unshift(O),localStorage.setItem("saxovault_kyc_submissions",JSON.stringify(le)),await Te.sendKYCNotification(t.email,w.fullName,w.idType),p("submitted"),alert(" KYC documents submitted successfully! You will be notified once verified.")}catch(O){console.error("KYC submission error:",O),alert("Error submitting KYC. Please try again.")}finally{P(!1)}},ce=[{id:"profile",label:"Profile",icon:Bl},{id:"security",label:"Security",icon:pa},{id:"language",label:"Language",icon:ma},{id:"kyc",label:"KYC",icon:Ar},{id:"notifications",label:"Alerts",icon:Ts}];return i.jsx("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:N.cream},children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4 lg:px-6",children:[i.jsx("div",{className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl overflow-hidden mb-6",children:i.jsxs("div",{className:"p-6 lg:p-8 text-center",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:[i.jsxs("div",{className:"relative inline-block",children:[i.jsx("div",{className:"w-20 h-20 lg:w-24 lg:h-24 mx-auto rounded-full flex items-center justify-center text-3xl lg:text-4xl font-bold text-white overflow-hidden",style:{background:`linear-gradient(135deg, ${N.gold} 0%, ${N.goldDark} 100%)`},children:t.profileImage?i.jsx("img",{src:t.profileImage,alt:"",className:"w-full h-full object-cover"}):t.name.charAt(0)}),i.jsx("button",{onClick:()=>{var O;return(O=oe.current)==null?void 0:O.click()},className:"absolute bottom-0 right-0 w-8 h-8 rounded-full bg-white shadow-lg flex items-center justify-center",children:b?i.jsx(In,{className:"w-4 h-4 animate-spin",style:{color:N.navy}}):i.jsx(Vm,{className:"w-4 h-4",style:{color:N.navy}})}),i.jsx("input",{ref:oe,type:"file",accept:"image/*",onChange:Y,className:"hidden"})]}),i.jsx("h2",{className:"text-xl lg:text-2xl font-serif text-white mt-3",children:t.name}),i.jsx("p",{className:"text-white/60 text-sm",children:t.email}),i.jsxs("div",{className:"inline-flex items-center gap-2 mt-2 px-3 py-1 rounded-full",style:{background:`${N.green}30`},children:[i.jsx(Ke,{className:"w-3.5 h-3.5",style:{color:N.green}}),i.jsx("span",{style:{color:N.green},className:"text-xs font-medium",children:"Verified Investor"})]})]})}),i.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2 -mx-4 px-4 lg:mx-0 lg:px-0",children:ce.map(O=>i.jsxs("button",{onClick:()=>r(O.id),className:`flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium text-sm whitespace-nowrap transition-all ${s===O.id?"text-white shadow-lg":"bg-white text-gray-600"}`,style:s===O.id?{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`}:{},children:[i.jsx(O.icon,{className:"w-4 h-4"}),O.label]},O.id))}),s==="profile"&&i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-5 lg:p-8",children:[i.jsx("h2",{className:"font-serif text-lg lg:text-2xl mb-4 lg:mb-6",style:{color:N.navy},children:"Profile Information"}),i.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 lg:gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-700 mb-1.5 lg:mb-2",children:"Full Name"}),i.jsx("input",{type:"text",value:a.name,onChange:O=>o({...a,name:O.target.value}),className:"w-full px-4 py-2.5 lg:py-3 border border-gray-200 rounded-xl focus:outline-none text-sm lg:text-base"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-700 mb-1.5 lg:mb-2",children:"Email Address"}),i.jsx("input",{type:"email",value:a.email,onChange:O=>o({...a,email:O.target.value}),className:"w-full px-4 py-2.5 lg:py-3 border border-gray-200 rounded-xl focus:outline-none text-sm lg:text-base"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-700 mb-1.5 lg:mb-2",children:"Phone Number"}),i.jsx("input",{type:"tel",value:a.phone,onChange:O=>o({...a,phone:O.target.value}),className:"w-full px-4 py-2.5 lg:py-3 border border-gray-200 rounded-xl focus:outline-none text-sm lg:text-base"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-700 mb-1.5 lg:mb-2",children:"Address"}),i.jsx("input",{type:"text",value:a.address,onChange:O=>o({...a,address:O.target.value}),className:"w-full px-4 py-2.5 lg:py-3 border border-gray-200 rounded-xl focus:outline-none text-sm lg:text-base"})]})]}),i.jsx(U.button,{onClick:$,whileHover:{scale:1.02},whileTap:{scale:.98},className:"mt-6 px-6 lg:px-8 py-2.5 lg:py-3 rounded-xl text-white font-semibold flex items-center gap-2 text-sm lg:text-base",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:S?i.jsxs(i.Fragment,{children:[i.jsx(Ke,{className:"w-4 h-4 lg:w-5 lg:h-5"})," Saved!"]}):i.jsx(i.Fragment,{children:"Save Changes"})})]}),s==="security"&&i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-5 lg:p-8",children:[i.jsx("h2",{className:"font-serif text-lg lg:text-2xl mb-2",style:{color:N.navy},children:"Change Password"}),i.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Update your password to keep your account secure"}),i.jsxs("div",{className:"space-y-4 max-w-md",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-700 mb-1.5 lg:mb-2",children:"Current Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(br,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 lg:w-5 lg:h-5 text-gray-400"}),i.jsx("input",{type:d.current?"text":"password",value:l.current,onChange:O=>c({...l,current:O.target.value}),className:"w-full pl-11 lg:pl-12 pr-12 py-2.5 lg:py-3 border border-gray-200 rounded-xl focus:outline-none text-sm lg:text-base",placeholder:"Enter current password"}),i.jsx("button",{type:"button",onClick:()=>h({...d,current:!d.current}),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400",children:d.current?i.jsx(tu,{className:"w-4 h-4 lg:w-5 lg:h-5"}):i.jsx(nu,{className:"w-4 h-4 lg:w-5 lg:h-5"})})]}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:(()=>{const O=JSON.parse(localStorage.getItem(`user_${t.uid}`)||"{}"),ae=JSON.parse(localStorage.getItem("saxovault_users")||"[]").find(xe=>xe.uid===t.uid);return O.passwordHash||(ae==null?void 0:ae.passwordHash)?"Enter your current password to verify":" First time? Enter any password to set up password verification"})()})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-700 mb-1.5 lg:mb-2",children:"New Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ju,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 lg:w-5 lg:h-5 text-gray-400"}),i.jsx("input",{type:d.new?"text":"password",value:l.new,onChange:O=>c({...l,new:O.target.value}),className:"w-full pl-11 lg:pl-12 pr-12 py-2.5 lg:py-3 border border-gray-200 rounded-xl focus:outline-none text-sm lg:text-base",placeholder:"Create new password"}),i.jsx("button",{type:"button",onClick:()=>h({...d,new:!d.new}),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400",children:d.new?i.jsx(tu,{className:"w-4 h-4 lg:w-5 lg:h-5"}):i.jsx(nu,{className:"w-4 h-4 lg:w-5 lg:h-5"})})]}),l.new&&i.jsxs("div",{className:"mt-3 space-y-2",children:[i.jsx("div",{className:"flex gap-1",children:[1,2,3,4].map(O=>{const le=(()=>{let xe=0;return l.new.length>=8&&xe++,/[A-Z]/.test(l.new)&&xe++,/[a-z]/.test(l.new)&&xe++,/[0-9]/.test(l.new)&&xe++,/[^A-Za-z0-9]/.test(l.new)&&xe++,xe})(),ae=["#ef4444","#f97316","#eab308","#22c55e"],_e=O<=le;return i.jsx("div",{className:"flex-1 h-1.5 rounded-full transition-all",style:{background:_e?ae[Math.min(le-1,3)]:"#e5e7eb"}},O)})}),i.jsx("p",{className:"text-xs",style:{color:(()=>{let O=0;return l.new.length>=8&&O++,/[A-Z]/.test(l.new)&&O++,/[a-z]/.test(l.new)&&O++,/[0-9]/.test(l.new)&&O++,/[^A-Za-z0-9]/.test(l.new)&&O++,O<=1?"#ef4444":O<=2?"#f97316":O<=3?"#eab308":"#22c55e"})()},children:(()=>{let O=0;return l.new.length>=8&&O++,/[A-Z]/.test(l.new)&&O++,/[a-z]/.test(l.new)&&O++,/[0-9]/.test(l.new)&&O++,/[^A-Za-z0-9]/.test(l.new)&&O++,O<=1?"Weak password":O<=2?"Fair password":O<=3?"Good password":"Strong password"})()}),i.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 space-y-1.5",children:[i.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Password Requirements:"}),[{label:"At least 8 characters",check:l.new.length>=8},{label:"One uppercase letter (A-Z)",check:/[A-Z]/.test(l.new)},{label:"One lowercase letter (a-z)",check:/[a-z]/.test(l.new)},{label:"One number (0-9)",check:/[0-9]/.test(l.new)},{label:"One special character (!@#$%^&*)",check:/[^A-Za-z0-9]/.test(l.new)}].map((O,le)=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-4 h-4 rounded-full flex items-center justify-center ${O.check?"bg-green-500":"bg-gray-300"}`,children:O.check&&i.jsx(cn,{className:"w-3 h-3 text-white"})}),i.jsx("span",{className:`text-xs ${O.check?"text-green-600":"text-gray-500"}`,children:O.label})]},le))]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-700 mb-1.5 lg:mb-2",children:"Confirm New Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ju,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 lg:w-5 lg:h-5 text-gray-400"}),i.jsx("input",{type:d.confirm?"text":"password",value:l.confirm,onChange:O=>c({...l,confirm:O.target.value}),className:`w-full pl-11 lg:pl-12 pr-12 py-2.5 lg:py-3 border rounded-xl focus:outline-none text-sm lg:text-base ${l.confirm&&l.new===l.confirm?"border-green-500 bg-green-50":l.confirm&&l.new!==l.confirm?"border-red-500 bg-red-50":"border-gray-200"}`,placeholder:"Re-enter new password"}),i.jsx("button",{type:"button",onClick:()=>h({...d,confirm:!d.confirm}),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400",children:d.confirm?i.jsx(tu,{className:"w-4 h-4 lg:w-5 lg:h-5"}):i.jsx(nu,{className:"w-4 h-4 lg:w-5 lg:h-5"})}),l.confirm&&i.jsx("div",{className:`absolute right-12 top-1/2 -translate-y-1/2 w-5 h-5 rounded-full flex items-center justify-center ${l.new===l.confirm?"bg-green-500":"bg-red-500"}`,children:l.new===l.confirm?i.jsx(cn,{className:"w-3 h-3 text-white"}):i.jsx(Bt,{className:"w-3 h-3 text-white"})})]}),l.confirm&&l.new!==l.confirm&&i.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Passwords do not match"}),l.confirm&&l.new===l.confirm&&i.jsx("p",{className:"text-xs text-green-500 mt-1",children:" Passwords match"})]})]}),i.jsx(U.button,{onClick:ee,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:!l.current||!l.new||!l.confirm||l.new!==l.confirm,className:"mt-6 px-6 lg:px-8 py-2.5 lg:py-3 rounded-xl text-white font-semibold flex items-center gap-2 text-sm lg:text-base disabled:opacity-50 disabled:cursor-not-allowed",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:S?i.jsxs(i.Fragment,{children:[i.jsx(Ke,{className:"w-4 h-4 lg:w-5 lg:h-5"})," Updated!"]}):i.jsxs(i.Fragment,{children:[i.jsx(br,{className:"w-4 h-4 lg:w-5 lg:h-5"})," Update Password"]})})]}),i.jsxs("div",{className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-5 lg:p-8",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-lg lg:text-xl mb-1 lg:mb-2",style:{color:N.navy},children:"Two-Factor Authentication"}),i.jsx("p",{className:"text-gray-500 text-xs lg:text-sm",children:"Adds an extra security layer - you'll receive a verification code via email each time you login."})]}),i.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${I?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:I?" Enabled":"Disabled"})]}),I?i.jsxs(U.button,{onClick:async()=>{confirm("Are you sure you want to disable 2FA? This will make your account less secure.")&&(await un.disable2FA(t==null?void 0:t.uid),_(!1),alert("2FA has been disabled."))},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 rounded-xl font-medium flex items-center justify-center gap-2 bg-red-50 text-red-600",children:[i.jsx(pa,{className:"w-4 h-4"})," Disable 2FA"]}):i.jsx("div",{children:T?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("p",{className:"text-sm text-gray-600",children:["A verification code has been sent to ",i.jsx("strong",{children:t==null?void 0:t.email})]}),i.jsx("input",{type:"text",value:R,onChange:O=>L(O.target.value.replace(/\D/g,"").slice(0,6)),className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-center text-2xl font-mono tracking-widest",placeholder:"000000",maxLength:"6"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>C(!1),className:"flex-1 py-2.5 rounded-xl border border-gray-200 text-sm",children:"Cancel"}),i.jsx(U.button,{onClick:async()=>{const O=un.verify2FACode(t==null?void 0:t.uid,R);O.valid?(await un.enable2FA(t==null?void 0:t.uid),_(!0),C(!1),L(""),alert(` Two-Factor Authentication enabled!

You will now receive a verification code via email each time you log in.`)):alert(" "+O.message)},whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl text-white text-sm font-medium",style:{background:N.green},children:A?"Verifying...":"Verify & Enable"})]}),i.jsx("button",{onClick:async()=>{fe(!0);const O=await un.send2FACode(t==null?void 0:t.uid,t==null?void 0:t.email);fe(!1),O.success?alert(" New code sent!"):alert(" Failed to resend code.")},className:"w-full text-sm text-blue-600 hover:underline",disabled:A,children:"Didn't receive code? Resend"})]}):i.jsx(U.button,{onClick:async()=>{fe(!0);try{(await un.send2FACode(t==null?void 0:t.uid,t==null?void 0:t.email)).success?C(!0):alert(" Failed to send verification code. Please try again.")}catch{alert(" Failed to send verification code. Please try again.")}fe(!1)},whileHover:{scale:1.02},whileTap:{scale:.98},disabled:A,className:"w-full py-3 rounded-xl font-medium flex items-center justify-center gap-2 disabled:opacity-50",style:{background:`${N.green}15`,color:N.green},children:A?i.jsxs(i.Fragment,{children:[i.jsx(In,{className:"w-4 h-4 animate-spin"})," Sending Code..."]}):i.jsxs(i.Fragment,{children:[i.jsx(pa,{className:"w-4 h-4"})," Enable 2FA"]})})})]}),i.jsxs("div",{className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-5 lg:p-8",children:[i.jsx("h2",{className:"font-serif text-lg lg:text-xl mb-4 lg:mb-6",style:{color:N.navy},children:"Login Activity"}),i.jsx("div",{className:"space-y-3",children:[{device:"Chrome on Windows",location:"New York",time:"Now",current:!0},{device:"Safari on iPhone",location:"New York",time:"1 day ago",current:!1}].map((O,le)=>i.jsxs("div",{className:"flex items-center justify-between p-3 lg:p-4 bg-gray-50 rounded-xl",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(oN,{className:"w-5 h-5 text-gray-400"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",style:{color:N.navy},children:O.device}),i.jsxs("p",{className:"text-xs text-gray-500",children:[O.location,"  ",O.time]})]})]}),O.current&&i.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium",style:{background:`${N.green}15`,color:N.green},children:"Current"})]},le))})]})]}),s==="language"&&i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-5 lg:p-8",children:[i.jsx("h2",{className:"font-serif text-lg lg:text-2xl mb-2",style:{color:N.navy},children:"Language Settings"}),i.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Select your preferred language"}),i.jsx("div",{className:"p-4 rounded-xl mb-6",style:{background:`${N.gold}15`},children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:N.gold},children:i.jsx(ma,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",style:{color:N.navy},children:"Current Language"}),i.jsx("p",{className:"text-sm text-gray-500",children:V})]})]})}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 max-h-[400px] overflow-y-auto",children:Object.entries(l1).map(([O,le])=>i.jsxs("button",{onClick:()=>{localStorage.setItem("saxovault_language",O),window.location.reload()},className:`p-3 rounded-xl text-left text-sm font-medium transition-all ${re===O?"text-white shadow-lg":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,style:re===O?{background:N.navy}:{},children:[le,re===O&&i.jsx(cn,{className:"w-4 h-4 inline ml-2"})]},O))}),i.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl",children:i.jsxs("p",{className:"text-sm text-blue-700",children:[i.jsx(V4,{className:"w-4 h-4 inline mr-2"}),"Language is automatically detected from your browser settings. You can manually change it above."]})})]}),s==="kyc"&&i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-5 lg:p-8",children:[i.jsx("h2",{className:"font-serif text-lg lg:text-2xl mb-2",style:{color:N.navy},children:"KYC Verification"}),i.jsx("p",{className:"text-gray-500 text-sm mb-6 lg:mb-8",children:"Complete verification to unlock all features"}),f==="verified"?i.jsxs("div",{className:"text-center py-8 lg:py-12",children:[i.jsx("div",{className:"w-20 h-20 lg:w-24 lg:h-24 mx-auto rounded-full flex items-center justify-center mb-4 lg:mb-6",style:{background:`${N.green}20`},children:i.jsx(Ke,{className:"w-12 h-12 lg:w-14 lg:h-14",style:{color:N.green}})}),i.jsx("h3",{className:"font-serif text-xl lg:text-2xl mb-2",style:{color:N.navy},children:"Verified"}),i.jsx("p",{className:"text-gray-500 text-sm",children:"Your identity has been verified."})]}):f==="submitted"?i.jsxs("div",{className:"text-center py-8 lg:py-12",children:[i.jsx("div",{className:"w-20 h-20 lg:w-24 lg:h-24 mx-auto rounded-full flex items-center justify-center mb-4 lg:mb-6",style:{background:`${N.gold}20`},children:i.jsx(Si,{className:"w-12 h-12 lg:w-14 lg:h-14",style:{color:N.gold}})}),i.jsx("h3",{className:"font-serif text-xl lg:text-2xl mb-2",style:{color:N.navy},children:"Under Review"}),i.jsx("p",{className:"text-gray-500 text-sm",children:"We're reviewing your documents (1-2 business days)."})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex items-center justify-center mb-6 lg:mb-8",children:[1,2,3].map(O=>i.jsxs(vd.Fragment,{children:[i.jsx("div",{className:`w-8 h-8 lg:w-10 lg:h-10 rounded-full flex items-center justify-center font-bold text-sm ${v>=O?"text-white":"bg-gray-200 text-gray-500"}`,style:v>=O?{background:N.navy}:{},children:v>O?i.jsx(cn,{className:"w-4 h-4"}):O}),O<3&&i.jsx("div",{className:`w-12 lg:w-20 h-1 mx-1 lg:mx-2 ${v>O?"bg-green-500":"bg-gray-200"}`})]},O))}),v===1&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold",style:{color:N.navy},children:"Personal Information"}),i.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Full Legal Name"}),i.jsx("input",{type:"text",value:w.fullName,onChange:O=>k({...w,fullName:O.target.value}),placeholder:"As shown on ID",className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Date of Birth"}),i.jsx("input",{type:"date",value:w.dateOfBirth,onChange:O=>k({...w,dateOfBirth:O.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:"ID Number"}),i.jsx("input",{type:"text",value:w.idNumber,onChange:O=>k({...w,idNumber:O.target.value}),placeholder:"Enter your ID number",className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:"ID Type"}),i.jsxs("select",{value:w.idType,onChange:O=>k({...w,idType:O.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"Select ID Type"}),i.jsx("option",{value:"passport",children:"International Passport"}),i.jsx("option",{value:"drivers_license",children:"Driver's License"}),i.jsx("option",{value:"national_id",children:"National ID Card"}),i.jsx("option",{value:"residence_permit",children:"Residence Permit"})]})]})]})]}),v===2&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold",style:{color:N.navy},children:"Upload Documents"}),i.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Take photos of your ID or upload existing images"}),i.jsxs("label",{className:"block cursor-pointer",children:[i.jsx("input",{type:"file",accept:"image/*,application/pdf",capture:"environment",onChange:O=>ue(O,"idFront"),className:"hidden"}),i.jsx("div",{className:`border-2 border-dashed rounded-2xl p-6 lg:p-8 text-center hover:border-gray-400 transition-colors ${w.idFront?"border-green-400 bg-green-50":"border-gray-200"}`,children:w.idFront?i.jsxs(i.Fragment,{children:[i.jsx(cn,{className:"w-10 h-10 mx-auto text-green-500 mb-3"}),i.jsx("p",{className:"font-medium text-sm text-green-600",children:"ID Front Uploaded "}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tap to change"})]}):i.jsxs(i.Fragment,{children:[i.jsx(is,{className:"w-10 h-10 mx-auto text-gray-400 mb-3"}),i.jsx("p",{className:"font-medium text-sm",style:{color:N.navy},children:"Upload ID (Front)"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tap to take photo or select file"})]})})]}),i.jsxs("label",{className:"block cursor-pointer",children:[i.jsx("input",{type:"file",accept:"image/*,application/pdf",capture:"environment",onChange:O=>ue(O,"idBack"),className:"hidden"}),i.jsx("div",{className:`border-2 border-dashed rounded-2xl p-6 lg:p-8 text-center hover:border-gray-400 transition-colors ${w.idBack?"border-green-400 bg-green-50":"border-gray-200"}`,children:w.idBack?i.jsxs(i.Fragment,{children:[i.jsx(cn,{className:"w-10 h-10 mx-auto text-green-500 mb-3"}),i.jsx("p",{className:"font-medium text-sm text-green-600",children:"ID Back Uploaded "}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tap to change"})]}):i.jsxs(i.Fragment,{children:[i.jsx(is,{className:"w-10 h-10 mx-auto text-gray-400 mb-3"}),i.jsx("p",{className:"font-medium text-sm",style:{color:N.navy},children:"Upload ID (Back)"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tap to take photo or select file"})]})})]})]}),v===3&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold",style:{color:N.navy},children:"Take a Selfie"}),i.jsx("p",{className:"text-gray-500 text-sm",children:"Hold your ID next to your face"}),i.jsxs("label",{className:"block cursor-pointer",children:[i.jsx("input",{type:"file",accept:"image/*",capture:"user",onChange:O=>ue(O,"selfie"),className:"hidden"}),i.jsx("div",{className:`border-2 border-dashed rounded-2xl p-8 lg:p-12 text-center hover:border-gray-400 transition-colors ${w.selfie?"border-green-400 bg-green-50":"border-gray-200"}`,children:w.selfie?i.jsxs(i.Fragment,{children:[i.jsx("img",{src:w.selfie,alt:"Selfie preview",className:"w-32 h-32 mx-auto rounded-xl object-cover mb-3"}),i.jsx("p",{className:"font-medium text-sm text-green-600",children:"Selfie Uploaded "}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tap to change"})]}):i.jsxs(i.Fragment,{children:[i.jsx(Vm,{className:"w-14 h-14 mx-auto text-gray-400 mb-3"}),i.jsx("p",{className:"font-medium text-sm",style:{color:N.navy},children:"Take or Upload Selfie"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tap to open camera or select photo"})]})})]})]}),i.jsxs("div",{className:"flex justify-between mt-6 lg:mt-8",children:[v>1&&i.jsx("button",{onClick:()=>E(v-1),className:"px-6 py-2.5 rounded-xl font-medium text-gray-600 hover:bg-gray-100 text-sm",children:"Back"}),i.jsx(U.button,{onClick:()=>v<3?E(v+1):G(),whileHover:{scale:1.02},whileTap:{scale:.98},disabled:b,className:"ml-auto px-6 lg:px-8 py-2.5 lg:py-3 rounded-xl text-white font-semibold text-sm disabled:opacity-50",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:b?"Submitting...":v===3?"Submit KYC":"Continue"})]})]})]}),s==="notifications"&&i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-5 lg:p-8",children:[i.jsx("h2",{className:"font-serif text-lg lg:text-2xl mb-4 lg:mb-6",style:{color:N.navy},children:"Notifications"}),i.jsx("div",{className:"space-y-4",children:[{title:"Investment Updates",desc:"Portfolio performance alerts",enabled:!0},{title:"New Opportunities",desc:"New investment alerts",enabled:!0},{title:"Payouts",desc:"Payout notifications",enabled:!0},{title:"Referral Bonuses",desc:"Earn alerts from referrals",enabled:!0},{title:"Marketing",desc:"Promotional emails",enabled:!1}].map((O,le)=>i.jsxs("div",{className:"flex items-center justify-between p-3 lg:p-4 bg-gray-50 rounded-xl",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",style:{color:N.navy},children:O.title}),i.jsx("p",{className:"text-xs text-gray-500",children:O.desc})]}),i.jsx("button",{className:`w-11 h-6 lg:w-12 lg:h-7 rounded-full transition-colors ${O.enabled?"":"bg-gray-300"}`,style:O.enabled?{background:N.green}:{},children:i.jsx("div",{className:`w-4 h-4 lg:w-5 lg:h-5 bg-white rounded-full shadow transition-transform ${O.enabled?"translate-x-6":"translate-x-1"}`})})]},le))})]}),i.jsxs(U.button,{onClick:n,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full mt-6 py-3.5 rounded-xl text-red-500 font-semibold bg-red-50 flex items-center justify-center gap-2 lg:hidden",children:[i.jsx(ka,{className:"w-5 h-5"})," Logout"]})]})})}const c1={email:"saxovaultadmin@saxovault.com",password:"SaxoAdmin2024!"},K={getUsers:()=>JSON.parse(localStorage.getItem("saxovault_users")||"[]"),setUsers:t=>localStorage.setItem("saxovault_users",JSON.stringify(t)),fetchUsersFromCloud:async()=>{try{const t=await zE();return t.success?(localStorage.setItem("saxovault_users",JSON.stringify(t.data)),t.data):K.getUsers()}catch(t){return console.error("Error fetching users from cloud:",t),K.getUsers()}},getTransactions:()=>{try{const t=localStorage.getItem("saxovault_transactions"),e=JSON.parse(t||"[]");return Array.isArray(e)?e:[]}catch(t){return console.error("Error parsing transactions:",t),[]}},setTransactions:t=>{let e=Array.isArray(t)?t:[];const n=new Map;e.forEach(r=>{const a=r.firestoreId||r.id||`${r.createdAt}_${r.amount}_${r.userEmail}_${r.type}`;if(n.has(a)){const o=n.get(a),l=new Date(o.updatedAt||o.createdAt||0).getTime();new Date(r.updatedAt||r.createdAt||0).getTime()>l&&n.set(a,r)}else n.set(a,r)});const s=Array.from(n.values());localStorage.setItem("saxovault_transactions",JSON.stringify(s))},fetchTransactionsFromCloud:async()=>{try{const t=await WE();return t.success?(localStorage.setItem("saxovault_transactions",JSON.stringify(t.data)),t.data):K.getTransactions()}catch(t){return console.error("Error fetching transactions from cloud:",t),K.getTransactions()}},addTransaction:async t=>{var o;console.log(" Adding new transaction:",t.type);const e=Date.now().toString();let n={...t,id:e,localId:e,createdAt:new Date().toISOString(),status:"pending"};const s=K.getTransactions(),r=new Date(Date.now()-5e3).toISOString();if(s.some(l=>l.userEmail===t.userEmail&&l.amount===t.amount&&l.type===t.type&&l.createdAt>r))return console.warn(" Duplicate transaction detected, skipping..."),s.find(l=>l.userEmail===t.userEmail&&l.amount===t.amount&&l.type===t.type);try{const l=await HE(n);l.success&&l.id&&(n.id=l.id,n.firestoreId=l.id,console.log(" Transaction saved to Firestore with ID:",l.id))}catch(l){console.error(" Error saving to Firestore:",l)}try{let l=K.getTransactions();Array.isArray(l)||(console.warn(" Transactions was not an array, resetting..."),l=[]),l.unshift(n),K.setTransactions(l),console.log(" Transaction saved to localStorage")}catch(l){console.error(" Error saving to localStorage:",l);try{K.setTransactions([n])}catch(c){console.error(" Critical: Could not save transaction:",c)}}return K.notifyAdmin({type:t.type,title:`New ${t.type} Request`,message:`$${(o=t.amount)==null?void 0:o.toLocaleString()} ${t.type} from ${t.userEmail||"user"}`,urgent:!0,actionRequired:!0}),n},updateTransaction:async(t,e)=>{console.log(" Updating transaction:",t,e);const n=K.getTransactions(),s=n.findIndex(l=>l.id===t||l.firestoreId===t||l.localId===t);if(s===-1)return console.error(" Transaction not found:",t),{success:!1,error:"Transaction not found"};const r=n[s],a=r.firestoreId||r.id||t,o={...r,...e,updatedAt:new Date().toISOString()};n[s]=o,K.setTransactions(n),console.log(" Transaction updated in localStorage:",o.status);try{await up(a,e),console.log(" Transaction updated in Firestore with ID:",a)}catch(l){if(console.error(" Firestore update error (localStorage already updated):",l),r.id&&r.id!==a)try{await up(r.id,e),console.log(" Transaction updated with alternate ID:",r.id)}catch(c){console.error(" Alternate Firestore update failed:",c)}}return{success:!0,transaction:o}},updateUser:async(t,e)=>{try{await Py(t,e),console.log(" User updated in Firestore")}catch(s){console.error(" Error updating user in Firestore:",s)}const n=localStorage.getItem(`user_${t}`);if(n){const s=JSON.parse(n);localStorage.setItem(`user_${t}`,JSON.stringify({...s,...e}))}},getSettings:()=>JSON.parse(localStorage.getItem("saxovault_settings")||JSON.stringify({wallets:{btc:"bc1qzmgg6hw0fttfpczh2whp8f44k497d6pucghk58",eth:"0x83057882eC7B7EE0cBe63C2fE2b8957e7ab69655",usdt:"TLGH9FucAuPNUoQw2XUFEDtCg4FFdJ2jKG"},whatsapp:"+14642395280",email:"support@saxovault.com",siteName:"SaxoVault Capital"})),setSettings:t=>localStorage.setItem("saxovault_settings",JSON.stringify(t)),getNotifications:()=>JSON.parse(localStorage.getItem("saxovault_notifications")||"[]"),addNotification:t=>{const e=K.getNotifications();e.unshift({...t,id:Date.now(),read:!1,createdAt:new Date().toISOString()}),localStorage.setItem("saxovault_notifications",JSON.stringify(e.slice(0,100)))},getAdminNotifications:()=>JSON.parse(localStorage.getItem("saxovault_admin_notifs")||"[]"),notifyAdmin:t=>{const e=K.getAdminNotifications(),n={...t,id:Date.now(),read:!1,createdAt:new Date().toISOString()};if(e.unshift(n),localStorage.setItem("saxovault_admin_notifs",JSON.stringify(e.slice(0,200))),localStorage.getItem("saxovault_admin")==="true")try{const s=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2teleQABMjV4wdvqhBwIPnyV0+TkeEU5Un+13e6ZRxcnOFJsocHn04FGNjBIYZi+4t6QSjE0SGqay+LYglM4M0NTfqrN3tCMaD0wP0pqpcnc3I5kOC9AWGyiwtff");s.volume=.3,s.play().catch(()=>{})}catch{}return n},markAdminNotifRead:t=>{const n=K.getAdminNotifications().map(s=>s.id===t?{...s,read:!0}:s);localStorage.setItem("saxovault_admin_notifs",JSON.stringify(n))},queueEmail:t=>{const e=JSON.parse(localStorage.getItem("saxovault_email_queue")||"[]");e.push({...t,id:Date.now(),status:"queued",createdAt:new Date().toISOString()}),localStorage.setItem("saxovault_email_queue",JSON.stringify(e))},logActivity:(t,e,n)=>{try{let s=JSON.parse(localStorage.getItem("saxovault_activity_logs")||"[]");Array.isArray(s)||(console.warn("Activity logs was not an array, resetting..."),s=[]),s.unshift({id:Date.now(),userId:t,action:e,details:n,ip:"xxx.xxx.xxx.xxx",userAgent:navigator.userAgent,createdAt:new Date().toISOString()}),localStorage.setItem("saxovault_activity_logs",JSON.stringify(s.slice(0,500)))}catch(s){console.error("Error logging activity:",s),localStorage.setItem("saxovault_activity_logs",JSON.stringify([]))}},getActivityLogs:t=>{const e=JSON.parse(localStorage.getItem("saxovault_activity_logs")||"[]");return t?e.filter(n=>n.userId===t):e},getAutoInvestPlans:t=>{const e=JSON.parse(localStorage.getItem("saxovault_autoinvest")||"[]");return t?e.filter(n=>n.userId===t):e},saveAutoInvestPlan:t=>{const e=K.getAutoInvestPlans(),n=e.findIndex(s=>s.id===t.id);n>=0?e[n]=t:e.push({...t,id:Date.now(),createdAt:new Date().toISOString()}),localStorage.setItem("saxovault_autoinvest",JSON.stringify(e))},deleteAutoInvestPlan:t=>{const e=K.getAutoInvestPlans().filter(n=>n.id!==t);localStorage.setItem("saxovault_autoinvest",JSON.stringify(e))}},gt={publicKey:"trmaHaGeZzBpjKtaj",serviceId:"service_59y54de",templateId:"template_kskirgx",adminEmail:"saxovault6@gmail.com"};let lr=!1;try{qu.init(gt.publicKey),lr=!0,console.log(" EmailJS initialized successfully"),console.log(" Admin email:",gt.adminEmail)}catch(t){console.error(" EmailJS init failed:",t)}const Te={getAdminEmail:()=>gt.adminEmail,isReady:()=>lr,testEmail:async t=>{if(console.log(" ========== EMAIL TEST START =========="),console.log(" Testing EmailJS with:",t),console.log(" Service ID:",gt.serviceId),console.log(" Template ID:",gt.templateId),console.log(" Public Key:",gt.publicKey),console.log(" EmailJS Initialized:",lr),!lr)return console.error(" EmailJS not initialized!"),alert("EmailJS not initialized. Check console for errors."),{success:!1,error:"Not initialized"};try{const e=await qu.send(gt.serviceId,gt.templateId,{to_email:t,subject:"SaxoVault Test Email",message:`This is a test email from SaxoVault. If you received this, EmailJS is working correctly!

Time: `+new Date().toLocaleString(),from_name:"SaxoVault Capital",reply_to:"support@saxovault.com"});return console.log(" Test email sent successfully!",e),console.log(" ========== EMAIL TEST SUCCESS =========="),alert(" Test email sent! Check your inbox (and spam folder)."),{success:!0,result:e}}catch(e){return console.error(" Test email failed:",e),console.error(" Error details:",{text:e==null?void 0:e.text,message:e==null?void 0:e.message,status:e==null?void 0:e.status,name:e==null?void 0:e.name}),console.log(" ========== EMAIL TEST FAILED =========="),alert(" Test email failed: "+((e==null?void 0:e.text)||(e==null?void 0:e.message)||"Unknown error")+`

Check console for details.`),{success:!1,error:e}}},sendEmail:async(t,e,n,s="notification")=>{if(console.log(" ========== SENDING EMAIL =========="),console.log(" To:",t),console.log(" Subject:",e),console.log(" Type:",s),console.log(" EmailJS Ready:",lr),!lr)return console.error(" EmailJS not initialized - cannot send email"),{success:!1,message:"EmailJS not initialized"};if(!t||!e)return console.error(" Missing email or subject"),{success:!1,message:"Missing email or subject"};try{const r={to_email:t,subject:e,message:n,from_name:"SaxoVault Capital",reply_to:"support@saxovault.com"};console.log(" Calling emailjs.send()...");const a=await qu.send(gt.serviceId,gt.templateId,r);return console.log(" EMAIL SENT SUCCESSFULLY!"),console.log(" Response:",{status:a.status,text:a.text}),K.queueEmail({to:t,subject:e,type:s,status:"sent",createdAt:new Date().toISOString()}),{success:!0,response:a}}catch(r){return console.error(" EMAIL SEND FAILED!"),console.error(" Error:",r),console.error(" Details:",{text:r==null?void 0:r.text,message:r==null?void 0:r.message,status:r==null?void 0:r.status}),K.queueEmail({to:t,subject:e,type:s,status:"failed",error:(r==null?void 0:r.text)||(r==null?void 0:r.message),createdAt:new Date().toISOString()}),{success:!1,error:(r==null?void 0:r.text)||(r==null?void 0:r.message)}}},sendAdminNotification:async(t,e)=>(console.log(" Sending ADMIN notification:",t),await Te.sendEmail(gt.adminEmail,t,e,"admin")),sendDepositNotification:async(t,e,n)=>{const s=`Deposit Request - $${e.toLocaleString()} ${n}`,r=`Hello,

Your deposit request has been received!

Amount: $${e.toLocaleString()}
Payment Method: ${n}
Status: Pending Confirmation

Your funds will be credited once confirmed (usually 10-30 minutes).

Thank you,
SaxoVault Capital`,a=await Te.sendEmail(t,s,r,"deposit"),o=` [DEPOSIT] $${e.toLocaleString()} from ${t}`,l=`
       NEW DEPOSIT REQUEST


 User: ${t}
 Amount: $${e.toLocaleString()}
 Method: ${n}
 Time: ${new Date().toLocaleString()}

Action Required: Review in admin panel

`;return await Te.sendAdminNotification(o,l),a},sendWithdrawalNotification:async(t,e,n)=>{const s=`Withdrawal Request - $${e.toLocaleString()}`,r=`Hello,

Your withdrawal request has been submitted.

Amount: $${e.toLocaleString()}
Destination: ${n}
Status: Under Review

Processing time: 24-48 hours after approval.

Thank you,
SaxoVault Capital`,a=await Te.sendEmail(t,s,r,"withdrawal"),o=` [WITHDRAWAL] $${e.toLocaleString()} from ${t}`,l=`
      NEW WITHDRAWAL REQUEST


 User: ${t}
 Amount: $${e.toLocaleString()}
 Wallet: ${n}
 Time: ${new Date().toLocaleString()}

Action Required: Approve/Reject in admin panel

`;return await Te.sendAdminNotification(o,l),a},sendInvestmentNotification:async(t,e,n,s)=>{const r=`Investment Activated - ${e}`,a=`Hello,

Your investment has been activated!

Investment: ${e}
Amount: $${n.toLocaleString()}
Duration: ${s||"As specified"}
Status: Active

You can track your investment in the dashboard.

Thank you,
SaxoVault Capital`,o=await Te.sendEmail(t,r,a,"investment"),l=` [INVESTMENT] $${n.toLocaleString()} - ${e}`,c=`
      NEW INVESTMENT ACTIVATION


 User: ${t}
 Plan: ${e}
 Amount: $${n.toLocaleString()}
 Duration: ${s||"N/A"}
 Time: ${new Date().toLocaleString()}

`;return await Te.sendAdminNotification(l,c),o},sendKYCNotification:async(t,e,n)=>{const s="KYC Verification Submitted",r=`Hello ${e||""},

Your KYC verification documents have been submitted successfully.

Document Type: ${n||"ID Document"}
Status: Under Review

Our team will verify your documents within 24-48 hours.

Thank you,
SaxoVault Capital`,a=await Te.sendEmail(t,s,r,"kyc"),o=` [KYC] New Submission from ${t}`,l=`
        NEW KYC SUBMISSION


 User: ${e||"N/A"}
 Email: ${t}
 Document Type: ${n||"ID Document"}
 Submitted: ${new Date().toLocaleString()}

Action Required: Verify documents in admin panel

`;return await Te.sendAdminNotification(o,l),a},sendNewUserNotification:async(t,e,n)=>{const s=` [NEW USER] ${e||t} just registered`,r=`
         NEW USER REGISTRATION


 Name: ${e||"N/A"}
 Email: ${t}
 Method: ${n||"Email"}
 Time: ${new Date().toLocaleString()}

`;return await Te.sendAdminNotification(s,r)},sendLoginNotification:async(t,e,n)=>{const s=` [LOGIN] ${t} logged in`,r=`User Login Activity

 User: ${e||t}
 Email: ${t}
 Method: ${n||"Email"}
 Time: ${new Date().toLocaleString()}`;return await Te.sendAdminNotification(s,r)},sendReferralNotification:async(t,e)=>{const n="New Referral Signup!",s=`Hello,

Someone signed up using your referral link!

New User: ${e}
Your Bonus: 1% of their deposits

Keep sharing to earn more!

Thank you,
SaxoVault Capital`;return await Te.sendEmail(t,n,s,"referral")},send2FACode:async(t,e)=>{const n=`Security Code: ${e}`,s=`Your SaxoVault verification code:

${e}

This code expires in 5 minutes.
Never share this code with anyone.

SaxoVault Capital`;return await Te.sendEmail(t,n,s,"2fa")},sendBroadcast:async(t,e,n)=>{const s=[];for(const r of t){const a=await Te.sendEmail(r.email,e,n,"broadcast");s.push({email:r.email,...a})}return s},sendStatusUpdate:async(t,e,n,s,r="")=>{console.log(` Sending status update email to: ${t}`),console.log(` Type: ${e}, Status: ${n}, Amount: ${s}`);const a=`SaxoVault - ${e} ${n}`,o=`Hello,

Your ${e.toLowerCase()} has been ${n.toUpperCase()}.

Amount: $${(s==null?void 0:s.toLocaleString())||"N/A"}
Status: ${n.toUpperCase()}
${r?`
Note: ${r}`:""}

If you have any questions, please contact our support team.

Thank you,
SaxoVault Capital
support@saxovault.com`;try{const l=await Te.sendEmail(t,a,o,"status");return console.log(" Status update email result:",l),l}catch(l){throw console.error(" Status update email failed:",l),l}},sendKYCStatusUpdate:async(t,e,n="")=>{const s=e==="verified"||e==="approved",r=s?"KYC Verification Approved ":"KYC Verification Update",a=`Hello,

Your KYC verification has been ${s?"APPROVED":"REJECTED"}.

${s?`Congratulations! Your account is now fully verified. You can now:
 Make unlimited deposits
 Access all investment plans
 Enjoy faster withdrawal processing

Thank you for verifying your identity with SaxoVault Capital.`:`Unfortunately, your KYC submission could not be verified.

${n?`Reason: ${n}`:"Please ensure your documents are clear and match your profile information."}

You can resubmit your documents by going to Profile  KYC Verification.`}

Thank you,
SaxoVault Capital`;return await Te.sendEmail(t,r,a,"kyc")},sendVerificationEmail:async(t,e,n)=>{const s=window.location.origin,r=`${s}/#verify?token=${n}&email=${encodeURIComponent(t)}`,a=" Verify Your SaxoVault Account",o=`Hello ${e||"Valued Member"},

Welcome to SaxoVault Capital! 

Thank you for creating your account. To complete your registration and start investing, please verify your email address.


 VERIFY YOUR EMAIL


Click the link below to verify your account:
${r}

Or enter this verification code on our website:
 ${n}



This link expires in 24 hours.

If you didn't create an account with SaxoVault Capital, please ignore this email.

Need help? Contact our support team at support@saxovault.com

Welcome aboard!
The SaxoVault Capital Team


SaxoVault Capital - Premium Investment Solutions
Website: ${s}
`;console.log(" Sending verification email to:",t),console.log(" Verification token:",n);try{const l=await Te.sendEmail(t,a,o,"verification");return console.log(" Verification email sent successfully"),l}catch(l){throw console.error(" Failed to send verification email:",l),l}},resendVerificationEmail:async t=>{const e=JSON.parse(localStorage.getItem("saxovault_pending_verifications")||"{}"),n=e[t];if(!n)return{success:!1,error:"No pending verification found for this email."};const s=Math.random().toString(36).substring(2,8).toUpperCase(),r=new Date(Date.now()+24*60*60*1e3).toISOString();e[t]={...n,token:s,expiry:r},localStorage.setItem("saxovault_pending_verifications",JSON.stringify(e));const a=localStorage.getItem(`user_${n.uid}`);if(a){const o=JSON.parse(a);o.verificationToken=s,o.verificationExpiry=r,localStorage.setItem(`user_${n.uid}`,JSON.stringify(o))}return await Te.sendVerificationEmail(t,n.name,s)}};typeof window<"u"&&(window.EmailService=Te,window.testEmail=async t=>{if(console.log(" ========== EMAIL TEST START =========="),console.log(" Testing EmailJS with:",t),console.log(" Service ID:",gt.serviceId),console.log(" Template ID:",gt.templateId),console.log(" Public Key:",gt.publicKey),console.log(" EmailJS Ready:",lr),!lr)return console.error(" EmailJS not initialized!"),alert("EmailJS not initialized. Check console for errors."),{success:!1,error:"Not initialized"};try{const e=await qu.send(gt.serviceId,gt.templateId,{to_email:t,subject:"SaxoVault Test Email - "+new Date().toLocaleTimeString(),message:`This is a test email from SaxoVault.

If you received this, EmailJS is working correctly!

Time: `+new Date().toLocaleString(),from_name:"SaxoVault Capital",reply_to:"support@saxovault.com"});return console.log(" Test email sent successfully!",e),console.log(" ========== EMAIL TEST SUCCESS =========="),alert(" Test email sent to "+t+`!

Check your inbox (and spam folder).`),{success:!0,result:e}}catch(e){return console.error(" Test email failed:",e),console.error(" Error details:",{text:e==null?void 0:e.text,message:e==null?void 0:e.message,status:e==null?void 0:e.status,name:e==null?void 0:e.name}),console.log(" ========== EMAIL TEST FAILED =========="),alert(` Test email failed!

Error: `+((e==null?void 0:e.text)||(e==null?void 0:e.message)||"Unknown error")+`

Check console for details.`),{success:!1,error:e}}},console.log(' Email test ready! Run: window.testEmail("your@email.com")'));const un={generate2FACode:()=>Math.floor(1e5+Math.random()*9e5).toString(),store2FACode:(t,e)=>{const n=JSON.parse(localStorage.getItem("saxovault_2fa_codes")||"{}");return n[t]={code:e,createdAt:Date.now(),expires:Date.now()+5*60*1e3},localStorage.setItem("saxovault_2fa_codes",JSON.stringify(n)),e},verify2FACode:(t,e)=>{const n=JSON.parse(localStorage.getItem("saxovault_2fa_codes")||"{}"),s=n[t];return s?Date.now()>s.expires?{valid:!1,message:"Code expired"}:s.code!==e?{valid:!1,message:"Invalid code"}:(delete n[t],localStorage.setItem("saxovault_2fa_codes",JSON.stringify(n)),{valid:!0,message:"Verified"}):{valid:!1,message:"No code found"}},send2FACode:async(t,e)=>{console.log(" Sending 2FA code to:",e);const n=un.generate2FACode();un.store2FACode(t,n);try{const s=await Te.send2FACode(e,n);return console.log(" 2FA code sent successfully:",s),{success:!0,code:n}}catch(s){return console.error(" Failed to send 2FA code:",s),{success:!1,error:s}}},is2FAEnabled:t=>{var a;if(!t)return!1;if((a=JSON.parse(localStorage.getItem("saxovault_user_2fa")||"{}")[t])!=null&&a.enabled||JSON.parse(localStorage.getItem(`user_${t}`)||"{}").twoFactorEnabled)return!0;const r=JSON.parse(localStorage.getItem("saxovault_users")||"[]").find(o=>o.uid===t);return!!(r!=null&&r.twoFactorEnabled)},enable2FA:async t=>{const e=JSON.parse(localStorage.getItem("saxovault_user_2fa")||"{}");e[t]={enabled:!0,enabledAt:new Date().toISOString()},localStorage.setItem("saxovault_user_2fa",JSON.stringify(e));const n=JSON.parse(localStorage.getItem(`user_${t}`)||"{}");n.twoFactorEnabled=!0,n.twoFactorEnabledAt=new Date().toISOString(),localStorage.setItem(`user_${t}`,JSON.stringify(n));const s=JSON.parse(localStorage.getItem("saxovault_current_user")||"{}");s.uid===t&&(s.twoFactorEnabled=!0,localStorage.setItem("saxovault_current_user",JSON.stringify(s)));const a=JSON.parse(localStorage.getItem("saxovault_users")||"[]").map(o=>o.uid===t?{...o,twoFactorEnabled:!0,twoFactorEnabledAt:new Date().toISOString()}:o);localStorage.setItem("saxovault_users",JSON.stringify(a));try{await K.updateUser(t,{twoFactorEnabled:!0,twoFactorEnabledAt:new Date().toISOString()}),console.log(" 2FA status synced to Firestore")}catch(o){console.error(" Failed to sync 2FA to Firestore:",o)}console.log(" 2FA enabled for user:",t)},disable2FA:async t=>{const e=JSON.parse(localStorage.getItem("saxovault_user_2fa")||"{}");e[t]={enabled:!1},localStorage.setItem("saxovault_user_2fa",JSON.stringify(e));const n=JSON.parse(localStorage.getItem(`user_${t}`)||"{}");n.twoFactorEnabled=!1,localStorage.setItem(`user_${t}`,JSON.stringify(n));const s=JSON.parse(localStorage.getItem("saxovault_current_user")||"{}");s.uid===t&&(s.twoFactorEnabled=!1,localStorage.setItem("saxovault_current_user",JSON.stringify(s)));const a=JSON.parse(localStorage.getItem("saxovault_users")||"[]").map(o=>o.uid===t?{...o,twoFactorEnabled:!1}:o);localStorage.setItem("saxovault_users",JSON.stringify(a));try{await K.updateUser(t,{twoFactorEnabled:!1}),console.log(" 2FA disabled synced to Firestore")}catch(o){console.error(" Failed to sync 2FA disable to Firestore:",o)}console.log(" 2FA disabled for user:",t)}};function O6({onClose:t,user:e}){const[n,s]=D.useState("weekly"),[r,a]=D.useState(500),[o,l]=D.useState(null),[c,d]=D.useState([]),h=JSON.parse(localStorage.getItem("saxovault_investments")||"null")||fh;D.useEffect(()=>{d(K.getAutoInvestPlans(e==null?void 0:e.uid))},[e]),D.useEffect(()=>{o&&a(o.min||500)},[o]);const f=[{id:"daily",label:"Daily",desc:"Every day"},{id:"weekly",label:"Weekly",desc:"Every Monday"},{id:"biweekly",label:"Bi-Weekly",desc:"Every 2 weeks"},{id:"monthly",label:"Monthly",desc:"1st of each month"}],p=(o==null?void 0:o.min)||500,v=async()=>{if(!o){alert("Please select an investment plan");return}if(r<p){alert(`Minimum investment for ${o.name} is $${p.toLocaleString()}`);return}const k={userId:e==null?void 0:e.uid,userEmail:e==null?void 0:e.email,userName:e==null?void 0:e.name,investmentId:o.id,investmentName:o.name,investmentCategory:o.category,amount:r,frequency:n,status:"active",nextExecution:E(n),totalInvested:0,executionCount:0,createdAt:new Date().toISOString()};K.saveAutoInvestPlan(k),d([...c,k]);try{const S=gt.adminEmail||"saxovault6@gmail.com",y=`New Auto-Invest Plan Created

User: ${(e==null?void 0:e.name)||"User"} (${e==null?void 0:e.email})
Investment: ${o.name}
Category: ${o.category}
Amount: $${r.toLocaleString()} per ${n}
Next Execution: ${new Date(k.nextExecution).toLocaleDateString()}

---
This auto-invest plan will automatically execute at the scheduled times.
SaxoVault Capital`;await Te.sendEmail(S,` New Auto-Invest: ${e==null?void 0:e.email} - $${r}/${n}`,y,"autoinvest"),console.log(" Auto-invest notification sent to admin")}catch(S){console.error(" Failed to send auto-invest notification:",S)}K.addNotification({type:"autoinvest",message:`Auto-invest plan created: $${r}/${n} into ${o.name}`}),l(null),a(500),alert(` Auto-invest plan created!

$${r.toLocaleString()} will be invested ${n} into ${o.name}`)},E=k=>{const S=new Date;switch(k){case"daily":return new Date(S.setDate(S.getDate()+1)).toISOString();case"weekly":return new Date(S.setDate(S.getDate()+(7-S.getDay()+1)%7+1)).toISOString();case"biweekly":return new Date(S.setDate(S.getDate()+14)).toISOString();case"monthly":return new Date(S.getFullYear(),S.getMonth()+1,1).toISOString();default:return new Date(S.setDate(S.getDate()+7)).toISOString()}},w=async k=>{var S,y;if(confirm("Cancel this auto-invest plan?")){K.deleteAutoInvestPlan(k.id),d(c.filter(b=>b.id!==k.id));try{const b=gt.adminEmail||"saxovault6@gmail.com",P=`Auto-Invest Plan Cancelled

User: ${(e==null?void 0:e.name)||"User"} (${e==null?void 0:e.email})
Investment: ${k.investmentName}
Amount: $${(S=k.amount)==null?void 0:S.toLocaleString()} per ${k.frequency}
Total Invested: $${((y=k.totalInvested)==null?void 0:y.toLocaleString())||0}
Executions: ${k.executionCount||0}

---
The user has cancelled this auto-invest plan.
SaxoVault Capital`;await Te.sendEmail(b,` Auto-Invest Cancelled: ${e==null?void 0:e.email}`,P,"autoinvest"),console.log(" Auto-invest cancellation notification sent to admin")}catch(b){console.error(" Failed to send cancellation notification:",b)}alert("Auto-invest plan cancelled")}};return i.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t,children:i.jsxs(U.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto shadow-2xl",onClick:k=>k.stopPropagation(),children:[i.jsx("div",{className:"p-6 border-b border-gray-100",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"font-serif text-xl",style:{color:N.navy},children:[i.jsx(Qu,{className:"w-5 h-5 inline mr-2 text-yellow-500"}),"Auto-Invest Plans"]}),i.jsx("p",{className:"text-sm text-gray-500",children:"Set up recurring investments automatically"})]}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full",children:i.jsx(Bt,{className:"w-5 h-5"})})]})}),i.jsxs("div",{className:"p-6",children:[c.length>0&&i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"font-medium text-sm text-gray-700 mb-3",children:"Active Plans"}),i.jsx("div",{className:"space-y-2",children:c.map(k=>{var S;return i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",style:{color:N.navy},children:k.investmentName}),i.jsxs("p",{className:"text-xs text-gray-500",children:["$",(S=k.amount)==null?void 0:S.toLocaleString(),"/",k.frequency]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${k.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:k.status}),i.jsx("button",{onClick:()=>w(k),className:"p-1.5 hover:bg-red-100 rounded text-red-500",children:i.jsx(uN,{className:"w-4 h-4"})})]})]},k.id)})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Investment"}),i.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto",children:h.slice(0,8).map(k=>i.jsxs("button",{onClick:()=>l(k),className:`p-3 rounded-xl text-left text-sm transition-all ${(o==null?void 0:o.id)===k.id?"ring-2 bg-blue-50":"bg-gray-50 hover:bg-gray-100"}`,style:(o==null?void 0:o.id)===k.id?{ringColor:N.navy}:{},children:[i.jsx("p",{className:"font-medium truncate",style:{color:N.navy},children:k.name}),i.jsxs("p",{className:"text-xs text-gray-500",children:[k.returns," returns"]})]},k.id))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount per Investment"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 font-medium",children:"$"}),i.jsx("input",{type:"number",value:r,onChange:k=>a(Math.max(p,+k.target.value)),className:"w-full pl-8 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2",style:{"--tw-ring-color":N.navy},min:p})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:o?`Minimum for ${o.name}: $${p.toLocaleString()}`:"Select an investment to see minimum amount"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Frequency"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:f.map(k=>i.jsxs("button",{onClick:()=>s(k.id),className:`p-3 rounded-xl text-left transition-all ${n===k.id?"text-white":"bg-gray-50 hover:bg-gray-100"}`,style:n===k.id?{background:N.navy}:{},children:[i.jsx("p",{className:"font-medium text-sm",children:k.label}),i.jsx("p",{className:`text-xs ${n===k.id?"text-white/70":"text-gray-500"}`,children:k.desc})]},k.id))})]}),o&&i.jsxs("div",{className:"p-4 rounded-xl",style:{background:`${N.green}10`},children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"You'll invest"}),i.jsxs("p",{className:"text-2xl font-bold",style:{color:N.navy},children:["$",r," / ",n]}),i.jsxs("p",{className:"text-sm text-gray-500",children:["into ",o.name]})]}),i.jsxs(U.button,{onClick:v,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:!o,className:"w-full py-4 rounded-xl text-white font-semibold disabled:opacity-50",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:[i.jsx(Qu,{className:"w-5 h-5 inline mr-2"}),"Create Auto-Invest Plan"]})]})]})]})})}function F6({user:t,onVerify:e,onClose:n,onResend:s}){const[r,a]=D.useState(["","","","","",""]),[o,l]=D.useState(""),[c,d]=D.useState(!1),[h,f]=D.useState(0),p=D.useRef([]);D.useEffect(()=>{var S;(S=p.current[0])==null||S.focus()},[]),D.useEffect(()=>{if(h>0){const S=setTimeout(()=>f(y=>y-1),1e3);return()=>clearTimeout(S)}},[h]);const v=(S,y)=>{var P;if(!/^\d*$/.test(y))return;const b=[...r];b[S]=y.slice(-1),a(b),y&&S<5&&((P=p.current[S+1])==null||P.focus()),b.every(M=>M)&&b.join("").length===6&&w(b.join(""))},E=(S,y)=>{var b;y.key==="Backspace"&&!r[S]&&S>0&&((b=p.current[S-1])==null||b.focus())},w=async S=>{var b;d(!0),l("");const y=un.verify2FACode(t==null?void 0:t.uid,S);y.valid?e():(l(y.message),a(["","","","","",""]),(b=p.current[0])==null||b.focus()),d(!1)},k=async()=>{if(!(h>0)){d(!0);try{(await un.send2FACode(t==null?void 0:t.uid,t==null?void 0:t.email)).success?(f(60),a(["","","","","",""]),l("")):l("Failed to send code. Please try again.")}catch{l("Failed to send code. Please try again.")}d(!1)}};return i.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:i.jsxs(U.div,{initial:{scale:.9},animate:{scale:1},className:"bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl text-center",children:[i.jsx("div",{className:"w-16 h-16 rounded-full mx-auto mb-4 flex items-center justify-center",style:{background:`${N.navy}10`},children:i.jsx(oN,{className:"w-8 h-8",style:{color:N.navy}})}),i.jsx("h2",{className:"font-serif text-xl mb-2",style:{color:N.navy},children:"Two-Factor Authentication"}),i.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:["Enter the 6-digit code sent to",i.jsx("br",{}),i.jsx("strong",{children:t==null?void 0:t.email})]}),i.jsx("div",{className:"flex justify-center gap-2 mb-6",children:r.map((S,y)=>i.jsx("input",{ref:b=>p.current[y]=b,type:"text",inputMode:"numeric",maxLength:"1",value:S,onChange:b=>v(y,b.target.value),onKeyDown:b=>E(y,b),className:"w-12 h-14 text-center text-2xl font-bold border-2 rounded-xl focus:outline-none transition-all",style:{borderColor:o?"#ef4444":S?N.navy:"#e5e7eb"}},y))}),o&&i.jsxs("p",{className:"text-red-500 text-sm mb-4 flex items-center justify-center gap-1",children:[i.jsx(rs,{className:"w-4 h-4"})," ",o]}),i.jsx("button",{onClick:k,disabled:h>0,className:"text-sm text-gray-500 hover:text-gray-700 disabled:opacity-50 mb-4",children:h>0?`Resend code in ${h}s`:"Resend code"}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(U.button,{onClick:n,whileHover:{scale:1.02},className:"flex-1 py-3 rounded-xl border border-gray-200",children:"Cancel"}),i.jsx(U.button,{onClick:()=>w(r.join("")),whileHover:{scale:1.02},disabled:c||r.some(S=>!S),className:"flex-1 py-3 rounded-xl text-white font-medium disabled:opacity-50",style:{background:N.navy},children:c?"Verifying...":"Verify"})]})]})})}function U6({onLogin:t}){const[e,n]=D.useState(""),[s,r]=D.useState(""),[a,o]=D.useState(""),[l,c]=D.useState(!1),d=h=>{h.preventDefault(),c(!0),o(""),setTimeout(()=>{e===c1.email&&s===c1.password?(localStorage.setItem("saxovault_admin","true"),t()):o("Invalid admin credentials"),c(!1)},1e3)};return i.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"w-16 h-16 mx-auto rounded-2xl flex items-center justify-center mb-4",style:{background:`linear-gradient(135deg, ${N.gold} 0%, ${N.goldDark} 100%)`},children:i.jsx(Ar,{className:"w-8 h-8 text-white"})}),i.jsx("h1",{className:"font-serif text-2xl",style:{color:N.navy},children:"Admin Portal"}),i.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"SaxoVault Capital Management"})]}),a&&i.jsxs("div",{className:"mb-4 p-3 rounded-xl bg-red-50 text-red-600 text-sm flex items-center gap-2",children:[i.jsx(rs,{className:"w-4 h-4"})," ",a]}),i.jsxs("form",{onSubmit:d,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Admin Email"}),i.jsxs("div",{className:"relative",children:[i.jsx(es,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"email",value:e,onChange:h=>n(h.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"admin@saxovault.com",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(br,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"password",value:s,onChange:h=>r(h.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"",required:!0})]})]}),i.jsx(U.button,{type:"submit",disabled:l,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3.5 rounded-xl text-white font-semibold flex items-center justify-center gap-3",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:l?i.jsx(In,{className:"w-5 h-5 animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(Ar,{className:"w-5 h-5"})," Access Admin Panel"]})})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsx("a",{href:"/",className:"text-sm text-gray-500 hover:underline",children:" Back to Website"})})]})})}function $6({onLogout:t}){var Oi,Gn,eo;const[e,n]=D.useState("overview"),[s,r]=D.useState([]),[a,o]=D.useState([]),[l,c]=D.useState(K.getSettings()),[d,h]=D.useState(K.getNotifications()),[f,p]=D.useState(null),[v,E]=D.useState(!0),[w,k]=D.useState(()=>{const x=localStorage.getItem("saxovault_website_settings");return x?JSON.parse(x):{siteName:"SaxoVault Capital",tagline:"Premium Investment Solutions",heroTitle:"Invest in Your Future",heroSubtitle:"Professional wealth management with institutional-grade security",minDeposit:500,minWithdrawal:100,withdrawalFee:0,referralBonus:1,maintenanceMode:!1,registrationOpen:!0,kycRequired:!0,twoFactorRequired:!1}}),[S,y]=D.useState(()=>{const x=localStorage.getItem("saxovault_branding_settings");return x?JSON.parse(x):{primaryColor:"#0a1628",secondaryColor:"#1e3a5f",accentColor:"#d4af37",logoUrl:"",faviconUrl:"",footerText:" 2024 SaxoVault Capital. All rights reserved.",socialLinks:{twitter:"",telegram:"",linkedin:"",facebook:""}}}),[b,P]=D.useState(()=>{const x=localStorage.getItem("saxovault_payment_settings");return x?JSON.parse(x):{btcEnabled:!0,btcAddress:"bc1qzmgg6hw0fttfpczh2whp8f44k497d6pucghk58",btcMinDeposit:100,ethEnabled:!0,ethAddress:"0x742d35Cc6634C0532925a3b844Bc9e7595f5bE21",ethMinDeposit:100,usdtEnabled:!0,usdtAddress:"TYDzsYUEpvnYmQk4zGP9sWWcTEd2MiAtW6",usdtNetwork:"TRC-20",usdtMinDeposit:100,bankTransferEnabled:!1,bankName:"",bankAccount:"",bankRouting:""}}),[M,B]=D.useState(()=>{const x=localStorage.getItem("saxovault_platform_config");return x?JSON.parse(x):{maxDailyWithdrawal:5e4,maxSingleWithdrawal:25e3,withdrawalProcessingTime:"24-48 hours",autoApproveDeposits:!1,autoApproveWithdrawals:!1,emailNotifications:!0,smsNotifications:!1,sessionTimeout:30,maxLoginAttempts:5,ipWhitelist:"",blockedCountries:""}}),I=()=>{localStorage.setItem("saxovault_website_settings",JSON.stringify(w)),alert(" Website settings saved!")},_=()=>{localStorage.setItem("saxovault_branding_settings",JSON.stringify(S)),alert(" Branding settings saved!")},T=()=>{localStorage.setItem("saxovault_payment_settings",JSON.stringify(b)),alert(" Payment settings saved!")},C=()=>{localStorage.setItem("saxovault_platform_config",JSON.stringify(M)),alert(" Platform configuration saved!")};D.useEffect(()=>{(async()=>{E(!0);try{const ie=K.getUsers(),Re=K.getTransactions();ie.length>0&&r(ie),Re.length>0&&o(Re);try{const me=await K.fetchUsersFromCloud();if(me&&me.length>0){const ve=me.map(he=>{const Ne=ie.find(Wt=>Wt.uid===he.uid);return Ne?{...he,balance:Ne.balance??he.balance,...Ne}:he});r(ve),K.setUsers(ve)}}catch{console.log("Using localStorage users (Firestore unavailable)")}try{const me=await K.fetchTransactionsFromCloud();if(me&&me.length>0){const ve=new Map;me.forEach(Ne=>{const Wt=Ne.id||Ne.firestoreId||`${Ne.createdAt}_${Ne.amount}_${Ne.userEmail}`;ve.set(Wt,Ne)}),Re.forEach(Ne=>{const Wt=Ne.id||Ne.firestoreId;let Rn=!1;for(const[Hs,wn]of ve.entries())if(Ne.id===wn.id||Ne.firestoreId===wn.id||Ne.firestoreId===wn.firestoreId||Ne.id===wn.firestoreId||Ne.localId&&Ne.localId===wn.localId){const Jr=new Date(Ne.updatedAt||0).getTime(),ms=new Date(wn.updatedAt||0).getTime();Jr>=ms&&ve.set(Hs,{...wn,...Ne}),Rn=!0;break}if(!Rn){const Hs=`${Ne.createdAt}_${Ne.amount}_${Ne.userEmail}_${Ne.type}`;let wn=!1;for(const[Jr,ms]of ve.entries()){const rc=`${ms.createdAt}_${ms.amount}_${ms.userEmail}_${ms.type}`;if(Hs===rc){wn=!0;break}}wn||ve.set(Ne.id||Ne.localId||Hs,Ne)}});const he=Array.from(ve.values()).sort((Ne,Wt)=>new Date(Wt.createdAt)-new Date(Ne.createdAt));o(he),K.setTransactions(he)}}catch{console.log("Using localStorage transactions (Firestore unavailable)")}console.log(" Admin data loaded")}catch(ie){console.error("Error loading data:",ie),r(K.getUsers()),o(K.getTransactions())}E(!1)})();let Z=null,q=null;try{Z=GE(ie=>{const Re=K.getUsers(),me=ie.map(ve=>{const he=Re.find(Ne=>Ne.uid===ve.uid);return he?{...ve,...he}:ve});r(me),K.setUsers(me)})}catch{console.log("Users subscription not available")}try{q=qE(ie=>{const Re=K.getTransactions(),me=new Map;ie.forEach(he=>{const Ne=he.id||`${he.createdAt}_${he.amount}_${he.userEmail}`;me.set(Ne,he)}),Re.forEach(he=>{for(const[Ne,Wt]of me.entries())if(he.id===Wt.id||he.firestoreId===Wt.id||he.firestoreId===Wt.firestoreId||he.id===Wt.firestoreId){const Rn=new Date(he.updatedAt||0).getTime(),Hs=new Date(Wt.updatedAt||0).getTime();Rn>=Hs&&me.set(Ne,{...Wt,...he});break}});const ve=Array.from(me.values()).sort((he,Ne)=>new Date(Ne.createdAt)-new Date(he.createdAt));o(ve),K.setTransactions(ve)})}catch{console.log("Transactions subscription not available")}return()=>{Z&&Z(),q&&q()}},[]);const R=s.length,L=a.filter(x=>x.type==="deposit"&&x.status==="completed").reduce((x,Z)=>x+(parseFloat(Z.amount)||0),0),A=a.filter(x=>x.type==="deposit"&&x.status==="pending").length,fe=a.filter(x=>x.type==="withdrawal"&&x.status==="pending").length,oe=async(x,Z)=>{const q=s.map(ie=>ie.uid===x?{...ie,...Z}:ie);r(q),await K.updateUser(x,Z),K.addNotification({type:"user_update",message:"User updated successfully"}),p(null)},ue=async(x,Z)=>{const q=a.find(me=>me.id===x||me.firestoreId===x),ie={status:Z,updatedAt:new Date().toISOString()};if(q&&Z==="completed"&&q.type==="investment"){const me=new Date,ve=q.totalDays||30,he=new Date(me);he.setDate(he.getDate()+ve),ie.approvalDate=me.toISOString(),ie.maturityDate=he.toISOString(),ie.countdownStarted=!0,ie.countdownEndsAt=he.toISOString(),console.log(` Investment ${q.investmentName} approved!`),console.log(`   Countdown started: ${me.toISOString()}`),console.log(`   Maturity date: ${he.toISOString()} (${ve} days)`)}const Re=a.map(me=>me.id===x||me.firestoreId===x?{...me,...ie}:me);if(o(Re),K.setTransactions(Re),console.log(" Transaction status updated locally:",Z),await K.updateTransaction(x,ie),q&&Z==="completed"&&q.type==="deposit"){const me=s.find(ve=>ve.uid===q.userId||ve.email===q.userEmail);if(me){const ve=(parseFloat(me.balance)||0)+parseFloat(q.amount);await K.updateUser(me.uid,{balance:ve}),r(s.map(he=>he.uid===me.uid?{...he,balance:ve}:he)),console.log(` User ${me.email} balance updated to $${ve}`)}}if(q&&Z==="completed"&&q.type==="withdrawal"){const me=s.find(ve=>ve.uid===q.userId||ve.email===q.userEmail);if(me){const ve=Math.max(0,(parseFloat(me.balance)||0)-parseFloat(q.amount));await K.updateUser(me.uid,{balance:ve}),r(s.map(he=>he.uid===me.uid?{...he,balance:ve}:he)),console.log(` User ${me.email} balance updated to $${ve} after withdrawal`)}}if(q&&Z==="completed"&&q.type==="investment"){const ve=JSON.parse(localStorage.getItem(`investments_${q.userId}`)||"[]").map(he=>he.investmentId===q.investmentId?{...he,...ie}:he);localStorage.setItem(`investments_${q.userId}`,JSON.stringify(ve)),console.log(` Investment countdown started for ${q.userEmail}`)}if(K.addNotification({type:"tx_update",message:`Transaction ${Z}`}),q&&q.userEmail){const me=Z==="completed"?"Approved":Z==="rejected"?"Rejected":Z,ve=q.type.charAt(0).toUpperCase()+q.type.slice(1);console.log(` Preparing to send ${me} email to ${q.userEmail}`),console.log(` Transaction type: ${ve}, Amount: ${q.amount}`);try{const he=await Te.sendStatusUpdate(q.userEmail,ve,me,q.amount,Z==="rejected"?"Please contact support if you have questions.":q.type==="investment"?`Your investment is now active. Duration: ${q.totalDays||30} days.`:q.type==="deposit"?"Funds have been credited to your account.":q.type==="withdrawal"?"Funds will be sent to your wallet shortly.":"");console.log(` Status notification sent to ${q.userEmail}:`,he),alert(` ${ve} ${me}! Email notification sent to ${q.userEmail}`)}catch(he){console.error(" Failed to send status notification:",he),alert(` ${ve} ${me}! (Email notification failed - check console)`)}}else console.warn(" No user email found for transaction:",q)},re=x=>{c(x),K.setSettings(x),K.addNotification({type:"settings_update",message:"Settings updated successfully"}),alert("Settings saved successfully!")},V=JSON.parse(localStorage.getItem("saxovault_tickets")||"[]"),$=V.filter(x=>x.status==="open").length,[ee,Y]=D.useState(()=>{const x=localStorage.getItem("saxovault_investments");return x?JSON.parse(x):fh}),[G,ce]=D.useState(null),[O,le]=D.useState(!1),[ae,_e]=D.useState({name:"",category:"Real Estate",type:"real-estate",min:1e3,returns:"10-15%",term:"12 months",desc:"",status:"Funding",progress:0,goal:1e6}),xe=x=>{let Z;x.id?Z=ee.map(q=>q.id===x.id?x:q):(x.id=Date.now(),Z=[...ee,x]),Y(Z),localStorage.setItem("saxovault_investments",JSON.stringify(Z)),K.addNotification({type:"investment",message:x.id?"Investment updated":"Investment added"}),ce(null),le(!1)},qe=x=>{if(confirm("Are you sure you want to delete this investment?")){const Z=ee.filter(q=>q.id!==x);Y(Z),localStorage.setItem("saxovault_investments",JSON.stringify(Z)),K.addNotification({type:"investment",message:"Investment deleted"})}},[Et,Ee]=D.useState(!1),[rt,Dt]=D.useState(!1),[lt,Qt]=D.useState(null),[Tt,Wn]=D.useState(""),[zs,Ge]=D.useState(""),[Le,qr]=D.useState(""),[Ja,Ya]=D.useState(""),mh=()=>{if(!Tt||!zs){alert("Please enter both title and message");return}const x={id:Date.now(),type:"broadcast",title:Tt,message:zs,sentAt:new Date().toISOString(),recipients:s.length},Z=JSON.parse(localStorage.getItem("saxovault_messages")||"[]");localStorage.setItem("saxovault_messages",JSON.stringify([x,...Z]));const q=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}");s.forEach(ie=>{q[ie.uid]||(q[ie.uid]=[]),q[ie.uid].unshift({...x,read:!1})}),localStorage.setItem("saxovault_user_notifications",JSON.stringify(q)),K.addNotification({type:"broadcast",message:`Broadcast sent to ${s.length} users`}),Wn(""),Ge(""),Ee(!1),alert(` Message sent to ${s.length} users!`)},Gr=()=>{if(!Le||!Ja||!lt){alert("Please enter both subject and message");return}const x={id:Date.now(),type:"personal",title:Le,message:Ja,sentAt:new Date().toISOString(),recipient:lt.email,recipientId:lt.uid},Z=JSON.parse(localStorage.getItem("saxovault_messages")||"[]");localStorage.setItem("saxovault_messages",JSON.stringify([x,...Z]));const q=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}");q[lt.uid]||(q[lt.uid]=[]),q[lt.uid].unshift({...x,read:!1}),localStorage.setItem("saxovault_user_notifications",JSON.stringify(q)),K.addNotification({type:"personal_msg",message:`Message sent to ${lt.email}`}),qr(""),Ya(""),Qt(null),Dt(!1),alert(` Message sent to ${lt.name||lt.email}!`)},qn=JSON.parse(localStorage.getItem("saxovault_pending_investments")||"[]"),sc=qn.filter(x=>x.status==="pending").length,Qa=async x=>{const Z=qn.map(ie=>ie.id===x.id?{...ie,status:"approved",approvedAt:new Date().toISOString()}:ie);localStorage.setItem("saxovault_pending_investments",JSON.stringify(Z));const q=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}");q[x.userEmail]||(q[x.userEmail]=[]),q[x.userEmail].unshift({id:Date.now(),type:"investment_approved",title:" Investment Approved!",message:`Your $${x.amount.toLocaleString()} investment in ${x.investmentName} has been approved.`,read:!1,createdAt:new Date().toISOString()}),localStorage.setItem("saxovault_user_notifications",JSON.stringify(q));try{await Te.sendStatusUpdate(x.userEmail,"Investment","Approved",x.amount,`Your investment in ${x.investmentName} is now active. Duration: ${x.term||x.totalDays+" days"}.`),console.log(` Investment approval email sent to ${x.userEmail}`)}catch(ie){console.error(" Failed to send approval email:",ie)}K.addNotification({type:"investment_approved",message:`Investment approved: $${x.amount.toLocaleString()}`}),alert("Investment approved!"),window.location.reload()},ph=async x=>{if(!confirm("Are you sure you want to reject this investment?"))return;const Z=qn.map(ie=>ie.id===x.id?{...ie,status:"rejected",rejectedAt:new Date().toISOString()}:ie);localStorage.setItem("saxovault_pending_investments",JSON.stringify(Z));const q=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}");q[x.userEmail]||(q[x.userEmail]=[]),q[x.userEmail].unshift({id:Date.now(),type:"investment_rejected",title:" Investment Rejected",message:`Your $${x.amount.toLocaleString()} investment in ${x.investmentName} was not approved. Please contact support.`,read:!1,createdAt:new Date().toISOString()}),localStorage.setItem("saxovault_user_notifications",JSON.stringify(q));try{await Te.sendStatusUpdate(x.userEmail,"Investment","Rejected",x.amount,"Your investment was not approved. Please contact support if you have questions."),console.log(` Investment rejection email sent to ${x.userEmail}`)}catch(ie){console.error(" Failed to send rejection email:",ie)}K.addNotification({type:"investment_rejected",message:"Investment rejected"}),alert("Investment rejected."),window.location.reload()},gh=[{id:"overview",name:"Overview",icon:Ag},{id:"users",name:"Users",icon:Yu},{id:"transactions",name:"Transactions",icon:nN},{id:"pending",name:"Pending",icon:Si,badge:sc},{id:"kyc",name:"KYC Verification",icon:Ar},{id:"investments",name:"Investments",icon:gi},{id:"tickets",name:"Tickets",icon:lN,badge:$},{id:"website",name:"Website Editor",icon:ma},{id:"branding",name:"Branding",icon:L4},{id:"payments",name:"Payment Methods",icon:Av},{id:"platform",name:"Platform Config",icon:su}],Pn=JSON.parse(localStorage.getItem("saxovault_kyc_submissions")||"[]"),Xa=Pn.filter(x=>x.status==="submitted"||x.status==="pending").length,Kr=async x=>{const Z=Pn.map(ie=>ie.userId===x.userId?{...ie,status:"verified",verifiedAt:new Date().toISOString()}:ie);localStorage.setItem("saxovault_kyc_submissions",JSON.stringify(Z)),localStorage.setItem(`kyc_${x.userId}`,JSON.stringify({...x,status:"verified",verifiedAt:new Date().toISOString()}));const q=s.find(ie=>ie.uid===x.userId||ie.email===x.userEmail);q&&await K.updateUser(q.uid,{kycStatus:"verified",kycVerifiedAt:new Date().toISOString()});try{await Te.sendKYCStatusUpdate(x.userEmail,"approved"),console.log(` KYC approval email sent to ${x.userEmail}`)}catch(ie){console.error(" Failed to send KYC approval email:",ie)}K.addNotification({type:"kyc_approved",message:`KYC approved for ${x.userEmail}`}),alert(` KYC approved for ${x.fullName||x.userEmail}`),window.location.reload()},Za=async(x,Z="")=>{const q=Z||prompt("Enter rejection reason (optional):")||"Documents could not be verified",ie=Pn.map(Re=>Re.userId===x.userId?{...Re,status:"rejected",rejectedAt:new Date().toISOString(),rejectReason:q}:Re);localStorage.setItem("saxovault_kyc_submissions",JSON.stringify(ie)),localStorage.setItem(`kyc_${x.userId}`,JSON.stringify({...x,status:"rejected",rejectedAt:new Date().toISOString(),rejectReason:q}));try{await Te.sendKYCStatusUpdate(x.userEmail,"rejected",q),console.log(` KYC rejection email sent to ${x.userEmail}`)}catch(Re){console.error(" Failed to send KYC rejection email:",Re)}K.addNotification({type:"kyc_rejected",message:`KYC rejected for ${x.userEmail}`}),alert(`KYC rejected for ${x.fullName||x.userEmail}`),window.location.reload()};return i.jsxs("div",{className:"min-h-screen",style:{background:N.cream},children:[i.jsxs("div",{className:"bg-white shadow-md px-4 lg:px-6 py-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:`linear-gradient(135deg, ${N.gold} 0%, ${N.goldDark} 100%)`},children:i.jsx(sN,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"font-serif text-lg lg:text-xl",style:{color:N.navy},children:"Admin Dashboard"}),i.jsx("p",{className:"text-gray-500 text-xs",children:"SaxoVault Capital"})]})]}),i.jsxs(U.button,{onClick:t,whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center gap-2 px-3 lg:px-4 py-2 rounded-xl bg-red-50 text-red-600 hover:bg-red-100 text-sm",children:[i.jsx(ka,{className:"w-4 h-4"})," ",i.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]}),i.jsxs("div",{className:"flex flex-col lg:flex-row",children:[i.jsx("div",{className:"lg:w-64 bg-white shadow-lg lg:min-h-screen",children:i.jsx("div",{className:"flex lg:flex-col overflow-x-auto lg:overflow-x-visible p-2 lg:p-4 gap-2",children:gh.map(x=>i.jsxs(U.button,{onClick:()=>n(x.id),whileTap:{scale:.98},className:`flex items-center gap-2 lg:gap-3 px-3 lg:px-4 py-2 lg:py-3 rounded-xl whitespace-nowrap transition-all ${e===x.id?"shadow-md":"hover:bg-gray-50"}`,style:e===x.id?{background:`${N.navy}10`,color:N.navy}:{color:"#6b7280"},children:[i.jsx(x.icon,{className:"w-4 h-4 lg:w-5 lg:h-5"}),i.jsx("span",{className:"font-medium text-sm",children:x.name}),x.id==="transactions"&&A+fe>0&&i.jsx("span",{className:"ml-auto px-2 py-0.5 rounded-full text-xs bg-red-500 text-white",children:A+fe}),x.id==="kyc"&&Xa>0&&i.jsx("span",{className:"ml-auto px-2 py-0.5 rounded-full text-xs bg-yellow-500 text-white",children:Xa}),x.id==="tickets"&&$>0&&i.jsx("span",{className:"ml-auto px-2 py-0.5 rounded-full text-xs bg-purple-500 text-white",children:$})]},x.id))})}),i.jsxs("div",{className:"flex-1 p-4 lg:p-6",children:[e==="overview"&&i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:N.navy},children:"Dashboard Overview"}),(()=>{const x=K.getAdminNotifications().filter(Z=>Z.actionRequired&&!Z.read);return x.length===0?null:i.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 border border-red-200 rounded-xl p-4 mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-red-100 flex items-center justify-center",children:i.jsx(Ts,{className:"w-5 h-5 text-red-600 animate-pulse"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-red-800",children:"Action Required"}),i.jsxs("p",{className:"text-sm text-red-600",children:[x.length," notification(s) need your attention"]})]})]}),i.jsx("div",{className:"space-y-2",children:x.slice(0,5).map((Z,q)=>i.jsxs("div",{className:"flex items-center justify-between bg-white rounded-lg p-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",style:{color:N.navy},children:Z.title}),i.jsx("p",{className:"text-xs text-gray-500",children:Z.message})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs text-gray-400",children:new Date(Z.createdAt).toLocaleTimeString()}),i.jsx("button",{onClick:()=>K.markAdminNotifRead(Z.id),className:"p-1 hover:bg-gray-100 rounded",children:i.jsx(cn,{className:"w-4 h-4 text-green-600"})})]})]},q))})]})})(),i.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mb-8",children:[{label:"Total Users",value:R,icon:Yu,color:N.navy},{label:"Total Deposits",value:`$${L.toLocaleString()}`,icon:js,color:N.green},{label:"Pending Deposits",value:A,icon:Si,color:N.gold},{label:"Pending Withdrawals",value:fe,icon:is,color:"#ef4444"}].map((x,Z)=>i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Z*.1},className:"bg-white rounded-xl lg:rounded-2xl p-4 lg:p-6 shadow-lg",children:[i.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 rounded-xl flex items-center justify-center mb-3",style:{background:`${x.color}15`},children:i.jsx(x.icon,{className:"w-5 h-5 lg:w-6 lg:h-6",style:{color:x.color}})}),i.jsx("p",{className:"text-gray-500 text-xs lg:text-sm",children:x.label}),i.jsx("p",{className:"text-xl lg:text-2xl font-bold",style:{color:x.color},children:x.value})]},Z))}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsx("h3",{className:"font-serif text-lg mb-4",style:{color:N.navy},children:"Recent Transactions"}),i.jsxs("div",{className:"space-y-3",children:[a.slice(0,5).map((x,Z)=>{var q;return i.jsxs("div",{className:"flex items-center justify-between p-3 lg:p-4 rounded-xl bg-gray-50",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-8 h-8 lg:w-10 lg:h-10 rounded-full flex items-center justify-center ${x.type==="deposit"?"bg-green-100":"bg-orange-100"}`,children:x.type==="deposit"?i.jsx(js,{className:"w-4 h-4 lg:w-5 lg:h-5 text-green-600"}):i.jsx(is,{className:"w-4 h-4 lg:w-5 lg:h-5 text-orange-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",style:{color:N.navy},children:x.type==="deposit"?"Deposit":"Withdrawal"}),i.jsx("p",{className:"text-xs text-gray-500",children:x.userEmail})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"font-bold text-sm lg:text-base",children:["$",(q=x.amount)==null?void 0:q.toLocaleString()]}),i.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${x.status==="completed"?"bg-green-100 text-green-700":x.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:x.status})]})]},Z)}),a.length===0&&i.jsx("p",{className:"text-center text-gray-500 py-8",children:"No transactions yet"})]})]})]}),e==="users"&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl",style:{color:N.navy},children:"User Management"}),i.jsxs(U.button,{onClick:()=>Ee(!0),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-2 px-4 py-2 rounded-xl text-white text-sm font-medium",style:{background:N.navy},children:[i.jsx(Go,{className:"w-4 h-4"})," Broadcast Message"]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg overflow-hidden",children:[i.jsx("div",{className:"p-4 border-b border-gray-100",children:i.jsxs("p",{className:"text-gray-500 text-sm",children:[s.length," registered users"]})}),i.jsxs("div",{className:"divide-y divide-gray-100",children:[s.map((x,Z)=>{var q,ie;return i.jsx("div",{className:`p-4 hover:bg-gray-50 transition-colors ${x.status==="banned"?"bg-red-50":x.status==="suspended"?"bg-yellow-50":""}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"w-10 h-10 lg:w-12 lg:h-12 rounded-full flex items-center justify-center text-white font-bold text-sm relative",style:{background:x.status==="banned"?"#ef4444":x.status==="suspended"?"#f59e0b":`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:[((q=x.name)==null?void 0:q.charAt(0))||((ie=x.email)==null?void 0:ie.charAt(0))||"U",x.status==="banned"&&i.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-600 rounded-full flex items-center justify-center",children:i.jsx(Bt,{className:"w-3 h-3 text-white"})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:"font-medium text-sm",style:{color:N.navy},children:x.name||"No Name"}),x.status==="banned"&&i.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-red-100 text-red-700",children:"Banned"}),x.status==="suspended"&&i.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-yellow-100 text-yellow-700",children:"Suspended"})]}),i.jsx("p",{className:"text-xs text-gray-500",children:x.email})]})]}),i.jsxs("div",{className:"flex items-center gap-2 lg:gap-3",children:[i.jsxs("div",{className:"text-right hidden sm:block",children:[i.jsxs("p",{className:"font-bold text-sm",style:{color:N.green},children:["$",(x.balance||0).toLocaleString()]}),i.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${x.kycStatus==="verified"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:x.kycStatus||"pending"})]}),i.jsx(U.button,{onClick:()=>{Qt(x),Dt(!0)},whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 rounded-lg hover:bg-blue-100",title:"Send Message",children:i.jsx(es,{className:"w-4 h-4 text-blue-500"})}),i.jsx(U.button,{onClick:()=>p(x),whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 rounded-lg hover:bg-gray-100",title:"Edit User",children:i.jsx(su,{className:"w-4 h-4 text-gray-500"})})]})]})},Z)}),s.length===0&&i.jsx("p",{className:"text-center text-gray-500 py-12",children:"No users registered yet"})]})]}),i.jsx(ft,{children:f&&i.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>p(null),children:i.jsxs(U.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl",onClick:x=>x.stopPropagation(),children:[i.jsxs("h3",{className:"font-serif text-xl mb-4",style:{color:N.navy},children:["Edit User: ",f.name||f.email]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Balance ($)"}),i.jsx("input",{type:"number",value:f.balance||0,onChange:x=>p({...f,balance:parseFloat(x.target.value)||0}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"KYC Status"}),i.jsxs("select",{value:f.kycStatus||"pending",onChange:x=>p({...f,kycStatus:x.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",children:[i.jsx("option",{value:"pending",children:"Pending"}),i.jsx("option",{value:"verified",children:"Verified"}),i.jsx("option",{value:"rejected",children:"Rejected"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Status"}),i.jsxs("select",{value:f.status||"active",onChange:x=>p({...f,status:x.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",children:[i.jsx("option",{value:"active",children:" Active"}),i.jsx("option",{value:"suspended",children:" Suspended"}),i.jsx("option",{value:"banned",children:" Banned"})]}),f.status==="suspended"&&i.jsx("p",{className:"text-xs text-yellow-600 mt-1",children:"User can't withdraw or invest while suspended"}),f.status==="banned"&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:"User cannot access their account"})]})]}),i.jsxs("div",{className:"flex gap-3 mt-6",children:[i.jsx(U.button,{onClick:()=>p(null),whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl border border-gray-200",children:"Cancel"}),i.jsx(U.button,{onClick:()=>oe(f.uid,f),whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl text-white",style:{background:N.navy},children:"Save Changes"})]})]})})}),i.jsx(ft,{children:Et&&i.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>Ee(!1),children:i.jsxs(U.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-white rounded-2xl p-6 w-full max-w-lg shadow-2xl",onClick:x=>x.stopPropagation(),children:[i.jsx("h3",{className:"font-serif text-xl mb-4",style:{color:N.navy},children:" Broadcast Message to All Users"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message Title"}),i.jsx("input",{type:"text",value:Tt,onChange:x=>Wn(x.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",placeholder:"Important Announcement"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),i.jsx("textarea",{rows:4,value:zs,onChange:x=>Ge(x.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-xl resize-none",placeholder:"Enter your message to all users..."})]}),i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-3",children:i.jsxs("p",{className:"text-sm text-blue-700",children:[" This message will be sent to ",i.jsx("strong",{children:s.length})," users"]})})]}),i.jsxs("div",{className:"flex gap-3 mt-6",children:[i.jsx(U.button,{onClick:()=>Ee(!1),whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl border border-gray-200",children:"Cancel"}),i.jsxs(U.button,{onClick:mh,whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl text-white flex items-center justify-center gap-2",style:{background:N.navy},children:[i.jsx(Go,{className:"w-4 h-4"})," Send to All"]})]})]})})}),i.jsx(ft,{children:rt&&lt&&i.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>{Dt(!1),Qt(null)},children:i.jsxs(U.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-white rounded-2xl p-6 w-full max-w-lg shadow-2xl",onClick:x=>x.stopPropagation(),children:[i.jsxs("h3",{className:"font-serif text-xl mb-4",style:{color:N.navy},children:[" Message to ",lt.name||lt.email]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),i.jsx("input",{type:"text",value:Le,onChange:x=>qr(x.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",placeholder:"Account Update"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),i.jsx("textarea",{rows:4,value:Ja,onChange:x=>Ya(x.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-xl resize-none",placeholder:"Enter your message..."})]})]}),i.jsxs("div",{className:"flex gap-3 mt-6",children:[i.jsx(U.button,{onClick:()=>{Dt(!1),Qt(null)},whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl border border-gray-200",children:"Cancel"}),i.jsxs(U.button,{onClick:Gr,whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl text-white flex items-center justify-center gap-2",style:{background:N.green},children:[i.jsx(Go,{className:"w-4 h-4"})," Send Message"]})]})]})})})]}),e==="transactions"&&i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:N.navy},children:"Transaction Management"}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg overflow-hidden",children:[i.jsx("div",{className:"p-4 border-b border-gray-100",children:i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("span",{className:"px-3 py-1 rounded-full text-xs bg-yellow-100 text-yellow-700",children:[A," pending deposits"]}),i.jsxs("span",{className:"px-3 py-1 rounded-full text-xs bg-orange-100 text-orange-700",children:[fe," pending withdrawals"]})]})}),i.jsxs("div",{className:"divide-y divide-gray-100",children:[a.map((x,Z)=>{var q;return i.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${x.type==="deposit"?"bg-green-100":"bg-orange-100"}`,children:x.type==="deposit"?i.jsx(js,{className:"w-5 h-5 text-green-600"}):i.jsx(is,{className:"w-5 h-5 text-orange-600"})}),i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium text-sm",style:{color:N.navy},children:[x.type==="deposit"?"Deposit":"Withdrawal"," - ",x.crypto]}),i.jsx("p",{className:"text-xs text-gray-500",children:x.userEmail}),i.jsx("p",{className:"text-xs text-gray-400",children:new Date(x.createdAt).toLocaleString()})]})]}),i.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"font-bold",children:["$",(q=x.amount)==null?void 0:q.toLocaleString()]}),i.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${x.status==="completed"?"bg-green-100 text-green-700":x.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:x.status})]}),x.status==="pending"&&i.jsxs("div",{className:"flex gap-2",children:[i.jsx(U.button,{onClick:()=>ue(x.id,"completed"),whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 rounded-lg bg-green-100 text-green-600 hover:bg-green-200",children:i.jsx(cn,{className:"w-4 h-4"})}),i.jsx(U.button,{onClick:()=>ue(x.id,"rejected"),whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 rounded-lg bg-red-100 text-red-600 hover:bg-red-200",children:i.jsx(Bt,{className:"w-4 h-4"})})]})]})]})},Z)}),a.length===0&&i.jsx("p",{className:"text-center text-gray-500 py-12",children:"No transactions yet"})]})]})]}),e==="notifications"&&i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:N.navy},children:"Activity Log"}),i.jsx("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg overflow-hidden",children:i.jsxs("div",{className:"divide-y divide-gray-100",children:[d.map((x,Z)=>i.jsx("div",{className:`p-4 ${x.read?"":"bg-blue-50"}`,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center flex-shrink-0",children:i.jsx(Ts,{className:"w-5 h-5 text-gray-500"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-sm",style:{color:N.navy},children:x.message}),i.jsx("p",{className:"text-xs text-gray-500",children:new Date(x.createdAt).toLocaleString()})]})]})},Z)),d.length===0&&i.jsx("p",{className:"text-center text-gray-500 py-12",children:"No activity yet"})]})})]}),e==="pending"&&i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:N.navy},children:"Pending Approvals"}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[i.jsx("div",{className:"p-4 border-b border-gray-100",children:i.jsxs("p",{className:"text-sm text-gray-500",children:[qn.filter(x=>x.status==="pending").length," pending approvals"]})}),i.jsxs("div",{className:"divide-y divide-gray-100",children:[qn.filter(x=>x.status==="pending").map((x,Z)=>{var q;return i.jsx("div",{className:"p-4 hover:bg-yellow-50 transition-colors",children:i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"px-2 py-0.5 bg-yellow-100 text-yellow-700 rounded-full text-xs font-medium",children:" Pending"}),i.jsx("span",{className:"text-xs text-gray-400",children:new Date(x.createdAt).toLocaleDateString()})]}),i.jsx("p",{className:"font-semibold",style:{color:N.navy},children:x.investmentName}),i.jsx("p",{className:"text-sm text-gray-500",children:x.userEmail}),i.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm",children:[i.jsxs("span",{className:"font-bold text-lg",style:{color:N.green},children:["$",(q=x.amount)==null?void 0:q.toLocaleString()]}),i.jsxs("span",{className:"text-gray-400",children:["via ",x.crypto]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(U.button,{onClick:()=>Qa(x),whileHover:{scale:1.05},className:"px-4 py-2 rounded-lg text-white text-sm font-medium",style:{background:N.green},children:[i.jsx(cn,{className:"w-4 h-4 inline mr-1"})," Approve"]}),i.jsxs(U.button,{onClick:()=>ph(x),whileHover:{scale:1.05},className:"px-4 py-2 rounded-lg bg-red-100 text-red-600 text-sm font-medium",children:[i.jsx(Bt,{className:"w-4 h-4 inline mr-1"})," Reject"]})]})]})},Z)}),qn.filter(x=>x.status==="pending").length===0&&i.jsx("p",{className:"text-center text-gray-500 py-12",children:"No pending approvals"})]})]}),i.jsx("h3",{className:"font-serif text-lg mt-8 mb-4",style:{color:N.navy},children:"Recent Decisions"}),i.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:i.jsx("div",{className:"divide-y divide-gray-100",children:qn.filter(x=>x.status!=="pending").slice(0,10).map((x,Z)=>{var q;return i.jsx("div",{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",style:{color:N.navy},children:x.investmentName}),i.jsx("p",{className:"text-xs text-gray-500",children:x.userEmail})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${x.status==="approved"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:x.status==="approved"?" Approved":" Rejected"}),i.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["$",(q=x.amount)==null?void 0:q.toLocaleString()]})]})]})},Z)})})})]}),e==="investments"&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl",style:{color:N.navy},children:"Investment Plans"}),i.jsxs(U.button,{onClick:()=>le(!0),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-2 px-4 py-2 rounded-xl text-white text-sm font-medium",style:{background:N.green},children:[i.jsx($4,{className:"w-4 h-4"})," Add Investment"]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[i.jsx("div",{className:"p-4 border-b border-gray-100",children:i.jsxs("p",{className:"text-sm text-gray-500",children:[ee.length," investment plans"]})}),i.jsx("div",{className:"divide-y divide-gray-100",children:ee.map((x,Z)=>{var q;return i.jsx("div",{className:"p-4 hover:bg-gray-50",children:i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-gray-100 flex items-center justify-center flex-shrink-0",children:i.jsx(kg,{className:"w-6 h-6 text-gray-500"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"font-semibold truncate",style:{color:N.navy},children:x.name}),i.jsxs("p",{className:"text-xs text-gray-500",children:[x.category,"  Min $",(q=x.min)==null?void 0:q.toLocaleString()]}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-green-100 text-green-700",children:x.returns}),i.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-blue-100 text-blue-700",children:x.term}),i.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${x.status==="Active"?"bg-green-100 text-green-700":x.status==="Funding"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:x.status})]})]})]}),i.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[i.jsx(U.button,{onClick:()=>ce(x),whileHover:{scale:1.1},className:"p-2 rounded-lg bg-blue-100 text-blue-600",children:i.jsx(U4,{className:"w-4 h-4"})}),i.jsx(U.button,{onClick:()=>qe(x.id),whileHover:{scale:1.1},className:"p-2 rounded-lg bg-red-100 text-red-600",children:i.jsx(uN,{className:"w-4 h-4"})})]})]})},Z)})})]}),i.jsx(ft,{children:(O||G)&&i.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>{le(!1),ce(null)},children:i.jsxs(U.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-white rounded-2xl p-6 w-full max-w-lg shadow-2xl max-h-[90vh] overflow-y-auto",onClick:x=>x.stopPropagation(),children:[i.jsx("h3",{className:"font-serif text-xl mb-4",style:{color:N.navy},children:G?"Edit Investment":"Add New Investment"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),i.jsx("input",{type:"text",value:(G==null?void 0:G.name)||ae.name,onChange:x=>G?ce({...G,name:x.target.value}):_e({...ae,name:x.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl",placeholder:"Greenwich Towers"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),i.jsxs("select",{value:(G==null?void 0:G.category)||ae.category,onChange:x=>G?ce({...G,category:x.target.value}):_e({...ae,category:x.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl",children:[i.jsx("option",{children:"Real Estate"}),i.jsx("option",{children:"Cryptocurrency"}),i.jsx("option",{children:"Stocks & Bonds"}),i.jsx("option",{children:"Precious Metals"}),i.jsx("option",{children:"Investment Plans"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),i.jsxs("select",{value:(G==null?void 0:G.status)||ae.status,onChange:x=>G?ce({...G,status:x.target.value}):_e({...ae,status:x.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl",children:[i.jsx("option",{children:"Funding"}),i.jsx("option",{children:"Active"}),i.jsx("option",{children:"Open"}),i.jsx("option",{children:"Closed"}),i.jsx("option",{children:"Coming Soon"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Returns (e.g. 12-15%)"}),i.jsx("input",{type:"text",value:(G==null?void 0:G.returns)||ae.returns,onChange:x=>G?ce({...G,returns:x.target.value}):_e({...ae,returns:x.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl",placeholder:"12-15%"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Term (e.g. 24 months)"}),i.jsx("input",{type:"text",value:(G==null?void 0:G.term)||ae.term,onChange:x=>G?ce({...G,term:x.target.value}):_e({...ae,term:x.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl",placeholder:"24 months"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Investment ($)"}),i.jsx("input",{type:"number",value:(G==null?void 0:G.min)||ae.min,onChange:x=>G?ce({...G,min:parseInt(x.target.value)}):_e({...ae,min:parseInt(x.target.value)}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Funding Goal ($)"}),i.jsx("input",{type:"number",value:(G==null?void 0:G.goal)||ae.goal,onChange:x=>G?ce({...G,goal:parseInt(x.target.value)}):_e({...ae,goal:parseInt(x.target.value)}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Progress (%)"}),i.jsx("input",{type:"number",min:"0",max:"100",value:(G==null?void 0:G.progress)||ae.progress,onChange:x=>G?ce({...G,progress:parseInt(x.target.value)}):_e({...ae,progress:parseInt(x.target.value)}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),i.jsx("textarea",{rows:3,value:(G==null?void 0:G.desc)||ae.desc,onChange:x=>G?ce({...G,desc:x.target.value}):_e({...ae,desc:x.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl resize-none",placeholder:"Premium mixed-use development..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image URL (optional)"}),i.jsx("input",{type:"text",value:(G==null?void 0:G.customImg)||"",onChange:x=>G?ce({...G,customImg:x.target.value}):_e({...ae,customImg:x.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl",placeholder:"https://example.com/image.jpg"})]})]}),i.jsxs("div",{className:"flex gap-3 mt-6",children:[i.jsx(U.button,{onClick:()=>{le(!1),ce(null)},whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl border border-gray-200",children:"Cancel"}),i.jsx(U.button,{onClick:()=>xe(G||ae),whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl text-white",style:{background:N.green},children:G?"Save Changes":"Add Investment"})]})]})})})]}),e==="kyc"&&i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:N.navy},children:"KYC Verification"}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg overflow-hidden",children:[i.jsx("div",{className:"p-4 border-b border-gray-100",children:i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("span",{className:"px-3 py-1 rounded-full text-xs bg-yellow-100 text-yellow-700",children:[Pn.filter(x=>x.status==="submitted"||x.status==="pending").length," pending review"]}),i.jsxs("span",{className:"px-3 py-1 rounded-full text-xs bg-green-100 text-green-700",children:[Pn.filter(x=>x.status==="verified").length," verified"]}),i.jsxs("span",{className:"px-3 py-1 rounded-full text-xs bg-red-100 text-red-700",children:[Pn.filter(x=>x.status==="rejected").length," rejected"]})]})}),Pn.length===0?i.jsxs("div",{className:"p-8 text-center",children:[i.jsx(Ar,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),i.jsx("p",{className:"text-gray-500",children:"No KYC submissions yet"})]}):i.jsx("div",{className:"divide-y divide-gray-100",children:Pn.map((x,Z)=>i.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("span",{className:"font-semibold",style:{color:N.navy},children:x.fullName||"Unknown"}),i.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${x.status==="verified"?"bg-green-100 text-green-700":x.status==="rejected"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:x.status||"pending"})]}),i.jsx("p",{className:"text-sm text-gray-500",children:x.userEmail}),i.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 text-xs text-gray-500",children:[i.jsxs("span",{children:["ID Type: ",x.idType]}),i.jsx("span",{children:""}),i.jsxs("span",{children:["ID #: ",x.idNumber]}),i.jsx("span",{children:""}),i.jsxs("span",{children:["DOB: ",x.dateOfBirth]})]}),i.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Submitted: ",new Date(x.submittedAt).toLocaleString()]})]}),i.jsxs("div",{className:"flex gap-2",children:[x.idFront&&i.jsxs("div",{className:"relative group",children:[i.jsx("img",{src:x.idFront,alt:"ID Front",className:"w-16 h-12 object-cover rounded-lg border cursor-pointer",onClick:()=>window.open(x.idFront,"_blank")}),i.jsx("span",{className:"absolute -bottom-5 left-0 text-[10px] text-gray-500",children:"Front"})]}),x.idBack&&i.jsxs("div",{className:"relative group",children:[i.jsx("img",{src:x.idBack,alt:"ID Back",className:"w-16 h-12 object-cover rounded-lg border cursor-pointer",onClick:()=>window.open(x.idBack,"_blank")}),i.jsx("span",{className:"absolute -bottom-5 left-0 text-[10px] text-gray-500",children:"Back"})]}),x.selfie&&i.jsxs("div",{className:"relative group",children:[i.jsx("img",{src:x.selfie,alt:"Selfie",className:"w-16 h-12 object-cover rounded-lg border cursor-pointer",onClick:()=>window.open(x.selfie,"_blank")}),i.jsx("span",{className:"absolute -bottom-5 left-0 text-[10px] text-gray-500",children:"Selfie"})]})]}),(x.status==="submitted"||x.status==="pending")&&i.jsxs("div",{className:"flex gap-2 flex-shrink-0 mt-4 lg:mt-0",children:[i.jsxs(U.button,{onClick:()=>Kr(x),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-xl text-white text-sm font-medium flex items-center gap-1",style:{background:N.green},children:[i.jsx(cn,{className:"w-4 h-4"})," Approve"]}),i.jsxs(U.button,{onClick:()=>Za(x),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-xl bg-red-500 text-white text-sm font-medium flex items-center gap-1",children:[i.jsx(Bt,{className:"w-4 h-4"})," Reject"]})]}),x.status==="verified"&&i.jsxs("span",{className:"px-4 py-2 rounded-xl bg-green-100 text-green-700 text-sm font-medium flex items-center gap-1",children:[i.jsx(Ke,{className:"w-4 h-4"})," Verified"]}),x.status==="rejected"&&i.jsxs("div",{className:"text-right",children:[i.jsx("span",{className:"px-4 py-2 rounded-xl bg-red-100 text-red-700 text-sm font-medium",children:"Rejected"}),x.rejectReason&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:x.rejectReason})]})]})},Z))})]})]}),e==="tickets"&&i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:N.navy},children:"Support Tickets"}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg overflow-hidden",children:[i.jsx("div",{className:"p-4 border-b border-gray-100",children:i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("span",{className:"px-3 py-1 rounded-full text-xs bg-purple-100 text-purple-700",children:[$," open tickets"]}),i.jsxs("span",{className:"px-3 py-1 rounded-full text-xs bg-green-100 text-green-700",children:[V.filter(x=>x.status==="closed").length," closed"]})]})}),i.jsxs("div",{className:"divide-y divide-gray-100",children:[V.map((x,Z)=>i.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"font-mono text-xs px-2 py-0.5 rounded bg-gray-100",style:{color:N.navy},children:x.id}),i.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${x.priority==="urgent"?"bg-red-100 text-red-700":x.priority==="high"?"bg-orange-100 text-orange-700":x.priority==="medium"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:x.priority}),i.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${x.status==="open"?"bg-purple-100 text-purple-700":x.status==="in-progress"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:x.status})]}),i.jsx("p",{className:"font-medium text-sm",style:{color:N.navy},children:x.subject}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["From: ",x.name," (",x.email,")"]}),i.jsx("p",{className:"text-xs text-gray-400",children:new Date(x.createdAt).toLocaleString()}),i.jsx("p",{className:"text-sm text-gray-600 mt-2 line-clamp-2",children:x.message})]}),i.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[x.status==="open"&&i.jsxs(i.Fragment,{children:[i.jsx(U.button,{onClick:()=>{const q=V.map(ie=>ie.id===x.id?{...ie,status:"in-progress"}:ie);localStorage.setItem("saxovault_tickets",JSON.stringify(q)),window.location.reload()},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-3 py-1.5 rounded-lg bg-blue-100 text-blue-700 text-xs font-medium",children:"In Progress"}),i.jsxs(U.a,{href:`mailto:${x.email}?subject=Re: ${x.subject} [${x.id}]&body=Hi ${x.name},%0D%0A%0D%0AThank you for contacting SaxoVault Capital support.%0D%0A%0D%0A[Your response here]%0D%0A%0D%0ABest regards,%0D%0ASaxoVault Capital Support Team`,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-3 py-1.5 rounded-lg bg-green-100 text-green-700 text-xs font-medium flex items-center gap-1",children:[i.jsx(es,{className:"w-3 h-3"})," Reply"]})]}),x.status!=="closed"&&i.jsx(U.button,{onClick:()=>{const q=V.map(ie=>ie.id===x.id?{...ie,status:"closed"}:ie);localStorage.setItem("saxovault_tickets",JSON.stringify(q)),window.location.reload()},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-3 py-1.5 rounded-lg bg-gray-100 text-gray-700 text-xs font-medium",children:"Close"})]})]})},Z)),V.length===0&&i.jsx("p",{className:"text-center text-gray-500 py-12",children:"No tickets yet"})]})]})]}),e==="website"&&i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:N.navy},children:"Website Editor"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:N.navy},children:[i.jsx(ma,{className:"w-5 h-5"})," General Settings"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Site Name"}),i.jsx("input",{type:"text",value:w.siteName,onChange:x=>k({...w,siteName:x.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tagline"}),i.jsx("input",{type:"text",value:w.tagline,onChange:x=>k({...w,tagline:x.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hero Title"}),i.jsx("input",{type:"text",value:w.heroTitle,onChange:x=>k({...w,heroTitle:x.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hero Subtitle"}),i.jsx("textarea",{value:w.heroSubtitle,onChange:x=>k({...w,heroSubtitle:x.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",rows:2})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:N.navy},children:[i.jsx(Lm,{className:"w-5 h-5"})," Investment Limits"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Deposit ($)"}),i.jsx("input",{type:"number",value:w.minDeposit,onChange:x=>k({...w,minDeposit:parseInt(x.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Withdrawal ($)"}),i.jsx("input",{type:"number",value:w.minWithdrawal,onChange:x=>k({...w,minWithdrawal:parseInt(x.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Withdrawal Fee (%)"}),i.jsx("input",{type:"number",value:w.withdrawalFee,onChange:x=>k({...w,withdrawalFee:parseFloat(x.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",step:"0.1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Referral Bonus (%)"}),i.jsx("input",{type:"number",value:w.referralBonus,onChange:x=>k({...w,referralBonus:parseFloat(x.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",step:"0.1"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:N.navy},children:[i.jsx(su,{className:"w-5 h-5"})," Feature Toggles"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100",children:[i.jsx("input",{type:"checkbox",checked:w.maintenanceMode,onChange:x=>k({...w,maintenanceMode:x.target.checked}),className:"w-5 h-5 rounded"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:"Maintenance Mode"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Disable site for visitors"})]})]}),i.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100",children:[i.jsx("input",{type:"checkbox",checked:w.registrationOpen,onChange:x=>k({...w,registrationOpen:x.target.checked}),className:"w-5 h-5 rounded"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:"Registration Open"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Allow new user signups"})]})]}),i.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100",children:[i.jsx("input",{type:"checkbox",checked:w.kycRequired,onChange:x=>k({...w,kycRequired:x.target.checked}),className:"w-5 h-5 rounded"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:"KYC Required"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Require identity verification"})]})]}),i.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100",children:[i.jsx("input",{type:"checkbox",checked:w.twoFactorRequired,onChange:x=>k({...w,twoFactorRequired:x.target.checked}),className:"w-5 h-5 rounded"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:"2FA Required"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Force two-factor authentication"})]})]})]})]}),i.jsx(U.button,{onClick:I,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 rounded-xl text-white font-semibold",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:"Save Website Settings"})]})]}),e==="branding"&&i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:N.navy},children:"Branding"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:N.navy},children:[i.jsx(F4,{className:"w-5 h-5"})," Brand Colors"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Primary Color"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"color",value:S.primaryColor,onChange:x=>y({...S,primaryColor:x.target.value}),className:"w-12 h-10 rounded cursor-pointer"}),i.jsx("input",{type:"text",value:S.primaryColor,onChange:x=>y({...S,primaryColor:x.target.value}),className:"flex-1 px-4 py-2 border border-gray-200 rounded-xl font-mono text-sm"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Secondary Color"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"color",value:S.secondaryColor,onChange:x=>y({...S,secondaryColor:x.target.value}),className:"w-12 h-10 rounded cursor-pointer"}),i.jsx("input",{type:"text",value:S.secondaryColor,onChange:x=>y({...S,secondaryColor:x.target.value}),className:"flex-1 px-4 py-2 border border-gray-200 rounded-xl font-mono text-sm"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Accent Color (Gold)"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"color",value:S.accentColor,onChange:x=>y({...S,accentColor:x.target.value}),className:"w-12 h-10 rounded cursor-pointer"}),i.jsx("input",{type:"text",value:S.accentColor,onChange:x=>y({...S,accentColor:x.target.value}),className:"flex-1 px-4 py-2 border border-gray-200 rounded-xl font-mono text-sm"})]})]})]}),i.jsxs("div",{className:"mt-4 p-4 rounded-xl",style:{background:S.primaryColor},children:[i.jsx("p",{className:"text-white font-medium",children:"Primary Background Preview"}),i.jsx("p",{className:"text-sm mt-2",style:{color:S.accentColor},children:"Accent Text Color"})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:N.navy},children:[i.jsx(z4,{className:"w-5 h-5"})," Social Links"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Twitter/X URL"}),i.jsx("input",{type:"url",value:S.socialLinks.twitter,onChange:x=>y({...S,socialLinks:{...S.socialLinks,twitter:x.target.value}}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",placeholder:"https://twitter.com/..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telegram URL"}),i.jsx("input",{type:"url",value:S.socialLinks.telegram,onChange:x=>y({...S,socialLinks:{...S.socialLinks,telegram:x.target.value}}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",placeholder:"https://t.me/..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"LinkedIn URL"}),i.jsx("input",{type:"url",value:S.socialLinks.linkedin,onChange:x=>y({...S,socialLinks:{...S.socialLinks,linkedin:x.target.value}}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",placeholder:"https://linkedin.com/..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Facebook URL"}),i.jsx("input",{type:"url",value:S.socialLinks.facebook,onChange:x=>y({...S,socialLinks:{...S.socialLinks,facebook:x.target.value}}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",placeholder:"https://facebook.com/..."})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:N.navy},children:[i.jsx(Ku,{className:"w-5 h-5"})," Footer Text"]}),i.jsx("textarea",{value:S.footerText,onChange:x=>y({...S,footerText:x.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",rows:2})]}),i.jsx(U.button,{onClick:_,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 rounded-xl text-white font-semibold",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:"Save Branding Settings"})]})]}),e==="payments"&&i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:N.navy},children:"Payment Methods"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"font-serif text-lg flex items-center gap-2",style:{color:N.navy},children:[i.jsx("span",{className:"text-orange-500",children:""})," Bitcoin (BTC)"]}),i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:b.btcEnabled,onChange:x=>P({...b,btcEnabled:x.target.checked}),className:"w-5 h-5 rounded"}),i.jsx("span",{className:"text-sm font-medium",children:"Enabled"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Wallet Address"}),i.jsx("input",{type:"text",value:b.btcAddress,onChange:x=>P({...b,btcAddress:x.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl font-mono text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Deposit ($)"}),i.jsx("input",{type:"number",value:b.btcMinDeposit,onChange:x=>P({...b,btcMinDeposit:parseInt(x.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"font-serif text-lg flex items-center gap-2",style:{color:N.navy},children:[i.jsx("span",{className:"text-blue-500",children:""})," Ethereum (ETH)"]}),i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:b.ethEnabled,onChange:x=>P({...b,ethEnabled:x.target.checked}),className:"w-5 h-5 rounded"}),i.jsx("span",{className:"text-sm font-medium",children:"Enabled"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Wallet Address"}),i.jsx("input",{type:"text",value:b.ethAddress,onChange:x=>P({...b,ethAddress:x.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl font-mono text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Deposit ($)"}),i.jsx("input",{type:"number",value:b.ethMinDeposit,onChange:x=>P({...b,ethMinDeposit:parseInt(x.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"font-serif text-lg flex items-center gap-2",style:{color:N.navy},children:[i.jsx("span",{className:"text-green-500",children:""})," USDT (Tether)"]}),i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:b.usdtEnabled,onChange:x=>P({...b,usdtEnabled:x.target.checked}),className:"w-5 h-5 rounded"}),i.jsx("span",{className:"text-sm font-medium",children:"Enabled"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Wallet Address"}),i.jsx("input",{type:"text",value:b.usdtAddress,onChange:x=>P({...b,usdtAddress:x.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl font-mono text-sm"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Network"}),i.jsxs("select",{value:b.usdtNetwork,onChange:x=>P({...b,usdtNetwork:x.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",children:[i.jsx("option",{value:"TRC-20",children:"TRC-20 (Tron)"}),i.jsx("option",{value:"ERC-20",children:"ERC-20 (Ethereum)"}),i.jsx("option",{value:"BEP-20",children:"BEP-20 (BSC)"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Deposit ($)"}),i.jsx("input",{type:"number",value:b.usdtMinDeposit,onChange:x=>P({...b,usdtMinDeposit:parseInt(x.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"font-serif text-lg flex items-center gap-2",style:{color:N.navy},children:[i.jsx(C4,{className:"w-5 h-5"})," Bank Transfer"]}),i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:b.bankTransferEnabled,onChange:x=>P({...b,bankTransferEnabled:x.target.checked}),className:"w-5 h-5 rounded"}),i.jsx("span",{className:"text-sm font-medium",children:"Enabled"})]})]}),b.bankTransferEnabled&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bank Name"}),i.jsx("input",{type:"text",value:b.bankName,onChange:x=>P({...b,bankName:x.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Number"}),i.jsx("input",{type:"text",value:b.bankAccount,onChange:x=>P({...b,bankAccount:x.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Routing Number"}),i.jsx("input",{type:"text",value:b.bankRouting,onChange:x=>P({...b,bankRouting:x.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]})]})]}),i.jsx(U.button,{onClick:T,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 rounded-xl text-white font-semibold",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:"Save Payment Settings"})]})]}),e==="platform"&&i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:N.navy},children:"Platform Configuration"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:N.navy},children:[i.jsx(Lm,{className:"w-5 h-5"})," Withdrawal Limits"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Daily Withdrawal ($)"}),i.jsx("input",{type:"number",value:M.maxDailyWithdrawal,onChange:x=>B({...M,maxDailyWithdrawal:parseInt(x.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Single Withdrawal ($)"}),i.jsx("input",{type:"number",value:M.maxSingleWithdrawal,onChange:x=>B({...M,maxSingleWithdrawal:parseInt(x.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Processing Time"}),i.jsx("input",{type:"text",value:M.withdrawalProcessingTime,onChange:x=>B({...M,withdrawalProcessingTime:x.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:N.navy},children:[i.jsx(Qu,{className:"w-5 h-5"})," Automation"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100",children:[i.jsx("input",{type:"checkbox",checked:M.autoApproveDeposits,onChange:x=>B({...M,autoApproveDeposits:x.target.checked}),className:"w-5 h-5 rounded"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:"Auto-Approve Deposits"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Automatically approve all deposits"})]})]}),i.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100",children:[i.jsx("input",{type:"checkbox",checked:M.autoApproveWithdrawals,onChange:x=>B({...M,autoApproveWithdrawals:x.target.checked}),className:"w-5 h-5 rounded"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:"Auto-Approve Withdrawals"}),i.jsx("p",{className:"text-xs text-gray-500 text-red-500",children:" Use with caution"})]})]}),i.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100",children:[i.jsx("input",{type:"checkbox",checked:M.emailNotifications,onChange:x=>B({...M,emailNotifications:x.target.checked}),className:"w-5 h-5 rounded"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:"Email Notifications"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Send email alerts for transactions"})]})]}),i.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100",children:[i.jsx("input",{type:"checkbox",checked:M.smsNotifications,onChange:x=>B({...M,smsNotifications:x.target.checked}),className:"w-5 h-5 rounded"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:"SMS Notifications"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Send SMS alerts (requires setup)"})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:N.navy},children:[i.jsx(pa,{className:"w-5 h-5"})," Security Settings"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Session Timeout (minutes)"}),i.jsx("input",{type:"number",value:M.sessionTimeout,onChange:x=>B({...M,sessionTimeout:parseInt(x.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Login Attempts"}),i.jsx("input",{type:"number",value:M.maxLoginAttempts,onChange:x=>B({...M,maxLoginAttempts:parseInt(x.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"IP Whitelist (comma separated)"}),i.jsx("input",{type:"text",value:M.ipWhitelist,onChange:x=>B({...M,ipWhitelist:x.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",placeholder:"Leave empty to allow all IPs"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blocked Countries (comma separated)"}),i.jsx("input",{type:"text",value:M.blockedCountries,onChange:x=>B({...M,blockedCountries:x.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",placeholder:"e.g., US, UK, CN"})]})]})]}),i.jsx(U.button,{onClick:C,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 rounded-xl text-white font-semibold",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:"Save Platform Configuration"})]})]}),e==="settings"&&i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:N.navy},children:"Platform Settings"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:N.navy},children:[i.jsx(Av,{className:"w-5 h-5"})," Deposit Wallet Addresses"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bitcoin (BTC)"}),i.jsx("input",{type:"text",value:((Oi=l.wallets)==null?void 0:Oi.btc)||"",onChange:x=>c({...l,wallets:{...l.wallets,btc:x.target.value}}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl font-mono text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ethereum (ETH)"}),i.jsx("input",{type:"text",value:((Gn=l.wallets)==null?void 0:Gn.eth)||"",onChange:x=>c({...l,wallets:{...l.wallets,eth:x.target.value}}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl font-mono text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"USDT (TRC-20)"}),i.jsx("input",{type:"text",value:((eo=l.wallets)==null?void 0:eo.usdt)||"",onChange:x=>c({...l,wallets:{...l.wallets,usdt:x.target.value}}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl font-mono text-sm"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:N.navy},children:[i.jsx(Cg,{className:"w-5 h-5"})," Contact Settings"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"WhatsApp Number"}),i.jsx("input",{type:"text",value:l.whatsapp||"",onChange:x=>c({...l,whatsapp:x.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",placeholder:"+1234567890"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Support Email"}),i.jsx("input",{type:"email",value:l.email||"",onChange:x=>c({...l,email:x.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:N.navy},children:[i.jsx(ma,{className:"w-5 h-5"})," Site Settings"]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Site Name"}),i.jsx("input",{type:"text",value:l.siteName||"",onChange:x=>c({...l,siteName:x.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]})]}),i.jsx(U.button,{onClick:()=>re(l),whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 rounded-xl text-white font-semibold",style:{background:`linear-gradient(135deg, ${N.green} 0%, ${N.greenDark} 100%)`},children:"Save All Settings"})]})]})]})]})]})}function B6(){const[t,e]=D.useState(!1),[n,s]=D.useState(!1),[r,a]=D.useState(!1),[o,l]=D.useState(!1),[c,d]=D.useState("home"),[h,f]=D.useState(null),[p,v]=D.useState(!1),[E,w]=D.useState(!0),[k,S]=D.useState({name:"",email:"",phone:"",address:"",balance:0,profileImage:null}),y=D.useRef(null),[b,P]=D.useState(null),M=async(oe,ue)=>{console.log(" Verifying email:",ue,"with token:",oe);const re=JSON.parse(localStorage.getItem("saxovault_pending_verifications")||"{}"),V=re[ue];if(!V){const O=K.getUsers().find(le=>le.email===ue);O&&O.emailVerified?P({success:!0,message:"Your email is already verified! You can now login.",alreadyVerified:!0}):P({success:!1,message:"Verification link expired or invalid. Please request a new verification email."});return}if(V.token!==oe){P({success:!1,message:"Invalid verification code. Please request a new verification email."});return}if(new Date(V.expiry)<new Date){P({success:!1,message:"Verification link has expired. Please request a new verification email."});return}const $=V.uid,ee=localStorage.getItem(`user_${$}`);if(ee){const ce=JSON.parse(ee);ce.emailVerified=!0,ce.verificationToken=null,ce.verificationExpiry=null,ce.verifiedAt=new Date().toISOString(),localStorage.setItem(`user_${$}`,JSON.stringify(ce))}const Y=K.getUsers(),G=Y.findIndex(ce=>ce.uid===$);G>=0&&(Y[G].emailVerified=!0,Y[G].verifiedAt=new Date().toISOString(),K.setUsers(Y));try{const{updateUserInFirestore:ce}=await JI(async()=>{const{updateUserInFirestore:O}=await Promise.resolve().then(()=>l6);return{updateUserInFirestore:O}},void 0);await ce($,{emailVerified:!0,verifiedAt:new Date().toISOString(),verificationToken:null}),console.log(" User verified in Firestore")}catch(ce){console.log("Firestore update skipped:",ce)}delete re[ue],localStorage.setItem("saxovault_pending_verifications",JSON.stringify(re)),window.history.replaceState(null,"",window.location.pathname),P({success:!0,message:" Email verified successfully! You can now login to your account.",userName:V.name}),console.log(" Email verification successful for:",ue)},B=()=>{y.current&&y.current(),e(!1),S({name:"",email:"",phone:"",address:"",balance:0,profileImage:null}),localStorage.removeItem("saxovault_current_user"),alert(` Session Expired

You have been logged out due to inactivity. Please login again.`)},{showWarning:I,countdown:_,extendSession:T}=_6(t,B,30),C=(oe,ue)=>{const re=JSON.parse(localStorage.getItem("saxovault_activity_logs")||"{}");re[ue]||(re[ue]=[]),re[ue].unshift({type:oe,timestamp:new Date().toISOString(),ip:"User IP",device:navigator.userAgent.includes("Mobile")?"Mobile Device":"Desktop Browser"}),re[ue]=re[ue].slice(0,50),localStorage.setItem("saxovault_activity_logs",JSON.stringify(re))};D.useEffect(()=>{(window.location.pathname==="/admin"||window.location.hash==="#admin")&&a(!0);const oe=window.location.hash;if(oe.startsWith("#verify")){const re=new URLSearchParams(oe.replace("#verify?","")),V=re.get("token"),$=decodeURIComponent(re.get("email")||"");V&&$&&(console.log(" Processing email verification..."),console.log(" Email:",$),console.log(" Token:",V),M(V,$))}localStorage.getItem("saxovault_admin")==="true"&&(s(!0),a(!0));const ue=localStorage.getItem("saxovault_current_user");if(ue)try{const re=JSON.parse(ue);if(re&&re.uid&&re.email){const V=JSON.parse(localStorage.getItem(`user_${re.uid}`)||"{}"),$={...re,...V,uid:re.uid,email:re.email,name:V.name||re.name||"",phone:V.phone||re.phone||"",address:V.address||re.address||"",country:V.country||re.country||"",balance:V.balance??re.balance??0,profileImage:V.profileImage||re.profileImage||null,twoFactorEnabled:V.twoFactorEnabled||re.twoFactorEnabled||!1};S($),e(!0),console.log(" User session restored:",$.email)}}catch(re){console.error(" Error restoring user session:",re),localStorage.removeItem("saxovault_current_user")}setTimeout(()=>w(!1),800)},[]);const R=oe=>{if(oe){const ue=JSON.parse(localStorage.getItem(`user_${oe.uid}`)||"{}"),re={...oe,...ue,uid:oe.uid,email:oe.email,name:ue.name||oe.name||"",phone:ue.phone||oe.phone||"",address:ue.address||oe.address||"",country:ue.country||oe.country||"",balance:ue.balance??oe.balance??0,profileImage:ue.profileImage||oe.profileImage||null};S(re),C("login",re.email);const V=K.getUsers();if(!V.find(Y=>Y.email===oe.email)){let Y=null,G=null;if(oe.referralCode){const O=V.find(le=>le.referralCode===oe.referralCode||le.uid===oe.referralCode);O&&(Y=O.uid,G=oe.referralCode)}const ce={...oe,uid:oe.uid||Date.now().toString(),createdAt:new Date().toISOString(),balance:0,totalDeposited:0,totalWithdrawn:0,totalEarnings:0,activeInvestments:0,referralEarnings:0,referralCount:0,onboardingComplete:!1,referredBy:Y,usedReferralCode:G,registrationReferralCode:oe.referralCode};if(V.push(ce),K.setUsers(V),localStorage.setItem(`user_${ce.uid}`,JSON.stringify(ce)),re.referredBy=Y,re.usedReferralCode=G,l(!0),K.notifyAdmin({type:"new_user",title:" New User Registration",message:`${oe.name||"New user"} (${oe.email}) just registered${Y?" via referral":""}`,urgent:!0,actionRequired:!1}),Y){const O=V.find(le=>le.uid===Y);if(O){const le=V.map(xe=>xe.uid===O.uid?{...xe,referralCount:(xe.referralCount||0)+1}:xe);K.setUsers(le);const ae=JSON.parse(localStorage.getItem(`user_${O.uid}`)||"{}");ae.referralCount=(ae.referralCount||0)+1,localStorage.setItem(`user_${O.uid}`,JSON.stringify(ae)),Te.sendReferralNotification(O.email,oe.name||oe.email);const _e=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}");_e[O.uid]||(_e[O.uid]=[]),_e[O.uid].unshift({id:Date.now(),type:"referral",title:" New Referral!",message:`${oe.name||"Someone"} signed up using your referral link! You'll earn 4% bonus when they invest.`,read:!1,createdAt:new Date().toISOString()}),localStorage.setItem("saxovault_user_notifications",JSON.stringify(_e)),K.notifyAdmin({type:"referral",title:" New Referral Signup",message:`${oe.email} signed up via ${O.email}'s referral`,urgent:!1,actionRequired:!1})}}}localStorage.setItem("saxovault_current_user",JSON.stringify(re)),localStorage.setItem(`user_${re.uid}`,JSON.stringify(re))}e(!0)},L=async()=>{try{k.email&&C("logout",k.email),await QE()}catch{}e(!1),S({name:"",email:"",phone:"",address:"",balance:0,profileImage:null}),localStorage.removeItem("saxovault_current_user")};y.current=L;const A=()=>{localStorage.removeItem("saxovault_admin"),s(!1),a(!1)};if(r&&!n)return i.jsx(U6,{onLogin:()=>s(!0)});if(n)return i.jsx($6,{onLogout:A});if(b)return i.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",style:{background:N.cream},children:i.jsxs(U.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-3xl shadow-2xl p-8 max-w-md w-full text-center",children:[i.jsx("div",{className:"w-16 h-16 mx-auto mb-6",children:i.jsxs("svg",{viewBox:"0 0 50 55",className:"w-full h-full",children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"verifyGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#d4a853"}),i.jsx("stop",{offset:"50%",stopColor:"#f4d078"}),i.jsx("stop",{offset:"100%",stopColor:"#d4a853"})]})}),i.jsx("path",{d:"M25 0 L50 8 L50 30 C50 42 38 50 25 55 C12 50 0 42 0 30 L0 8 Z",fill:N.navy}),i.jsx("path",{d:"M25 5 L45 12 L45 29 C45 39 35 46 25 50 C15 46 5 39 5 29 L5 12 Z",fill:"none",stroke:"url(#verifyGold)",strokeWidth:"1.5"}),i.jsx("text",{x:"25",y:"35",fontFamily:"Georgia, serif",fontSize:"24",fontWeight:"bold",fill:"url(#verifyGold)",textAnchor:"middle",children:"S"})]})}),i.jsx(U.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.2},className:`w-20 h-20 mx-auto rounded-full flex items-center justify-center mb-6 ${b.success?"bg-green-100":"bg-red-100"}`,children:b.success?i.jsx(Ke,{className:"w-10 h-10 text-green-600"}):i.jsx(rs,{className:"w-10 h-10 text-red-600"})}),i.jsx("h1",{className:"font-serif text-2xl mb-3",style:{color:N.navy},children:b.success?"Email Verified!":"Verification Failed"}),i.jsx("p",{className:"text-gray-600 mb-6",children:b.message}),b.success&&i.jsxs(U.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-green-50 border border-green-200 rounded-xl p-4 mb-6",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(Ke,{className:"w-5 h-5 text-green-600"})}),i.jsx("span",{className:"font-semibold text-green-700",children:"EMAIL VERIFIED"})]}),b.userName&&i.jsxs("p",{className:"text-green-600 text-sm mt-2",children:["Welcome, ",b.userName,"!"]})]}),i.jsx(U.button,{onClick:()=>{P(null),window.location.hash=""},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-4 rounded-xl text-white font-semibold text-lg",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:b.success?"Continue to Login":"Try Again"}),i.jsx("p",{className:"text-xs text-gray-400 mt-6",children:"SaxoVault Capital - Premium Investment Solutions"})]})});if(!t)return i.jsx(g6,{onLogin:R});const fe=oe=>f(oe);return E?i.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{background:N.cream},children:i.jsxs(U.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[i.jsx(U.div,{animate:{rotate:360},transition:{repeat:1/0,duration:1.5,ease:"linear"},className:"w-16 h-16 mx-auto mb-4 rounded-full border-4 border-t-transparent",style:{borderColor:`${N.navy}30`,borderTopColor:N.gold}}),i.jsx("h2",{className:"font-serif text-xl",style:{color:N.navy},children:"SaxoVault"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Loading..."})]})}):i.jsx(w6,{children:i.jsxs("div",{className:"min-h-screen",style:{background:N.cream},children:[i.jsx(ft,{children:I&&i.jsx(N6,{countdown:_,onExtend:T,onLogout:L})}),i.jsx(ft,{children:o&&i.jsx(f6,{onComplete:()=>l(!1)})}),i.jsx(y6,{activePage:c,onNavigate:d,user:k,onLogout:L}),i.jsxs(ft,{children:[h&&!p&&i.jsx(I6,{investment:h,onClose:()=>f(null),onInvest:()=>v(!0)}),p&&h&&i.jsx(k6,{investment:h,onClose:()=>{v(!1),f(null)},balance:k.balance})]}),i.jsxs(ft,{mode:"wait",children:[c==="home"&&i.jsx(T6,{onNavigate:d,onSelectInvestment:fe},"home"),c==="investments"&&i.jsx(j6,{onSelectInvestment:fe},"investments"),c==="dashboard"&&i.jsx(C6,{user:k,onNavigate:d},"dashboard"),c==="history"&&i.jsx(A6,{user:k},"history"),c==="notifications"&&i.jsx(P6,{user:k},"notifications"),c==="activity"&&i.jsx(R6,{user:k},"activity"),c==="referral"&&i.jsx(V6,{user:k},"referral"),c==="calculator"&&i.jsx(L6,{},"calculator"),c==="profile"&&i.jsx(M6,{user:k,setUser:S,onLogout:L},"profile")]}),i.jsx(x6,{activePage:c,onNavigate:d}),i.jsx(S6,{})]})})}kf.createRoot(document.getElementById("root")).render(i.jsx(vd.StrictMode,{children:i.jsx(B6,{})}));
