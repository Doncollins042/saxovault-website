(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function bE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var y1={exports:{}},Cd={},x1={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ul=Symbol.for("react.element"),NE=Symbol.for("react.portal"),_E=Symbol.for("react.fragment"),SE=Symbol.for("react.strict_mode"),jE=Symbol.for("react.profiler"),EE=Symbol.for("react.provider"),TE=Symbol.for("react.context"),IE=Symbol.for("react.forward_ref"),kE=Symbol.for("react.suspense"),CE=Symbol.for("react.memo"),AE=Symbol.for("react.lazy"),Nx=Symbol.iterator;function PE(t){return t===null||typeof t!="object"?null:(t=Nx&&t[Nx]||t["@@iterator"],typeof t=="function"?t:null)}var v1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w1=Object.assign,b1={};function Ba(t,e,n){this.props=t,this.context=e,this.refs=b1,this.updater=n||v1}Ba.prototype.isReactComponent={};Ba.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ba.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function N1(){}N1.prototype=Ba.prototype;function vp(t,e,n){this.props=t,this.context=e,this.refs=b1,this.updater=n||v1}var wp=vp.prototype=new N1;wp.constructor=vp;w1(wp,Ba.prototype);wp.isPureReactComponent=!0;var _x=Array.isArray,_1=Object.prototype.hasOwnProperty,bp={current:null},S1={key:!0,ref:!0,__self:!0,__source:!0};function j1(t,e,n){var s,r={},a=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)_1.call(e,s)&&!S1.hasOwnProperty(s)&&(r[s]=e[s]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];r.children=c}if(t&&t.defaultProps)for(s in l=t.defaultProps,l)r[s]===void 0&&(r[s]=l[s]);return{$$typeof:Ul,type:t,key:a,ref:o,props:r,_owner:bp.current}}function RE(t,e){return{$$typeof:Ul,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Np(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ul}function DE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Sx=/\/+/g;function Fh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?DE(""+t.key):e.toString(36)}function Xc(t,e,n,s,r){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ul:case NE:o=!0}}if(o)return o=t,r=r(o),t=s===""?"."+Fh(o,0):s,_x(r)?(n="",t!=null&&(n=t.replace(Sx,"$&/")+"/"),Xc(r,e,n,"",function(d){return d})):r!=null&&(Np(r)&&(r=RE(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(Sx,"$&/")+"/")+t)),e.push(r)),1;if(o=0,s=s===""?".":s+":",_x(t))for(var l=0;l<t.length;l++){a=t[l];var c=s+Fh(a,l);o+=Xc(a,e,n,c,r)}else if(c=PE(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=s+Fh(a,l++),o+=Xc(a,e,n,c,r);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function jc(t,e,n){if(t==null)return t;var s=[],r=0;return Xc(t,s,"","",function(a){return e.call(n,a,r++)}),s}function VE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qt={current:null},Zc={transition:null},LE={ReactCurrentDispatcher:Qt,ReactCurrentBatchConfig:Zc,ReactCurrentOwner:bp};function E1(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:jc,forEach:function(t,e,n){jc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return jc(t,function(){e++}),e},toArray:function(t){return jc(t,function(e){return e})||[]},only:function(t){if(!Np(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ee.Component=Ba;Ee.Fragment=_E;Ee.Profiler=jE;Ee.PureComponent=vp;Ee.StrictMode=SE;Ee.Suspense=kE;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LE;Ee.act=E1;Ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=w1({},t.props),r=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=bp.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)_1.call(e,c)&&!S1.hasOwnProperty(c)&&(s[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:Ul,type:t.type,key:r,ref:a,props:s,_owner:o}};Ee.createContext=function(t){return t={$$typeof:TE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:EE,_context:t},t.Consumer=t};Ee.createElement=j1;Ee.createFactory=function(t){var e=j1.bind(null,t);return e.type=t,e};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(t){return{$$typeof:IE,render:t}};Ee.isValidElement=Np;Ee.lazy=function(t){return{$$typeof:AE,_payload:{_status:-1,_result:t},_init:VE}};Ee.memo=function(t,e){return{$$typeof:CE,type:t,compare:e===void 0?null:e}};Ee.startTransition=function(t){var e=Zc.transition;Zc.transition={};try{t()}finally{Zc.transition=e}};Ee.unstable_act=E1;Ee.useCallback=function(t,e){return Qt.current.useCallback(t,e)};Ee.useContext=function(t){return Qt.current.useContext(t)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(t){return Qt.current.useDeferredValue(t)};Ee.useEffect=function(t,e){return Qt.current.useEffect(t,e)};Ee.useId=function(){return Qt.current.useId()};Ee.useImperativeHandle=function(t,e,n){return Qt.current.useImperativeHandle(t,e,n)};Ee.useInsertionEffect=function(t,e){return Qt.current.useInsertionEffect(t,e)};Ee.useLayoutEffect=function(t,e){return Qt.current.useLayoutEffect(t,e)};Ee.useMemo=function(t,e){return Qt.current.useMemo(t,e)};Ee.useReducer=function(t,e,n){return Qt.current.useReducer(t,e,n)};Ee.useRef=function(t){return Qt.current.useRef(t)};Ee.useState=function(t){return Qt.current.useState(t)};Ee.useSyncExternalStore=function(t,e,n){return Qt.current.useSyncExternalStore(t,e,n)};Ee.useTransition=function(){return Qt.current.useTransition()};Ee.version="18.3.1";x1.exports=Ee;var D=x1.exports;const Ad=bE(D);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ME=D,OE=Symbol.for("react.element"),FE=Symbol.for("react.fragment"),$E=Object.prototype.hasOwnProperty,UE=ME.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,BE={key:!0,ref:!0,__self:!0,__source:!0};function T1(t,e,n){var s,r={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)$E.call(e,s)&&!BE.hasOwnProperty(s)&&(r[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:OE,type:t,key:a,ref:o,props:r,_owner:UE.current}}Cd.Fragment=FE;Cd.jsx=T1;Cd.jsxs=T1;y1.exports=Cd;var i=y1.exports,Mf={},I1={exports:{}},jn={},k1={exports:{}},C1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,U){var re=V.length;V.push(U);e:for(;0<re;){var Q=re-1>>>1,de=V[Q];if(0<r(de,U))V[Q]=U,V[re]=de,re=Q;else break e}}function n(V){return V.length===0?null:V[0]}function s(V){if(V.length===0)return null;var U=V[0],re=V.pop();if(re!==U){V[0]=re;e:for(var Q=0,de=V.length,ye=de>>>1;Q<ye;){var O=2*(Q+1)-1,ce=V[O],K=O+1,we=V[K];if(0>r(ce,re))K<de&&0>r(we,ce)?(V[Q]=we,V[K]=re,Q=K):(V[Q]=ce,V[O]=re,Q=O);else if(K<de&&0>r(we,re))V[Q]=we,V[K]=re,Q=K;else break e}}return U}function r(V,U){var re=V.sortIndex-U.sortIndex;return re!==0?re:V.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,f=null,p=3,x=!1,j=!1,_=!1,k=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(V){for(var U=n(d);U!==null;){if(U.callback===null)s(d);else if(U.startTime<=V)s(d),U.sortIndex=U.expirationTime,e(c,U);else break;U=n(d)}}function R(V){if(_=!1,b(V),!j)if(n(c)!==null)j=!0,le(M);else{var U=n(d);U!==null&&te(R,U.startTime-V)}}function M(V,U){j=!1,_&&(_=!1,S(w),w=-1),x=!0;var re=p;try{for(b(U),f=n(c);f!==null&&(!(f.expirationTime>U)||V&&!A());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,p=f.priorityLevel;var de=Q(f.expirationTime<=U);U=t.unstable_now(),typeof de=="function"?f.callback=de:f===n(c)&&s(c),b(U)}else s(c);f=n(c)}if(f!==null)var ye=!0;else{var O=n(d);O!==null&&te(R,O.startTime-U),ye=!1}return ye}finally{f=null,p=re,x=!1}}var B=!1,E=null,w=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function L(){if(E!==null){var V=t.unstable_now();C=V;var U=!0;try{U=E(!0,V)}finally{U?P():(B=!1,E=null)}}else B=!1}var P;if(typeof v=="function")P=function(){v(L)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,ae=fe.port2;fe.port1.onmessage=L,P=function(){ae.postMessage(null)}}else P=function(){k(L,0)};function le(V){E=V,B||(B=!0,P())}function te(V,U){w=k(function(){V(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){j||x||(j=!0,le(M))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(V){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var re=p;p=U;try{return V()}finally{p=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,U){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var re=p;p=V;try{return U()}finally{p=re}},t.unstable_scheduleCallback=function(V,U,re){var Q=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Q+re:Q):re=Q,V){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=re+de,V={id:h++,callback:U,priorityLevel:V,startTime:re,expirationTime:de,sortIndex:-1},re>Q?(V.sortIndex=re,e(d,V),n(c)===null&&V===n(d)&&(_?(S(w),w=-1):_=!0,te(R,re-Q))):(V.sortIndex=de,e(c,V),j||x||(j=!0,le(M))),V},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(V){var U=p;return function(){var re=p;p=U;try{return V.apply(this,arguments)}finally{p=re}}}})(C1);k1.exports=C1;var zE=k1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HE=D,_n=zE;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var A1=new Set,ul={};function Li(t,e){Sa(t,e),Sa(t+"Capture",e)}function Sa(t,e){for(ul[t]=e,t=0;t<e.length;t++)A1.add(e[t])}var Ds=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Of=Object.prototype.hasOwnProperty,WE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jx={},Ex={};function qE(t){return Of.call(Ex,t)?!0:Of.call(jx,t)?!1:WE.test(t)?Ex[t]=!0:(jx[t]=!0,!1)}function GE(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function KE(t,e,n,s){if(e===null||typeof e>"u"||GE(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xt(t,e,n,s,r,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Vt[t]=new Xt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Vt[e]=new Xt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Vt[t]=new Xt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Vt[t]=new Xt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Vt[t]=new Xt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Vt[t]=new Xt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Vt[t]=new Xt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Vt[t]=new Xt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Vt[t]=new Xt(t,5,!1,t.toLowerCase(),null,!1,!1)});var _p=/[\-:]([a-z])/g;function Sp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(_p,Sp);Vt[e]=new Xt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(_p,Sp);Vt[e]=new Xt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_p,Sp);Vt[e]=new Xt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Vt[t]=new Xt(t,1,!1,t.toLowerCase(),null,!1,!1)});Vt.xlinkHref=new Xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Vt[t]=new Xt(t,1,!1,t.toLowerCase(),null,!0,!0)});function jp(t,e,n,s){var r=Vt.hasOwnProperty(e)?Vt[e]:null;(r!==null?r.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(KE(e,n,r,s)&&(n=null),s||r===null?qE(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,s=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var zs=HE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ec=Symbol.for("react.element"),Qi=Symbol.for("react.portal"),Xi=Symbol.for("react.fragment"),Ep=Symbol.for("react.strict_mode"),Ff=Symbol.for("react.profiler"),P1=Symbol.for("react.provider"),R1=Symbol.for("react.context"),Tp=Symbol.for("react.forward_ref"),$f=Symbol.for("react.suspense"),Uf=Symbol.for("react.suspense_list"),Ip=Symbol.for("react.memo"),rr=Symbol.for("react.lazy"),D1=Symbol.for("react.offscreen"),Tx=Symbol.iterator;function No(t){return t===null||typeof t!="object"?null:(t=Tx&&t[Tx]||t["@@iterator"],typeof t=="function"?t:null)}var et=Object.assign,$h;function Po(t){if($h===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$h=e&&e[1]||""}return`
`+$h+t}var Uh=!1;function Bh(t,e){if(!t||Uh)return"";Uh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var s=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){s=d}t.call(e.prototype)}else{try{throw Error()}catch(d){s=d}t()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var r=d.stack.split(`
`),a=s.stack.split(`
`),o=r.length-1,l=a.length-1;1<=o&&0<=l&&r[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(r[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||r[o]!==a[l]){var c=`
`+r[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Uh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Po(t):""}function JE(t){switch(t.tag){case 5:return Po(t.type);case 16:return Po("Lazy");case 13:return Po("Suspense");case 19:return Po("SuspenseList");case 0:case 2:case 15:return t=Bh(t.type,!1),t;case 11:return t=Bh(t.type.render,!1),t;case 1:return t=Bh(t.type,!0),t;default:return""}}function Bf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xi:return"Fragment";case Qi:return"Portal";case Ff:return"Profiler";case Ep:return"StrictMode";case $f:return"Suspense";case Uf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case R1:return(t.displayName||"Context")+".Consumer";case P1:return(t._context.displayName||"Context")+".Provider";case Tp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ip:return e=t.displayName||null,e!==null?e:Bf(t.type)||"Memo";case rr:e=t._payload,t=t._init;try{return Bf(t(e))}catch{}}return null}function YE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bf(e);case 8:return e===Ep?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Pr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function V1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function QE(t){var e=V1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){s=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Tc(t){t._valueTracker||(t._valueTracker=QE(t))}function L1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=V1(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function Eu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function zf(t,e){var n=e.checked;return et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ix(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=Pr(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function M1(t,e){e=e.checked,e!=null&&jp(t,"checked",e,!1)}function Hf(t,e){M1(t,e);var n=Pr(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Wf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Wf(t,e.type,Pr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function kx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Wf(t,e,n){(e!=="number"||Eu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ro=Array.isArray;function fa(t,e,n,s){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&s&&(t[n].defaultSelected=!0)}else{for(n=""+Pr(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,s&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function qf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return et({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Cx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(Ro(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Pr(n)}}function O1(t,e){var n=Pr(e.value),s=Pr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function Ax(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function F1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?F1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ic,$1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ic=Ic||document.createElement("div"),Ic.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ic.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function dl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var zo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XE=["Webkit","ms","Moz","O"];Object.keys(zo).forEach(function(t){XE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),zo[e]=zo[t]})});function U1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||zo.hasOwnProperty(t)&&zo[t]?(""+e).trim():e+"px"}function B1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=U1(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,r):t[n]=r}}var ZE=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kf(t,e){if(e){if(ZE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function Jf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yf=null;function kp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qf=null,ma=null,pa=null;function Px(t){if(t=Hl(t)){if(typeof Qf!="function")throw Error(J(280));var e=t.stateNode;e&&(e=Ld(e),Qf(t.stateNode,t.type,e))}}function z1(t){ma?pa?pa.push(t):pa=[t]:ma=t}function H1(){if(ma){var t=ma,e=pa;if(pa=ma=null,Px(t),e)for(t=0;t<e.length;t++)Px(e[t])}}function W1(t,e){return t(e)}function q1(){}var zh=!1;function G1(t,e,n){if(zh)return t(e,n);zh=!0;try{return W1(t,e,n)}finally{zh=!1,(ma!==null||pa!==null)&&(q1(),H1())}}function hl(t,e){var n=t.stateNode;if(n===null)return null;var s=Ld(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var Xf=!1;if(Ds)try{var _o={};Object.defineProperty(_o,"passive",{get:function(){Xf=!0}}),window.addEventListener("test",_o,_o),window.removeEventListener("test",_o,_o)}catch{Xf=!1}function eT(t,e,n,s,r,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var Ho=!1,Tu=null,Iu=!1,Zf=null,tT={onError:function(t){Ho=!0,Tu=t}};function nT(t,e,n,s,r,a,o,l,c){Ho=!1,Tu=null,eT.apply(tT,arguments)}function sT(t,e,n,s,r,a,o,l,c){if(nT.apply(this,arguments),Ho){if(Ho){var d=Tu;Ho=!1,Tu=null}else throw Error(J(198));Iu||(Iu=!0,Zf=d)}}function Mi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function K1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Rx(t){if(Mi(t)!==t)throw Error(J(188))}function rT(t){var e=t.alternate;if(!e){if(e=Mi(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,s=e;;){var r=n.return;if(r===null)break;var a=r.alternate;if(a===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return Rx(r),t;if(a===s)return Rx(r),e;a=a.sibling}throw Error(J(188))}if(n.return!==s.return)n=r,s=a;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,s=a;break}if(l===s){o=!0,s=r,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,s=r;break}if(l===s){o=!0,s=a,n=r;break}l=l.sibling}if(!o)throw Error(J(189))}}if(n.alternate!==s)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function J1(t){return t=rT(t),t!==null?Y1(t):null}function Y1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Y1(t);if(e!==null)return e;t=t.sibling}return null}var Q1=_n.unstable_scheduleCallback,Dx=_n.unstable_cancelCallback,iT=_n.unstable_shouldYield,aT=_n.unstable_requestPaint,ct=_n.unstable_now,oT=_n.unstable_getCurrentPriorityLevel,Cp=_n.unstable_ImmediatePriority,X1=_n.unstable_UserBlockingPriority,ku=_n.unstable_NormalPriority,lT=_n.unstable_LowPriority,Z1=_n.unstable_IdlePriority,Pd=null,as=null;function cT(t){if(as&&typeof as.onCommitFiberRoot=="function")try{as.onCommitFiberRoot(Pd,t,void 0,(t.current.flags&128)===128)}catch{}}var Gn=Math.clz32?Math.clz32:hT,uT=Math.log,dT=Math.LN2;function hT(t){return t>>>=0,t===0?32:31-(uT(t)/dT|0)|0}var kc=64,Cc=4194304;function Do(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Cu(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,r=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~r;l!==0?s=Do(l):(a&=o,a!==0&&(s=Do(a)))}else o=n&~r,o!==0?s=Do(o):a!==0&&(s=Do(a));if(s===0)return 0;if(e!==0&&e!==s&&!(e&r)&&(r=s&-s,a=e&-e,r>=a||r===16&&(a&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-Gn(e),r=1<<n,s|=t[n],e&=~r;return s}function fT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mT(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Gn(a),l=1<<o,c=r[o];c===-1?(!(l&n)||l&s)&&(r[o]=fT(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function em(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function eb(){var t=kc;return kc<<=1,!(kc&4194240)&&(kc=64),t}function Hh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Bl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Gn(e),t[e]=n}function pT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Gn(n),a=1<<r;e[r]=0,s[r]=-1,t[r]=-1,n&=~a}}function Ap(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-Gn(n),r=1<<s;r&e|t[s]&e&&(t[s]|=e),n&=~r}}var De=0;function tb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var nb,Pp,sb,rb,ib,tm=!1,Ac=[],gr=null,yr=null,xr=null,fl=new Map,ml=new Map,or=[],gT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vx(t,e){switch(t){case"focusin":case"focusout":gr=null;break;case"dragenter":case"dragleave":yr=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":fl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(e.pointerId)}}function So(t,e,n,s,r,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[r]},e!==null&&(e=Hl(e),e!==null&&Pp(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function yT(t,e,n,s,r){switch(e){case"focusin":return gr=So(gr,t,e,n,s,r),!0;case"dragenter":return yr=So(yr,t,e,n,s,r),!0;case"mouseover":return xr=So(xr,t,e,n,s,r),!0;case"pointerover":var a=r.pointerId;return fl.set(a,So(fl.get(a)||null,t,e,n,s,r)),!0;case"gotpointercapture":return a=r.pointerId,ml.set(a,So(ml.get(a)||null,t,e,n,s,r)),!0}return!1}function ab(t){var e=di(t.target);if(e!==null){var n=Mi(e);if(n!==null){if(e=n.tag,e===13){if(e=K1(n),e!==null){t.blockedOn=e,ib(t.priority,function(){sb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function eu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=nm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);Yf=s,n.target.dispatchEvent(s),Yf=null}else return e=Hl(n),e!==null&&Pp(e),t.blockedOn=n,!1;e.shift()}return!0}function Lx(t,e,n){eu(t)&&n.delete(e)}function xT(){tm=!1,gr!==null&&eu(gr)&&(gr=null),yr!==null&&eu(yr)&&(yr=null),xr!==null&&eu(xr)&&(xr=null),fl.forEach(Lx),ml.forEach(Lx)}function jo(t,e){t.blockedOn===e&&(t.blockedOn=null,tm||(tm=!0,_n.unstable_scheduleCallback(_n.unstable_NormalPriority,xT)))}function pl(t){function e(r){return jo(r,t)}if(0<Ac.length){jo(Ac[0],t);for(var n=1;n<Ac.length;n++){var s=Ac[n];s.blockedOn===t&&(s.blockedOn=null)}}for(gr!==null&&jo(gr,t),yr!==null&&jo(yr,t),xr!==null&&jo(xr,t),fl.forEach(e),ml.forEach(e),n=0;n<or.length;n++)s=or[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<or.length&&(n=or[0],n.blockedOn===null);)ab(n),n.blockedOn===null&&or.shift()}var ga=zs.ReactCurrentBatchConfig,Au=!0;function vT(t,e,n,s){var r=De,a=ga.transition;ga.transition=null;try{De=1,Rp(t,e,n,s)}finally{De=r,ga.transition=a}}function wT(t,e,n,s){var r=De,a=ga.transition;ga.transition=null;try{De=4,Rp(t,e,n,s)}finally{De=r,ga.transition=a}}function Rp(t,e,n,s){if(Au){var r=nm(t,e,n,s);if(r===null)ef(t,e,s,Pu,n),Vx(t,s);else if(yT(r,t,e,n,s))s.stopPropagation();else if(Vx(t,s),e&4&&-1<gT.indexOf(t)){for(;r!==null;){var a=Hl(r);if(a!==null&&nb(a),a=nm(t,e,n,s),a===null&&ef(t,e,s,Pu,n),a===r)break;r=a}r!==null&&s.stopPropagation()}else ef(t,e,s,null,n)}}var Pu=null;function nm(t,e,n,s){if(Pu=null,t=kp(s),t=di(t),t!==null)if(e=Mi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=K1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Pu=t,null}function ob(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oT()){case Cp:return 1;case X1:return 4;case ku:case lT:return 16;case Z1:return 536870912;default:return 16}default:return 16}}var fr=null,Dp=null,tu=null;function lb(){if(tu)return tu;var t,e=Dp,n=e.length,s,r="value"in fr?fr.value:fr.textContent,a=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(s=1;s<=o&&e[n-s]===r[a-s];s++);return tu=r.slice(t,1<s?1-s:void 0)}function nu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Pc(){return!0}function Mx(){return!1}function En(t){function e(n,s,r,a,o){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Pc:Mx,this.isPropagationStopped=Mx,this}return et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pc)},persist:function(){},isPersistent:Pc}),e}var za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vp=En(za),zl=et({},za,{view:0,detail:0}),bT=En(zl),Wh,qh,Eo,Rd=et({},zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Eo&&(Eo&&t.type==="mousemove"?(Wh=t.screenX-Eo.screenX,qh=t.screenY-Eo.screenY):qh=Wh=0,Eo=t),Wh)},movementY:function(t){return"movementY"in t?t.movementY:qh}}),Ox=En(Rd),NT=et({},Rd,{dataTransfer:0}),_T=En(NT),ST=et({},zl,{relatedTarget:0}),Gh=En(ST),jT=et({},za,{animationName:0,elapsedTime:0,pseudoElement:0}),ET=En(jT),TT=et({},za,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),IT=En(TT),kT=et({},za,{data:0}),Fx=En(kT),CT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=PT[t])?!!e[t]:!1}function Lp(){return RT}var DT=et({},zl,{key:function(t){if(t.key){var e=CT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=nu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?AT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lp,charCode:function(t){return t.type==="keypress"?nu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?nu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),VT=En(DT),LT=et({},Rd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$x=En(LT),MT=et({},zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lp}),OT=En(MT),FT=et({},za,{propertyName:0,elapsedTime:0,pseudoElement:0}),$T=En(FT),UT=et({},Rd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),BT=En(UT),zT=[9,13,27,32],Mp=Ds&&"CompositionEvent"in window,Wo=null;Ds&&"documentMode"in document&&(Wo=document.documentMode);var HT=Ds&&"TextEvent"in window&&!Wo,cb=Ds&&(!Mp||Wo&&8<Wo&&11>=Wo),Ux=" ",Bx=!1;function ub(t,e){switch(t){case"keyup":return zT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function db(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Zi=!1;function WT(t,e){switch(t){case"compositionend":return db(e);case"keypress":return e.which!==32?null:(Bx=!0,Ux);case"textInput":return t=e.data,t===Ux&&Bx?null:t;default:return null}}function qT(t,e){if(Zi)return t==="compositionend"||!Mp&&ub(t,e)?(t=lb(),tu=Dp=fr=null,Zi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return cb&&e.locale!=="ko"?null:e.data;default:return null}}var GT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!GT[t.type]:e==="textarea"}function hb(t,e,n,s){z1(s),e=Ru(e,"onChange"),0<e.length&&(n=new Vp("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var qo=null,gl=null;function KT(t){_b(t,0)}function Dd(t){var e=na(t);if(L1(e))return t}function JT(t,e){if(t==="change")return e}var fb=!1;if(Ds){var Kh;if(Ds){var Jh="oninput"in document;if(!Jh){var Hx=document.createElement("div");Hx.setAttribute("oninput","return;"),Jh=typeof Hx.oninput=="function"}Kh=Jh}else Kh=!1;fb=Kh&&(!document.documentMode||9<document.documentMode)}function Wx(){qo&&(qo.detachEvent("onpropertychange",mb),gl=qo=null)}function mb(t){if(t.propertyName==="value"&&Dd(gl)){var e=[];hb(e,gl,t,kp(t)),G1(KT,e)}}function YT(t,e,n){t==="focusin"?(Wx(),qo=e,gl=n,qo.attachEvent("onpropertychange",mb)):t==="focusout"&&Wx()}function QT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Dd(gl)}function XT(t,e){if(t==="click")return Dd(e)}function ZT(t,e){if(t==="input"||t==="change")return Dd(e)}function eI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qn=typeof Object.is=="function"?Object.is:eI;function yl(t,e){if(Qn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!Of.call(e,r)||!Qn(t[r],e[r]))return!1}return!0}function qx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gx(t,e){var n=qx(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qx(n)}}function pb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?pb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function gb(){for(var t=window,e=Eu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Eu(t.document)}return e}function Op(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function tI(t){var e=gb(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&pb(n.ownerDocument.documentElement,n)){if(s!==null&&Op(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,a=Math.min(s.start,r);s=s.end===void 0?a:Math.min(s.end,r),!t.extend&&a>s&&(r=s,s=a,a=r),r=Gx(n,a);var o=Gx(n,s);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),a>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var nI=Ds&&"documentMode"in document&&11>=document.documentMode,ea=null,sm=null,Go=null,rm=!1;function Kx(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;rm||ea==null||ea!==Eu(s)||(s=ea,"selectionStart"in s&&Op(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Go&&yl(Go,s)||(Go=s,s=Ru(sm,"onSelect"),0<s.length&&(e=new Vp("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=ea)))}function Rc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ta={animationend:Rc("Animation","AnimationEnd"),animationiteration:Rc("Animation","AnimationIteration"),animationstart:Rc("Animation","AnimationStart"),transitionend:Rc("Transition","TransitionEnd")},Yh={},yb={};Ds&&(yb=document.createElement("div").style,"AnimationEvent"in window||(delete ta.animationend.animation,delete ta.animationiteration.animation,delete ta.animationstart.animation),"TransitionEvent"in window||delete ta.transitionend.transition);function Vd(t){if(Yh[t])return Yh[t];if(!ta[t])return t;var e=ta[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in yb)return Yh[t]=e[n];return t}var xb=Vd("animationend"),vb=Vd("animationiteration"),wb=Vd("animationstart"),bb=Vd("transitionend"),Nb=new Map,Jx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hr(t,e){Nb.set(t,e),Li(e,[t])}for(var Qh=0;Qh<Jx.length;Qh++){var Xh=Jx[Qh],sI=Xh.toLowerCase(),rI=Xh[0].toUpperCase()+Xh.slice(1);Hr(sI,"on"+rI)}Hr(xb,"onAnimationEnd");Hr(vb,"onAnimationIteration");Hr(wb,"onAnimationStart");Hr("dblclick","onDoubleClick");Hr("focusin","onFocus");Hr("focusout","onBlur");Hr(bb,"onTransitionEnd");Sa("onMouseEnter",["mouseout","mouseover"]);Sa("onMouseLeave",["mouseout","mouseover"]);Sa("onPointerEnter",["pointerout","pointerover"]);Sa("onPointerLeave",["pointerout","pointerover"]);Li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Li("onBeforeInput",["compositionend","keypress","textInput","paste"]);Li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vo));function Yx(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,sT(s,e,void 0,t),t.currentTarget=null}function _b(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],r=s.event;s=s.listeners;e:{var a=void 0;if(e)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&r.isPropagationStopped())break e;Yx(r,l,d),a=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&r.isPropagationStopped())break e;Yx(r,l,d),a=c}}}if(Iu)throw t=Zf,Iu=!1,Zf=null,t}function We(t,e){var n=e[cm];n===void 0&&(n=e[cm]=new Set);var s=t+"__bubble";n.has(s)||(Sb(e,t,2,!1),n.add(s))}function Zh(t,e,n){var s=0;e&&(s|=4),Sb(n,t,s,e)}var Dc="_reactListening"+Math.random().toString(36).slice(2);function xl(t){if(!t[Dc]){t[Dc]=!0,A1.forEach(function(n){n!=="selectionchange"&&(iI.has(n)||Zh(n,!1,t),Zh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Dc]||(e[Dc]=!0,Zh("selectionchange",!1,e))}}function Sb(t,e,n,s){switch(ob(e)){case 1:var r=vT;break;case 4:r=wT;break;default:r=Rp}n=r.bind(null,e,n,t),r=void 0,!Xf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function ef(t,e,n,s,r){var a=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;o=o.return}for(;l!==null;){if(o=di(l),o===null)return;if(c=o.tag,c===5||c===6){s=a=o;continue e}l=l.parentNode}}s=s.return}G1(function(){var d=a,h=kp(n),f=[];e:{var p=Nb.get(t);if(p!==void 0){var x=Vp,j=t;switch(t){case"keypress":if(nu(n)===0)break e;case"keydown":case"keyup":x=VT;break;case"focusin":j="focus",x=Gh;break;case"focusout":j="blur",x=Gh;break;case"beforeblur":case"afterblur":x=Gh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Ox;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=_T;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=OT;break;case xb:case vb:case wb:x=ET;break;case bb:x=$T;break;case"scroll":x=bT;break;case"wheel":x=BT;break;case"copy":case"cut":case"paste":x=IT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=$x}var _=(e&4)!==0,k=!_&&t==="scroll",S=_?p!==null?p+"Capture":null:p;_=[];for(var v=d,b;v!==null;){b=v;var R=b.stateNode;if(b.tag===5&&R!==null&&(b=R,S!==null&&(R=hl(v,S),R!=null&&_.push(vl(v,R,b)))),k)break;v=v.return}0<_.length&&(p=new x(p,j,null,n,h),f.push({event:p,listeners:_}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",p&&n!==Yf&&(j=n.relatedTarget||n.fromElement)&&(di(j)||j[Vs]))break e;if((x||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,x?(j=n.relatedTarget||n.toElement,x=d,j=j?di(j):null,j!==null&&(k=Mi(j),j!==k||j.tag!==5&&j.tag!==6)&&(j=null)):(x=null,j=d),x!==j)){if(_=Ox,R="onMouseLeave",S="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(_=$x,R="onPointerLeave",S="onPointerEnter",v="pointer"),k=x==null?p:na(x),b=j==null?p:na(j),p=new _(R,v+"leave",x,n,h),p.target=k,p.relatedTarget=b,R=null,di(h)===d&&(_=new _(S,v+"enter",j,n,h),_.target=b,_.relatedTarget=k,R=_),k=R,x&&j)t:{for(_=x,S=j,v=0,b=_;b;b=qi(b))v++;for(b=0,R=S;R;R=qi(R))b++;for(;0<v-b;)_=qi(_),v--;for(;0<b-v;)S=qi(S),b--;for(;v--;){if(_===S||S!==null&&_===S.alternate)break t;_=qi(_),S=qi(S)}_=null}else _=null;x!==null&&Qx(f,p,x,_,!1),j!==null&&k!==null&&Qx(f,k,j,_,!0)}}e:{if(p=d?na(d):window,x=p.nodeName&&p.nodeName.toLowerCase(),x==="select"||x==="input"&&p.type==="file")var M=JT;else if(zx(p))if(fb)M=ZT;else{M=QT;var B=YT}else(x=p.nodeName)&&x.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(M=XT);if(M&&(M=M(t,d))){hb(f,M,n,h);break e}B&&B(t,p,d),t==="focusout"&&(B=p._wrapperState)&&B.controlled&&p.type==="number"&&Wf(p,"number",p.value)}switch(B=d?na(d):window,t){case"focusin":(zx(B)||B.contentEditable==="true")&&(ea=B,sm=d,Go=null);break;case"focusout":Go=sm=ea=null;break;case"mousedown":rm=!0;break;case"contextmenu":case"mouseup":case"dragend":rm=!1,Kx(f,n,h);break;case"selectionchange":if(nI)break;case"keydown":case"keyup":Kx(f,n,h)}var E;if(Mp)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Zi?ub(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(cb&&n.locale!=="ko"&&(Zi||w!=="onCompositionStart"?w==="onCompositionEnd"&&Zi&&(E=lb()):(fr=h,Dp="value"in fr?fr.value:fr.textContent,Zi=!0)),B=Ru(d,w),0<B.length&&(w=new Fx(w,t,null,n,h),f.push({event:w,listeners:B}),E?w.data=E:(E=db(n),E!==null&&(w.data=E)))),(E=HT?WT(t,n):qT(t,n))&&(d=Ru(d,"onBeforeInput"),0<d.length&&(h=new Fx("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=E))}_b(f,e)})}function vl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ru(t,e){for(var n=e+"Capture",s=[];t!==null;){var r=t,a=r.stateNode;r.tag===5&&a!==null&&(r=a,a=hl(t,n),a!=null&&s.unshift(vl(t,a,r)),a=hl(t,e),a!=null&&s.push(vl(t,a,r))),t=t.return}return s}function qi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Qx(t,e,n,s,r){for(var a=e._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,r?(c=hl(n,a),c!=null&&o.unshift(vl(n,c,l))):r||(c=hl(n,a),c!=null&&o.push(vl(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var aI=/\r\n?/g,oI=/\u0000|\uFFFD/g;function Xx(t){return(typeof t=="string"?t:""+t).replace(aI,`
`).replace(oI,"")}function Vc(t,e,n){if(e=Xx(e),Xx(t)!==e&&n)throw Error(J(425))}function Du(){}var im=null,am=null;function om(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var lm=typeof setTimeout=="function"?setTimeout:void 0,lI=typeof clearTimeout=="function"?clearTimeout:void 0,Zx=typeof Promise=="function"?Promise:void 0,cI=typeof queueMicrotask=="function"?queueMicrotask:typeof Zx<"u"?function(t){return Zx.resolve(null).then(t).catch(uI)}:lm;function uI(t){setTimeout(function(){throw t})}function tf(t,e){var n=e,s=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){t.removeChild(r),pl(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);pl(e)}function vr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function e0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ha=Math.random().toString(36).slice(2),is="__reactFiber$"+Ha,wl="__reactProps$"+Ha,Vs="__reactContainer$"+Ha,cm="__reactEvents$"+Ha,dI="__reactListeners$"+Ha,hI="__reactHandles$"+Ha;function di(t){var e=t[is];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Vs]||n[is]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=e0(t);t!==null;){if(n=t[is])return n;t=e0(t)}return e}t=n,n=t.parentNode}return null}function Hl(t){return t=t[is]||t[Vs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function na(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function Ld(t){return t[wl]||null}var um=[],sa=-1;function Wr(t){return{current:t}}function Ke(t){0>sa||(t.current=um[sa],um[sa]=null,sa--)}function Be(t,e){sa++,um[sa]=t.current,t.current=e}var Rr={},Wt=Wr(Rr),on=Wr(!1),_i=Rr;function ja(t,e){var n=t.type.contextTypes;if(!n)return Rr;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var r={},a;for(a in n)r[a]=e[a];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function ln(t){return t=t.childContextTypes,t!=null}function Vu(){Ke(on),Ke(Wt)}function t0(t,e,n){if(Wt.current!==Rr)throw Error(J(168));Be(Wt,e),Be(on,n)}function jb(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in e))throw Error(J(108,YE(t)||"Unknown",r));return et({},n,s)}function Lu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Rr,_i=Wt.current,Be(Wt,t),Be(on,on.current),!0}function n0(t,e,n){var s=t.stateNode;if(!s)throw Error(J(169));n?(t=jb(t,e,_i),s.__reactInternalMemoizedMergedChildContext=t,Ke(on),Ke(Wt),Be(Wt,t)):Ke(on),Be(on,n)}var bs=null,Md=!1,nf=!1;function Eb(t){bs===null?bs=[t]:bs.push(t)}function fI(t){Md=!0,Eb(t)}function qr(){if(!nf&&bs!==null){nf=!0;var t=0,e=De;try{var n=bs;for(De=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}bs=null,Md=!1}catch(r){throw bs!==null&&(bs=bs.slice(t+1)),Q1(Cp,qr),r}finally{De=e,nf=!1}}return null}var ra=[],ia=0,Mu=null,Ou=0,An=[],Pn=0,Si=null,_s=1,Ss="";function ii(t,e){ra[ia++]=Ou,ra[ia++]=Mu,Mu=t,Ou=e}function Tb(t,e,n){An[Pn++]=_s,An[Pn++]=Ss,An[Pn++]=Si,Si=t;var s=_s;t=Ss;var r=32-Gn(s)-1;s&=~(1<<r),n+=1;var a=32-Gn(e)+r;if(30<a){var o=r-r%5;a=(s&(1<<o)-1).toString(32),s>>=o,r-=o,_s=1<<32-Gn(e)+r|n<<r|s,Ss=a+t}else _s=1<<a|n<<r|s,Ss=t}function Fp(t){t.return!==null&&(ii(t,1),Tb(t,1,0))}function $p(t){for(;t===Mu;)Mu=ra[--ia],ra[ia]=null,Ou=ra[--ia],ra[ia]=null;for(;t===Si;)Si=An[--Pn],An[Pn]=null,Ss=An[--Pn],An[Pn]=null,_s=An[--Pn],An[Pn]=null}var bn=null,vn=null,Ye=!1,Hn=null;function Ib(t,e){var n=Vn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function s0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,bn=t,vn=vr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,bn=t,vn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Si!==null?{id:_s,overflow:Ss}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Vn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,bn=t,vn=null,!0):!1;default:return!1}}function dm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function hm(t){if(Ye){var e=vn;if(e){var n=e;if(!s0(t,e)){if(dm(t))throw Error(J(418));e=vr(n.nextSibling);var s=bn;e&&s0(t,e)?Ib(s,n):(t.flags=t.flags&-4097|2,Ye=!1,bn=t)}}else{if(dm(t))throw Error(J(418));t.flags=t.flags&-4097|2,Ye=!1,bn=t}}}function r0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;bn=t}function Lc(t){if(t!==bn)return!1;if(!Ye)return r0(t),Ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!om(t.type,t.memoizedProps)),e&&(e=vn)){if(dm(t))throw kb(),Error(J(418));for(;e;)Ib(t,e),e=vr(e.nextSibling)}if(r0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){vn=vr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}vn=null}}else vn=bn?vr(t.stateNode.nextSibling):null;return!0}function kb(){for(var t=vn;t;)t=vr(t.nextSibling)}function Ea(){vn=bn=null,Ye=!1}function Up(t){Hn===null?Hn=[t]:Hn.push(t)}var mI=zs.ReactCurrentBatchConfig;function To(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var s=n.stateNode}if(!s)throw Error(J(147,t));var r=s,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=r.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function Mc(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function i0(t){var e=t._init;return e(t._payload)}function Cb(t){function e(S,v){if(t){var b=S.deletions;b===null?(S.deletions=[v],S.flags|=16):b.push(v)}}function n(S,v){if(!t)return null;for(;v!==null;)e(S,v),v=v.sibling;return null}function s(S,v){for(S=new Map;v!==null;)v.key!==null?S.set(v.key,v):S.set(v.index,v),v=v.sibling;return S}function r(S,v){return S=_r(S,v),S.index=0,S.sibling=null,S}function a(S,v,b){return S.index=b,t?(b=S.alternate,b!==null?(b=b.index,b<v?(S.flags|=2,v):b):(S.flags|=2,v)):(S.flags|=1048576,v)}function o(S){return t&&S.alternate===null&&(S.flags|=2),S}function l(S,v,b,R){return v===null||v.tag!==6?(v=uf(b,S.mode,R),v.return=S,v):(v=r(v,b),v.return=S,v)}function c(S,v,b,R){var M=b.type;return M===Xi?h(S,v,b.props.children,R,b.key):v!==null&&(v.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===rr&&i0(M)===v.type)?(R=r(v,b.props),R.ref=To(S,v,b),R.return=S,R):(R=cu(b.type,b.key,b.props,null,S.mode,R),R.ref=To(S,v,b),R.return=S,R)}function d(S,v,b,R){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=df(b,S.mode,R),v.return=S,v):(v=r(v,b.children||[]),v.return=S,v)}function h(S,v,b,R,M){return v===null||v.tag!==7?(v=xi(b,S.mode,R,M),v.return=S,v):(v=r(v,b),v.return=S,v)}function f(S,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=uf(""+v,S.mode,b),v.return=S,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ec:return b=cu(v.type,v.key,v.props,null,S.mode,b),b.ref=To(S,null,v),b.return=S,b;case Qi:return v=df(v,S.mode,b),v.return=S,v;case rr:var R=v._init;return f(S,R(v._payload),b)}if(Ro(v)||No(v))return v=xi(v,S.mode,b,null),v.return=S,v;Mc(S,v)}return null}function p(S,v,b,R){var M=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return M!==null?null:l(S,v,""+b,R);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ec:return b.key===M?c(S,v,b,R):null;case Qi:return b.key===M?d(S,v,b,R):null;case rr:return M=b._init,p(S,v,M(b._payload),R)}if(Ro(b)||No(b))return M!==null?null:h(S,v,b,R,null);Mc(S,b)}return null}function x(S,v,b,R,M){if(typeof R=="string"&&R!==""||typeof R=="number")return S=S.get(b)||null,l(v,S,""+R,M);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Ec:return S=S.get(R.key===null?b:R.key)||null,c(v,S,R,M);case Qi:return S=S.get(R.key===null?b:R.key)||null,d(v,S,R,M);case rr:var B=R._init;return x(S,v,b,B(R._payload),M)}if(Ro(R)||No(R))return S=S.get(b)||null,h(v,S,R,M,null);Mc(v,R)}return null}function j(S,v,b,R){for(var M=null,B=null,E=v,w=v=0,T=null;E!==null&&w<b.length;w++){E.index>w?(T=E,E=null):T=E.sibling;var C=p(S,E,b[w],R);if(C===null){E===null&&(E=T);break}t&&E&&C.alternate===null&&e(S,E),v=a(C,v,w),B===null?M=C:B.sibling=C,B=C,E=T}if(w===b.length)return n(S,E),Ye&&ii(S,w),M;if(E===null){for(;w<b.length;w++)E=f(S,b[w],R),E!==null&&(v=a(E,v,w),B===null?M=E:B.sibling=E,B=E);return Ye&&ii(S,w),M}for(E=s(S,E);w<b.length;w++)T=x(E,S,w,b[w],R),T!==null&&(t&&T.alternate!==null&&E.delete(T.key===null?w:T.key),v=a(T,v,w),B===null?M=T:B.sibling=T,B=T);return t&&E.forEach(function(A){return e(S,A)}),Ye&&ii(S,w),M}function _(S,v,b,R){var M=No(b);if(typeof M!="function")throw Error(J(150));if(b=M.call(b),b==null)throw Error(J(151));for(var B=M=null,E=v,w=v=0,T=null,C=b.next();E!==null&&!C.done;w++,C=b.next()){E.index>w?(T=E,E=null):T=E.sibling;var A=p(S,E,C.value,R);if(A===null){E===null&&(E=T);break}t&&E&&A.alternate===null&&e(S,E),v=a(A,v,w),B===null?M=A:B.sibling=A,B=A,E=T}if(C.done)return n(S,E),Ye&&ii(S,w),M;if(E===null){for(;!C.done;w++,C=b.next())C=f(S,C.value,R),C!==null&&(v=a(C,v,w),B===null?M=C:B.sibling=C,B=C);return Ye&&ii(S,w),M}for(E=s(S,E);!C.done;w++,C=b.next())C=x(E,S,w,C.value,R),C!==null&&(t&&C.alternate!==null&&E.delete(C.key===null?w:C.key),v=a(C,v,w),B===null?M=C:B.sibling=C,B=C);return t&&E.forEach(function(L){return e(S,L)}),Ye&&ii(S,w),M}function k(S,v,b,R){if(typeof b=="object"&&b!==null&&b.type===Xi&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Ec:e:{for(var M=b.key,B=v;B!==null;){if(B.key===M){if(M=b.type,M===Xi){if(B.tag===7){n(S,B.sibling),v=r(B,b.props.children),v.return=S,S=v;break e}}else if(B.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===rr&&i0(M)===B.type){n(S,B.sibling),v=r(B,b.props),v.ref=To(S,B,b),v.return=S,S=v;break e}n(S,B);break}else e(S,B);B=B.sibling}b.type===Xi?(v=xi(b.props.children,S.mode,R,b.key),v.return=S,S=v):(R=cu(b.type,b.key,b.props,null,S.mode,R),R.ref=To(S,v,b),R.return=S,S=R)}return o(S);case Qi:e:{for(B=b.key;v!==null;){if(v.key===B)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(S,v.sibling),v=r(v,b.children||[]),v.return=S,S=v;break e}else{n(S,v);break}else e(S,v);v=v.sibling}v=df(b,S.mode,R),v.return=S,S=v}return o(S);case rr:return B=b._init,k(S,v,B(b._payload),R)}if(Ro(b))return j(S,v,b,R);if(No(b))return _(S,v,b,R);Mc(S,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(S,v.sibling),v=r(v,b),v.return=S,S=v):(n(S,v),v=uf(b,S.mode,R),v.return=S,S=v),o(S)):n(S,v)}return k}var Ta=Cb(!0),Ab=Cb(!1),Fu=Wr(null),$u=null,aa=null,Bp=null;function zp(){Bp=aa=$u=null}function Hp(t){var e=Fu.current;Ke(Fu),t._currentValue=e}function fm(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function ya(t,e){$u=t,Bp=aa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(an=!0),t.firstContext=null)}function Mn(t){var e=t._currentValue;if(Bp!==t)if(t={context:t,memoizedValue:e,next:null},aa===null){if($u===null)throw Error(J(308));aa=t,$u.dependencies={lanes:0,firstContext:t}}else aa=aa.next=t;return e}var hi=null;function Wp(t){hi===null?hi=[t]:hi.push(t)}function Pb(t,e,n,s){var r=e.interleaved;return r===null?(n.next=n,Wp(e)):(n.next=r.next,r.next=n),e.interleaved=n,Ls(t,s)}function Ls(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ir=!1;function qp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Is(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wr(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,Pe&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,Ls(t,n)}return r=s.interleaved,r===null?(e.next=e,Wp(s)):(e.next=r.next,r.next=e),s.interleaved=e,Ls(t,n)}function su(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Ap(t,n)}}function a0(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?r=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?r=a=e:a=a.next=e}else r=a=e;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Uu(t,e,n,s){var r=t.updateQueue;ir=!1;var a=r.firstBaseUpdate,o=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(a!==null){var f=r.baseState;o=0,h=d=c=null,l=a;do{var p=l.lane,x=l.eventTime;if((s&p)===p){h!==null&&(h=h.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var j=t,_=l;switch(p=e,x=n,_.tag){case 1:if(j=_.payload,typeof j=="function"){f=j.call(x,f,p);break e}f=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=_.payload,p=typeof j=="function"?j.call(x,f,p):j,p==null)break e;f=et({},f,p);break e;case 2:ir=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=r.effects,p===null?r.effects=[l]:p.push(l))}else x={eventTime:x,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=x,c=f):h=h.next=x,o|=p;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;p=l,l=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(h===null&&(c=f),r.baseState=c,r.firstBaseUpdate=d,r.lastBaseUpdate=h,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else a===null&&(r.shared.lanes=0);Ei|=o,t.lanes=o,t.memoizedState=f}}function o0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(J(191,r));r.call(s)}}}var Wl={},os=Wr(Wl),bl=Wr(Wl),Nl=Wr(Wl);function fi(t){if(t===Wl)throw Error(J(174));return t}function Gp(t,e){switch(Be(Nl,e),Be(bl,t),Be(os,Wl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Gf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Gf(e,t)}Ke(os),Be(os,e)}function Ia(){Ke(os),Ke(bl),Ke(Nl)}function Db(t){fi(Nl.current);var e=fi(os.current),n=Gf(e,t.type);e!==n&&(Be(bl,t),Be(os,n))}function Kp(t){bl.current===t&&(Ke(os),Ke(bl))}var Qe=Wr(0);function Bu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var sf=[];function Jp(){for(var t=0;t<sf.length;t++)sf[t]._workInProgressVersionPrimary=null;sf.length=0}var ru=zs.ReactCurrentDispatcher,rf=zs.ReactCurrentBatchConfig,ji=0,Ze=null,vt=null,Et=null,zu=!1,Ko=!1,_l=0,pI=0;function Ot(){throw Error(J(321))}function Yp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Qn(t[n],e[n]))return!1;return!0}function Qp(t,e,n,s,r,a){if(ji=a,Ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ru.current=t===null||t.memoizedState===null?vI:wI,t=n(s,r),Ko){a=0;do{if(Ko=!1,_l=0,25<=a)throw Error(J(301));a+=1,Et=vt=null,e.updateQueue=null,ru.current=bI,t=n(s,r)}while(Ko)}if(ru.current=Hu,e=vt!==null&&vt.next!==null,ji=0,Et=vt=Ze=null,zu=!1,e)throw Error(J(300));return t}function Xp(){var t=_l!==0;return _l=0,t}function ss(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Ze.memoizedState=Et=t:Et=Et.next=t,Et}function On(){if(vt===null){var t=Ze.alternate;t=t!==null?t.memoizedState:null}else t=vt.next;var e=Et===null?Ze.memoizedState:Et.next;if(e!==null)Et=e,vt=t;else{if(t===null)throw Error(J(310));vt=t,t={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Et===null?Ze.memoizedState=Et=t:Et=Et.next=t}return Et}function Sl(t,e){return typeof e=="function"?e(t):e}function af(t){var e=On(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var s=vt,r=s.baseQueue,a=n.pending;if(a!==null){if(r!==null){var o=r.next;r.next=a.next,a.next=o}s.baseQueue=r=a,n.pending=null}if(r!==null){a=r.next,s=s.baseState;var l=o=null,c=null,d=a;do{var h=d.lane;if((ji&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:t(s,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=s):c=c.next=f,Ze.lanes|=h,Ei|=h}d=d.next}while(d!==null&&d!==a);c===null?o=s:c.next=l,Qn(s,e.memoizedState)||(an=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=c,n.lastRenderedState=s}if(t=n.interleaved,t!==null){r=t;do a=r.lane,Ze.lanes|=a,Ei|=a,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function of(t){var e=On(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var s=n.dispatch,r=n.pending,a=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do a=t(a,o.action),o=o.next;while(o!==r);Qn(a,e.memoizedState)||(an=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,s]}function Vb(){}function Lb(t,e){var n=Ze,s=On(),r=e(),a=!Qn(s.memoizedState,r);if(a&&(s.memoizedState=r,an=!0),s=s.queue,Zp(Fb.bind(null,n,s,t),[t]),s.getSnapshot!==e||a||Et!==null&&Et.memoizedState.tag&1){if(n.flags|=2048,jl(9,Ob.bind(null,n,s,r,e),void 0,null),Tt===null)throw Error(J(349));ji&30||Mb(n,e,r)}return r}function Mb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Ob(t,e,n,s){e.value=n,e.getSnapshot=s,$b(e)&&Ub(t)}function Fb(t,e,n){return n(function(){$b(e)&&Ub(t)})}function $b(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Qn(t,n)}catch{return!0}}function Ub(t){var e=Ls(t,1);e!==null&&Kn(e,t,1,-1)}function l0(t){var e=ss();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sl,lastRenderedState:t},e.queue=t,t=t.dispatch=xI.bind(null,Ze,t),[e.memoizedState,t]}function jl(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function Bb(){return On().memoizedState}function iu(t,e,n,s){var r=ss();Ze.flags|=t,r.memoizedState=jl(1|e,n,void 0,s===void 0?null:s)}function Od(t,e,n,s){var r=On();s=s===void 0?null:s;var a=void 0;if(vt!==null){var o=vt.memoizedState;if(a=o.destroy,s!==null&&Yp(s,o.deps)){r.memoizedState=jl(e,n,a,s);return}}Ze.flags|=t,r.memoizedState=jl(1|e,n,a,s)}function c0(t,e){return iu(8390656,8,t,e)}function Zp(t,e){return Od(2048,8,t,e)}function zb(t,e){return Od(4,2,t,e)}function Hb(t,e){return Od(4,4,t,e)}function Wb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function qb(t,e,n){return n=n!=null?n.concat([t]):null,Od(4,4,Wb.bind(null,e,t),n)}function eg(){}function Gb(t,e){var n=On();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Yp(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function Kb(t,e){var n=On();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Yp(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function Jb(t,e,n){return ji&21?(Qn(n,e)||(n=eb(),Ze.lanes|=n,Ei|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,an=!0),t.memoizedState=n)}function gI(t,e){var n=De;De=n!==0&&4>n?n:4,t(!0);var s=rf.transition;rf.transition={};try{t(!1),e()}finally{De=n,rf.transition=s}}function Yb(){return On().memoizedState}function yI(t,e,n){var s=Nr(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Qb(t))Xb(e,n);else if(n=Pb(t,e,n,s),n!==null){var r=Yt();Kn(n,t,s,r),Zb(n,e,s)}}function xI(t,e,n){var s=Nr(t),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qb(t))Xb(e,r);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,n);if(r.hasEagerState=!0,r.eagerState=l,Qn(l,o)){var c=e.interleaved;c===null?(r.next=r,Wp(e)):(r.next=c.next,c.next=r),e.interleaved=r;return}}catch{}finally{}n=Pb(t,e,r,s),n!==null&&(r=Yt(),Kn(n,t,s,r),Zb(n,e,s))}}function Qb(t){var e=t.alternate;return t===Ze||e!==null&&e===Ze}function Xb(t,e){Ko=zu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Zb(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Ap(t,n)}}var Hu={readContext:Mn,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},vI={readContext:Mn,useCallback:function(t,e){return ss().memoizedState=[t,e===void 0?null:e],t},useContext:Mn,useEffect:c0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,iu(4194308,4,Wb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return iu(4194308,4,t,e)},useInsertionEffect:function(t,e){return iu(4,2,t,e)},useMemo:function(t,e){var n=ss();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=ss();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=yI.bind(null,Ze,t),[s.memoizedState,t]},useRef:function(t){var e=ss();return t={current:t},e.memoizedState=t},useState:l0,useDebugValue:eg,useDeferredValue:function(t){return ss().memoizedState=t},useTransition:function(){var t=l0(!1),e=t[0];return t=gI.bind(null,t[1]),ss().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=Ze,r=ss();if(Ye){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),Tt===null)throw Error(J(349));ji&30||Mb(s,e,n)}r.memoizedState=n;var a={value:n,getSnapshot:e};return r.queue=a,c0(Fb.bind(null,s,a,t),[t]),s.flags|=2048,jl(9,Ob.bind(null,s,a,n,e),void 0,null),n},useId:function(){var t=ss(),e=Tt.identifierPrefix;if(Ye){var n=Ss,s=_s;n=(s&~(1<<32-Gn(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=_l++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=pI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},wI={readContext:Mn,useCallback:Gb,useContext:Mn,useEffect:Zp,useImperativeHandle:qb,useInsertionEffect:zb,useLayoutEffect:Hb,useMemo:Kb,useReducer:af,useRef:Bb,useState:function(){return af(Sl)},useDebugValue:eg,useDeferredValue:function(t){var e=On();return Jb(e,vt.memoizedState,t)},useTransition:function(){var t=af(Sl)[0],e=On().memoizedState;return[t,e]},useMutableSource:Vb,useSyncExternalStore:Lb,useId:Yb,unstable_isNewReconciler:!1},bI={readContext:Mn,useCallback:Gb,useContext:Mn,useEffect:Zp,useImperativeHandle:qb,useInsertionEffect:zb,useLayoutEffect:Hb,useMemo:Kb,useReducer:of,useRef:Bb,useState:function(){return of(Sl)},useDebugValue:eg,useDeferredValue:function(t){var e=On();return vt===null?e.memoizedState=t:Jb(e,vt.memoizedState,t)},useTransition:function(){var t=of(Sl)[0],e=On().memoizedState;return[t,e]},useMutableSource:Vb,useSyncExternalStore:Lb,useId:Yb,unstable_isNewReconciler:!1};function Bn(t,e){if(t&&t.defaultProps){e=et({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function mm(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:et({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Fd={isMounted:function(t){return(t=t._reactInternals)?Mi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=Yt(),r=Nr(t),a=Is(s,r);a.payload=e,n!=null&&(a.callback=n),e=wr(t,a,r),e!==null&&(Kn(e,t,r,s),su(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=Yt(),r=Nr(t),a=Is(s,r);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=wr(t,a,r),e!==null&&(Kn(e,t,r,s),su(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Yt(),s=Nr(t),r=Is(n,s);r.tag=2,e!=null&&(r.callback=e),e=wr(t,r,s),e!==null&&(Kn(e,t,s,n),su(e,t,s))}};function u0(t,e,n,s,r,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,a,o):e.prototype&&e.prototype.isPureReactComponent?!yl(n,s)||!yl(r,a):!0}function eN(t,e,n){var s=!1,r=Rr,a=e.contextType;return typeof a=="object"&&a!==null?a=Mn(a):(r=ln(e)?_i:Wt.current,s=e.contextTypes,a=(s=s!=null)?ja(t,r):Rr),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Fd,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=a),e}function d0(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&Fd.enqueueReplaceState(e,e.state,null)}function pm(t,e,n,s){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},qp(t);var a=e.contextType;typeof a=="object"&&a!==null?r.context=Mn(a):(a=ln(e)?_i:Wt.current,r.context=ja(t,a)),r.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(mm(t,e,a,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Fd.enqueueReplaceState(r,r.state,null),Uu(t,n,r,s),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function ka(t,e){try{var n="",s=e;do n+=JE(s),s=s.return;while(s);var r=n}catch(a){r=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:r,digest:null}}function lf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function gm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var NI=typeof WeakMap=="function"?WeakMap:Map;function tN(t,e,n){n=Is(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){qu||(qu=!0,Em=s),gm(t,e)},n}function nN(t,e,n){n=Is(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var r=e.value;n.payload=function(){return s(r)},n.callback=function(){gm(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){gm(t,e),typeof s!="function"&&(br===null?br=new Set([this]):br.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function h0(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new NI;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(n)||(r.add(n),t=LI.bind(null,t,e,n),e.then(t,t))}function f0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function m0(t,e,n,s,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Is(-1,1),e.tag=2,wr(n,e,1))),n.lanes|=1),t)}var _I=zs.ReactCurrentOwner,an=!1;function Jt(t,e,n,s){e.child=t===null?Ab(e,null,n,s):Ta(e,t.child,n,s)}function p0(t,e,n,s,r){n=n.render;var a=e.ref;return ya(e,r),s=Qp(t,e,n,s,a,r),n=Xp(),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ms(t,e,r)):(Ye&&n&&Fp(e),e.flags|=1,Jt(t,e,s,r),e.child)}function g0(t,e,n,s,r){if(t===null){var a=n.type;return typeof a=="function"&&!lg(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,sN(t,e,a,s,r)):(t=cu(n.type,null,s,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&r)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:yl,n(o,s)&&t.ref===e.ref)return Ms(t,e,r)}return e.flags|=1,t=_r(a,s),t.ref=e.ref,t.return=e,e.child=t}function sN(t,e,n,s,r){if(t!==null){var a=t.memoizedProps;if(yl(a,s)&&t.ref===e.ref)if(an=!1,e.pendingProps=s=a,(t.lanes&r)!==0)t.flags&131072&&(an=!0);else return e.lanes=t.lanes,Ms(t,e,r)}return ym(t,e,n,s,r)}function rN(t,e,n){var s=e.pendingProps,r=s.children,a=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(la,pn),pn|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Be(la,pn),pn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,Be(la,pn),pn|=s}else a!==null?(s=a.baseLanes|n,e.memoizedState=null):s=n,Be(la,pn),pn|=s;return Jt(t,e,r,n),e.child}function iN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ym(t,e,n,s,r){var a=ln(n)?_i:Wt.current;return a=ja(e,a),ya(e,r),n=Qp(t,e,n,s,a,r),s=Xp(),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ms(t,e,r)):(Ye&&s&&Fp(e),e.flags|=1,Jt(t,e,n,r),e.child)}function y0(t,e,n,s,r){if(ln(n)){var a=!0;Lu(e)}else a=!1;if(ya(e,r),e.stateNode===null)au(t,e),eN(e,n,s),pm(e,n,s,r),s=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Mn(d):(d=ln(n)?_i:Wt.current,d=ja(e,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==d)&&d0(e,o,s,d),ir=!1;var p=e.memoizedState;o.state=p,Uu(e,s,o,r),c=e.memoizedState,l!==s||p!==c||on.current||ir?(typeof h=="function"&&(mm(e,n,h,s),c=e.memoizedState),(l=ir||u0(e,n,l,s,p,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=c),o.props=s,o.state=c,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,Rb(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:Bn(e.type,l),o.props=d,f=e.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Mn(c):(c=ln(n)?_i:Wt.current,c=ja(e,c));var x=n.getDerivedStateFromProps;(h=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||p!==c)&&d0(e,o,s,c),ir=!1,p=e.memoizedState,o.state=p,Uu(e,s,o,r);var j=e.memoizedState;l!==f||p!==j||on.current||ir?(typeof x=="function"&&(mm(e,n,x,s),j=e.memoizedState),(d=ir||u0(e,n,d,s,p,j,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,j,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,j,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=j),o.props=s,o.state=j,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),s=!1)}return xm(t,e,n,s,a,r)}function xm(t,e,n,s,r,a){iN(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return r&&n0(e,n,!1),Ms(t,e,a);s=e.stateNode,_I.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=Ta(e,t.child,null,a),e.child=Ta(e,null,l,a)):Jt(t,e,l,a),e.memoizedState=s.state,r&&n0(e,n,!0),e.child}function aN(t){var e=t.stateNode;e.pendingContext?t0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&t0(t,e.context,!1),Gp(t,e.containerInfo)}function x0(t,e,n,s,r){return Ea(),Up(r),e.flags|=256,Jt(t,e,n,s),e.child}var vm={dehydrated:null,treeContext:null,retryLane:0};function wm(t){return{baseLanes:t,cachePool:null,transitions:null}}function oN(t,e,n){var s=e.pendingProps,r=Qe.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(r&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Be(Qe,r&1),t===null)return hm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,a?(s=e.mode,a=e.child,o={mode:"hidden",children:o},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Bd(o,s,0,null),t=xi(t,s,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=wm(n),e.memoizedState=vm,t):tg(e,o));if(r=t.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return SI(t,e,o,s,l,r,n);if(a){a=s.fallback,o=e.mode,r=t.child,l=r.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&e.child!==r?(s=e.child,s.childLanes=0,s.pendingProps=c,e.deletions=null):(s=_r(r,c),s.subtreeFlags=r.subtreeFlags&14680064),l!==null?a=_r(l,a):(a=xi(a,o,n,null),a.flags|=2),a.return=e,s.return=e,s.sibling=a,e.child=s,s=a,a=e.child,o=t.child.memoizedState,o=o===null?wm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=vm,s}return a=t.child,t=a.sibling,s=_r(a,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function tg(t,e){return e=Bd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Oc(t,e,n,s){return s!==null&&Up(s),Ta(e,t.child,null,n),t=tg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function SI(t,e,n,s,r,a,o){if(n)return e.flags&256?(e.flags&=-257,s=lf(Error(J(422))),Oc(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=s.fallback,r=e.mode,s=Bd({mode:"visible",children:s.children},r,0,null),a=xi(a,r,o,null),a.flags|=2,s.return=e,a.return=e,s.sibling=a,e.child=s,e.mode&1&&Ta(e,t.child,null,o),e.child.memoizedState=wm(o),e.memoizedState=vm,a);if(!(e.mode&1))return Oc(t,e,o,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var l=s.dgst;return s=l,a=Error(J(419)),s=lf(a,s,void 0),Oc(t,e,o,s)}if(l=(o&t.childLanes)!==0,an||l){if(s=Tt,s!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|o)?0:r,r!==0&&r!==a.retryLane&&(a.retryLane=r,Ls(t,r),Kn(s,t,r,-1))}return og(),s=lf(Error(J(421))),Oc(t,e,o,s)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=MI.bind(null,t),r._reactRetry=e,null):(t=a.treeContext,vn=vr(r.nextSibling),bn=e,Ye=!0,Hn=null,t!==null&&(An[Pn++]=_s,An[Pn++]=Ss,An[Pn++]=Si,_s=t.id,Ss=t.overflow,Si=e),e=tg(e,s.children),e.flags|=4096,e)}function v0(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),fm(t.return,e,n)}function cf(t,e,n,s,r){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=r)}function lN(t,e,n){var s=e.pendingProps,r=s.revealOrder,a=s.tail;if(Jt(t,e,s.children,n),s=Qe.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&v0(t,n,e);else if(t.tag===19)v0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(Be(Qe,s),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Bu(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),cf(e,!1,r,n,a);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Bu(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}cf(e,!0,n,null,a);break;case"together":cf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function au(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ms(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ei|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=_r(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=_r(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function jI(t,e,n){switch(e.tag){case 3:aN(e),Ea();break;case 5:Db(e);break;case 1:ln(e.type)&&Lu(e);break;case 4:Gp(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,r=e.memoizedProps.value;Be(Fu,s._currentValue),s._currentValue=r;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(Be(Qe,Qe.current&1),e.flags|=128,null):n&e.child.childLanes?oN(t,e,n):(Be(Qe,Qe.current&1),t=Ms(t,e,n),t!==null?t.sibling:null);Be(Qe,Qe.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return lN(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Be(Qe,Qe.current),s)break;return null;case 22:case 23:return e.lanes=0,rN(t,e,n)}return Ms(t,e,n)}var cN,bm,uN,dN;cN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};bm=function(){};uN=function(t,e,n,s){var r=t.memoizedProps;if(r!==s){t=e.stateNode,fi(os.current);var a=null;switch(n){case"input":r=zf(t,r),s=zf(t,s),a=[];break;case"select":r=et({},r,{value:void 0}),s=et({},s,{value:void 0}),a=[];break;case"textarea":r=qf(t,r),s=qf(t,s),a=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=Du)}Kf(n,s);var o;n=null;for(d in r)if(!s.hasOwnProperty(d)&&r.hasOwnProperty(d)&&r[d]!=null)if(d==="style"){var l=r[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ul.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in s){var c=s[d];if(l=r!=null?r[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ul.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&We("scroll",t),a||l===c||(a=[])):(a=a||[]).push(d,c))}n&&(a=a||[]).push("style",n);var d=a;(e.updateQueue=d)&&(e.flags|=4)}};dN=function(t,e,n,s){n!==s&&(e.flags|=4)};function Io(t,e){if(!Ye)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function EI(t,e,n){var s=e.pendingProps;switch($p(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(e),null;case 1:return ln(e.type)&&Vu(),Ft(e),null;case 3:return s=e.stateNode,Ia(),Ke(on),Ke(Wt),Jp(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Lc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Hn!==null&&(km(Hn),Hn=null))),bm(t,e),Ft(e),null;case 5:Kp(e);var r=fi(Nl.current);if(n=e.type,t!==null&&e.stateNode!=null)uN(t,e,n,s,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(J(166));return Ft(e),null}if(t=fi(os.current),Lc(e)){s=e.stateNode,n=e.type;var a=e.memoizedProps;switch(s[is]=e,s[wl]=a,t=(e.mode&1)!==0,n){case"dialog":We("cancel",s),We("close",s);break;case"iframe":case"object":case"embed":We("load",s);break;case"video":case"audio":for(r=0;r<Vo.length;r++)We(Vo[r],s);break;case"source":We("error",s);break;case"img":case"image":case"link":We("error",s),We("load",s);break;case"details":We("toggle",s);break;case"input":Ix(s,a),We("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},We("invalid",s);break;case"textarea":Cx(s,a),We("invalid",s)}Kf(n,a),r=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?s.textContent!==l&&(a.suppressHydrationWarning!==!0&&Vc(s.textContent,l,t),r=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Vc(s.textContent,l,t),r=["children",""+l]):ul.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&We("scroll",s)}switch(n){case"input":Tc(s),kx(s,a,!0);break;case"textarea":Tc(s),Ax(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=Du)}s=r,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=F1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(n,{is:s.is}):(t=o.createElement(n),n==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,n),t[is]=e,t[wl]=s,cN(t,e,!1,!1),e.stateNode=t;e:{switch(o=Jf(n,s),n){case"dialog":We("cancel",t),We("close",t),r=s;break;case"iframe":case"object":case"embed":We("load",t),r=s;break;case"video":case"audio":for(r=0;r<Vo.length;r++)We(Vo[r],t);r=s;break;case"source":We("error",t),r=s;break;case"img":case"image":case"link":We("error",t),We("load",t),r=s;break;case"details":We("toggle",t),r=s;break;case"input":Ix(t,s),r=zf(t,s),We("invalid",t);break;case"option":r=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},r=et({},s,{value:void 0}),We("invalid",t);break;case"textarea":Cx(t,s),r=qf(t,s),We("invalid",t);break;default:r=s}Kf(n,r),l=r;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?B1(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&$1(t,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&dl(t,c):typeof c=="number"&&dl(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ul.hasOwnProperty(a)?c!=null&&a==="onScroll"&&We("scroll",t):c!=null&&jp(t,a,c,o))}switch(n){case"input":Tc(t),kx(t,s,!1);break;case"textarea":Tc(t),Ax(t);break;case"option":s.value!=null&&t.setAttribute("value",""+Pr(s.value));break;case"select":t.multiple=!!s.multiple,a=s.value,a!=null?fa(t,!!s.multiple,a,!1):s.defaultValue!=null&&fa(t,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Du)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ft(e),null;case 6:if(t&&e.stateNode!=null)dN(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(J(166));if(n=fi(Nl.current),fi(os.current),Lc(e)){if(s=e.stateNode,n=e.memoizedProps,s[is]=e,(a=s.nodeValue!==n)&&(t=bn,t!==null))switch(t.tag){case 3:Vc(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vc(s.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[is]=e,e.stateNode=s}return Ft(e),null;case 13:if(Ke(Qe),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&vn!==null&&e.mode&1&&!(e.flags&128))kb(),Ea(),e.flags|=98560,a=!1;else if(a=Lc(e),s!==null&&s.dehydrated!==null){if(t===null){if(!a)throw Error(J(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(J(317));a[is]=e}else Ea(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ft(e),a=!1}else Hn!==null&&(km(Hn),Hn=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||Qe.current&1?wt===0&&(wt=3):og())),e.updateQueue!==null&&(e.flags|=4),Ft(e),null);case 4:return Ia(),bm(t,e),t===null&&xl(e.stateNode.containerInfo),Ft(e),null;case 10:return Hp(e.type._context),Ft(e),null;case 17:return ln(e.type)&&Vu(),Ft(e),null;case 19:if(Ke(Qe),a=e.memoizedState,a===null)return Ft(e),null;if(s=(e.flags&128)!==0,o=a.rendering,o===null)if(s)Io(a,!1);else{if(wt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Bu(t),o!==null){for(e.flags|=128,Io(a,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)a=n,t=s,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Be(Qe,Qe.current&1|2),e.child}t=t.sibling}a.tail!==null&&ct()>Ca&&(e.flags|=128,s=!0,Io(a,!1),e.lanes=4194304)}else{if(!s)if(t=Bu(o),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Io(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Ye)return Ft(e),null}else 2*ct()-a.renderingStartTime>Ca&&n!==1073741824&&(e.flags|=128,s=!0,Io(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=ct(),e.sibling=null,n=Qe.current,Be(Qe,s?n&1|2:n&1),e):(Ft(e),null);case 22:case 23:return ag(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?pn&1073741824&&(Ft(e),e.subtreeFlags&6&&(e.flags|=8192)):Ft(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function TI(t,e){switch($p(e),e.tag){case 1:return ln(e.type)&&Vu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ia(),Ke(on),Ke(Wt),Jp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Kp(e),null;case 13:if(Ke(Qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));Ea()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ke(Qe),null;case 4:return Ia(),null;case 10:return Hp(e.type._context),null;case 22:case 23:return ag(),null;case 24:return null;default:return null}}var Fc=!1,zt=!1,II=typeof WeakSet=="function"?WeakSet:Set,ie=null;function oa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){rt(t,e,s)}else n.current=null}function Nm(t,e,n){try{n()}catch(s){rt(t,e,s)}}var w0=!1;function kI(t,e){if(im=Au,t=gb(),Op(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,h=0,f=t,p=null;t:for(;;){for(var x;f!==n||r!==0&&f.nodeType!==3||(l=o+r),f!==a||s!==0&&f.nodeType!==3||(c=o+s),f.nodeType===3&&(o+=f.nodeValue.length),(x=f.firstChild)!==null;)p=f,f=x;for(;;){if(f===t)break t;if(p===n&&++d===r&&(l=o),p===a&&++h===s&&(c=o),(x=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=x}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(am={focusedElem:t,selectionRange:n},Au=!1,ie=e;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var j=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var _=j.memoizedProps,k=j.memoizedState,S=e.stateNode,v=S.getSnapshotBeforeUpdate(e.elementType===e.type?_:Bn(e.type,_),k);S.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(R){rt(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return j=w0,w0=!1,j}function Jo(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var a=r.destroy;r.destroy=void 0,a!==void 0&&Nm(e,n,a)}r=r.next}while(r!==s)}}function $d(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function _m(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function hN(t){var e=t.alternate;e!==null&&(t.alternate=null,hN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[is],delete e[wl],delete e[cm],delete e[dI],delete e[hI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function fN(t){return t.tag===5||t.tag===3||t.tag===4}function b0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sm(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Du));else if(s!==4&&(t=t.child,t!==null))for(Sm(t,e,n),t=t.sibling;t!==null;)Sm(t,e,n),t=t.sibling}function jm(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(jm(t,e,n),t=t.sibling;t!==null;)jm(t,e,n),t=t.sibling}var kt=null,zn=!1;function tr(t,e,n){for(n=n.child;n!==null;)mN(t,e,n),n=n.sibling}function mN(t,e,n){if(as&&typeof as.onCommitFiberUnmount=="function")try{as.onCommitFiberUnmount(Pd,n)}catch{}switch(n.tag){case 5:zt||oa(n,e);case 6:var s=kt,r=zn;kt=null,tr(t,e,n),kt=s,zn=r,kt!==null&&(zn?(t=kt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):kt.removeChild(n.stateNode));break;case 18:kt!==null&&(zn?(t=kt,n=n.stateNode,t.nodeType===8?tf(t.parentNode,n):t.nodeType===1&&tf(t,n),pl(t)):tf(kt,n.stateNode));break;case 4:s=kt,r=zn,kt=n.stateNode.containerInfo,zn=!0,tr(t,e,n),kt=s,zn=r;break;case 0:case 11:case 14:case 15:if(!zt&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var a=r,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Nm(n,e,o),r=r.next}while(r!==s)}tr(t,e,n);break;case 1:if(!zt&&(oa(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){rt(n,e,l)}tr(t,e,n);break;case 21:tr(t,e,n);break;case 22:n.mode&1?(zt=(s=zt)||n.memoizedState!==null,tr(t,e,n),zt=s):tr(t,e,n);break;default:tr(t,e,n)}}function N0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new II),e.forEach(function(s){var r=OI.bind(null,t,s);n.has(s)||(n.add(s),s.then(r,r))})}}function Un(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:kt=l.stateNode,zn=!1;break e;case 3:kt=l.stateNode.containerInfo,zn=!0;break e;case 4:kt=l.stateNode.containerInfo,zn=!0;break e}l=l.return}if(kt===null)throw Error(J(160));mN(a,o,r),kt=null,zn=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(d){rt(r,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)pN(e,t),e=e.sibling}function pN(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Un(e,t),ns(t),s&4){try{Jo(3,t,t.return),$d(3,t)}catch(_){rt(t,t.return,_)}try{Jo(5,t,t.return)}catch(_){rt(t,t.return,_)}}break;case 1:Un(e,t),ns(t),s&512&&n!==null&&oa(n,n.return);break;case 5:if(Un(e,t),ns(t),s&512&&n!==null&&oa(n,n.return),t.flags&32){var r=t.stateNode;try{dl(r,"")}catch(_){rt(t,t.return,_)}}if(s&4&&(r=t.stateNode,r!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&M1(r,a),Jf(l,o);var d=Jf(l,a);for(o=0;o<c.length;o+=2){var h=c[o],f=c[o+1];h==="style"?B1(r,f):h==="dangerouslySetInnerHTML"?$1(r,f):h==="children"?dl(r,f):jp(r,h,f,d)}switch(l){case"input":Hf(r,a);break;case"textarea":O1(r,a);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var x=a.value;x!=null?fa(r,!!a.multiple,x,!1):p!==!!a.multiple&&(a.defaultValue!=null?fa(r,!!a.multiple,a.defaultValue,!0):fa(r,!!a.multiple,a.multiple?[]:"",!1))}r[wl]=a}catch(_){rt(t,t.return,_)}}break;case 6:if(Un(e,t),ns(t),s&4){if(t.stateNode===null)throw Error(J(162));r=t.stateNode,a=t.memoizedProps;try{r.nodeValue=a}catch(_){rt(t,t.return,_)}}break;case 3:if(Un(e,t),ns(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{pl(e.containerInfo)}catch(_){rt(t,t.return,_)}break;case 4:Un(e,t),ns(t);break;case 13:Un(e,t),ns(t),r=t.child,r.flags&8192&&(a=r.memoizedState!==null,r.stateNode.isHidden=a,!a||r.alternate!==null&&r.alternate.memoizedState!==null||(rg=ct())),s&4&&N0(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(zt=(d=zt)||h,Un(e,t),zt=d):Un(e,t),ns(t),s&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(ie=t,h=t.child;h!==null;){for(f=ie=h;ie!==null;){switch(p=ie,x=p.child,p.tag){case 0:case 11:case 14:case 15:Jo(4,p,p.return);break;case 1:oa(p,p.return);var j=p.stateNode;if(typeof j.componentWillUnmount=="function"){s=p,n=p.return;try{e=s,j.props=e.memoizedProps,j.state=e.memoizedState,j.componentWillUnmount()}catch(_){rt(s,n,_)}}break;case 5:oa(p,p.return);break;case 22:if(p.memoizedState!==null){S0(f);continue}}x!==null?(x.return=p,ie=x):S0(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{r=f.stateNode,d?(a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=U1("display",o))}catch(_){rt(t,t.return,_)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(_){rt(t,t.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Un(e,t),ns(t),s&4&&N0(t);break;case 21:break;default:Un(e,t),ns(t)}}function ns(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(fN(n)){var s=n;break e}n=n.return}throw Error(J(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(dl(r,""),s.flags&=-33);var a=b0(t);jm(t,a,r);break;case 3:case 4:var o=s.stateNode.containerInfo,l=b0(t);Sm(t,l,o);break;default:throw Error(J(161))}}catch(c){rt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function CI(t,e,n){ie=t,gN(t)}function gN(t,e,n){for(var s=(t.mode&1)!==0;ie!==null;){var r=ie,a=r.child;if(r.tag===22&&s){var o=r.memoizedState!==null||Fc;if(!o){var l=r.alternate,c=l!==null&&l.memoizedState!==null||zt;l=Fc;var d=zt;if(Fc=o,(zt=c)&&!d)for(ie=r;ie!==null;)o=ie,c=o.child,o.tag===22&&o.memoizedState!==null?j0(r):c!==null?(c.return=o,ie=c):j0(r);for(;a!==null;)ie=a,gN(a),a=a.sibling;ie=r,Fc=l,zt=d}_0(t)}else r.subtreeFlags&8772&&a!==null?(a.return=r,ie=a):_0(t)}}function _0(t){for(;ie!==null;){var e=ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:zt||$d(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!zt)if(n===null)s.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Bn(e.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&o0(e,a,s);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}o0(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&pl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}zt||e.flags&512&&_m(e)}catch(p){rt(e,e.return,p)}}if(e===t){ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,ie=n;break}ie=e.return}}function S0(t){for(;ie!==null;){var e=ie;if(e===t){ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ie=n;break}ie=e.return}}function j0(t){for(;ie!==null;){var e=ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{$d(4,e)}catch(c){rt(e,n,c)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var r=e.return;try{s.componentDidMount()}catch(c){rt(e,r,c)}}var a=e.return;try{_m(e)}catch(c){rt(e,a,c)}break;case 5:var o=e.return;try{_m(e)}catch(c){rt(e,o,c)}}}catch(c){rt(e,e.return,c)}if(e===t){ie=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ie=l;break}ie=e.return}}var AI=Math.ceil,Wu=zs.ReactCurrentDispatcher,ng=zs.ReactCurrentOwner,Ln=zs.ReactCurrentBatchConfig,Pe=0,Tt=null,mt=null,Dt=0,pn=0,la=Wr(0),wt=0,El=null,Ei=0,Ud=0,sg=0,Yo=null,sn=null,rg=0,Ca=1/0,ws=null,qu=!1,Em=null,br=null,$c=!1,mr=null,Gu=0,Qo=0,Tm=null,ou=-1,lu=0;function Yt(){return Pe&6?ct():ou!==-1?ou:ou=ct()}function Nr(t){return t.mode&1?Pe&2&&Dt!==0?Dt&-Dt:mI.transition!==null?(lu===0&&(lu=eb()),lu):(t=De,t!==0||(t=window.event,t=t===void 0?16:ob(t.type)),t):1}function Kn(t,e,n,s){if(50<Qo)throw Qo=0,Tm=null,Error(J(185));Bl(t,n,s),(!(Pe&2)||t!==Tt)&&(t===Tt&&(!(Pe&2)&&(Ud|=n),wt===4&&lr(t,Dt)),cn(t,s),n===1&&Pe===0&&!(e.mode&1)&&(Ca=ct()+500,Md&&qr()))}function cn(t,e){var n=t.callbackNode;mT(t,e);var s=Cu(t,t===Tt?Dt:0);if(s===0)n!==null&&Dx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&Dx(n),e===1)t.tag===0?fI(E0.bind(null,t)):Eb(E0.bind(null,t)),cI(function(){!(Pe&6)&&qr()}),n=null;else{switch(tb(s)){case 1:n=Cp;break;case 4:n=X1;break;case 16:n=ku;break;case 536870912:n=Z1;break;default:n=ku}n=SN(n,yN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function yN(t,e){if(ou=-1,lu=0,Pe&6)throw Error(J(327));var n=t.callbackNode;if(xa()&&t.callbackNode!==n)return null;var s=Cu(t,t===Tt?Dt:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=Ku(t,s);else{e=s;var r=Pe;Pe|=2;var a=vN();(Tt!==t||Dt!==e)&&(ws=null,Ca=ct()+500,yi(t,e));do try{DI();break}catch(l){xN(t,l)}while(!0);zp(),Wu.current=a,Pe=r,mt!==null?e=0:(Tt=null,Dt=0,e=wt)}if(e!==0){if(e===2&&(r=em(t),r!==0&&(s=r,e=Im(t,r))),e===1)throw n=El,yi(t,0),lr(t,s),cn(t,ct()),n;if(e===6)lr(t,s);else{if(r=t.current.alternate,!(s&30)&&!PI(r)&&(e=Ku(t,s),e===2&&(a=em(t),a!==0&&(s=a,e=Im(t,a))),e===1))throw n=El,yi(t,0),lr(t,s),cn(t,ct()),n;switch(t.finishedWork=r,t.finishedLanes=s,e){case 0:case 1:throw Error(J(345));case 2:ai(t,sn,ws);break;case 3:if(lr(t,s),(s&130023424)===s&&(e=rg+500-ct(),10<e)){if(Cu(t,0)!==0)break;if(r=t.suspendedLanes,(r&s)!==s){Yt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=lm(ai.bind(null,t,sn,ws),e);break}ai(t,sn,ws);break;case 4:if(lr(t,s),(s&4194240)===s)break;for(e=t.eventTimes,r=-1;0<s;){var o=31-Gn(s);a=1<<o,o=e[o],o>r&&(r=o),s&=~a}if(s=r,s=ct()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*AI(s/1960))-s,10<s){t.timeoutHandle=lm(ai.bind(null,t,sn,ws),s);break}ai(t,sn,ws);break;case 5:ai(t,sn,ws);break;default:throw Error(J(329))}}}return cn(t,ct()),t.callbackNode===n?yN.bind(null,t):null}function Im(t,e){var n=Yo;return t.current.memoizedState.isDehydrated&&(yi(t,e).flags|=256),t=Ku(t,e),t!==2&&(e=sn,sn=n,e!==null&&km(e)),t}function km(t){sn===null?sn=t:sn.push.apply(sn,t)}function PI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],a=r.getSnapshot;r=r.value;try{if(!Qn(a(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function lr(t,e){for(e&=~sg,e&=~Ud,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Gn(e),s=1<<n;t[n]=-1,e&=~s}}function E0(t){if(Pe&6)throw Error(J(327));xa();var e=Cu(t,0);if(!(e&1))return cn(t,ct()),null;var n=Ku(t,e);if(t.tag!==0&&n===2){var s=em(t);s!==0&&(e=s,n=Im(t,s))}if(n===1)throw n=El,yi(t,0),lr(t,e),cn(t,ct()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ai(t,sn,ws),cn(t,ct()),null}function ig(t,e){var n=Pe;Pe|=1;try{return t(e)}finally{Pe=n,Pe===0&&(Ca=ct()+500,Md&&qr())}}function Ti(t){mr!==null&&mr.tag===0&&!(Pe&6)&&xa();var e=Pe;Pe|=1;var n=Ln.transition,s=De;try{if(Ln.transition=null,De=1,t)return t()}finally{De=s,Ln.transition=n,Pe=e,!(Pe&6)&&qr()}}function ag(){pn=la.current,Ke(la)}function yi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,lI(n)),mt!==null)for(n=mt.return;n!==null;){var s=n;switch($p(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Vu();break;case 3:Ia(),Ke(on),Ke(Wt),Jp();break;case 5:Kp(s);break;case 4:Ia();break;case 13:Ke(Qe);break;case 19:Ke(Qe);break;case 10:Hp(s.type._context);break;case 22:case 23:ag()}n=n.return}if(Tt=t,mt=t=_r(t.current,null),Dt=pn=e,wt=0,El=null,sg=Ud=Ei=0,sn=Yo=null,hi!==null){for(e=0;e<hi.length;e++)if(n=hi[e],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,a=n.pending;if(a!==null){var o=a.next;a.next=r,s.next=o}n.pending=s}hi=null}return t}function xN(t,e){do{var n=mt;try{if(zp(),ru.current=Hu,zu){for(var s=Ze.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}zu=!1}if(ji=0,Et=vt=Ze=null,Ko=!1,_l=0,ng.current=null,n===null||n.return===null){wt=1,El=e,mt=null;break}e:{var a=t,o=n.return,l=n,c=e;if(e=Dt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var x=f0(o);if(x!==null){x.flags&=-257,m0(x,o,l,a,e),x.mode&1&&h0(a,d,e),e=x,c=d;var j=e.updateQueue;if(j===null){var _=new Set;_.add(c),e.updateQueue=_}else j.add(c);break e}else{if(!(e&1)){h0(a,d,e),og();break e}c=Error(J(426))}}else if(Ye&&l.mode&1){var k=f0(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),m0(k,o,l,a,e),Up(ka(c,l));break e}}a=c=ka(c,l),wt!==4&&(wt=2),Yo===null?Yo=[a]:Yo.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var S=tN(a,c,e);a0(a,S);break e;case 1:l=c;var v=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(br===null||!br.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e;var R=nN(a,l,e);a0(a,R);break e}}a=a.return}while(a!==null)}bN(n)}catch(M){e=M,mt===n&&n!==null&&(mt=n=n.return);continue}break}while(!0)}function vN(){var t=Wu.current;return Wu.current=Hu,t===null?Hu:t}function og(){(wt===0||wt===3||wt===2)&&(wt=4),Tt===null||!(Ei&268435455)&&!(Ud&268435455)||lr(Tt,Dt)}function Ku(t,e){var n=Pe;Pe|=2;var s=vN();(Tt!==t||Dt!==e)&&(ws=null,yi(t,e));do try{RI();break}catch(r){xN(t,r)}while(!0);if(zp(),Pe=n,Wu.current=s,mt!==null)throw Error(J(261));return Tt=null,Dt=0,wt}function RI(){for(;mt!==null;)wN(mt)}function DI(){for(;mt!==null&&!iT();)wN(mt)}function wN(t){var e=_N(t.alternate,t,pn);t.memoizedProps=t.pendingProps,e===null?bN(t):mt=e,ng.current=null}function bN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=TI(n,e),n!==null){n.flags&=32767,mt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{wt=6,mt=null;return}}else if(n=EI(n,e,pn),n!==null){mt=n;return}if(e=e.sibling,e!==null){mt=e;return}mt=e=t}while(e!==null);wt===0&&(wt=5)}function ai(t,e,n){var s=De,r=Ln.transition;try{Ln.transition=null,De=1,VI(t,e,n,s)}finally{Ln.transition=r,De=s}return null}function VI(t,e,n,s){do xa();while(mr!==null);if(Pe&6)throw Error(J(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(pT(t,a),t===Tt&&(mt=Tt=null,Dt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$c||($c=!0,SN(ku,function(){return xa(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Ln.transition,Ln.transition=null;var o=De;De=1;var l=Pe;Pe|=4,ng.current=null,kI(t,n),pN(n,t),tI(am),Au=!!im,am=im=null,t.current=n,CI(n),aT(),Pe=l,De=o,Ln.transition=a}else t.current=n;if($c&&($c=!1,mr=t,Gu=r),a=t.pendingLanes,a===0&&(br=null),cT(n.stateNode),cn(t,ct()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(qu)throw qu=!1,t=Em,Em=null,t;return Gu&1&&t.tag!==0&&xa(),a=t.pendingLanes,a&1?t===Tm?Qo++:(Qo=0,Tm=t):Qo=0,qr(),null}function xa(){if(mr!==null){var t=tb(Gu),e=Ln.transition,n=De;try{if(Ln.transition=null,De=16>t?16:t,mr===null)var s=!1;else{if(t=mr,mr=null,Gu=0,Pe&6)throw Error(J(331));var r=Pe;for(Pe|=4,ie=t.current;ie!==null;){var a=ie,o=a.child;if(ie.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(ie=d;ie!==null;){var h=ie;switch(h.tag){case 0:case 11:case 15:Jo(8,h,a)}var f=h.child;if(f!==null)f.return=h,ie=f;else for(;ie!==null;){h=ie;var p=h.sibling,x=h.return;if(hN(h),h===d){ie=null;break}if(p!==null){p.return=x,ie=p;break}ie=x}}}var j=a.alternate;if(j!==null){var _=j.child;if(_!==null){j.child=null;do{var k=_.sibling;_.sibling=null,_=k}while(_!==null)}}ie=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,ie=o;else e:for(;ie!==null;){if(a=ie,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Jo(9,a,a.return)}var S=a.sibling;if(S!==null){S.return=a.return,ie=S;break e}ie=a.return}}var v=t.current;for(ie=v;ie!==null;){o=ie;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ie=b;else e:for(o=v;ie!==null;){if(l=ie,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:$d(9,l)}}catch(M){rt(l,l.return,M)}if(l===o){ie=null;break e}var R=l.sibling;if(R!==null){R.return=l.return,ie=R;break e}ie=l.return}}if(Pe=r,qr(),as&&typeof as.onPostCommitFiberRoot=="function")try{as.onPostCommitFiberRoot(Pd,t)}catch{}s=!0}return s}finally{De=n,Ln.transition=e}}return!1}function T0(t,e,n){e=ka(n,e),e=tN(t,e,1),t=wr(t,e,1),e=Yt(),t!==null&&(Bl(t,1,e),cn(t,e))}function rt(t,e,n){if(t.tag===3)T0(t,t,n);else for(;e!==null;){if(e.tag===3){T0(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(br===null||!br.has(s))){t=ka(n,t),t=nN(e,t,1),e=wr(e,t,1),t=Yt(),e!==null&&(Bl(e,1,t),cn(e,t));break}}e=e.return}}function LI(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=Yt(),t.pingedLanes|=t.suspendedLanes&n,Tt===t&&(Dt&n)===n&&(wt===4||wt===3&&(Dt&130023424)===Dt&&500>ct()-rg?yi(t,0):sg|=n),cn(t,e)}function NN(t,e){e===0&&(t.mode&1?(e=Cc,Cc<<=1,!(Cc&130023424)&&(Cc=4194304)):e=1);var n=Yt();t=Ls(t,e),t!==null&&(Bl(t,e,n),cn(t,n))}function MI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),NN(t,n)}function OI(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(J(314))}s!==null&&s.delete(e),NN(t,n)}var _N;_N=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||on.current)an=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return an=!1,jI(t,e,n);an=!!(t.flags&131072)}else an=!1,Ye&&e.flags&1048576&&Tb(e,Ou,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;au(t,e),t=e.pendingProps;var r=ja(e,Wt.current);ya(e,n),r=Qp(null,e,s,t,r,n);var a=Xp();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ln(s)?(a=!0,Lu(e)):a=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,qp(e),r.updater=Fd,e.stateNode=r,r._reactInternals=e,pm(e,s,t,n),e=xm(null,e,s,!0,a,n)):(e.tag=0,Ye&&a&&Fp(e),Jt(null,e,r,n),e=e.child),e;case 16:s=e.elementType;e:{switch(au(t,e),t=e.pendingProps,r=s._init,s=r(s._payload),e.type=s,r=e.tag=$I(s),t=Bn(s,t),r){case 0:e=ym(null,e,s,t,n);break e;case 1:e=y0(null,e,s,t,n);break e;case 11:e=p0(null,e,s,t,n);break e;case 14:e=g0(null,e,s,Bn(s.type,t),n);break e}throw Error(J(306,s,""))}return e;case 0:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Bn(s,r),ym(t,e,s,r,n);case 1:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Bn(s,r),y0(t,e,s,r,n);case 3:e:{if(aN(e),t===null)throw Error(J(387));s=e.pendingProps,a=e.memoizedState,r=a.element,Rb(t,e),Uu(e,s,null,n);var o=e.memoizedState;if(s=o.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){r=ka(Error(J(423)),e),e=x0(t,e,s,n,r);break e}else if(s!==r){r=ka(Error(J(424)),e),e=x0(t,e,s,n,r);break e}else for(vn=vr(e.stateNode.containerInfo.firstChild),bn=e,Ye=!0,Hn=null,n=Ab(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ea(),s===r){e=Ms(t,e,n);break e}Jt(t,e,s,n)}e=e.child}return e;case 5:return Db(e),t===null&&hm(e),s=e.type,r=e.pendingProps,a=t!==null?t.memoizedProps:null,o=r.children,om(s,r)?o=null:a!==null&&om(s,a)&&(e.flags|=32),iN(t,e),Jt(t,e,o,n),e.child;case 6:return t===null&&hm(e),null;case 13:return oN(t,e,n);case 4:return Gp(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=Ta(e,null,s,n):Jt(t,e,s,n),e.child;case 11:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Bn(s,r),p0(t,e,s,r,n);case 7:return Jt(t,e,e.pendingProps,n),e.child;case 8:return Jt(t,e,e.pendingProps.children,n),e.child;case 12:return Jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,r=e.pendingProps,a=e.memoizedProps,o=r.value,Be(Fu,s._currentValue),s._currentValue=o,a!==null)if(Qn(a.value,o)){if(a.children===r.children&&!on.current){e=Ms(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(a.tag===1){c=Is(-1,n&-n),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),fm(a.return,n,e),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(J(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),fm(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Jt(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,s=e.pendingProps.children,ya(e,n),r=Mn(r),s=s(r),e.flags|=1,Jt(t,e,s,n),e.child;case 14:return s=e.type,r=Bn(s,e.pendingProps),r=Bn(s.type,r),g0(t,e,s,r,n);case 15:return sN(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Bn(s,r),au(t,e),e.tag=1,ln(s)?(t=!0,Lu(e)):t=!1,ya(e,n),eN(e,s,r),pm(e,s,r,n),xm(null,e,s,!0,t,n);case 19:return lN(t,e,n);case 22:return rN(t,e,n)}throw Error(J(156,e.tag))};function SN(t,e){return Q1(t,e)}function FI(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,e,n,s){return new FI(t,e,n,s)}function lg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $I(t){if(typeof t=="function")return lg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Tp)return 11;if(t===Ip)return 14}return 2}function _r(t,e){var n=t.alternate;return n===null?(n=Vn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function cu(t,e,n,s,r,a){var o=2;if(s=t,typeof t=="function")lg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Xi:return xi(n.children,r,a,e);case Ep:o=8,r|=8;break;case Ff:return t=Vn(12,n,e,r|2),t.elementType=Ff,t.lanes=a,t;case $f:return t=Vn(13,n,e,r),t.elementType=$f,t.lanes=a,t;case Uf:return t=Vn(19,n,e,r),t.elementType=Uf,t.lanes=a,t;case D1:return Bd(n,r,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P1:o=10;break e;case R1:o=9;break e;case Tp:o=11;break e;case Ip:o=14;break e;case rr:o=16,s=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=Vn(o,n,e,r),e.elementType=t,e.type=s,e.lanes=a,e}function xi(t,e,n,s){return t=Vn(7,t,s,e),t.lanes=n,t}function Bd(t,e,n,s){return t=Vn(22,t,s,e),t.elementType=D1,t.lanes=n,t.stateNode={isHidden:!1},t}function uf(t,e,n){return t=Vn(6,t,null,e),t.lanes=n,t}function df(t,e,n){return e=Vn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function UI(t,e,n,s,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hh(0),this.expirationTimes=Hh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hh(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function cg(t,e,n,s,r,a,o,l,c){return t=new UI(t,e,n,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Vn(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qp(a),t}function BI(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qi,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function jN(t){if(!t)return Rr;t=t._reactInternals;e:{if(Mi(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ln(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(ln(n))return jb(t,n,e)}return e}function EN(t,e,n,s,r,a,o,l,c){return t=cg(n,s,!0,t,r,a,o,l,c),t.context=jN(null),n=t.current,s=Yt(),r=Nr(n),a=Is(s,r),a.callback=e??null,wr(n,a,r),t.current.lanes=r,Bl(t,r,s),cn(t,s),t}function zd(t,e,n,s){var r=e.current,a=Yt(),o=Nr(r);return n=jN(n),e.context===null?e.context=n:e.pendingContext=n,e=Is(a,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=wr(r,e,o),t!==null&&(Kn(t,r,o,a),su(t,r,o)),o}function Ju(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function I0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ug(t,e){I0(t,e),(t=t.alternate)&&I0(t,e)}function zI(){return null}var TN=typeof reportError=="function"?reportError:function(t){console.error(t)};function dg(t){this._internalRoot=t}Hd.prototype.render=dg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));zd(t,e,null,null)};Hd.prototype.unmount=dg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ti(function(){zd(null,t,null,null)}),e[Vs]=null}};function Hd(t){this._internalRoot=t}Hd.prototype.unstable_scheduleHydration=function(t){if(t){var e=rb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<or.length&&e!==0&&e<or[n].priority;n++);or.splice(n,0,t),n===0&&ab(t)}};function hg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function k0(){}function HI(t,e,n,s,r){if(r){if(typeof s=="function"){var a=s;s=function(){var d=Ju(o);a.call(d)}}var o=EN(e,s,t,0,null,!1,!1,"",k0);return t._reactRootContainer=o,t[Vs]=o.current,xl(t.nodeType===8?t.parentNode:t),Ti(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof s=="function"){var l=s;s=function(){var d=Ju(c);l.call(d)}}var c=cg(t,0,!1,null,null,!1,!1,"",k0);return t._reactRootContainer=c,t[Vs]=c.current,xl(t.nodeType===8?t.parentNode:t),Ti(function(){zd(e,c,n,s)}),c}function qd(t,e,n,s,r){var a=n._reactRootContainer;if(a){var o=a;if(typeof r=="function"){var l=r;r=function(){var c=Ju(o);l.call(c)}}zd(e,o,t,r)}else o=HI(n,e,t,r,s);return Ju(o)}nb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Do(e.pendingLanes);n!==0&&(Ap(e,n|1),cn(e,ct()),!(Pe&6)&&(Ca=ct()+500,qr()))}break;case 13:Ti(function(){var s=Ls(t,1);if(s!==null){var r=Yt();Kn(s,t,1,r)}}),ug(t,1)}};Pp=function(t){if(t.tag===13){var e=Ls(t,134217728);if(e!==null){var n=Yt();Kn(e,t,134217728,n)}ug(t,134217728)}};sb=function(t){if(t.tag===13){var e=Nr(t),n=Ls(t,e);if(n!==null){var s=Yt();Kn(n,t,e,s)}ug(t,e)}};rb=function(){return De};ib=function(t,e){var n=De;try{return De=t,e()}finally{De=n}};Qf=function(t,e,n){switch(e){case"input":if(Hf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var r=Ld(s);if(!r)throw Error(J(90));L1(s),Hf(s,r)}}}break;case"textarea":O1(t,n);break;case"select":e=n.value,e!=null&&fa(t,!!n.multiple,e,!1)}};W1=ig;q1=Ti;var WI={usingClientEntryPoint:!1,Events:[Hl,na,Ld,z1,H1,ig]},ko={findFiberByHostInstance:di,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qI={bundleType:ko.bundleType,version:ko.version,rendererPackageName:ko.rendererPackageName,rendererConfig:ko.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=J1(t),t===null?null:t.stateNode},findFiberByHostInstance:ko.findFiberByHostInstance||zI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uc.isDisabled&&Uc.supportsFiber)try{Pd=Uc.inject(qI),as=Uc}catch{}}jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WI;jn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hg(e))throw Error(J(200));return BI(t,e,null,n)};jn.createRoot=function(t,e){if(!hg(t))throw Error(J(299));var n=!1,s="",r=TN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=cg(t,1,!1,null,null,n,!1,s,r),t[Vs]=e.current,xl(t.nodeType===8?t.parentNode:t),new dg(e)};jn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=J1(e),t=t===null?null:t.stateNode,t};jn.flushSync=function(t){return Ti(t)};jn.hydrate=function(t,e,n){if(!Wd(e))throw Error(J(200));return qd(null,t,e,!0,n)};jn.hydrateRoot=function(t,e,n){if(!hg(t))throw Error(J(405));var s=n!=null&&n.hydratedSources||null,r=!1,a="",o=TN;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=EN(e,null,t,1,n??null,r,!1,a,o),t[Vs]=e.current,xl(t),s)for(t=0;t<s.length;t++)n=s[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Hd(e)};jn.render=function(t,e,n){if(!Wd(e))throw Error(J(200));return qd(null,t,e,!1,n)};jn.unmountComponentAtNode=function(t){if(!Wd(t))throw Error(J(40));return t._reactRootContainer?(Ti(function(){qd(null,null,t,!1,function(){t._reactRootContainer=null,t[Vs]=null})}),!0):!1};jn.unstable_batchedUpdates=ig;jn.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!Wd(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return qd(t,e,n,!1,s)};jn.version="18.3.1-next-f1338f8080-20240426";function IN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(IN)}catch(t){console.error(t)}}IN(),I1.exports=jn;var GI=I1.exports,C0=GI;Mf.createRoot=C0.createRoot,Mf.hydrateRoot=C0.hydrateRoot;const KI="modulepreload",JI=function(t){return"/"+t},A0={},YI=function(e,n,s){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(n.map(c=>{if(c=JI(c),c in A0)return;A0[c]=!0;const d=c.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":KI,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((p,x)=>{f.addEventListener("load",p),f.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return r.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})},kN=D.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Gd=D.createContext({}),Kd=D.createContext(null),Jd=typeof document<"u",fg=Jd?D.useLayoutEffect:D.useEffect,CN=D.createContext({strict:!1}),mg=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),QI="framerAppearId",AN="data-"+mg(QI);function XI(t,e,n,s){const{visualElement:r}=D.useContext(Gd),a=D.useContext(CN),o=D.useContext(Kd),l=D.useContext(kN).reducedMotion,c=D.useRef();s=s||a.renderer,!c.current&&s&&(c.current=s(t,{visualState:e,parent:r,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const d=c.current;D.useInsertionEffect(()=>{d&&d.update(n,o)});const h=D.useRef(!!(n[AN]&&!window.HandoffComplete));return fg(()=>{d&&(d.render(),h.current&&d.animationState&&d.animationState.animateChanges())}),D.useEffect(()=>{d&&(d.updateFeatures(),!h.current&&d.animationState&&d.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),d}function ca(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function ZI(t,e,n){return D.useCallback(s=>{s&&t.mount&&t.mount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):ca(n)&&(n.current=s))},[e])}function Tl(t){return typeof t=="string"||Array.isArray(t)}function Yd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const pg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],gg=["initial",...pg];function Qd(t){return Yd(t.animate)||gg.some(e=>Tl(t[e]))}function PN(t){return!!(Qd(t)||t.variants)}function ek(t,e){if(Qd(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Tl(n)?n:void 0,animate:Tl(s)?s:void 0}}return t.inherit!==!1?e:{}}function tk(t){const{initial:e,animate:n}=ek(t,D.useContext(Gd));return D.useMemo(()=>({initial:e,animate:n}),[P0(e),P0(n)])}function P0(t){return Array.isArray(t)?t.join(" "):t}const R0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Il={};for(const t in R0)Il[t]={isEnabled:e=>R0[t].some(n=>!!e[n])};function nk(t){for(const e in t)Il[e]={...Il[e],...t[e]}}const yg=D.createContext({}),RN=D.createContext({}),sk=Symbol.for("motionComponentSymbol");function rk({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:r}){t&&nk(t);function a(l,c){let d;const h={...D.useContext(kN),...l,layoutId:ik(l)},{isStatic:f}=h,p=tk(l),x=s(l,f);if(!f&&Jd){p.visualElement=XI(r,x,h,e);const j=D.useContext(RN),_=D.useContext(CN).strict;p.visualElement&&(d=p.visualElement.loadFeatures(h,_,t,j))}return D.createElement(Gd.Provider,{value:p},d&&p.visualElement?D.createElement(d,{visualElement:p.visualElement,...h}):null,n(r,l,ZI(x,p.visualElement,c),x,f,p.visualElement))}const o=D.forwardRef(a);return o[sk]=r,o}function ik({layoutId:t}){const e=D.useContext(yg).id;return e&&t!==void 0?e+"-"+t:t}function ak(t){function e(s,r={}){return rk(t(s,r))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(s,r)=>(n.has(r)||n.set(r,e(r)),n.get(r))})}const ok=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function xg(t){return typeof t!="string"||t.includes("-")?!1:!!(ok.indexOf(t)>-1||/[A-Z]/.test(t))}const Yu={};function lk(t){Object.assign(Yu,t)}const ql=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Oi=new Set(ql);function DN(t,{layout:e,layoutId:n}){return Oi.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Yu[t]||t==="opacity")}const dn=t=>!!(t&&t.getVelocity),ck={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},uk=ql.length;function dk(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},s,r){let a="";for(let o=0;o<uk;o++){const l=ql[o];if(t[l]!==void 0){const c=ck[l]||l;a+=`${c}(${t[l]}) `}}return e&&!t.z&&(a+="translateZ(0)"),a=a.trim(),r?a=r(t,s?"":a):n&&s&&(a="none"),a}const VN=t=>e=>typeof e=="string"&&e.startsWith(t),LN=VN("--"),Cm=VN("var(--"),hk=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,fk=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Dr=(t,e,n)=>Math.min(Math.max(n,t),e),Fi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Xo={...Fi,transform:t=>Dr(0,1,t)},Bc={...Fi,default:1},Zo=t=>Math.round(t*1e5)/1e5,Xd=/(-)?([\d]*\.?[\d])+/g,MN=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,mk=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Gl(t){return typeof t=="string"}const Kl=t=>({test:e=>Gl(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),sr=Kl("deg"),ls=Kl("%"),me=Kl("px"),pk=Kl("vh"),gk=Kl("vw"),D0={...ls,parse:t=>ls.parse(t)/100,transform:t=>ls.transform(t*100)},V0={...Fi,transform:Math.round},ON={borderWidth:me,borderTopWidth:me,borderRightWidth:me,borderBottomWidth:me,borderLeftWidth:me,borderRadius:me,radius:me,borderTopLeftRadius:me,borderTopRightRadius:me,borderBottomRightRadius:me,borderBottomLeftRadius:me,width:me,maxWidth:me,height:me,maxHeight:me,size:me,top:me,right:me,bottom:me,left:me,padding:me,paddingTop:me,paddingRight:me,paddingBottom:me,paddingLeft:me,margin:me,marginTop:me,marginRight:me,marginBottom:me,marginLeft:me,rotate:sr,rotateX:sr,rotateY:sr,rotateZ:sr,scale:Bc,scaleX:Bc,scaleY:Bc,scaleZ:Bc,skew:sr,skewX:sr,skewY:sr,distance:me,translateX:me,translateY:me,translateZ:me,x:me,y:me,z:me,perspective:me,transformPerspective:me,opacity:Xo,originX:D0,originY:D0,originZ:me,zIndex:V0,fillOpacity:Xo,strokeOpacity:Xo,numOctaves:V0};function vg(t,e,n,s){const{style:r,vars:a,transform:o,transformOrigin:l}=t;let c=!1,d=!1,h=!0;for(const f in e){const p=e[f];if(LN(f)){a[f]=p;continue}const x=ON[f],j=fk(p,x);if(Oi.has(f)){if(c=!0,o[f]=j,!h)continue;p!==(x.default||0)&&(h=!1)}else f.startsWith("origin")?(d=!0,l[f]=j):r[f]=j}if(e.transform||(c||s?r.transform=dk(t.transform,n,h,s):r.transform&&(r.transform="none")),d){const{originX:f="50%",originY:p="50%",originZ:x=0}=l;r.transformOrigin=`${f} ${p} ${x}`}}const wg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function FN(t,e,n){for(const s in e)!dn(e[s])&&!DN(s,n)&&(t[s]=e[s])}function yk({transformTemplate:t},e,n){return D.useMemo(()=>{const s=wg();return vg(s,e,{enableHardwareAcceleration:!n},t),Object.assign({},s.vars,s.style)},[e])}function xk(t,e,n){const s=t.style||{},r={};return FN(r,s,t),Object.assign(r,yk(t,e,n)),t.transformValues?t.transformValues(r):r}function vk(t,e,n){const s={},r=xk(t,e,n);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=r,s}const wk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Qu(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||wk.has(t)}let $N=t=>!Qu(t);function bk(t){t&&($N=e=>e.startsWith("on")?!Qu(e):t(e))}try{bk(require("@emotion/is-prop-valid").default)}catch{}function Nk(t,e,n){const s={};for(const r in t)r==="values"&&typeof t.values=="object"||($N(r)||n===!0&&Qu(r)||!e&&!Qu(r)||t.draggable&&r.startsWith("onDrag"))&&(s[r]=t[r]);return s}function L0(t,e,n){return typeof t=="string"?t:me.transform(e+n*t)}function _k(t,e,n){const s=L0(e,t.x,t.width),r=L0(n,t.y,t.height);return`${s} ${r}`}const Sk={offset:"stroke-dashoffset",array:"stroke-dasharray"},jk={offset:"strokeDashoffset",array:"strokeDasharray"};function Ek(t,e,n=1,s=0,r=!0){t.pathLength=1;const a=r?Sk:jk;t[a.offset]=me.transform(-s);const o=me.transform(e),l=me.transform(n);t[a.array]=`${o} ${l}`}function bg(t,{attrX:e,attrY:n,attrScale:s,originX:r,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},h,f,p){if(vg(t,d,h,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:j,dimensions:_}=t;x.transform&&(_&&(j.transform=x.transform),delete x.transform),_&&(r!==void 0||a!==void 0||j.transform)&&(j.transformOrigin=_k(_,r!==void 0?r:.5,a!==void 0?a:.5)),e!==void 0&&(x.x=e),n!==void 0&&(x.y=n),s!==void 0&&(x.scale=s),o!==void 0&&Ek(x,o,l,c,!1)}const UN=()=>({...wg(),attrs:{}}),Ng=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Tk(t,e,n,s){const r=D.useMemo(()=>{const a=UN();return bg(a,e,{enableHardwareAcceleration:!1},Ng(s),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};FN(a,t.style,t),r.style={...a,...r.style}}return r}function Ik(t=!1){return(n,s,r,{latestValues:a},o)=>{const c=(xg(n)?Tk:vk)(s,a,o,n),h={...Nk(s,typeof n=="string",t),...c,ref:r},{children:f}=s,p=D.useMemo(()=>dn(f)?f.get():f,[f]);return D.createElement(n,{...h,children:p})}}function BN(t,{style:e,vars:n},s,r){Object.assign(t.style,e,r&&r.getProjectionStyles(s));for(const a in n)t.style.setProperty(a,n[a])}const zN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function HN(t,e,n,s){BN(t,e,void 0,s);for(const r in e.attrs)t.setAttribute(zN.has(r)?r:mg(r),e.attrs[r])}function _g(t,e){const{style:n}=t,s={};for(const r in n)(dn(n[r])||e.style&&dn(e.style[r])||DN(r,t))&&(s[r]=n[r]);return s}function WN(t,e){const n=_g(t,e);for(const s in t)if(dn(t[s])||dn(e[s])){const r=ql.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[r]=t[s]}return n}function Sg(t,e,n,s={},r={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,s,r)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,s,r)),e}function qN(t){const e=D.useRef(null);return e.current===null&&(e.current=t()),e.current}const Xu=t=>Array.isArray(t),kk=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Ck=t=>Xu(t)?t[t.length-1]||0:t;function uu(t){const e=dn(t)?t.get():t;return kk(e)?e.toValue():e}function Ak({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},s,r,a){const o={latestValues:Pk(s,r,a,t),renderState:e()};return n&&(o.mount=l=>n(s,l,o)),o}const GN=t=>(e,n)=>{const s=D.useContext(Gd),r=D.useContext(Kd),a=()=>Ak(t,e,s,r);return n?a():qN(a)};function Pk(t,e,n,s){const r={},a=s(t,{});for(const p in a)r[p]=uu(a[p]);let{initial:o,animate:l}=t;const c=Qd(t),d=PN(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?l:o;return f&&typeof f!="boolean"&&!Yd(f)&&(Array.isArray(f)?f:[f]).forEach(x=>{const j=Sg(t,x);if(!j)return;const{transitionEnd:_,transition:k,...S}=j;for(const v in S){let b=S[v];if(Array.isArray(b)){const R=h?b.length-1:0;b=b[R]}b!==null&&(r[v]=b)}for(const v in _)r[v]=_[v]}),r}const ut=t=>t;class M0{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function Rk(t){let e=new M0,n=new M0,s=0,r=!1,a=!1;const o=new WeakSet,l={schedule:(c,d=!1,h=!1)=>{const f=h&&r,p=f?e:n;return d&&o.add(c),p.add(c)&&f&&r&&(s=e.order.length),c},cancel:c=>{n.remove(c),o.delete(c)},process:c=>{if(r){a=!0;return}if(r=!0,[e,n]=[n,e],n.clear(),s=e.order.length,s)for(let d=0;d<s;d++){const h=e.order[d];h(c),o.has(h)&&(l.schedule(h),t())}r=!1,a&&(a=!1,l.process(c))}};return l}const zc=["prepare","read","update","preRender","render","postRender"],Dk=40;function Vk(t,e){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=zc.reduce((f,p)=>(f[p]=Rk(()=>n=!0),f),{}),o=f=>a[f].process(r),l=()=>{const f=performance.now();n=!1,r.delta=s?1e3/60:Math.max(Math.min(f-r.timestamp,Dk),1),r.timestamp=f,r.isProcessing=!0,zc.forEach(o),r.isProcessing=!1,n&&e&&(s=!1,t(l))},c=()=>{n=!0,s=!0,r.isProcessing||t(l)};return{schedule:zc.reduce((f,p)=>{const x=a[p];return f[p]=(j,_=!1,k=!1)=>(n||c(),x.schedule(j,_,k)),f},{}),cancel:f=>zc.forEach(p=>a[p].cancel(f)),state:r,steps:a}}const{schedule:ze,cancel:Os,state:Ut,steps:hf}=Vk(typeof requestAnimationFrame<"u"?requestAnimationFrame:ut,!0),Lk={useVisualState:GN({scrapeMotionValuesFromProps:WN,createRenderState:UN,onMount:(t,e,{renderState:n,latestValues:s})=>{ze.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ze.render(()=>{bg(n,s,{enableHardwareAcceleration:!1},Ng(e.tagName),t.transformTemplate),HN(e,n)})}})},Mk={useVisualState:GN({scrapeMotionValuesFromProps:_g,createRenderState:wg})};function Ok(t,{forwardMotionProps:e=!1},n,s){return{...xg(t)?Lk:Mk,preloadedFeatures:n,useRender:Ik(e),createVisualElement:s,Component:t}}function js(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}const KN=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Zd(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const Fk=t=>e=>KN(e)&&t(e,Zd(e));function ks(t,e,n,s){return js(t,e,Fk(n),s)}const $k=(t,e)=>n=>e(t(n)),Sr=(...t)=>t.reduce($k);function JN(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const O0=JN("dragHorizontal"),F0=JN("dragVertical");function YN(t){let e=!1;if(t==="y")e=F0();else if(t==="x")e=O0();else{const n=O0(),s=F0();n&&s?e=()=>{n(),s()}:(n&&n(),s&&s())}return e}function QN(){const t=YN(!0);return t?(t(),!1):!0}class Gr{constructor(e){this.isMounted=!1,this.node=e}update(){}}function $0(t,e){const n="pointer"+(e?"enter":"leave"),s="onHover"+(e?"Start":"End"),r=(a,o)=>{if(a.pointerType==="touch"||QN())return;const l=t.getProps();t.animationState&&l.whileHover&&t.animationState.setActive("whileHover",e),l[s]&&ze.update(()=>l[s](a,o))};return ks(t.current,n,r,{passive:!t.getProps()[s]})}class Uk extends Gr{mount(){this.unmount=Sr($0(this.node,!0),$0(this.node,!1))}unmount(){}}class Bk extends Gr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Sr(js(this.node.current,"focus",()=>this.onFocus()),js(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const XN=(t,e)=>e?t===e?!0:XN(t,e.parentElement):!1;function ff(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Zd(n))}class zk extends Gr{constructor(){super(...arguments),this.removeStartListeners=ut,this.removeEndListeners=ut,this.removeAccessibleListeners=ut,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const s=this.node.getProps(),a=ks(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:h,globalTapTarget:f}=this.node.getProps();ze.update(()=>{!f&&!XN(this.node.current,l.target)?h&&h(l,c):d&&d(l,c)})},{passive:!(s.onTap||s.onPointerUp)}),o=ks(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(s.onTapCancel||s.onPointerCancel)});this.removeEndListeners=Sr(a,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=a=>{if(a.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||ff("up",(c,d)=>{const{onTap:h}=this.node.getProps();h&&ze.update(()=>h(c,d))})};this.removeEndListeners(),this.removeEndListeners=js(this.node.current,"keyup",o),ff("down",(l,c)=>{this.startPress(l,c)})},n=js(this.node.current,"keydown",e),s=()=>{this.isPressing&&ff("cancel",(a,o)=>this.cancelPress(a,o))},r=js(this.node.current,"blur",s);this.removeAccessibleListeners=Sr(n,r)}}startPress(e,n){this.isPressing=!0;const{onTapStart:s,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),s&&ze.update(()=>s(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!QN()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:s}=this.node.getProps();s&&ze.update(()=>s(e,n))}mount(){const e=this.node.getProps(),n=ks(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),s=js(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Sr(n,s)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Am=new WeakMap,mf=new WeakMap,Hk=t=>{const e=Am.get(t.target);e&&e(t)},Wk=t=>{t.forEach(Hk)};function qk({root:t,...e}){const n=t||document;mf.has(n)||mf.set(n,{});const s=mf.get(n),r=JSON.stringify(e);return s[r]||(s[r]=new IntersectionObserver(Wk,{root:t,...e})),s[r]}function Gk(t,e,n){const s=qk(e);return Am.set(t,n),s.observe(t),()=>{Am.delete(t),s.unobserve(t)}}const Kk={some:0,all:1};class Jk extends Gr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:a}=e,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:Kk[r]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),p=d?h:f;p&&p(c)};return Gk(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Yk(e,n))&&this.startObserver()}unmount(){}}function Yk({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Qk={inView:{Feature:Jk},tap:{Feature:zk},focus:{Feature:Bk},hover:{Feature:Uk}};function ZN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}function Xk(t){const e={};return t.values.forEach((n,s)=>e[s]=n.get()),e}function Zk(t){const e={};return t.values.forEach((n,s)=>e[s]=n.getVelocity()),e}function eh(t,e,n){const s=t.getProps();return Sg(s,e,n!==void 0?n:s.custom,Xk(t),Zk(t))}let jg=ut;const vi=t=>t*1e3,Cs=t=>t/1e3,eC={current:!1},e_=t=>Array.isArray(t)&&typeof t[0]=="number";function t_(t){return!!(!t||typeof t=="string"&&n_[t]||e_(t)||Array.isArray(t)&&t.every(t_))}const Lo=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,n_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Lo([0,.65,.55,1]),circOut:Lo([.55,0,1,.45]),backIn:Lo([.31,.01,.66,-.59]),backOut:Lo([.33,1.53,.69,.99])};function s_(t){if(t)return e_(t)?Lo(t):Array.isArray(t)?t.map(s_):n_[t]}function tC(t,e,n,{delay:s=0,duration:r,repeat:a=0,repeatType:o="loop",ease:l,times:c}={}){const d={[e]:n};c&&(d.offset=c);const h=s_(l);return Array.isArray(h)&&(d.easing=h),t.animate(d,{delay:s,duration:r,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}function nC(t,{repeat:e,repeatType:n="loop"}){const s=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[s]}const r_=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,sC=1e-7,rC=12;function iC(t,e,n,s,r){let a,o,l=0;do o=e+(n-e)/2,a=r_(o,s,r)-t,a>0?n=o:e=o;while(Math.abs(a)>sC&&++l<rC);return o}function Jl(t,e,n,s){if(t===e&&n===s)return ut;const r=a=>iC(a,0,1,t,n);return a=>a===0||a===1?a:r_(r(a),e,s)}const aC=Jl(.42,0,1,1),oC=Jl(0,0,.58,1),i_=Jl(.42,0,.58,1),lC=t=>Array.isArray(t)&&typeof t[0]!="number",a_=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,o_=t=>e=>1-t(1-e),Eg=t=>1-Math.sin(Math.acos(t)),l_=o_(Eg),cC=a_(Eg),c_=Jl(.33,1.53,.69,.99),Tg=o_(c_),uC=a_(Tg),dC=t=>(t*=2)<1?.5*Tg(t):.5*(2-Math.pow(2,-10*(t-1))),hC={linear:ut,easeIn:aC,easeInOut:i_,easeOut:oC,circIn:Eg,circInOut:cC,circOut:l_,backIn:Tg,backInOut:uC,backOut:c_,anticipate:dC},U0=t=>{if(Array.isArray(t)){jg(t.length===4);const[e,n,s,r]=t;return Jl(e,n,s,r)}else if(typeof t=="string")return hC[t];return t},Ig=(t,e)=>n=>!!(Gl(n)&&mk.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),u_=(t,e,n)=>s=>{if(!Gl(s))return s;const[r,a,o,l]=s.match(Xd);return{[t]:parseFloat(r),[e]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},fC=t=>Dr(0,255,t),pf={...Fi,transform:t=>Math.round(fC(t))},mi={test:Ig("rgb","red"),parse:u_("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+pf.transform(t)+", "+pf.transform(e)+", "+pf.transform(n)+", "+Zo(Xo.transform(s))+")"};function mC(t){let e="",n="",s="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,s+=s,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const Pm={test:Ig("#"),parse:mC,transform:mi.transform},ua={test:Ig("hsl","hue"),parse:u_("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+ls.transform(Zo(e))+", "+ls.transform(Zo(n))+", "+Zo(Xo.transform(s))+")"},Kt={test:t=>mi.test(t)||Pm.test(t)||ua.test(t),parse:t=>mi.test(t)?mi.parse(t):ua.test(t)?ua.parse(t):Pm.parse(t),transform:t=>Gl(t)?t:t.hasOwnProperty("red")?mi.transform(t):ua.transform(t)},Xe=(t,e,n)=>-n*t+n*e+t;function gf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function pC({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let r=0,a=0,o=0;if(!e)r=a=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;r=gf(c,l,t+1/3),a=gf(c,l,t),o=gf(c,l,t-1/3)}return{red:Math.round(r*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:s}}const yf=(t,e,n)=>{const s=t*t;return Math.sqrt(Math.max(0,n*(e*e-s)+s))},gC=[Pm,mi,ua],yC=t=>gC.find(e=>e.test(t));function B0(t){const e=yC(t);let n=e.parse(t);return e===ua&&(n=pC(n)),n}const d_=(t,e)=>{const n=B0(t),s=B0(e),r={...n};return a=>(r.red=yf(n.red,s.red,a),r.green=yf(n.green,s.green,a),r.blue=yf(n.blue,s.blue,a),r.alpha=Xe(n.alpha,s.alpha,a),mi.transform(r))};function xC(t){var e,n;return isNaN(t)&&Gl(t)&&(((e=t.match(Xd))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(MN))===null||n===void 0?void 0:n.length)||0)>0}const h_={regex:hk,countKey:"Vars",token:"${v}",parse:ut},f_={regex:MN,countKey:"Colors",token:"${c}",parse:Kt.parse},m_={regex:Xd,countKey:"Numbers",token:"${n}",parse:Fi.parse};function xf(t,{regex:e,countKey:n,token:s,parse:r}){const a=t.tokenised.match(e);a&&(t["num"+n]=a.length,t.tokenised=t.tokenised.replace(e,s),t.values.push(...a.map(r)))}function Zu(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&xf(n,h_),xf(n,f_),xf(n,m_),n}function p_(t){return Zu(t).values}function g_(t){const{values:e,numColors:n,numVars:s,tokenised:r}=Zu(t),a=e.length;return o=>{let l=r;for(let c=0;c<a;c++)c<s?l=l.replace(h_.token,o[c]):c<s+n?l=l.replace(f_.token,Kt.transform(o[c])):l=l.replace(m_.token,Zo(o[c]));return l}}const vC=t=>typeof t=="number"?0:t;function wC(t){const e=p_(t);return g_(t)(e.map(vC))}const Vr={test:xC,parse:p_,createTransformer:g_,getAnimatableNone:wC},y_=(t,e)=>n=>`${n>0?e:t}`;function x_(t,e){return typeof t=="number"?n=>Xe(t,e,n):Kt.test(t)?d_(t,e):t.startsWith("var(")?y_(t,e):w_(t,e)}const v_=(t,e)=>{const n=[...t],s=n.length,r=t.map((a,o)=>x_(a,e[o]));return a=>{for(let o=0;o<s;o++)n[o]=r[o](a);return n}},bC=(t,e)=>{const n={...t,...e},s={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(s[r]=x_(t[r],e[r]));return r=>{for(const a in s)n[a]=s[a](r);return n}},w_=(t,e)=>{const n=Vr.createTransformer(e),s=Zu(t),r=Zu(e);return s.numVars===r.numVars&&s.numColors===r.numColors&&s.numNumbers>=r.numNumbers?Sr(v_(s.values,r.values),n):y_(t,e)},kl=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s},z0=(t,e)=>n=>Xe(t,e,n);function NC(t){return typeof t=="number"?z0:typeof t=="string"?Kt.test(t)?d_:w_:Array.isArray(t)?v_:typeof t=="object"?bC:z0}function _C(t,e,n){const s=[],r=n||NC(t[0]),a=t.length-1;for(let o=0;o<a;o++){let l=r(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||ut:e;l=Sr(c,l)}s.push(l)}return s}function b_(t,e,{clamp:n=!0,ease:s,mixer:r}={}){const a=t.length;if(jg(a===e.length),a===1)return()=>e[0];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=_C(e,s,r),l=o.length,c=d=>{let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=kl(t[h],t[h+1],d);return o[h](f)};return n?d=>c(Dr(t[0],t[a-1],d)):c}function SC(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const r=kl(0,e,s);t.push(Xe(n,1,r))}}function jC(t){const e=[0];return SC(e,t.length-1),e}function EC(t,e){return t.map(n=>n*e)}function TC(t,e){return t.map(()=>e||i_).splice(0,t.length-1)}function ed({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const r=lC(s)?s.map(U0):U0(s),a={done:!1,value:e[0]},o=EC(n&&n.length===e.length?n:jC(e),t),l=b_(o,e,{ease:Array.isArray(r)?r:TC(e,r)});return{calculatedDuration:t,next:c=>(a.value=l(c),a.done=c>=t,a)}}function N_(t,e){return e?t*(1e3/e):0}const IC=5;function __(t,e,n){const s=Math.max(e-IC,0);return N_(n-t(s),e-s)}const vf=.001,kC=.01,CC=10,AC=.05,PC=1;function RC({duration:t=800,bounce:e=.25,velocity:n=0,mass:s=1}){let r,a,o=1-e;o=Dr(AC,PC,o),t=Dr(kC,CC,Cs(t)),o<1?(r=d=>{const h=d*o,f=h*t,p=h-n,x=Rm(d,o),j=Math.exp(-f);return vf-p/x*j},a=d=>{const f=d*o*t,p=f*n+n,x=Math.pow(o,2)*Math.pow(d,2)*t,j=Math.exp(-f),_=Rm(Math.pow(d,2),o);return(-r(d)+vf>0?-1:1)*((p-x)*j)/_}):(r=d=>{const h=Math.exp(-d*t),f=(d-n)*t+1;return-vf+h*f},a=d=>{const h=Math.exp(-d*t),f=(n-d)*(t*t);return h*f});const l=5/t,c=VC(r,a,l);if(t=vi(t),isNaN(c))return{stiffness:100,damping:10,duration:t};{const d=Math.pow(c,2)*s;return{stiffness:d,damping:o*2*Math.sqrt(s*d),duration:t}}}const DC=12;function VC(t,e,n){let s=n;for(let r=1;r<DC;r++)s=s-t(s)/e(s);return s}function Rm(t,e){return t*Math.sqrt(1-e*e)}const LC=["duration","bounce"],MC=["stiffness","damping","mass"];function H0(t,e){return e.some(n=>t[n]!==void 0)}function OC(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!H0(t,MC)&&H0(t,LC)){const n=RC(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function S_({keyframes:t,restDelta:e,restSpeed:n,...s}){const r=t[0],a=t[t.length-1],o={done:!1,value:r},{stiffness:l,damping:c,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=OC({...s,velocity:-Cs(s.velocity||0)}),x=f||0,j=c/(2*Math.sqrt(l*d)),_=a-r,k=Cs(Math.sqrt(l/d)),S=Math.abs(_)<5;n||(n=S?.01:2),e||(e=S?.005:.5);let v;if(j<1){const b=Rm(k,j);v=R=>{const M=Math.exp(-j*k*R);return a-M*((x+j*k*_)/b*Math.sin(b*R)+_*Math.cos(b*R))}}else if(j===1)v=b=>a-Math.exp(-k*b)*(_+(x+k*_)*b);else{const b=k*Math.sqrt(j*j-1);v=R=>{const M=Math.exp(-j*k*R),B=Math.min(b*R,300);return a-M*((x+j*k*_)*Math.sinh(B)+b*_*Math.cosh(B))/b}}return{calculatedDuration:p&&h||null,next:b=>{const R=v(b);if(p)o.done=b>=h;else{let M=x;b!==0&&(j<1?M=__(v,b,R):M=0);const B=Math.abs(M)<=n,E=Math.abs(a-R)<=e;o.done=B&&E}return o.value=o.done?a:R,o}}}function W0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:h}){const f=t[0],p={done:!1,value:f},x=w=>l!==void 0&&w<l||c!==void 0&&w>c,j=w=>l===void 0?c:c===void 0||Math.abs(l-w)<Math.abs(c-w)?l:c;let _=n*e;const k=f+_,S=o===void 0?k:o(k);S!==k&&(_=S-f);const v=w=>-_*Math.exp(-w/s),b=w=>S+v(w),R=w=>{const T=v(w),C=b(w);p.done=Math.abs(T)<=d,p.value=p.done?S:C};let M,B;const E=w=>{x(p.value)&&(M=w,B=S_({keyframes:[p.value,j(p.value)],velocity:__(b,w,p.value),damping:r,stiffness:a,restDelta:d,restSpeed:h}))};return E(0),{calculatedDuration:null,next:w=>{let T=!1;return!B&&M===void 0&&(T=!0,R(w),E(w)),M!==void 0&&w>M?B.next(w-M):(!T&&R(w),p)}}}const FC=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ze.update(e,!0),stop:()=>Os(e),now:()=>Ut.isProcessing?Ut.timestamp:performance.now()}},q0=2e4;function G0(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<q0;)e+=n,s=t.next(e);return e>=q0?1/0:e}const $C={decay:W0,inertia:W0,tween:ed,keyframes:ed,spring:S_};function td({autoplay:t=!0,delay:e=0,driver:n=FC,keyframes:s,type:r="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:d,onComplete:h,onUpdate:f,...p}){let x=1,j=!1,_,k;const S=()=>{k=new Promise(Q=>{_=Q})};S();let v;const b=$C[r]||ed;let R;b!==ed&&typeof s[0]!="number"&&(R=b_([0,100],s,{clamp:!1}),s=[0,100]);const M=b({...p,keyframes:s});let B;l==="mirror"&&(B=b({...p,keyframes:[...s].reverse(),velocity:-(p.velocity||0)}));let E="idle",w=null,T=null,C=null;M.calculatedDuration===null&&a&&(M.calculatedDuration=G0(M));const{calculatedDuration:A}=M;let L=1/0,P=1/0;A!==null&&(L=A+o,P=L*(a+1)-o);let fe=0;const ae=Q=>{if(T===null)return;x>0&&(T=Math.min(T,Q)),x<0&&(T=Math.min(Q-P/x,T)),w!==null?fe=w:fe=Math.round(Q-T)*x;const de=fe-e*(x>=0?1:-1),ye=x>=0?de<0:de>P;fe=Math.max(de,0),E==="finished"&&w===null&&(fe=P);let O=fe,ce=M;if(a){const Le=Math.min(fe,P)/L;let Te=Math.floor(Le),be=Le%1;!be&&Le>=1&&(be=1),be===1&&Te--,Te=Math.min(Te,a+1),!!(Te%2)&&(l==="reverse"?(be=1-be,o&&(be-=o/L)):l==="mirror"&&(ce=B)),O=Dr(0,1,be)*L}const K=ye?{done:!1,value:s[0]}:ce.next(O);R&&(K.value=R(K.value));let{done:we}=K;!ye&&A!==null&&(we=x>=0?fe>=P:fe<=0);const xe=w===null&&(E==="finished"||E==="running"&&we);return f&&f(K.value),xe&&V(),K},le=()=>{v&&v.stop(),v=void 0},te=()=>{E="idle",le(),_(),S(),T=C=null},V=()=>{E="finished",h&&h(),le(),_()},U=()=>{if(j)return;v||(v=n(ae));const Q=v.now();c&&c(),w!==null?T=Q-w:(!T||E==="finished")&&(T=Q),E==="finished"&&S(),C=T,w=null,E="running",v.start()};t&&U();const re={then(Q,de){return k.then(Q,de)},get time(){return Cs(fe)},set time(Q){Q=vi(Q),fe=Q,w!==null||!v||x===0?w=Q:T=v.now()-Q/x},get duration(){const Q=M.calculatedDuration===null?G0(M):M.calculatedDuration;return Cs(Q)},get speed(){return x},set speed(Q){Q===x||!v||(x=Q,re.time=Cs(fe))},get state(){return E},play:U,pause:()=>{E="paused",w=fe},stop:()=>{j=!0,E!=="idle"&&(E="idle",d&&d(),te())},cancel:()=>{C!==null&&ae(C),te()},complete:()=>{E="finished"},sample:Q=>(T=0,ae(Q))};return re}function UC(t){let e;return()=>(e===void 0&&(e=t()),e)}const BC=UC(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),zC=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Hc=10,HC=2e4,WC=(t,e)=>e.type==="spring"||t==="backgroundColor"||!t_(e.ease);function qC(t,e,{onUpdate:n,onComplete:s,...r}){if(!(BC()&&zC.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0&&r.type!=="inertia"))return!1;let o=!1,l,c,d=!1;const h=()=>{c=new Promise(b=>{l=b})};h();let{keyframes:f,duration:p=300,ease:x,times:j}=r;if(WC(e,r)){const b=td({...r,repeat:0,delay:0});let R={done:!1,value:f[0]};const M=[];let B=0;for(;!R.done&&B<HC;)R=b.sample(B),M.push(R.value),B+=Hc;j=void 0,f=M,p=B-Hc,x="linear"}const _=tC(t.owner.current,e,f,{...r,duration:p,ease:x,times:j}),k=()=>{d=!1,_.cancel()},S=()=>{d=!0,ze.update(k),l(),h()};return _.onfinish=()=>{d||(t.set(nC(f,r)),s&&s(),S())},{then(b,R){return c.then(b,R)},attachTimeline(b){return _.timeline=b,_.onfinish=null,ut},get time(){return Cs(_.currentTime||0)},set time(b){_.currentTime=vi(b)},get speed(){return _.playbackRate},set speed(b){_.playbackRate=b},get duration(){return Cs(p)},play:()=>{o||(_.play(),Os(k))},pause:()=>_.pause(),stop:()=>{if(o=!0,_.playState==="idle")return;const{currentTime:b}=_;if(b){const R=td({...r,autoplay:!1});t.setWithVelocity(R.sample(b-Hc).value,R.sample(b).value,Hc)}S()},complete:()=>{d||_.finish()},cancel:S}}function GC({keyframes:t,delay:e,onUpdate:n,onComplete:s}){const r=()=>(n&&n(t[t.length-1]),s&&s(),{time:0,speed:1,duration:0,play:ut,pause:ut,stop:ut,then:a=>(a(),Promise.resolve()),cancel:ut,complete:ut});return e?td({keyframes:[0,1],duration:0,delay:e,onComplete:r}):r()}const KC={type:"spring",stiffness:500,damping:25,restSpeed:10},JC=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),YC={type:"keyframes",duration:.8},QC={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},XC=(t,{keyframes:e})=>e.length>2?YC:Oi.has(t)?t.startsWith("scale")?JC(e[1]):KC:QC,Dm=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Vr.test(e)||e==="0")&&!e.startsWith("url(")),ZC=new Set(["brightness","contrast","saturate","opacity"]);function eA(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Xd)||[];if(!s)return t;const r=n.replace(s,"");let a=ZC.has(e)?1:0;return s!==n&&(a*=100),e+"("+a+r+")"}const tA=/([a-z-]*)\(.*?\)/g,Vm={...Vr,getAnimatableNone:t=>{const e=t.match(tA);return e?e.map(eA).join(" "):t}},nA={...ON,color:Kt,backgroundColor:Kt,outlineColor:Kt,fill:Kt,stroke:Kt,borderColor:Kt,borderTopColor:Kt,borderRightColor:Kt,borderBottomColor:Kt,borderLeftColor:Kt,filter:Vm,WebkitFilter:Vm},kg=t=>nA[t];function j_(t,e){let n=kg(t);return n!==Vm&&(n=Vr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const E_=t=>/^0[^.\s]+$/.test(t);function sA(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||E_(t)}function rA(t,e,n,s){const r=Dm(e,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const o=s.from!==void 0?s.from:t.get();let l;const c=[];for(let d=0;d<a.length;d++)a[d]===null&&(a[d]=d===0?o:a[d-1]),sA(a[d])&&c.push(d),typeof a[d]=="string"&&a[d]!=="none"&&a[d]!=="0"&&(l=a[d]);if(r&&c.length&&l)for(let d=0;d<c.length;d++){const h=c[d];a[h]=j_(e,l)}return a}function iA({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:d,...h}){return!!Object.keys(h).length}function Cg(t,e){return t[e]||t.default||t}const aA={skipAnimations:!1},Ag=(t,e,n,s={})=>r=>{const a=Cg(s,t)||{},o=a.delay||s.delay||0;let{elapsed:l=0}=s;l=l-vi(o);const c=rA(e,t,n,a),d=c[0],h=c[c.length-1],f=Dm(t,d),p=Dm(t,h);let x={keyframes:c,velocity:e.getVelocity(),ease:"easeOut",...a,delay:-l,onUpdate:j=>{e.set(j),a.onUpdate&&a.onUpdate(j)},onComplete:()=>{r(),a.onComplete&&a.onComplete()}};if(iA(a)||(x={...x,...XC(t,x)}),x.duration&&(x.duration=vi(x.duration)),x.repeatDelay&&(x.repeatDelay=vi(x.repeatDelay)),!f||!p||eC.current||a.type===!1||aA.skipAnimations)return GC(x);if(!s.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const j=qC(e,t,x);if(j)return j}return td(x)};function nd(t){return!!(dn(t)&&t.add)}const T_=t=>/^\-?\d*\.?\d+$/.test(t);function Pg(t,e){t.indexOf(e)===-1&&t.push(e)}function Rg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Dg{constructor(){this.subscriptions=[]}add(e){return Pg(this.subscriptions,e),()=>Rg(this.subscriptions,e)}notify(e,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,s);else for(let a=0;a<r;a++){const o=this.subscriptions[a];o&&o(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const oA=t=>!isNaN(parseFloat(t));class lA{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(s,r=!0)=>{this.prev=this.current,this.current=s;const{delta:a,timestamp:o}=Ut;this.lastUpdated!==o&&(this.timeDelta=a,this.lastUpdated=o,ze.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ze.postRender(this.velocityCheck),this.velocityCheck=({timestamp:s})=>{s!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=oA(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Dg);const s=this.events[e].add(n);return e==="change"?()=>{s(),ze.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=e,this.timeDelta=s}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?N_(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Aa(t,e){return new lA(t,e)}const I_=t=>e=>e.test(t),cA={test:t=>t==="auto",parse:t=>t},k_=[Fi,me,ls,sr,gk,pk,cA],Co=t=>k_.find(I_(t)),uA=[...k_,Kt,Vr],dA=t=>uA.find(I_(t));function hA(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Aa(n))}function fA(t,e){const n=eh(t,e);let{transitionEnd:s={},transition:r={},...a}=n?t.makeTargetAnimatable(n,!1):{};a={...a,...s};for(const o in a){const l=Ck(a[o]);hA(t,o,l)}}function mA(t,e,n){var s,r;const a=Object.keys(e).filter(l=>!t.hasValue(l)),o=a.length;if(o)for(let l=0;l<o;l++){const c=a[l],d=e[c];let h=null;Array.isArray(d)&&(h=d[0]),h===null&&(h=(r=(s=n[c])!==null&&s!==void 0?s:t.readValue(c))!==null&&r!==void 0?r:e[c]),h!=null&&(typeof h=="string"&&(T_(h)||E_(h))?h=parseFloat(h):!dA(h)&&Vr.test(d)&&(h=j_(c,d)),t.addValue(c,Aa(h,{owner:t})),n[c]===void 0&&(n[c]=h),h!==null&&t.setBaseTarget(c,h))}}function pA(t,e){return e?(e[t]||e.default||e).from:void 0}function gA(t,e,n){const s={};for(const r in t){const a=pA(r,e);if(a!==void 0)s[r]=a;else{const o=n.getValue(r);o&&(s[r]=o.get())}}return s}function yA({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function xA(t,e){const n=t.get();if(Array.isArray(e)){for(let s=0;s<e.length;s++)if(e[s]!==n)return!0}else return n!==e}function C_(t,e,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:o,...l}=t.makeTargetAnimatable(e);const c=t.getValue("willChange");s&&(a=s);const d=[],h=r&&t.animationState&&t.animationState.getState()[r];for(const f in l){const p=t.getValue(f),x=l[f];if(!p||x===void 0||h&&yA(h,f))continue;const j={delay:n,elapsed:0,...Cg(a||{},f)};if(window.HandoffAppearAnimations){const S=t.getProps()[AN];if(S){const v=window.HandoffAppearAnimations(S,f,p,ze);v!==null&&(j.elapsed=v,j.isHandoff=!0)}}let _=!j.isHandoff&&!xA(p,x);if(j.type==="spring"&&(p.getVelocity()||j.velocity)&&(_=!1),p.animation&&(_=!1),_)continue;p.start(Ag(f,p,x,t.shouldReduceMotion&&Oi.has(f)?{type:!1}:j));const k=p.animation;nd(c)&&(c.add(f),k.then(()=>c.remove(f))),d.push(k)}return o&&Promise.all(d).then(()=>{o&&fA(t,o)}),d}function Lm(t,e,n={}){const s=eh(t,e,n.custom);let{transition:r=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const a=s?()=>Promise.all(C_(t,s,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=r;return vA(t,e,d+c,h,f,n)}:()=>Promise.resolve(),{when:l}=r;if(l){const[c,d]=l==="beforeChildren"?[a,o]:[o,a];return c().then(()=>d())}else return Promise.all([a(),o(n.delay)])}function vA(t,e,n=0,s=0,r=1,a){const o=[],l=(t.variantChildren.size-1)*s,c=r===1?(d=0)=>d*s:(d=0)=>l-d*s;return Array.from(t.variantChildren).sort(wA).forEach((d,h)=>{d.notify("AnimationStart",e),o.push(Lm(d,e,{...a,delay:n+c(h)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(o)}function wA(t,e){return t.sortNodePosition(e)}function bA(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const r=e.map(a=>Lm(t,a,n));s=Promise.all(r)}else if(typeof e=="string")s=Lm(t,e,n);else{const r=typeof e=="function"?eh(t,e,n.custom):e;s=Promise.all(C_(t,r,n))}return s.then(()=>t.notify("AnimationComplete",e))}const NA=[...pg].reverse(),_A=pg.length;function SA(t){return e=>Promise.all(e.map(({animation:n,options:s})=>bA(t,n,s)))}function jA(t){let e=SA(t);const n=TA();let s=!0;const r=(c,d)=>{const h=eh(t,d);if(h){const{transition:f,transitionEnd:p,...x}=h;c={...c,...x,...p}}return c};function a(c){e=c(t)}function o(c,d){const h=t.getProps(),f=t.getVariantContext(!0)||{},p=[],x=new Set;let j={},_=1/0;for(let S=0;S<_A;S++){const v=NA[S],b=n[v],R=h[v]!==void 0?h[v]:f[v],M=Tl(R),B=v===d?b.isActive:null;B===!1&&(_=S);let E=R===f[v]&&R!==h[v]&&M;if(E&&s&&t.manuallyAnimateOnMount&&(E=!1),b.protectedKeys={...j},!b.isActive&&B===null||!R&&!b.prevProp||Yd(R)||typeof R=="boolean")continue;let T=EA(b.prevProp,R)||v===d&&b.isActive&&!E&&M||S>_&&M,C=!1;const A=Array.isArray(R)?R:[R];let L=A.reduce(r,{});B===!1&&(L={});const{prevResolvedValues:P={}}=b,fe={...P,...L},ae=le=>{T=!0,x.has(le)&&(C=!0,x.delete(le)),b.needsAnimating[le]=!0};for(const le in fe){const te=L[le],V=P[le];if(j.hasOwnProperty(le))continue;let U=!1;Xu(te)&&Xu(V)?U=!ZN(te,V):U=te!==V,U?te!==void 0?ae(le):x.add(le):te!==void 0&&x.has(le)?ae(le):b.protectedKeys[le]=!0}b.prevProp=R,b.prevResolvedValues=L,b.isActive&&(j={...j,...L}),s&&t.blockInitialAnimation&&(T=!1),T&&(!E||C)&&p.push(...A.map(le=>({animation:le,options:{type:v,...c}})))}if(x.size){const S={};x.forEach(v=>{const b=t.getBaseTarget(v);b!==void 0&&(S[v]=b)}),p.push({animation:S})}let k=!!p.length;return s&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(k=!1),s=!1,k?e(p):Promise.resolve()}function l(c,d,h){var f;if(n[c].isActive===d)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(x=>{var j;return(j=x.animationState)===null||j===void 0?void 0:j.setActive(c,d)}),n[c].isActive=d;const p=o(h,c);for(const x in n)n[x].protectedKeys={};return p}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>n}}function EA(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!ZN(e,t):!1}function ri(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function TA(){return{animate:ri(!0),whileInView:ri(),whileHover:ri(),whileTap:ri(),whileDrag:ri(),whileFocus:ri(),exit:ri()}}class IA extends Gr{constructor(e){super(e),e.animationState||(e.animationState=jA(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Yd(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let kA=0;class CA extends Gr{constructor(){super(...arguments),this.id=kA++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e,{custom:s??this.node.getProps().custom});n&&!e&&a.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const AA={animation:{Feature:IA},exit:{Feature:CA}},K0=(t,e)=>Math.abs(t-e);function PA(t,e){const n=K0(t.x,e.x),s=K0(t.y,e.y);return Math.sqrt(n**2+s**2)}class A_{constructor(e,n,{transformPagePoint:s,contextWindow:r,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=bf(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,x=PA(f.offset,{x:0,y:0})>=3;if(!p&&!x)return;const{point:j}=f,{timestamp:_}=Ut;this.history.push({...j,timestamp:_});const{onStart:k,onMove:S}=this.handlers;p||(k&&k(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=wf(p,this.transformPagePoint),ze.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:x,onSessionEnd:j,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=bf(f.type==="pointercancel"?this.lastMoveEventInfo:wf(p,this.transformPagePoint),this.history);this.startEvent&&x&&x(f,k),j&&j(f,k)},!KN(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.contextWindow=r||window;const o=Zd(e),l=wf(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=Ut;this.history=[{...c,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,bf(l,this.history)),this.removeListeners=Sr(ks(this.contextWindow,"pointermove",this.handlePointerMove),ks(this.contextWindow,"pointerup",this.handlePointerUp),ks(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Os(this.updatePoint)}}function wf(t,e){return e?{point:e(t.point)}:t}function J0(t,e){return{x:t.x-e.x,y:t.y-e.y}}function bf({point:t},e){return{point:t,delta:J0(t,P_(e)),offset:J0(t,RA(e)),velocity:DA(e,.1)}}function RA(t){return t[0]}function P_(t){return t[t.length-1]}function DA(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const r=P_(t);for(;n>=0&&(s=t[n],!(r.timestamp-s.timestamp>vi(e)));)n--;if(!s)return{x:0,y:0};const a=Cs(r.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const o={x:(r.x-s.x)/a,y:(r.y-s.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Sn(t){return t.max-t.min}function Mm(t,e=0,n=.01){return Math.abs(t-e)<=n}function Y0(t,e,n,s=.5){t.origin=s,t.originPoint=Xe(e.min,e.max,t.origin),t.scale=Sn(n)/Sn(e),(Mm(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Xe(n.min,n.max,t.origin)-t.originPoint,(Mm(t.translate)||isNaN(t.translate))&&(t.translate=0)}function el(t,e,n,s){Y0(t.x,e.x,n.x,s?s.originX:void 0),Y0(t.y,e.y,n.y,s?s.originY:void 0)}function Q0(t,e,n){t.min=n.min+e.min,t.max=t.min+Sn(e)}function VA(t,e,n){Q0(t.x,e.x,n.x),Q0(t.y,e.y,n.y)}function X0(t,e,n){t.min=e.min-n.min,t.max=t.min+Sn(e)}function tl(t,e,n){X0(t.x,e.x,n.x),X0(t.y,e.y,n.y)}function LA(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Xe(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Xe(n,t,s.max):Math.min(t,n)),t}function Z0(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function MA(t,{top:e,left:n,bottom:s,right:r}){return{x:Z0(t.x,n,r),y:Z0(t.y,e,s)}}function ev(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function OA(t,e){return{x:ev(t.x,e.x),y:ev(t.y,e.y)}}function FA(t,e){let n=.5;const s=Sn(t),r=Sn(e);return r>s?n=kl(e.min,e.max-s,t.min):s>r&&(n=kl(t.min,t.max-r,e.min)),Dr(0,1,n)}function $A(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Om=.35;function UA(t=Om){return t===!1?t=0:t===!0&&(t=Om),{x:tv(t,"left","right"),y:tv(t,"top","bottom")}}function tv(t,e,n){return{min:nv(t,e),max:nv(t,n)}}function nv(t,e){return typeof t=="number"?t:t[e]||0}const sv=()=>({translate:0,scale:1,origin:0,originPoint:0}),da=()=>({x:sv(),y:sv()}),rv=()=>({min:0,max:0}),ft=()=>({x:rv(),y:rv()});function Cn(t){return[t("x"),t("y")]}function R_({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function BA({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function zA(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Nf(t){return t===void 0||t===1}function Fm({scale:t,scaleX:e,scaleY:n}){return!Nf(t)||!Nf(e)||!Nf(n)}function oi(t){return Fm(t)||D_(t)||t.z||t.rotate||t.rotateX||t.rotateY}function D_(t){return iv(t.x)||iv(t.y)}function iv(t){return t&&t!=="0%"}function sd(t,e,n){const s=t-n,r=e*s;return n+r}function av(t,e,n,s,r){return r!==void 0&&(t=sd(t,r,s)),sd(t,n,s)+e}function $m(t,e=0,n=1,s,r){t.min=av(t.min,e,n,s,r),t.max=av(t.max,e,n,s,r)}function V_(t,{x:e,y:n}){$m(t.x,e.translate,e.scale,e.originPoint),$m(t.y,n.translate,n.scale,n.originPoint)}function HA(t,e,n,s=!1){const r=n.length;if(!r)return;e.x=e.y=1;let a,o;for(let l=0;l<r;l++){a=n[l],o=a.projectionDelta;const c=a.instance;c&&c.style&&c.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ha(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,V_(t,o)),s&&oi(a.latestValues)&&ha(t,a.latestValues))}e.x=ov(e.x),e.y=ov(e.y)}function ov(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function ar(t,e){t.min=t.min+e,t.max=t.max+e}function lv(t,e,[n,s,r]){const a=e[r]!==void 0?e[r]:.5,o=Xe(t.min,t.max,a);$m(t,e[n],e[s],o,e.scale)}const WA=["x","scaleX","originX"],qA=["y","scaleY","originY"];function ha(t,e){lv(t.x,e,WA),lv(t.y,e,qA)}function L_(t,e){return R_(zA(t.getBoundingClientRect(),e))}function GA(t,e,n){const s=L_(t,n),{scroll:r}=e;return r&&(ar(s.x,r.offset.x),ar(s.y,r.offset.y)),s}const M_=({current:t})=>t?t.ownerDocument.defaultView:null,KA=new WeakMap;class JA{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ft(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Zd(h,"page").point)},a=(h,f)=>{const{drag:p,dragPropagation:x,onDragStart:j}=this.getProps();if(p&&!x&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=YN(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Cn(k=>{let S=this.getAxisMotionValue(k).get()||0;if(ls.test(S)){const{projection:v}=this.visualElement;if(v&&v.layout){const b=v.layout.layoutBox[k];b&&(S=Sn(b)*(parseFloat(S)/100))}}this.originPoint[k]=S}),j&&ze.update(()=>j(h,f),!1,!0);const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},o=(h,f)=>{const{dragPropagation:p,dragDirectionLock:x,onDirectionLock:j,onDrag:_}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:k}=f;if(x&&this.currentDirection===null){this.currentDirection=YA(k),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",f.point,k),this.updateAxis("y",f.point,k),this.visualElement.render(),_&&_(h,f)},l=(h,f)=>this.stop(h,f),c=()=>Cn(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new A_(e,{onSessionStart:r,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:M_(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:a}=this.getProps();a&&ze.update(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:r}=this.getProps();if(!s||!Wc(e,r,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(o=LA(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&ca(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=MA(r.layoutBox,n):this.constraints=!1,this.elastic=UA(s),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Cn(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=$A(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ca(e))return!1;const s=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=GA(s,r.root,this.visualElement.getTransformPagePoint());let o=OA(r.layout.layoutBox,a);if(n){const l=n(BA(o));this.hasMutatedConstraints=!!l,l&&(o=R_(l))}return o}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Cn(h=>{if(!Wc(h,n,this.currentDirection))return;let f=c&&c[h]||{};o&&(f={min:0,max:0});const p=r?200:1e6,x=r?40:1e7,j={type:"inertia",velocity:s?e[h]:0,bounceStiffness:p,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(h,j)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return s.start(Ag(e,s,0,n))}stopAnimation(){Cn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Cn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Cn(n=>{const{drag:s}=this.getProps();if(!Wc(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:l}=r.layout.layoutBox[n];a.set(e[n]-Xe(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!ca(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Cn(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();r[o]=FA({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Cn(o=>{if(!Wc(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Xe(c,d,r[o]))})}addListeners(){if(!this.visualElement.current)return;KA.set(this.visualElement,this);const e=this.visualElement.current,n=ks(e,"pointerdown",c=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();ca(c)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,a=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),s();const o=js(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Cn(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=c[h].translate,f.set(f.get()+c[h].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:o=Om,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function Wc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function YA(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class QA extends Gr{constructor(e){super(e),this.removeGroupControls=ut,this.removeListeners=ut,this.controls=new JA(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ut}unmount(){this.removeGroupControls(),this.removeListeners()}}const cv=t=>(e,n)=>{t&&ze.update(()=>t(e,n))};class XA extends Gr{constructor(){super(...arguments),this.removePointerDownListener=ut}onPointerDown(e){this.session=new A_(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:M_(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:cv(e),onStart:cv(n),onMove:s,onEnd:(a,o)=>{delete this.session,r&&ze.update(()=>r(a,o))}}}mount(){this.removePointerDownListener=ks(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function ZA(){const t=D.useContext(Kd);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:s}=t,r=D.useId();return D.useEffect(()=>s(r),[]),!e&&n?[!1,()=>n&&n(r)]:[!0]}const du={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function uv(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ao={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(me.test(t))t=parseFloat(t);else return t;const n=uv(t,e.target.x),s=uv(t,e.target.y);return`${n}% ${s}%`}},eP={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,r=Vr.parse(t);if(r.length>5)return s;const a=Vr.createTransformer(t),o=typeof r[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;r[0+o]/=l,r[1+o]/=c;const d=Xe(l,c,.5);return typeof r[2+o]=="number"&&(r[2+o]/=d),typeof r[3+o]=="number"&&(r[3+o]/=d),a(r)}};class tP extends Ad.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:a}=e;lk(nP),a&&(n.group&&n.group.add(a),s&&s.register&&r&&s.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),du.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:r,isPresent:a}=this.props,o=s.projection;return o&&(o.isPresent=a,r||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||ze.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function O_(t){const[e,n]=ZA(),s=D.useContext(yg);return Ad.createElement(tP,{...t,layoutGroup:s,switchLayoutGroup:D.useContext(RN),isPresent:e,safeToRemove:n})}const nP={borderRadius:{...Ao,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ao,borderTopRightRadius:Ao,borderBottomLeftRadius:Ao,borderBottomRightRadius:Ao,boxShadow:eP},F_=["TopLeft","TopRight","BottomLeft","BottomRight"],sP=F_.length,dv=t=>typeof t=="string"?parseFloat(t):t,hv=t=>typeof t=="number"||me.test(t);function rP(t,e,n,s,r,a){r?(t.opacity=Xe(0,n.opacity!==void 0?n.opacity:1,iP(s)),t.opacityExit=Xe(e.opacity!==void 0?e.opacity:1,0,aP(s))):a&&(t.opacity=Xe(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let o=0;o<sP;o++){const l=`border${F_[o]}Radius`;let c=fv(e,l),d=fv(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||hv(c)===hv(d)?(t[l]=Math.max(Xe(dv(c),dv(d),s),0),(ls.test(d)||ls.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=Xe(e.rotate||0,n.rotate||0,s))}function fv(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const iP=$_(0,.5,l_),aP=$_(.5,.95,ut);function $_(t,e,n){return s=>s<t?0:s>e?1:n(kl(t,e,s))}function mv(t,e){t.min=e.min,t.max=e.max}function kn(t,e){mv(t.x,e.x),mv(t.y,e.y)}function pv(t,e,n,s,r){return t-=e,t=sd(t,1/n,s),r!==void 0&&(t=sd(t,1/r,s)),t}function oP(t,e=0,n=1,s=.5,r,a=t,o=t){if(ls.test(e)&&(e=parseFloat(e),e=Xe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Xe(a.min,a.max,s);t===a&&(l-=e),t.min=pv(t.min,e,n,l,r),t.max=pv(t.max,e,n,l,r)}function gv(t,e,[n,s,r],a,o){oP(t,e[n],e[s],e[r],e.scale,a,o)}const lP=["x","scaleX","originX"],cP=["y","scaleY","originY"];function yv(t,e,n,s){gv(t.x,e,lP,n?n.x:void 0,s?s.x:void 0),gv(t.y,e,cP,n?n.y:void 0,s?s.y:void 0)}function xv(t){return t.translate===0&&t.scale===1}function U_(t){return xv(t.x)&&xv(t.y)}function uP(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function B_(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function vv(t){return Sn(t.x)/Sn(t.y)}class dP{constructor(){this.members=[]}add(e){Pg(this.members,e),e.scheduleRender()}remove(e){if(Rg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const a=this.members[r];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function wv(t,e,n){let s="";const r=t.x.translate/e.x,a=t.y.translate/e.y;if((r||a)&&(s=`translate3d(${r}px, ${a}px, 0) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:c,rotateX:d,rotateY:h}=n;c&&(s+=`rotate(${c}deg) `),d&&(s+=`rotateX(${d}deg) `),h&&(s+=`rotateY(${h}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(s+=`scale(${o}, ${l})`),s||"none"}const hP=(t,e)=>t.depth-e.depth;class fP{constructor(){this.children=[],this.isDirty=!1}add(e){Pg(this.children,e),this.isDirty=!0}remove(e){Rg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(hP),this.isDirty=!1,this.children.forEach(e)}}function mP(t,e){const n=performance.now(),s=({timestamp:r})=>{const a=r-n;a>=e&&(Os(s),t(a-e))};return ze.read(s,!0),()=>Os(s)}function pP(t){window.MotionDebug&&window.MotionDebug.record(t)}function gP(t){return t instanceof SVGElement&&t.tagName!=="svg"}function yP(t,e,n){const s=dn(t)?t:Aa(t);return s.start(Ag("",s,e,n)),s.animation}const bv=["","X","Y","Z"],xP={visibility:"hidden"},Nv=1e3;let vP=0;const li={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function z_({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(o={},l=e==null?void 0:e()){this.id=vP++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,li.totalNodes=li.resolvedTargetDeltas=li.recalculatedProjection=0,this.nodes.forEach(NP),this.nodes.forEach(TP),this.nodes.forEach(IP),this.nodes.forEach(_P),pP(li)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new fP)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Dg),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=gP(o),this.instance=o;const{layoutId:c,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),t){let f;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=mP(p,250),du.hasAnimatedSinceResize&&(du.hasAnimatedSinceResize=!1,this.nodes.forEach(Sv))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||d)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:x,layout:j})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||h.getDefaultTransition()||RP,{onLayoutAnimationStart:k,onLayoutAnimationComplete:S}=h.getProps(),v=!this.targetLayout||!B_(this.targetLayout,j)||x,b=!p&&x;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||p&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const R={...Cg(_,"layout"),onPlay:k,onComplete:S};(h.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R)}else p||Sv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=j})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Os(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kP),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_v);return}this.isUpdating||this.nodes.forEach(jP),this.isUpdating=!1,this.nodes.forEach(EP),this.nodes.forEach(wP),this.nodes.forEach(bP),this.clearAllSnapshots();const l=performance.now();Ut.delta=Dr(0,1e3/60,l-Ut.timestamp),Ut.timestamp=l,Ut.isProcessing=!0,hf.update.process(Ut),hf.preRender.process(Ut),hf.render.process(Ut),Ut.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(SP),this.sharedNodes.forEach(CP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ft(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:s(this.instance),offset:n(this.instance)})}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!U_(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;o&&(l||oi(this.latestValues)||h)&&(r(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),DP(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return ft();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(ar(l.x,c.offset.x),ar(l.y,c.offset.y)),l}removeElementScroll(o){const l=ft();kn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:f}=d;if(d!==this.root&&h&&f.layoutScroll){if(h.isRoot){kn(l,o);const{scroll:p}=this.root;p&&(ar(l.x,-p.offset.x),ar(l.y,-p.offset.y))}ar(l.x,h.offset.x),ar(l.y,h.offset.y)}}return l}applyTransform(o,l=!1){const c=ft();kn(c,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&ha(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),oi(h.latestValues)&&ha(c,h.latestValues)}return oi(this.latestValues)&&ha(c,this.latestValues),c}removeTransform(o){const l=ft();kn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!oi(d.latestValues))continue;Fm(d.latestValues)&&d.updateSnapshot();const h=ft(),f=d.measurePageBox();kn(h,f),yv(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return oi(this.latestValues)&&yv(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ut.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=Ut.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ft(),this.relativeTargetOrigin=ft(),tl(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ft(),this.targetWithTransforms=ft()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),VA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):kn(this.target,this.layout.layoutBox),V_(this.target,this.targetDelta)):kn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ft(),this.relativeTargetOrigin=ft(),tl(this.relativeTargetOrigin,this.target,x.target),kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}li.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Fm(this.parent.latestValues)||D_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Ut.timestamp&&(d=!1),d)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;kn(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,x=this.treeScale.y;HA(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:j}=l;if(!j){this.projectionTransform&&(this.projectionDelta=da(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=da(),this.projectionDeltaWithTransform=da());const _=this.projectionTransform;el(this.projectionDelta,this.layoutCorrected,j,this.latestValues),this.projectionTransform=wv(this.projectionDelta,this.treeScale),(this.projectionTransform!==_||this.treeScale.x!==p||this.treeScale.y!==x)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",j)),li.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},h={...this.latestValues},f=da();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=ft(),x=c?c.source:void 0,j=this.layout?this.layout.source:void 0,_=x!==j,k=this.getStack(),S=!k||k.members.length<=1,v=!!(_&&!S&&this.options.crossfade===!0&&!this.path.some(PP));this.animationProgress=0;let b;this.mixTargetDelta=R=>{const M=R/1e3;jv(f.x,o.x,M),jv(f.y,o.y,M),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(tl(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),AP(this.relativeTarget,this.relativeTargetOrigin,p,M),b&&uP(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=ft()),kn(b,this.relativeTarget)),_&&(this.animationValues=h,rP(h,d,this.latestValues,M,v,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Os(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ze.update(()=>{du.hasAnimatedSinceResize=!0,this.currentAnimation=yP(0,Nv,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Nv),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:h}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&H_(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||ft();const f=Sn(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const p=Sn(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+p}kn(l,c),ha(l,h),el(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new dP),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const d={};for(let h=0;h<bv.length;h++){const f="rotate"+bv[h];c[f]&&(d[f]=c[f],o.setStaticValue(f,0))}o.render();for(const h in d)o.setStaticValue(h,d[h]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return xP;const d={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=uu(o==null?void 0:o.pointerEvents)||"",d.transform=h?h(this.latestValues,""):"none",d;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=uu(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!oi(this.latestValues)&&(_.transform=h?h({},""):"none",this.hasProjected=!1),_}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),d.transform=wv(this.projectionDeltaWithTransform,this.treeScale,p),h&&(d.transform=h(p,d.transform));const{x,y:j}=this.projectionDelta;d.transformOrigin=`${x.origin*100}% ${j.origin*100}% 0`,f.animationValues?d.opacity=f===this?(c=(l=p.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:d.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const _ in Yu){if(p[_]===void 0)continue;const{correct:k,applyTo:S}=Yu[_],v=d.transform==="none"?p[_]:k(p[_],f);if(S){const b=S.length;for(let R=0;R<b;R++)d[S[R]]=v}else d[_]=v}return this.options.layoutId&&(d.pointerEvents=f===this?uu(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(_v),this.root.sharedNodes.clear()}}}function wP(t){t.updateLayout()}function bP(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=t.layout,{animationType:a}=t.options,o=n.source!==t.layout.source;a==="size"?Cn(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],x=Sn(p);p.min=s[f].min,p.max=p.min+x}):H_(a,n.layoutBox,s)&&Cn(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],x=Sn(s[f]);p.max=p.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+x)});const l=da();el(l,s,n.layoutBox);const c=da();o?el(c,t.applyTransform(r,!0),n.measuredBox):el(c,s,n.layoutBox);const d=!U_(l);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:x}=f;if(p&&x){const j=ft();tl(j,n.layoutBox,p.layoutBox);const _=ft();tl(_,s,x.layoutBox),B_(j,_)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=j,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function NP(t){li.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function _P(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function SP(t){t.clearSnapshot()}function _v(t){t.clearMeasurements()}function jP(t){t.isLayoutDirty=!1}function EP(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Sv(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function TP(t){t.resolveTargetDelta()}function IP(t){t.calcProjection()}function kP(t){t.resetRotation()}function CP(t){t.removeLeadSnapshot()}function jv(t,e,n){t.translate=Xe(e.translate,0,n),t.scale=Xe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Ev(t,e,n,s){t.min=Xe(e.min,n.min,s),t.max=Xe(e.max,n.max,s)}function AP(t,e,n,s){Ev(t.x,e.x,n.x,s),Ev(t.y,e.y,n.y,s)}function PP(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const RP={duration:.45,ease:[.4,0,.1,1]},Tv=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),Iv=Tv("applewebkit/")&&!Tv("chrome/")?Math.round:ut;function kv(t){t.min=Iv(t.min),t.max=Iv(t.max)}function DP(t){kv(t.x),kv(t.y)}function H_(t,e,n){return t==="position"||t==="preserve-aspect"&&!Mm(vv(e),vv(n),.2)}const VP=z_({attachResizeListener:(t,e)=>js(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),_f={current:void 0},W_=z_({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!_f.current){const t=new VP({});t.mount(window),t.setOptions({layoutScroll:!0}),_f.current=t}return _f.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),LP={pan:{Feature:XA},drag:{Feature:QA,ProjectionNode:W_,MeasureLayout:O_}},MP=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function OP(t){const e=MP.exec(t);if(!e)return[,];const[,n,s]=e;return[n,s]}function Um(t,e,n=1){const[s,r]=OP(t);if(!s)return;const a=window.getComputedStyle(e).getPropertyValue(s);if(a){const o=a.trim();return T_(o)?parseFloat(o):o}else return Cm(r)?Um(r,e,n+1):r}function FP(t,{...e},n){const s=t.current;if(!(s instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(r=>{const a=r.get();if(!Cm(a))return;const o=Um(a,s);o&&r.set(o)});for(const r in e){const a=e[r];if(!Cm(a))continue;const o=Um(a,s);o&&(e[r]=o,n||(n={}),n[r]===void 0&&(n[r]=a))}return{target:e,transitionEnd:n}}const $P=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),q_=t=>$P.has(t),UP=t=>Object.keys(t).some(q_),Cv=t=>t===Fi||t===me,Av=(t,e)=>parseFloat(t.split(", ")[e]),Pv=(t,e)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const r=s.match(/^matrix3d\((.+)\)$/);if(r)return Av(r[1],e);{const a=s.match(/^matrix\((.+)\)$/);return a?Av(a[1],t):0}},BP=new Set(["x","y","z"]),zP=ql.filter(t=>!BP.has(t));function HP(t){const e=[];return zP.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Pa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Pv(4,13),y:Pv(5,14)};Pa.translateX=Pa.x;Pa.translateY=Pa.y;const WP=(t,e,n)=>{const s=e.measureViewportBox(),r=e.current,a=getComputedStyle(r),{display:o}=a,l={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(d=>{l[d]=Pa[d](s,a)}),e.render();const c=e.measureViewportBox();return n.forEach(d=>{const h=e.getValue(d);h&&h.jump(l[d]),t[d]=Pa[d](c,a)}),t},qP=(t,e,n={},s={})=>{e={...e},s={...s};const r=Object.keys(e).filter(q_);let a=[],o=!1;const l=[];if(r.forEach(c=>{const d=t.getValue(c);if(!t.hasValue(c))return;let h=n[c],f=Co(h);const p=e[c];let x;if(Xu(p)){const j=p.length,_=p[0]===null?1:0;h=p[_],f=Co(h);for(let k=_;k<j&&p[k]!==null;k++)x?jg(Co(p[k])===x):x=Co(p[k])}else x=Co(p);if(f!==x)if(Cv(f)&&Cv(x)){const j=d.get();typeof j=="string"&&d.set(parseFloat(j)),typeof p=="string"?e[c]=parseFloat(p):Array.isArray(p)&&x===me&&(e[c]=p.map(parseFloat))}else f!=null&&f.transform&&(x!=null&&x.transform)&&(h===0||p===0)?h===0?d.set(x.transform(h)):e[c]=f.transform(p):(o||(a=HP(t),o=!0),l.push(c),s[c]=s[c]!==void 0?s[c]:e[c],d.jump(p))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,d=WP(e,t,l);return a.length&&a.forEach(([h,f])=>{t.getValue(h).set(f)}),t.render(),Jd&&c!==null&&window.scrollTo({top:c}),{target:d,transitionEnd:s}}else return{target:e,transitionEnd:s}};function GP(t,e,n,s){return UP(e)?qP(t,e,n,s):{target:e,transitionEnd:s}}const KP=(t,e,n,s)=>{const r=FP(t,e,s);return e=r.target,s=r.transitionEnd,GP(t,e,n,s)},Bm={current:null},G_={current:!1};function JP(){if(G_.current=!0,!!Jd)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Bm.current=t.matches;t.addListener(e),e()}else Bm.current=!1}function YP(t,e,n){const{willChange:s}=e;for(const r in e){const a=e[r],o=n[r];if(dn(a))t.addValue(r,a),nd(s)&&s.add(r);else if(dn(o))t.addValue(r,Aa(a,{owner:t})),nd(s)&&s.remove(r);else if(o!==a)if(t.hasValue(r)){const l=t.getValue(r);!l.hasAnimated&&l.set(a)}else{const l=t.getStaticValue(r);t.addValue(r,Aa(l!==void 0?l:a,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Rv=new WeakMap,K_=Object.keys(Il),QP=K_.length,Dv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],XP=gg.length;class ZP{constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:r,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ze.render(this.render,!1,!0);const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.isControllingVariants=Qd(n),this.isVariantNode=PN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{});for(const f in h){const p=h[f];l[f]!==void 0&&dn(p)&&(p.set(l[f],!1),nd(d)&&d.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,Rv.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),G_.current||JP(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Bm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Rv.delete(this.current),this.projection&&this.projection.unmount(),Os(this.notifyUpdate),Os(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const s=Oi.has(e),r=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ze.update(this.notifyUpdate,!1,!0),s&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),a()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},s,r,a){let o,l;for(let c=0;c<QP;c++){const d=K_[c],{isEnabled:h,Feature:f,ProjectionNode:p,MeasureLayout:x}=Il[d];p&&(o=p),h(n)&&(!this.features[d]&&f&&(this.features[d]=new f(this)),x&&(l=x))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:d,drag:h,dragConstraints:f,layoutScroll:p,layoutRoot:x}=n;this.projection.setOptions({layoutId:c,layout:d,alwaysMeasureLayout:!!h||f&&ca(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:a,layoutScroll:p,layoutRoot:x})}return l}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ft()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Dv.length;s++){const r=Dv[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const a=e["on"+r];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=YP(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const s=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const n={};for(let s=0;s<XP;s++){const r=gg[s],a=this.props[r];(Tl(a)||a===!1)&&(n[r]=a)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Aa(n,{owner:this}),this.addValue(e,s)),s}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:s}=this.props,r=typeof s=="string"||typeof s=="object"?(n=Sg(this.props,s))===null||n===void 0?void 0:n[e]:void 0;if(s&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!dn(a)?a:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Dg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class J_ extends ZP{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...s},{transformValues:r},a){let o=gA(s,e||{},this);if(r&&(n&&(n=r(n)),s&&(s=r(s)),o&&(o=r(o))),a){mA(this,s,o);const l=KP(this,s,o,n);n=l.transitionEnd,s=l.target}return{transition:e,transitionEnd:n,...s}}}function e5(t){return window.getComputedStyle(t)}class t5 extends J_{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Oi.has(n)){const s=kg(n);return s&&s.default||0}else{const s=e5(e),r=(LN(n)?s.getPropertyValue(n):s[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return L_(e,n)}build(e,n,s,r){vg(e,n,s,r.transformTemplate)}scrapeMotionValuesFromProps(e,n){return _g(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;dn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,s,r){BN(e,n,s,r)}}class n5 extends J_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Oi.has(n)){const s=kg(n);return s&&s.default||0}return n=zN.has(n)?n:mg(n),e.getAttribute(n)}measureInstanceViewportBox(){return ft()}scrapeMotionValuesFromProps(e,n){return WN(e,n)}build(e,n,s,r){bg(e,n,s,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,s,r){HN(e,n,s,r)}mount(e){this.isSVGTag=Ng(e.tagName),super.mount(e)}}const s5=(t,e)=>xg(t)?new n5(e,{enableHardwareAcceleration:!1}):new t5(e,{enableHardwareAcceleration:!0}),r5={layout:{ProjectionNode:W_,MeasureLayout:O_}},i5={...AA,...Qk,...LP,...r5},F=ak((t,e)=>Ok(t,e,i5,s5));function Y_(){const t=D.useRef(!1);return fg(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function a5(){const t=Y_(),[e,n]=D.useState(0),s=D.useCallback(()=>{t.current&&n(e+1)},[e]);return[D.useCallback(()=>ze.postRender(s),[s]),e]}class o5 extends D.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function l5({children:t,isPresent:e}){const n=D.useId(),s=D.useRef(null),r=D.useRef({width:0,height:0,top:0,left:0});return D.useInsertionEffect(()=>{const{width:a,height:o,top:l,left:c}=r.current;if(e||!s.current||!a||!o)return;s.current.dataset.motionPopId=n;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),D.createElement(o5,{isPresent:e,childRef:s,sizeRef:r},D.cloneElement(t,{ref:s}))}const Sf=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:a,mode:o})=>{const l=qN(c5),c=D.useId(),d=D.useMemo(()=>({id:c,initial:e,isPresent:n,custom:r,onExitComplete:h=>{l.set(h,!0);for(const f of l.values())if(!f)return;s&&s()},register:h=>(l.set(h,!1),()=>l.delete(h))}),a?void 0:[n]);return D.useMemo(()=>{l.forEach((h,f)=>l.set(f,!1))},[n]),D.useEffect(()=>{!n&&!l.size&&s&&s()},[n]),o==="popLayout"&&(t=D.createElement(l5,{isPresent:n},t)),D.createElement(Kd.Provider,{value:d},t)};function c5(){return new Map}function u5(t){return D.useEffect(()=>()=>t(),[])}const ci=t=>t.key||"";function d5(t,e){t.forEach(n=>{const s=ci(n);e.set(s,n)})}function h5(t){const e=[];return D.Children.forEach(t,n=>{D.isValidElement(n)&&e.push(n)}),e}const dt=({children:t,custom:e,initial:n=!0,onExitComplete:s,exitBeforeEnter:r,presenceAffectsLayout:a=!0,mode:o="sync"})=>{const l=D.useContext(yg).forceRender||a5()[0],c=Y_(),d=h5(t);let h=d;const f=D.useRef(new Map).current,p=D.useRef(h),x=D.useRef(new Map).current,j=D.useRef(!0);if(fg(()=>{j.current=!1,d5(d,x),p.current=h}),u5(()=>{j.current=!0,x.clear(),f.clear()}),j.current)return D.createElement(D.Fragment,null,h.map(v=>D.createElement(Sf,{key:ci(v),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:a,mode:o},v)));h=[...h];const _=p.current.map(ci),k=d.map(ci),S=_.length;for(let v=0;v<S;v++){const b=_[v];k.indexOf(b)===-1&&!f.has(b)&&f.set(b,void 0)}return o==="wait"&&f.size&&(h=[]),f.forEach((v,b)=>{if(k.indexOf(b)!==-1)return;const R=x.get(b);if(!R)return;const M=_.indexOf(b);let B=v;if(!B){const E=()=>{f.delete(b);const w=Array.from(x.keys()).filter(T=>!k.includes(T));if(w.forEach(T=>x.delete(T)),p.current=d.filter(T=>{const C=ci(T);return C===b||w.includes(C)}),!f.size){if(c.current===!1)return;l(),s&&s()}};B=D.createElement(Sf,{key:ci(R),isPresent:!1,onExitComplete:E,custom:e,presenceAffectsLayout:a,mode:o},R),f.set(b,B)}h.splice(M,0,B)}),h=h.map(v=>{const b=v.key;return f.has(b)?v:D.createElement(Sf,{key:ci(v),isPresent:!0,presenceAffectsLayout:a,mode:o},v)}),D.createElement(D.Fragment,null,f.size?h:h.map(v=>D.cloneElement(v)))};class Yl{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const f5=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},At={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:f5()},Vg=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},m5=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=Vg(t);At.publicKey=n.publicKey,At.blockHeadless=n.blockHeadless,At.storageProvider=n.storageProvider,At.blockList=n.blockList,At.limitRate=n.limitRate,At.origin=n.origin||e},Q_=async(t,e,n={})=>{const s=await fetch(At.origin+t,{method:"POST",headers:n,body:e}),r=await s.text(),a=new Yl(s.status,r);if(s.ok)return a;throw a},X_=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},p5=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},Z_=t=>t.webdriver||!t.languages||t.languages.length===0,e2=()=>new Yl(451,"Unavailable For Headless Browser"),g5=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},y5=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},x5=(t,e)=>t instanceof FormData?t.get(e):t[e],t2=(t,e)=>{if(y5(t))return!1;g5(t.list,t.watchVariable);const n=x5(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},n2=()=>new Yl(403,"Forbidden"),v5=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},w5=async(t,e,n)=>{const s=Number(await n.get(t)||0);return e-Date.now()+s},s2=async(t,e,n)=>{if(!e.throttle||!n)return!1;v5(e.throttle,e.id);const s=e.id||t;return await w5(s,e.throttle,n)>0?!0:(await n.set(s,Date.now().toString()),!1)},r2=()=>new Yl(429,"Too Many Requests"),b5=async(t,e,n,s)=>{const r=Vg(s),a=r.publicKey||At.publicKey,o=r.blockHeadless||At.blockHeadless,l=r.storageProvider||At.storageProvider,c={...At.blockList,...r.blockList},d={...At.limitRate,...r.limitRate};return o&&Z_(navigator)?Promise.reject(e2()):(X_(a,t,e),p5(n),n&&t2(c,n)?Promise.reject(n2()):await s2(location.pathname,d,l)?Promise.reject(r2()):Q_("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:a,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},N5=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},_5=t=>typeof t=="string"?document.querySelector(t):t,S5=async(t,e,n,s)=>{const r=Vg(s),a=r.publicKey||At.publicKey,o=r.blockHeadless||At.blockHeadless,l=At.storageProvider||r.storageProvider,c={...At.blockList,...r.blockList},d={...At.limitRate,...r.limitRate};if(o&&Z_(navigator))return Promise.reject(e2());const h=_5(n);X_(a,t,e),N5(h);const f=new FormData(h);return t2(c,f)?Promise.reject(n2()):await s2(location.pathname,d,l)?Promise.reject(r2()):(f.append("lib_version","4.4.1"),f.append("service_id",t),f.append("template_id",e),f.append("user_id",a),Q_("/api/v1.0/email/send-form",f))},rd={init:m5,send:b5,sendForm:S5,EmailJSResponseStatus:Yl};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var j5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ee=(t,e)=>{const n=D.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:c,...d},h)=>D.createElement("svg",{ref:h,...j5,width:r,height:r,stroke:s,strokeWidth:o?Number(a)*24/Number(r):a,className:["lucide",`lucide-${E5(t)}`,l].join(" "),...d},[...e.map(([f,p])=>D.createElement(f,p)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=ee("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=ee("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=ee("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=ee("BadgeDollarSign",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=ee("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=ee("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=ee("Bitcoin",[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=ee("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=ee("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=ee("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=ee("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=ee("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=ee("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=ee("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=ee("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=ee("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=ee("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=ee("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=ee("DownloadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m8 17 4 4 4-4",key:"1ul180"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=ee("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=ee("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=ee("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=ee("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=ee("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=ee("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=ee("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=ee("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=ee("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=ee("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=ee("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=ee("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=ee("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=ee("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=ee("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=ee("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=ee("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=ee("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=ee("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=ee("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=ee("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=ee("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=ee("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=ee("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=ee("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=ee("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=ee("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=ee("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=ee("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=ee("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=ee("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=ee("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=ee("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),q5=()=>{};var Fv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},G5=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const a=t[n++];e[s++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=t[n++],o=t[n++],l=t[n++],c=((r&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(c>>10)),e[s++]=String.fromCharCode(56320+(c&1023))}else{const a=t[n++],o=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(a&63)<<6|o&63)}}return e.join("")},y2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const a=t[r],o=r+1<t.length,l=o?t[r+1]:0,c=r+2<t.length,d=c?t[r+2]:0,h=a>>2,f=(a&3)<<4|l>>4;let p=(l&15)<<2|d>>6,x=d&63;c||(x=64,o||(p=64)),s.push(n[h],n[f],n[p],n[x])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(g2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):G5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const a=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const d=r<t.length?n[t.charAt(r)]:64;++r;const f=r<t.length?n[t.charAt(r)]:64;if(++r,a==null||l==null||d==null||f==null)throw new K5;const p=a<<2|l>>4;if(s.push(p),d!==64){const x=l<<4&240|d>>2;if(s.push(x),f!==64){const j=d<<6&192|f;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class K5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const J5=function(t){const e=g2(t);return y2.encodeByteArray(e,!0)},cd=function(t){return J5(t).replace(/\./g,"")},x2=function(t){try{return y2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5=()=>Y5().__FIREBASE_DEFAULTS__,X5=()=>{if(typeof process>"u"||typeof Fv>"u")return;const t=Fv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Z5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&x2(t[1]);return e&&JSON.parse(e)},th=()=>{try{return q5()||Q5()||X5()||Z5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},v2=t=>{var e,n;return(n=(e=th())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},e4=t=>{const e=v2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},w2=()=>{var t;return(t=th())==null?void 0:t.config},b2=t=>{var e;return(e=th())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function N2(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[cd(JSON.stringify(n)),cd(JSON.stringify(o)),""].join(".")}const rl={};function s4(){const t={prod:[],emulator:[]};for(const e of Object.keys(rl))rl[e]?t.emulator.push(e):t.prod.push(e);return t}function r4(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let $v=!1;function _2(t,e){if(typeof window>"u"||typeof document>"u"||!Ga(window.location.host)||rl[t]===e||rl[t]||$v)return;rl[t]=e;function n(p){return`__firebase__banner__${p}`}const s="__firebase__banner",a=s4().prod.length>0;function o(){const p=document.getElementById(s);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,x){p.setAttribute("width","24"),p.setAttribute("id",x),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function d(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{$v=!0,o()},p}function h(p,x){p.setAttribute("id",x),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=r4(s),x=n("text"),j=document.getElementById(x)||document.createElement("span"),_=n("learnmore"),k=document.getElementById(_)||document.createElement("a"),S=n("preprendIcon"),v=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const b=p.element;l(b),h(k,_);const R=d();c(v,S),b.append(v,j,k,R),document.body.appendChild(b)}a?(j.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function i4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function a4(){var e;const t=(e=th())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function o4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function l4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function c4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function u4(){const t=qt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function d4(){return!a4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function h4(){try{return typeof indexedDB=="object"}catch{return!1}}function f4(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var a;e(((a=r.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4="FirebaseError";class Hs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=m4,Object.setPrototypeOf(this,Hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xl.prototype.create)}}class Xl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,a=this.errors[e],o=a?p4(a,s):"Error",l=`${this.serviceName}: ${o} (${r}).`;return new Hs(r,l,s)}}function p4(t,e){return t.replace(g4,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const g4=/\{\$([^}]+)}/g;function y4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ki(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const a=t[r],o=e[r];if(Uv(a)&&Uv(o)){if(!ki(a,o))return!1}else if(a!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function Uv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Mo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[r,a]=s.split("=");e[decodeURIComponent(r)]=decodeURIComponent(a)}}),e}function Oo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function x4(t,e){const n=new v4(t,e);return n.subscribe.bind(n)}class v4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let r;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");w4(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:s},r.next===void 0&&(r.next=jf),r.error===void 0&&(r.error=jf),r.complete===void 0&&(r.complete=jf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function w4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function jf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t){return t&&t._delegate?t._delegate:t}class Ci{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new t4;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_4(e))try{this.getOrInitializeService({instanceIdentifier:ui})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:r});s.resolve(a)}catch{}}}}clearInstance(e=ui){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ui){return this.instances.has(e)}getOptions(e=ui){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);s===l&&o.resolve(r)}return r}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(s)??new Set;r.add(e),this.onInitCallbacks.set(s,r);const a=this.instances.get(s);return a&&e(a,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:N4(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ui){return this.component?this.component.multipleInstances?e:ui:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function N4(t){return t===ui?void 0:t}function _4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new b4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ie||(Ie={}));const j4={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},E4=Ie.INFO,T4={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},I4=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=T4[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ug{constructor(e){this.name=e,this._logLevel=E4,this._logHandler=I4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?j4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}}const k4=(t,e)=>e.some(n=>t instanceof n);let Bv,zv;function C4(){return Bv||(Bv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function A4(){return zv||(zv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const S2=new WeakMap,Wm=new WeakMap,j2=new WeakMap,Ef=new WeakMap,Bg=new WeakMap;function P4(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(Tr(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&S2.set(n,t)}).catch(()=>{}),Bg.set(e,t),e}function R4(t){if(Wm.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});Wm.set(t,e)}let qm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||j2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function D4(t){qm=t(qm)}function V4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Tf(this),e,...n);return j2.set(s,e.sort?e.sort():[e]),Tr(s)}:A4().includes(t)?function(...e){return t.apply(Tf(this),e),Tr(S2.get(this))}:function(...e){return Tr(t.apply(Tf(this),e))}}function L4(t){return typeof t=="function"?V4(t):(t instanceof IDBTransaction&&R4(t),k4(t,C4())?new Proxy(t,qm):t)}function Tr(t){if(t instanceof IDBRequest)return P4(t);if(Ef.has(t))return Ef.get(t);const e=L4(t);return e!==t&&(Ef.set(t,e),Bg.set(e,t)),e}const Tf=t=>Bg.get(t);function M4(t,e,{blocked:n,upgrade:s,blocking:r,terminated:a}={}){const o=indexedDB.open(t,e),l=Tr(o);return s&&o.addEventListener("upgradeneeded",c=>{s(Tr(o.result),c.oldVersion,c.newVersion,Tr(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),r&&c.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const O4=["get","getKey","getAll","getAllKeys","count"],F4=["put","add","delete","clear"],If=new Map;function Hv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(If.get(e))return If.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=F4.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||O4.includes(n)))return;const a=async function(o,...l){const c=this.transaction(o,r?"readwrite":"readonly");let d=c.store;return s&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),r&&c.done]))[0]};return If.set(e,a),a}D4(t=>({...t,get:(e,n,s)=>Hv(e,n)||t.get(e,n,s),has:(e,n)=>!!Hv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(U4(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function U4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gm="@firebase/app",Wv="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new Ug("@firebase/app"),B4="@firebase/app-compat",z4="@firebase/analytics-compat",H4="@firebase/analytics",W4="@firebase/app-check-compat",q4="@firebase/app-check",G4="@firebase/auth",K4="@firebase/auth-compat",J4="@firebase/database",Y4="@firebase/data-connect",Q4="@firebase/database-compat",X4="@firebase/functions",Z4="@firebase/functions-compat",eR="@firebase/installations",tR="@firebase/installations-compat",nR="@firebase/messaging",sR="@firebase/messaging-compat",rR="@firebase/performance",iR="@firebase/performance-compat",aR="@firebase/remote-config",oR="@firebase/remote-config-compat",lR="@firebase/storage",cR="@firebase/storage-compat",uR="@firebase/firestore",dR="@firebase/ai",hR="@firebase/firestore-compat",fR="firebase",mR="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="[DEFAULT]",pR={[Gm]:"fire-core",[B4]:"fire-core-compat",[H4]:"fire-analytics",[z4]:"fire-analytics-compat",[q4]:"fire-app-check",[W4]:"fire-app-check-compat",[G4]:"fire-auth",[K4]:"fire-auth-compat",[J4]:"fire-rtdb",[Y4]:"fire-data-connect",[Q4]:"fire-rtdb-compat",[X4]:"fire-fn",[Z4]:"fire-fn-compat",[eR]:"fire-iid",[tR]:"fire-iid-compat",[nR]:"fire-fcm",[sR]:"fire-fcm-compat",[rR]:"fire-perf",[iR]:"fire-perf-compat",[aR]:"fire-rc",[oR]:"fire-rc-compat",[lR]:"fire-gcs",[cR]:"fire-gcs-compat",[uR]:"fire-fst",[hR]:"fire-fst-compat",[dR]:"fire-vertex","fire-js":"fire-js",[fR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud=new Map,gR=new Map,Jm=new Map;function qv(t,e){try{t.container.addComponent(e)}catch(n){Fs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Da(t){const e=t.name;if(Jm.has(e))return Fs.debug(`There were multiple attempts to register component ${e}.`),!1;Jm.set(e,t);for(const n of ud.values())qv(n,t);for(const n of gR.values())qv(n,t);return!0}function zg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ir=new Xl("app","Firebase",yR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ci("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ir.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=mR;function E2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Km,automaticDataCollectionEnabled:!0,...e},r=s.name;if(typeof r!="string"||!r)throw Ir.create("bad-app-name",{appName:String(r)});if(n||(n=w2()),!n)throw Ir.create("no-options");const a=ud.get(r);if(a){if(ki(n,a.options)&&ki(s,a.config))return a;throw Ir.create("duplicate-app",{appName:r})}const o=new S4(r);for(const c of Jm.values())o.addComponent(c);const l=new xR(n,s,o);return ud.set(r,l),l}function T2(t=Km){const e=ud.get(t);if(!e&&t===Km&&w2())return E2();if(!e)throw Ir.create("no-app",{appName:t});return e}function kr(t,e,n){let s=pR[t]??t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),a=e.match(/\s|\//);if(r||a){const o=[`Unable to register library "${s}" with version "${e}":`];r&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fs.warn(o.join(" "));return}Da(new Ci(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="firebase-heartbeat-database",wR=1,Al="firebase-heartbeat-store";let kf=null;function I2(){return kf||(kf=M4(vR,wR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Al)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ir.create("idb-open",{originalErrorMessage:t.message})})),kf}async function bR(t){try{const n=(await I2()).transaction(Al),s=await n.objectStore(Al).get(k2(t));return await n.done,s}catch(e){if(e instanceof Hs)Fs.warn(e.message);else{const n=Ir.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fs.warn(n.message)}}}async function Gv(t,e){try{const s=(await I2()).transaction(Al,"readwrite");await s.objectStore(Al).put(e,k2(t)),await s.done}catch(n){if(n instanceof Hs)Fs.warn(n.message);else{const s=Ir.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fs.warn(s.message)}}}function k2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=1024,_R=30;class SR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ER(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Kv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>_R){const o=TR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Fs.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Kv(),{heartbeatsToSend:s,unsentEntries:r}=jR(this._heartbeatsCache.heartbeats),a=cd(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Fs.warn(n),""}}}function Kv(){return new Date().toISOString().substring(0,10)}function jR(t,e=NR){const n=[];let s=t.slice();for(const r of t){const a=n.find(o=>o.agent===r.agent);if(a){if(a.dates.push(r.date),Jv(n)>e){a.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Jv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class ER{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return h4()?f4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await bR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Gv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Gv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Jv(t){return cd(JSON.stringify({version:2,heartbeats:t})).length}function TR(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(t){Da(new Ci("platform-logger",e=>new $4(e),"PRIVATE")),Da(new Ci("heartbeat",e=>new SR(e),"PRIVATE")),kr(Gm,Wv,t),kr(Gm,Wv,"esm2020"),kr("fire-js","")}IR("");var kR="firebase",CR="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kr(kR,CR,"app");function C2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AR=C2,A2=new Xl("auth","Firebase",C2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd=new Ug("@firebase/auth");function PR(t,...e){dd.logLevel<=Ie.WARN&&dd.warn(`Auth (${Ka}): ${t}`,...e)}function gu(t,...e){dd.logLevel<=Ie.ERROR&&dd.error(`Auth (${Ka}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(t,...e){throw Wg(t,...e)}function Jn(t,...e){return Wg(t,...e)}function Hg(t,e,n){const s={...AR(),[e]:n};return new Xl("auth","Firebase",s).create(e,{appName:t.name})}function Ps(t){return Hg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function RR(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Fn(t,"argument-error"),Hg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Wg(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return A2.create(t,...e)}function pe(t,e,...n){if(!t)throw Wg(e,...n)}function Es(t){const e="INTERNAL ASSERTION FAILED: "+t;throw gu(e),new Error(e)}function $s(t,e){t||Es(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function DR(){return Yv()==="http:"||Yv()==="https:"}function Yv(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DR()||l4()||"connection"in navigator)?navigator.onLine:!0}function LR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,n){this.shortDelay=e,this.longDelay=n,$s(n>e,"Short delay should be less than long delay!"),this.isMobile=i4()||c4()}get(){return VR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(t,e){$s(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],FR=new ec(3e4,6e4);function Ws(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function gs(t,e,n,s,r={}){return R2(t,r,async()=>{let a={},o={};s&&(e==="GET"?o=s:a={body:JSON.stringify(s)});const l=Zl({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...a};return o4()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Ga(t.emulatorConfig.host)&&(d.credentials="include"),P2.fetch()(await D2(t,t.config.apiHost,n,l),d)})}async function R2(t,e,n){t._canInitEmulator=!1;const s={...MR,...e};try{const r=new UR(t),a=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw qc(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw qc(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw qc(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw qc(t,"user-disabled",o);const h=s[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Hg(t,h,d);Fn(t,h)}}catch(r){if(r instanceof Hs)throw r;Fn(t,"network-request-failed",{message:String(r)})}}async function tc(t,e,n,s,r={}){const a=await gs(t,e,n,s,r);return"mfaPendingCredential"in a&&Fn(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function D2(t,e,n,s){const r=`${e}${n}?${s}`,a=t,o=a.config.emulator?qg(t.config,r):`${t.config.apiScheme}://${r}`;return OR.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function $R(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class UR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Jn(this.auth,"network-request-failed")),FR.get())})}}function qc(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=Jn(t,e,s);return r.customData._tokenResponse=n,r}function Qv(t){return t!==void 0&&t.enterprise!==void 0}class BR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return $R(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function zR(t,e){return gs(t,"GET","/v2/recaptchaConfig",Ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HR(t,e){return gs(t,"POST","/v1/accounts:delete",e)}async function hd(t,e){return gs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function WR(t,e=!1){const n=Nt(t),s=await n.getIdToken(e),r=Gg(s);pe(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const a=typeof r.firebase=="object"?r.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:r,token:s,authTime:il(Cf(r.auth_time)),issuedAtTime:il(Cf(r.iat)),expirationTime:il(Cf(r.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Cf(t){return Number(t)*1e3}function Gg(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return gu("JWT malformed, contained fewer than 3 sections"),null;try{const r=x2(n);return r?JSON.parse(r):(gu("Failed to decode base64 JWT payload"),null)}catch(r){return gu("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function Xv(t){const e=Gg(t);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Va(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Hs&&qR(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function qR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=il(this.lastLoginAt),this.creationTime=il(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fd(t){var f;const e=t.auth,n=await t.getIdToken(),s=await Va(t,hd(e,{idToken:n}));pe(s==null?void 0:s.users.length,e,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const a=(f=r.providerUserInfo)!=null&&f.length?V2(r.providerUserInfo):[],o=JR(t.providerData,a),l=t.isAnonymous,c=!(t.email&&r.passwordHash)&&!(o!=null&&o.length),d=l?c:!1,h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Qm(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function KR(t){const e=Nt(t);await fd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JR(t,e){return[...t.filter(s=>!e.some(r=>r.providerId===s.providerId)),...e]}function V2(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YR(t,e){const n=await R2(t,{},async()=>{const s=Zl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:a}=t.config,o=await D2(t,r,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:s};return t.emulatorConfig&&Ga(t.emulatorConfig.host)&&(c.credentials="include"),P2.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function QR(t,e){return gs(t,"POST","/v2/accounts:revokeToken",Ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Xv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const n=Xv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:r,expiresIn:a}=await YR(e,n);this.updateTokensAndExpiration(s,r,Number(a))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:r,expirationTime:a}=n,o=new wa;return s&&(pe(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),r&&(pe(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),a&&(pe(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wa,this.toJSON())}_performRefresh(){return Es("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(t,e){pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class qn{constructor({uid:e,auth:n,stsTokenManager:s,...r}){this.providerId="firebase",this.proactiveRefresh=new GR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Qm(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await Va(this,this.stsTokenManager.getToken(this.auth,e));return pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return WR(this,e)}reload(){return KR(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new qn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await fd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xn(this.auth.app))return Promise.reject(Ps(this.auth));const e=await this.getIdToken();return await Va(this,HR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,r=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:p,isAnonymous:x,providerData:j,stsTokenManager:_}=n;pe(f&&_,e,"internal-error");const k=wa.fromJSON(this.name,_);pe(typeof f=="string",e,"internal-error"),nr(s,e.name),nr(r,e.name),pe(typeof p=="boolean",e,"internal-error"),pe(typeof x=="boolean",e,"internal-error"),nr(a,e.name),nr(o,e.name),nr(l,e.name),nr(c,e.name),nr(d,e.name),nr(h,e.name);const S=new qn({uid:f,auth:e,email:r,emailVerified:p,displayName:s,isAnonymous:x,photoURL:o,phoneNumber:a,tenantId:l,stsTokenManager:k,createdAt:d,lastLoginAt:h});return j&&Array.isArray(j)&&(S.providerData=j.map(v=>({...v}))),c&&(S._redirectEventId=c),S}static async _fromIdTokenResponse(e,n,s=!1){const r=new wa;r.updateFromServerResponse(n);const a=new qn({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await fd(a),a}static async _fromGetAccountInfoResponse(e,n,s){const r=n.users[0];pe(r.localId!==void 0,"internal-error");const a=r.providerUserInfo!==void 0?V2(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(a!=null&&a.length),l=new wa;l.updateFromIdToken(s);const c=new qn({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Qm(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=new Map;function Ts(t){$s(t instanceof Function,"Expected a class definition");let e=Zv.get(t);return e?($s(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Zv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}L2.type="NONE";const ew=L2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(t,e,n){return`firebase:${t}:${e}:${n}`}class ba{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:r,name:a}=this.auth;this.fullUserKey=yu(this.userKey,r.apiKey,a),this.fullPersistenceKey=yu("persistence",r.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await hd(this.auth,{idToken:e}).catch(()=>{});return n?qn._fromGetAccountInfoResponse(this.auth,n,e):null}return qn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ba(Ts(ew),e,s);const r=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=r[0]||Ts(ew);const o=yu(s,e.config.apiKey,e.name);let l=null;for(const d of n)try{const h=await d._get(o);if(h){let f;if(typeof h=="string"){const p=await hd(e,{idToken:h}).catch(()=>{});if(!p)break;f=await qn._fromGetAccountInfoResponse(e,p,h)}else f=qn._fromJSON(e,h);d!==a&&(l=f),a=d;break}}catch{}const c=r.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new ba(a,e,s):(a=c[0],l&&await a._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==a)try{await d._remove(o)}catch{}})),new ba(a,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(M2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(B2(e))return"Blackberry";if(z2(e))return"Webos";if(O2(e))return"Safari";if((e.includes("chrome/")||F2(e))&&!e.includes("edge/"))return"Chrome";if(U2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function M2(t=qt()){return/firefox\//i.test(t)}function O2(t=qt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function F2(t=qt()){return/crios\//i.test(t)}function $2(t=qt()){return/iemobile/i.test(t)}function U2(t=qt()){return/android/i.test(t)}function B2(t=qt()){return/blackberry/i.test(t)}function z2(t=qt()){return/webos/i.test(t)}function Kg(t=qt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function XR(t=qt()){var e;return Kg(t)&&!!((e=window.navigator)!=null&&e.standalone)}function ZR(){return u4()&&document.documentMode===10}function H2(t=qt()){return Kg(t)||U2(t)||z2(t)||B2(t)||/windows phone/i.test(t)||$2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(t,e=[]){let n;switch(t){case"Browser":n=tw(qt());break;case"Worker":n=`${tw(qt())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ka}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=a=>new Promise((o,l)=>{try{const c=e(a);o(c)}catch(c){l(c)}});s.onAbort=n,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tD(t,e={}){return gs(t,"GET","/v2/passwordPolicy",Ws(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=6;class sD{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??nD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let r=0;r<e.length;r++)s=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e,n,s,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nw(this),this.idTokenSubscription=new nw(this),this.beforeStateQueue=new eD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=A2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ts(n)),this._initializationPromise=this.queue(async()=>{var s,r,a;if(!this._deleted&&(this.persistenceManager=await ba.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await hd(this,{idToken:e}),s=await qn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(xn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(a=this.redirectUser)==null?void 0:a._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(s=c.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await fd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xn(this.app))return Promise.reject(Ps(this));const n=e?Nt(e):null;return n&&pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xn(this.app)?Promise.reject(Ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xn(this.app)?Promise.reject(Ps(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ts(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tD(this),n=new sD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await QR(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ts(e)||this._popupRedirectResolver;pe(n,this,"argument-error"),this.redirectPersistenceManager=await ba.create(this,[Ts(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,r){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,s,r);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=W2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&PR(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function qs(t){return Nt(t)}class nw{constructor(e){this.auth=e,this.observer=null,this.addObserver=x4(n=>this.observer=n)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iD(t){nh=t}function q2(t){return nh.loadJS(t)}function aD(){return nh.recaptchaEnterpriseScript}function oD(){return nh.gapiScript}function lD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class cD{constructor(){this.enterprise=new uD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class uD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const dD="recaptcha-enterprise",G2="NO_RECAPTCHA";class hD{constructor(e){this.type=dD,this.auth=qs(e)}async verify(e="verify",n=!1){async function s(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,l)=>{zR(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new BR(c);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,o(d.siteKey)}}).catch(c=>{l(c)})})}function r(a,o,l){const c=window.grecaptcha;Qv(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(d=>{o(d)}).catch(()=>{o(G2)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new cD().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{s(this.auth).then(l=>{if(!n&&Qv(window.grecaptcha))r(l,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=aD();c.length!==0&&(c+=l),q2(c).then(()=>{r(l,a,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function sw(t,e,n,s=!1,r=!1){const a=new hD(t);let o;if(r)o=G2;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return s?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function md(t,e,n,s,r){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await sw(t,e,n,n==="getOobCode");return s(t,o)}else return s(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await sw(t,e,n,n==="getOobCode");return s(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(t,e){const n=zg(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),a=n.getOptions();if(ki(a,e??{}))return r;Fn(r,"already-initialized")}return n.initialize({options:e})}function mD(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Ts);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function pD(t,e,n){const s=qs(t);pe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const r=!1,a=K2(e),{host:o,port:l}=gD(e),c=l===null?"":`:${l}`,d={url:`${a}//${o}${c}/`},h=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!s._canInitEmulator){pe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),pe(ki(d,s.config.emulator)&&ki(h,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=d,s.emulatorConfig=h,s.settings.appVerificationDisabledForTesting=!0,Ga(o)?(N2(`${a}//${o}${c}`),_2("Auth",!0)):yD()}function K2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function gD(t){const e=K2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const a=r[1];return{host:a,port:rw(s.substr(a.length+1))}}else{const[a,o]=s.split(":");return{host:a,port:rw(o)}}}function rw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function yD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Es("not implemented")}_getIdTokenResponse(e){return Es("not implemented")}_linkToIdToken(e,n){return Es("not implemented")}_getReauthenticationResolver(e){return Es("not implemented")}}async function xD(t,e){return gs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vD(t,e){return tc(t,"POST","/v1/accounts:signInWithPassword",Ws(t,e))}async function wD(t,e){return gs(t,"POST","/v1/accounts:sendOobCode",Ws(t,e))}async function bD(t,e){return wD(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ND(t,e){return tc(t,"POST","/v1/accounts:signInWithEmailLink",Ws(t,e))}async function _D(t,e){return tc(t,"POST","/v1/accounts:signInWithEmailLink",Ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl extends Jg{constructor(e,n,s,r=null){super("password",s),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Pl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Pl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return md(e,n,"signInWithPassword",vD);case"emailLink":return ND(e,{email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return md(e,s,"signUpPassword",xD);case"emailLink":return _D(e,{idToken:n,email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Na(t,e){return tc(t,"POST","/v1/accounts:signInWithIdp",Ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD="http://localhost";class Ai extends Jg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ai(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Fn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:r,...a}=n;if(!s||!r)return null;const o=new Ai(s,r);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Na(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Na(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Na(e,n)}buildRequest(){const e={requestUri:SD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Zl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ED(t){const e=Mo(Oo(t)).link,n=e?Mo(Oo(e)).deep_link_id:null,s=Mo(Oo(t)).deep_link_id;return(s?Mo(Oo(s)).link:null)||s||n||e||t}class Yg{constructor(e){const n=Mo(Oo(e)),s=n.apiKey??null,r=n.oobCode??null,a=jD(n.mode??null);pe(s&&r&&a,"argument-error"),this.apiKey=s,this.operation=a,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=ED(e);try{return new Yg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(){this.providerId=Ja.PROVIDER_ID}static credential(e,n){return Pl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Yg.parseLink(n);return pe(s,"argument-error"),Pl._fromEmailAndCode(e,s.code,s.tenantId)}}Ja.PROVIDER_ID="password";Ja.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ja.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc extends Qg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends nc{constructor(){super("facebook.com")}static credential(e){return Ai._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cr.credential(e.oauthAccessToken)}catch{return null}}}cr.FACEBOOK_SIGN_IN_METHOD="facebook.com";cr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends nc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ai._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Ns.credential(n,s)}catch{return null}}}Ns.GOOGLE_SIGN_IN_METHOD="google.com";Ns.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends nc{constructor(){super("github.com")}static credential(e){return Ai._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ur.credential(e.oauthAccessToken)}catch{return null}}}ur.GITHUB_SIGN_IN_METHOD="github.com";ur.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends nc{constructor(){super("twitter.com")}static credential(e,n){return Ai._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return dr.credential(n,s)}catch{return null}}}dr.TWITTER_SIGN_IN_METHOD="twitter.com";dr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TD(t,e){return tc(t,"POST","/v1/accounts:signUp",Ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,r=!1){const a=await qn._fromIdTokenResponse(e,s,r),o=iw(s);return new Pi({user:a,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const r=iw(s);return new Pi({user:e,providerId:r,_tokenResponse:s,operationType:n})}}function iw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd extends Hs{constructor(e,n,s,r){super(n.code,n.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,pd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,r){return new pd(e,n,s,r)}}function J2(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?pd._fromErrorAndOperation(t,a,e,s):a})}async function ID(t,e,n=!1){const s=await Va(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Pi._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kD(t,e,n=!1){const{auth:s}=t;if(xn(s.app))return Promise.reject(Ps(s));const r="reauthenticate";try{const a=await Va(t,J2(s,r,e,t),n);pe(a.idToken,s,"internal-error");const o=Gg(a.idToken);pe(o,s,"internal-error");const{sub:l}=o;return pe(t.uid===l,s,"user-mismatch"),Pi._forOperation(t,r,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Fn(s,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y2(t,e,n=!1){if(xn(t.app))return Promise.reject(Ps(t));const s="signIn",r=await J2(t,s,e),a=await Pi._fromIdTokenResponse(t,s,r);return n||await t._updateCurrentUser(a.user),a}async function CD(t,e){return Y2(qs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q2(t){const e=qs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function AD(t,e,n){const s=qs(t);await md(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",bD)}async function PD(t,e,n){if(xn(t.app))return Promise.reject(Ps(t));const s=qs(t),o=await md(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",TD).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Q2(t),c}),l=await Pi._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(l.user),l}function RD(t,e,n){return xn(t.app)?Promise.reject(Ps(t)):CD(Nt(t),Ja.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Q2(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DD(t,e){return gs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VD(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=Nt(t),a={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Va(s,DD(s.auth,a));s.displayName=o.displayName||null,s.photoURL=o.photoUrl||null;const l=s.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=s.displayName,l.photoURL=s.photoURL),await s._updateTokensIfNecessary(o)}function LD(t,e,n,s){return Nt(t).onIdTokenChanged(e,n,s)}function MD(t,e,n){return Nt(t).beforeAuthStateChanged(e,n)}function X2(t){return Nt(t).signOut()}const gd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gd,"1"),this.storage.removeItem(gd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=1e3,FD=10;class eS extends Z2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=H2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),r=this.localCache[n];s!==r&&e(n,r,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const s=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},a=this.storage.getItem(s);ZR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,FD):r()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},OD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}eS.type="LOCAL";const $D=eS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS extends Z2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}tS.type="SESSION";const nS=tS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const s=new sh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:r,data:a}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const l=Array.from(o).map(async d=>d(n.origin,a)),c=await UD(l);n.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,o;return new Promise((l,c)=>{const d=Xg("",20);r.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},s);o={messageChannel:r,onMessage(f){const p=f;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(p.data.response);break;default:clearTimeout(h),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(){return window}function zD(t){us().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(){return typeof us().WorkerGlobalScope<"u"&&typeof us().importScripts=="function"}async function HD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function qD(){return sS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="firebaseLocalStorageDb",GD=1,yd="firebaseLocalStorage",iS="fbase_key";class sc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rh(t,e){return t.transaction([yd],e?"readwrite":"readonly").objectStore(yd)}function KD(){const t=indexedDB.deleteDatabase(rS);return new sc(t).toPromise()}function Xm(){const t=indexedDB.open(rS,GD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(yd,{keyPath:iS})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(yd)?e(s):(s.close(),await KD(),e(await Xm()))})})}async function aw(t,e,n){const s=rh(t,!0).put({[iS]:e,value:n});return new sc(s).toPromise()}async function JD(t,e){const n=rh(t,!1).get(e),s=await new sc(n).toPromise();return s===void 0?null:s.value}function ow(t,e){const n=rh(t,!0).delete(e);return new sc(n).toPromise()}const YD=800,QD=3;class aS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>QD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sh._getInstance(qD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await HD(),!this.activeServiceWorker)return;this.sender=new BD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xm();return await aw(e,gd,"1"),await ow(e,gd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>aw(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>JD(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ow(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const a=rh(r,!1).getAll();return new sc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:r,value:a}of e)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aS.type="LOCAL";const XD=aS;new ec(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(t,e){return e?Ts(e):(pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg extends Jg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Na(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Na(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Na(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ZD(t){return Y2(t.auth,new Zg(t),t.bypassAuthState)}function e3(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),kD(n,new Zg(t),t.bypassAuthState)}async function t3(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),ID(n,new Zg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,n,s,r,a=!1){this.auth=e,this.resolver=s,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:r,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:s,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZD;case"linkViaPopup":case"linkViaRedirect":return t3;case"reauthViaPopup":case"reauthViaRedirect":return e3;default:Fn(this.auth,"internal-error")}}resolve(e){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3=new ec(2e3,1e4);async function s3(t,e,n){if(xn(t.app))return Promise.reject(Jn(t,"operation-not-supported-in-this-environment"));const s=qs(t);RR(t,e,Qg);const r=oS(s,n);return new pi(s,"signInViaPopup",e,r).executeNotNull()}class pi extends lS{constructor(e,n,s,r,a){super(e,n,r,a),this.provider=s,this.authWindow=null,this.pollId=null,pi.currentPopupAction&&pi.currentPopupAction.cancel(),pi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){$s(this.filter.length===1,"Popup operations only handle one event");const e=Xg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,n3.get())};e()}}pi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3="pendingRedirect",xu=new Map;class i3 extends lS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=xu.get(this.auth._key());if(!e){try{const s=await a3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}xu.set(this.auth._key(),e)}return this.bypassAuthState||xu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function a3(t,e){const n=c3(e),s=l3(t);if(!await s._isAvailable())return!1;const r=await s._get(n)==="true";return await s._remove(n),r}function o3(t,e){xu.set(t._key(),e)}function l3(t){return Ts(t._redirectPersistence)}function c3(t){return yu(r3,t.config.apiKey,t.name)}async function u3(t,e,n=!1){if(xn(t.app))return Promise.reject(Ps(t));const s=qs(t),r=oS(s,e),o=await new i3(s,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3=10*60*1e3;class h3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!f3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!cS(e)){const r=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Jn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=d3&&this.cachedEventUids.clear(),this.cachedEventUids.has(lw(e))}saveEventToCache(e){this.cachedEventUids.add(lw(e)),this.lastProcessedEventTime=Date.now()}}function lw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function cS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function f3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m3(t,e={}){return gs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,g3=/^https?/;async function y3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await m3(t);for(const n of e)try{if(x3(n))return}catch{}Fn(t,"unauthorized-domain")}function x3(t){const e=Ym(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!g3.test(n))return!1;if(p3.test(t))return s===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3=new ec(3e4,6e4);function cw(){const t=us().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function w3(t){return new Promise((e,n)=>{var r,a,o;function s(){cw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cw(),n(Jn(t,"network-request-failed"))},timeout:v3.get()})}if((a=(r=us().gapi)==null?void 0:r.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((o=us().gapi)!=null&&o.load)s();else{const l=lD("iframefcb");return us()[l]=()=>{gapi.load?s():n(Jn(t,"network-request-failed"))},q2(`${oD()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw vu=null,e})}let vu=null;function b3(t){return vu=vu||w3(t),vu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3=new ec(5e3,15e3),_3="__/auth/iframe",S3="emulator/auth/iframe",j3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},E3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function T3(t){const e=t.config;pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?qg(e,S3):`https://${t.config.authDomain}/${_3}`,s={apiKey:e.apiKey,appName:t.name,v:Ka},r=E3.get(t.config.apiHost);r&&(s.eid=r);const a=t._getFrameworks();return a.length&&(s.fw=a.join(",")),`${n}?${Zl(s).slice(1)}`}async function I3(t){const e=await b3(t),n=us().gapi;return pe(n,t,"internal-error"),e.open({where:document.body,url:T3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:j3,dontclear:!0},s=>new Promise(async(r,a)=>{await s.restyle({setHideOnLeave:!1});const o=Jn(t,"network-request-failed"),l=us().setTimeout(()=>{a(o)},N3.get());function c(){us().clearTimeout(l),r(s)}s.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},C3=500,A3=600,P3="_blank",R3="http://localhost";class uw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function D3(t,e,n,s=C3,r=A3){const a=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let l="";const c={...k3,width:s.toString(),height:r.toString(),top:a,left:o},d=qt().toLowerCase();n&&(l=F2(d)?P3:n),M2(d)&&(e=e||R3,c.scrollbars="yes");const h=Object.entries(c).reduce((p,[x,j])=>`${p}${x}=${j},`,"");if(XR(d)&&l!=="_self")return V3(e||"",l),new uw(null);const f=window.open(e||"",l,h);pe(f,t,"popup-blocked");try{f.focus()}catch{}return new uw(f)}function V3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3="__/auth/handler",M3="emulator/auth/handler",O3=encodeURIComponent("fac");async function dw(t,e,n,s,r,a){pe(t.config.authDomain,t,"auth-domain-config-required"),pe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Ka,eventId:r};if(e instanceof Qg){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",y4(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof nc){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),d=c?`#${O3}=${encodeURIComponent(c)}`:"";return`${F3(t)}?${Zl(l).slice(1)}${d}`}function F3({config:t}){return t.emulator?qg(t,M3):`https://${t.authDomain}/${L3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af="webStorageSupport";class $3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nS,this._completeRedirectFn=u3,this._overrideRedirectResult=o3}async _openPopup(e,n,s,r){var o;$s((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await dw(e,n,s,Ym(),r);return D3(e,a,Xg())}async _openRedirect(e,n,s,r){await this._originValidation(e);const a=await dw(e,n,s,Ym(),r);return zD(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:a}=this.eventManagers[n];return r?Promise.resolve(r):($s(a,"If manager is not set, promise should be"),a)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await I3(e),s=new h3(e);return n.register("authEvent",r=>(pe(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:s.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Af,{type:Af},r=>{var o;const a=(o=r==null?void 0:r[0])==null?void 0:o[Af];a!==void 0&&n(!!a),Fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=y3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return H2()||O2()||Kg()}}const U3=$3;var hw="@firebase/auth",fw="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function H3(t){Da(new Ci("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=s.options;pe(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:W2(t)},d=new rD(s,r,a,c);return mD(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Da(new Ci("auth-internal",e=>{const n=qs(e.getProvider("auth").getImmediate());return(s=>new B3(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),kr(hw,fw,z3(t)),kr(hw,fw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3=5*60,q3=b2("authIdTokenMaxAge")||W3;let mw=null;const G3=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>q3)return;const r=n==null?void 0:n.token;mw!==r&&(mw=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function K3(t=T2()){const e=zg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=fD(t,{popupRedirectResolver:U3,persistence:[XD,$D,nS]}),s=b2("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(s,location.origin);if(location.origin===a.origin){const o=G3(a.toString());MD(n,o,()=>o(n.currentUser)),LD(n,l=>o(l))}}const r=v2("auth");return r&&pD(n,`http://${r}`),n}function J3(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}iD({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=r=>{const a=Jn("internal-error");a.customData=r,n(a)},s.type="text/javascript",s.charset="UTF-8",J3().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});H3("Browser");var pw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cr,uS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,w){function T(){}T.prototype=w.prototype,E.F=w.prototype,E.prototype=new T,E.prototype.constructor=E,E.D=function(C,A,L){for(var P=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)P[fe-2]=arguments[fe];return w.prototype[A].apply(C,P)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(E,w,T){T||(T=0);const C=Array(16);if(typeof w=="string")for(var A=0;A<16;++A)C[A]=w.charCodeAt(T++)|w.charCodeAt(T++)<<8|w.charCodeAt(T++)<<16|w.charCodeAt(T++)<<24;else for(A=0;A<16;++A)C[A]=w[T++]|w[T++]<<8|w[T++]<<16|w[T++]<<24;w=E.g[0],T=E.g[1],A=E.g[2];let L=E.g[3],P;P=w+(L^T&(A^L))+C[0]+3614090360&4294967295,w=T+(P<<7&4294967295|P>>>25),P=L+(A^w&(T^A))+C[1]+3905402710&4294967295,L=w+(P<<12&4294967295|P>>>20),P=A+(T^L&(w^T))+C[2]+606105819&4294967295,A=L+(P<<17&4294967295|P>>>15),P=T+(w^A&(L^w))+C[3]+3250441966&4294967295,T=A+(P<<22&4294967295|P>>>10),P=w+(L^T&(A^L))+C[4]+4118548399&4294967295,w=T+(P<<7&4294967295|P>>>25),P=L+(A^w&(T^A))+C[5]+1200080426&4294967295,L=w+(P<<12&4294967295|P>>>20),P=A+(T^L&(w^T))+C[6]+2821735955&4294967295,A=L+(P<<17&4294967295|P>>>15),P=T+(w^A&(L^w))+C[7]+4249261313&4294967295,T=A+(P<<22&4294967295|P>>>10),P=w+(L^T&(A^L))+C[8]+1770035416&4294967295,w=T+(P<<7&4294967295|P>>>25),P=L+(A^w&(T^A))+C[9]+2336552879&4294967295,L=w+(P<<12&4294967295|P>>>20),P=A+(T^L&(w^T))+C[10]+4294925233&4294967295,A=L+(P<<17&4294967295|P>>>15),P=T+(w^A&(L^w))+C[11]+2304563134&4294967295,T=A+(P<<22&4294967295|P>>>10),P=w+(L^T&(A^L))+C[12]+1804603682&4294967295,w=T+(P<<7&4294967295|P>>>25),P=L+(A^w&(T^A))+C[13]+4254626195&4294967295,L=w+(P<<12&4294967295|P>>>20),P=A+(T^L&(w^T))+C[14]+2792965006&4294967295,A=L+(P<<17&4294967295|P>>>15),P=T+(w^A&(L^w))+C[15]+1236535329&4294967295,T=A+(P<<22&4294967295|P>>>10),P=w+(A^L&(T^A))+C[1]+4129170786&4294967295,w=T+(P<<5&4294967295|P>>>27),P=L+(T^A&(w^T))+C[6]+3225465664&4294967295,L=w+(P<<9&4294967295|P>>>23),P=A+(w^T&(L^w))+C[11]+643717713&4294967295,A=L+(P<<14&4294967295|P>>>18),P=T+(L^w&(A^L))+C[0]+3921069994&4294967295,T=A+(P<<20&4294967295|P>>>12),P=w+(A^L&(T^A))+C[5]+3593408605&4294967295,w=T+(P<<5&4294967295|P>>>27),P=L+(T^A&(w^T))+C[10]+38016083&4294967295,L=w+(P<<9&4294967295|P>>>23),P=A+(w^T&(L^w))+C[15]+3634488961&4294967295,A=L+(P<<14&4294967295|P>>>18),P=T+(L^w&(A^L))+C[4]+3889429448&4294967295,T=A+(P<<20&4294967295|P>>>12),P=w+(A^L&(T^A))+C[9]+568446438&4294967295,w=T+(P<<5&4294967295|P>>>27),P=L+(T^A&(w^T))+C[14]+3275163606&4294967295,L=w+(P<<9&4294967295|P>>>23),P=A+(w^T&(L^w))+C[3]+4107603335&4294967295,A=L+(P<<14&4294967295|P>>>18),P=T+(L^w&(A^L))+C[8]+1163531501&4294967295,T=A+(P<<20&4294967295|P>>>12),P=w+(A^L&(T^A))+C[13]+2850285829&4294967295,w=T+(P<<5&4294967295|P>>>27),P=L+(T^A&(w^T))+C[2]+4243563512&4294967295,L=w+(P<<9&4294967295|P>>>23),P=A+(w^T&(L^w))+C[7]+1735328473&4294967295,A=L+(P<<14&4294967295|P>>>18),P=T+(L^w&(A^L))+C[12]+2368359562&4294967295,T=A+(P<<20&4294967295|P>>>12),P=w+(T^A^L)+C[5]+4294588738&4294967295,w=T+(P<<4&4294967295|P>>>28),P=L+(w^T^A)+C[8]+2272392833&4294967295,L=w+(P<<11&4294967295|P>>>21),P=A+(L^w^T)+C[11]+1839030562&4294967295,A=L+(P<<16&4294967295|P>>>16),P=T+(A^L^w)+C[14]+4259657740&4294967295,T=A+(P<<23&4294967295|P>>>9),P=w+(T^A^L)+C[1]+2763975236&4294967295,w=T+(P<<4&4294967295|P>>>28),P=L+(w^T^A)+C[4]+1272893353&4294967295,L=w+(P<<11&4294967295|P>>>21),P=A+(L^w^T)+C[7]+4139469664&4294967295,A=L+(P<<16&4294967295|P>>>16),P=T+(A^L^w)+C[10]+3200236656&4294967295,T=A+(P<<23&4294967295|P>>>9),P=w+(T^A^L)+C[13]+681279174&4294967295,w=T+(P<<4&4294967295|P>>>28),P=L+(w^T^A)+C[0]+3936430074&4294967295,L=w+(P<<11&4294967295|P>>>21),P=A+(L^w^T)+C[3]+3572445317&4294967295,A=L+(P<<16&4294967295|P>>>16),P=T+(A^L^w)+C[6]+76029189&4294967295,T=A+(P<<23&4294967295|P>>>9),P=w+(T^A^L)+C[9]+3654602809&4294967295,w=T+(P<<4&4294967295|P>>>28),P=L+(w^T^A)+C[12]+3873151461&4294967295,L=w+(P<<11&4294967295|P>>>21),P=A+(L^w^T)+C[15]+530742520&4294967295,A=L+(P<<16&4294967295|P>>>16),P=T+(A^L^w)+C[2]+3299628645&4294967295,T=A+(P<<23&4294967295|P>>>9),P=w+(A^(T|~L))+C[0]+4096336452&4294967295,w=T+(P<<6&4294967295|P>>>26),P=L+(T^(w|~A))+C[7]+1126891415&4294967295,L=w+(P<<10&4294967295|P>>>22),P=A+(w^(L|~T))+C[14]+2878612391&4294967295,A=L+(P<<15&4294967295|P>>>17),P=T+(L^(A|~w))+C[5]+4237533241&4294967295,T=A+(P<<21&4294967295|P>>>11),P=w+(A^(T|~L))+C[12]+1700485571&4294967295,w=T+(P<<6&4294967295|P>>>26),P=L+(T^(w|~A))+C[3]+2399980690&4294967295,L=w+(P<<10&4294967295|P>>>22),P=A+(w^(L|~T))+C[10]+4293915773&4294967295,A=L+(P<<15&4294967295|P>>>17),P=T+(L^(A|~w))+C[1]+2240044497&4294967295,T=A+(P<<21&4294967295|P>>>11),P=w+(A^(T|~L))+C[8]+1873313359&4294967295,w=T+(P<<6&4294967295|P>>>26),P=L+(T^(w|~A))+C[15]+4264355552&4294967295,L=w+(P<<10&4294967295|P>>>22),P=A+(w^(L|~T))+C[6]+2734768916&4294967295,A=L+(P<<15&4294967295|P>>>17),P=T+(L^(A|~w))+C[13]+1309151649&4294967295,T=A+(P<<21&4294967295|P>>>11),P=w+(A^(T|~L))+C[4]+4149444226&4294967295,w=T+(P<<6&4294967295|P>>>26),P=L+(T^(w|~A))+C[11]+3174756917&4294967295,L=w+(P<<10&4294967295|P>>>22),P=A+(w^(L|~T))+C[2]+718787259&4294967295,A=L+(P<<15&4294967295|P>>>17),P=T+(L^(A|~w))+C[9]+3951481745&4294967295,E.g[0]=E.g[0]+w&4294967295,E.g[1]=E.g[1]+(A+(P<<21&4294967295|P>>>11))&4294967295,E.g[2]=E.g[2]+A&4294967295,E.g[3]=E.g[3]+L&4294967295}s.prototype.v=function(E,w){w===void 0&&(w=E.length);const T=w-this.blockSize,C=this.C;let A=this.h,L=0;for(;L<w;){if(A==0)for(;L<=T;)r(this,E,L),L+=this.blockSize;if(typeof E=="string"){for(;L<w;)if(C[A++]=E.charCodeAt(L++),A==this.blockSize){r(this,C),A=0;break}}else for(;L<w;)if(C[A++]=E[L++],A==this.blockSize){r(this,C),A=0;break}}this.h=A,this.o+=w},s.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var w=1;w<E.length-8;++w)E[w]=0;w=this.o*8;for(var T=E.length-8;T<E.length;++T)E[T]=w&255,w/=256;for(this.v(E),E=Array(16),w=0,T=0;T<4;++T)for(let C=0;C<32;C+=8)E[w++]=this.g[T]>>>C&255;return E};function a(E,w){var T=l;return Object.prototype.hasOwnProperty.call(T,E)?T[E]:T[E]=w(E)}function o(E,w){this.h=w;const T=[];let C=!0;for(let A=E.length-1;A>=0;A--){const L=E[A]|0;C&&L==w||(T[A]=L,C=!1)}this.g=T}var l={};function c(E){return-128<=E&&E<128?a(E,function(w){return new o([w|0],w<0?-1:0)}):new o([E|0],E<0?-1:0)}function d(E){if(isNaN(E)||!isFinite(E))return f;if(E<0)return k(d(-E));const w=[];let T=1;for(let C=0;E>=T;C++)w[C]=E/T|0,T*=4294967296;return new o(w,0)}function h(E,w){if(E.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(E.charAt(0)=="-")return k(h(E.substring(1),w));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const T=d(Math.pow(w,8));let C=f;for(let L=0;L<E.length;L+=8){var A=Math.min(8,E.length-L);const P=parseInt(E.substring(L,L+A),w);A<8?(A=d(Math.pow(w,A)),C=C.j(A).add(d(P))):(C=C.j(T),C=C.add(d(P)))}return C}var f=c(0),p=c(1),x=c(16777216);t=o.prototype,t.m=function(){if(_(this))return-k(this).m();let E=0,w=1;for(let T=0;T<this.g.length;T++){const C=this.i(T);E+=(C>=0?C:4294967296+C)*w,w*=4294967296}return E},t.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(j(this))return"0";if(_(this))return"-"+k(this).toString(E);const w=d(Math.pow(E,6));var T=this;let C="";for(;;){const A=R(T,w).g;T=S(T,A.j(w));let L=((T.g.length>0?T.g[0]:T.h)>>>0).toString(E);if(T=A,j(T))return L+C;for(;L.length<6;)L="0"+L;C=L+C}},t.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function j(E){if(E.h!=0)return!1;for(let w=0;w<E.g.length;w++)if(E.g[w]!=0)return!1;return!0}function _(E){return E.h==-1}t.l=function(E){return E=S(this,E),_(E)?-1:j(E)?0:1};function k(E){const w=E.g.length,T=[];for(let C=0;C<w;C++)T[C]=~E.g[C];return new o(T,~E.h).add(p)}t.abs=function(){return _(this)?k(this):this},t.add=function(E){const w=Math.max(this.g.length,E.g.length),T=[];let C=0;for(let A=0;A<=w;A++){let L=C+(this.i(A)&65535)+(E.i(A)&65535),P=(L>>>16)+(this.i(A)>>>16)+(E.i(A)>>>16);C=P>>>16,L&=65535,P&=65535,T[A]=P<<16|L}return new o(T,T[T.length-1]&-2147483648?-1:0)};function S(E,w){return E.add(k(w))}t.j=function(E){if(j(this)||j(E))return f;if(_(this))return _(E)?k(this).j(k(E)):k(k(this).j(E));if(_(E))return k(this.j(k(E)));if(this.l(x)<0&&E.l(x)<0)return d(this.m()*E.m());const w=this.g.length+E.g.length,T=[];for(var C=0;C<2*w;C++)T[C]=0;for(C=0;C<this.g.length;C++)for(let A=0;A<E.g.length;A++){const L=this.i(C)>>>16,P=this.i(C)&65535,fe=E.i(A)>>>16,ae=E.i(A)&65535;T[2*C+2*A]+=P*ae,v(T,2*C+2*A),T[2*C+2*A+1]+=L*ae,v(T,2*C+2*A+1),T[2*C+2*A+1]+=P*fe,v(T,2*C+2*A+1),T[2*C+2*A+2]+=L*fe,v(T,2*C+2*A+2)}for(E=0;E<w;E++)T[E]=T[2*E+1]<<16|T[2*E];for(E=w;E<2*w;E++)T[E]=0;return new o(T,0)};function v(E,w){for(;(E[w]&65535)!=E[w];)E[w+1]+=E[w]>>>16,E[w]&=65535,w++}function b(E,w){this.g=E,this.h=w}function R(E,w){if(j(w))throw Error("division by zero");if(j(E))return new b(f,f);if(_(E))return w=R(k(E),w),new b(k(w.g),k(w.h));if(_(w))return w=R(E,k(w)),new b(k(w.g),w.h);if(E.g.length>30){if(_(E)||_(w))throw Error("slowDivide_ only works with positive integers.");for(var T=p,C=w;C.l(E)<=0;)T=M(T),C=M(C);var A=B(T,1),L=B(C,1);for(C=B(C,2),T=B(T,2);!j(C);){var P=L.add(C);P.l(E)<=0&&(A=A.add(T),L=P),C=B(C,1),T=B(T,1)}return w=S(E,A.j(w)),new b(A,w)}for(A=f;E.l(w)>=0;){for(T=Math.max(1,Math.floor(E.m()/w.m())),C=Math.ceil(Math.log(T)/Math.LN2),C=C<=48?1:Math.pow(2,C-48),L=d(T),P=L.j(w);_(P)||P.l(E)>0;)T-=C,L=d(T),P=L.j(w);j(L)&&(L=p),A=A.add(L),E=S(E,P)}return new b(A,E)}t.B=function(E){return R(this,E).h},t.and=function(E){const w=Math.max(this.g.length,E.g.length),T=[];for(let C=0;C<w;C++)T[C]=this.i(C)&E.i(C);return new o(T,this.h&E.h)},t.or=function(E){const w=Math.max(this.g.length,E.g.length),T=[];for(let C=0;C<w;C++)T[C]=this.i(C)|E.i(C);return new o(T,this.h|E.h)},t.xor=function(E){const w=Math.max(this.g.length,E.g.length),T=[];for(let C=0;C<w;C++)T[C]=this.i(C)^E.i(C);return new o(T,this.h^E.h)};function M(E){const w=E.g.length+1,T=[];for(let C=0;C<w;C++)T[C]=E.i(C)<<1|E.i(C-1)>>>31;return new o(T,E.h)}function B(E,w){const T=w>>5;w%=32;const C=E.g.length-T,A=[];for(let L=0;L<C;L++)A[L]=w>0?E.i(L+T)>>>w|E.i(L+T+1)<<32-w:E.i(L+T);return new o(A,E.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,uS=s,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,Cr=o}).apply(typeof pw<"u"?pw:typeof self<"u"?self:typeof window<"u"?window:{});var Gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dS,Fo,hS,wu,Zm,fS,mS,pS;(function(){var t,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gc=="object"&&Gc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function r(u,m){if(m)e:{var y=s;u=u.split(".");for(var I=0;I<u.length-1;I++){var $=u[I];if(!($ in y))break e;y=y[$]}u=u[u.length-1],I=y[u],m=m(I),m!=I&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}r("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(u){return u||function(m){var y=[],I;for(I in m)Object.prototype.hasOwnProperty.call(m,I)&&y.push([I,m[I]]);return y}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function c(u,m,y){return u.call.apply(u.bind,arguments)}function d(u,m,y){return d=c,d.apply(null,arguments)}function h(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var I=y.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function f(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(I,$,z){for(var X=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)X[_e-2]=arguments[_e];return m.prototype[$].apply(I,X)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function x(u){const m=u.length;if(m>0){const y=Array(m);for(let I=0;I<m;I++)y[I]=u[I];return y}return[]}function j(u,m){for(let I=1;I<arguments.length;I++){const $=arguments[I];var y=typeof $;if(y=y!="object"?y:$?Array.isArray($)?"array":y:"null",y=="array"||y=="object"&&typeof $.length=="number"){y=u.length||0;const z=$.length||0;u.length=y+z;for(let X=0;X<z;X++)u[y+X]=$[X]}else u.push($)}}class _{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function k(u){o.setTimeout(()=>{throw u},0)}function S(){var u=E;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class v{constructor(){this.h=this.g=null}add(m,y){const I=b.get();I.set(m,y),this.h?this.h.next=I:this.g=I,this.h=I}}var b=new _(()=>new R,u=>u.reset());class R{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let M,B=!1,E=new v,w=()=>{const u=Promise.resolve(void 0);M=()=>{u.then(T)}};function T(){for(var u;u=S();){try{u.h.call(u.g)}catch(y){k(y)}var m=b;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}B=!1}function C(){this.u=this.u,this.C=this.C}C.prototype.u=!1,C.prototype.dispose=function(){this.u||(this.u=!0,this.N())},C.prototype[Symbol.dispose]=function(){this.dispose()},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function A(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}A.prototype.h=function(){this.defaultPrevented=!0};var L=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};o.addEventListener("test",y,m),o.removeEventListener("test",y,m)}catch{}return u}();function P(u){return/^[\s\xa0]*$/.test(u)}function fe(u,m){A.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}f(fe,A),fe.prototype.init=function(u,m){const y=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&fe.Z.h.call(this)},fe.prototype.h=function(){fe.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ae="closure_listenable_"+(Math.random()*1e6|0),le=0;function te(u,m,y,I,$){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!I,this.ha=$,this.key=++le,this.da=this.fa=!1}function V(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function U(u,m,y){for(const I in u)m.call(y,u[I],I,u)}function re(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function Q(u){const m={};for(const y in u)m[y]=u[y];return m}const de="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(u,m){let y,I;for(let $=1;$<arguments.length;$++){I=arguments[$];for(y in I)u[y]=I[y];for(let z=0;z<de.length;z++)y=de[z],Object.prototype.hasOwnProperty.call(I,y)&&(u[y]=I[y])}}function O(u){this.src=u,this.g={},this.h=0}O.prototype.add=function(u,m,y,I,$){const z=u.toString();u=this.g[z],u||(u=this.g[z]=[],this.h++);const X=K(u,m,I,$);return X>-1?(m=u[X],y||(m.fa=!1)):(m=new te(m,this.src,z,!!I,$),m.fa=y,u.push(m)),m};function ce(u,m){const y=m.type;if(y in u.g){var I=u.g[y],$=Array.prototype.indexOf.call(I,m,void 0),z;(z=$>=0)&&Array.prototype.splice.call(I,$,1),z&&(V(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function K(u,m,y,I){for(let $=0;$<u.length;++$){const z=u[$];if(!z.da&&z.listener==m&&z.capture==!!y&&z.ha==I)return $}return-1}var we="closure_lm_"+(Math.random()*1e6|0),xe={};function Le(u,m,y,I,$){if(Array.isArray(m)){for(let z=0;z<m.length;z++)Le(u,m[z],y,I,$);return null}return y=It(y),u&&u[ae]?u.J(m,y,l(I)?!!I.capture:!1,$):Te(u,m,y,!1,I,$)}function Te(u,m,y,I,$,z){if(!m)throw Error("Invalid event type");const X=l($)?!!$.capture:!!$;let _e=Gt(u);if(_e||(u[we]=_e=new O(u)),y=_e.add(m,y,I,X,z),y.proxy)return y;if(I=be(),y.proxy=I,I.src=u,I.listener=y,u.addEventListener)L||($=X),$===void 0&&($=!1),u.addEventListener(m.toString(),I,$);else if(u.attachEvent)u.attachEvent(xs(m.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return y}function be(){function u(y){return m.call(u.src,u.listener,y)}const m=Zt;return u}function at(u,m,y,I,$){if(Array.isArray(m))for(var z=0;z<m.length;z++)at(u,m[z],y,I,$);else I=l(I)?!!I.capture:!!I,y=It(y),u&&u[ae]?(u=u.i,z=String(m).toString(),z in u.g&&(m=u.g[z],y=K(m,y,I,$),y>-1&&(V(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[z],u.h--)))):u&&(u=Gt(u))&&(m=u.g[m.toString()],u=-1,m&&(u=K(m,y,I,$)),(y=u>-1?m[u]:null)&&hn(y))}function hn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ae])ce(m.i,u);else{var y=u.type,I=u.proxy;m.removeEventListener?m.removeEventListener(y,I,u.capture):m.detachEvent?m.detachEvent(xs(y),I):m.addListener&&m.removeListener&&m.removeListener(I),(y=Gt(m))?(ce(y,u),y.h==0&&(y.src=null,m[we]=null)):V(u)}}}function xs(u){return u in xe?xe[u]:xe[u]="on"+u}function Zt(u,m){if(u.da)u=!0;else{m=new fe(m,this);const y=u.listener,I=u.ha||u.src;u.fa&&hn(u),u=y.call(I,m)}return u}function Gt(u){return u=u[we],u instanceof O?u:null}var fn="__closure_events_fn_"+(Math.random()*1e9>>>0);function It(u){return typeof u=="function"?u:(u[fn]||(u[fn]=function(m){return u.handleEvent(m)}),u[fn])}function Me(){C.call(this),this.i=new O(this),this.M=this,this.G=null}f(Me,C),Me.prototype[ae]=!0,Me.prototype.removeEventListener=function(u,m,y,I){at(this,u,m,y,I)};function Oe(u,m){var y,I=u.G;if(I)for(y=[];I;I=I.G)y.push(I);if(u=u.M,I=m.type||m,typeof m=="string")m=new A(m,u);else if(m instanceof A)m.target=m.target||u;else{var $=m;m=new A(I,u),ye(m,$)}$=!0;let z,X;if(y)for(X=y.length-1;X>=0;X--)z=m.g=y[X],$=Qr(z,I,!0,m)&&$;if(z=m.g=u,$=Qr(z,I,!0,m)&&$,$=Qr(z,I,!1,m)&&$,y)for(X=0;X<y.length;X++)z=m.g=y[X],$=Qr(z,I,!1,m)&&$}Me.prototype.N=function(){if(Me.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let I=0;I<y.length;I++)V(y[I]);delete u.g[m],u.h--}}this.G=null},Me.prototype.J=function(u,m,y,I){return this.i.add(String(u),m,!1,y,I)},Me.prototype.K=function(u,m,y,I){return this.i.add(String(u),m,!0,y,I)};function Qr(u,m,y,I){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let $=!0;for(let z=0;z<m.length;++z){const X=m[z];if(X&&!X.da&&X.capture==y){const _e=X.listener,yt=X.ha||X.src;X.fa&&ce(u.i,X),$=_e.call(yt,I)!==!1&&$}}return $&&!I.defaultPrevented}function to(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=d(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:o.setTimeout(u,m||0)}function no(u){u.g=to(()=>{u.g=null,u.i&&(u.i=!1,no(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class so extends C{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:no(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gs(u){C.call(this),this.h=u,this.g={}}f(Gs,C);var Bi=[];function ro(u){U(u.g,function(m,y){this.g.hasOwnProperty(y)&&hn(m)},u),u.g={}}Gs.prototype.N=function(){Gs.Z.N.call(this),ro(this)},Gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var io=o.JSON.stringify,Eh=o.JSON.parse,vs=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function hc(){}function fc(){}var Xr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ao(){A.call(this,"d")}f(ao,A);function Tn(){A.call(this,"c")}f(Tn,A);var Zn={},mc=null;function zi(){return mc=mc||new Me}Zn.Ia="serverreachability";function oo(u){A.call(this,Zn.Ia,u)}f(oo,A);function Ks(u){const m=zi();Oe(m,new oo(m))}Zn.STAT_EVENT="statevent";function lo(u,m){A.call(this,Zn.STAT_EVENT,u),this.stat=m}f(lo,A);function _t(u){const m=zi();Oe(m,new lo(m,u))}Zn.Ja="timingevent";function co(u,m){A.call(this,Zn.Ja,u),this.size=m}f(co,A);function g(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},m)}function Y(){this.g=!0}Y.prototype.ua=function(){this.g=!1};function W(u,m,y,I,$,z){u.info(function(){if(u.g)if(z){var X="",_e=z.split("&");for(let Fe=0;Fe<_e.length;Fe++){var yt=_e[Fe].split("=");if(yt.length>1){const St=yt[0];yt=yt[1];const ts=St.split("_");X=ts.length>=2&&ts[1]=="type"?X+(St+"="+yt+"&"):X+(St+"=redacted&")}}}else X=null;else X=z;return"XMLHTTP REQ ("+I+") [attempt "+$+"]: "+m+`
`+y+`
`+X})}function ne(u,m,y,I,$,z,X){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+$+"]: "+m+`
`+y+`
`+z+" "+X})}function Ve(u,m,y,I){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+en(u,y)+(I?" "+I:"")})}function $e(u,m){u.info(function(){return"TIMEOUT: "+m})}Y.prototype.info=function(){};function en(u,m){if(!u.g)return m;if(!m)return null;try{const z=JSON.parse(m);if(z){for(u=0;u<z.length;u++)if(Array.isArray(z[u])){var y=z[u];if(!(y.length<2)){var I=y[1];if(Array.isArray(I)&&!(I.length<1)){var $=I[0];if($!="noop"&&$!="stop"&&$!="close")for(let X=1;X<I.length;X++)I[X]=""}}}}return io(z)}catch{return m}}var nt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},he={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},oe;function Se(){}f(Se,hc),Se.prototype.g=function(){return new XMLHttpRequest},oe=new Se;function Mt(u){return encodeURIComponent(String(u))}function ot(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function In(u,m,y,I){this.j=u,this.i=m,this.l=y,this.S=I||1,this.V=new Gs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zr}function Zr(){this.i=null,this.g="",this.h=!1}var Js={},$n={};function uo(u,m,y){u.M=1,u.A=yc(es(m)),u.u=y,u.R=!0,pc(u,null)}function pc(u,m){u.F=Date.now(),gc(u),u.B=es(u.A);var y=u.B,I=u.S;Array.isArray(I)||(I=[String(I)]),ex(y.i,"t",I),u.C=0,y=u.j.L,u.h=new Zr,u.g=xx(u.j,y?m:null,!u.u),u.P>0&&(u.O=new so(d(u.Y,u,u.g),u.P)),m=u.V,y=u.g,I=u.ba;var $="readystatechange";Array.isArray($)||($&&(Bi[0]=$.toString()),$=Bi);for(let z=0;z<$.length;z++){const X=Le(y,$[z],I||m.handleEvent,!1,m.h||m);if(!X)break;m.g[X.key]=X}m=u.J?Q(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Ks(),W(u.i,u.v,u.B,u.l,u.S,u.u)}In.prototype.ba=function(u){u=u.target;const m=this.O;m&&Xs(u)==3?m.j():this.Y(u)},In.prototype.Y=function(u){try{if(u==this.g)e:{const _e=Xs(this.g),yt=this.g.ya(),Fe=this.g.ca();if(!(_e<3)&&(_e!=3||this.g&&(this.h.h||this.g.la()||ox(this.g)))){this.K||_e!=4||yt==7||(yt==8||Fe<=0?Ks(3):Ks(2)),Ih(this);var m=this.g.ca();this.X=m;var y=Th(this);if(this.o=m==200,ne(this.i,this.v,this.B,this.l,this.S,_e,m),this.o){if(this.U&&!this.L){t:{if(this.g){var I,$=this.g;if((I=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(I)){var z=I;break t}}z=null}if(u=z)Ve(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,kh(this,u);else{this.o=!1,this.m=3,_t(12),ei(this),ho(this);break e}}if(this.R){u=!0;let St;for(;!this.K&&this.C<y.length;)if(St=iE(this,y),St==$n){_e==4&&(this.m=4,_t(14),u=!1),Ve(this.i,this.l,null,"[Incomplete Response]");break}else if(St==Js){this.m=4,_t(15),Ve(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else Ve(this.i,this.l,St,null),kh(this,St);if(By(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_e!=4||y.length!=0||this.h.h||(this.m=1,_t(16),u=!1),this.o=this.o&&u,!u)Ve(this.i,this.l,y,"[Invalid Chunked Response]"),ei(this),ho(this);else if(y.length>0&&!this.W){this.W=!0;var X=this.j;X.g==this&&X.aa&&!X.P&&(X.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),Mh(X),X.P=!0,_t(11))}}else Ve(this.i,this.l,y,null),kh(this,y);_e==4&&ei(this),this.o&&!this.K&&(_e==4?mx(this.j,this):(this.o=!1,gc(this)))}else vE(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,_t(12)):(this.m=0,_t(13)),ei(this),ho(this)}}}catch{}finally{}};function Th(u){if(!By(u))return u.g.la();const m=ox(u.g);if(m==="")return"";let y="";const I=m.length,$=Xs(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return ei(u),ho(u),"";u.h.i=new o.TextDecoder}for(let z=0;z<I;z++)u.h.h=!0,y+=u.h.i.decode(m[z],{stream:!($&&z==I-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function By(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function iE(u,m){var y=u.C,I=m.indexOf(`
`,y);return I==-1?$n:(y=Number(m.substring(y,I)),isNaN(y)?Js:(I+=1,I+y>m.length?$n:(m=m.slice(I,I+y),u.C=I+y,m)))}In.prototype.cancel=function(){this.K=!0,ei(this)};function gc(u){u.T=Date.now()+u.H,zy(u,u.H)}function zy(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=g(d(u.aa,u),m)}function Ih(u){u.D&&(o.clearTimeout(u.D),u.D=null)}In.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?($e(this.i,this.B),this.M!=2&&(Ks(),_t(17)),ei(this),this.m=2,ho(this)):zy(this,this.T-u)};function ho(u){u.j.I==0||u.K||mx(u.j,u)}function ei(u){Ih(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ro(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function kh(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||Ch(y.h,u))){if(!u.L&&Ch(y.h,u)&&y.I==3){try{var I=y.Ba.g.parse(m)}catch{I=null}if(Array.isArray(I)&&I.length==3){var $=I;if($[0]==0){e:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)Nc(y),wc(y);else break e;Lh(y),_t(18)}}else y.xa=$[1],0<y.xa-y.K&&$[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=g(d(y.Va,y),6e3));qy(y.h)<=1&&y.ta&&(y.ta=void 0)}else ni(y,11)}else if((u.L||y.g==u)&&Nc(y),!P(m))for($=y.Ba.g.parse(m),m=0;m<$.length;m++){let Fe=$[m];const St=Fe[0];if(!(St<=y.K))if(y.K=St,Fe=Fe[1],y.I==2)if(Fe[0]=="c"){y.M=Fe[1],y.ba=Fe[2];const ts=Fe[3];ts!=null&&(y.ka=ts,y.j.info("VER="+y.ka));const si=Fe[4];si!=null&&(y.za=si,y.j.info("SVER="+y.za));const Zs=Fe[5];Zs!=null&&typeof Zs=="number"&&Zs>0&&(I=1.5*Zs,y.O=I,y.j.info("backChannelRequestTimeoutMs_="+I)),I=y;const er=u.g;if(er){const Sc=er.g?er.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sc){var z=I.h;z.g||Sc.indexOf("spdy")==-1&&Sc.indexOf("quic")==-1&&Sc.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(Ah(z,z.h),z.h=null))}if(I.G){const Oh=er.g?er.g.getResponseHeader("X-HTTP-Session-Id"):null;Oh&&(I.wa=Oh,He(I.J,I.G,Oh))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),I=y;var X=u;if(I.na=yx(I,I.L?I.ba:null,I.W),X.L){Gy(I.h,X);var _e=X,yt=I.O;yt&&(_e.H=yt),_e.D&&(Ih(_e),gc(_e)),I.g=X}else hx(I);y.i.length>0&&bc(y)}else Fe[0]!="stop"&&Fe[0]!="close"||ni(y,7);else y.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?ni(y,7):Vh(y):Fe[0]!="noop"&&y.l&&y.l.qa(Fe),y.A=0)}}Ks(4)}catch{}}var aE=class{constructor(u,m){this.g=u,this.map=m}};function Hy(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Wy(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function qy(u){return u.h?1:u.g?u.g.size:0}function Ch(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ah(u,m){u.g?u.g.add(m):u.h=m}function Gy(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Hy.prototype.cancel=function(){if(this.i=Ky(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ky(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return x(u.i)}var Jy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oE(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const I=u[y].indexOf("=");let $,z=null;I>=0?($=u[y].substring(0,I),z=u[y].substring(I+1)):$=u[y],m($,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Ys(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Ys?(this.l=u.l,fo(this,u.j),this.o=u.o,this.g=u.g,mo(this,u.u),this.h=u.h,Ph(this,tx(u.i)),this.m=u.m):u&&(m=String(u).match(Jy))?(this.l=!1,fo(this,m[1]||"",!0),this.o=po(m[2]||""),this.g=po(m[3]||"",!0),mo(this,m[4]),this.h=po(m[5]||"",!0),Ph(this,m[6]||"",!0),this.m=po(m[7]||"")):(this.l=!1,this.i=new yo(null,this.l))}Ys.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(go(m,Yy,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(go(m,Yy,!0),"@"),u.push(Mt(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(go(y,y.charAt(0)=="/"?uE:cE,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",go(y,hE)),u.join("")},Ys.prototype.resolve=function(u){const m=es(this);let y=!!u.j;y?fo(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var I=u.h;if(y)mo(m,u.u);else if(y=!!u.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var $=m.h.lastIndexOf("/");$!=-1&&(I=m.h.slice(0,$+1)+I)}if($=I,$==".."||$==".")I="";else if($.indexOf("./")!=-1||$.indexOf("/.")!=-1){I=$.lastIndexOf("/",0)==0,$=$.split("/");const z=[];for(let X=0;X<$.length;){const _e=$[X++];_e=="."?I&&X==$.length&&z.push(""):_e==".."?((z.length>1||z.length==1&&z[0]!="")&&z.pop(),I&&X==$.length&&z.push("")):(z.push(_e),I=!0)}I=z.join("/")}else I=$}return y?m.h=I:y=u.i.toString()!=="",y?Ph(m,tx(u.i)):y=!!u.m,y&&(m.m=u.m),m};function es(u){return new Ys(u)}function fo(u,m,y){u.j=y?po(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function mo(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ph(u,m,y){m instanceof yo?(u.i=m,fE(u.i,u.l)):(y||(m=go(m,dE)),u.i=new yo(m,u.l))}function He(u,m,y){u.i.set(m,y)}function yc(u){return He(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function po(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function go(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,lE),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function lE(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Yy=/[#\/\?@]/g,cE=/[#\?:]/g,uE=/[#\?]/g,dE=/[#\?@]/g,hE=/#/g;function yo(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function ti(u){u.g||(u.g=new Map,u.h=0,u.i&&oE(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}t=yo.prototype,t.add=function(u,m){ti(this),this.i=null,u=Hi(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Qy(u,m){ti(u),m=Hi(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Xy(u,m){return ti(u),m=Hi(u,m),u.g.has(m)}t.forEach=function(u,m){ti(this),this.g.forEach(function(y,I){y.forEach(function($){u.call(m,$,I,this)},this)},this)};function Zy(u,m){ti(u);let y=[];if(typeof m=="string")Xy(u,m)&&(y=y.concat(u.g.get(Hi(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}t.set=function(u,m){return ti(this),this.i=null,u=Hi(this,u),Xy(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=Zy(this,u),u.length>0?String(u[0]):m):m};function ex(u,m,y){Qy(u,m),y.length>0&&(u.i=null,u.g.set(Hi(u,m),x(y)),u.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let I=0;I<m.length;I++){var y=m[I];const $=Mt(y);y=Zy(this,y);for(let z=0;z<y.length;z++){let X=$;y[z]!==""&&(X+="="+Mt(y[z])),u.push(X)}}return this.i=u.join("&")};function tx(u){const m=new yo;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Hi(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function fE(u,m){m&&!u.j&&(ti(u),u.i=null,u.g.forEach(function(y,I){const $=I.toLowerCase();I!=$&&(Qy(this,I),ex(this,$,y))},u)),u.j=m}function mE(u,m){const y=new Y;if(o.Image){const I=new Image;I.onload=h(Qs,y,"TestLoadImage: loaded",!0,m,I),I.onerror=h(Qs,y,"TestLoadImage: error",!1,m,I),I.onabort=h(Qs,y,"TestLoadImage: abort",!1,m,I),I.ontimeout=h(Qs,y,"TestLoadImage: timeout",!1,m,I),o.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else m(!1)}function pE(u,m){const y=new Y,I=new AbortController,$=setTimeout(()=>{I.abort(),Qs(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:I.signal}).then(z=>{clearTimeout($),z.ok?Qs(y,"TestPingServer: ok",!0,m):Qs(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout($),Qs(y,"TestPingServer: error",!1,m)})}function Qs(u,m,y,I,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),I(y)}catch{}}function gE(){this.g=new vs}function Rh(u){this.i=u.Sb||null,this.h=u.ab||!1}f(Rh,hc),Rh.prototype.g=function(){return new xc(this.i,this.h)};function xc(u,m){Me.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(xc,Me),t=xc.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,vo(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||o).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xo(this)),this.readyState=0},t.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,vo(this)),this.g&&(this.readyState=3,vo(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;nx(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function nx(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}t.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?xo(this):vo(this),this.readyState==3&&nx(this)}},t.Oa=function(u){this.g&&(this.response=this.responseText=u,xo(this))},t.Na=function(u){this.g&&(this.response=u,xo(this))},t.ga=function(){this.g&&xo(this)};function xo(u){u.readyState=4,u.l=null,u.j=null,u.B=null,vo(u)}t.setRequestHeader=function(u,m){this.A.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function vo(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(xc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function sx(u){let m="";return U(u,function(y,I){m+=I,m+=":",m+=y,m+=`\r
`}),m}function Dh(u,m,y){e:{for(I in y){var I=!1;break e}I=!0}I||(y=sx(y),typeof u=="string"?y!=null&&Mt(y):He(u,m,y))}function st(u){Me.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(st,Me);var yE=/^https?$/i,xE=["POST","PUT"];t=st.prototype,t.Fa=function(u){this.H=u},t.ea=function(u,m,y,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():oe.g(),this.g.onreadystatechange=p(d(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(z){rx(this,z);return}if(u=y||"",y=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var $ in I)y.set($,I[$]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const z of I.keys())y.set(z,I.get(z));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(y.keys()).find(z=>z.toLowerCase()=="content-type"),$=o.FormData&&u instanceof o.FormData,!(Array.prototype.indexOf.call(xE,m,void 0)>=0)||I||$||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,X]of y)this.g.setRequestHeader(z,X);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(z){rx(this,z)}};function rx(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,ix(u),vc(u)}function ix(u){u.A||(u.A=!0,Oe(u,"complete"),Oe(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Oe(this,"complete"),Oe(this,"abort"),vc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vc(this,!0)),st.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ax(this):this.Xa())},t.Xa=function(){ax(this)};function ax(u){if(u.h&&typeof a<"u"){if(u.v&&Xs(u)==4)setTimeout(u.Ca.bind(u),0);else if(Oe(u,"readystatechange"),Xs(u)==4){u.h=!1;try{const z=u.ca();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var y;if(!(y=m)){var I;if(I=z===0){let X=String(u.D).match(Jy)[1]||null;!X&&o.self&&o.self.location&&(X=o.self.location.protocol.slice(0,-1)),I=!yE.test(X?X.toLowerCase():"")}y=I}if(y)Oe(u,"complete"),Oe(u,"success");else{u.o=6;try{var $=Xs(u)>2?u.g.statusText:""}catch{$=""}u.l=$+" ["+u.ca()+"]",ix(u)}}finally{vc(u)}}}}function vc(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||Oe(u,"ready");try{y.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Xs(u){return u.g?u.g.readyState:0}t.ca=function(){try{return Xs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Eh(m)}};function ox(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function vE(u){const m={};u=(u.g&&Xs(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(P(u[I]))continue;var y=ot(u[I]);const $=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const z=m[$]||[];m[$]=z,z.push(y)}re(m,function(I){return I.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function wo(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function lx(u){this.za=0,this.i=[],this.j=new Y,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=wo("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=wo("baseRetryDelayMs",5e3,u),this.Za=wo("retryDelaySeedMs",1e4,u),this.Ta=wo("forwardChannelMaxRetries",2,u),this.va=wo("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Hy(u&&u.concurrentRequestLimit),this.Ba=new gE,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=lx.prototype,t.ka=8,t.I=1,t.connect=function(u,m,y,I){_t(0),this.W=u,this.H=m||{},y&&I!==void 0&&(this.H.OSID=y,this.H.OAID=I),this.F=this.X,this.J=yx(this,null,this.W),bc(this)};function Vh(u){if(cx(u),u.I==3){var m=u.V++,y=es(u.J);if(He(y,"SID",u.M),He(y,"RID",m),He(y,"TYPE","terminate"),bo(u,y),m=new In(u,u.j,m),m.M=2,m.A=yc(es(y)),y=!1,o.navigator&&o.navigator.sendBeacon)try{y=o.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&o.Image&&(new Image().src=m.A,y=!0),y||(m.g=xx(m.j,null),m.g.ea(m.A)),m.F=Date.now(),gc(m)}gx(u)}function wc(u){u.g&&(Mh(u),u.g.cancel(),u.g=null)}function cx(u){wc(u),u.v&&(o.clearTimeout(u.v),u.v=null),Nc(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&o.clearTimeout(u.m),u.m=null)}function bc(u){if(!Wy(u.h)&&!u.m){u.m=!0;var m=u.Ea;M||w(),B||(M(),B=!0),E.add(m,u),u.D=0}}function wE(u,m){return qy(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=g(d(u.Ea,u,m),px(u,u.D)),u.D++,!0)}t.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const $=new In(this,this.j,u);let z=this.o;if(this.U&&(z?(z=Q(z),ye(z,this.U)):z=this.U),this.u!==null||this.R||($.J=z,z=null),this.S)e:{for(var m=0,y=0;y<this.i.length;y++){t:{var I=this.i[y];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(m+=I,m>4096){m=y;break e}if(m===4096||y===this.i.length-1){m=y+1;break e}}m=1e3}else m=1e3;m=dx(this,$,m),y=es(this.J),He(y,"RID",u),He(y,"CVER",22),this.G&&He(y,"X-HTTP-Session-Id",this.G),bo(this,y),z&&(this.R?m="headers="+Mt(sx(z))+"&"+m:this.u&&Dh(y,this.u,z)),Ah(this.h,$),this.Ra&&He(y,"TYPE","init"),this.S?(He(y,"$req",m),He(y,"SID","null"),$.U=!0,uo($,y,null)):uo($,y,m),this.I=2}}else this.I==3&&(u?ux(this,u):this.i.length==0||Wy(this.h)||ux(this))};function ux(u,m){var y;m?y=m.l:y=u.V++;const I=es(u.J);He(I,"SID",u.M),He(I,"RID",y),He(I,"AID",u.K),bo(u,I),u.u&&u.o&&Dh(I,u.u,u.o),y=new In(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=dx(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ah(u.h,y),uo(y,I,m)}function bo(u,m){u.H&&U(u.H,function(y,I){He(m,I,y)}),u.l&&U({},function(y,I){He(m,I,y)})}function dx(u,m,y){y=Math.min(u.i.length,y);const I=u.l?d(u.l.Ka,u.l,u):null;e:{var $=u.i;let _e=-1;for(;;){const yt=["count="+y];_e==-1?y>0?(_e=$[0].g,yt.push("ofs="+_e)):_e=0:yt.push("ofs="+_e);let Fe=!0;for(let St=0;St<y;St++){var z=$[St].g;const ts=$[St].map;if(z-=_e,z<0)_e=Math.max(0,$[St].g-100),Fe=!1;else try{z="req"+z+"_"||"";try{var X=ts instanceof Map?ts:Object.entries(ts);for(const[si,Zs]of X){let er=Zs;l(Zs)&&(er=io(Zs)),yt.push(z+si+"="+encodeURIComponent(er))}}catch(si){throw yt.push(z+"type="+encodeURIComponent("_badmap")),si}}catch{I&&I(ts)}}if(Fe){X=yt.join("&");break e}}X=void 0}return u=u.i.splice(0,y),m.G=u,X}function hx(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;M||w(),B||(M(),B=!0),E.add(m,u),u.A=0}}function Lh(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=g(d(u.Da,u),px(u,u.A)),u.A++,!0)}t.Da=function(){if(this.v=null,fx(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=g(d(this.Wa,this),u)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_t(10),wc(this),fx(this))};function Mh(u){u.B!=null&&(o.clearTimeout(u.B),u.B=null)}function fx(u){u.g=new In(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=es(u.na);He(m,"RID","rpc"),He(m,"SID",u.M),He(m,"AID",u.K),He(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&He(m,"TO",u.ia),He(m,"TYPE","xmlhttp"),bo(u,m),u.u&&u.o&&Dh(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=yc(es(m)),y.u=null,y.R=!0,pc(y,u)}t.Va=function(){this.C!=null&&(this.C=null,wc(this),Lh(this),_t(19))};function Nc(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function mx(u,m){var y=null;if(u.g==m){Nc(u),Mh(u),u.g=null;var I=2}else if(Ch(u.h,m))y=m.G,Gy(u.h,m),I=1;else return;if(u.I!=0){if(m.o)if(I==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var $=u.D;I=zi(),Oe(I,new co(I,y)),bc(u)}else hx(u);else if($=m.m,$==3||$==0&&m.X>0||!(I==1&&wE(u,m)||I==2&&Lh(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),$){case 1:ni(u,5);break;case 4:ni(u,10);break;case 3:ni(u,6);break;default:ni(u,2)}}}function px(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function ni(u,m){if(u.j.info("Error code "+m),m==2){var y=d(u.bb,u),I=u.Ua;const $=!I;I=new Ys(I||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||fo(I,"https"),yc(I),$?mE(I.toString(),y):pE(I.toString(),y)}else _t(2);u.I=0,u.l&&u.l.pa(m),gx(u),cx(u)}t.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function gx(u){if(u.I=0,u.ja=[],u.l){const m=Ky(u.h);(m.length!=0||u.i.length!=0)&&(j(u.ja,m),j(u.ja,u.i),u.h.i.length=0,x(u.i),u.i.length=0),u.l.oa()}}function yx(u,m,y){var I=y instanceof Ys?es(y):new Ys(y);if(I.g!="")m&&(I.g=m+"."+I.g),mo(I,I.u);else{var $=o.location;I=$.protocol,m=m?m+"."+$.hostname:$.hostname,$=+$.port;const z=new Ys(null);I&&fo(z,I),m&&(z.g=m),$&&mo(z,$),y&&(z.h=y),I=z}return y=u.G,m=u.wa,y&&m&&He(I,y,m),He(I,"VER",u.ka),bo(u,I),I}function xx(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new st(new Rh({ab:y})):new st(u.ma),m.Fa(u.L),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function vx(){}t=vx.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function _c(){}_c.prototype.g=function(u,m){return new mn(u,m)};function mn(u,m){Me.call(this),this.g=new lx(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!P(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!P(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Wi(this)}f(mn,Me),mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Vh(this.g)},mn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=io(u),u=y);m.i.push(new aE(m.Ya++,u)),m.I==3&&bc(m)},mn.prototype.N=function(){this.g.l=null,delete this.j,Vh(this.g),delete this.g,mn.Z.N.call(this)};function wx(u){ao.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const y in m){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}f(wx,ao);function bx(){Tn.call(this),this.status=1}f(bx,Tn);function Wi(u){this.g=u}f(Wi,vx),Wi.prototype.ra=function(){Oe(this.g,"a")},Wi.prototype.qa=function(u){Oe(this.g,new wx(u))},Wi.prototype.pa=function(u){Oe(this.g,new bx)},Wi.prototype.oa=function(){Oe(this.g,"b")},_c.prototype.createWebChannel=_c.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,pS=function(){return new _c},mS=function(){return zi()},fS=Zn,Zm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},nt.NO_ERROR=0,nt.TIMEOUT=8,nt.HTTP_ERROR=6,wu=nt,he.COMPLETE="complete",hS=he,fc.EventType=Xr,Xr.OPEN="a",Xr.CLOSE="b",Xr.ERROR="c",Xr.MESSAGE="d",Me.prototype.listen=Me.prototype.J,Fo=fc,st.prototype.listenOnce=st.prototype.K,st.prototype.getLastError=st.prototype.Ha,st.prototype.getLastErrorCode=st.prototype.ya,st.prototype.getStatus=st.prototype.ca,st.prototype.getResponseJson=st.prototype.La,st.prototype.getResponseText=st.prototype.la,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Fa,dS=st}).apply(typeof Gc<"u"?Gc:typeof self<"u"?self:typeof window<"u"?window:{});const gw="@firebase/firestore",yw="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ya="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri=new Ug("@firebase/firestore");function Gi(){return Ri.logLevel}function se(t,...e){if(Ri.logLevel<=Ie.DEBUG){const n=e.map(ey);Ri.debug(`Firestore (${Ya}): ${t}`,...n)}}function Us(t,...e){if(Ri.logLevel<=Ie.ERROR){const n=e.map(ey);Ri.error(`Firestore (${Ya}): ${t}`,...n)}}function La(t,...e){if(Ri.logLevel<=Ie.WARN){const n=e.map(ey);Ri.warn(`Firestore (${Ya}): ${t}`,...n)}}function ey(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,gS(t,s,n)}function gS(t,e,n){let s=`FIRESTORE (${Ya}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Us(s),new Error(s)}function Re(t,e,n,s){let r="Unexpected state";typeof n=="string"?r=n:s=n,t||gS(e,r,s)}function Ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends Hs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Y3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Bt.UNAUTHENTICATED))}shutdown(){}}class Q3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class X3{constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Re(this.o===void 0,42304);let s=this.i;const r=c=>this.i!==s?(s=this.i,n(c)):Promise.resolve();let a=new Rs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Rs,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await r(this.currentUser)})},l=c=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Rs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Re(typeof s.accessToken=="string",31837,{l:s}),new yS(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string",2055,{h:e}),new Bt(e)}}class Z3{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class eV{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new Z3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Re(this.o===void 0,3512);const s=a=>{a.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,se("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>s(a))};const r=a=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?r(a):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new xw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Re(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new xw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const r=nV(40);for(let a=0;a<r.length;++a)s.length<20&&r[a]<n&&(s+=e.charAt(r[a]%62))}return s}}function ke(t,e){return t<e?-1:t>e?1:0}function ep(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const r=t.charAt(s),a=e.charAt(s);if(r!==a)return Pf(r)===Pf(a)?ke(r,a):Pf(r)?1:-1}return ke(t.length,e.length)}const sV=55296,rV=57343;function Pf(t){const e=t.charCodeAt(0);return e>=sV&&e<=rV}function Ma(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="__name__";class rs{constructor(e,n,s){n===void 0?n=0:n>e.length&&ge(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ge(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return rs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof rs?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const a=rs.compareSegments(e.get(r),n.get(r));if(a!==0)return a}return ke(e.length,n.length)}static compareSegments(e,n){const s=rs.isNumericId(e),r=rs.isNumericId(n);return s&&!r?-1:!s&&r?1:s&&r?rs.extractNumericId(e).compare(rs.extractNumericId(n)):ep(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Cr.fromString(e.substring(4,e.length-2))}}class Ue extends rs{construct(e,n,s){return new Ue(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Z(H.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new Ue(n)}static emptyPath(){return new Ue([])}}const iV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rt extends rs{construct(e,n,s){return new Rt(e,n,s)}static isValidIdentifier(e){return iV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vw}static keyField(){return new Rt([vw])}static fromServerFormat(e){const n=[];let s="",r=0;const a=()=>{if(s.length===0)throw new Z(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new Z(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Z(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=c,r+=2}else l==="`"?(o=!o,r++):l!=="."||o?(s+=l,r++):(a(),r++)}if(a(),o)throw new Z(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rt(n)}static emptyPath(){return new Rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.path=e}static fromPath(e){return new ue(Ue.fromString(e))}static fromName(e){return new ue(Ue.fromString(e).popFirst(5))}static empty(){return new ue(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new Ue(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(t,e,n){if(!n)throw new Z(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function aV(t,e,n,s){if(e===!0&&s===!0)throw new Z(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ww(t){if(!ue.isDocumentKey(t))throw new Z(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function bw(t){if(ue.isDocumentKey(t))throw new Z(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function vS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ih(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge(12329,{type:typeof t})}function Nn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ih(t);throw new Z(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(t,e){const n={typeString:t};return e&&(n.value=e),n}function rc(t,e){if(!vS(t))throw new Z(H.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const r=e[s].typeString,a="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const o=t[s];if(r&&typeof o!==r){n=`JSON field '${s}' must be a ${r}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${s}' field to equal '${a.value}'`;break}}if(n)throw new Z(H.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=-62135596800,_w=1e6;class Ge{static now(){return Ge.fromMillis(Date.now())}static fromDate(e){return Ge.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*_w);return new Ge(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Nw)throw new Z(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_w}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ge._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(rc(e,Ge._jsonSchema))return new Ge(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Nw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ge._jsonSchemaVersion="firestore/timestamp/1.0",Ge._jsonSchema={type:gt("string",Ge._jsonSchemaVersion),seconds:gt("number"),nanoseconds:gt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{static fromTimestamp(e){return new ve(e)}static min(){return new ve(new Ge(0,0))}static max(){return new ve(new Ge(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl=-1;function oV(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=ve.fromTimestamp(s===1e9?new Ge(n+1,0):new Ge(n,s));return new Mr(r,ue.empty(),e)}function lV(t){return new Mr(t.readTime,t.key,Rl)}class Mr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Mr(ve.min(),ue.empty(),Rl)}static max(){return new Mr(ve.max(),ue.empty(),Rl)}}function cV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ue.comparator(t.documentKey,e.documentKey),n!==0?n:ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qa(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==uV)throw t;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((s,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(s,r)},this.catchCallback=a=>{this.wrapFailure(n,a).next(s,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,s)=>{n(e)})}static reject(e){return new q((n,s)=>{s(e)})}static waitFor(e){return new q((n,s)=>{let r=0,a=0,o=!1;e.forEach(l=>{++r,l.next(()=>{++a,o&&a===r&&n()},c=>s(c))}),o=!0,a===r&&n()})}static or(e){let n=q.resolve(!1);for(const s of e)n=n.next(r=>r?q.resolve(r):s());return n}static forEach(e,n){const s=[];return e.forEach((r,a)=>{s.push(n.call(this,r,a))}),this.waitFor(s)}static mapArray(e,n){return new q((s,r)=>{const a=e.length,o=new Array(a);let l=0;for(let c=0;c<a;c++){const d=c;n(e[d]).next(h=>{o[d]=h,++l,l===a&&s(o)},h=>r(h))}})}static doWhile(e,n){return new q((s,r)=>{const a=()=>{e()===!0?n().next(()=>{a()},r):s()};a()})}}function hV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Xa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ah.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny=-1;function oh(t){return t==null}function xd(t){return t===0&&1/t==-1/0}function fV(t){return typeof t=="number"&&Number.isInteger(t)&&!xd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="";function mV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Sw(e)),e=pV(t.get(n),e);return Sw(e)}function pV(t,e){let n=e;const s=t.length;for(let r=0;r<s;r++){const a=t.charAt(r);switch(a){case"\0":n+="";break;case wS:n+="";break;default:n+=a}}return n}function Sw(t){return t+wS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Kr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function bS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n){this.comparator=e,this.root=n||Ct.EMPTY}insert(e,n){return new tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ct.BLACK,null,null))}remove(e){return new tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kc(this.root,e,this.comparator,!0)}}class Kc{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?s(e.key,n):1,n&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ct{constructor(e,n,s,r,a){this.key=e,this.value=n,this.color=s??Ct.RED,this.left=r??Ct.EMPTY,this.right=a??Ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,a){return new Ct(e??this.key,n??this.value,s??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const a=s(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,n,s),null):a===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return Ct.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ge(27949);return e+(this.isRed()?0:1)}}Ct.EMPTY=null,Ct.RED=!0,Ct.BLACK=!1;Ct.EMPTY=new class{constructor(){this.size=0}get key(){throw ge(57766)}get value(){throw ge(16141)}get color(){throw ge(16727)}get left(){throw ge(29726)}get right(){throw ge(36894)}copy(e,n,s,r,a){return this}insert(e,n,s){return new Ct(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ew(this.data.getIterator())}getIteratorFrom(e){return new Ew(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,a=s.getNext().key;if(this.comparator(r,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new bt(this.comparator);return n.data=e,n}}class Ew{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new wn([])}unionWith(e){let n=new bt(Rt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ma(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new NS("Invalid base64 string: "+a):a}}(e);return new Lt(n)}static fromUint8Array(e){const n=function(r){let a="";for(let o=0;o<r.length;++o)a+=String.fromCharCode(r[o]);return a}(e);return new Lt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lt.EMPTY_BYTE_STRING=new Lt("");const gV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Or(t){if(Re(!!t,39018),typeof t=="string"){let e=0;const n=gV.exec(t);if(Re(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:lt(t.seconds),nanos:lt(t.nanos)}}function lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fr(t){return typeof t=="string"?Lt.fromBase64String(t):Lt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="server_timestamp",SS="__type__",jS="__previous_value__",ES="__local_write_time__";function sy(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[SS])==null?void 0:s.stringValue)===_S}function lh(t){const e=t.mapValue.fields[jS];return sy(e)?lh(e):e}function Dl(t){const e=Or(t.mapValue.fields[ES].timestampValue);return new Ge(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e,n,s,r,a,o,l,c,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}}const vd="(default)";class Vl{constructor(e,n){this.projectId=e,this.database=n||vd}static empty(){return new Vl("","")}get isDefaultDatabase(){return this.database===vd}isEqual(e){return e instanceof Vl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="__type__",xV="__max__",Jc={mapValue:{}},IS="__vector__",wd="value";function $r(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sy(t)?4:wV(t)?9007199254740991:vV(t)?10:11:ge(28295,{value:t})}function ps(t,e){if(t===e)return!0;const n=$r(t);if(n!==$r(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dl(t).isEqual(Dl(e));case 3:return function(r,a){if(typeof r.timestampValue=="string"&&typeof a.timestampValue=="string"&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const o=Or(r.timestampValue),l=Or(a.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,a){return Fr(r.bytesValue).isEqual(Fr(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,a){return lt(r.geoPointValue.latitude)===lt(a.geoPointValue.latitude)&&lt(r.geoPointValue.longitude)===lt(a.geoPointValue.longitude)}(t,e);case 2:return function(r,a){if("integerValue"in r&&"integerValue"in a)return lt(r.integerValue)===lt(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const o=lt(r.doubleValue),l=lt(a.doubleValue);return o===l?xd(o)===xd(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Ma(t.arrayValue.values||[],e.arrayValue.values||[],ps);case 10:case 11:return function(r,a){const o=r.mapValue.fields||{},l=a.mapValue.fields||{};if(jw(o)!==jw(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!ps(o[c],l[c])))return!1;return!0}(t,e);default:return ge(52216,{left:t})}}function Ll(t,e){return(t.values||[]).find(n=>ps(n,e))!==void 0}function Oa(t,e){if(t===e)return 0;const n=$r(t),s=$r(e);if(n!==s)return ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(t.booleanValue,e.booleanValue);case 2:return function(a,o){const l=lt(a.integerValue||a.doubleValue),c=lt(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Tw(t.timestampValue,e.timestampValue);case 4:return Tw(Dl(t),Dl(e));case 5:return ep(t.stringValue,e.stringValue);case 6:return function(a,o){const l=Fr(a),c=Fr(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const l=a.split("/"),c=o.split("/");for(let d=0;d<l.length&&d<c.length;d++){const h=ke(l[d],c[d]);if(h!==0)return h}return ke(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const l=ke(lt(a.latitude),lt(o.latitude));return l!==0?l:ke(lt(a.longitude),lt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Iw(t.arrayValue,e.arrayValue);case 10:return function(a,o){var p,x,j,_;const l=a.fields||{},c=o.fields||{},d=(p=l[wd])==null?void 0:p.arrayValue,h=(x=c[wd])==null?void 0:x.arrayValue,f=ke(((j=d==null?void 0:d.values)==null?void 0:j.length)||0,((_=h==null?void 0:h.values)==null?void 0:_.length)||0);return f!==0?f:Iw(d,h)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===Jc.mapValue&&o===Jc.mapValue)return 0;if(a===Jc.mapValue)return 1;if(o===Jc.mapValue)return-1;const l=a.fields||{},c=Object.keys(l),d=o.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const p=ep(c[f],h[f]);if(p!==0)return p;const x=Oa(l[c[f]],d[h[f]]);if(x!==0)return x}return ke(c.length,h.length)}(t.mapValue,e.mapValue);default:throw ge(23264,{he:n})}}function Tw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ke(t,e);const n=Or(t),s=Or(e),r=ke(n.seconds,s.seconds);return r!==0?r:ke(n.nanos,s.nanos)}function Iw(t,e){const n=t.values||[],s=e.values||[];for(let r=0;r<n.length&&r<s.length;++r){const a=Oa(n[r],s[r]);if(a)return a}return ke(n.length,s.length)}function Fa(t){return tp(t)}function tp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=Or(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Fr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ue.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",r=!0;for(const a of n.values||[])r?r=!1:s+=",",s+=tp(a);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let r="{",a=!0;for(const o of s)a?a=!1:r+=",",r+=`${o}:${tp(n.fields[o])}`;return r+"}"}(t.mapValue):ge(61005,{value:t})}function bu(t){switch($r(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lh(t);return e?16+bu(e):16;case 5:return 2*t.stringValue.length;case 6:return Fr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((r,a)=>r+bu(a),0)}(t.arrayValue);case 10:case 11:return function(s){let r=0;return Kr(s.fields,(a,o)=>{r+=a.length+bu(o)}),r}(t.mapValue);default:throw ge(13486,{value:t})}}function kw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function np(t){return!!t&&"integerValue"in t}function ry(t){return!!t&&"arrayValue"in t}function Cw(t){return!!t&&"nullValue"in t}function Aw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Nu(t){return!!t&&"mapValue"in t}function vV(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[TS])==null?void 0:s.stringValue)===IS}function al(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Kr(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=al(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=al(t.arrayValue.values[n]);return e}return{...t}}function wV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===xV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Nu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=al(n)}setAll(e){let n=Rt.emptyPath(),s={},r=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,s,r),s={},r=[],n=l.popLast()}o?s[l.lastSegment()]=al(o):r.push(l.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,s,r)}delete(e){const n=this.field(e.popLast());Nu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ps(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];Nu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){Kr(n,(r,a)=>e[r]=a);for(const r of s)delete e[r]}clone(){return new rn(al(this.value))}}function kS(t){const e=[];return Kr(t.fields,(n,s)=>{const r=new Rt([n]);if(Nu(s)){const a=kS(s.mapValue).fields;if(a.length===0)e.push(r);else for(const o of a)e.push(r.child(o))}else e.push(r)}),new wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n,s,r,a,o,l){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=a,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Ht(e,0,ve.min(),ve.min(),ve.min(),rn.empty(),0)}static newFoundDocument(e,n,s,r){return new Ht(e,1,n,ve.min(),s,r,0)}static newNoDocument(e,n){return new Ht(e,2,n,ve.min(),ve.min(),rn.empty(),0)}static newUnknownDocument(e,n){return new Ht(e,3,n,ve.min(),ve.min(),rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n){this.position=e,this.inclusive=n}}function Pw(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const a=e[r],o=t.position[r];if(a.field.isKeyField()?s=ue.comparator(ue.fromName(o.referenceValue),n.key):s=Oa(o,n.data.field(a.field)),a.dir==="desc"&&(s*=-1),s!==0)break}return s}function Rw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ps(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,n="asc"){this.field=e,this.dir=n}}function bV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{}class pt extends CS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new _V(e,n,s):n==="array-contains"?new EV(e,s):n==="in"?new TV(e,s):n==="not-in"?new IV(e,s):n==="array-contains-any"?new kV(e,s):new pt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new SV(e,s):new jV(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Oa(n,this.value)):n!==null&&$r(this.value)===$r(n)&&this.matchesComparison(Oa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends CS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Xn(e,n)}matches(e){return AS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function AS(t){return t.op==="and"}function PS(t){return NV(t)&&AS(t)}function NV(t){for(const e of t.filters)if(e instanceof Xn)return!1;return!0}function sp(t){if(t instanceof pt)return t.field.canonicalString()+t.op.toString()+Fa(t.value);if(PS(t))return t.filters.map(e=>sp(e)).join(",");{const e=t.filters.map(n=>sp(n)).join(",");return`${t.op}(${e})`}}function RS(t,e){return t instanceof pt?function(s,r){return r instanceof pt&&s.op===r.op&&s.field.isEqual(r.field)&&ps(s.value,r.value)}(t,e):t instanceof Xn?function(s,r){return r instanceof Xn&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce((a,o,l)=>a&&RS(o,r.filters[l]),!0):!1}(t,e):void ge(19439)}function DS(t){return t instanceof pt?function(n){return`${n.field.canonicalString()} ${n.op} ${Fa(n.value)}`}(t):t instanceof Xn?function(n){return n.op.toString()+" {"+n.getFilters().map(DS).join(" ,")+"}"}(t):"Filter"}class _V extends pt{constructor(e,n,s){super(e,n,s),this.key=ue.fromName(s.referenceValue)}matches(e){const n=ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class SV extends pt{constructor(e,n){super(e,"in",n),this.keys=VS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class jV extends pt{constructor(e,n){super(e,"not-in",n),this.keys=VS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function VS(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(s=>ue.fromName(s.referenceValue))}class EV extends pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ry(n)&&Ll(n.arrayValue,this.value)}}class TV extends pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ll(this.value.arrayValue,n)}}class IV extends pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ll(this.value.arrayValue,n)}}class kV extends pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ry(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Ll(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e,n=null,s=[],r=[],a=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=a,this.startAt=o,this.endAt=l,this.Te=null}}function Dw(t,e=null,n=[],s=[],r=null,a=null,o=null){return new CV(t,e,n,s,r,a,o)}function iy(t){const e=Ne(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>sp(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(a){return a.field.canonicalString()+a.dir}(s)).join(","),oh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Fa(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Fa(s)).join(",")),e.Te=n}return e.Te}function ay(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!bV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!RS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Rw(t.startAt,e.startAt)&&Rw(t.endAt,e.endAt)}function rp(t){return ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n=null,s=[],r=[],a=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function AV(t,e,n,s,r,a,o,l){return new Za(t,e,n,s,r,a,o,l)}function ch(t){return new Za(t)}function Vw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function LS(t){return t.collectionGroup!==null}function ol(t){const e=Ne(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new bt(Rt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Ml(a,s))}),n.has(Rt.keyField().canonicalString())||e.Ie.push(new Ml(Rt.keyField(),s))}return e.Ie}function ds(t){const e=Ne(t);return e.Ee||(e.Ee=PV(e,ol(t))),e.Ee}function PV(t,e){if(t.limitType==="F")return Dw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const a=r.dir==="desc"?"asc":"desc";return new Ml(r.field,a)});const n=t.endAt?new bd(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new bd(t.startAt.position,t.startAt.inclusive):null;return Dw(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function ip(t,e){const n=t.filters.concat([e]);return new Za(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ap(t,e,n){return new Za(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function uh(t,e){return ay(ds(t),ds(e))&&t.limitType===e.limitType}function MS(t){return`${iy(ds(t))}|lt:${t.limitType}`}function Ki(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(r=>DS(r)).join(", ")}]`),oh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(r=>Fa(r)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(r=>Fa(r)).join(",")),`Target(${s})`}(ds(t))}; limitType=${t.limitType})`}function dh(t,e){return e.isFoundDocument()&&function(s,r){const a=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(a):ue.isDocumentKey(s.path)?s.path.isEqual(a):s.path.isImmediateParentOf(a)}(t,e)&&function(s,r){for(const a of ol(s))if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1;return!0}(t,e)&&function(s,r){for(const a of s.filters)if(!a.matches(r))return!1;return!0}(t,e)&&function(s,r){return!(s.startAt&&!function(o,l,c){const d=Pw(o,l,c);return o.inclusive?d<=0:d<0}(s.startAt,ol(s),r)||s.endAt&&!function(o,l,c){const d=Pw(o,l,c);return o.inclusive?d>=0:d>0}(s.endAt,ol(s),r))}(t,e)}function RV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function OS(t){return(e,n)=>{let s=!1;for(const r of ol(t)){const a=DV(r,e,n);if(a!==0)return a;s=s||r.field.isKeyField()}return 0}}function DV(t,e,n){const s=t.field.isKeyField()?ue.comparator(e.key,n.key):function(a,o,l){const c=o.data.field(a),d=l.data.field(a);return c!==null&&d!==null?Oa(c,d):ge(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return ge(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,a]of s)if(this.equalsFn(r,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Kr(this.inner,(n,s)=>{for(const[r,a]of s)e(r,a)})}isEmpty(){return bS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV=new tt(ue.comparator);function Bs(){return VV}const FS=new tt(ue.comparator);function $o(...t){let e=FS;for(const n of t)e=e.insert(n.key,n);return e}function $S(t){let e=FS;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function gi(){return ll()}function US(){return ll()}function ll(){return new $i(t=>t.toString(),(t,e)=>t.isEqual(e))}const LV=new tt(ue.comparator),MV=new bt(ue.comparator);function Ce(...t){let e=MV;for(const n of t)e=e.add(n);return e}const OV=new bt(ke);function FV(){return OV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xd(e)?"-0":e}}function BS(t){return{integerValue:""+t}}function $V(t,e){return fV(e)?BS(e):oy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(){this._=void 0}}function UV(t,e,n){return t instanceof Ol?function(r,a){const o={fields:{[SS]:{stringValue:_S},[ES]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&sy(a)&&(a=lh(a)),a&&(o.fields[jS]=a),{mapValue:o}}(n,e):t instanceof Fl?HS(t,e):t instanceof $l?WS(t,e):function(r,a){const o=zS(r,a),l=Lw(o)+Lw(r.Ae);return np(o)&&np(r.Ae)?BS(l):oy(r.serializer,l)}(t,e)}function BV(t,e,n){return t instanceof Fl?HS(t,e):t instanceof $l?WS(t,e):n}function zS(t,e){return t instanceof Nd?function(s){return np(s)||function(a){return!!a&&"doubleValue"in a}(s)}(e)?e:{integerValue:0}:null}class Ol extends hh{}class Fl extends hh{constructor(e){super(),this.elements=e}}function HS(t,e){const n=qS(e);for(const s of t.elements)n.some(r=>ps(r,s))||n.push(s);return{arrayValue:{values:n}}}class $l extends hh{constructor(e){super(),this.elements=e}}function WS(t,e){let n=qS(e);for(const s of t.elements)n=n.filter(r=>!ps(r,s));return{arrayValue:{values:n}}}class Nd extends hh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Lw(t){return lt(t.integerValue||t.doubleValue)}function qS(t){return ry(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e,n){this.field=e,this.transform=n}}function HV(t,e){return t.field.isEqual(e.field)&&function(s,r){return s instanceof Fl&&r instanceof Fl||s instanceof $l&&r instanceof $l?Ma(s.elements,r.elements,ps):s instanceof Nd&&r instanceof Nd?ps(s.Ae,r.Ae):s instanceof Ol&&r instanceof Ol}(t.transform,e.transform)}class WV{constructor(e,n){this.version=e,this.transformResults=n}}class Yn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _u(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class fh{}function GS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new JS(t.key,Yn.none()):new ic(t.key,t.data,Yn.none());{const n=t.data,s=rn.empty();let r=new bt(Rt.comparator);for(let a of e.fields)if(!r.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?s.delete(a):s.set(a,o),r=r.add(a)}return new Jr(t.key,s,new wn(r.toArray()),Yn.none())}}function qV(t,e,n){t instanceof ic?function(r,a,o){const l=r.value.clone(),c=Ow(r.fieldTransforms,a,o.transformResults);l.setAll(c),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Jr?function(r,a,o){if(!_u(r.precondition,a))return void a.convertToUnknownDocument(o.version);const l=Ow(r.fieldTransforms,a,o.transformResults),c=a.data;c.setAll(KS(r)),c.setAll(l),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(r,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function cl(t,e,n,s){return t instanceof ic?function(a,o,l,c){if(!_u(a.precondition,o))return l;const d=a.value.clone(),h=Fw(a.fieldTransforms,c,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,s):t instanceof Jr?function(a,o,l,c){if(!_u(a.precondition,o))return l;const d=Fw(a.fieldTransforms,c,o),h=o.data;return h.setAll(KS(a)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,n,s):function(a,o,l){return _u(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function GV(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),a=zS(s.transform,r||null);a!=null&&(n===null&&(n=rn.empty()),n.set(s.field,a))}return n||null}function Mw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&Ma(s,r,(a,o)=>HV(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ic extends fh{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Jr extends fh{constructor(e,n,s,r,a=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function KS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function Ow(t,e,n){const s=new Map;Re(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let r=0;r<n.length;r++){const a=t[r],o=a.transform,l=e.data.field(a.field);s.set(a.field,BV(o,l,n[r]))}return s}function Fw(t,e,n){const s=new Map;for(const r of t){const a=r.transform,o=n.data.field(r.field);s.set(r.field,UV(a,o,e))}return s}class JS extends fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KV extends fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&qV(a,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=cl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=cl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=US();return this.mutations.forEach(r=>{const a=e.get(r.key),o=a.overlayedDocument;let l=this.applyToLocalView(o,a.mutatedFields);l=n.has(r.key)?null:l;const c=GS(o,l);c!==null&&s.set(r.key,c),o.isValidDocument()||o.convertToNoDocument(ve.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&Ma(this.mutations,e.mutations,(n,s)=>Mw(n,s))&&Ma(this.baseMutations,e.baseMutations,(n,s)=>Mw(n,s))}}class ly{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){Re(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let r=function(){return LV}();const a=e.mutations;for(let o=0;o<a.length;o++)r=r.insert(a[o].key,s[o].version);return new ly(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht,Ae;function XV(t){switch(t){case H.OK:return ge(64938);case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0;default:return ge(15467,{code:t})}}function YS(t){if(t===void 0)return Us("GRPC error has no .code"),H.UNKNOWN;switch(t){case ht.OK:return H.OK;case ht.CANCELLED:return H.CANCELLED;case ht.UNKNOWN:return H.UNKNOWN;case ht.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case ht.INTERNAL:return H.INTERNAL;case ht.UNAVAILABLE:return H.UNAVAILABLE;case ht.UNAUTHENTICATED:return H.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case ht.NOT_FOUND:return H.NOT_FOUND;case ht.ALREADY_EXISTS:return H.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return H.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case ht.ABORTED:return H.ABORTED;case ht.OUT_OF_RANGE:return H.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return H.UNIMPLEMENTED;case ht.DATA_LOSS:return H.DATA_LOSS;default:return ge(39323,{code:t})}}(Ae=ht||(ht={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL=new Cr([4294967295,4294967295],0);function $w(t){const e=ZV().encode(t),n=new uS;return n.update(e),new Uint8Array(n.digest())}function Uw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Cr([n,s],0),new Cr([r,a],0)]}class cy{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Uo(`Invalid padding: ${n}`);if(s<0)throw new Uo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Uo(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Uo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Cr.fromNumber(this.ge)}ye(e,n,s){let r=e.add(n.multiply(Cr.fromNumber(s)));return r.compare(eL)===1&&(r=new Cr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=$w(e),[s,r]=Uw(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(s,r,a);if(!this.we(o))return!1}return!0}static create(e,n,s){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new cy(a,r,n);return s.forEach(l=>o.insert(l)),o}insert(e){if(this.ge===0)return;const n=$w(e),[s,r]=Uw(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(s,r,a);this.Se(o)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Uo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n,s,r,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,ac.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new mh(ve.min(),r,new tt(ke),Bs(),Ce())}}class ac{constructor(e,n,s,r,a){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ac(s,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n,s,r){this.be=e,this.removedTargetIds=n,this.key=s,this.De=r}}class QS{constructor(e,n){this.targetId=e,this.Ce=n}}class XS{constructor(e,n,s=Lt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class Bw{constructor(){this.ve=0,this.Fe=zw(),this.Me=Lt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ce(),n=Ce(),s=Ce();return this.Fe.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:ge(38017,{changeType:a})}}),new ac(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=zw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Re(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class tL{constructor(e){this.Ge=e,this.ze=new Map,this.je=Bs(),this.Je=Yc(),this.He=Yc(),this.Ye=new tt(ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ge(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,r)=>{this.rt(r)&&n(r)})}st(e){const n=e.targetId,s=e.Ce.count,r=this.ot(n);if(r){const a=r.target;if(rp(a))if(s===0){const o=new ue(a.path);this.et(n,o,Ht.newNoDocument(o,ve.min()))}else Re(s===1,20013,{expectedCount:s});else{const o=this._t(n);if(o!==s){const l=this.ut(e),c=l?this.ct(l,e,o):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:r=0},hashCount:a=0}=n;let o,l;try{o=Fr(s).toUint8Array()}catch(c){if(c instanceof NS)return La("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new cy(o,r,a)}catch(c){return La(c instanceof Uo?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let r=0;return s.forEach(a=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.et(n,a,null),r++)}),r}Tt(e){const n=new Map;this.ze.forEach((a,o)=>{const l=this.ot(o);if(l){if(a.current&&rp(l.target)){const c=new ue(l.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,Ht.newNoDocument(c,e))}a.Be&&(n.set(o,a.ke()),a.qe())}});let s=Ce();this.He.forEach((a,o)=>{let l=!0;o.forEachWhile(c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(s=s.add(a))}),this.je.forEach((a,o)=>o.setReadTime(e));const r=new mh(e,n,this.Ye,this.je,s);return this.je=Bs(),this.Je=Yc(),this.He=Yc(),this.Ye=new tt(ke),r}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.Qe(n,1):r.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Bw,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new bt(ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new bt(ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Bw),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Yc(){return new tt(ue.comparator)}function zw(){return new tt(ue.comparator)}const nL={asc:"ASCENDING",desc:"DESCENDING"},sL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rL={and:"AND",or:"OR"};class iL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function op(t,e){return t.useProto3Json||oh(e)?e:{value:e}}function _d(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function aL(t,e){return _d(t,e.toTimestamp())}function hs(t){return Re(!!t,49232),ve.fromTimestamp(function(n){const s=Or(n);return new Ge(s.seconds,s.nanos)}(t))}function uy(t,e){return lp(t,e).canonicalString()}function lp(t,e){const n=function(r){return new Ue(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ej(t){const e=Ue.fromString(t);return Re(ij(e),10190,{key:e.toString()}),e}function cp(t,e){return uy(t.databaseId,e.path)}function Rf(t,e){const n=ej(e);if(n.get(1)!==t.databaseId.projectId)throw new Z(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ue(nj(n))}function tj(t,e){return uy(t.databaseId,e)}function oL(t){const e=ej(t);return e.length===4?Ue.emptyPath():nj(e)}function up(t){return new Ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nj(t){return Re(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Hw(t,e,n){return{name:cp(t,e),fields:n.value.mapValue.fields}}function lL(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ge(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],a=function(d,h){return d.useProto3Json?(Re(h===void 0||typeof h=="string",58123),Lt.fromBase64String(h||"")):(Re(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Lt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(d){const h=d.code===void 0?H.UNKNOWN:YS(d.code);return new Z(h,d.message||"")}(o);n=new XS(s,r,a,l||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=Rf(t,s.document.name),a=hs(s.document.updateTime),o=s.document.createTime?hs(s.document.createTime):ve.min(),l=new rn({mapValue:{fields:s.document.fields}}),c=Ht.newFoundDocument(r,a,o,l),d=s.targetIds||[],h=s.removedTargetIds||[];n=new Su(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=Rf(t,s.document),a=s.readTime?hs(s.readTime):ve.min(),o=Ht.newNoDocument(r,a),l=s.removedTargetIds||[];n=new Su([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=Rf(t,s.document),a=s.removedTargetIds||[];n=new Su([],a,r,null)}else{if(!("filter"in e))return ge(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:a}=s,o=new QV(r,a),l=s.targetId;n=new QS(l,o)}}return n}function cL(t,e){let n;if(e instanceof ic)n={update:Hw(t,e.key,e.value)};else if(e instanceof JS)n={delete:cp(t,e.key)};else if(e instanceof Jr)n={update:Hw(t,e.key,e.data),updateMask:xL(e.fieldMask)};else{if(!(e instanceof KV))return ge(16599,{Vt:e.type});n={verify:cp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(a,o){const l=o.transform;if(l instanceof Ol)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Fl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof $l)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Nd)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw ge(20930,{transform:o.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(r,a){return a.updateTime!==void 0?{updateTime:aL(r,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ge(27497)}(t,e.precondition)),n}function uL(t,e){return t&&t.length>0?(Re(e!==void 0,14353),t.map(n=>function(r,a){let o=r.updateTime?hs(r.updateTime):hs(a);return o.isEqual(ve.min())&&(o=hs(a)),new WV(o,r.transformResults||[])}(n,e))):[]}function dL(t,e){return{documents:[tj(t,e.path)]}}function hL(t,e){const n={structuredQuery:{}},s=e.path;let r;e.collectionGroup!==null?(r=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=tj(t,r);const a=function(d){if(d.length!==0)return rj(Xn.create(d,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const o=function(d){if(d.length!==0)return d.map(h=>function(p){return{field:Ji(p.field),direction:pL(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=op(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:r}}function fL(t){let e=oL(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){Re(s===1,65062);const h=n.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let a=[];n.where&&(a=function(f){const p=sj(f);return p instanceof Xn&&PS(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(j){return new Ml(Yi(j.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(f){let p;return p=typeof f=="object"?f.value:f,oh(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(f){const p=!!f.before,x=f.values||[];return new bd(x,p)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const p=!f.before,x=f.values||[];return new bd(x,p)}(n.endAt)),AV(e,r,o,a,l,"F",c,d)}function mL(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function sj(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Yi(n.unaryFilter.field);return pt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=Yi(n.unaryFilter.field);return pt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Yi(n.unaryFilter.field);return pt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Yi(n.unaryFilter.field);return pt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ge(61313);default:return ge(60726)}}(t):t.fieldFilter!==void 0?function(n){return pt.create(Yi(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ge(58110);default:return ge(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Xn.create(n.compositeFilter.filters.map(s=>sj(s)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ge(1026)}}(n.compositeFilter.op))}(t):ge(30097,{filter:t})}function pL(t){return nL[t]}function gL(t){return sL[t]}function yL(t){return rL[t]}function Ji(t){return{fieldPath:t.canonicalString()}}function Yi(t){return Rt.fromServerFormat(t.fieldPath)}function rj(t){return t instanceof pt?function(n){if(n.op==="=="){if(Aw(n.value))return{unaryFilter:{field:Ji(n.field),op:"IS_NAN"}};if(Cw(n.value))return{unaryFilter:{field:Ji(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Aw(n.value))return{unaryFilter:{field:Ji(n.field),op:"IS_NOT_NAN"}};if(Cw(n.value))return{unaryFilter:{field:Ji(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ji(n.field),op:gL(n.op),value:n.value}}}(t):t instanceof Xn?function(n){const s=n.getFilters().map(r=>rj(r));return s.length===1?s[0]:{compositeFilter:{op:yL(n.op),filters:s}}}(t):ge(54877,{filter:t})}function xL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ij(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,n,s,r,a=ve.min(),o=ve.min(),l=Lt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new pr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e){this.yt=e}}function wL(t){const e=fL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ap(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(){this.Cn=new NL}addToCollectionParentIndex(e,n){return this.Cn.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(Mr.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(Mr.min())}updateCollectionGroup(e,n,s){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class NL{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new bt(Ue.comparator),a=!r.has(s);return this.index[n]=r.add(s),a}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new bt(Ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aj=41943040;class tn{static withCacheSize(e){return new tn(e,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(aj,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new $a(0)}static cr(){return new $a(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="LruGarbageCollector",_L=1048576;function Gw([t,e],[n,s]){const r=ke(t,n);return r===0?ke(e,s):r}class SL{constructor(e){this.Ir=e,this.buffer=new bt(Gw),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Gw(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class jL{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){se(qw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Xa(n)?se(qw,"Ignoring IndexedDB error during garbage collection: ",n):await Qa(n)}await this.Vr(3e5)})}}class EL{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return q.resolve(ah.ce);const s=new SL(n);return this.mr.forEachTarget(e,r=>s.Ar(r.sequenceNumber)).next(()=>this.mr.pr(e,r=>s.Ar(r))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),q.resolve(Ww)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ww):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,r,a,o,l,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),r=this.params.maximumSequenceNumbersToCollect):r=f,o=Date.now(),this.nthSequenceNumber(e,r))).next(f=>(s=f,l=Date.now(),this.removeTargets(e,s,n))).next(f=>(a=f,c=Date.now(),this.removeOrphanedDocuments(e,s))).next(f=>(d=Date.now(),Gi()<=Ie.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${r} in `+(l-o)+`ms
	Removed ${a} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),q.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:f})))}}function TL(t,e){return new EL(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(){this.changes=new $i(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?q.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(s=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(s!==null&&cl(s.mutation,r,wn.empty(),Ge.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ce()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ce()){const r=gi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,s).next(a=>{let o=$o();return a.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=gi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ce()))}populateOverlays(e,n,s){const r=[];return s.forEach(a=>{n.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,s,r){let a=Bs();const o=ll(),l=function(){return ll()}();return n.forEach((c,d)=>{const h=s.get(d.key);r.has(d.key)&&(h===void 0||h.mutation instanceof Jr)?a=a.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),cl(h.mutation,d,h.mutation.getFieldMask(),Ge.now())):o.set(d.key,wn.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>l.set(d,new kL(h,o.get(d)??null))),l))}recalculateAndSaveOverlays(e,n){const s=ll();let r=new tt((o,l)=>o-l),a=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=s.get(c)||wn.empty();h=l.applyToLocalView(d,h),s.set(c,h);const f=(r.get(l.batchId)||Ce()).add(c);r=r.insert(l.batchId,f)})}).next(()=>{const o=[],l=r.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,h=c.value,f=US();h.forEach(p=>{if(!a.has(p)){const x=GS(n.get(p),s.get(p));x!==null&&f.set(p,x),a=a.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return q.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,r){return function(o){return ue.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):LS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,r):this.getDocumentsMatchingCollectionQuery(e,n,s,r)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next(a=>{const o=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-a.size):q.resolve(gi());let l=Rl,c=a;return o.next(d=>q.forEach(d,(h,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),a.get(h)?q.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{c=c.insert(h,p)}))).next(()=>this.populateOverlays(e,d,a)).next(()=>this.computeViews(e,c,d,Ce())).next(h=>({batchId:l,changes:$S(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ue(n)).next(s=>{let r=$o();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,s,r){const a=n.collectionGroup;let o=$o();return this.indexManager.getCollectionParents(e,a).next(l=>q.forEach(l,c=>{const d=function(f,p){return new Za(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,s,r).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,s,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,a,r))).next(o=>{a.forEach((c,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,Ht.newInvalidDocument(h)))});let l=$o();return o.forEach((c,d)=>{const h=a.get(c);h!==void 0&&cl(h.mutation,d,wn.empty(),Ge.now()),dh(n,d)&&(l=l.insert(c,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return q.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:hs(r.createTime)}}(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(r){return{name:r.name,query:wL(r.bundledQuery),readTime:hs(r.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(){this.overlays=new tt(ue.comparator),this.qr=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const s=gi();return q.forEach(n,r=>this.getOverlay(e,r).next(a=>{a!==null&&s.set(r,a)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((r,a)=>{this.St(e,n,a)}),q.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.qr.get(s);return r!==void 0&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(s)),q.resolve()}getOverlaysForCollection(e,n,s){const r=gi(),a=n.length+1,o=new ue(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===a&&c.largestBatchId>s&&r.set(c.getKey(),c)}return q.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let a=new tt((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>s){let h=a.get(d.largestBatchId);h===null&&(h=gi(),a=a.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const l=gi(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>l.set(d,h)),!(l.size()>=r)););return q.resolve(l)}St(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const o=this.qr.get(r.largestBatchId).delete(s.key);this.qr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new YV(n,s));let a=this.qr.get(n);a===void 0&&(a=Ce(),this.qr.set(n,a)),this.qr.set(n,a.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(){this.Qr=new bt(jt.$r),this.Ur=new bt(jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new jt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new jt(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new ue(new Ue([])),s=new jt(n,e),r=new jt(n,e+1),a=[];return this.Ur.forEachInRange([s,r],o=>{this.Gr(o),a.push(o.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ue(new Ue([])),s=new jt(n,e),r=new jt(n,e+1);let a=Ce();return this.Ur.forEachInRange([s,r],o=>{a=a.add(o.key)}),a}containsKey(e){const n=new jt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ue.comparator(e.key,n.key)||ke(e.Yr,n.Yr)}static Kr(e,n){return ke(e.Yr,n.Yr)||ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new bt(jt.$r)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new JV(a,n,s,r);this.mutationQueue.push(o);for(const l of r)this.Zr=this.Zr.add(new jt(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return q.resolve(o)}lookupMutationBatch(e,n){return q.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.ei(s),a=r<0?0:r;return q.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?ny:this.tr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new jt(n,0),r=new jt(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([s,r],o=>{const l=this.Xr(o.Yr);a.push(l)}),q.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new bt(ke);return n.forEach(r=>{const a=new jt(r,0),o=new jt(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],l=>{s=s.add(l.Yr)})}),q.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let a=s;ue.isDocumentKey(a)||(a=a.child(""));const o=new jt(new ue(a),0);let l=new bt(ke);return this.Zr.forEachWhile(c=>{const d=c.key.path;return!!s.isPrefixOf(d)&&(d.length===r&&(l=l.add(c.Yr)),!0)},o),q.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(s=>{const r=this.Xr(s);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Re(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return q.forEach(n.mutations,r=>{const a=new jt(r.key,n.batchId);return s=s.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new jt(n,0),r=this.Zr.firstAfterOrEqual(s);return q.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e){this.ri=e,this.docs=function(){return new tt(ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),a=r?r.size:0,o=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return q.resolve(s?s.document.mutableCopy():Ht.newInvalidDocument(n))}getEntries(e,n){let s=Bs();return n.forEach(r=>{const a=this.docs.get(r);s=s.insert(r,a?a.document.mutableCopy():Ht.newInvalidDocument(r))}),q.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let a=Bs();const o=n.path,l=new ue(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||cV(lV(h),s)<=0||(r.has(h.key)||dh(n,h))&&(a=a.insert(h.key,h.mutableCopy()))}return q.resolve(a)}getAllFromCollectionGroup(e,n,s,r){ge(9500)}ii(e,n){return q.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new LL(this)}getSize(e){return q.resolve(this.size)}}class LL extends IL{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(s)}),q.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e){this.persistence=e,this.si=new $i(n=>iy(n),ay),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.oi=0,this._i=new dy,this.targetCount=0,this.ai=$a.ur()}forEachTarget(e,n){return this.si.forEach((s,r)=>n(r)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),q.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new $a(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.Pr(n),q.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,s){let r=0;const a=[];return this.si.forEach((o,l)=>{l.sequenceNumber<=n&&s.get(l.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),q.waitFor(a).next(()=>r)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return q.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),q.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const r=this.persistence.referenceDelegate,a=[];return r&&n.forEach(o=>{a.push(r.markPotentiallyOrphaned(e,o))}),q.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),q.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return q.resolve(s)}containsKey(e,n){return q.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e,n){this.ui={},this.overlays={},this.ci=new ah(0),this.li=!1,this.li=!0,this.hi=new RL,this.referenceDelegate=e(this),this.Pi=new ML(this),this.indexManager=new bL,this.remoteDocumentCache=function(r){return new VL(r)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new vL(n),this.Ii=new AL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new PL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new DL(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){se("MemoryPersistence","Starting transaction:",e);const r=new OL(this.ci.next());return this.referenceDelegate.Ei(),s(r).next(a=>this.referenceDelegate.di(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Ai(e,n){return q.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class OL extends dV{constructor(e){super(),this.currentSequenceNumber=e}}class hy{constructor(e){this.persistence=e,this.Ri=new dy,this.Vi=null}static mi(e){return new hy(e)}get fi(){if(this.Vi)return this.Vi;throw ge(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),q.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),q.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(r=>this.fi.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(a=>this.fi.add(a.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.fi,s=>{const r=ue.fromPath(s);return this.gi(e,r).next(a=>{a||n.removeEntry(r,ve.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return q.or([()=>q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Sd{constructor(e,n){this.persistence=e,this.pi=new $i(s=>mV(s.path),(s,r)=>s.isEqual(r)),this.garbageCollector=TL(this,n)}static mi(e,n){return new Sd(e,n)}Ei(){}di(e){return q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(r=>s+r))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return q.forEach(this.pi,(s,r)=>this.br(e,s,r).next(a=>a?q.resolve():n(r)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const r=this.persistence.getRemoteDocumentCache(),a=r.newChangeBuffer();return r.ii(e,o=>this.br(e,o,n).next(l=>{l||(s++,a.removeEntry(o,ve.min()))})).next(()=>a.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),q.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),q.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),q.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),q.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=bu(e.data.value)),n}br(e,n,s){return q.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.pi.get(n);return q.resolve(r!==void 0&&r>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=r}static As(e,n){let s=Ce(),r=Ce();for(const a of n.docChanges)switch(a.type){case 0:s=s.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new fy(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return d4()?8:hV(qt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,r){const a={result:null};return this.ys(e,n).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.ws(e,n,r,s).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new FL;return this.Ss(e,n,o).next(l=>{if(a.result=l,this.Vs)return this.bs(e,n,o,l.size)})}).next(()=>a.result)}bs(e,n,s,r){return s.documentReadCount<this.fs?(Gi()<=Ie.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",Ki(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),q.resolve()):(Gi()<=Ie.DEBUG&&se("QueryEngine","Query:",Ki(n),"scans",s.documentReadCount,"local documents and returns",r,"documents as results."),s.documentReadCount>this.gs*r?(Gi()<=Ie.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",Ki(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ds(n))):q.resolve())}ys(e,n){if(Vw(n))return q.resolve(null);let s=ds(n);return this.indexManager.getIndexType(e,s).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=ap(n,null,"F"),s=ds(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(a=>{const o=Ce(...a);return this.ps.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,s).next(c=>{const d=this.Ds(n,l);return this.Cs(n,d,o,c.readTime)?this.ys(e,ap(n,null,"F")):this.vs(e,d,n,c)}))})))}ws(e,n,s,r){return Vw(n)||r.isEqual(ve.min())?q.resolve(null):this.ps.getDocuments(e,s).next(a=>{const o=this.Ds(n,a);return this.Cs(n,o,s,r)?q.resolve(null):(Gi()<=Ie.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ki(n)),this.vs(e,o,n,oV(r,Rl)).next(l=>l))})}Ds(e,n){let s=new bt(OS(e));return n.forEach((r,a)=>{dh(e,a)&&(s=s.add(a))}),s}Cs(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Ss(e,n,s){return Gi()<=Ie.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Ki(n)),this.ps.getDocumentsMatchingQuery(e,n,Mr.min(),s)}vs(e,n,s,r){return this.ps.getDocumentsMatchingQuery(e,s,r).next(a=>(n.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my="LocalStore",UL=3e8;class BL{constructor(e,n,s,r){this.persistence=e,this.Fs=n,this.serializer=r,this.Ms=new tt(ke),this.xs=new $i(a=>iy(a),ay),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function zL(t,e,n,s){return new BL(t,e,n,s)}async function lj(t,e){const n=Ne(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(a=>(r=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(a=>{const o=[],l=[];let c=Ce();for(const d of r){o.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of a){l.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(s,c).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:l}))})})}function HL(t,e){const n=Ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const r=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,d,h){const f=d.batch,p=f.keys();let x=q.resolve();return p.forEach(j=>{x=x.next(()=>h.getEntry(c,j)).next(_=>{const k=d.docVersions.get(j);Re(k!==null,48541),_.version.compareTo(k)<0&&(f.applyToRemoteDocument(_,d),_.isValidDocument()&&(_.setReadTime(d.commitVersion),h.addEntry(_)))})}),x.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,s,e,a).next(()=>a.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(l){let c=Ce();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(s,r))})}function cj(t){const e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function WL(t,e){const n=Ne(t),s=e.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const l=[];e.targetChanges.forEach((h,f)=>{const p=r.get(f);if(!p)return;l.push(n.Pi.removeMatchingKeys(a,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(a,h.addedDocuments,f)));let x=p.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?x=x.withResumeToken(Lt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):h.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(h.resumeToken,s)),r=r.insert(f,x),function(_,k,S){return _.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=UL?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(p,x,h)&&l.push(n.Pi.updateTargetData(a,x))});let c=Bs(),d=Ce();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(a,h))}),l.push(qL(a,o,e.documentUpdates).next(h=>{c=h.ks,d=h.qs})),!s.isEqual(ve.min())){const h=n.Pi.getLastRemoteSnapshotVersion(a).next(f=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,s));l.push(h)}return q.waitFor(l).next(()=>o.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,c,d)).next(()=>c)}).then(a=>(n.Ms=r,a))}function qL(t,e,n){let s=Ce(),r=Ce();return n.forEach(a=>s=s.add(a)),e.getEntries(t,s).next(a=>{let o=Bs();return n.forEach((l,c)=>{const d=a.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(l)),c.isNoDocument()&&c.version.isEqual(ve.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):se(my,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)}),{ks:o,qs:r}})}function GL(t,e){const n=Ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=ny),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function KL(t,e){const n=Ne(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.Pi.getTargetData(s,e).next(a=>a?(r=a,q.resolve(r)):n.Pi.allocateTargetId(s).next(o=>(r=new pr(e,o,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.Ms.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function dp(t,e,n){const s=Ne(t),r=s.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",a,o=>s.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!Xa(o))throw o;se(my,`Failed to update sequence numbers for target ${e}: ${o}`)}s.Ms=s.Ms.remove(e),s.xs.delete(r.target)}function Kw(t,e,n){const s=Ne(t);let r=ve.min(),a=Ce();return s.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,h){const f=Ne(c),p=f.xs.get(h);return p!==void 0?q.resolve(f.Ms.get(p)):f.Pi.getTargetData(d,h)}(s,o,ds(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(o,l.targetId).next(c=>{a=c})}).next(()=>s.Fs.getDocumentsMatchingQuery(o,e,n?r:ve.min(),n?a:Ce())).next(l=>(JL(s,RV(e),l),{documents:l,Qs:a})))}function JL(t,e,n){let s=t.Os.get(e)||ve.min();n.forEach((r,a)=>{a.readTime.compareTo(s)>0&&(s=a.readTime)}),t.Os.set(e,s)}class Jw{constructor(){this.activeTargetIds=FV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YL{constructor(){this.Mo=new Jw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Jw,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="ConnectivityMonitor";class Qw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){se(Yw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){se(Yw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qc=null;function hp(){return Qc===null?Qc=function(){return 268435456+Math.round(2147483648*Math.random())}():Qc++,"0x"+Qc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df="RestConnection",XL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ZL{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${r}`,this.Wo=this.databaseId.database===vd?`project_id=${s}`:`project_id=${s}&database_id=${r}`}Go(e,n,s,r,a){const o=hp(),l=this.zo(e,n.toUriEncodedString());se(Df,`Sending RPC '${e}' ${o}:`,l,s);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,r,a);const{host:d}=new URL(l),h=Ga(d);return this.Jo(e,l,c,s,h).then(f=>(se(Df,`Received RPC '${e}' ${o}: `,f),f),f=>{throw La(Df,`RPC '${e}' ${o} failed with error: `,f,"url: ",l,"request:",s),f})}Ho(e,n,s,r,a,o){return this.Go(e,n,s,r,a)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ya}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,a)=>e[a]=r),s&&s.headers.forEach((r,a)=>e[a]=r)}zo(e,n){const s=XL[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class t6 extends ZL{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,r,a){const o=hp();return new Promise((l,c)=>{const d=new dS;d.setWithCredentials(!0),d.listenOnce(hS.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case wu.NO_ERROR:const f=d.getResponseJson();se($t,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),l(f);break;case wu.TIMEOUT:se($t,`RPC '${e}' ${o} timed out`),c(new Z(H.DEADLINE_EXCEEDED,"Request time out"));break;case wu.HTTP_ERROR:const p=d.getStatus();if(se($t,`RPC '${e}' ${o} failed with status:`,p,"response text:",d.getResponseText()),p>0){let x=d.getResponseJson();Array.isArray(x)&&(x=x[0]);const j=x==null?void 0:x.error;if(j&&j.status&&j.message){const _=function(S){const v=S.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(v)>=0?v:H.UNKNOWN}(j.status);c(new Z(_,j.message))}else c(new Z(H.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Z(H.UNAVAILABLE,"Connection failed."));break;default:ge(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{se($t,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(r);se($t,`RPC '${e}' ${o} sending request:`,r),d.send(n,"POST",h,s,15)})}T_(e,n,s){const r=hp(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=pS(),l=mS(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,s),c.encodeInitMessageHeaders=!0;const h=a.join("");se($t,`Creating RPC '${e}' stream ${r}: ${h}`,c);const f=o.createWebChannel(h,c);this.I_(f);let p=!1,x=!1;const j=new e6({Yo:k=>{x?se($t,`Not sending because RPC '${e}' stream ${r} is closed:`,k):(p||(se($t,`Opening RPC '${e}' stream ${r} transport.`),f.open(),p=!0),se($t,`RPC '${e}' stream ${r} sending:`,k),f.send(k))},Zo:()=>f.close()}),_=(k,S,v)=>{k.listen(S,b=>{try{v(b)}catch(R){setTimeout(()=>{throw R},0)}})};return _(f,Fo.EventType.OPEN,()=>{x||(se($t,`RPC '${e}' stream ${r} transport opened.`),j.o_())}),_(f,Fo.EventType.CLOSE,()=>{x||(x=!0,se($t,`RPC '${e}' stream ${r} transport closed`),j.a_(),this.E_(f))}),_(f,Fo.EventType.ERROR,k=>{x||(x=!0,La($t,`RPC '${e}' stream ${r} transport errored. Name:`,k.name,"Message:",k.message),j.a_(new Z(H.UNAVAILABLE,"The operation could not be completed")))}),_(f,Fo.EventType.MESSAGE,k=>{var S;if(!x){const v=k.data[0];Re(!!v,16349);const b=v,R=(b==null?void 0:b.error)||((S=b[0])==null?void 0:S.error);if(R){se($t,`RPC '${e}' stream ${r} received error:`,R);const M=R.status;let B=function(T){const C=ht[T];if(C!==void 0)return YS(C)}(M),E=R.message;B===void 0&&(B=H.INTERNAL,E="Unknown error status: "+M+" with message "+R.message),x=!0,j.a_(new Z(B,E)),f.close()}else se($t,`RPC '${e}' stream ${r} received:`,v),j.u_(v)}}),_(l,fS.STAT_EVENT,k=>{k.stat===Zm.PROXY?se($t,`RPC '${e}' stream ${r} detected buffering proxy`):k.stat===Zm.NOPROXY&&se($t,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{j.__()},0),j}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Vf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(t){return new iL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e,n,s=1e3,r=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=r,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-s);r>0&&se("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="PersistentStream";class dj{constructor(e,n,s,r,a,o,l,c){this.Mi=e,this.S_=s,this.b_=r,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new uj(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(Us(n.toString()),Us("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.D_===n&&this.G_(s,r)},s=>{e(()=>{const r=new Z(H.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(r)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(r=>{s(()=>this.z_(r))}),this.stream.onMessage(r=>{s(()=>++this.F_==1?this.J_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return se(Xw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(se(Xw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class n6 extends dj{constructor(e,n,s,r,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,o),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=lL(this.serializer,e),s=function(a){if(!("targetChange"in a))return ve.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?ve.min():o.readTime?hs(o.readTime):ve.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=up(this.serializer),n.addTarget=function(a,o){let l;const c=o.target;if(l=rp(c)?{documents:dL(a,c)}:{query:hL(a,c).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=ZS(a,o.resumeToken);const d=op(a,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(ve.min())>0){l.readTime=_d(a,o.snapshotVersion.toTimestamp());const d=op(a,o.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const s=mL(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=up(this.serializer),n.removeTarget=e,this.q_(n)}}class s6 extends dj{constructor(e,n,s,r,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Re(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Re(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=uL(e.writeResults,e.commitTime),s=hs(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=up(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>cL(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{}class i6 extends r6{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new Z(H.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Go(e,lp(n,s),r,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Z(H.UNKNOWN,a.toString())})}Ho(e,n,s,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Ho(e,lp(n,s),r,o,l,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(H.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class a6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Us(n),this.aa=!1):se("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di="RemoteStore";class o6{constructor(e,n,s,r,a){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(o=>{s.enqueueAndForget(async()=>{Ui(this)&&(se(Di,"Restarting streams for network reachability change."),await async function(c){const d=Ne(c);d.Ea.add(4),await oc(d),d.Ra.set("Unknown"),d.Ea.delete(4),await gh(d)}(this))})}),this.Ra=new a6(s,r)}}async function gh(t){if(Ui(t))for(const e of t.da)await e(!0)}async function oc(t){for(const e of t.da)await e(!1)}function hj(t,e){const n=Ne(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),xy(n)?yy(n):eo(n).O_()&&gy(n,e))}function py(t,e){const n=Ne(t),s=eo(n);n.Ia.delete(e),s.O_()&&fj(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ui(n)&&n.Ra.set("Unknown"))}function gy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}eo(t).Y_(e)}function fj(t,e){t.Va.Ue(e),eo(t).Z_(e)}function yy(t){t.Va=new tL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),eo(t).start(),t.Ra.ua()}function xy(t){return Ui(t)&&!eo(t).x_()&&t.Ia.size>0}function Ui(t){return Ne(t).Ea.size===0}function mj(t){t.Va=void 0}async function l6(t){t.Ra.set("Online")}async function c6(t){t.Ia.forEach((e,n)=>{gy(t,e)})}async function u6(t,e){mj(t),xy(t)?(t.Ra.ha(e),yy(t)):t.Ra.set("Unknown")}async function d6(t,e,n){if(t.Ra.set("Online"),e instanceof XS&&e.state===2&&e.cause)try{await async function(r,a){const o=a.cause;for(const l of a.targetIds)r.Ia.has(l)&&(await r.remoteSyncer.rejectListen(l,o),r.Ia.delete(l),r.Va.removeTarget(l))}(t,e)}catch(s){se(Di,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await jd(t,s)}else if(e instanceof Su?t.Va.Ze(e):e instanceof QS?t.Va.st(e):t.Va.tt(e),!n.isEqual(ve.min()))try{const s=await cj(t.localStore);n.compareTo(s)>=0&&await function(a,o){const l=a.Va.Tt(o);return l.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=a.Ia.get(d);h&&a.Ia.set(d,h.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,d)=>{const h=a.Ia.get(c);if(!h)return;a.Ia.set(c,h.withResumeToken(Lt.EMPTY_BYTE_STRING,h.snapshotVersion)),fj(a,c);const f=new pr(h.target,c,d,h.sequenceNumber);gy(a,f)}),a.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(s){se(Di,"Failed to raise snapshot:",s),await jd(t,s)}}async function jd(t,e,n){if(!Xa(e))throw e;t.Ea.add(1),await oc(t),t.Ra.set("Offline"),n||(n=()=>cj(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{se(Di,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await gh(t)})}function pj(t,e){return e().catch(n=>jd(t,n,e))}async function yh(t){const e=Ne(t),n=Ur(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ny;for(;h6(e);)try{const r=await GL(e.localStore,s);if(r===null){e.Ta.length===0&&n.L_();break}s=r.batchId,f6(e,r)}catch(r){await jd(e,r)}gj(e)&&yj(e)}function h6(t){return Ui(t)&&t.Ta.length<10}function f6(t,e){t.Ta.push(e);const n=Ur(t);n.O_()&&n.X_&&n.ea(e.mutations)}function gj(t){return Ui(t)&&!Ur(t).x_()&&t.Ta.length>0}function yj(t){Ur(t).start()}async function m6(t){Ur(t).ra()}async function p6(t){const e=Ur(t);for(const n of t.Ta)e.ea(n.mutations)}async function g6(t,e,n){const s=t.Ta.shift(),r=ly.from(s,e,n);await pj(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await yh(t)}async function y6(t,e){e&&Ur(t).X_&&await async function(s,r){if(function(o){return XV(o)&&o!==H.ABORTED}(r.code)){const a=s.Ta.shift();Ur(s).B_(),await pj(s,()=>s.remoteSyncer.rejectFailedWrite(a.batchId,r)),await yh(s)}}(t,e),gj(t)&&yj(t)}async function Zw(t,e){const n=Ne(t);n.asyncQueue.verifyOperationInProgress(),se(Di,"RemoteStore received new credentials");const s=Ui(n);n.Ea.add(3),await oc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await gh(n)}async function x6(t,e){const n=Ne(t);e?(n.Ea.delete(2),await gh(n)):e||(n.Ea.add(2),await oc(n),n.Ra.set("Unknown"))}function eo(t){return t.ma||(t.ma=function(n,s,r){const a=Ne(n);return a.sa(),new n6(s,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(t.datastore,t.asyncQueue,{Xo:l6.bind(null,t),t_:c6.bind(null,t),r_:u6.bind(null,t),H_:d6.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),xy(t)?yy(t):t.Ra.set("Unknown")):(await t.ma.stop(),mj(t))})),t.ma}function Ur(t){return t.fa||(t.fa=function(n,s,r){const a=Ne(n);return a.sa(),new s6(s,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:m6.bind(null,t),r_:y6.bind(null,t),ta:p6.bind(null,t),na:g6.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await yh(t)):(await t.fa.stop(),t.Ta.length>0&&(se(Di,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,n,s,r,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=a,this.deferred=new Rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,r,a){const o=Date.now()+s,l=new vy(e,n,o,r,a);return l.start(s),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wy(t,e){if(Us("AsyncQueue",`${e}: ${t}`),Xa(t))return new Z(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{static emptySet(e){return new _a(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ue.comparator(n.key,s.key):(n,s)=>ue.comparator(n.key,s.key),this.keyedMap=$o(),this.sortedSet=new tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof _a)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,a=s.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new _a;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(){this.ga=new tt(ue.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ge(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class Ua{constructor(e,n,s,r,a,o,l,c,d){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,s,r,a){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Ua(e,n,_a.emptySet(n),o,s,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class w6{constructor(){this.queries=t1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const r=Ne(n),a=r.queries;r.queries=t1(),a.forEach((o,l)=>{for(const c of l.Sa)c.onError(s)})})(this,new Z(H.ABORTED,"Firestore shutting down"))}}function t1(){return new $i(t=>MS(t),uh)}async function by(t,e){const n=Ne(t);let s=3;const r=e.query;let a=n.queries.get(r);a?!a.ba()&&e.Da()&&(s=2):(a=new v6,s=e.Da()?0:1);try{switch(s){case 0:a.wa=await n.onListen(r,!0);break;case 1:a.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const l=wy(o,`Initialization of query '${Ki(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&_y(n)}async function Ny(t,e){const n=Ne(t),s=e.query;let r=3;const a=n.queries.get(s);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?r=e.Da()?0:1:!a.ba()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function b6(t,e){const n=Ne(t);let s=!1;for(const r of e){const a=r.query,o=n.queries.get(a);if(o){for(const l of o.Sa)l.Fa(r)&&(s=!0);o.wa=r}}s&&_y(n)}function N6(t,e,n){const s=Ne(t),r=s.queries.get(e);if(r)for(const a of r.Sa)a.onError(n);s.queries.delete(e)}function _y(t){t.Ca.forEach(e=>{e.next()})}var fp,n1;(n1=fp||(fp={})).Ma="default",n1.Cache="cache";class Sy{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new Ua(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ua.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==fp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e){this.key=e}}class vj{constructor(e){this.key=e}}class _6{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ce(),this.mutatedKeys=Ce(),this.eu=OS(e),this.tu=new _a(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new e1,r=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,o=r,l=!1;const c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,f)=>{const p=r.get(h),x=dh(this.query,f)?f:null,j=!!p&&this.mutatedKeys.has(p.key),_=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let k=!1;p&&x?p.data.isEqual(x.data)?j!==_&&(s.track({type:3,doc:x}),k=!0):this.su(p,x)||(s.track({type:2,doc:x}),k=!0,(c&&this.eu(x,c)>0||d&&this.eu(x,d)<0)&&(l=!0)):!p&&x?(s.track({type:0,doc:x}),k=!0):p&&!x&&(s.track({type:1,doc:p}),k=!0,(c||d)&&(l=!0)),k&&(x?(o=o.add(x),a=_?a.add(h):a.delete(h)):(o=o.delete(h),a=a.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),a=a.delete(h.key),s.track({type:1,doc:h})}return{tu:o,iu:s,Cs:l,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,r){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(x,j){const _=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge(20277,{Rt:k})}};return _(x)-_(j)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(s),r=r??!1;const l=n&&!r?this._u():[],c=this.Xa.size===0&&this.current&&!r?1:0,d=c!==this.Za;return this.Za=c,o.length!==0||d?{snapshot:new Ua(this.query,e.tu,a,o,e.mutatedKeys,c===0,d,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new e1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ce(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new vj(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new xj(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ce();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ua.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const jy="SyncEngine";class S6{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class j6{constructor(e){this.key=e,this.hu=!1}}class E6{constructor(e,n,s,r,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new $i(l=>MS(l),uh),this.Iu=new Map,this.Eu=new Set,this.du=new tt(ue.comparator),this.Au=new Map,this.Ru=new dy,this.Vu={},this.mu=new Map,this.fu=$a.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function T6(t,e,n=!0){const s=jj(t);let r;const a=s.Tu.get(e);return a?(s.sharedClientState.addLocalQueryTarget(a.targetId),r=a.view.lu()):r=await wj(s,e,n,!0),r}async function I6(t,e){const n=jj(t);await wj(n,e,!0,!1)}async function wj(t,e,n,s){const r=await KL(t.localStore,ds(e)),a=r.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let l;return s&&(l=await k6(t,e,a,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&hj(t.remoteStore,r),l}async function k6(t,e,n,s,r){t.pu=(f,p,x)=>async function(_,k,S,v){let b=k.view.ru(S);b.Cs&&(b=await Kw(_.localStore,k.query,!1).then(({documents:E})=>k.view.ru(E,b)));const R=v&&v.targetChanges.get(k.targetId),M=v&&v.targetMismatches.get(k.targetId)!=null,B=k.view.applyChanges(b,_.isPrimaryClient,R,M);return r1(_,k.targetId,B.au),B.snapshot}(t,f,p,x);const a=await Kw(t.localStore,e,!0),o=new _6(e,a.Qs),l=o.ru(a.documents),c=ac.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),d=o.applyChanges(l,t.isPrimaryClient,c);r1(t,n,d.au);const h=new S6(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function C6(t,e,n){const s=Ne(t),r=s.Tu.get(e),a=s.Iu.get(r.targetId);if(a.length>1)return s.Iu.set(r.targetId,a.filter(o=>!uh(o,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await dp(s.localStore,r.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(r.targetId),n&&py(s.remoteStore,r.targetId),mp(s,r.targetId)}).catch(Qa)):(mp(s,r.targetId),await dp(s.localStore,r.targetId,!0))}async function A6(t,e){const n=Ne(t),s=n.Tu.get(e),r=n.Iu.get(s.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),py(n.remoteStore,s.targetId))}async function P6(t,e,n){const s=F6(t);try{const r=await function(o,l){const c=Ne(o),d=Ge.now(),h=l.reduce((x,j)=>x.add(j.key),Ce());let f,p;return c.persistence.runTransaction("Locally write mutations","readwrite",x=>{let j=Bs(),_=Ce();return c.Ns.getEntries(x,h).next(k=>{j=k,j.forEach((S,v)=>{v.isValidDocument()||(_=_.add(S))})}).next(()=>c.localDocuments.getOverlayedDocuments(x,j)).next(k=>{f=k;const S=[];for(const v of l){const b=GV(v,f.get(v.key).overlayedDocument);b!=null&&S.push(new Jr(v.key,b,kS(b.value.mapValue),Yn.exists(!0)))}return c.mutationQueue.addMutationBatch(x,d,S,l)}).next(k=>{p=k;const S=k.applyToLocalDocumentSet(f,_);return c.documentOverlayCache.saveOverlays(x,k.batchId,S)})}).then(()=>({batchId:p.batchId,changes:$S(f)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),function(o,l,c){let d=o.Vu[o.currentUser.toKey()];d||(d=new tt(ke)),d=d.insert(l,c),o.Vu[o.currentUser.toKey()]=d}(s,r.batchId,n),await lc(s,r.changes),await yh(s.remoteStore)}catch(r){const a=wy(r,"Failed to persist write");n.reject(a)}}async function bj(t,e){const n=Ne(t);try{const s=await WL(n.localStore,e);e.targetChanges.forEach((r,a)=>{const o=n.Au.get(a);o&&(Re(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?o.hu=!0:r.modifiedDocuments.size>0?Re(o.hu,14607):r.removedDocuments.size>0&&(Re(o.hu,42227),o.hu=!1))}),await lc(n,s,e)}catch(s){await Qa(s)}}function s1(t,e,n){const s=Ne(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.Tu.forEach((a,o)=>{const l=o.view.va(e);l.snapshot&&r.push(l.snapshot)}),function(o,l){const c=Ne(o);c.onlineState=l;let d=!1;c.queries.forEach((h,f)=>{for(const p of f.Sa)p.va(l)&&(d=!0)}),d&&_y(c)}(s.eventManager,e),r.length&&s.Pu.H_(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function R6(t,e,n){const s=Ne(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.Au.get(e),a=r&&r.key;if(a){let o=new tt(ue.comparator);o=o.insert(a,Ht.newNoDocument(a,ve.min()));const l=Ce().add(a),c=new mh(ve.min(),new Map,new tt(ke),o,l);await bj(s,c),s.du=s.du.remove(a),s.Au.delete(e),Ey(s)}else await dp(s.localStore,e,!1).then(()=>mp(s,e,n)).catch(Qa)}async function D6(t,e){const n=Ne(t),s=e.batch.batchId;try{const r=await HL(n.localStore,e);_j(n,s,null),Nj(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await lc(n,r)}catch(r){await Qa(r)}}async function V6(t,e,n){const s=Ne(t);try{const r=await function(o,l){const c=Ne(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,l).next(f=>(Re(f!==null,37113),h=f.keys(),c.mutationQueue.removeMutationBatch(d,f))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(s.localStore,e);_j(s,e,n),Nj(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await lc(s,r)}catch(r){await Qa(r)}}function Nj(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function _j(t,e,n){const s=Ne(t);let r=s.Vu[s.currentUser.toKey()];if(r){const a=r.get(e);a&&(n?a.reject(n):a.resolve(),r=r.remove(e)),s.Vu[s.currentUser.toKey()]=r}}function mp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(s=>{t.Ru.containsKey(s)||Sj(t,s)})}function Sj(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(py(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Ey(t))}function r1(t,e,n){for(const s of n)s instanceof xj?(t.Ru.addReference(s.key,e),L6(t,s)):s instanceof vj?(se(jy,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||Sj(t,s.key)):ge(19791,{wu:s})}function L6(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(se(jy,"New document in limbo: "+n),t.Eu.add(s),Ey(t))}function Ey(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ue(Ue.fromString(e)),s=t.fu.next();t.Au.set(s,new j6(n)),t.du=t.du.insert(n,s),hj(t.remoteStore,new pr(ds(ch(n.path)),s,"TargetPurposeLimboResolution",ah.ce))}}async function lc(t,e,n){const s=Ne(t),r=[],a=[],o=[];s.Tu.isEmpty()||(s.Tu.forEach((l,c)=>{o.push(s.pu(c,e,n).then(d=>{var h;if((d||n)&&s.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;s.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){r.push(d);const f=fy.As(c.targetId,d);a.push(f)}}))}),await Promise.all(o),s.Pu.H_(r),await async function(c,d){const h=Ne(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>q.forEach(d,p=>q.forEach(p.Es,x=>h.persistence.referenceDelegate.addReference(f,p.targetId,x)).next(()=>q.forEach(p.ds,x=>h.persistence.referenceDelegate.removeReference(f,p.targetId,x)))))}catch(f){if(!Xa(f))throw f;se(my,"Failed to update sequence numbers: "+f)}for(const f of d){const p=f.targetId;if(!f.fromCache){const x=h.Ms.get(p),j=x.snapshotVersion,_=x.withLastLimboFreeSnapshotVersion(j);h.Ms=h.Ms.insert(p,_)}}}(s.localStore,a))}async function M6(t,e){const n=Ne(t);if(!n.currentUser.isEqual(e)){se(jy,"User change. New user:",e.toKey());const s=await lj(n.localStore,e);n.currentUser=e,function(a,o){a.mu.forEach(l=>{l.forEach(c=>{c.reject(new Z(H.CANCELLED,o))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await lc(n,s.Ls)}}function O6(t,e){const n=Ne(t),s=n.Au.get(e);if(s&&s.hu)return Ce().add(s.key);{let r=Ce();const a=n.Iu.get(e);if(!a)return r;for(const o of a){const l=n.Tu.get(o);r=r.unionWith(l.view.nu)}return r}}function jj(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=bj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=O6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=R6.bind(null,e),e.Pu.H_=b6.bind(null,e.eventManager),e.Pu.yu=N6.bind(null,e.eventManager),e}function F6(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=D6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=V6.bind(null,e),e}class Ed{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ph(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return zL(this.persistence,new $L,e.initialUser,this.serializer)}Cu(e){return new oj(hy.mi,this.serializer)}Du(e){return new YL}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ed.provider={build:()=>new Ed};class $6 extends Ed{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Re(this.persistence.referenceDelegate instanceof Sd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new jL(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new oj(s=>Sd.mi(s,n),this.serializer)}}class pp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>s1(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=M6.bind(null,this.syncEngine),await x6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new w6}()}createDatastore(e){const n=ph(e.databaseInfo.databaseId),s=function(a){return new t6(a)}(e.databaseInfo);return function(a,o,l,c){return new i6(a,o,l,c)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,r,a,o,l){return new o6(s,r,a,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>s1(this.syncEngine,n,0),function(){return Qw.v()?new Qw:new QL}())}createSyncEngine(e,n){return function(r,a,o,l,c,d,h){const f=new E6(r,a,o,l,c,d);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const a=Ne(r);se(Di,"RemoteStore shutting down."),a.Ea.add(5),await oc(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}pp.provider={build:()=>new pp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Us("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br="FirestoreClient";class U6{constructor(e,n,s,r,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=Bt.UNAUTHENTICATED,this.clientId=ty.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(s,async o=>{se(Br,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(s,o=>(se(Br,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=wy(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Lf(t,e){t.asyncQueue.verifyOperationInProgress(),se(Br,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async r=>{s.isEqual(r)||(await lj(e.localStore,r),s=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function i1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await B6(t);se(Br,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>Zw(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,r)=>Zw(e.remoteStore,r)),t._onlineComponents=e}async function B6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){se(Br,"Using user provided OfflineComponentProvider");try{await Lf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===H.FAILED_PRECONDITION||r.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;La("Error using user provided cache. Falling back to memory cache: "+n),await Lf(t,new Ed)}}else se(Br,"Using default OfflineComponentProvider"),await Lf(t,new $6(void 0));return t._offlineComponents}async function Ej(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(se(Br,"Using user provided OnlineComponentProvider"),await i1(t,t._uninitializedComponentsProvider._online)):(se(Br,"Using default OnlineComponentProvider"),await i1(t,new pp))),t._onlineComponents}function z6(t){return Ej(t).then(e=>e.syncEngine)}async function Td(t){const e=await Ej(t),n=e.eventManager;return n.onListen=T6.bind(null,e.syncEngine),n.onUnlisten=C6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=I6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=A6.bind(null,e.syncEngine),n}function H6(t,e,n={}){const s=new Rs;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,l,c,d){const h=new Ty({next:p=>{h.Nu(),o.enqueueAndForget(()=>Ny(a,f));const x=p.docs.has(l);!x&&p.fromCache?d.reject(new Z(H.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&p.fromCache&&c&&c.source==="server"?d.reject(new Z(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new Sy(ch(l.path),h,{includeMetadataChanges:!0,qa:!0});return by(a,f)}(await Td(t),t.asyncQueue,e,n,s)),s.promise}function W6(t,e,n={}){const s=new Rs;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,l,c,d){const h=new Ty({next:p=>{h.Nu(),o.enqueueAndForget(()=>Ny(a,f)),p.fromCache&&c.source==="server"?d.reject(new Z(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new Sy(l,h,{includeMetadataChanges:!0,qa:!0});return by(a,f)}(await Td(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tj(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij="firestore.googleapis.com",o1=!0;class l1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Z(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ij,this.ssl=o1}else this.host=e.host,this.ssl=e.ssl??o1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=aj;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_L)throw new Z(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Tj(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Z(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Z(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Z(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,r){return s.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xh{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new l1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Z(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new l1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Y3;switch(s.type){case"firstParty":return new eV(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Z(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=a1.get(n);s&&(se("ComponentProvider","Removing Datastore"),a1.delete(n),s.terminate())}(this),Promise.resolve()}}function q6(t,e,n,s={}){var d;t=Nn(t,xh);const r=Ga(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;r&&(N2(`https://${l}`),_2("Firestore",!0)),a.host!==Ij&&a.host!==l&&La("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...a,host:l,ssl:r,emulatorOptions:s};if(!ki(c,o)&&(t._setSettings(c),s.mockUserToken)){let h,f;if(typeof s.mockUserToken=="string")h=s.mockUserToken,f=Bt.MOCK_USER;else{h=n4(s.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const p=s.mockUserToken.sub||s.mockUserToken.user_id;if(!p)throw new Z(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Bt(p)}t._authCredentials=new Q3(new yS(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Yr(this.firestore,e,this._query)}}class it{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new it(this.firestore,e,this._key)}toJSON(){return{type:it._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(rc(n,it._jsonSchema))return new it(e,s||null,new ue(Ue.fromString(n.referencePath)))}}it._jsonSchemaVersion="firestore/documentReference/1.0",it._jsonSchema={type:gt("string",it._jsonSchemaVersion),referencePath:gt("string")};class Ar extends Yr{constructor(e,n,s){super(e,n,ch(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new it(this.firestore,null,new ue(e))}withConverter(e){return new Ar(this.firestore,e,this._path)}}function cc(t,e,...n){if(t=Nt(t),xS("collection","path",e),t instanceof xh){const s=Ue.fromString(e,...n);return bw(s),new Ar(t,null,s)}{if(!(t instanceof it||t instanceof Ar))throw new Z(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Ue.fromString(e,...n));return bw(s),new Ar(t.firestore,null,s)}}function uc(t,e,...n){if(t=Nt(t),arguments.length===1&&(e=ty.newId()),xS("doc","path",e),t instanceof xh){const s=Ue.fromString(e,...n);return ww(s),new it(t,null,new ue(s))}{if(!(t instanceof it||t instanceof Ar))throw new Z(H.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Ue.fromString(e,...n));return ww(s),new it(t.firestore,t instanceof Ar?t.converter:null,new ue(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="AsyncQueue";class u1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new uj(this,"async_queue_retry"),this._c=()=>{const s=Vf();s&&se(c1,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Vf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Vf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Rs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Xa(e))throw e;se(c1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,Us("INTERNAL UNHANDLED ERROR: ",d1(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=vy.createAndSchedule(this,e,n,s,a=>this.hc(a));return this.tc.push(r),r}uc(){this.nc&&ge(47125,{Pc:d1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function d1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(t){return function(n,s){if(typeof n!="object"||n===null)return!1;const r=n;for(const a of s)if(a in r&&typeof r[a]=="function")return!0;return!1}(t,["next","error","complete"])}class zr extends xh{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new u1,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new u1(e),this._firestoreClient=void 0,await e}}}function G6(t,e){const n=typeof t=="object"?t:T2(),s=typeof t=="string"?t:vd,r=zg(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const a=e4("firestore");a&&q6(r,...a)}return r}function vh(t){if(t._terminated)throw new Z(H.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||K6(t),t._firestoreClient}function K6(t){var s,r,a;const e=t._freezeSettings(),n=function(l,c,d,h){return new yV(l,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Tj(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((s=t._app)==null?void 0:s.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(r=e.localCache)!=null&&r._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new U6(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dn(Lt.fromBase64String(e))}catch(n){throw new Z(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Dn(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Dn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(rc(e,Dn._jsonSchema))return Dn.fromBase64String(e.bytes)}}Dn._jsonSchemaVersion="firestore/bytes/1.0",Dn._jsonSchema={type:gt("string",Dn._jsonSchemaVersion),bytes:gt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fs._jsonSchemaVersion}}static fromJSON(e){if(rc(e,fs._jsonSchema))return new fs(e.latitude,e.longitude)}}fs._jsonSchemaVersion="firestore/geoPoint/1.0",fs._jsonSchema={type:gt("string",fs._jsonSchemaVersion),latitude:gt("number"),longitude:gt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,r){if(s.length!==r.length)return!1;for(let a=0;a<s.length;++a)if(s[a]!==r[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ms._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(rc(e,ms._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ms(e.vectorValues);throw new Z(H.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ms._jsonSchemaVersion="firestore/vectorValue/1.0",ms._jsonSchema={type:gt("string",ms._jsonSchemaVersion),vectorValues:gt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6=/^__.*__$/;class Y6{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Jr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ic(e,this.data,n,this.fieldTransforms)}}class kj{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Jr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Cj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge(40011,{Ac:t})}}class Iy{constructor(e,n,s,r,a,o){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Iy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var r;const n=(r=this.path)==null?void 0:r.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var r;const n=(r=this.path)==null?void 0:r.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Id(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Cj(this.Ac)&&J6.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Q6{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||ph(e)}Cc(e,n,s,r=!1){return new Iy({Ac:e,methodName:n,Dc:s,path:Rt.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nh(t){const e=t._freezeSettings(),n=ph(t._databaseId);return new Q6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Aj(t,e,n,s,r,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,n,r);Cy("Data must be an object, but it was:",o,s);const l=Pj(s,o);let c,d;if(a.merge)c=new wn(o.fieldMask),d=o.fieldTransforms;else if(a.mergeFields){const h=[];for(const f of a.mergeFields){const p=gp(e,f,n);if(!o.contains(p))throw new Z(H.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);Dj(h,p)||h.push(p)}c=new wn(h),d=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,d=o.fieldTransforms;return new Y6(new rn(l),c,d)}class _h extends bh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _h}}class ky extends bh{_toFieldTransform(e){return new zV(e.path,new Ol)}isEqual(e){return e instanceof ky}}function X6(t,e,n,s){const r=t.Cc(1,e,n);Cy("Data must be an object, but it was:",r,s);const a=[],o=rn.empty();Kr(s,(c,d)=>{const h=Ay(e,c,n);d=Nt(d);const f=r.yc(h);if(d instanceof _h)a.push(h);else{const p=dc(d,f);p!=null&&(a.push(h),o.set(h,p))}});const l=new wn(a);return new kj(o,l,r.fieldTransforms)}function Z6(t,e,n,s,r,a){const o=t.Cc(1,e,n),l=[gp(e,s,n)],c=[r];if(a.length%2!=0)throw new Z(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<a.length;p+=2)l.push(gp(e,a[p])),c.push(a[p+1]);const d=[],h=rn.empty();for(let p=l.length-1;p>=0;--p)if(!Dj(d,l[p])){const x=l[p];let j=c[p];j=Nt(j);const _=o.yc(x);if(j instanceof _h)d.push(x);else{const k=dc(j,_);k!=null&&(d.push(x),h.set(x,k))}}const f=new wn(d);return new kj(h,f,o.fieldTransforms)}function eM(t,e,n,s=!1){return dc(n,t.Cc(s?4:3,e))}function dc(t,e){if(Rj(t=Nt(t)))return Cy("Unsupported field value:",e,t),Pj(t,e);if(t instanceof bh)return function(s,r){if(!Cj(r.Ac))throw r.Sc(`${s._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${s._methodName}() is not currently supported inside arrays`);const a=s._toFieldTransform(r);a&&r.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,r){const a=[];let o=0;for(const l of s){let c=dc(l,r.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),o++}return{arrayValue:{values:a}}}(t,e)}return function(s,r){if((s=Nt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return $V(r.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const a=Ge.fromDate(s);return{timestampValue:_d(r.serializer,a)}}if(s instanceof Ge){const a=new Ge(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:_d(r.serializer,a)}}if(s instanceof fs)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Dn)return{bytesValue:ZS(r.serializer,s._byteString)};if(s instanceof it){const a=r.databaseId,o=s.firestore._databaseId;if(!o.isEqual(a))throw r.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:uy(s.firestore._databaseId||r.databaseId,s._key.path)}}if(s instanceof ms)return function(o,l){return{mapValue:{fields:{[TS]:{stringValue:IS},[wd]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw l.Sc("VectorValues must only contain numeric values.");return oy(l.serializer,d)})}}}}}}(s,r);throw r.Sc(`Unsupported field value: ${ih(s)}`)}(t,e)}function Pj(t,e){const n={};return bS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Kr(t,(s,r)=>{const a=dc(r,e.mc(s));a!=null&&(n[s]=a)}),{mapValue:{fields:n}}}function Rj(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ge||t instanceof fs||t instanceof Dn||t instanceof it||t instanceof bh||t instanceof ms)}function Cy(t,e,n){if(!Rj(n)||!vS(n)){const s=ih(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function gp(t,e,n){if((e=Nt(e))instanceof wh)return e._internalPath;if(typeof e=="string")return Ay(t,e);throw Id("Field path arguments must be of type string or ",t,!1,void 0,n)}const tM=new RegExp("[~\\*/\\[\\]]");function Ay(t,e,n){if(e.search(tM)>=0)throw Id(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wh(...e.split("."))._internalPath}catch{throw Id(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Id(t,e,n,s,r){const a=s&&!s.isEmpty(),o=r!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||o)&&(c+=" (found",a&&(c+=` in field ${s}`),o&&(c+=` in document ${r}`),c+=")"),new Z(H.INVALID_ARGUMENT,l+t+c)}function Dj(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e,n,s,r,a){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new it(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Py("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class nM extends Vj{data(){return super.data()}}function Py(t,e){return typeof e=="string"?Ay(t,e):e instanceof wh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Z(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ry{}class Mj extends Ry{}function Oj(t,e,...n){let s=[];e instanceof Ry&&s.push(e),s=s.concat(n),function(a){const o=a.filter(c=>c instanceof Vy).length,l=a.filter(c=>c instanceof Dy).length;if(o>1||o>0&&l>0)throw new Z(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const r of s)t=r._apply(t);return t}class Dy extends Mj{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Dy(e,n,s)}_apply(e){const n=this._parse(e);return $j(e._query,n),new Yr(e.firestore,e.converter,ip(e._query,n))}_parse(e){const n=Nh(e.firestore);return function(a,o,l,c,d,h,f){let p;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Z(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){m1(f,h);const j=[];for(const _ of f)j.push(f1(c,a,_));p={arrayValue:{values:j}}}else p=f1(c,a,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||m1(f,h),p=eM(l,o,f,h==="in"||h==="not-in");return pt.create(d,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Vy extends Ry{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Vy(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Xn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,a){let o=r;const l=a.getFlattenedFilters();for(const c of l)$j(o,c),o=ip(o,c)}(e._query,n),new Yr(e.firestore,e.converter,ip(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ly extends Mj{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ly(e,n)}_apply(e){const n=function(r,a,o){if(r.startAt!==null)throw new Z(H.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Z(H.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ml(a,o)}(e._query,this._field,this._direction);return new Yr(e.firestore,e.converter,function(r,a){const o=r.explicitOrderBy.concat([a]);return new Za(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function Fj(t,e="asc"){const n=e,s=Py("orderBy",t);return Ly._create(s,n)}function f1(t,e,n){if(typeof(n=Nt(n))=="string"){if(n==="")throw new Z(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!LS(e)&&n.indexOf("/")!==-1)throw new Z(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Ue.fromString(n));if(!ue.isDocumentKey(s))throw new Z(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return kw(t,new ue(s))}if(n instanceof it)return kw(t,n._key);throw new Z(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ih(n)}.`)}function m1(t,e){if(!Array.isArray(t)||t.length===0)throw new Z(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $j(t,e){const n=function(r,a){for(const o of r)for(const l of o.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Z(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Z(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class sM{convertValue(e,n="none"){switch($r(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ge(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Kr(e,(r,a)=>{s[r]=this.convertValue(a,n)}),s}convertVectorValue(e){var s,r,a;const n=(a=(r=(s=e.fields)==null?void 0:s[wd].arrayValue)==null?void 0:r.values)==null?void 0:a.map(o=>lt(o.doubleValue));return new ms(n)}convertGeoPoint(e){return new fs(lt(e.latitude),lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=lh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Dl(e));default:return null}}convertTimestamp(e){const n=Or(e);return new Ge(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ue.fromString(e);Re(ij(s),9688,{name:e});const r=new Vl(s.get(1),s.get(3)),a=new ue(s.popFirst(5));return r.isEqual(n)||Us(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uj(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class Bo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bi extends Vj{constructor(e,n,s,r,a,o){super(e,n,s,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ju(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Py("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Z(H.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=bi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}bi._jsonSchemaVersion="firestore/documentSnapshot/1.0",bi._jsonSchema={type:gt("string",bi._jsonSchemaVersion),bundleSource:gt("string","DocumentSnapshot"),bundleName:gt("string"),bundle:gt("string")};class ju extends bi{data(e={}){return super.data(e)}}class Ni{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Bo(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new ju(this._firestore,this._userDataWriter,s.key,s,new Bo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(l=>{const c=new ju(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Bo(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>a||l.type!==3).map(l=>{const c=new ju(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Bo(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,h=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:rM(l.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Z(H.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ni._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ty.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],r=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),s.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),r.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function rM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(t){t=Nn(t,it);const e=Nn(t.firestore,zr);return H6(vh(e),t._key).then(n=>Wj(e,t,n))}Ni._jsonSchemaVersion="firestore/querySnapshot/1.0",Ni._jsonSchema={type:gt("string",Ni._jsonSchemaVersion),bundleSource:gt("string","QuerySnapshot"),bundleName:gt("string"),bundle:gt("string")};class My extends sM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new it(this.firestore,null,n)}}function Bj(t){t=Nn(t,Yr);const e=Nn(t.firestore,zr),n=vh(e),s=new My(e);return Lj(t._query),W6(n,t._query).then(r=>new Ni(e,s,t,r))}function aM(t,e,n){t=Nn(t,it);const s=Nn(t.firestore,zr),r=Uj(t.converter,e,n);return Oy(s,[Aj(Nh(s),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,Yn.none())])}function zj(t,e,n,...s){t=Nn(t,it);const r=Nn(t.firestore,zr),a=Nh(r);let o;return o=typeof(e=Nt(e))=="string"||e instanceof wh?Z6(a,"updateDoc",t._key,e,n,s):X6(a,"updateDoc",t._key,e),Oy(r,[o.toMutation(t._key,Yn.exists(!0))])}function oM(t,e){const n=Nn(t.firestore,zr),s=uc(t),r=Uj(t.converter,e);return Oy(n,[Aj(Nh(t.firestore),"addDoc",s._key,r,t.converter!==null,{}).toMutation(s._key,Yn.exists(!1))]).then(()=>s)}function Hj(t,...e){var c,d,h;t=Nt(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||h1(e[s])||(n=e[s++]);const r={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(h1(e[s])){const f=e[s];e[s]=(c=f.next)==null?void 0:c.bind(f),e[s+1]=(d=f.error)==null?void 0:d.bind(f),e[s+2]=(h=f.complete)==null?void 0:h.bind(f)}let a,o,l;if(t instanceof it)o=Nn(t.firestore,zr),l=ch(t._key.path),a={next:f=>{e[s]&&e[s](Wj(o,t,f))},error:e[s+1],complete:e[s+2]};else{const f=Nn(t,Yr);o=Nn(f.firestore,zr),l=f._query;const p=new My(o);a={next:x=>{e[s]&&e[s](new Ni(o,p,f,x))},error:e[s+1],complete:e[s+2]},Lj(t._query)}return function(p,x,j,_){const k=new Ty(_),S=new Sy(x,k,j);return p.asyncQueue.enqueueAndForget(async()=>by(await Td(p),S)),()=>{k.Nu(),p.asyncQueue.enqueueAndForget(async()=>Ny(await Td(p),S))}}(vh(o),l,r,a)}function Oy(t,e){return function(s,r){const a=new Rs;return s.asyncQueue.enqueueAndForget(async()=>P6(await z6(s),r,a)),a.promise}(vh(t),e)}function Wj(t,e,n){const s=n.docs.get(e._key),r=new My(t);return new bi(t,r,e._key,s,new Bo(n.hasPendingWrites,n.fromCache),e.converter)}function Sh(){return new ky("serverTimestamp")}(function(e,n=!0){(function(r){Ya=r})(Ka),Da(new Ci("firestore",(s,{instanceIdentifier:r,options:a})=>{const o=s.getProvider("app").getImmediate(),l=new zr(new X3(s.getProvider("auth-internal")),new tV(o,s.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Z(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vl(d.options.projectId,h)}(o,r),o);return a={useFetchStreams:n,...a},l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),kr(gw,yw,e),kr(gw,yw,"esm2020")})();const lM={apiKey:"AIzaSyA4oe_gqt8NOWC6VCEfJYbznsVQuoyIJC4",authDomain:"saxovault-d94c5.firebaseapp.com",projectId:"saxovault-d94c5",storageBucket:"saxovault-d94c5.firebasestorage.app",messagingSenderId:"61739859282",appId:"1:61739859282:web:e33555e56540b7aee20e8b",measurementId:"G-RC1Y2MJJVS"},qj=E2(lM),Vi=K3(qj),ys=G6(qj),Gj=new Ns;Gj.setCustomParameters({prompt:"select_account"});const Fy=async t=>{try{return await aM(uc(ys,"users",t.uid),{...t,updatedAt:Sh()},{merge:!0}),console.log(" User saved to Firestore:",t.email),{success:!0}}catch(e){return console.error(" Error saving user to Firestore:",e),{success:!1,error:e.message}}},$y=async t=>{try{const e=uc(ys,"users",t),n=await iM(e);return n.exists()?{success:!0,data:n.data()}:{success:!1,error:"User not found"}}catch(e){return console.error(" Error getting user from Firestore:",e),{success:!1,error:e.message}}},Kj=async()=>{try{const t=await Bj(cc(ys,"users")),e=[];return t.forEach(n=>{e.push({id:n.id,...n.data()})}),console.log(" Fetched",e.length,"users from Firestore"),{success:!0,data:e}}catch(t){return console.error(" Error getting users from Firestore:",t),{success:!1,error:t.message}}},Uy=async(t,e)=>{try{return await zj(uc(ys,"users",t),{...e,updatedAt:Sh()}),console.log(" User updated in Firestore"),{success:!0}}catch(n){return console.error(" Error updating user in Firestore:",n),{success:!1,error:n.message}}},yp=async t=>{try{const e=await oM(cc(ys,"transactions"),{...t,createdAt:Sh(),status:t.status||"pending"});return console.log(" Transaction added to Firestore:",e.id),{success:!0,id:e.id}}catch(e){return console.error(" Error adding transaction to Firestore:",e),{success:!1,error:e.message}}},xp=async()=>{try{const t=Oj(cc(ys,"transactions"),Fj("createdAt","desc")),e=await Bj(t),n=[];return e.forEach(s=>{var a,o,l;const r=s.data();n.push({id:s.id,...r,createdAt:((l=(o=(a=r.createdAt)==null?void 0:a.toDate)==null?void 0:o.call(a))==null?void 0:l.toISOString())||r.createdAt})}),console.log(" Fetched",n.length,"transactions from Firestore"),{success:!0,data:n}}catch(t){return console.error(" Error getting transactions from Firestore:",t),{success:!1,error:t.message}}},kd=async(t,e)=>{try{return await zj(uc(ys,"transactions",t),{...e,updatedAt:Sh()}),console.log(" Transaction updated in Firestore"),{success:!0}}catch(n){return console.error(" Error updating transaction in Firestore:",n),{success:!1,error:n.message}}},Jj=t=>{const e=Oj(cc(ys,"transactions"),Fj("createdAt","desc"));return Hj(e,n=>{const s=[];n.forEach(r=>{var o,l,c;const a=r.data();s.push({id:r.id,...a,createdAt:((c=(l=(o=a.createdAt)==null?void 0:o.toDate)==null?void 0:l.call(o))==null?void 0:c.toISOString())||a.createdAt})}),t(s)})},Yj=t=>Hj(cc(ys,"users"),e=>{const n=[];e.forEach(s=>{n.push({id:s.id,...s.data()})}),t(n)}),Qj=async()=>{try{const e=(await s3(Vi,Gj)).user,n=await $y(e.uid);let s,r=!1;return!n.success||!n.data?(r=!0,s={uid:e.uid,email:e.email,name:e.displayName||"",phone:"",country:"",referralCode:"",createdAt:new Date().toISOString(),balance:0,signInMethod:"google",photoURL:e.photoURL||""},await Fy(s),localStorage.setItem(`user_${e.uid}`,JSON.stringify(s))):(s=n.data,e.photoURL&&e.photoURL!==s.photoURL&&(s.photoURL=e.photoURL,await Uy(e.uid,{photoURL:e.photoURL})),localStorage.setItem(`user_${e.uid}`,JSON.stringify(s))),{success:!0,user:e,userData:s,isNewUser:r}}catch(t){let e="Google sign-in failed. Please try again.";switch(t.code){case"auth/popup-closed-by-user":e="Sign-in popup was closed. Please try again.";break;case"auth/popup-blocked":e="Popup was blocked. Please allow popups for this site.";break;case"auth/cancelled-popup-request":e="Sign-in was cancelled.";break;case"auth/account-exists-with-different-credential":e="An account already exists with this email using a different sign-in method.";break;default:e=t.message}return{success:!1,error:e}}},Xj=async(t,e,n)=>{try{const r=(await PD(Vi,t,e)).user;await VD(r,{displayName:n.name||""});const a=Math.random().toString(36).substring(2,8).toUpperCase(),o=new Date(Date.now()+24*60*60*1e3).toISOString(),l={uid:r.uid,email:t,name:n.name||"",phone:n.phone||"",country:n.country||"",referralCode:n.referralCode||"",createdAt:new Date().toISOString(),balance:0,signInMethod:"email",emailVerified:!1,verificationToken:a,verificationExpiry:o};try{await Fy(l),console.log(" User saved to Firestore")}catch(d){console.error(" Firestore save failed, will retry on login:",d)}localStorage.setItem(`user_${r.uid}`,JSON.stringify(l));const c=JSON.parse(localStorage.getItem("saxovault_pending_verifications")||"{}");return c[t]={uid:r.uid,token:a,expiry:o,name:n.name},localStorage.setItem("saxovault_pending_verifications",JSON.stringify(c)),window.pendingVerificationData={email:t,name:n.name,token:a,uid:r.uid},{success:!0,user:r,verificationToken:a,message:"Account created! Please check your email to verify your account."}}catch(s){let r="Registration failed. Please try again.";switch(s.code){case"auth/email-already-in-use":r='This email is already registered. Please login instead. If you cannot login, use "Forgot Password" to reset.';break;case"auth/weak-password":r="Password is too weak. Please use at least 8 characters with uppercase, lowercase, number, and symbol.";break;case"auth/invalid-email":r="Please enter a valid email address.";break;default:r=s.message}return{success:!1,error:r}}},Zj=async(t,e)=>{try{const s=(await RD(Vi,t,e)).user;let r;const a=await $y(s.uid);if(a.success&&a.data)r=a.data;else{const o=localStorage.getItem(`user_${s.uid}`);o?r=JSON.parse(o):r={uid:s.uid,email:s.email,name:s.displayName||"",balance:0,emailVerified:!1}}return r.emailVerified?(localStorage.setItem(`user_${s.uid}`,JSON.stringify(r)),{success:!0,user:s,userData:r}):(await X2(Vi),{success:!1,needsVerification:!0,uid:s.uid,email:t,name:r.name,error:"Please verify your email first. Check your inbox for the verification link."})}catch(n){let s="Login failed. Please try again.";switch(n.code){case"auth/user-not-found":s="No account found with this email.";break;case"auth/wrong-password":s="Incorrect password. Please try again.";break;case"auth/invalid-email":s="Please enter a valid email address.";break;case"auth/too-many-requests":s="Too many failed attempts. Please try again later.";break;case"auth/invalid-credential":s="Invalid email or password.";break;default:s=n.message}return{success:!1,error:s}}},eE=async()=>{try{return await X2(Vi),{success:!0}}catch(t){return{success:!1,error:t.message}}},tE=async t=>{try{return await AD(Vi,t),{success:!0,message:"Password reset email sent! Check your inbox."}}catch(e){let n="Failed to send reset email.";switch(e.code){case"auth/user-not-found":n="No account found with this email.";break;case"auth/invalid-email":n="Please enter a valid email address.";break;default:n=e.message}return{success:!1,error:n}}},cM=Object.freeze(Object.defineProperty({__proto__:null,addTransactionToFirestore:yp,auth:Vi,db:ys,getAllTransactionsFromFirestore:xp,getAllUsersFromFirestore:Kj,getUserFromFirestore:$y,loginUser:Zj,logoutUser:eE,registerUser:Xj,resetPassword:tE,saveUserToFirestore:Fy,signInWithGoogle:Qj,subscribeToTransactions:Jj,subscribeToUsers:Yj,updateTransactionInFirestore:kd,updateUserInFirestore:Uy},Symbol.toStringTag,{value:"Module"}));D.createContext();const uM={navy:"#0a1628",navyLight:"#1a2d4a",gold:"#D4AF37",goldDark:"#b8962e",green:"#0FAF76",greenDark:"#0d9962",cream:"#faf8f5"},N=uM,dM={en:{welcome:"Welcome",dashboard:"Dashboard",investments:"Investments",deposit:"Deposit",withdraw:"Withdraw",balance:"Balance",pending:"Pending",approved:"Approved",home:"Home",profile:"Profile",settings:"Settings",logout:"Logout",login:"Login",register:"Register",email:"Email",password:"Password",name:"Name",phone:"Phone",submit:"Submit",cancel:"Cancel",confirm:"Confirm",amount:"Amount",history:"History",notifications:"Notifications",referral:"Referral",calculator:"Calculator",investNow:"Invest Now",minInvestment:"Min Investment",returns:"Returns",duration:"Duration",status:"Status",copyAddress:"Copy Address",paymentPending:"Payment Pending",transactionHistory:"Transaction History",noTransactions:"No transactions yet",securityTips:"Security Tips",activityLog:"Activity Log",viewAll:"View All",search:"Search",filter:"Filter",export:"Export",support:"Support",help:"Help",about:"About",terms:"Terms",privacy:"Privacy",contact:"Contact",language:"Language",darkMode:"Dark Mode",lightMode:"Light Mode"},es:{welcome:"Bienvenido",dashboard:"Panel",investments:"Inversiones",deposit:"Depositar",withdraw:"Retirar",balance:"Saldo",pending:"Pendiente",approved:"Aprobado",home:"Inicio",profile:"Perfil",settings:"Ajustes",logout:"Cerrar sesin",login:"Iniciar sesin",register:"Registrarse",email:"Correo",password:"Contrasea",name:"Nombre",phone:"Telfono",submit:"Enviar",cancel:"Cancelar",confirm:"Confirmar",amount:"Cantidad",history:"Historial",notifications:"Notificaciones",referral:"Referidos",calculator:"Calculadora",investNow:"Invertir Ahora",minInvestment:"Inversin Mnima",returns:"Retornos",duration:"Duracin",status:"Estado",copyAddress:"Copiar Direccin",paymentPending:"Pago Pendiente",transactionHistory:"Historial de Transacciones",noTransactions:"Sin transacciones",securityTips:"Consejos de Seguridad",activityLog:"Registro de Actividad",viewAll:"Ver Todo",search:"Buscar",filter:"Filtrar",export:"Exportar",support:"Soporte",help:"Ayuda",about:"Acerca de",terms:"Trminos",privacy:"Privacidad",contact:"Contacto",language:"Idioma",darkMode:"Modo Oscuro",lightMode:"Modo Claro"},fr:{welcome:"Bienvenue",dashboard:"Tableau de bord",investments:"Investissements",deposit:"Dpt",withdraw:"Retirer",balance:"Solde",pending:"En attente",approved:"Approuv",home:"Accueil",profile:"Profil",settings:"Paramtres",logout:"Dconnexion",login:"Connexion",register:"S'inscrire",email:"E-mail",password:"Mot de passe",name:"Nom",phone:"Tlphone",submit:"Soumettre",cancel:"Annuler",confirm:"Confirmer",amount:"Montant",history:"Historique",notifications:"Notifications",referral:"Parrainage",calculator:"Calculatrice",investNow:"Investir Maintenant",minInvestment:"Investissement Min",returns:"Rendements",duration:"Dure",status:"Statut",copyAddress:"Copier l'adresse",paymentPending:"Paiement en attente",transactionHistory:"Historique des transactions",noTransactions:"Aucune transaction",securityTips:"Conseils de scurit",activityLog:"Journal d'activit",viewAll:"Voir tout",search:"Rechercher",filter:"Filtrer",export:"Exporter",support:"Support",help:"Aide",about:" propos",terms:"Conditions",privacy:"Confidentialit",contact:"Contact",language:"Langue",darkMode:"Mode sombre",lightMode:"Mode clair"},de:{welcome:"Willkommen",dashboard:"bersicht",investments:"Investitionen",deposit:"Einzahlung",withdraw:"Auszahlung",balance:"Guthaben",pending:"Ausstehend",approved:"Genehmigt",home:"Startseite",profile:"Profil",settings:"Einstellungen",logout:"Abmelden",login:"Anmelden",register:"Registrieren",email:"E-Mail",password:"Passwort",name:"Name",phone:"Telefon",submit:"Absenden",cancel:"Abbrechen",confirm:"Besttigen",amount:"Betrag",history:"Verlauf",notifications:"Benachrichtigungen",referral:"Empfehlung",calculator:"Rechner",investNow:"Jetzt investieren",minInvestment:"Mindestanlage",returns:"Rendite",duration:"Laufzeit",status:"Status",copyAddress:"Adresse kopieren"},pt:{welcome:"Bem-vindo",dashboard:"Painel",investments:"Investimentos",deposit:"Depsito",withdraw:"Saque",balance:"Saldo",pending:"Pendente",approved:"Aprovado",home:"Incio",profile:"Perfil",settings:"Configuraes",logout:"Sair",login:"Entrar",register:"Cadastrar",email:"E-mail",password:"Senha",name:"Nome",phone:"Telefone",submit:"Enviar",cancel:"Cancelar",confirm:"Confirmar",amount:"Valor",history:"Histrico",notifications:"Notificaes",referral:"Indicao",calculator:"Calculadora",investNow:"Investir Agora"},it:{welcome:"Benvenuto",dashboard:"Pannello",investments:"Investimenti",deposit:"Deposito",withdraw:"Prelievo",balance:"Saldo",pending:"In attesa",approved:"Approvato",home:"Home",profile:"Profilo",settings:"Impostazioni",logout:"Esci",login:"Accedi",register:"Registrati",email:"Email",password:"Password",name:"Nome",phone:"Telefono",submit:"Invia",cancel:"Annulla",confirm:"Conferma",amount:"Importo",history:"Cronologia",investNow:"Investi Ora",minInvestment:"Investimento Minimo",returns:"Rendimenti",duration:"Durata"},nl:{welcome:"Welkom",dashboard:"Dashboard",investments:"Investeringen",deposit:"Storting",withdraw:"Opname",balance:"Saldo",pending:"In behandeling",approved:"Goedgekeurd",home:"Home",profile:"Profiel",settings:"Instellingen",logout:"Uitloggen",login:"Inloggen",register:"Registreren",investNow:"Nu Investeren"},ru:{welcome:" ",dashboard:"",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",email:". ",password:"",name:"",phone:"",submit:"",cancel:"",confirm:"",amount:"",history:"",investNow:"",minInvestment:". ",returns:"",duration:""},zh:{welcome:"",dashboard:"",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",email:"",password:"",name:"",phone:"",submit:"",cancel:"",confirm:"",amount:"",history:"",investNow:"",minInvestment:"",returns:"",duration:"",notifications:""},ja:{welcome:"",dashboard:"",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",email:"",password:"",name:"",phone:"",submit:"",cancel:"",confirm:"",amount:"",history:"",investNow:"",minInvestment:"",returns:"",duration:""},ko:{welcome:"",dashboard:"",investments:"",deposit:"",withdraw:"",balance:"",pending:" ",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",email:"",password:"",name:"",phone:"",submit:"",cancel:"",confirm:"",amount:"",history:"",investNow:" ",minInvestment:" ",returns:"",duration:""},ar:{welcome:"",dashboard:" ",investments:"",deposit:"",withdraw:"",balance:"",pending:" ",approved:" ",home:"",profile:" ",settings:"",logout:" ",login:" ",register:"",email:" ",password:" ",name:"",phone:"",submit:"",cancel:"",confirm:"",amount:"",history:"",investNow:" ",minInvestment:"  ",returns:"",duration:""},hi:{welcome:" ",dashboard:"",investments:"",deposit:"",withdraw:"",balance:" ",pending:"",approved:"",home:"",profile:"",settings:"",logout:" ",login:" ",register:"",email:"",password:"",name:"",phone:"",submit:" ",cancel:" ",confirm:" ",amount:"",history:"",investNow:"  ",minInvestment:" ",returns:"",duration:""},tr:{welcome:"Ho geldiniz",dashboard:"Kontrol Paneli",investments:"Yatrmlar",deposit:"Para Yatr",withdraw:"Para ek",balance:"Bakiye",pending:"Beklemede",approved:"Onayland",home:"Ana Sayfa",profile:"Profil",settings:"Ayarlar",logout:"k",login:"Giri",register:"Kayt Ol",email:"E-posta",password:"ifre",name:"Ad",phone:"Telefon",submit:"Gnder",cancel:"ptal",confirm:"Onayla",amount:"Tutar",history:"Gemi",investNow:"imdi Yatrm Yap",minInvestment:"Min Yatrm",returns:"Getiri",duration:"Sre"},pl:{welcome:"Witamy",dashboard:"Panel",investments:"Inwestycje",deposit:"Wpata",withdraw:"Wypata",balance:"Saldo",pending:"Oczekujce",approved:"Zatwierdzone",home:"Strona gwna",profile:"Profil",settings:"Ustawienia",logout:"Wyloguj",login:"Zaloguj",register:"Zarejestruj",investNow:"Inwestuj Teraz"},vi:{welcome:"Cho mng",dashboard:"Bng iu khin",investments:"u t",deposit:"Np tin",withdraw:"Rt tin",balance:"S d",pending:"ang ch",approved:" duyt",home:"Trang ch",profile:"H s",settings:"Ci t",logout:"ng xut",login:"ng nhp",register:"ng k",investNow:"u t ngay"},th:{welcome:"",dashboard:"",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",investNow:""},id:{welcome:"Selamat datang",dashboard:"Dasbor",investments:"Investasi",deposit:"Setor",withdraw:"Tarik",balance:"Saldo",pending:"Tertunda",approved:"Disetujui",home:"Beranda",profile:"Profil",settings:"Pengaturan",logout:"Keluar",login:"Masuk",register:"Daftar",investNow:"Investasi Sekarang"},ms:{welcome:"Selamat datang",dashboard:"Papan pemuka",investments:"Pelaburan",deposit:"Deposit",withdraw:"Pengeluaran",balance:"Baki",pending:"Menunggu",approved:"Diluluskan",home:"Laman utama",profile:"Profil",settings:"Tetapan",logout:"Log keluar",login:"Log masuk",register:"Daftar",investNow:"Labur Sekarang"},tl:{welcome:"Maligayang pagdating",dashboard:"Dashboard",investments:"Mga Pamumuhunan",deposit:"Deposito",withdraw:"Withdraw",balance:"Balanse",pending:"Nakabinbin",approved:"Aprubado",home:"Home",profile:"Profile",settings:"Settings",logout:"Mag-logout",login:"Mag-login",register:"Mag-register",investNow:"Mamuhunan Ngayon"},el:{welcome:" ",dashboard:" ",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",investNow:" "},cs:{welcome:"Vtejte",dashboard:"Pehled",investments:"Investice",deposit:"Vklad",withdraw:"Vbr",balance:"Zstatek",pending:"ekajc",approved:"Schvleno",home:"Dom",profile:"Profil",settings:"Nastaven",logout:"Odhlsit",login:"Pihlsit",register:"Registrace",investNow:"Investovat nyn"},sv:{welcome:"Vlkommen",dashboard:"Instrumentpanel",investments:"Investeringar",deposit:"Insttning",withdraw:"Uttag",balance:"Saldo",pending:"Vntande",approved:"Godknd",home:"Hem",profile:"Profil",settings:"Instllningar",logout:"Logga ut",login:"Logga in",register:"Registrera",investNow:"Investera Nu"},no:{welcome:"Velkommen",dashboard:"Kontrollpanel",investments:"Investeringer",deposit:"Innskudd",withdraw:"Uttak",balance:"Saldo",pending:"Venter",approved:"Godkjent",home:"Hjem",profile:"Profil",settings:"Innstillinger",logout:"Logg ut",login:"Logg inn",register:"Registrer",investNow:"Invester N"},da:{welcome:"Velkommen",dashboard:"Kontrolpanel",investments:"Investeringer",deposit:"Indbetaling",withdraw:"Udbetaling",balance:"Saldo",pending:"Afventer",approved:"Godkendt",home:"Hjem",profile:"Profil",settings:"Indstillinger",logout:"Log ud",login:"Log ind",register:"Registrer",investNow:"Invester Nu"},fi:{welcome:"Tervetuloa",dashboard:"Hallintapaneeli",investments:"Sijoitukset",deposit:"Talletus",withdraw:"Nosto",balance:"Saldo",pending:"Odottaa",approved:"Hyvksytty",home:"Etusivu",profile:"Profiili",settings:"Asetukset",logout:"Kirjaudu ulos",login:"Kirjaudu",register:"Rekisteridy",investNow:"Sijoita Nyt"},he:{welcome:" ",dashboard:" ",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",investNow:" "},uk:{welcome:" ",dashboard:"",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",investNow:" "},ro:{welcome:"Bun venit",dashboard:"Panou",investments:"Investiii",deposit:"Depunere",withdraw:"Retragere",balance:"Sold",pending:"n ateptare",approved:"Aprobat",home:"Acas",profile:"Profil",settings:"Setri",logout:"Deconectare",login:"Conectare",register:"nregistrare",investNow:"Investete Acum"},hu:{welcome:"dvzljk",dashboard:"Irnytpult",investments:"Befektetsek",deposit:"Befizets",withdraw:"Kifizets",balance:"Egyenleg",pending:"Fggben",approved:"Jvhagyott",home:"Foldal",profile:"Profil",settings:"Belltsok",logout:"Kijelentkezs",login:"Bejelentkezs",register:"Regisztrci",investNow:"Befektets Most"},bn:{welcome:"",dashboard:"",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",investNow:"  "},sw:{welcome:"Karibu",dashboard:"Dashibodi",investments:"Uwekezaji",deposit:"Amana",withdraw:"Kutoa",balance:"Salio",pending:"Inasubiri",approved:"Imeidhinishwa",home:"Nyumbani",profile:"Wasifu",settings:"Mipangilio",logout:"Ondoka",login:"Ingia",register:"Jisajili",investNow:"Wekeza Sasa"},yo:{welcome:" kb",dashboard:"Pnl",investments:"dkw",deposit:"fipam",withdraw:"mkr",balance:"yk",pending:" dr",approved:"Ti fws",home:"Il",profile:"ksl",settings:"t",investNow:"e dkw by"},ha:{welcome:"Barka da zuwa",dashboard:"Dashboard",investments:"Saka hannun jari",deposit:"Ajiya",withdraw:"Cire kui",balance:"Ragowar kui",pending:"Ana jira",approved:"An amince",home:"Gida",profile:"Bayani",settings:"Saiti",investNow:"Saka hannun jari yanzu"},ig:{welcome:"Nn",dashboard:"Dashboard",investments:"Ntinye ego",deposit:"Tinyere ego",withdraw:"Wepu ego",balance:"Ego fdr",pending:"Na-echere",approved:"Kwadoro",home:"l",profile:"Profal",settings:"Ntala",investNow:"Tinye ego ugbu a"}},p1={en:"English",es:"Espaol",fr:"Franais",de:"Deutsch",pt:"Portugus",it:"Italiano",nl:"Nederlands",ru:"",zh:"",ja:"",ko:"",ar:"",hi:"",tr:"Trke",pl:"Polski",vi:"Ting Vit",th:"",id:"Bahasa Indonesia",ms:"Bahasa Melayu",tl:"Filipino",el:"",cs:"etina",sv:"Svenska",no:"Norsk",da:"Dansk",fi:"Suomi",he:"",uk:"",ro:"Romn",hu:"Magyar",bn:"",sw:"Kiswahili",yo:"Yorb",ha:"Hausa",ig:"Igbo"},hM=()=>{const e=(navigator.language||navigator.userLanguage).split("-")[0].toLowerCase();return dM[e]?e:"en"},fM=()=>localStorage.getItem("saxovault_language")||hM(),nE=()=>i.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3 py-4",children:[i.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-gray-100 rounded-lg",children:[i.jsx(Lr,{className:"w-4 h-4 text-green-600"}),i.jsx("span",{className:"text-xs text-gray-600",children:"256-bit SSL"})]}),i.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-gray-100 rounded-lg",children:[i.jsx(jr,{className:"w-4 h-4 text-blue-600"}),i.jsx("span",{className:"text-xs text-gray-600",children:"Bank-Level Security"})]}),i.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-gray-100 rounded-lg",children:[i.jsx(I5,{className:"w-4 h-4 text-yellow-600"}),i.jsx("span",{className:"text-xs text-gray-600",children:"Licensed"})]})]});function mM({onComplete:t}){const[e,n]=D.useState(0),s=[{title:"Welcome to SaxoVault! ",description:"Your journey to smart investing starts here. Let us show you around.",icon:""},{title:"Explore Investments",description:"Browse our curated investment opportunities across real estate, crypto, stocks, and more.",icon:""},{title:"Easy Deposits",description:"Fund your account instantly using Bitcoin, Ethereum, or USDT cryptocurrency.",icon:""},{title:"Track Your Portfolio",description:"Monitor your investments, returns, and transaction history from your dashboard.",icon:""},{title:"Secure & Trusted",description:"Your investments are protected with bank-level security and 24/7 support.",icon:""}],r=()=>{if(e<s.length-1)n(e+1);else{const o=JSON.parse(localStorage.getItem("saxovault_current_user")||"{}");o.uid&&localStorage.setItem(`saxovault_onboarding_${o.uid}`,"true"),localStorage.setItem("saxovault_onboarding_complete","true"),t()}},a=()=>{const o=JSON.parse(localStorage.getItem("saxovault_current_user")||"{}");o.uid&&localStorage.setItem(`saxovault_onboarding_${o.uid}`,"true"),localStorage.setItem("saxovault_onboarding_complete","true"),t()};return i.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:i.jsxs(F.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl p-6 max-w-md w-full text-center shadow-2xl",children:[i.jsx("div",{className:"flex gap-1 mb-6 justify-center",children:s.map((o,l)=>i.jsx("div",{className:`h-1 rounded-full transition-all ${l<=e?"w-8":"w-4"}`,style:{background:l<=e?N.gold:"#e5e7eb"}},l))}),i.jsx("div",{className:"text-5xl mb-4",children:s[e].icon}),i.jsx("h2",{className:"font-serif text-xl mb-2",style:{color:N.navy},children:s[e].title}),i.jsx("p",{className:"text-gray-500 text-sm mb-6",children:s[e].description}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:a,className:"flex-1 py-3 rounded-xl text-gray-500 text-sm hover:bg-gray-100",children:"Skip"}),i.jsx(F.button,{onClick:r,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 py-3 rounded-xl text-white text-sm font-medium",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:e===s.length-1?"Let's Go!":"Next"})]})]})})}const qe={hero:"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?w=1920&q=80",realEstate1:"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?w=800&q=80",realEstate2:"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=800&q=80",realEstate3:"https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=800&q=80",crypto1:"https://images.unsplash.com/photo-1518546305927-5a555bb7020d?w=800&q=80",crypto2:"https://images.unsplash.com/photo-1621761191319-c6fb62004040?w=800&q=80",crypto3:"https://images.unsplash.com/photo-1516245834210-c4c142787335?w=800&q=80",stocks1:"https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?w=800&q=80",stocks2:"https://images.unsplash.com/photo-1590283603385-17ffb3a7f29f?w=800&q=80",stocks3:"https://images.unsplash.com/photo-1642790106117-e829e14a795f?w=800&q=80",gold1:"https://images.unsplash.com/photo-1610375461246-83df859d849d?w=800&q=80",gold2:"https://images.unsplash.com/photo-1624365168968-f283d506c6b6?w=800&q=80",plans1:"https://images.unsplash.com/photo-1554224155-6726b3ff858f?w=800&q=80",plans2:"https://images.unsplash.com/photo-1579621970563-ebec7560ff3e?w=800&q=80",plans3:"https://images.unsplash.com/photo-1553729459-efe14ef6055d?w=800&q=80"},jh=[{id:100,name:"Starter Trial",category:"Trial Plan",type:"crypto",min:500,max:500,returns:"5%",term:"5 days",desc:"Experience our platform with a $500 trial investment. Earn 1% daily profit for 5 days. Access your daily profits anytime - withdraw accumulated earnings while your capital works. Principal returned after plan completion. Limited to one trial per account.",progress:98,goal:5e5,img:qe.crypto1,features:["1% Daily Profit","5-Day Duration","Withdraw Daily Profits","Capital Protected","One Per Account"],investors:24853,rating:5,status:"Active",payoutSchedule:"Daily Access",dailyRate:1,totalDays:5,isTestPlan:!0,onePerUser:!0,allowDailyWithdraw:!0},{id:5,name:"Crypto Starter",category:"Cryptocurrency",type:"crypto",min:1e3,max:14999,returns:"8-12%",term:"30 days",desc:"Begin your crypto journey with our entry-level fund. Diversified portfolio of Bitcoin, Ethereum, and top-performing altcoins managed by our expert trading team. Daily profit tracking available.",progress:94,goal:5e6,img:qe.crypto1,features:["Daily Profit Access","BTC & ETH Core","Professional Management","Weekly Reports"],investors:12458,rating:4.8,status:"Active",payoutSchedule:"Daily Access",dailyRate:.33,totalDays:30,allowDailyWithdraw:!0},{id:6,name:"Crypto Growth",category:"Cryptocurrency",type:"crypto",min:15e3,max:29999,returns:"12-18%",term:"45 days",desc:"Accelerate your returns with our growth-focused crypto fund. Strategic allocation across top 20 cryptocurrencies with active rebalancing and DeFi yield optimization strategies.",progress:91,goal:1e7,img:qe.crypto2,features:["Daily Profit Access","Top 20 Cryptos","Active Rebalancing","Bi-Weekly Updates"],investors:6234,rating:4.8,status:"Active",payoutSchedule:"Daily Access",dailyRate:.33,totalDays:45,allowDailyWithdraw:!0},{id:7,name:"Crypto Pro",category:"Cryptocurrency",type:"crypto",min:3e4,max:49999,returns:"18-25%",term:"60 days",desc:"Professional-grade crypto investment with advanced DeFi strategies. Access yield farming, liquidity pools, and arbitrage opportunities. Dedicated support and priority execution included.",progress:87,goal:15e6,img:qe.crypto3,features:["Daily Profit Access","DeFi Strategies","Yield Farming","Priority Support"],investors:3876,rating:4.9,status:"Active",payoutSchedule:"Daily Access",dailyRate:.35,totalDays:60,allowDailyWithdraw:!0},{id:17,name:"Crypto Elite",category:"Cryptocurrency",type:"crypto",min:5e4,max:99999,returns:"25-35%",term:"90 days",desc:"Elite tier for serious investors. Combines algorithmic trading, market-making strategies, and exclusive pre-listing access. Personal account manager and custom reporting included.",progress:78,goal:25e6,img:qe.crypto1,features:["Daily Profit Access","Algo Trading","Pre-Listing Access","Personal Manager"],investors:1567,rating:4.9,status:"Active",payoutSchedule:"Daily Access",dailyRate:.33,totalDays:90,allowDailyWithdraw:!0},{id:18,name:"Crypto Premium",category:"Cryptocurrency",type:"crypto",min:1e5,max:249999,returns:"35-48%",term:"120 days",desc:"Premium crypto fund with institutional-grade strategies. OTC deals, venture investments, and maximum yield optimization. White-glove service with 24/7 dedicated support.",progress:68,goal:5e7,img:qe.crypto2,features:["Daily Profit Access","OTC Deals","Venture Access","24/7 VIP Support"],investors:487,rating:5,status:"Active",payoutSchedule:"Daily Access",dailyRate:.33,totalDays:120,allowDailyWithdraw:!0},{id:19,name:"Crypto Institutional",category:"Cryptocurrency",type:"crypto",min:25e4,returns:"48-65%",term:"180 days",desc:"Institutional-grade crypto portfolio for high-net-worth clients. Bespoke investment strategies, direct trader access, and comprehensive wealth management. Insurance-backed principal protection.",progress:55,goal:1e8,img:qe.crypto3,features:["Daily Profit Access","Bespoke Strategy","Direct Trader Access","Insurance Backed"],investors:156,rating:5,status:"Active",payoutSchedule:"Daily Access",dailyRate:.3,totalDays:180,allowDailyWithdraw:!0},{id:1,name:"Metro Prime REIT",category:"Real Estate",type:"real-estate",min:25e3,returns:"18-25%",term:"12 months",desc:"Premium commercial real estate portfolio featuring Class-A properties in major metropolitan areas. Stable rental income combined with capital appreciation. Quarterly dividend distributions.",progress:76,goal:25e6,img:qe.realEstate1,features:["Class-A Properties","Quarterly Dividends","Capital Appreciation","Tax Benefits"],investors:892,rating:4.9,status:"Active",dailyRate:.058,totalDays:365},{id:2,name:"Luxury Residences Fund",category:"Real Estate",type:"real-estate",min:25e3,returns:"22-30%",term:"18 months",desc:"Exclusive luxury residential developments in prime global locations. Benefit from property appreciation and rental yields in high-demand markets. Professional property management included.",progress:65,goal:35e6,img:qe.realEstate2,features:["Luxury Properties","Prime Locations","High Appreciation","Professional Mgmt"],investors:567,rating:4.8,status:"Active",dailyRate:.048,totalDays:540},{id:3,name:"Commercial Portfolio",category:"Real Estate",type:"real-estate",min:5e4,returns:"28-38%",term:"24 months",desc:"Diversified commercial real estate including office buildings, retail centers, and industrial properties. Long-term leases provide stable, predictable returns with upside potential.",progress:52,goal:75e6,img:qe.realEstate3,features:["Diversified Assets","Long-Term Leases","Stable Income","Capital Growth"],investors:324,rating:4.7,status:"Funding",dailyRate:.045,totalDays:730},{id:8,name:"Dividend Champions",category:"Stocks & Bonds",type:"stocks",min:5e3,returns:"12-18%",term:"12 months",desc:"Curated portfolio of dividend-paying stocks with proven track records. Focus on companies with 25+ years of consecutive dividend increases. Reliable quarterly income stream.",img:qe.stocks1,features:["Quarterly Dividends","Blue Chip Quality","25+ Year Track Record","Steady Income"],investors:3456,rating:4.9,status:"Open",dailyRate:.042,totalDays:365},{id:9,name:"Tech Leaders Fund",category:"Stocks & Bonds",type:"stocks",min:5e3,returns:"18-28%",term:"12 months",desc:"Growth-focused portfolio targeting technology sector leaders in AI, cloud computing, semiconductors, and emerging tech. Higher growth potential with active management.",img:qe.stocks2,features:["AI & Tech Focus","Growth Oriented","Active Management","Monthly Updates"],investors:2134,rating:4.7,status:"Open",dailyRate:.065,totalDays:365},{id:10,name:"Global Bond Fund",category:"Stocks & Bonds",type:"stocks",min:1e4,returns:"8-12%",term:"12 months",desc:"Investment-grade corporate and government bonds from global markets. Capital preservation focus with steady income. Lower volatility suitable for conservative investors.",img:qe.stocks3,features:["Capital Preservation","Monthly Income","Investment Grade","Low Volatility"],investors:1876,rating:4.9,status:"Open",dailyRate:.028,totalDays:365},{id:11,name:"Gold Reserve Fund",category:"Precious Metals",type:"metals",min:5e3,returns:"10-15%",term:"6 months",desc:"Strategic gold investment combining physical holdings and gold mining equities. Inflation hedge with exposure to precious metals market movements and safe-haven demand.",progress:87,goal:15e6,img:qe.gold1,features:["Inflation Hedge","Physical + Miners","Safe Haven","Quarterly Reports"],investors:2678,rating:4.8,status:"Active",dailyRate:.07,totalDays:180},{id:12,name:"Precious Metals Mix",category:"Precious Metals",type:"metals",min:1e4,returns:"15-22%",term:"12 months",desc:"Diversified precious metals portfolio including gold, silver, platinum, and palladium. Benefit from industrial demand and safe-haven status across multiple metals markets.",progress:72,goal:2e7,img:qe.gold2,features:["Multi-Metal Exposure","Industrial Demand","Diversified","Quarterly Payouts"],investors:1534,rating:4.7,status:"Active",dailyRate:.052,totalDays:365},{id:14,name:"Conservative Growth",category:"Balanced",type:"plans",min:2500,returns:"10-15%",term:"6 months",desc:"Balanced allocation across stable assets for steady growth. Perfect for investors seeking consistent returns with minimized risk. Capital protection focus with monthly distributions.",img:qe.plans1,features:["Capital Protected","Monthly Payouts","Low Volatility","Beginner Friendly"],investors:5678,rating:4.9,status:"Open",dailyRate:.07,totalDays:180},{id:15,name:"Balanced Wealth",category:"Balanced",type:"plans",min:1e4,returns:"18-25%",term:"12 months",desc:"Dynamic portfolio balancing growth and income across multiple asset classes. Quarterly rebalancing optimizes returns while managing risk. Ideal for medium-term wealth building.",img:qe.plans2,features:["Multi-Asset Mix","Quarterly Rebalance","Growth + Income","Tax Efficient"],investors:3421,rating:4.8,status:"Open",dailyRate:.06,totalDays:365},{id:16,name:"Maximum Growth",category:"Balanced",type:"plans",min:25e3,returns:"28-40%",term:"12 months",desc:"Aggressive growth strategy targeting maximum returns through high-conviction positions in crypto, tech stocks, and emerging opportunities. For experienced investors with higher risk tolerance.",img:qe.plans3,features:["Max Growth Focus","High Conviction","Active Trading","Weekly Updates"],investors:1234,rating:4.7,status:"Open",dailyRate:.095,totalDays:365}],pM=[{id:"crypto",name:"Cryptocurrency",icon:a2,count:6},{id:"real-estate",name:"Real Estate",icon:Mg,count:3},{id:"stocks",name:"Stocks & Bonds",icon:i2,count:3},{id:"plans",name:"Portfolios",icon:C5,count:3}];function gM({onLogin:t,setMessage:e,setLoading:n,loading:s}){const[r,a]=D.useState(!1),o=async()=>{a(!0),e({type:"",text:""});try{const l=await Qj();l.success?(l.isNewUser&&je.sendNewUserNotification(l.userData.email,l.userData.name,"Google").catch(console.error),t(l.userData)):e({type:"error",text:l.error})}catch{e({type:"error",text:"Google sign-in failed. Please try again."})}finally{a(!1)}};return i.jsx(F.button,{type:"button",onClick:o,disabled:s||r,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3.5 rounded-xl font-semibold flex items-center justify-center gap-3 border-2 border-gray-200 bg-white hover:bg-gray-50 disabled:opacity-70 transition-all",children:r?i.jsx(un,{className:"w-5 h-5 animate-spin text-gray-600"}):i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[i.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),i.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),i.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),i.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),i.jsx("span",{style:{color:N.navy},children:"Continue with Google"})]})})}function yM({onLogin:t}){const[e,n]=D.useState("login"),[s,r]=D.useState(!1),[a,o]=D.useState(1),[l,c]=D.useState({name:"",email:"",phone:"",password:"",confirmPassword:"",referralCode:"",country:""}),[d,h]=D.useState(!1),[f,p]=D.useState({}),[x,j]=D.useState({type:"",text:""}),_=[{name:"Afghanistan",code:"+93",flag:""},{name:"Albania",code:"+355",flag:""},{name:"Algeria",code:"+213",flag:""},{name:"Argentina",code:"+54",flag:""},{name:"Australia",code:"+61",flag:""},{name:"Austria",code:"+43",flag:""},{name:"Bangladesh",code:"+880",flag:""},{name:"Belgium",code:"+32",flag:""},{name:"Brazil",code:"+55",flag:""},{name:"Canada",code:"+1",flag:""},{name:"Chile",code:"+56",flag:""},{name:"China",code:"+86",flag:""},{name:"Colombia",code:"+57",flag:""},{name:"Czech Republic",code:"+420",flag:""},{name:"Denmark",code:"+45",flag:""},{name:"Egypt",code:"+20",flag:""},{name:"Ethiopia",code:"+251",flag:""},{name:"Finland",code:"+358",flag:""},{name:"France",code:"+33",flag:""},{name:"Germany",code:"+49",flag:""},{name:"Ghana",code:"+233",flag:""},{name:"Greece",code:"+30",flag:""},{name:"Hong Kong",code:"+852",flag:""},{name:"Hungary",code:"+36",flag:""},{name:"India",code:"+91",flag:""},{name:"Indonesia",code:"+62",flag:""},{name:"Ireland",code:"+353",flag:""},{name:"Israel",code:"+972",flag:""},{name:"Italy",code:"+39",flag:""},{name:"Japan",code:"+81",flag:""},{name:"Kenya",code:"+254",flag:""},{name:"Malaysia",code:"+60",flag:""},{name:"Mexico",code:"+52",flag:""},{name:"Morocco",code:"+212",flag:""},{name:"Nepal",code:"+977",flag:""},{name:"Netherlands",code:"+31",flag:""},{name:"New Zealand",code:"+64",flag:""},{name:"Nigeria",code:"+234",flag:""},{name:"Norway",code:"+47",flag:""},{name:"Pakistan",code:"+92",flag:""},{name:"Peru",code:"+51",flag:""},{name:"Philippines",code:"+63",flag:""},{name:"Poland",code:"+48",flag:""},{name:"Portugal",code:"+351",flag:""},{name:"Romania",code:"+40",flag:""},{name:"Russia",code:"+7",flag:""},{name:"Saudi Arabia",code:"+966",flag:""},{name:"Singapore",code:"+65",flag:""},{name:"South Africa",code:"+27",flag:""},{name:"South Korea",code:"+82",flag:""},{name:"Spain",code:"+34",flag:""},{name:"Sri Lanka",code:"+94",flag:""},{name:"Sweden",code:"+46",flag:""},{name:"Switzerland",code:"+41",flag:""},{name:"Taiwan",code:"+886",flag:""},{name:"Tanzania",code:"+255",flag:""},{name:"Thailand",code:"+66",flag:""},{name:"Turkey",code:"+90",flag:""},{name:"UAE",code:"+971",flag:""},{name:"Uganda",code:"+256",flag:""},{name:"Ukraine",code:"+380",flag:""},{name:"United Kingdom",code:"+44",flag:""},{name:"United States",code:"+1",flag:""},{name:"Vietnam",code:"+84",flag:""},{name:"Zimbabwe",code:"+263",flag:""}],k=_.find(V=>V.name===l.country)||null,[S,v]=D.useState(!1),[b,R]=D.useState(""),[M,B]=D.useState({score:0,checks:{}}),E=V=>{const U={minLength:V.length>=8,hasUppercase:/[A-Z]/.test(V),hasLowercase:/[a-z]/.test(V),hasNumber:/[0-9]/.test(V),hasSymbol:/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(V)};return{score:Object.values(U).filter(Boolean).length,checks:U}};D.useEffect(()=>{e==="register"&&B(E(l.password))},[l.password,e]);const w=V=>V===0?{label:"",color:"#gray"}:V<=2?{label:"Weak",color:"#ef4444"}:V<=3?{label:"Fair",color:"#f59e0b"}:V<=4?{label:"Good",color:"#3b82f6"}:{label:"Strong",color:"#10b981"},T=()=>{const V={};return e==="register"&&(l.name.trim()||(V.name="Full name is required"),l.country||(V.country="Please select your country"),l.password!==l.confirmPassword&&(V.confirmPassword="Passwords do not match"),l.password.length<8?V.password="Password must be at least 8 characters":M.checks.hasUppercase?M.checks.hasLowercase?M.checks.hasNumber?M.checks.hasSymbol||(V.password="Password must include a symbol (!@#$%^&*)"):V.password="Password must include a number":V.password="Password must include a lowercase letter":V.password="Password must include an uppercase letter"),(!l.email.includes("@")||!l.email.includes("."))&&(V.email="Please enter a valid email address"),l.password||(V.password="Password is required"),p(V),Object.keys(V).length===0},[C,A]=D.useState(!1),[L,P]=D.useState(null),fe=async V=>{if(V.preventDefault(),!!T()){if(h(!0),j({type:"",text:""}),e==="register"){const U=await Xj(l.email,l.password,{name:l.name,phone:k?`${k.code} ${l.phone}`:l.phone,country:l.country,referralCode:l.referralCode});if(U.success){o(2),j({type:"success",text:U.message});try{await je.sendVerificationEmail(l.email,l.name,U.verificationToken),console.log(" Custom verification email sent")}catch(re){console.error(" Failed to send verification email:",re)}je.sendNewUserNotification(l.email,l.name,"Email").catch(console.error)}else j({type:"error",text:U.error})}else{const U=await Zj(l.email,l.password);if(U.success){if(yn.is2FAEnabled(U.userData.uid)){P(U.userData),console.log(" Sending 2FA code to:",U.userData.email),(await yn.send2FACode(U.userData.uid,U.userData.email)).success?console.log(" 2FA code sent successfully"):console.error(" Failed to send 2FA code"),A(!0),h(!1);return}t(U.userData)}else U.needsVerification?(o(2),j({type:"warning",text:U.error})):j({type:"error",text:U.error})}h(!1)}},ae=()=>{A(!1),L&&(t(L),P(null))},le=async V=>{if(V.preventDefault(),!b.includes("@")){j({type:"error",text:"Please enter a valid email address"});return}h(!0);const U=await tE(b);U.success?(j({type:"success",text:U.message}),v(!1),R("")):j({type:"error",text:U.error}),h(!1)},te=async()=>{h(!0);try{const V=await je.resendVerificationEmail(l.email);V.success?j({type:"success",text:" Verification email sent! Please check your inbox."}):j({type:"error",text:V.error||"Failed to resend verification email."})}catch(V){console.error("Resend verification error:",V),j({type:"error",text:"Failed to resend verification email. Please try again."})}h(!1)};return a===2?i.jsxs("div",{className:"min-h-screen flex flex-col lg:flex-row",style:{background:N.cream},children:[i.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:[i.jsx("div",{className:"absolute inset-0",children:i.jsx("img",{src:qe.hero,alt:"",className:"w-full h-full object-cover opacity-20"})}),i.jsxs("div",{className:"relative z-10 flex flex-col justify-center items-center p-16 text-center",children:[i.jsx(F.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring"},className:"mb-8",children:i.jsxs("svg",{viewBox:"0 0 50 55",className:"w-20 h-20 lg:w-24 lg:h-24",children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"authLogoGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#d4a853"}),i.jsx("stop",{offset:"50%",stopColor:"#f4d078"}),i.jsx("stop",{offset:"100%",stopColor:"#d4a853"})]})}),i.jsx("path",{d:"M25 0 L50 8 L50 30 C50 42 38 50 25 55 C12 50 0 42 0 30 L0 8 Z",fill:"rgba(255,255,255,0.15)"}),i.jsx("path",{d:"M25 5 L45 12 L45 29 C45 39 35 46 25 50 C15 46 5 39 5 29 L5 12 Z",fill:"none",stroke:"url(#authLogoGold)",strokeWidth:"2"}),i.jsx("text",{x:"25",y:"36",fontFamily:"Georgia, serif",fontSize:"26",fontWeight:"bold",fill:"url(#authLogoGold)",textAnchor:"middle",children:"S"})]})}),i.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[i.jsx("h1",{className:"font-serif text-4xl lg:text-5xl text-white",children:"SAXO"}),i.jsx("h1",{className:"font-serif text-4xl lg:text-5xl",style:{color:N.gold},children:"VAULT"})]}),i.jsx("p",{className:"text-lg tracking-[0.3em] uppercase text-white/70",children:"Capital"})]})]}),i.jsx("div",{className:"flex-1 flex items-center justify-center p-6 lg:p-16",children:i.jsxs(F.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[i.jsxs("div",{className:"lg:hidden text-center mb-8",children:[i.jsx("div",{className:"w-14 h-14 mx-auto mb-3",children:i.jsxs("svg",{viewBox:"0 0 50 55",className:"w-full h-full",children:[i.jsxs("defs",{children:[i.jsxs("linearGradient",{id:"authMobileGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#d4a853"}),i.jsx("stop",{offset:"50%",stopColor:"#f4d078"}),i.jsx("stop",{offset:"100%",stopColor:"#d4a853"})]}),i.jsxs("linearGradient",{id:"authMobileNavy",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#1a2d4a"}),i.jsx("stop",{offset:"100%",stopColor:"#0a1628"})]})]}),i.jsx("path",{d:"M25 0 L50 8 L50 30 C50 42 38 50 25 55 C12 50 0 42 0 30 L0 8 Z",fill:"url(#authMobileNavy)"}),i.jsx("path",{d:"M25 5 L45 12 L45 29 C45 39 35 46 25 50 C15 46 5 39 5 29 L5 12 Z",fill:"none",stroke:"url(#authMobileGold)",strokeWidth:"1.5"}),i.jsx("text",{x:"25",y:"35",fontFamily:"Georgia, serif",fontSize:"24",fontWeight:"bold",fill:"url(#authMobileGold)",textAnchor:"middle",children:"S"})]})}),i.jsxs("div",{className:"flex items-baseline justify-center gap-1",children:[i.jsx("span",{className:"font-serif text-xl",style:{color:N.navy},children:"SAXO"}),i.jsx("span",{className:"font-serif text-xl",style:{color:N.gold},children:"VAULT"})]})]}),i.jsxs("div",{className:"text-center mb-8",children:[i.jsx(F.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2},className:"w-16 h-16 lg:w-20 lg:h-20 mx-auto rounded-full flex items-center justify-center mb-4",style:{background:`${N.green}15`},children:i.jsx(Wn,{className:"w-8 h-8 lg:w-10 lg:h-10",style:{color:N.green}})}),i.jsx("h2",{className:"font-serif text-2xl lg:text-3xl mb-2",style:{color:N.navy},children:"Check Your Email!"}),i.jsx("p",{className:"text-gray-500 text-sm lg:text-base mb-2",children:"We've sent a verification link to:"}),i.jsx("p",{className:"font-semibold",style:{color:N.navy},children:l.email})]}),i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-6",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(Wn,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-blue-800 text-sm font-medium",children:"Verification Required"}),i.jsx("p",{className:"text-blue-600 text-xs mt-1",children:"Click the link in your email to verify your account. Check your spam folder if you don't see it."})]})]})}),x.text&&i.jsxs(F.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`mb-4 p-3 rounded-xl text-sm flex items-center gap-2 ${x.type==="success"?"bg-green-50 text-green-700 border border-green-200":x.type==="warning"?"bg-yellow-50 text-yellow-700 border border-yellow-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[x.type==="success"?i.jsx(Je,{className:"w-4 h-4"}):i.jsx(cs,{className:"w-4 h-4"}),x.text]}),i.jsx(F.button,{onClick:te,disabled:d,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3.5 lg:py-4 rounded-xl font-semibold text-base lg:text-lg flex items-center justify-center gap-3 border-2 mb-4",style:{borderColor:N.navy,color:N.navy},children:d?i.jsx(un,{className:"w-5 h-5 animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(Wn,{className:"w-5 h-5"})," Resend Verification Email"]})}),i.jsx(F.button,{onClick:()=>{o(1),n("login")},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3.5 lg:py-4 rounded-xl text-white font-semibold text-base lg:text-lg flex items-center justify-center gap-3",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:"Back to Login"}),i.jsx("p",{className:"text-center text-gray-500 text-xs mt-6",children:"Already verified? Go back to login and sign in."})]})})]}):S?i.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",style:{background:N.cream},children:i.jsxs(F.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"w-full max-w-md bg-white rounded-2xl shadow-xl p-6 lg:p-8",children:[i.jsxs("button",{onClick:()=>v(!1),className:"mb-4 flex items-center gap-2 text-gray-500 hover:text-gray-700",children:[i.jsx(Ql,{className:"w-4 h-4"})," Back to Login"]}),i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"w-16 h-16 mx-auto rounded-full flex items-center justify-center mb-4",style:{background:`${N.gold}15`},children:i.jsx(ad,{className:"w-8 h-8",style:{color:N.gold}})}),i.jsx("h2",{className:"font-serif text-2xl mb-2",style:{color:N.navy},children:"Reset Password"}),i.jsx("p",{className:"text-gray-500 text-sm",children:"Enter your email to receive a reset link"})]}),x.text&&i.jsxs(F.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`mb-4 p-3 rounded-xl text-sm flex items-center gap-2 ${x.type==="success"?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:[x.type==="success"?i.jsx(Je,{className:"w-4 h-4"}):i.jsx(cs,{className:"w-4 h-4"}),x.text]}),i.jsxs("form",{onSubmit:le,children:[i.jsxs("div",{className:"relative mb-4",children:[i.jsx(Wn,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"email",value:b,onChange:V=>R(V.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email"})]}),i.jsx(F.button,{type:"submit",disabled:d,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3.5 rounded-xl text-white font-semibold flex items-center justify-center gap-3",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:d?i.jsx(un,{className:"w-5 h-5 animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(sl,{className:"w-5 h-5"})," Send Reset Link"]})})]})]})}):i.jsxs(i.Fragment,{children:[i.jsx(dt,{children:C&&L&&i.jsx($M,{user:L,onVerify:ae,onClose:()=>A(!1),onResend:async()=>(await yn.send2FACode(L.uid,L.email)).success})}),i.jsxs("div",{className:"min-h-screen flex flex-col lg:flex-row",style:{background:N.cream},children:[i.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:[i.jsx("div",{className:"absolute inset-0",children:i.jsx("img",{src:qe.hero,alt:"",className:"w-full h-full object-cover opacity-20"})}),i.jsxs("div",{className:"relative z-10 flex flex-col justify-center items-center p-16 text-center",children:[i.jsx(F.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",duration:.8},className:"mb-8",children:i.jsxs("svg",{viewBox:"0 0 50 55",className:"w-24 h-24",children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"regLogoGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#d4a853"}),i.jsx("stop",{offset:"50%",stopColor:"#f4d078"}),i.jsx("stop",{offset:"100%",stopColor:"#d4a853"})]})}),i.jsx("path",{d:"M25 0 L50 8 L50 30 C50 42 38 50 25 55 C12 50 0 42 0 30 L0 8 Z",fill:"rgba(255,255,255,0.15)"}),i.jsx("path",{d:"M25 5 L45 12 L45 29 C45 39 35 46 25 50 C15 46 5 39 5 29 L5 12 Z",fill:"none",stroke:"url(#regLogoGold)",strokeWidth:"2"}),i.jsx("text",{x:"25",y:"36",fontFamily:"Georgia, serif",fontSize:"26",fontWeight:"bold",fill:"url(#regLogoGold)",textAnchor:"middle",children:"S"})]})}),i.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[i.jsx("h1",{className:"font-serif text-5xl text-white",children:"SAXO"}),i.jsx("h1",{className:"font-serif text-5xl",style:{color:N.gold},children:"VAULT"})]}),i.jsx("p",{className:"text-lg tracking-[0.3em] uppercase text-white/70",children:"Capital"}),i.jsx("p",{className:"text-white/60 text-lg max-w-md mt-4",children:"Access curated Real Estate, Cryptocurrency, Stocks, and Precious Metals investments."}),i.jsx("div",{className:"mt-12 space-y-4 text-left max-w-sm",children:["Institutional-grade investments","Professional asset management","Refer & earn bonus rewards"].map((V,U)=>i.jsxs(F.div,{initial:{x:-30,opacity:0},animate:{x:0,opacity:1},transition:{delay:.3+U*.1},className:"flex items-center gap-3 text-white/80",children:[i.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{background:`${N.gold}30`},children:i.jsx(gn,{className:"w-4 h-4",style:{color:N.gold}})}),V]},U))})]})]}),i.jsx("div",{className:"flex-1 flex items-center justify-center p-6 lg:p-16",children:i.jsxs(F.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[i.jsxs("div",{className:"lg:hidden text-center mb-8",children:[i.jsx("div",{className:"w-14 h-14 mx-auto mb-3",children:i.jsxs("svg",{viewBox:"0 0 50 55",className:"w-full h-full",children:[i.jsxs("defs",{children:[i.jsxs("linearGradient",{id:"regMobileGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#d4a853"}),i.jsx("stop",{offset:"50%",stopColor:"#f4d078"}),i.jsx("stop",{offset:"100%",stopColor:"#d4a853"})]}),i.jsxs("linearGradient",{id:"regMobileNavy",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#1a2d4a"}),i.jsx("stop",{offset:"100%",stopColor:"#0a1628"})]})]}),i.jsx("path",{d:"M25 0 L50 8 L50 30 C50 42 38 50 25 55 C12 50 0 42 0 30 L0 8 Z",fill:"url(#regMobileNavy)"}),i.jsx("path",{d:"M25 5 L45 12 L45 29 C45 39 35 46 25 50 C15 46 5 39 5 29 L5 12 Z",fill:"none",stroke:"url(#regMobileGold)",strokeWidth:"1.5"}),i.jsx("text",{x:"25",y:"35",fontFamily:"Georgia, serif",fontSize:"24",fontWeight:"bold",fill:"url(#regMobileGold)",textAnchor:"middle",children:"S"})]})}),i.jsxs("div",{className:"flex items-baseline justify-center gap-1",children:[i.jsx("span",{className:"font-serif text-xl",style:{color:N.navy},children:"SAXO"}),i.jsx("span",{className:"font-serif text-xl",style:{color:N.gold},children:"VAULT"})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"font-serif text-2xl lg:text-3xl mb-2",style:{color:N.navy},children:e==="login"?"Welcome Back":"Create Account"}),i.jsx("p",{className:"text-gray-500 text-sm lg:text-base",children:e==="login"?"Sign in to access your investments":"Start your investment journey today"})]}),x.text&&i.jsxs(F.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`mb-4 p-3 rounded-xl text-sm flex items-center gap-2 ${x.type==="success"?"bg-green-50 text-green-700 border border-green-200":x.type==="warning"?"bg-yellow-50 text-yellow-700 border border-yellow-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[x.type==="success"?i.jsx(Je,{className:"w-4 h-4"}):i.jsx(cs,{className:"w-4 h-4"}),x.text]}),i.jsx("div",{className:"flex mb-6 bg-gray-100 rounded-xl p-1.5",children:["login","register"].map(V=>i.jsx("button",{onClick:()=>{n(V),p({}),j({type:"",text:""})},className:`flex-1 py-2.5 lg:py-3 rounded-lg font-medium text-sm lg:text-base transition-all ${e===V?"bg-white shadow-md":"text-gray-500"}`,style:e===V?{color:N.navy}:{},children:V==="login"?"Sign In":"Register"},V))}),i.jsxs("form",{onSubmit:fe,className:"space-y-4",children:[i.jsx(dt,{mode:"wait",children:e==="register"&&i.jsxs(F.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Full Name"}),i.jsxs("div",{className:"relative",children:[i.jsx(qa,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",value:l.name,onChange:V=>c({...l,name:V.target.value}),className:`w-full pl-12 pr-4 py-3 border rounded-xl focus:outline-none ${f.name?"border-red-500":"border-gray-200"}`,placeholder:"John Doe"})]}),f.name&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.name})]},"name")}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Email Address"}),i.jsxs("div",{className:"relative",children:[i.jsx(Wn,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"email",value:l.email,onChange:V=>c({...l,email:V.target.value}),className:`w-full pl-12 pr-4 py-3 border rounded-xl focus:outline-none ${f.email?"border-red-500":"border-gray-200"}`,placeholder:"john@example.com"})]}),f.email&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.email})]}),i.jsx(dt,{mode:"wait",children:e==="register"&&i.jsxs(i.Fragment,{children:[i.jsxs(F.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Country"}),i.jsxs("div",{className:"relative",children:[i.jsx(va,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsxs("select",{value:l.country,onChange:V=>c({...l,country:V.target.value}),className:`w-full pl-12 pr-4 py-3 border rounded-xl focus:outline-none appearance-none bg-white ${f.country?"border-red-500":"border-gray-200"}`,children:[i.jsx("option",{value:"",children:"Select your country"}),_.map(V=>i.jsxs("option",{value:V.name,children:[V.flag," ",V.name," (",V.code,")"]},V.name))]}),i.jsx(o2,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"})]}),f.country&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.country})]},"country"),i.jsxs(F.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Phone Number"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("div",{className:"relative w-24 flex-shrink-0",children:i.jsx("div",{className:"w-full px-3 py-3 border border-gray-200 rounded-xl bg-gray-50 text-sm font-medium flex items-center justify-center gap-1",style:{color:N.navy},children:k?i.jsxs(i.Fragment,{children:[k.flag," ",k.code]}):i.jsx("span",{className:"text-gray-400",children:"Code"})})}),i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Fg,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"tel",value:l.phone,onChange:V=>c({...l,phone:V.target.value.replace(/\D/g,"")}),className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none",placeholder:"Phone number",maxLength:"15"})]})]}),k&&l.phone&&i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Full number: ",k.code," ",l.phone]})]},"phone")]})}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(jr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:s?"text":"password",value:l.password,onChange:V=>c({...l,password:V.target.value}),className:`w-full pl-12 pr-14 py-3 border rounded-xl focus:outline-none ${f.password?"border-red-500":"border-gray-200"}`,placeholder:"Create a strong password"}),i.jsx("button",{type:"button",onClick:()=>r(!s),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400",children:s?i.jsx(mu,{className:"w-5 h-5"}):i.jsx(nl,{className:"w-5 h-5"})})]}),f.password&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.password}),e==="register"&&l.password&&i.jsxs("div",{className:"mt-2",children:[i.jsx("div",{className:"flex gap-1 mb-2",children:[1,2,3,4,5].map(V=>i.jsx("div",{className:"h-1.5 flex-1 rounded-full transition-all duration-300",style:{background:M.score>=V?w(M.score).color:"#e5e7eb"}},V))}),i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-xs font-medium",style:{color:w(M.score).color},children:w(M.score).label}),i.jsxs("span",{className:"text-xs text-gray-400",children:[M.score,"/5 requirements met"]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-1 text-xs",children:[i.jsxs("div",{className:`flex items-center gap-1 ${M.checks.minLength?"text-green-600":"text-gray-400"}`,children:[M.checks.minLength?i.jsx(Je,{className:"w-3 h-3"}):i.jsx("div",{className:"w-3 h-3 rounded-full border border-current"}),i.jsx("span",{children:"8+ characters"})]}),i.jsxs("div",{className:`flex items-center gap-1 ${M.checks.hasUppercase?"text-green-600":"text-gray-400"}`,children:[M.checks.hasUppercase?i.jsx(Je,{className:"w-3 h-3"}):i.jsx("div",{className:"w-3 h-3 rounded-full border border-current"}),i.jsx("span",{children:"Uppercase (A-Z)"})]}),i.jsxs("div",{className:`flex items-center gap-1 ${M.checks.hasLowercase?"text-green-600":"text-gray-400"}`,children:[M.checks.hasLowercase?i.jsx(Je,{className:"w-3 h-3"}):i.jsx("div",{className:"w-3 h-3 rounded-full border border-current"}),i.jsx("span",{children:"Lowercase (a-z)"})]}),i.jsxs("div",{className:`flex items-center gap-1 ${M.checks.hasNumber?"text-green-600":"text-gray-400"}`,children:[M.checks.hasNumber?i.jsx(Je,{className:"w-3 h-3"}):i.jsx("div",{className:"w-3 h-3 rounded-full border border-current"}),i.jsx("span",{children:"Number (0-9)"})]}),i.jsxs("div",{className:`flex items-center gap-1 col-span-2 ${M.checks.hasSymbol?"text-green-600":"text-gray-400"}`,children:[M.checks.hasSymbol?i.jsx(Je,{className:"w-3 h-3"}):i.jsx("div",{className:"w-3 h-3 rounded-full border border-current"}),i.jsx("span",{children:"Symbol (!@#$%^&*)"})]})]})]})]}),i.jsx(dt,{mode:"wait",children:e==="register"&&i.jsxs(i.Fragment,{children:[i.jsxs(F.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Confirm Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(jr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:s?"text":"password",value:l.confirmPassword,onChange:V=>c({...l,confirmPassword:V.target.value}),className:`w-full pl-12 pr-4 py-3 border rounded-xl focus:outline-none ${f.confirmPassword?"border-red-500":"border-gray-200"}`,placeholder:""})]}),f.confirmPassword&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.confirmPassword})]},"confirm"),i.jsxs(F.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Referral Code (Optional)"}),i.jsxs("div",{className:"relative",children:[i.jsx(Wa,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",value:l.referralCode,onChange:V=>c({...l,referralCode:V.target.value}),className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none",placeholder:"Enter referral code"})]})]},"referral")]})}),e==="login"&&i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{type:"button",onClick:()=>v(!0),className:"text-sm font-medium hover:underline",style:{color:N.navy},children:"Forgot Password?"})}),i.jsx(F.button,{type:"submit",disabled:d,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3.5 rounded-xl text-white font-semibold flex items-center justify-center gap-3 shadow-lg disabled:opacity-70",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:d?i.jsx(un,{className:"w-5 h-5 animate-spin"}):i.jsxs(i.Fragment,{children:[e==="login"?"Sign In":"Create Account"," ",i.jsx(Lg,{className:"w-5 h-5"})]})})]}),i.jsxs("div",{className:"flex items-center gap-4 my-6",children:[i.jsx("div",{className:"flex-1 h-px bg-gray-200"}),i.jsx("span",{className:"text-sm text-gray-400",children:"or continue with"}),i.jsx("div",{className:"flex-1 h-px bg-gray-200"})]}),i.jsx(gM,{onLogin:t,setMessage:j,setLoading:h,loading:d}),i.jsxs("div",{className:"mt-6 flex flex-wrap items-center gap-4 text-sm text-gray-500",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(wi,{className:"w-4 h-4",style:{color:N.green}}),i.jsx("span",{children:"Bank-level Security"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(jr,{className:"w-4 h-4",style:{color:N.green}}),i.jsx("span",{children:"256-bit SSL"})]})]})]})})]})]})}function xM({activePage:t,onNavigate:e,user:n,onLogout:s}){const[r,a]=D.useState(!1),[o,l]=D.useState(!1),[c,d]=D.useState(!1),[h,f]=D.useState(!1);D.useEffect(()=>{const j=()=>a(window.scrollY>20);return window.addEventListener("scroll",j),()=>window.removeEventListener("scroll",j)},[]);const p=[{id:"home",label:"Home",icon:u2},{id:"investments",label:"Investments",icon:Er},{id:"dashboard",label:"Dashboard",icon:$g},{id:"deposit",label:"Deposit",icon:Rn,isAction:!0,color:"#10b981"},{id:"withdraw",label:"Withdraw",icon:nn,isAction:!0,color:"#f59e0b"},{id:"referral",label:"Referral",icon:Wa},{id:"calculator",label:"Calculator",icon:P5}],x=j=>{j==="deposit"?d(!0):j==="withdraw"?f(!0):e(j),l(!1)};return i.jsxs(i.Fragment,{children:[i.jsx(F.nav,{initial:{y:-100},animate:{y:0},className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${r||t!=="home"?"bg-white/95 backdrop-blur-md shadow-lg":"bg-transparent"}`,children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 lg:px-6 py-3 lg:py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(F.div,{whileHover:{scale:1.02},className:"flex items-center gap-2 lg:gap-3 cursor-pointer",onClick:()=>e("home"),children:[i.jsx("div",{className:"relative w-10 h-10 lg:w-11 lg:h-11",children:i.jsxs("svg",{viewBox:"0 0 50 55",className:"w-full h-full",children:[i.jsxs("defs",{children:[i.jsxs("linearGradient",{id:"logoGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#d4a853"}),i.jsx("stop",{offset:"50%",stopColor:"#f4d078"}),i.jsx("stop",{offset:"100%",stopColor:"#d4a853"})]}),i.jsxs("linearGradient",{id:"logoNavy",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#1a2d4a"}),i.jsx("stop",{offset:"100%",stopColor:"#0a1628"})]})]}),i.jsx("path",{d:"M25 0 L50 8 L50 30 C50 42 38 50 25 55 C12 50 0 42 0 30 L0 8 Z",fill:"url(#logoNavy)"}),i.jsx("path",{d:"M25 5 L45 12 L45 29 C45 39 35 46 25 50 C15 46 5 39 5 29 L5 12 Z",fill:"none",stroke:"url(#logoGold)",strokeWidth:"1.5"}),i.jsx("text",{x:"25",y:"35",fontFamily:"Georgia, serif",fontSize:"24",fontWeight:"bold",fill:"url(#logoGold)",textAnchor:"middle",children:"S"})]})}),i.jsxs("div",{className:"hidden sm:block",children:[i.jsxs("div",{className:"flex items-baseline gap-1",children:[i.jsx("span",{className:"font-serif text-lg lg:text-xl font-semibold",style:{color:r||t!=="home"?N.navy:"white"},children:"SAXO"}),i.jsx("span",{className:"font-serif text-lg lg:text-xl font-semibold",style:{color:N.gold},children:"VAULT"})]}),i.jsx("p",{className:"text-[10px] tracking-[0.2em] uppercase",style:{color:r||t!=="home"?"#6b7280":"rgba(255,255,255,0.7)"},children:"Capital"})]})]}),i.jsx("div",{className:"hidden lg:flex items-center gap-1",children:p.map(j=>i.jsxs(F.button,{onClick:()=>x(j.id),whileHover:{scale:1.05},whileTap:{scale:.98},className:`flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium transition-all ${j.isAction||t===j.id?"text-white shadow-lg":r||t!=="home"?"text-gray-600 hover:bg-gray-100":"text-white/80 hover:text-white hover:bg-white/10"}`,style:j.isAction?{background:j.color}:t===j.id?{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`}:{},children:[i.jsx(j.icon,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:j.label})]},j.id))}),i.jsxs("div",{className:"flex items-center gap-2 lg:gap-3",children:[i.jsxs(F.button,{whileHover:{scale:1.05},whileTap:{scale:.98},onClick:()=>e("notifications"),className:`relative p-2 rounded-xl transition-all ${r||t!=="home"?"hover:bg-gray-100":"hover:bg-white/10"}`,children:[i.jsx(As,{className:`w-5 h-5 ${r||t!=="home"?"text-gray-600":"text-white"}`}),(()=>{const _=(JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}")[n.uid]||[]).filter(k=>!k.read).length;return _>0?i.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center text-xs text-white font-bold",children:_>9?"9+":_}):null})()]}),i.jsxs(F.button,{whileHover:{scale:1.05},whileTap:{scale:.98},onClick:()=>e("profile"),className:"flex items-center gap-2 px-2 lg:px-4 py-2 rounded-xl transition-all",children:[i.jsx("div",{className:"w-8 h-8 lg:w-9 lg:h-9 rounded-full flex items-center justify-center text-sm font-bold text-white overflow-hidden",style:{background:`linear-gradient(135deg, ${N.gold} 0%, ${N.goldDark} 100%)`},children:n.profileImage?i.jsx("img",{src:n.profileImage,alt:"",className:"w-full h-full object-cover"}):n.name.charAt(0)}),i.jsx("span",{className:`text-sm font-medium hidden md:block ${r||t!=="home"?"text-gray-700":"text-white"}`,children:n.name.split(" ")[0]})]}),i.jsx("button",{onClick:s,className:"hidden lg:flex p-2.5 rounded-xl text-red-500 hover:bg-red-50 transition-all",children:i.jsx(Ra,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>l(!o),className:"lg:hidden p-2 rounded-xl",style:{color:r||t!=="home"?N.navy:"white"},children:i.jsx($5,{className:"w-6 h-6"})})]})]})})}),i.jsx(dt,{children:o&&i.jsxs(i.Fragment,{children:[i.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>l(!1),className:"fixed inset-0 bg-black/50 z-50 lg:hidden"}),i.jsx(F.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"tween"},className:"fixed top-0 right-0 bottom-0 w-72 bg-white z-50 shadow-2xl lg:hidden",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-9 h-9",children:i.jsxs("svg",{viewBox:"0 0 50 55",className:"w-full h-full",children:[i.jsxs("defs",{children:[i.jsxs("linearGradient",{id:"mobileLogoGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#d4a853"}),i.jsx("stop",{offset:"50%",stopColor:"#f4d078"}),i.jsx("stop",{offset:"100%",stopColor:"#d4a853"})]}),i.jsxs("linearGradient",{id:"mobileLogoNavy",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#1a2d4a"}),i.jsx("stop",{offset:"100%",stopColor:"#0a1628"})]})]}),i.jsx("path",{d:"M25 0 L50 8 L50 30 C50 42 38 50 25 55 C12 50 0 42 0 30 L0 8 Z",fill:"url(#mobileLogoNavy)"}),i.jsx("path",{d:"M25 5 L45 12 L45 29 C45 39 35 46 25 50 C15 46 5 39 5 29 L5 12 Z",fill:"none",stroke:"url(#mobileLogoGold)",strokeWidth:"1.5"}),i.jsx("text",{x:"25",y:"35",fontFamily:"Georgia, serif",fontSize:"24",fontWeight:"bold",fill:"url(#mobileLogoGold)",textAnchor:"middle",children:"S"})]})}),i.jsxs("div",{children:[i.jsx("span",{className:"font-serif text-sm",style:{color:N.navy},children:"SAXO"}),i.jsx("span",{className:"font-serif text-sm",style:{color:N.gold},children:"VAULT"})]})]}),i.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:i.jsx(Pt,{className:"w-5 h-5"})})]}),i.jsx("div",{className:"space-y-2",children:p.map(j=>i.jsxs("button",{onClick:()=>x(j.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all ${j.isAction||t===j.id?"text-white":"text-gray-600 hover:bg-gray-100"}`,style:j.isAction?{background:j.color}:t===j.id?{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`}:{},children:[i.jsx(j.icon,{className:"w-5 h-5"}),j.label]},j.id))}),i.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-100 space-y-2",children:[i.jsxs("button",{onClick:()=>{e("profile"),l(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-600 hover:bg-gray-100",children:[i.jsx(pu,{className:"w-5 h-5"})," Profile & Settings"]}),i.jsxs("button",{onClick:s,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-red-500 hover:bg-red-50",children:[i.jsx(Ra,{className:"w-5 h-5"})," Logout"]})]})]})})]})}),i.jsxs(dt,{children:[c&&i.jsx(sE,{onClose:()=>d(!1)}),h&&i.jsx(rE,{onClose:()=>f(!1),balance:n.balance})]})]})}function vM({activePage:t,onNavigate:e}){const n=[{id:"home",label:"Home",icon:u2},{id:"investments",label:"Invest",icon:Er},{id:"dashboard",label:"Portfolio",icon:$g},{id:"referral",label:"Referral",icon:Wa},{id:"profile",label:"Profile",icon:qa}];return i.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-40 lg:hidden",children:i.jsx("div",{className:"flex items-center justify-around py-2",children:n.map(s=>i.jsxs("button",{onClick:()=>e(s.id),className:`flex flex-col items-center gap-1 px-3 py-2 rounded-xl transition-all ${t===s.id?"text-white":"text-gray-500"}`,style:t===s.id?{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`}:{},children:[i.jsx(s.icon,{className:"w-5 h-5"}),i.jsx("span",{className:"text-xs font-medium",children:s.label})]},s.id))})})}const wM=D.createContext();function bM({children:t}){const[e,n]=D.useState([]),s=(c,d="info",h=4e3)=>{const f=Date.now();n(p=>[...p,{id:f,message:c,type:d}]),setTimeout(()=>{n(p=>p.filter(x=>x.id!==f))},h)},r=c=>s(c,"success"),a=c=>s(c,"error"),o=c=>s(c,"warning"),l=c=>s(c,"info");return i.jsxs(wM.Provider,{value:{showSuccess:r,showError:a,showWarning:o,showInfo:l},children:[t,i.jsx(NM,{toasts:e})]})}function NM({toasts:t}){return i.jsx("div",{className:"fixed top-4 right-4 z-[9999] space-y-2 pointer-events-none",children:i.jsx(dt,{children:t.map(e=>i.jsxs(F.div,{initial:{opacity:0,x:100,scale:.9},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:100,scale:.9},className:`pointer-events-auto flex items-center gap-3 px-4 py-3 rounded-xl shadow-2xl backdrop-blur-sm ${e.type==="success"?"bg-green-500 text-white":e.type==="error"?"bg-red-500 text-white":e.type==="warning"?"bg-yellow-500 text-white":"bg-blue-500 text-white"}`,children:[e.type==="success"&&i.jsx(Je,{className:"w-5 h-5"}),e.type==="error"&&i.jsx(Pt,{className:"w-5 h-5"}),e.type==="warning"&&i.jsx(cs,{className:"w-5 h-5"}),e.type==="info"&&i.jsx(As,{className:"w-5 h-5"}),i.jsx("span",{className:"text-sm font-medium",children:e.message})]},e.id))})})}function _M(t,e,n=30){const s=D.useRef(null),r=D.useRef(null),[a,o]=D.useState(!1),[l,c]=D.useState(60),d=()=>{if(s.current&&clearTimeout(s.current),r.current&&clearTimeout(r.current),o(!1),!t)return;const f=(n-1)*60*1e3;r.current=setTimeout(()=>{o(!0),c(60);const p=setInterval(()=>{c(x=>x<=1?(clearInterval(p),0):x-1)},1e3);s.current=setTimeout(()=>{clearInterval(p),o(!1),e()},6e4)},f)};return D.useEffect(()=>{if(!t)return;const f=["mousedown","mousemove","keypress","scroll","touchstart","click"],p=()=>{d()};return f.forEach(x=>{document.addEventListener(x,p,{passive:!0})}),d(),()=>{s.current&&clearTimeout(s.current),r.current&&clearTimeout(r.current),f.forEach(x=>{document.removeEventListener(x,p)})}},[t]),{showWarning:a,countdown:l,extendSession:()=>{o(!1),d()}}}function SM({countdown:t,onExtend:e,onLogout:n}){return i.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[9998] flex items-center justify-center p-4",children:i.jsxs(F.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},className:"bg-white rounded-2xl shadow-2xl p-6 max-w-sm w-full text-center",children:[i.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-yellow-100 flex items-center justify-center",children:i.jsx(Ii,{className:"w-8 h-8 text-yellow-600"})}),i.jsx("h3",{className:"font-serif text-xl mb-2",style:{color:N.navy},children:"Session Expiring"}),i.jsxs("p",{className:"text-gray-600 text-sm mb-4",children:["Your session will expire in ",i.jsx("span",{className:"font-bold text-red-500",children:t})," seconds due to inactivity."]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(F.button,{onClick:n,whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl border border-gray-200 text-gray-700 text-sm font-medium",children:"Logout"}),i.jsx(F.button,{onClick:e,whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl text-white text-sm font-medium",style:{background:N.green},children:"Stay Logged In"})]})]})})}function jM(){const[t,e]=D.useState(!1),[n,s]=D.useState("options"),[r,a]=D.useState({name:"",email:"",category:"",priority:"medium",subject:"",message:""}),[o,l]=D.useState(!1),[c,d]=D.useState(""),[h,f]=D.useState(!1);D.useEffect(()=>{const _=()=>{if(window.$zoho&&window.$zoho.salesiq)try{window.$zoho.salesiq.floatbutton&&window.$zoho.salesiq.floatbutton.visible("hide"),document.querySelectorAll('[id*="zsiq"], [class*="zsiq"], .siq_bR, .zsiq_floatmain').forEach(B=>{B.style.display="none",B.style.visibility="hidden"})}catch(M){console.log("Zoho widget control:",M)}};_();const k=setTimeout(_,1e3),S=setTimeout(_,2e3),v=setTimeout(_,3e3),b=setTimeout(_,5e3);window.$zoho=window.$zoho||{},window.$zoho.salesiq=window.$zoho.salesiq||{ready:function(){_()}};const R=new MutationObserver(M=>{M.forEach(B=>{B.addedNodes.forEach(E=>{var w,T,C;if(E.nodeType===1){const A=E;((w=A.id)!=null&&w.includes("zsiq")||(T=A.className)!=null&&T.includes("zsiq")||(C=A.className)!=null&&C.includes("siq_bR"))&&(A.style.display="none",A.style.visibility="hidden")}})})});return R.observe(document.body,{childList:!0,subtree:!0}),()=>{clearTimeout(k),clearTimeout(S),clearTimeout(v),clearTimeout(b),R.disconnect()}},[]);const p=()=>{if(window.$zoho&&window.$zoho.salesiq)try{window.$zoho.salesiq.floatbutton&&window.$zoho.salesiq.floatbutton.visible("show"),window.$zoho.salesiq.chat&&window.$zoho.salesiq.chat.start();const _=document.querySelector('.zsiq_floatmain, .siq_bR, [id*="zsiq_float"]');_&&(_.style.display="block",_.style.visibility="visible",_.click())}catch(_){console.log("Opening Zoho chat:",_),alert(` Live Chat

Opening chat window...
If it doesn't appear, please use Email or WhatsApp.`)}else alert(` Live Chat

Our live chat service is being configured.
Please use Email or WhatsApp for immediate support.`);e(!1)},x=async _=>{_.preventDefault(),f(!0);const k="TKT-"+Math.random().toString(36).substr(2,9).toUpperCase(),S=JSON.parse(localStorage.getItem("saxovault_tickets")||"[]"),v={id:k,name:r.name,email:r.email,category:r.category,priority:r.priority,subject:r.subject,message:r.message,status:"open",createdAt:new Date().toISOString()};S.unshift(v),localStorage.setItem("saxovault_tickets",JSON.stringify(S)),G.addNotification({type:"ticket",message:`New ticket from ${r.name}: ${r.subject}`,ticketId:k});try{const b=xt.adminEmail||"saxovault6@gmail.com",R=`New Support Ticket Received

Ticket ID: ${k}
From: ${r.name}
Email: ${r.email}
Category: ${r.category}
Priority: ${r.priority.toUpperCase()}
Subject: ${r.subject}

Message:
${r.message}

---
Please respond to this ticket in the Admin Dashboard.
SaxoVault Capital`;await je.sendEmail(b,` New Support Ticket: ${r.subject}`,R,"ticket"),console.log(" Ticket notification sent to admin")}catch(b){console.error(" Failed to send ticket notification:",b)}d(k),l(!0),f(!1),setTimeout(()=>{l(!1),a({name:"",email:"",category:"",priority:"medium",subject:"",message:""}),s("options")},5e3)},j=[{id:"livechat",label:"Live Chat",desc:"Chat with an agent now",icon:d2,color:"#00a884",action:p},{id:"whatsapp",label:"WhatsApp",desc:"Message us on WhatsApp",icon:Fg,color:"#25D366",action:()=>window.open("https://wa.me/1234567890","_blank")},{id:"email",label:"Email Support",desc:"support@saxovault.com",icon:Wn,color:"#EA4335",action:()=>window.location.href="mailto:support@saxovault.com"},{id:"ticket",label:"Submit Ticket",desc:"Create a support ticket",icon:f2,color:N.navy,action:()=>s("ticket")}];return i.jsxs(i.Fragment,{children:[i.jsx(F.button,{onClick:()=>e(!t),whileHover:{scale:1.1},whileTap:{scale:.9},className:"fixed bottom-28 lg:bottom-8 right-4 lg:right-8 w-14 h-14 rounded-full shadow-2xl flex items-center justify-center text-white z-40",style:{background:`linear-gradient(135deg, ${N.green} 0%, ${N.greenDark} 100%)`},children:i.jsx(dt,{mode:"wait",children:t?i.jsx(F.div,{initial:{rotate:-90},animate:{rotate:0},children:i.jsx(Pt,{className:"w-6 h-6"})},"x"):i.jsx(F.div,{initial:{rotate:90},animate:{rotate:0},children:i.jsx(Hm,{className:"w-6 h-6"})},"msg")})}),i.jsx(dt,{children:t&&i.jsxs(i.Fragment,{children:[i.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/30 z-40 lg:hidden",onClick:()=>e(!1)}),i.jsxs(F.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},className:"fixed bottom-44 lg:bottom-24 right-4 lg:right-8 w-80 max-w-[calc(100vw-2rem)] bg-white rounded-2xl shadow-2xl overflow-hidden z-50",children:[i.jsx("div",{className:"p-4 text-white",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{background:"rgba(255,255,255,0.2)"},children:i.jsx(Hm,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-sm",children:"Support Center"}),i.jsx("p",{className:"text-xs text-white/70",children:"We're here to help 24/7"})]})]}),i.jsx("button",{onClick:()=>e(!1),className:"p-1 hover:bg-white/10 rounded-full",children:i.jsx(Pt,{className:"w-5 h-5"})})]})}),i.jsxs("div",{className:"p-4 max-h-96 overflow-y-auto",children:[n==="options"&&i.jsxs("div",{className:"space-y-2",children:[j.map(_=>i.jsxs(F.button,{onClick:_.action,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full flex items-center gap-3 p-3 rounded-xl hover:bg-gray-50 transition-colors border border-gray-100",children:[i.jsx("div",{className:"w-11 h-11 rounded-xl flex items-center justify-center",style:{background:`${_.color}15`},children:i.jsx(_.icon,{className:"w-5 h-5",style:{color:_.color}})}),i.jsxs("div",{className:"flex-1 text-left",children:[i.jsx("span",{className:"font-medium text-sm block",style:{color:N.navy},children:_.label}),i.jsx("span",{className:"text-xs text-gray-500",children:_.desc})]}),i.jsx(l2,{className:"w-4 h-4 text-gray-400"})]},_.id)),i.jsx("div",{className:"pt-3 border-t border-gray-100 mt-3",children:i.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-gray-500",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),i.jsx("span",{children:"Agents online  Avg response: 5 mins"})]})})]}),n==="ticket"&&!o&&i.jsxs("form",{onSubmit:x,className:"space-y-3",children:[i.jsxs("button",{type:"button",onClick:()=>s("options"),className:"text-sm text-gray-500 flex items-center gap-1 mb-2",children:[i.jsx(Ql,{className:"w-4 h-4"})," Back"]}),i.jsx("input",{type:"text",placeholder:"Your Name",required:!0,value:r.name,onChange:_=>a({...r,name:_.target.value}),className:"w-full px-3 py-2.5 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),i.jsx("input",{type:"email",placeholder:"Email Address",required:!0,value:r.email,onChange:_=>a({...r,email:_.target.value}),className:"w-full px-3 py-2.5 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),i.jsxs("select",{value:r.category,onChange:_=>a({...r,category:_.target.value}),required:!0,className:"w-full px-3 py-2.5 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"Select Category"}),i.jsx("option",{value:"account",children:"Account"}),i.jsx("option",{value:"deposit",children:"Deposit"}),i.jsx("option",{value:"withdrawal",children:"Withdrawal"}),i.jsx("option",{value:"investment",children:"Investment"}),i.jsx("option",{value:"kyc",children:"KYC"}),i.jsx("option",{value:"other",children:"Other"})]}),i.jsx("input",{type:"text",placeholder:"Subject",required:!0,value:r.subject,onChange:_=>a({...r,subject:_.target.value}),className:"w-full px-3 py-2.5 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),i.jsx("textarea",{placeholder:"Describe your issue...",required:!0,value:r.message,onChange:_=>a({...r,message:_.target.value}),className:"w-full px-3 py-2.5 border border-gray-200 rounded-lg text-sm resize-none focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3}),i.jsx(F.button,{type:"submit",disabled:h,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-2.5 rounded-lg text-white text-sm font-medium flex items-center justify-center gap-2",style:{background:N.navy},children:h?i.jsx(un,{className:"w-4 h-4 animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(sl,{className:"w-4 h-4"})," Submit Ticket"]})})]}),o&&i.jsxs("div",{className:"text-center py-6",children:[i.jsx(Je,{className:"w-12 h-12 text-green-500 mx-auto mb-3"}),i.jsx("h4",{className:"font-semibold mb-1",style:{color:N.navy},children:"Ticket Submitted!"}),i.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Your ticket ID:"}),i.jsx("p",{className:"font-mono text-lg font-bold",style:{color:N.gold},children:c}),i.jsx("p",{className:"text-xs text-gray-400 mt-3",children:"We'll respond within 24 hours"})]})]})]})]})})]})}function EM({onViewDocument:t}){const[e,n]=D.useState(!1),s=[{title:"White Paper",desc:"Investment philosophy, technology infrastructure, and growth roadmap",icon:Cl,pages:"42 pages",color:N.gold},{title:"Terms of Service",desc:"Platform usage terms, account management, and service agreements",icon:wi,pages:"28 pages",color:"#3b82f6"},{title:"Privacy Policy",desc:"Data collection, protection, GDPR & CCPA compliance procedures",icon:jr,pages:"18 pages",color:"#10b981"},{title:"Risk Disclosure",desc:"Investment risks, market volatility, and important warnings",icon:As,pages:"24 pages",color:"#ef4444"},{title:"AML/KYC Policy",desc:"Anti-Money Laundering and identity verification procedures",icon:Lr,pages:"16 pages",color:"#8b5cf6"},{title:"Investment Guide",desc:"Portfolio strategies, asset allocation, and payout structures",icon:W5,pages:"32 pages",color:"#f59e0b"},{title:"Fee Schedule",desc:"Complete breakdown of all fees, charges, and commissions",icon:fu,pages:"8 pages",color:"#06b6d4"},{title:"FAQ & Support",desc:"Frequently asked questions and comprehensive support guide",icon:Hm,pages:"36 pages",color:"#ec4899"}];return i.jsxs(F.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"bg-white/5 backdrop-blur-md rounded-2xl lg:rounded-3xl border border-white/10 overflow-hidden",children:[i.jsxs(F.button,{onClick:()=>n(!e),className:"w-full p-5 lg:p-6 flex items-center justify-between hover:bg-white/5 transition-all",whileTap:{scale:.99},children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(F.div,{animate:{rotateY:e?180:0},transition:{duration:.3},className:"w-14 h-14 lg:w-16 lg:h-16 rounded-2xl flex items-center justify-center",style:{background:`linear-gradient(135deg, ${N.gold}40 0%, ${N.gold}20 100%)`},children:i.jsx(Cl,{className:"w-7 h-7 lg:w-8 lg:h-8",style:{color:N.gold}})}),i.jsxs("div",{className:"text-left",children:[i.jsx("h3",{className:"font-serif text-lg lg:text-xl text-white mb-1",children:"Legal Documents & Policies"}),i.jsxs("p",{className:"text-white/50 text-sm",children:[s.length," documents available"]})]})]}),i.jsx(F.div,{animate:{rotate:e?180:0},transition:{duration:.3},className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center",children:i.jsx(o2,{className:"w-5 h-5 text-white/70"})})]}),i.jsx(dt,{children:e&&i.jsx(F.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},children:i.jsxs("div",{className:"px-4 lg:px-6 pb-5 lg:pb-6",children:[i.jsx("div",{className:"h-px bg-white/10 mb-4"}),i.jsx("div",{className:"space-y-2",children:s.map((r,a)=>i.jsxs(F.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:a*.05},onClick:()=>t(r.title),className:"w-full flex items-center gap-4 p-3 lg:p-4 rounded-xl hover:bg-white/10 transition-all group text-left",children:[i.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 rounded-xl flex items-center justify-center flex-shrink-0",style:{background:`${r.color}20`},children:i.jsx(r.icon,{className:"w-5 h-5 lg:w-6 lg:h-6",style:{color:r.color}})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[i.jsx("h4",{className:"font-medium text-white group-hover:text-yellow-400 transition-colors text-sm lg:text-base",children:r.title}),i.jsx("span",{className:"px-2 py-0.5 rounded-full bg-white/10 text-white/50 text-xs hidden sm:inline",children:"PDF"})]}),i.jsx("p",{className:"text-white/40 text-xs lg:text-sm truncate",children:r.desc})]}),i.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[i.jsx("span",{className:"text-white/30 text-xs hidden sm:inline",children:r.pages}),i.jsx("div",{className:"w-8 h-8 rounded-full bg-white/5 flex items-center justify-center group-hover:bg-white/10 transition-all",children:i.jsx(Lg,{className:"w-4 h-4 text-white/50 group-hover:text-yellow-400 transition-colors"})})]})]},a))}),i.jsx("div",{className:"mt-4 pt-4 border-t border-white/10",children:i.jsx("p",{className:"text-white/40 text-xs text-center",children:"All documents are available for viewing. Click any document to read the full content."})})]})})})]})}function TM({onNavigate:t,onSelectInvestment:e}){const[n,s]=D.useState(null);JSON.parse(localStorage.getItem("saxovault_investments")||"null");const r=a=>{s(a)};return i.jsxs("div",{className:"min-h-screen",style:{background:N.cream},children:[i.jsx(dt,{children:n&&i.jsx(VM,{document:n,onClose:()=>s(null)})}),i.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[i.jsxs("div",{className:"absolute inset-0",children:[i.jsx("img",{src:qe.hero,alt:"",className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute inset-0",style:{background:`linear-gradient(135deg, ${N.navy}ee 0%, ${N.navyLight}dd 50%, ${N.navy}ee 100%)`}})]}),i.jsx("div",{className:"relative z-10 max-w-6xl mx-auto px-4 lg:px-6 text-center pt-24 lg:pt-20",children:i.jsxs(F.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[i.jsxs("div",{className:"inline-flex items-center gap-2 px-4 lg:px-6 py-2 lg:py-3 rounded-full bg-white/10 backdrop-blur-md border border-white/20 mb-6 lg:mb-8",children:[i.jsx(c2,{className:"w-4 h-4 lg:w-5 lg:h-5",style:{color:N.gold}}),i.jsx("span",{style:{color:N.gold},className:"text-xs lg:text-sm tracking-wide",children:"Institutional-Grade Investment Platform"})]}),i.jsxs("h1",{className:"font-serif text-4xl sm:text-5xl lg:text-7xl text-white mb-4 lg:mb-6 leading-tight",children:["Your Gateway to",i.jsx("br",{}),i.jsx("span",{style:{color:N.gold},children:"Diversified Investments"})]}),i.jsx("p",{className:"text-base lg:text-xl text-white/80 mb-3 lg:mb-4 max-w-3xl mx-auto px-4",children:"Access curated Real Estate, Cryptocurrency, Stock & Bond Portfolios, and Precious Metals."}),i.jsx("p",{className:"text-white/60 mb-8 lg:mb-12 text-sm lg:text-base",children:"All with clear targets, defined timelines, and professional management."}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 lg:gap-4 justify-center px-4",children:[i.jsxs(F.button,{onClick:()=>t("investments"),whileHover:{scale:1.05},whileTap:{scale:.98},className:"px-8 lg:px-10 py-3.5 lg:py-4 rounded-xl text-white font-semibold text-base lg:text-lg shadow-2xl flex items-center justify-center gap-3",style:{background:`linear-gradient(135deg, ${N.gold} 0%, ${N.goldDark} 100%)`},children:["Explore Opportunities ",i.jsx(Lg,{className:"w-5 h-5"})]}),i.jsxs(F.button,{onClick:()=>t("referral"),whileHover:{scale:1.05},whileTap:{scale:.98},className:"px-8 lg:px-10 py-3.5 lg:py-4 rounded-xl font-semibold text-base lg:text-lg border-2 border-white/30 text-white hover:bg-white/10 flex items-center justify-center gap-3",children:[i.jsx(Wa,{className:"w-5 h-5"})," Referral Program"]})]})]})})]}),i.jsx("section",{className:"py-16 lg:py-20 px-4 lg:px-6",style:{background:N.cream},children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-12 lg:mb-16",children:[i.jsx("h2",{className:"font-serif text-3xl lg:text-4xl mb-3 lg:mb-4",style:{color:N.navy},children:"Investment Verticals"}),i.jsx("p",{className:"text-gray-600 text-sm lg:text-base",children:"Four distinct pathways to building wealth."})]}),i.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:[{title:"Real Estate",desc:"Development funding & income properties",icon:Mg,color:"#3b82f6",img:qe.realEstate1},{title:"Cryptocurrency",desc:"Managed crypto portfolios",icon:a2,color:"#f59e0b",img:qe.crypto1},{title:"Stocks & Bonds",desc:"Curated market portfolios",icon:i2,color:"#10b981",img:qe.stocks1},{title:"Precious Metals",desc:"Gold, silver & platinum",icon:L5,color:"#D4AF37",img:qe.gold1}].map((a,o)=>i.jsxs(F.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:o*.1},whileHover:{y:-5},onClick:()=>t("investments"),className:"group cursor-pointer bg-white rounded-xl lg:rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all",children:[i.jsxs("div",{className:"relative h-28 lg:h-48 overflow-hidden",children:[i.jsx("img",{src:a.img,alt:a.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),i.jsx("div",{className:"absolute inset-0",style:{background:`linear-gradient(to top, ${a.color}cc, transparent)`}}),i.jsx("div",{className:"absolute top-2 lg:top-4 left-2 lg:left-4 w-8 h-8 lg:w-12 lg:h-12 rounded-lg lg:rounded-xl bg-white/20 backdrop-blur flex items-center justify-center",children:i.jsx(a.icon,{className:"w-4 h-4 lg:w-6 lg:h-6 text-white"})})]}),i.jsxs("div",{className:"p-3 lg:p-6",children:[i.jsx("h3",{className:"font-serif text-sm lg:text-xl mb-1 lg:mb-2",style:{color:N.navy},children:a.title}),i.jsx("p",{className:"text-gray-600 text-xs lg:text-sm hidden sm:block",children:a.desc})]})]},o))})]})}),i.jsx("section",{className:"py-16 lg:py-20 px-4 lg:px-6",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-8 lg:mb-10",children:[i.jsxs(F.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/10 backdrop-blur mb-4",children:[i.jsx(Cl,{className:"w-4 h-4",style:{color:N.gold}}),i.jsx("span",{style:{color:N.gold},className:"text-sm",children:"Legal & Compliance"})]}),i.jsx("h2",{className:"font-serif text-3xl lg:text-4xl text-white mb-3",children:"Required Documents"}),i.jsx("p",{className:"text-white/60 max-w-2xl mx-auto text-sm lg:text-base",children:"Transparency is at the core of our operations. Review our comprehensive documentation below."})]}),i.jsx(EM,{onViewDocument:r})]})}),i.jsx("footer",{className:"py-8 lg:py-12 px-4 lg:px-6",style:{background:N.navy},children:i.jsx("div",{className:"max-w-7xl mx-auto",children:i.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8",children:i.jsxs("svg",{viewBox:"0 0 50 55",className:"w-full h-full",children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"footerGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#d4a853"}),i.jsx("stop",{offset:"50%",stopColor:"#f4d078"}),i.jsx("stop",{offset:"100%",stopColor:"#d4a853"})]})}),i.jsx("path",{d:"M25 0 L50 8 L50 30 C50 42 38 50 25 55 C12 50 0 42 0 30 L0 8 Z",fill:"rgba(255,255,255,0.1)"}),i.jsx("path",{d:"M25 5 L45 12 L45 29 C45 39 35 46 25 50 C15 46 5 39 5 29 L5 12 Z",fill:"none",stroke:"url(#footerGold)",strokeWidth:"1.5"}),i.jsx("text",{x:"25",y:"35",fontFamily:"Georgia, serif",fontSize:"24",fontWeight:"bold",fill:"url(#footerGold)",textAnchor:"middle",children:"S"})]})}),i.jsxs("div",{className:"flex items-baseline gap-1",children:[i.jsx("span",{className:"font-serif text-white text-sm lg:text-base",children:"SAXO"}),i.jsx("span",{className:"font-serif text-sm lg:text-base",style:{color:N.gold},children:"VAULT"})]})]}),i.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 lg:gap-6 text-white/60 text-xs lg:text-sm",children:[i.jsx("span",{children:" 2024 SaxoVault Capital"}),i.jsx("span",{children:"Privacy Policy"}),i.jsx("span",{children:"Terms of Service"})]})]})})})]})}function IM({onSelectInvestment:t}){const[e,n]=D.useState("crypto"),[s,r]=D.useState(""),[a,o]=D.useState("grid"),c=(JSON.parse(localStorage.getItem("saxovault_investments")||"null")||jh).filter(d=>d.type===e&&d.name.toLowerCase().includes(s.toLowerCase()));return i.jsx("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:N.cream},children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-6",children:[i.jsxs("div",{className:"mb-6 lg:mb-8",children:[i.jsx("h1",{className:"font-serif text-2xl lg:text-3xl mb-1",style:{color:N.navy},children:"Investment Opportunities"}),i.jsx("p",{className:"text-gray-500 text-sm",children:"Explore our curated selection across multiple asset classes."})]}),i.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-6",children:i.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Lv,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",value:s,onChange:d=>r(d.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Search investments..."})]}),i.jsx("div",{className:"flex gap-2 overflow-x-auto",children:pM.map(d=>i.jsxs("button",{onClick:()=>n(d.id),className:`flex items-center gap-1.5 px-3 py-2 rounded-lg whitespace-nowrap text-sm transition-all ${e===d.id?"text-white shadow":"bg-gray-50 text-gray-600 hover:bg-gray-100"}`,style:e===d.id?{background:N.navy}:{},children:[i.jsx(d.icon,{className:"w-4 h-4"}),d.name]},d.id))})]})}),i.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:[c.length," investments found"]}),i.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6",children:c.map((d,h)=>{var f,p;return i.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:h*.03},onClick:()=>t(d),className:"bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-xl transition-all cursor-pointer border border-gray-100 group",children:[i.jsxs("div",{className:"relative h-44 lg:h-48",children:[i.jsx("img",{src:d.img||d.customImg,alt:d.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent"}),i.jsx("div",{className:"absolute top-3 right-3",children:i.jsx("span",{className:"px-2.5 py-1 rounded-full text-xs font-medium text-white backdrop-blur-sm",style:{background:d.status==="Active"?"rgba(16,185,129,0.9)":d.status==="Open"?"rgba(10,22,40,0.9)":"rgba(212,175,55,0.9)"},children:d.status})}),i.jsxs("div",{className:"absolute bottom-3 left-4 right-4",children:[i.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide mb-1",children:d.category}),i.jsx("h3",{className:"font-serif text-white text-xl leading-tight",children:d.name})]})]}),i.jsxs("div",{className:"p-5",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b border-gray-100",children:[i.jsxs("div",{className:"text-center flex-1",children:[i.jsx("p",{className:"text-base font-bold",style:{color:N.green},children:d.returns}),i.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:"Returns"})]}),i.jsx("div",{className:"w-px h-10 bg-gray-100"}),i.jsxs("div",{className:"text-center flex-1",children:[i.jsx("p",{className:"text-base font-bold",style:{color:N.navy},children:d.min>=1e3?`$${(d.min/1e3).toFixed(d.min%1e3===0?0:1)}K`:`$${d.min}`}),i.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:"Minimum"})]}),i.jsx("div",{className:"w-px h-10 bg-gray-100"}),i.jsxs("div",{className:"text-center flex-1",children:[i.jsx("p",{className:"text-base font-bold",style:{color:N.gold},children:((f=d.term)==null?void 0:f.split(" ")[0])||"12"}),i.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:(p=d.term)!=null&&p.includes("day")?"Days":"Months"})]})]}),i.jsx("p",{className:"text-sm text-gray-500 mb-4 line-clamp-2",children:d.desc||"Premium investment opportunity with professional management and strong projected returns."}),d.progress!==void 0&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex justify-between text-xs mb-1.5",children:[i.jsxs("span",{className:"text-gray-600 font-medium",children:[d.progress,"% funded"]}),i.jsxs("span",{className:"text-gray-400",children:["$",(d.progress/100*(d.goal||1e6)/1e3).toFixed(0),"K raised"]})]}),i.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:i.jsx(F.div,{initial:{width:0},animate:{width:`${d.progress}%`},transition:{duration:1,delay:h*.1},className:"h-full rounded-full",style:{background:`linear-gradient(90deg, ${N.green}, ${N.gold})`}})})]}),i.jsxs("button",{className:"w-full py-3 rounded-xl text-sm font-semibold text-white transition-all hover:shadow-lg group-hover:scale-[1.02]",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:["View Details",i.jsx(l2,{className:"w-4 h-4 inline ml-1"})]})]})]},d.id)})}),c.length===0&&i.jsxs("div",{className:"text-center py-16",children:[i.jsx(Lv,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500",children:"No investments found matching your criteria."})]})]})})}function kM({investment:t,onClose:e,onInvest:n}){var s,r,a;return t?i.jsxs(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-white z-50 overflow-y-auto",children:[i.jsx("div",{className:"sticky top-0 bg-white/95 backdrop-blur-sm border-b border-gray-100 z-10",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-3 flex items-center justify-between",children:[i.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[i.jsx(Ql,{className:"w-5 h-5"})," Back"]}),i.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium text-white",style:{background:t.status==="Active"?N.green:N.gold},children:t.status})]})}),i.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[i.jsxs("div",{className:"relative h-48 lg:h-64 rounded-2xl overflow-hidden mb-6",children:[i.jsx("img",{src:t.img||t.customImg,alt:t.name,className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"}),i.jsxs("div",{className:"absolute bottom-4 left-4",children:[i.jsx("span",{className:"px-2 py-1 rounded bg-white/20 backdrop-blur text-white text-xs mb-2 inline-block",children:t.category}),i.jsx("h1",{className:"font-serif text-2xl lg:text-3xl text-white",children:t.name})]})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[i.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 text-center",children:[i.jsx("p",{className:"text-xl lg:text-2xl font-bold",style:{color:N.green},children:t.returns}),i.jsx("p",{className:"text-xs text-gray-500",children:"Returns"})]}),i.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 text-center",children:[i.jsx("p",{className:"text-xl lg:text-2xl font-bold",style:{color:N.navy},children:t.min>=1e3?`$${t.min/1e3}K`:`$${t.min}`}),i.jsx("p",{className:"text-xs text-gray-500",children:"Min"})]}),i.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 text-center",children:[i.jsx("p",{className:"text-xl lg:text-2xl font-bold",style:{color:N.gold},children:((s=t.term)==null?void 0:s.split(" ")[0])||"12"}),i.jsx("p",{className:"text-xs text-gray-500",children:(r=t.term)!=null&&r.includes("month")?"Months":"Term"})]}),i.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 text-center",children:[i.jsx("p",{className:"text-xl lg:text-2xl font-bold text-gray-700",children:t.investors||"50+"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Investors"})]})]}),t.progress!==void 0&&i.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-6",children:[i.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[i.jsx("span",{className:"font-medium",style:{color:N.navy},children:"Funding Progress"}),i.jsxs("span",{className:"font-bold",children:[t.progress,"%"]})]}),i.jsx("div",{className:"h-3 bg-gray-200 rounded-full overflow-hidden mb-2",children:i.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${t.progress}%`,background:`linear-gradient(90deg, ${N.green}, ${N.gold})`}})}),i.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[i.jsxs("span",{children:["$",(t.progress/100*(t.goal||1e6)).toLocaleString()," raised"]}),i.jsxs("span",{children:["Goal: $",(t.goal||1e6).toLocaleString()]})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"font-semibold text-lg mb-2",style:{color:N.navy},children:"About This Investment"}),i.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:t.desc||"A premium investment opportunity with strong projected returns and professional management. This carefully vetted opportunity offers investors exposure to a high-growth sector with risk-managed strategies."})]}),t.features&&t.features.length>0&&i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"font-semibold text-lg mb-3",style:{color:N.navy},children:"Key Features"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:t.features.map((o,l)=>i.jsxs("div",{className:"flex items-center gap-2 p-2.5 bg-gray-50 rounded-lg",children:[i.jsx(gn,{className:"w-4 h-4 text-green-600 flex-shrink-0"}),i.jsx("span",{className:"text-sm text-gray-700",children:o})]},l))})]}),i.jsx("div",{className:"mb-6",children:i.jsx(nE,{})}),i.jsxs("div",{className:"sticky bottom-0 bg-white pt-4 pb-6 -mx-4 px-4 border-t border-gray-100 lg:relative lg:border-0 lg:pt-0 lg:pb-0 lg:mx-0 lg:px-0",children:[i.jsxs(F.button,{onClick:n,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-4 rounded-xl text-white font-semibold text-lg shadow-xl",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:["Invest Now - Min $",(a=t.min)==null?void 0:a.toLocaleString()]}),i.jsx("p",{className:"text-center text-xs text-gray-400 mt-2",children:"Secure  Instant Confirmation  24/7 Support"})]})]})]}):null}function CM({investment:t,onClose:e,balance:n}){const[s,r]=D.useState(1),[a,o]=D.useState(t.min),[l,c]=D.useState("BTC"),[d,h]=D.useState(1800),[f,p]=D.useState(!1),[x,j]=D.useState(!1),[_,k]=D.useState(!1),S=JSON.parse(localStorage.getItem("saxovault_current_user")||"{}"),v=S.balance||n||0,b=()=>t.min>v?`Insufficient balance. You have $${v.toLocaleString()} available. Minimum investment is $${t.min.toLocaleString()}. Please deposit funds first.`:"",[R,M]=D.useState(b);D.useEffect(()=>{parseFloat(a)>v?M(`Insufficient balance. You have $${v.toLocaleString()} available. Please deposit funds first.`):parseFloat(a)<t.min?M(`Minimum investment for ${t.name} is $${t.min.toLocaleString()}`):M("")},[a,v,t.min,t.name]),D.useEffect(()=>{if(t.isTestPlan&&t.onePerUser){const V=JSON.parse(localStorage.getItem(`investments_${S.uid}`)||"[]"),U=G.getTransactions().filter(Q=>Q.userId===S.uid),re=V.some(Q=>Q.investmentId===100||Q.investmentName==="Test Plan")||U.some(Q=>Q.investmentId===100||Q.investmentName==="Test Plan");j(re)}},[t,S.uid]);const E=JSON.parse(localStorage.getItem("saxovault_settings")||"{}").wallets||{BTC:"bc1qzmgg6hw0fttfpczh2whp8f44k497d6pucghk58",ETH:"0x83057882eC7B7EE0cBe63C2fE2b8957e7ab69655",USDT:"TLGH9FucAuPNUoQw2XUFEDtCg4FFdJ2jKG"},w=[{id:"BTC",name:"Bitcoin",icon:"",color:"#f7931a"},{id:"ETH",name:"Ethereum",icon:"",color:"#627eea"},{id:"USDT",name:"USDT (TRC-20)",icon:"",color:"#26a17b"}],C=(()=>{if(t.dailyRate&&t.totalDays)return t.dailyRate/100*t.totalDays;const U=(t.returns||"12%").match(/(\d+)/);return U?parseFloat(U[1])/100:.12})(),A=t.dailyRate?a*t.dailyRate/100:a*C/(t.totalDays||30),L=a*C,P=a+L;D.useEffect(()=>{if(s===2&&d>0){const V=setInterval(()=>h(U=>U-1),1e3);return()=>clearInterval(V)}},[s,d]);const fe=V=>{const U=Math.floor(V/60),re=V%60;return`${U.toString().padStart(2,"0")}:${re.toString().padStart(2,"0")}`},ae=V=>{navigator.clipboard.writeText(V),p(!0),setTimeout(()=>p(!1),2e3)},le=()=>{const V=E[l],U=parseFloat(a),re=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),Q=/iPhone|iPad|iPod/i.test(navigator.userAgent);navigator.clipboard.writeText(V).then(()=>{console.log(" Address copied to clipboard")}).catch(O=>{console.error("Could not copy address:",O)});let de=l,ye="";if(l==="BTC"?(de="Bitcoin",ye="Open your Bitcoin wallet (Coinbase, Trust Wallet, Cash App, etc.)"):l==="ETH"?(de="Ethereum",ye="Open your Ethereum wallet (MetaMask, Trust Wallet, Coinbase, etc.)"):l==="USDT"&&(de="USDT TRC-20",ye="Open your USDT wallet (Trust Wallet, TronLink, Binance, etc.)"),Q){alert(` Send ${de}

 Address copied to clipboard!

Steps:
1. ${ye}
2. Tap "Send" or "Transfer"
3. Paste the address (long-press  Paste)
4. Enter amount: $${U.toLocaleString()} USD
5. Confirm and send

Address:
${V.substring(0,25)}...`);return}if(re&&!Q){let O=null;if(l==="BTC"){const ce=(U/95e3).toFixed(8);O=`bitcoin:${V}?amount=${ce}`}else if(l==="ETH"){const ce=(U/3500).toFixed(8);O=`ethereum:${V}?value=${ce}`}else l==="USDT"&&(O=`trust://send?asset=trc20_TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t&address=${V}&amount=${U}`);O&&(window.location.href=O,setTimeout(()=>{alert(`If your wallet didn't open:

 Address copied to clipboard!

1. ${ye}
2. Tap "Send"
3. Paste the address
4. Amount: $${U.toLocaleString()} USD

Address: ${V.substring(0,20)}...`)},2e3));return}alert(` Send ${de}

 Address copied to clipboard!

Steps:
1. ${ye}
2. Click "Send"
3. Paste the address (Ctrl+V / Cmd+V)
4. Enter amount: $${U.toLocaleString()} USD
5. Confirm and send

Address:
${V}`)},te=async()=>{var V;console.log(" Starting investment submission..."),k(!0);try{const U=JSON.parse(localStorage.getItem("saxovault_current_user")||"{}");if(!U.email||!U.uid){alert("Please login to continue"),k(!1);return}const re=U.balance||0,Q=parseFloat(a);if(Q>re){alert(` Insufficient Balance

You cannot invest more than your available balance.

Your balance: $${re.toLocaleString()}
Investment amount: $${Q.toLocaleString()}

Please deposit funds first.`),k(!1);return}if(Q<t.min){alert(` Below Minimum Investment

Minimum investment for ${t.name} is $${t.min.toLocaleString()}.`),k(!1);return}const de=(V=t.term)==null?void 0:V.match(/(\d+)/);let ye=t.totalDays||30;if(de){const xe=parseInt(de[1]);t.term.includes("month")?ye=xe*30:t.term.includes("day")?ye=xe:t.term.includes("year")&&(ye=xe*365)}const O=new Date;O.setDate(O.getDate()+ye);const ce={type:"investment",investmentId:t.id,investmentName:t.name,category:t.category,amount:parseFloat(a),crypto:l,walletAddress:E[l],returnRate:(C*100).toFixed(1)+"%",dailyRate:t.dailyRate||C*100/ye,dailyProfit:parseFloat(A.toFixed(2)),expectedReturn:parseFloat(L.toFixed(2)),totalReturn:parseFloat(P.toFixed(2)),term:t.term,totalDays:ye,maturityDate:O.toISOString(),userEmail:U.email,userId:U.uid,userName:U.name||"User",isTestPlan:t.isTestPlan||!1,payoutSchedule:t.payoutSchedule||"End of Term",approvalDate:null,countdownStarted:!1};console.log(" Investment data:",ce);const K=await G.addTransaction(ce);console.log(" Investment saved to storage:",K);const we=JSON.parse(localStorage.getItem(`investments_${U.uid}`)||"[]");we.push({...ce,id:K.id,firestoreId:K.firestoreId,status:"pending",createdAt:new Date().toISOString()}),localStorage.setItem(`investments_${U.uid}`,JSON.stringify(we)),console.log(" Sending email notifications..."),je.sendInvestmentNotification(U.email,t.name,a,t.term).then(xe=>{console.log(" Investment email sent:",xe)}).catch(xe=>{console.error(" Investment email failed:",xe)});try{const Le=U.usedReferralCode||U.referralCode||U.referredBy;if(Le){console.log(" Checking for referrer with code:",Le);const Te=G.getUsers(),be=Te.find(at=>at.referralCode===Le||at.uid===Le||at.uid===U.referredBy);if(be&&be.uid!==U.uid){console.log(" Found referrer:",be.email);const at=parseFloat(a)*4/100;console.log(` Referral bonus: $${at.toFixed(2)} (4% of $${a})`);const hn=JSON.parse(localStorage.getItem(`user_${be.uid}`)||"{}"),Zt=(hn.balance||be.balance||0)+at;hn.balance=Zt,localStorage.setItem(`user_${be.uid}`,JSON.stringify(hn)),await G.updateUser(be.uid,{balance:Zt});const Gt=Te.map(Oe=>Oe.uid===be.uid?{...Oe,balance:Zt}:Oe);G.setUsers(Gt);const fn=JSON.parse(localStorage.getItem("saxovault_current_user")||"{}");fn.uid===be.uid&&(fn.balance=Zt,localStorage.setItem("saxovault_current_user",JSON.stringify(fn)));const It={type:"referral_bonus",amount:at,status:"approved",userEmail:be.email,userId:be.uid,userName:be.name||be.email,referredUser:U.email,referredUserName:U.name||U.email,investmentAmount:parseFloat(a),investmentName:t.name,bonusPercent:4,note:`4% referral bonus from ${U.email}'s investment of $${parseFloat(a).toLocaleString()} in ${t.name}`};await G.addTransaction(It),console.log(" Referral bonus transaction created");const Me=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}");Me[be.uid]||(Me[be.uid]=[]),Me[be.uid].unshift({id:Date.now(),type:"referral_bonus",title:" Referral Bonus Credited!",message:`You earned $${at.toFixed(2)} (4%) from ${U.name||U.email}'s investment of $${parseFloat(a).toLocaleString()} in ${t.name}`,amount:at,read:!1,createdAt:new Date().toISOString()}),localStorage.setItem("saxovault_user_notifications",JSON.stringify(Me));try{const Oe=` Referral Bonus Credited!

Great news! You've earned a referral bonus!

Bonus Details:
 Amount: $${at.toFixed(2)}
 From: ${U.name||U.email}
 Their Investment: $${parseFloat(a).toLocaleString()} in ${t.name}
 Bonus Rate: 4%

Your new balance: $${Zt.toLocaleString()}

The bonus has been credited to your account instantly!

Keep referring friends to earn more bonuses on every investment they make.

Best regards,
SaxoVault Capital Team`;await je.sendEmail(be.email,` You earned $${at.toFixed(2)} Referral Bonus!`,Oe,"referral"),console.log(" Referral bonus email sent to:",be.email)}catch(Oe){console.error(" Referral bonus email failed:",Oe)}G.notifyAdmin({type:"referral_bonus",title:" Referral Bonus Paid",message:`$${at.toFixed(2)} bonus paid to ${be.email} from ${U.email}'s $${parseFloat(a).toLocaleString()} investment`,urgent:!1,actionRequired:!1}),console.log(` Referral bonus of $${at.toFixed(2)} credited to ${be.email}`)}else console.log(" No referrer found for code:",Le)}else console.log(" User was not referred by anyone")}catch(xe){console.error(" Referral bonus error (non-critical):",xe)}G.logActivity(U.uid,"investment_request",{investment:t.name,amount:a,crypto:l,expectedReturn:L,dailyProfit:A}),console.log(" Investment submission complete!"),k(!1),r(3)}catch(U){console.error(" Investment submission error:",U),alert("Error submitting investment. Please try again. Error: "+U.message),k(!1)}};return i.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-end lg:items-center justify-center p-0 lg:p-4",onClick:e,children:i.jsx(F.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"tween"},className:"bg-white rounded-t-3xl lg:rounded-3xl w-full lg:max-w-lg shadow-2xl max-h-[90vh] overflow-y-auto",onClick:V=>V.stopPropagation(),children:i.jsxs("div",{className:"p-5 lg:p-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl",style:{color:N.navy},children:s===1?"Investment Amount":s===2?"Make Payment":" Pending Approval"}),i.jsx("p",{className:"text-sm text-gray-500",children:t.name})]}),i.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:i.jsx(Pt,{className:"w-5 h-5"})})]}),s===1&&i.jsxs("div",{children:[t.isTestPlan&&x&&i.jsxs("div",{className:"mb-4 p-4 rounded-xl bg-red-50 border border-red-200",children:[i.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[i.jsx(cs,{className:"w-5 h-5"}),i.jsx("span",{className:"font-medium",children:"One Per Account"})]}),i.jsx("p",{className:"text-red-600 text-sm mt-1",children:"You have already invested in the Test Plan. This plan is limited to one investment per account."})]}),t.isTestPlan&&!x&&i.jsxs("div",{className:"mb-4 p-4 rounded-xl bg-green-50 border border-green-200",children:[i.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[i.jsx(Je,{className:"w-5 h-5"}),i.jsx("span",{className:"font-medium",children:"Test Plan - Perfect for Beginners!"})]}),i.jsx("p",{className:"text-green-600 text-sm mt-1",children:"Earn 1% daily for 5 days. Fixed $500 investment. One per account."})]}),i.jsx("label",{className:"block font-medium text-gray-700 mb-2 text-sm",children:"Investment Amount (USD)"}),i.jsxs("div",{className:"relative mb-4",children:[i.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-2xl font-bold text-gray-400",children:"$"}),i.jsx("input",{type:"number",value:t.isTestPlan?t.min:a,onChange:V=>!t.isTestPlan&&o(Math.max(t.min,Math.min(t.max||1e6,+V.target.value))),className:"w-full pl-12 pr-4 py-4 text-2xl font-bold border-2 rounded-xl text-center focus:outline-none",style:{borderColor:N.gold},readOnly:t.isTestPlan})]}),i.jsx("p",{className:"text-xs text-gray-500 mb-4",children:t.isTestPlan?"Fixed amount: $500":`Minimum: $${t.min.toLocaleString()}`}),!t.isTestPlan&&i.jsx("div",{className:"flex gap-2 mb-6",children:[1,2,5,10].map(V=>{const U=t.min*V,re=U>=1e3?`$${U/1e3}K`:`$${U}`;return i.jsx("button",{onClick:()=>o(U),className:`flex-1 py-2.5 rounded-xl text-sm font-medium border-2 transition-all ${a===U?"text-white":"border-gray-200"}`,style:a===U?{background:N.navy,borderColor:N.navy}:{},children:re},V)})}),i.jsx("label",{className:"block font-medium text-gray-700 mb-2 text-sm",children:"Select Cryptocurrency"}),i.jsx("div",{className:"space-y-2 mb-6",children:w.map(V=>i.jsxs("button",{onClick:()=>c(V.id),className:`w-full flex items-center gap-3 p-4 rounded-xl border-2 transition-all ${l===V.id?"shadow-lg":"border-gray-200"}`,style:l===V.id?{borderColor:V.color,background:`${V.color}10`}:{},children:[i.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center text-white text-xl font-bold",style:{background:V.color},children:V.icon}),i.jsx("div",{className:"text-left flex-1",children:i.jsx("p",{className:"font-semibold",style:{color:N.navy},children:V.name})}),l===V.id&&i.jsx(Je,{className:"w-5 h-5",style:{color:V.color}})]},V.id))}),i.jsxs("div",{className:"p-4 rounded-2xl mb-4",style:{background:`${N.green}10`},children:[t.dailyRate&&i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-gray-600 text-sm",children:"Daily Profit"}),i.jsxs("span",{className:"font-bold",style:{color:N.green},children:[t.dailyRate,"% ($",A.toLocaleString(void 0,{maximumFractionDigits:2}),"/day)"]})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-gray-600 text-sm",children:"Duration"}),i.jsx("span",{className:"font-bold",style:{color:N.navy},children:t.term})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-gray-600 text-sm",children:"Total Profit"}),i.jsxs("span",{className:"font-bold",style:{color:N.green},children:["+$",L.toLocaleString(void 0,{maximumFractionDigits:2})]})]}),i.jsxs("div",{className:"flex justify-between border-t border-green-200 pt-2 mt-2",children:[i.jsx("span",{className:"text-gray-600 text-sm",children:"Total Payout"}),i.jsxs("span",{className:"font-bold text-lg",style:{color:N.navy},children:["$",(a+L).toLocaleString(void 0,{maximumFractionDigits:2})]})]})]}),i.jsx(nE,{}),R&&i.jsx("div",{className:"mt-4 p-4 rounded-xl bg-red-50 border border-red-200",children:i.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[i.jsx(cs,{className:"w-5 h-5"}),i.jsx("span",{className:"font-medium text-sm",children:R})]})}),i.jsxs("div",{className:"mt-4 p-3 rounded-xl bg-gray-50 flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Your Available Balance:"}),i.jsxs("span",{className:"font-bold",style:{color:v>=a?N.green:"#ef4444"},children:["$",v.toLocaleString()]})]}),i.jsx(F.button,{onClick:()=>{if(R){alert(R);return}r(2)},whileHover:{scale:R?1:1.02},whileTap:{scale:R?1:.98},disabled:t.isTestPlan&&x||!!R,className:"w-full py-4 rounded-xl text-white font-semibold mt-4 disabled:opacity-50 disabled:cursor-not-allowed",style:{background:R?"#9ca3af":`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:t.isTestPlan&&x?"Already Invested in Test Plan":R?"Insufficient Balance":"Continue to Payment"})]}),s===2&&i.jsxs("div",{children:[i.jsxs("div",{className:"text-center mb-6 p-4 rounded-2xl",style:{background:d<300?"#fef2f2":`${N.gold}10`},children:[i.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Payment expires in"}),i.jsxs("p",{className:`text-3xl font-mono font-bold ${d<300?"text-red-500":""}`,style:{color:d>=300?N.navy:void 0},children:[i.jsx(m2,{className:"w-6 h-6 inline mr-2"}),fe(d)]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4 mb-4",children:[i.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Amount to invest"}),i.jsxs("p",{className:"text-2xl font-bold",style:{color:N.navy},children:["$",a.toLocaleString()," USD"]}),i.jsxs("p",{className:"text-sm text-gray-500",children:["Pay equivalent in ",l]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["Send ",l," to this address:"]}),i.jsxs("div",{className:"bg-gray-900 rounded-xl p-4",children:[i.jsxs("p",{className:"text-xs text-gray-400 mb-2 text-center",children:[l," Wallet Address"]}),i.jsx("p",{className:"font-mono text-sm text-white break-all text-center mb-3",children:E[l]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(F.button,{onClick:()=>ae(E[l]),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 py-2.5 rounded-lg text-sm font-medium flex items-center justify-center gap-2",style:{background:f?N.green:N.gold,color:"white"},children:f?i.jsxs(i.Fragment,{children:[i.jsx(Je,{className:"w-4 h-4"})," Copied!"]}):i.jsxs(i.Fragment,{children:[i.jsx(id,{className:"w-4 h-4"})," Copy Address"]})}),i.jsxs(F.button,{onClick:le,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 py-2.5 rounded-lg text-sm font-medium flex items-center justify-center gap-2 bg-blue-500 text-white",children:[i.jsx(V5,{className:"w-4 h-4"})," Open Wallet"]})]})]})]}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:"w-32 h-32 bg-gray-100 rounded-xl flex items-center justify-center",children:i.jsx(z5,{className:"w-16 h-16 text-gray-400"})})}),i.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-3 mb-4",children:i.jsxs("p",{className:"text-xs text-yellow-800",children:[" Only send ",l," to this address. Sending any other cryptocurrency may result in permanent loss."]})}),i.jsx(F.button,{onClick:te,whileHover:{scale:_?1:1.02},whileTap:{scale:_?1:.98},disabled:_,className:"w-full py-4 rounded-xl text-white font-semibold flex items-center justify-center gap-2 disabled:opacity-70",style:{background:`linear-gradient(135deg, ${N.green} 0%, ${N.greenDark} 100%)`},children:_?i.jsxs(i.Fragment,{children:[i.jsx(un,{className:"w-5 h-5 animate-spin"}),"Processing..."]}):"I've Made the Payment"})]}),s===3&&i.jsxs("div",{className:"text-center py-6",children:[i.jsx(F.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring"},className:"w-20 h-20 mx-auto rounded-full flex items-center justify-center mb-4",style:{background:`${N.gold}20`},children:i.jsx(Ii,{className:"w-10 h-10",style:{color:N.gold}})}),i.jsx("h3",{className:"font-serif text-xl mb-2",style:{color:N.navy},children:"Investment Pending"}),i.jsxs("p",{className:"text-gray-500 text-sm mb-6",children:["Your investment of ",i.jsxs("strong",{children:["$",a.toLocaleString()]})," in ",i.jsx("strong",{children:t.name})," is being reviewed."]}),i.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4 text-left space-y-3 mb-6",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-500",children:"Status"}),i.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 rounded-full text-xs font-medium",children:" Pending Approval"})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-500",children:"Amount"}),i.jsxs("span",{className:"font-bold",children:["$",a.toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-500",children:"Payment Method"}),i.jsx("span",{className:"font-bold",children:l})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-500",children:"Expected Return"}),i.jsxs("span",{className:"font-bold",style:{color:N.green},children:["+$",L.toLocaleString(void 0,{maximumFractionDigits:0})]})]})]}),i.jsx("p",{className:"text-xs text-gray-400 mb-4",children:"You will be notified once your investment is approved. This usually takes 1-24 hours."}),i.jsx(F.button,{onClick:e,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-4 rounded-xl text-white font-semibold",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:"Done"})]})]})})})}function AM({user:t,onNavigate:e}){const[n,s]=D.useState(!1),[r,a]=D.useState(!1),[o,l]=D.useState(!1),[c,d]=D.useState([]),[h,f]=D.useState(t);D.useEffect(()=>{const v=async()=>{try{const R=G.getTransactions();R.length>0&&d(R);try{const M=await G.fetchTransactionsFromCloud();if(M&&M.length>0){const B=new Map;M.forEach(w=>{const T=w.firestoreId||w.id||`${w.createdAt}_${w.amount}_${w.userEmail}`;B.set(T,w)}),R.forEach(w=>{for(const[T,C]of B.entries())if(w.id===C.id||w.firestoreId===C.id||w.firestoreId===C.firestoreId||w.id===C.firestoreId){const A=new Date(w.updatedAt||0).getTime(),L=new Date(C.updatedAt||0).getTime();A>=L&&B.set(T,{...C,...w});break}});const E=Array.from(B.values()).sort((w,T)=>new Date(T.createdAt)-new Date(w.createdAt));d(E),G.setTransactions(E)}}catch{console.log("Using cached transactions")}try{const B=(await G.fetchUsersFromCloud()).find(E=>E.uid===t.uid);if(B){const E=JSON.parse(localStorage.getItem(`user_${t.uid}`)||"{}"),w={...B,...E};f(w),localStorage.setItem(`user_${t.uid}`,JSON.stringify(w)),localStorage.setItem("saxovault_current_user",JSON.stringify(w))}}catch{console.log("Using cached user data")}}catch{console.log("Using cached data"),d(G.getTransactions())}};v();const b=setInterval(v,3e4);return()=>clearInterval(b)},[t.uid]),JSON.parse(localStorage.getItem("saxovault_investments")||"null");const p=c.filter(v=>v.userId===t.uid&&v.type==="investment"&&(v.status==="approved"||v.status==="completed")),x=p.length>0?p.map(v=>{let b=.1;v.returnRate&&(typeof v.returnRate=="string"?b=parseFloat(v.returnRate)/100:v.returnRate<1?b=v.returnRate:b=v.returnRate/100);let R=0,M=0,B=!1,E=0;if(v.countdownStarted&&v.maturityDate){const w=new Date,T=new Date(v.maturityDate),C=v.approvalDate?new Date(v.approvalDate):w,A=T-C,L=T-w;L>0?(B=!0,R=Math.floor(L/(1e3*60*60*24)),M=Math.floor(L%(1e3*60*60*24)/(1e3*60*60)),E=Math.round((A-L)/A*100)):E=100}return{id:v.id,name:v.investmentName||"Investment",type:v.category||v.investmentType||"Mixed",invested:v.amount||0,current:(v.amount||0)+(v.expectedReturn||v.amount*b),returns:b*100,expectedReturn:v.expectedReturn||v.amount*b,dailyProfit:v.dailyProfit||v.amount*(v.dailyRate||1)/100,dailyRate:v.dailyRate||0,term:v.term,totalDays:v.totalDays,maturityDate:v.maturityDate,approvalDate:v.approvalDate,countdownActive:B,daysRemaining:R,hoursRemaining:M,progressPercent:E,status:v.status,color:"#3b82f6"}}):[],j=x.reduce((v,b)=>v+b.invested,0),_=x.reduce((v,b)=>v+b.current,0),k=_-j,S=h.balance||0;return i.jsxs("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:N.cream},children:[i.jsxs("div",{className:"max-w-6xl mx-auto px-4 lg:px-6",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsxs("div",{children:[i.jsx("h1",{className:"font-serif text-xl lg:text-2xl",style:{color:N.navy},children:"Dashboard"}),i.jsxs("p",{className:"text-gray-500 text-sm",children:["Welcome back, ",h.name||"Investor"]})]})}),i.jsx(F.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"rounded-2xl p-5 lg:p-6 mb-6 text-white",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-white/60 text-sm mb-1",children:"Available Balance"}),i.jsxs("p",{className:"text-3xl lg:text-4xl font-bold",children:["$",S.toLocaleString()]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(F.button,{onClick:()=>s(!0),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-xl text-sm font-medium",style:{background:N.green,color:"white"},children:[i.jsx(Rn,{className:"w-4 h-4 inline mr-1"})," Deposit"]}),i.jsxs(F.button,{onClick:()=>a(!0),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-xl text-sm font-medium bg-white/20 text-white",children:[i.jsx(nn,{className:"w-4 h-4 inline mr-1"})," Withdraw"]})]})]})}),i.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[i.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[i.jsx("p",{className:"text-gray-500 text-xs mb-1",children:"Portfolio"}),i.jsxs("p",{className:"text-lg font-bold",style:{color:N.navy},children:["$",_.toLocaleString()]})]}),i.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[i.jsx("p",{className:"text-gray-500 text-xs mb-1",children:"Invested"}),i.jsxs("p",{className:"text-lg font-bold",style:{color:N.gold},children:["$",j.toLocaleString()]})]}),i.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[i.jsx("p",{className:"text-gray-500 text-xs mb-1",children:"Returns"}),i.jsxs("p",{className:"text-lg font-bold",style:{color:N.green},children:[k>=0?"+":"","$",k.toLocaleString()]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden mb-6",children:[i.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[i.jsx("h2",{className:"font-medium",style:{color:N.navy},children:"My Investments"}),i.jsx("button",{onClick:()=>e("investments"),className:"text-sm",style:{color:N.gold},children:"View All"})]}),x.length>0?i.jsx("div",{className:"divide-y divide-gray-50",children:x.map((v,b)=>{var R,M;return i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{background:`${v.color}15`},children:i.jsx(Er,{className:"w-5 h-5",style:{color:v.color}})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",style:{color:N.navy},children:v.name}),i.jsxs("p",{className:"text-xs text-gray-400",children:[v.type,"  ",v.term]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"font-bold text-sm",style:{color:N.navy},children:["$",v.current.toLocaleString(void 0,{maximumFractionDigits:2})]}),i.jsxs("p",{className:"text-xs text-green-600",children:["+$",(R=v.expectedReturn)==null?void 0:R.toLocaleString(void 0,{maximumFractionDigits:2})]})]})]}),v.countdownActive?i.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(m2,{className:"w-4 h-4 text-blue-600"}),i.jsx("span",{className:"text-xs font-medium text-blue-600",children:"Time Remaining"})]}),i.jsxs("span",{className:"text-sm font-bold",style:{color:N.navy},children:[v.daysRemaining,"d ",v.hoursRemaining,"h"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"h-2 rounded-full transition-all duration-500",style:{width:`${v.progressPercent}%`,background:`linear-gradient(90deg, ${N.green} 0%, ${N.gold} 100%)`}})}),i.jsxs("div",{className:"flex justify-between mt-1",children:[i.jsxs("span",{className:"text-xs text-gray-500",children:[v.progressPercent,"% complete"]}),v.dailyRate>0&&i.jsxs("span",{className:"text-xs text-green-600",children:["+$",(M=v.dailyProfit)==null?void 0:M.toFixed(2),"/day"]})]})]}):v.status==="pending"?i.jsxs("div",{className:"bg-yellow-50 rounded-lg p-3 flex items-center gap-2",children:[i.jsx(Ii,{className:"w-4 h-4 text-yellow-600"}),i.jsx("span",{className:"text-xs text-yellow-700",children:"Awaiting approval - countdown starts after approval"})]}):v.progressPercent>=100?i.jsxs("div",{className:"bg-green-50 rounded-lg p-3 flex items-center gap-2",children:[i.jsx(Je,{className:"w-4 h-4 text-green-600"}),i.jsx("span",{className:"text-xs text-green-700",children:"Completed! Payout ready"})]}):null]},b)})}):i.jsxs("div",{className:"p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mx-auto mb-4",children:i.jsx(Er,{className:"w-8 h-8 text-gray-400"})}),i.jsx("p",{className:"text-gray-500 font-medium mb-2",children:"No investments yet"}),i.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Start your investment journey today"}),i.jsx(F.button,{onClick:()=>e("investments"),whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-6 py-2 rounded-lg text-white text-sm font-medium",style:{background:N.gold},children:"Browse Investments"})]})]}),i.jsx("div",{className:"grid grid-cols-4 gap-3",children:[{icon:Er,label:"Invest",color:N.navy,action:()=>e("investments")},{icon:ld,label:"Auto-Invest",color:"#f59e0b",action:()=>l(!0)},{icon:Og,label:"History",color:"#8b5cf6",action:()=>e("history")},{icon:qa,label:"Profile",color:N.green,action:()=>e("profile")}].map((v,b)=>i.jsxs(F.button,{onClick:v.action,whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-white rounded-xl p-4 shadow-sm flex flex-col items-center gap-2",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{background:`${v.color}15`},children:i.jsx(v.icon,{className:"w-5 h-5",style:{color:v.color}})}),i.jsx("span",{className:"text-xs font-medium text-gray-600",children:v.label})]},b))})]}),i.jsxs(dt,{children:[n&&i.jsx(sE,{onClose:()=>s(!1)}),r&&i.jsx(rE,{onClose:()=>a(!1),balance:S}),o&&i.jsx(FM,{onClose:()=>l(!1),user:t})]})]})}function PM({user:t}){const[e,n]=D.useState("all"),[s,r]=D.useState("all"),[a,o]=D.useState([]);D.useEffect(()=>{const _=async()=>{let S=G.getTransactions().filter(v=>v.userId===(t==null?void 0:t.uid)||v.userEmail===(t==null?void 0:t.email));o(S);try{const v=await G.fetchTransactionsFromCloud();if(v&&v.length>0){const b=G.getTransactions(),R=new Map;v.forEach(E=>{const w=E.id||E.firestoreId||`${E.createdAt}_${E.amount}_${E.userEmail}`;R.set(w,{...E,syncedToCloud:!0})}),b.forEach(E=>{var w,T;for(const[C,A]of R.entries()){const L=E.id===A.id||E.firestoreId===A.id||E.firestoreId===A.firestoreId||E.id===A.firestoreId,P=`${E.userEmail}_${E.amount}_${E.type}_${(w=E.createdAt)==null?void 0:w.substring(0,16)}`,fe=`${A.userEmail}_${A.amount}_${A.type}_${(T=A.createdAt)==null?void 0:T.substring(0,16)}`;if(L||P===fe){const le=new Date(E.updatedAt||0).getTime(),te=new Date(A.updatedAt||0).getTime(),V=E.status==="completed"||E.status==="rejected",U=A.status==="pending";(V&&U||le>te)&&R.set(C,{...A,...E,syncedToCloud:!0});break}}});const M=Array.from(R.values()).sort((E,w)=>new Date(w.createdAt)-new Date(E.createdAt));G.setTransactions(M);const B=M.filter(E=>E.userId===(t==null?void 0:t.uid)||E.userEmail===(t==null?void 0:t.email));o(B)}}catch(v){console.log("Cloud sync skipped:",v.message)}};_();const k=setInterval(_,1e4);return()=>clearInterval(k)},[t==null?void 0:t.uid,t==null?void 0:t.email]);const l=JSON.parse(localStorage.getItem("saxovault_pending_investments")||"[]").filter(_=>_.userEmail===(t==null?void 0:t.email)),c=[...a.map(_=>({..._,category:_.type})),...l.map(_=>({id:_.id,type:"investment",category:"investment",amount:_.amount,status:_.status,name:_.investmentName,crypto:_.crypto,createdAt:_.createdAt}))],d=new Map;c.forEach(_=>{const k=_.firestoreId||_.id||`${_.createdAt}_${_.amount}_${_.type}`;if(!d.has(k))d.set(k,_);else{const S=d.get(k);(_.status!=="pending"&&S.status==="pending"||new Date(_.updatedAt||0)>new Date(S.updatedAt||0))&&d.set(k,_)}});const f=Array.from(d.values()).sort((_,k)=>new Date(k.createdAt)-new Date(_.createdAt)).filter(_=>e==="all"||_.category===e),p=_=>{switch(_){case"completed":case"approved":return"bg-green-100 text-green-700";case"pending":return"bg-yellow-100 text-yellow-700";case"rejected":case"failed":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},x=_=>{switch(_){case"deposit":return i.jsx(Rn,{className:"w-5 h-5 text-green-600"});case"withdrawal":return i.jsx(nn,{className:"w-5 h-5 text-orange-600"});case"investment":return i.jsx(Er,{className:"w-5 h-5 text-blue-600"});default:return i.jsx(hu,{className:"w-5 h-5 text-gray-600"})}},j=()=>{const _=[["Date","Type","Amount","Status","Details"].join(","),...f.map(b=>[new Date(b.createdAt).toLocaleDateString(),b.type,b.amount,b.status,b.name||b.crypto||""].join(","))].join(`
`),k=new Blob([_],{type:"text/csv"}),S=URL.createObjectURL(k),v=document.createElement("a");v.href=S,v.download=`saxovault_transactions_${new Date().toISOString().split("T")[0]}.csv`,v.click()};return i.jsx("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:N.cream},children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4 lg:px-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"font-serif text-xl lg:text-2xl",style:{color:N.navy},children:"Transaction History"}),i.jsxs("p",{className:"text-gray-500 text-sm",children:[f.length," transactions"]})]}),i.jsxs(F.button,{onClick:j,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-medium",style:{background:N.navy,color:"white"},children:[i.jsx(D5,{className:"w-4 h-4"})," Export"]})]}),i.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm mb-6",children:i.jsx("div",{className:"flex gap-2 overflow-x-auto",children:[{id:"all",label:"All"},{id:"deposit",label:"Deposits"},{id:"withdrawal",label:"Withdrawals"},{id:"investment",label:"Investments"}].map(_=>i.jsx("button",{onClick:()=>n(_.id),className:`px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all ${e===_.id?"text-white":"bg-gray-100 text-gray-600"}`,style:e===_.id?{background:N.navy}:{},children:_.label},_.id))})}),i.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:f.length>0?i.jsx("div",{className:"divide-y divide-gray-100",children:f.map((_,k)=>{var S;return i.jsx(F.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:k*.03},className:"p-4 hover:bg-gray-50 transition-colors",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-gray-100 flex items-center justify-center",children:x(_.type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("p",{className:"font-medium",style:{color:N.navy},children:_.type.charAt(0).toUpperCase()+_.type.slice(1)}),i.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${p(_.status)}`,children:_.status})]}),i.jsxs("p",{className:"text-sm text-gray-500 truncate",children:[_.name||_.crypto||"Transaction","  ",new Date(_.createdAt).toLocaleDateString()]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:`font-bold ${_.type==="withdrawal"?"text-orange-600":"text-green-600"}`,children:[_.type==="withdrawal"?"-":"+","$",(S=_.amount)==null?void 0:S.toLocaleString()]}),i.jsx("p",{className:"text-xs text-gray-400",children:new Date(_.createdAt).toLocaleTimeString()})]})]})},k)})}):i.jsxs("div",{className:"text-center py-16",children:[i.jsx(Og,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500",children:"No transactions yet"})]})})]})})}function RM({user:t}){const[e,n]=D.useState([]);D.useEffect(()=>{const o=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}"),l=JSON.parse(localStorage.getItem("saxovault_broadcasts")||"[]"),c=[...o[t==null?void 0:t.email]||[],...l.map(d=>({...d,type:"broadcast",title:d.title,message:d.message}))].sort((d,h)=>new Date(h.createdAt)-new Date(d.createdAt));n(c)},[t]);const s=o=>{const l=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}");l[t==null?void 0:t.email]&&(l[t.email]=l[t.email].map(c=>c.id===o?{...c,read:!0}:c),localStorage.setItem("saxovault_user_notifications",JSON.stringify(l)),n(c=>c.map(d=>d.id===o?{...d,read:!0}:d)))},r=o=>{switch(o){case"investment_approved":return i.jsx(Je,{className:"w-5 h-5 text-green-600"});case"investment_rejected":return i.jsx(Pt,{className:"w-5 h-5 text-red-600"});case"deposit_confirmed":return i.jsx(Rn,{className:"w-5 h-5 text-green-600"});case"withdrawal_processed":return i.jsx(nn,{className:"w-5 h-5 text-orange-600"});case"broadcast":return i.jsx(As,{className:"w-5 h-5 text-blue-600"});default:return i.jsx(As,{className:"w-5 h-5 text-gray-600"})}},a=e.filter(o=>!o.read).length;return i.jsx("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:N.cream},children:i.jsxs("div",{className:"max-w-2xl mx-auto px-4 lg:px-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"font-serif text-xl lg:text-2xl",style:{color:N.navy},children:"Notifications"}),i.jsxs("p",{className:"text-gray-500 text-sm",children:[a," unread"]})]}),a>0&&i.jsx("button",{onClick:()=>{const o=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}");o[t==null?void 0:t.email]&&(o[t.email]=o[t.email].map(l=>({...l,read:!0})),localStorage.setItem("saxovault_user_notifications",JSON.stringify(o)),n(l=>l.map(c=>({...c,read:!0}))))},className:"text-sm font-medium",style:{color:N.gold},children:"Mark all as read"})]}),i.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:e.length>0?i.jsx("div",{className:"divide-y divide-gray-100",children:e.map((o,l)=>i.jsx(F.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:l*.03},onClick:()=>s(o.id),className:`p-4 cursor-pointer transition-colors ${o.read?"bg-white":"bg-blue-50"} hover:bg-gray-50`,children:i.jsxs("div",{className:"flex gap-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center flex-shrink-0",children:r(o.type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("p",{className:"font-medium text-sm",style:{color:N.navy},children:o.title}),!o.read&&i.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500"})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:o.message}),i.jsx("p",{className:"text-xs text-gray-400",children:new Date(o.createdAt).toLocaleString()})]})]})},l))}):i.jsxs("div",{className:"text-center py-16",children:[i.jsx(As,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500",children:"No notifications yet"})]})})]})})}function DM({user:t}){const[e,n]=D.useState([]);return D.useEffect(()=>{const s=JSON.parse(localStorage.getItem("saxovault_activity_logs")||"{}");n(s[t==null?void 0:t.email]||[])},[t]),i.jsx("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:N.cream},children:i.jsxs("div",{className:"max-w-2xl mx-auto px-4 lg:px-6",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h1",{className:"font-serif text-xl lg:text-2xl",style:{color:N.navy},children:"Activity Log"}),i.jsx("p",{className:"text-gray-500 text-sm",children:"Your recent account activity"})]}),i.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:e.length>0?i.jsx("div",{className:"divide-y divide-gray-100",children:e.map((s,r)=>i.jsx("div",{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${s.type==="login"?"bg-green-100":s.type==="logout"?"bg-gray-100":s.type==="password_change"?"bg-yellow-100":"bg-blue-100"}`,children:[s.type==="login"&&i.jsx(Ra,{className:"w-5 h-5 text-green-600 rotate-180"}),s.type==="logout"&&i.jsx(Ra,{className:"w-5 h-5 text-gray-600"}),s.type==="password_change"&&i.jsx(ad,{className:"w-5 h-5 text-yellow-600"}),s.type==="profile_update"&&i.jsx(qa,{className:"w-5 h-5 text-blue-600"})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-sm",style:{color:N.navy},children:s.type==="login"?"Signed in":s.type==="logout"?"Signed out":s.type==="password_change"?"Password changed":"Profile updated"}),i.jsx("p",{className:"text-xs text-gray-500",children:new Date(s.timestamp).toLocaleString()})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-xs text-gray-400",children:s.ip||"Unknown IP"}),i.jsx("p",{className:"text-xs text-gray-400",children:s.device||"Unknown Device"})]})]})},r))}):i.jsxs("div",{className:"text-center py-16",children:[i.jsx(T5,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500",children:"No activity recorded yet"})]})}),i.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-xl",children:[i.jsxs("h3",{className:"font-medium text-blue-800 mb-2 flex items-center gap-2",children:[i.jsx(Lr,{className:"w-5 h-5"})," Security Tips"]}),i.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[i.jsx("li",{children:" Review your activity regularly for suspicious logins"}),i.jsx("li",{children:" Enable two-factor authentication for extra security"}),i.jsx("li",{children:" Never share your password with anyone"})]})]})]})})}function sE({onClose:t}){const[e,n]=D.useState(1),[s,r]=D.useState(""),[a,o]=D.useState(null),[l,c]=D.useState(!1),[d,h]=D.useState(1800),[f,p]=D.useState(""),[x,j]=D.useState(null),[_,k]=D.useState(!1),[S,v]=D.useState(!1),b=D.useRef(null),R=[{id:"btc",name:"Bitcoin",symbol:"BTC",icon:"",color:"#f7931a",address:"bc1qzmgg6hw0fttfpczh2whp8f44k497d6pucghk58",network:"Bitcoin"},{id:"eth",name:"Ethereum",symbol:"ETH",icon:"",color:"#627eea",address:"0x83057882eC7B7EE0cBe63C2fE2b8957e7ab69655",network:"ERC-20"},{id:"usdt",name:"Tether",symbol:"USDT",icon:"",color:"#26a17b",address:"TLGH9FucAuPNUoQw2XUFEDtCg4FFdJ2jKG",network:"TRC-20"},{id:"usdc",name:"USD Coin",symbol:"USDC",icon:"$",color:"#2775ca",address:"0x83057882eC7B7EE0cBe63C2fE2b8957e7ab69655",network:"ERC-20"},{id:"bnb",name:"BNB",symbol:"BNB",icon:"B",color:"#f3ba2f",address:"0x83057882eC7B7EE0cBe63C2fE2b8957e7ab69655",network:"BEP-20"}];D.useEffect(()=>{if(e===2&&d>0){const T=setInterval(()=>h(C=>C-1),1e3);return()=>clearInterval(T)}},[e,d]);const M=T=>`${Math.floor(T/60).toString().padStart(2,"0")}:${(T%60).toString().padStart(2,"0")}`,B=T=>{navigator.clipboard.writeText(T),c(!0),setTimeout(()=>c(!1),2e3)},E=T=>{var A;const C=(A=T.target.files)==null?void 0:A[0];if(C){if(C.size>5*1024*1024){alert("File too large. Max 5MB.");return}k(!0);const L=new FileReader;L.onload=()=>{j(L.result),k(!1)},L.readAsDataURL(C)}},w=async()=>{if(!f&&!x){alert("Please provide transaction hash or payment proof.");return}v(!0),console.log(" Starting deposit submission...");try{const T=JSON.parse(localStorage.getItem("saxovault_current_user")||"{}");if(!T.email||!T.uid){alert("Please login to continue"),v(!1);return}const C={type:"deposit",amount:parseFloat(s),crypto:a.symbol,network:a.network,txHash:f||null,proofImage:x?"uploaded":null,userEmail:T.email,userId:T.uid,userName:T.name||"User"};console.log(" Deposit data:",C);const A=await G.addTransaction(C);console.log(" Deposit saved:",A),console.log(" Sending deposit email notification...");try{const L=await je.sendDepositNotification(T.email,parseFloat(s),a.symbol);console.log(" Deposit email sent:",L)}catch(L){console.error(" Deposit email failed:",L)}v(!1),n(4),console.log(" Deposit submission complete!")}catch(T){console.error(" Deposit submission error:",T),alert("Error submitting deposit. Please try again."),v(!1)}};return i.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t,children:i.jsxs(F.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-2xl w-full max-w-md shadow-xl overflow-hidden",onClick:T=>T.stopPropagation(),children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",style:{background:N.navy},children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Rn,{className:"w-5 h-5 text-white"}),i.jsx("span",{className:"text-white font-medium",children:"Deposit Funds"})]}),i.jsx("button",{onClick:t,className:"text-white/70 hover:text-white",children:i.jsx(Pt,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"px-6 py-3 bg-gray-50 border-b border-gray-100",children:[i.jsx("div",{className:"flex gap-2",children:[1,2,3,4].map(T=>i.jsx("div",{className:`h-1 flex-1 rounded-full ${e>=T?"bg-blue-500":"bg-gray-200"}`},T))}),i.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Step ",e," of 4: ",e===1?"Select Amount":e===2?"Send Payment":e===3?"Confirm Payment":"Complete"]})]}),i.jsxs("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:[e===1&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Payment Method"}),i.jsx("div",{className:"grid grid-cols-3 gap-2",children:R.map(T=>i.jsxs("button",{onClick:()=>o(T),className:`p-3 rounded-lg border-2 text-center transition-all ${(a==null?void 0:a.id)===T.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[i.jsx("span",{className:"text-lg",children:T.icon}),i.jsx("p",{className:"text-xs font-medium mt-1",children:T.symbol})]},T.id))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Amount (USD)"}),i.jsx("input",{type:"number",value:s,onChange:T=>r(T.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"Enter amount",min:"10"}),i.jsx("div",{className:"flex gap-2 mt-2",children:[100,500,1e3,5e3].map(T=>i.jsxs("button",{onClick:()=>r(T.toString()),className:"flex-1 py-1.5 text-xs border border-gray-200 rounded hover:bg-gray-50",children:["$",T.toLocaleString()]},T))})]}),i.jsx("button",{onClick:()=>a&&s>=10&&n(2),disabled:!a||!s||parseFloat(s)<10,className:"w-full py-3 rounded-lg text-white font-medium disabled:opacity-50 transition-all",style:{background:N.navy},children:"Continue"})]}),e===2&&a&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"text-center p-3 bg-amber-50 rounded-lg border border-amber-200",children:[i.jsx("p",{className:"text-sm text-amber-700",children:"Complete payment within"}),i.jsx("p",{className:"text-2xl font-mono font-bold text-amber-800",children:M(d)})]}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Amount"}),i.jsxs("span",{className:"font-semibold",children:["$",parseFloat(s).toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Network"}),i.jsx("span",{className:"text-sm font-medium",children:a.network})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:["Send ",a.symbol," to:"]}),i.jsx("div",{className:"p-3 bg-gray-900 rounded-lg",children:i.jsx("p",{className:"font-mono text-xs text-gray-300 break-all text-center",children:a.address})}),i.jsx("button",{onClick:()=>B(a.address),className:"w-full mt-2 py-2 text-sm border border-gray-200 rounded-lg hover:bg-gray-50 flex items-center justify-center gap-2",children:l?i.jsxs(i.Fragment,{children:[i.jsx(Je,{className:"w-4 h-4 text-green-500"})," Copied!"]}):i.jsxs(i.Fragment,{children:[i.jsx(id,{className:"w-4 h-4"})," Copy Address"]})})]}),i.jsxs("p",{className:"text-xs text-gray-500 text-center",children:[" Only send ",a.symbol," via ",a.network,". Wrong network = lost funds."]}),i.jsx("button",{onClick:()=>n(3),className:"w-full py-3 rounded-lg text-white font-medium",style:{background:N.navy},children:"I've Sent Payment"})]}),e===3&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("button",{onClick:()=>n(2),className:"text-sm text-gray-500 hover:text-gray-700 flex items-center gap-1",children:[i.jsx(Ql,{className:"w-4 h-4"})," Back"]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Transaction Hash (Recommended)"}),i.jsx("input",{type:"text",value:f,onChange:T=>p(T.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-blue-500 font-mono text-sm",placeholder:"0x... or txid..."})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex-1 h-px bg-gray-200"}),i.jsx("span",{className:"text-xs text-gray-400",children:"OR"}),i.jsx("div",{className:"flex-1 h-px bg-gray-200"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Upload Proof of Payment"}),i.jsx("input",{ref:b,type:"file",accept:"image/*",onChange:E,className:"hidden"}),x?i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:x,alt:"Proof",className:"w-full h-32 object-cover rounded-lg"}),i.jsx("button",{onClick:()=>j(null),className:"absolute top-2 right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center",children:i.jsx(Pt,{className:"w-3 h-3"})})]}):i.jsx("button",{onClick:()=>{var T;return(T=b.current)==null?void 0:T.click()},className:"w-full p-6 border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 text-center",children:_?i.jsx(un,{className:"w-6 h-6 mx-auto animate-spin text-gray-400"}):i.jsxs(i.Fragment,{children:[i.jsx(zm,{className:"w-6 h-6 mx-auto text-gray-400 mb-2"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Click to upload screenshot"})]})})]}),i.jsx("div",{className:"p-3 bg-gray-50 rounded-lg text-sm",children:i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Verification"}),i.jsx("span",{className:f||x?"text-green-600":"text-amber-600",children:f&&x?" Both provided":f?" Hash provided":x?" Proof uploaded":" Required"})]})}),i.jsx("button",{onClick:w,disabled:!f&&!x||S,className:"w-full py-3 rounded-lg text-white font-medium disabled:opacity-50 flex items-center justify-center gap-2",style:{background:N.navy},children:S?i.jsxs(i.Fragment,{children:[i.jsx(un,{className:"w-4 h-4 animate-spin"})," Processing..."]}):"Submit for Verification"})]}),e===4&&i.jsxs("div",{className:"text-center py-6",children:[i.jsx("div",{className:"w-16 h-16 mx-auto rounded-full bg-green-100 flex items-center justify-center mb-4",children:i.jsx(Je,{className:"w-8 h-8 text-green-500"})}),i.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:N.navy},children:"Deposit Submitted"}),i.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Your deposit is pending verification. You'll be notified once approved."}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg text-sm text-left mb-4",children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-gray-500",children:"Amount"}),i.jsxs("span",{className:"font-medium",children:["$",parseFloat(s).toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-gray-500",children:"Method"}),i.jsx("span",{className:"font-medium",children:a==null?void 0:a.symbol})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Status"}),i.jsx("span",{className:"text-amber-600 font-medium",children:"Pending Approval"})]})]}),i.jsx("button",{onClick:t,className:"w-full py-3 rounded-lg font-medium border border-gray-200 hover:bg-gray-50",children:"Done"})]})]})]})})}function rE({onClose:t,balance:e}){const[n,s]=D.useState(1),[r,a]=D.useState(""),[o,l]=D.useState(null),[c,d]=D.useState(""),[h,f]=D.useState(!1),x=JSON.parse(localStorage.getItem("saxovault_platform_config")||"{}").minWithdrawal||100,j=[{id:"btc",name:"Bitcoin",symbol:"BTC",icon:"",network:"Bitcoin",minWithdraw:50},{id:"eth",name:"Ethereum",symbol:"ETH",icon:"",network:"ERC-20",minWithdraw:50},{id:"usdt",name:"Tether",symbol:"USDT",icon:"",network:"TRC-20",minWithdraw:20},{id:"usdc",name:"USD Coin",symbol:"USDC",icon:"$",network:"ERC-20",minWithdraw:20},{id:"bnb",name:"BNB",symbol:"BNB",icon:"B",network:"BEP-20",minWithdraw:30}],_=(o==null?void 0:o.minWithdraw)||x,k=parseFloat(r)||0,S=k>0&&k<_,v=k>e,b=k>=_&&k<=e,R=c.length>=26,M=()=>r?v?`Insufficient balance. You have $${e.toLocaleString()} available.`:S?`Minimum withdrawal is $${_}. Please enter a higher amount.`:"":"",B=()=>{if(v){alert(` Insufficient Balance

You cannot withdraw more than your available balance.

Your balance: $${e.toLocaleString()}
Requested: $${k.toLocaleString()}`);return}if(S){alert(` Below Minimum

Minimum withdrawal for ${(o==null?void 0:o.symbol)||"this method"} is $${_}.

Please enter at least $${_}.`);return}if(!R){alert("Please enter a valid wallet address (at least 26 characters).");return}s(2)},E=async()=>{if(!(!b||!R)){f(!0),console.log(" Starting withdrawal submission...");try{const w=JSON.parse(localStorage.getItem("saxovault_current_user")||"{}");if(!w.email||!w.uid){alert("Please login to continue"),f(!1);return}const T={type:"withdrawal",amount:parseFloat(r),crypto:o.symbol,network:o.network,walletAddress:c,userEmail:w.email,userId:w.uid,userName:w.name||"User"};console.log(" Withdrawal data:",T);const C=await G.addTransaction(T);console.log(" Withdrawal saved:",C),console.log(" Sending withdrawal email...");try{const A=await je.sendWithdrawalNotification(w.email,parseFloat(r),c);console.log(" Withdrawal email sent:",A)}catch(A){console.error(" Withdrawal email failed:",A)}f(!1),s(3),console.log(" Withdrawal submission complete!")}catch(w){console.error(" Withdrawal submission error:",w),alert("Error submitting withdrawal. Please try again."),f(!1)}}};return i.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t,children:i.jsxs(F.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-2xl w-full max-w-md shadow-xl overflow-hidden",onClick:w=>w.stopPropagation(),children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",style:{background:N.navy},children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(nn,{className:"w-5 h-5 text-white"}),i.jsxs("div",{children:[i.jsx("span",{className:"text-white font-medium",children:"Withdraw Funds"}),i.jsxs("p",{className:"text-white/60 text-xs",children:["Balance: $",e.toLocaleString()]})]})]}),i.jsx("button",{onClick:t,className:"text-white/70 hover:text-white",children:i.jsx(Pt,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"px-6 py-3 bg-gray-50 border-b border-gray-100",children:[i.jsx("div",{className:"flex gap-2",children:[1,2,3].map(w=>i.jsx("div",{className:`h-1 flex-1 rounded-full ${n>=w?"bg-blue-500":"bg-gray-200"}`},w))}),i.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Step ",n," of 3: ",n===1?"Enter Details":n===2?"Confirm":"Complete"]})]}),i.jsxs("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:[n===1&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Withdrawal Method"}),i.jsx("div",{className:"grid grid-cols-3 gap-2",children:j.map(w=>i.jsxs("button",{onClick:()=>l(w),className:`p-3 rounded-lg border-2 text-center transition-all ${(o==null?void 0:o.id)===w.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[i.jsx("span",{className:"text-lg",children:w.icon}),i.jsx("p",{className:"text-xs font-medium mt-1",children:w.symbol})]},w.id))}),o&&i.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Min: $",o.minWithdraw,"  Network: ",o.network]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Amount (USD)"}),i.jsx("input",{type:"number",value:r,onChange:w=>a(w.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:border-blue-500 ${M()?"border-red-300 bg-red-50":"border-gray-200"}`,placeholder:"Enter amount",max:e}),i.jsx("div",{className:"flex gap-2 mt-2",children:[25,50,75,100].map(w=>i.jsxs("button",{onClick:()=>a(Math.floor(e*w/100).toString()),className:"flex-1 py-1.5 text-xs border border-gray-200 rounded hover:bg-gray-50",children:[w,"%"]},w))}),M()&&i.jsxs("p",{className:"text-xs text-red-500 mt-2 flex items-center gap-1",children:[i.jsx(cs,{className:"w-3 h-3"})," ",M()]}),i.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Available balance: ",i.jsxs("span",{className:"font-semibold",children:["$",e.toLocaleString()]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Wallet Address"}),i.jsx("input",{type:"text",value:c,onChange:w=>d(w.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-blue-500 font-mono text-sm",placeholder:"Enter your wallet address"})]}),i.jsx("button",{onClick:B,disabled:!r||!o||!c,className:"w-full py-3 rounded-lg text-white font-medium disabled:opacity-50",style:{background:v||S?"#9ca3af":N.navy},children:"Continue"})]}),n===2&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("button",{onClick:()=>s(1),className:"text-sm text-gray-500 hover:text-gray-700 flex items-center gap-1",children:[i.jsx(Ql,{className:"w-4 h-4"})," Back"]}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg space-y-3",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Amount"}),i.jsxs("span",{className:"font-semibold",children:["$",parseFloat(r).toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Method"}),i.jsxs("span",{className:"font-medium",children:[o==null?void 0:o.symbol," (",o==null?void 0:o.network,")"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Fee"}),i.jsx("span",{className:"text-sm",children:"Network fee applies"})]}),i.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Destination"}),i.jsx("p",{className:"font-mono text-xs break-all",children:c})]})]}),i.jsx("div",{className:"p-3 bg-amber-50 rounded-lg border border-amber-200",children:i.jsx("p",{className:"text-xs text-amber-700",children:" Please verify the address is correct. Withdrawals to wrong addresses cannot be recovered."})}),i.jsx("button",{onClick:E,disabled:h,className:"w-full py-3 rounded-lg text-white font-medium disabled:opacity-50 flex items-center justify-center gap-2",style:{background:N.navy},children:h?i.jsxs(i.Fragment,{children:[i.jsx(un,{className:"w-4 h-4 animate-spin"})," Processing..."]}):"Confirm Withdrawal"})]}),n===3&&i.jsxs("div",{className:"text-center py-6",children:[i.jsx("div",{className:"w-16 h-16 mx-auto rounded-full bg-blue-100 flex items-center justify-center mb-4",children:i.jsx(Ii,{className:"w-8 h-8 text-blue-500"})}),i.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:N.navy},children:"Withdrawal Submitted"}),i.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Your withdrawal is under review. Processing time: 24-48 hours."}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg text-sm text-left mb-4",children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-gray-500",children:"Amount"}),i.jsxs("span",{className:"font-medium",children:["$",parseFloat(r).toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-gray-500",children:"Method"}),i.jsx("span",{className:"font-medium",children:o==null?void 0:o.symbol})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Status"}),i.jsx("span",{className:"text-amber-600 font-medium",children:"Under Review"})]})]}),i.jsx("button",{onClick:t,className:"w-full py-3 rounded-lg font-medium border border-gray-200 hover:bg-gray-50",children:"Done"})]})]})]})})}function VM({document:t,onClose:e}){const n={"White Paper":{title:"SaxoVault Capital White Paper",version:"Version 2.1 | January 2024",sections:[{title:"Executive Summary",content:`SaxoVault Capital is a premier institutional-grade investment platform designed to democratize access to high-yield investment opportunities traditionally reserved for accredited investors and financial institutions.

Our platform leverages cutting-edge technology, rigorous due diligence processes, and diversified asset allocation strategies to deliver consistent, risk-adjusted returns across multiple asset classes including Real Estate, Cryptocurrency, Stocks & Bonds, and Precious Metals.

Founded in 2019, SaxoVault Capital has grown to manage over $600 million in assets under management (AUM), serving more than 12,000 investors across 45+ countries.`},{title:"1. Introduction & Vision",content:`1.1 Mission Statement
To provide retail and institutional investors with secure, transparent, and profitable investment opportunities through innovative technology and expert portfolio management.

1.2 Core Values
 Transparency: Full disclosure of investment strategies, risks, and performance
 Security: Bank-level encryption and multi-layer authentication
 Accessibility: Institutional-grade investments with retail-friendly minimums
 Education: Comprehensive investor resources and market insights

1.3 Platform Overview
SaxoVault Capital offers curated opportunities across four primary asset verticals: Real Estate, Cryptocurrency & Digital Assets, Stocks & Fixed Income, and Precious Metals.`},{title:"2. Investment Philosophy",content:`2.1 Diversification Strategy
Our portfolio construction emphasizes strategic diversification across asset classes, geographies, and investment horizons to mitigate concentration risk.

2.2 Due Diligence Framework
Every investment undergoes a rigorous 5-stage vetting process:
 Stage 1: Initial Screening & Market Analysis
 Stage 2: Financial Modeling & Stress Testing
 Stage 3: Legal & Regulatory Compliance Review
 Stage 4: Third-Party Audit & Verification
 Stage 5: Investment Committee Approval

2.3 Risk Management
We employ sophisticated risk management including position sizing limits, stop-loss mechanisms, and real-time monitoring. Maximum exposure to any single investment is capped at 15% of total AUM.`},{title:"3. Asset Allocation",content:`Real Estate (35%): Development funding and income properties
Cryptocurrency (25%): Blue-chip holdings and DeFi strategies
Stocks & Bonds (25%): Dividend aristocrats and growth ETFs
Precious Metals (15%): Gold, silver, and platinum exposure`},{title:"4. Technology & Security",content:` 256-bit SSL/TLS encryption
 Multi-factor authentication (MFA)
 Cold storage for 95% of digital assets
 SOC 2 Type II certified data centers
 Regular penetration testing and security audits
 Smart contract integration for transparent transactions`},{title:"5. Regulatory Compliance",content:"SaxoVault Capital maintains appropriate licenses and adheres to AML/KYC procedures. We implement robust Anti-Money Laundering and Know Your Customer procedures with segregated client accounts and independent custodian relationships."},{title:"6. Fee Structure",content:`Management Fee: 1.5% annually
Performance Fee: 20% of profits above 8% hurdle
Deposit Fee: 0% (no deposit fees)
Withdrawal Fee: Network fees only for cryptocurrency`}]},"Terms of Service":{title:"Terms of Service",version:"Last Updated: December 2024",sections:[{title:"1. Agreement to Terms",content:"By accessing SaxoVault Capital, you agree to these Terms. If you do not agree, you may not use the Platform. We may modify these Terms at any time."},{title:"2. Eligibility",content:"You must be 18+ years old, have legal capacity to contract, not be in a prohibited jurisdiction, complete KYC verification, and provide accurate information."},{title:"3. Account Security",content:"You are responsible for maintaining credential confidentiality. Notify us immediately of unauthorized access. One account per person."},{title:"4. Investment Services",content:"We provide access to curated investment opportunities as an intermediary. All investments carry risk. Past performance does not guarantee future results."},{title:"5. Deposits & Withdrawals",content:"We accept cryptocurrency deposits. Withdrawals are processed within 24-48 hours. Large withdrawals may require additional verification."},{title:"6. Prohibited Activities",content:"No money laundering, market manipulation, fraud, unauthorized bots, security circumvention, impersonation, or illegal activity."},{title:"7. Limitation of Liability",content:"SaxoVault Capital is not liable for indirect, incidental, or consequential damages. Total liability is limited to fees paid in the preceding 12 months."}]},"Privacy Policy":{title:"Privacy Policy",version:"GDPR & CCPA Compliant | December 2024",sections:[{title:"1. Information We Collect",content:"Identity info (name, DOB, ID), contact info (email, phone, address), financial info (wallet addresses), verification documents, device info, and usage data."},{title:"2. How We Use Information",content:"Verify identity, process transactions, communicate about your account, comply with regulations, improve services, and detect security threats."},{title:"3. Data Sharing",content:"We share with service providers, regulatory authorities, and professional advisors. We do NOT sell your personal information."},{title:"4. Data Security",content:"256-bit encryption, multi-factor authentication, regular audits, employee access controls, and SOC 2 certified data centers."},{title:"5. Your Rights",content:"Access, rectification, erasure, restriction, portability, and objection rights. Contact privacy@saxobankcapital.com to exercise."},{title:"6. Data Retention",content:"We retain data as long as necessary for services and legal compliance. After account closure, certain data is retained for up to 7 years."}]},"Risk Disclosure":{title:"Risk Disclosure Statement",version:"Required Reading | All Investors",sections:[{title:"IMPORTANT WARNING",content:"Investing involves risk including possible loss of principal. Values can go down as well as up. This does not disclose all risks. Consult a financial advisor."},{title:"1. Market Risk",content:"Values fluctuate based on economic events, political developments, and market sentiment."},{title:"2. Real Estate Risks",content:"Property values may decline, projects may face delays, rental income affected by vacancies, regulatory changes, environmental issues."},{title:"3. Cryptocurrency Risks",content:"Extreme volatility, regulatory uncertainty, security risks, technology vulnerabilities, market manipulation, no intrinsic value."},{title:"4. Stock & Bond Risks",content:"Equity risk, credit risk, sector concentration, currency fluctuations, dividend reductions."},{title:"5. Precious Metals Risks",content:"Price volatility, no income generation, storage costs, industrial demand cycles."},{title:"Acknowledgment",content:"By investing, you acknowledge reading this disclosure, understanding risks, accepting potential losses, and conducting your own due diligence."}]},"AML/KYC Policy":{title:"Anti-Money Laundering & KYC Policy",version:"FATF Compliant | December 2024",sections:[{title:"1. Policy Statement",content:"SaxoVault Capital is committed to highest AML/CTF standards, adhering to FATF recommendations and applicable laws."},{title:"2. Customer Identification",content:"Required: Government photo ID, proof of address (within 90 days), selfie verification. Enhanced due diligence for high-value transactions and PEPs."},{title:"3. Ongoing Monitoring",content:"Transaction monitoring, periodic reviews, sanctions screening, automated alerts for unusual activity."},{title:"4. Suspicious Activity",content:"We file SARs and CTRs as required, cooperate with law enforcement, and maintain records for 5+ years."},{title:"5. Prohibited Activities",content:"Money laundering, terrorist financing, sanctioned transactions, structuring, false identities, illegal proceeds."},{title:"6. Sanctions Compliance",content:"We screen against OFAC, UN, EU, and other sanctions lists. Transactions with sanctioned parties are blocked and reported."}]},"Investment Guide":{title:"Investment Guidelines & Handbook",version:"Investor Reference | 2024",sections:[{title:"1. Getting Started",content:"Register  Complete KYC  Enable 2FA  Fund account  Browse investments. Account levels: Basic (<$25K), Premium ($25K-$100K), Elite ($100K+)."},{title:"2. Investment Categories",content:"Real Estate: $10K-$50K min, 12-36 months, 7-22% target. Crypto: $2.5K-$10K min, 6-12 months, 15-40% target. Stocks: $3K-$10K min, 12 months, 5-20% target. Metals: $2.5K-$15K min, 12-24 months, 8-18% target."},{title:"3. Portfolio Strategies",content:"Conservative: 50% bonds, 30% RE income, 15% metals, 5% crypto. Balanced: 35% RE, 25% stocks, 25% crypto, 15% metals. Aggressive: 40% crypto, 30% growth stocks, 20% RE dev, 10% altcoins."},{title:"4. Payouts",content:"Methods: Cryptocurrency or reinvestment. Schedule: Monthly, quarterly, or at maturity. Compound option available."},{title:"5. Withdrawals",content:"Crypto: 24-48 hours. Large (>$50K): 3-5 days. Daily limit: $100K (Elite: $500K)."}]},"Fee Schedule":{title:"Fee Schedule",version:"Effective January 2024",sections:[{title:"Account Fees",content:"Opening: FREE. Maintenance: FREE. Closure: FREE. Inactivity (12+ months): $25/month."},{title:"Deposit Fees",content:"All cryptocurrency deposits: FREE. Network fees paid by sender."},{title:"Withdrawal Fees",content:"Network fees only. Express processing (4 hours): 0.1% of amount."},{title:"Management Fees",content:"1.5% annually (0.375% quarterly). Performance fee: 20% of profits above 8% hurdle."},{title:"Early Redemption",content:"0-30 days: 5%. 31-90 days: 3%. 91-180 days: 1%. 180+ days: No penalty."},{title:"Elite Discounts",content:"25% off management fees, free express withdrawals, dedicated account manager."}]},"FAQ & Support":{title:"Frequently Asked Questions",version:"Updated December 2024",sections:[{title:"Account",content:`Q: How to register? A: Click Register, enter details, complete KYC.
Q: Verification time? A: 24-48 hours standard, 4 hours express.
Q: Multiple accounts? A: No, one per person.`},{title:"Deposits",content:`Q: Which cryptos? A: BTC, ETH, USDT, USDC, BNB, LTC.
Q: Minimum? A: No account minimum. Each investment has its own.
Q: How long? A: 10-30 minutes after confirmation.`},{title:"Investments",content:`Q: Minimum investment? A: $2,500 - $50,000 depending on opportunity.
Q: Early withdrawal? A: May incur penalties per terms.
Q: When payouts? A: Monthly, quarterly, or at maturity.`},{title:"Withdrawals",content:`Q: Processing time? A: 24-48 hours standard.
Q: Limits? A: $100K daily ($500K for Elite).
Q: Delayed? A: Contact support if >72 hours.`},{title:"Contact Support",content:`WhatsApp: +1 (464) 239-5280 (24/7)
Live Chat: Available on website
Email: support@saxovault.com
Response: Under 24 hours`}]}},s=n[t]||n["White Paper"];return i.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e,children:i.jsxs(F.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-2xl lg:rounded-3xl w-full max-w-4xl max-h-[90vh] overflow-hidden shadow-2xl",onClick:r=>r.stopPropagation(),children:[i.jsxs("div",{className:"p-5 lg:p-6 border-b border-gray-100 flex items-center justify-between sticky top-0 bg-white z-10",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl",style:{color:N.navy},children:s.title}),i.jsx("p",{className:"text-gray-500 text-sm",children:s.version})]}),i.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:i.jsx(Pt,{className:"w-6 h-6",style:{color:N.navy}})})]}),i.jsxs("div",{className:"p-5 lg:p-8 overflow-y-auto max-h-[calc(90vh-100px)]",children:[i.jsx("div",{className:"space-y-8",children:s.sections.map((r,a)=>i.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:a*.05},children:[i.jsx("h3",{className:"font-serif text-lg lg:text-xl mb-3 pb-2 border-b border-gray-100",style:{color:N.navy},children:r.title}),i.jsx("div",{className:"text-gray-600 text-sm lg:text-base leading-relaxed whitespace-pre-line",children:r.content})]},a))}),i.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-100 flex flex-col sm:flex-row gap-3",children:[i.jsxs(F.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 py-3 rounded-xl font-medium flex items-center justify-center gap-2",style:{background:`${N.navy}10`,color:N.navy},children:[i.jsx(Rn,{className:"w-4 h-4"})," Download PDF"]}),i.jsx(F.button,{onClick:e,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 py-3 rounded-xl text-white font-medium",style:{background:N.navy},children:"Close"})]})]})]})})}function LM({user:t}){const e=D.useMemo(()=>{const j=localStorage.getItem(`saxovault_referral_code_${t.uid}`);if(j)return j;const _="SAXO"+(t.name||"USER").split(" ")[0].toUpperCase().slice(0,4)+Math.random().toString(36).substr(2,4).toUpperCase();return localStorage.setItem(`saxovault_referral_code_${t.uid}`,_),_},[t.uid,t.name]),n=`https://saxovault.com/ref/${e}`,[s,r]=D.useState(!1),a=j=>{navigator.clipboard.writeText(j),r(!0),setTimeout(()=>r(!1),2e3)},o=G.getUsers(),l=G.getTransactions(),c=o.filter(j=>{const _=j.usedReferralCode===e,k=j.referredBy===t.uid,S=j.registrationReferralCode===e;return(_||k||S)&&j.uid!==t.uid}).map(j=>{var v;const k=l.filter(b=>b.userId===j.uid&&b.type==="investment"&&(b.status==="approved"||b.status==="pending"||b.status==="active")).reduce((b,R)=>b+(R.amount||0),0),S=k*.04;return{name:j.name?j.name.split(" ")[0]+" "+(((v=j.name.split(" ")[1])==null?void 0:v[0])||"")+".":"User",date:j.createdAt||new Date().toISOString(),invested:k,bonus:S,status:k>0?"Active":"Pending"}}),h=l.filter(j=>j.type==="referral_bonus"&&j.userId===t.uid&&(j.status==="approved"||j.status==="completed")).reduce((j,_)=>j+(_.amount||0),0),f=h>0?h:c.reduce((j,_)=>j+_.bonus,0),p=c.length,x=c.filter(j=>j.status==="Active").length;return i.jsx("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:N.cream},children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4 lg:px-6",children:[i.jsxs("div",{className:"text-center mb-8 lg:mb-12",children:[i.jsx(F.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring"},className:"w-16 h-16 lg:w-20 lg:h-20 mx-auto rounded-2xl flex items-center justify-center mb-4",style:{background:`linear-gradient(135deg, ${N.gold} 0%, ${N.goldDark} 100%)`},children:i.jsx(Wa,{className:"w-8 h-8 lg:w-10 lg:h-10 text-white"})}),i.jsx("h1",{className:"font-serif text-2xl lg:text-4xl mb-2",style:{color:N.navy},children:"Referral Program"}),i.jsxs("p",{className:"text-gray-600 text-sm lg:text-base max-w-lg mx-auto",children:["Earn rewards when your friends invest. Get ",i.jsx("strong",{children:"4% bonus instantly"})," on every investment your referrals make!"]})]}),c.length>0?i.jsx("div",{className:"grid grid-cols-3 gap-3 lg:gap-6 mb-6 lg:mb-8",children:[{label:"Total Earnings",value:`$${f.toLocaleString()}`,icon:k5,color:N.green},{label:"Total Referrals",value:p,icon:od,color:N.navy},{label:"Active Referrals",value:x,icon:Mv,color:N.gold}].map((j,_)=>i.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:_*.1},className:"bg-white rounded-xl lg:rounded-2xl p-4 lg:p-6 shadow-lg text-center",children:[i.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 rounded-xl flex items-center justify-center mx-auto mb-2 lg:mb-3",style:{background:`${j.color}15`},children:i.jsx(j.icon,{className:"w-5 h-5 lg:w-6 lg:h-6",style:{color:j.color}})}),i.jsx("p",{className:"text-xl lg:text-3xl font-bold",style:{color:j.color},children:j.value}),i.jsx("p",{className:"text-xs lg:text-sm text-gray-500",children:j.label})]},_))}):i.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl p-6 lg:p-8 mb-6 lg:mb-8 text-center border border-blue-100",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-white shadow-md flex items-center justify-center mx-auto mb-4",children:i.jsx(Mv,{className:"w-8 h-8 text-blue-500"})}),i.jsx("h3",{className:"font-semibold text-lg mb-2",style:{color:N.navy},children:"Start Earning Today!"}),i.jsxs("p",{className:"text-gray-600 text-sm mb-4",children:["Share your referral link with friends and earn ",i.jsx("strong",{children:"4% bonus instantly"})," on every investment they make."]}),i.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[i.jsx("span",{className:"px-3 py-1 bg-white rounded-full text-gray-500",children:"No referrals yet"}),i.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full",children:"$0 earned"})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-5 lg:p-8 mb-6 lg:mb-8",children:[i.jsx("h2",{className:"font-serif text-lg lg:text-xl mb-4 lg:mb-6",style:{color:N.navy},children:"Your Referral Details"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-500 mb-2",children:"Referral Code"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex-1 px-4 py-3 lg:py-4 bg-gray-50 rounded-xl font-mono font-bold text-lg lg:text-xl text-center",style:{color:N.navy},children:e}),i.jsx(F.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>a(e),className:"p-3 lg:p-4 rounded-xl text-white",style:{background:s?N.green:N.navy},children:s?i.jsx(gn,{className:"w-5 h-5"}):i.jsx(id,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-500 mb-2",children:"Referral Link"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex-1 px-4 py-3 bg-gray-50 rounded-xl text-sm text-gray-600 truncate",children:n}),i.jsx(F.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>a(n),className:"p-3 rounded-xl",style:{background:`${N.gold}15`,color:N.gold},children:i.jsx(F5,{className:"w-5 h-5"})})]})]})]}),i.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[i.jsx("h3",{className:"font-medium mb-3",style:{color:N.navy},children:"Share via"}),i.jsx("div",{className:"flex gap-3",children:[{name:"WhatsApp",color:"#25D366",icon:d2},{name:"Email",color:"#EA4335",icon:Wn},{name:"Copy Link",color:N.navy,icon:id}].map((j,_)=>i.jsxs(F.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>j.name==="Copy Link"?a(n):null,className:"flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-white text-sm font-medium",style:{background:j.color},children:[i.jsx(j.icon,{className:"w-4 h-4"}),i.jsx("span",{className:"hidden sm:inline",children:j.name})]},_))})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-5 lg:p-8 mb-6 lg:mb-8",children:[i.jsx("h2",{className:"font-serif text-lg lg:text-xl mb-4 lg:mb-6",style:{color:N.navy},children:"How It Works"}),i.jsx("div",{className:"grid sm:grid-cols-3 gap-4 lg:gap-6",children:[{step:"1",title:"Share Your Link",desc:"Send your unique referral link to friends and family"},{step:"2",title:"They Sign Up",desc:"When they register using your link or code"},{step:"3",title:"Earn Rewards",desc:"Get 1% bonus on every deposit they make!"}].map((j,_)=>i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 rounded-full flex items-center justify-center mx-auto mb-3 text-white font-bold",style:{background:`linear-gradient(135deg, ${N.gold} 0%, ${N.goldDark} 100%)`},children:j.step}),i.jsx("h3",{className:"font-semibold text-sm lg:text-base mb-1",style:{color:N.navy},children:j.title}),i.jsx("p",{className:"text-gray-500 text-xs lg:text-sm",children:j.desc})]},_))})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg overflow-hidden",children:[i.jsxs("div",{className:"p-4 lg:p-6 border-b border-gray-100",children:[i.jsx("h2",{className:"font-serif text-lg lg:text-xl",style:{color:N.navy},children:"Your Referrals"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"You earn 4% of every investment your referrals make"})]}),c.length>0?i.jsx("div",{className:"divide-y divide-gray-100",children:c.map((j,_)=>i.jsxs("div",{className:"p-4 lg:p-5 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-bold",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:j.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm lg:text-base",style:{color:N.navy},children:j.name}),i.jsxs("p",{className:"text-xs text-gray-500",children:["Joined ",new Date(j.date).toLocaleDateString()]}),j.invested>0&&i.jsxs("p",{className:"text-xs text-blue-600",children:["Invested: $",j.invested.toLocaleString()]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"font-bold text-sm lg:text-base",style:{color:N.green},children:["+$",j.bonus.toFixed(2)]}),i.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${j.status==="Active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:j.status==="Active"?"Invested":"Pending Investment"})]})]},_))}):i.jsxs("div",{className:"p-8 text-center",children:[i.jsx(od,{className:"w-12 h-12 mx-auto text-gray-300 mb-3"}),i.jsx("p",{className:"text-gray-500",children:"No referrals yet. Share your link to get started!"})]})]})]})})}function MM(){const[t,e]=D.useState(25e3),[n,s]=D.useState(12),[r,a]=D.useState(24),o=t*Math.pow(1+n/100/12,r),l=o-t;return i.jsx("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:N.cream},children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4 lg:px-6",children:[i.jsxs("div",{className:"text-center mb-8 lg:mb-12",children:[i.jsx("h1",{className:"font-serif text-2xl lg:text-4xl mb-2",style:{color:N.navy},children:"Investment Calculator"}),i.jsx("p",{className:"text-gray-600 text-sm lg:text-base",children:"Project your potential returns."})]}),i.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 lg:gap-8",children:[i.jsxs("div",{className:"bg-white rounded-2xl lg:rounded-3xl p-5 lg:p-8 shadow-xl",children:[i.jsx("h2",{className:"font-serif text-lg lg:text-xl mb-4 lg:mb-6",style:{color:N.navy},children:"Parameters"}),i.jsxs("div",{className:"space-y-5 lg:space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block font-medium text-gray-700 mb-2 text-sm lg:text-base",children:"Initial Investment"}),i.jsx("input",{type:"number",value:t,onChange:c=>e(+c.target.value),className:"w-full px-4 py-3 lg:py-4 text-xl font-bold border-2 border-gray-200 rounded-xl text-center focus:outline-none"}),i.jsx("div",{className:"flex gap-2 mt-2",children:[1e4,25e3,5e4,1e5].map(c=>i.jsxs("button",{onClick:()=>e(c),className:`flex-1 py-2 rounded-lg text-xs font-medium border ${t===c?"text-white":"border-gray-200"}`,style:t===c?{background:N.navy}:{},children:["$",c/1e3,"K"]},c))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block font-medium text-gray-700 mb-2 text-sm lg:text-base",children:"Annual Return (%)"}),i.jsx("input",{type:"number",value:n,onChange:c=>s(+c.target.value),className:"w-full px-4 py-3 lg:py-4 text-xl font-bold border-2 border-gray-200 rounded-xl text-center focus:outline-none"}),i.jsx("div",{className:"flex gap-2 mt-2",children:[8,12,15,20].map(c=>i.jsxs("button",{onClick:()=>s(c),className:`flex-1 py-2 rounded-lg text-xs font-medium border ${n===c?"text-white":"border-gray-200"}`,style:n===c?{background:N.navy}:{},children:[c,"%"]},c))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block font-medium text-gray-700 mb-2 text-sm lg:text-base",children:"Period (Months)"}),i.jsx("input",{type:"number",value:r,onChange:c=>a(+c.target.value),className:"w-full px-4 py-3 lg:py-4 text-xl font-bold border-2 border-gray-200 rounded-xl text-center focus:outline-none"}),i.jsx("div",{className:"flex gap-2 mt-2",children:[12,24,36,60].map(c=>i.jsxs("button",{onClick:()=>a(c),className:`flex-1 py-2 rounded-lg text-xs font-medium border ${r===c?"text-white":"border-gray-200"}`,style:r===c?{background:N.navy}:{},children:[c,"mo"]},c))})]})]})]}),i.jsxs("div",{className:"rounded-2xl lg:rounded-3xl p-5 lg:p-8 text-white shadow-xl",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:[i.jsx("h2",{className:"font-serif text-lg lg:text-xl mb-6 lg:mb-8",style:{color:N.gold},children:"Projected Returns"}),i.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-white/60 text-xs lg:text-sm mb-1",children:"Final Value"}),i.jsxs("p",{className:"font-serif text-4xl lg:text-5xl font-bold",children:["$",o.toLocaleString(void 0,{maximumFractionDigits:0})]})]}),i.jsx("div",{className:"h-px bg-white/20"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 lg:gap-6",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-white/60 text-xs lg:text-sm mb-1",children:"Total Return"}),i.jsxs("p",{className:"text-xl lg:text-2xl font-bold",style:{color:N.gold},children:["+$",l.toLocaleString(void 0,{maximumFractionDigits:0})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-white/60 text-xs lg:text-sm mb-1",children:"Return %"}),i.jsxs("p",{className:"text-xl lg:text-2xl font-bold",style:{color:N.green},children:["+",(l/t*100).toFixed(1),"%"]})]})]}),i.jsxs("div",{className:"p-4 rounded-xl bg-white/10",children:[i.jsx("p",{className:"text-white/60 text-xs lg:text-sm mb-2",children:"Summary"}),i.jsxs("p",{className:"text-xs lg:text-sm",children:[i.jsxs("span",{className:"font-bold",children:["$",t.toLocaleString()]})," at ",i.jsxs("span",{className:"font-bold",children:[n,"%"]})," for ",i.jsxs("span",{className:"font-bold",children:[r," months"]})," = ",i.jsxs("span",{className:"font-bold",style:{color:N.gold},children:["$",o.toLocaleString(void 0,{maximumFractionDigits:0})]})]})]})]})]})]}),i.jsx("p",{className:"text-center text-xs lg:text-sm text-gray-500 mt-6 lg:mt-8",children:"* Estimates only. Actual returns may vary."})]})})}function OM({user:t,setUser:e,onLogout:n}){const[s,r]=D.useState("profile"),[a,o]=D.useState({name:t.name,email:t.email,phone:t.phone,address:t.address}),[l,c]=D.useState({current:"",new:"",confirm:""}),[d,h]=D.useState({current:!1,new:!1,confirm:!1}),[f,p]=D.useState("pending"),[x,j]=D.useState(1),[_,k]=D.useState({fullName:(t==null?void 0:t.name)||"",dateOfBirth:"",idNumber:"",idType:"",idFront:null,idBack:null,selfie:null}),[S,v]=D.useState(!1),[b,R]=D.useState(!1),[M,B]=D.useState(!1),[E,w]=D.useState(()=>yn.is2FAEnabled(t==null?void 0:t.uid)),[T,C]=D.useState(!1),[A,L]=D.useState(""),[P,fe]=D.useState(!1),ae=D.useRef(null);D.useRef(null),D.useRef(null),D.useRef(null),D.useEffect(()=>{if(t!=null&&t.uid){const O=JSON.parse(localStorage.getItem(`kyc_${t.uid}`)||"{}");O.status&&(p(O.status),k(ce=>({...ce,...O})))}},[t==null?void 0:t.uid]);const le=(O,ce)=>{var Le;const K=(Le=O.target.files)==null?void 0:Le[0];if(console.log(` KYC Upload - Field: ${ce}, File:`,K),!K){console.log(" No file selected");return}if(K.size>5*1024*1024){alert("File size must be less than 5MB");return}if(!["image/jpeg","image/png","image/jpg","image/gif","image/webp","application/pdf"].includes(K.type)){alert("Please upload an image (JPG, PNG) or PDF file");return}const xe=new FileReader;xe.onload=()=>{console.log(` File loaded for ${ce}`),k(Te=>({...Te,[ce]:xe.result}))},xe.onerror=()=>{console.error(" Error reading file"),alert("Error reading file. Please try again.")},xe.readAsDataURL(K)},te=fM(),V=p1[te]||"English",U=async()=>{try{const O={...t,...a};await G.updateUser(t.uid,a),localStorage.setItem(`user_${t.uid}`,JSON.stringify(O)),localStorage.setItem("saxovault_current_user",JSON.stringify(O)),e(O),v(!0),setTimeout(()=>v(!1),3e3),console.log(" Profile saved successfully")}catch(O){console.error(" Error saving profile:",O),alert("Error saving profile. Please try again.")}},re=async()=>{if(!l.current){alert("Please enter your current password");return}if(!l.new){alert("Please enter a new password");return}if(l.new!==l.confirm){alert("New passwords do not match!");return}const O=l.new.length>=8,ce=/[A-Z]/.test(l.new),K=/[a-z]/.test(l.new),we=/[0-9]/.test(l.new);if(/[^A-Za-z0-9]/.test(l.new),!O||!ce||!K||!we){alert(` Password does not meet requirements!

Your password must have:
 At least 8 characters
 One uppercase letter (A-Z)
 One lowercase letter (a-z)
 One number (0-9)
 One special character (!@#$%^&*) - recommended`);return}try{const xe=JSON.parse(localStorage.getItem(`user_${t.uid}`)||"{}"),Le=G.getUsers(),Te=Le.find(Gt=>Gt.uid===t.uid),be=xe.passwordHash||(Te==null?void 0:Te.passwordHash),at=btoa(l.current);if(be){if(be!==at){alert(` Current password is incorrect!

The password you entered does not match your current password.`);return}console.log(" Current password verified")}else{console.log(" First time password setup - no existing hash found");const Gt=btoa(l.current);await G.updateUser(t.uid,{initialPasswordHash:Gt,passwordSetupDate:new Date().toISOString()})}const hn=btoa(l.new);await G.updateUser(t.uid,{passwordHash:hn,passwordLastChanged:new Date().toISOString()});const xs={...xe,...t,passwordHash:hn,passwordLastChanged:new Date().toISOString()};localStorage.setItem(`user_${t.uid}`,JSON.stringify(xs)),localStorage.setItem("saxovault_current_user",JSON.stringify(xs));const Zt=Le.map(Gt=>Gt.uid===t.uid?{...Gt,passwordHash:hn,passwordLastChanged:new Date().toISOString()}:Gt);G.setUsers(Zt),e(xs),v(!0),c({current:"",new:"",confirm:""}),setTimeout(()=>v(!1),3e3),alert(` Password Updated Successfully!

Your new password has been saved. Please use this password for future logins.`),console.log(" Password updated in all storage locations")}catch(xe){console.error(" Error changing password:",xe),alert("Error changing password. Please try again.")}},Q=async O=>{var K;const ce=(K=O.target.files)==null?void 0:K[0];if(ce){if(ce.size>2*1024*1024){alert("Image size must be less than 2MB");return}R(!0);const we=new FileReader;we.onload=async()=>{try{const xe=we.result;await G.updateUser(t.uid,{profileImage:xe});const Le={...t,profileImage:xe};localStorage.setItem(`user_${t.uid}`,JSON.stringify(Le)),localStorage.setItem("saxovault_current_user",JSON.stringify(Le)),e(Le),R(!1),console.log(" Profile image saved")}catch(xe){console.error(" Error saving profile image:",xe),alert("Error saving profile image. Please try again."),R(!1)}},we.readAsDataURL(ce)}},de=async()=>{if(!_.fullName||!_.idNumber||!_.idType){alert("Please fill in all personal information fields"),j(1);return}if(!_.idFront||!_.idBack){alert("Please upload both front and back of your ID"),j(2);return}if(!_.selfie){alert("Please upload a selfie with your ID");return}R(!0);try{const O={..._,status:"submitted",userId:t.uid,userEmail:t.email,submittedAt:new Date().toISOString()};localStorage.setItem(`kyc_${t.uid}`,JSON.stringify(O));const ce=JSON.parse(localStorage.getItem("saxovault_kyc_submissions")||"[]");ce.unshift(O),localStorage.setItem("saxovault_kyc_submissions",JSON.stringify(ce)),await je.sendKYCNotification(t.email,_.fullName,_.idType),p("submitted"),alert(" KYC documents submitted successfully! You will be notified once verified.")}catch(O){console.error("KYC submission error:",O),alert("Error submitting KYC. Please try again.")}finally{R(!1)}},ye=[{id:"profile",label:"Profile",icon:qa},{id:"security",label:"Security",icon:wi},{id:"language",label:"Language",icon:va},{id:"kyc",label:"KYC",icon:Lr},{id:"notifications",label:"Alerts",icon:As}];return i.jsx("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:N.cream},children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4 lg:px-6",children:[i.jsx("div",{className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl overflow-hidden mb-6",children:i.jsxs("div",{className:"p-6 lg:p-8 text-center",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:[i.jsxs("div",{className:"relative inline-block",children:[i.jsx("div",{className:"w-20 h-20 lg:w-24 lg:h-24 mx-auto rounded-full flex items-center justify-center text-3xl lg:text-4xl font-bold text-white overflow-hidden",style:{background:`linear-gradient(135deg, ${N.gold} 0%, ${N.goldDark} 100%)`},children:t.profileImage?i.jsx("img",{src:t.profileImage,alt:"",className:"w-full h-full object-cover"}):t.name.charAt(0)}),i.jsx("button",{onClick:()=>{var O;return(O=ae.current)==null?void 0:O.click()},className:"absolute bottom-0 right-0 w-8 h-8 rounded-full bg-white shadow-lg flex items-center justify-center",children:b?i.jsx(un,{className:"w-4 h-4 animate-spin",style:{color:N.navy}}):i.jsx(zm,{className:"w-4 h-4",style:{color:N.navy}})}),i.jsx("input",{ref:ae,type:"file",accept:"image/*",onChange:Q,className:"hidden"})]}),i.jsx("h2",{className:"text-xl lg:text-2xl font-serif text-white mt-3",children:t.name}),i.jsx("p",{className:"text-white/60 text-sm",children:t.email}),i.jsxs("div",{className:"inline-flex items-center gap-2 mt-2 px-3 py-1 rounded-full",style:{background:`${N.green}30`},children:[i.jsx(Je,{className:"w-3.5 h-3.5",style:{color:N.green}}),i.jsx("span",{style:{color:N.green},className:"text-xs font-medium",children:"Verified Investor"})]})]})}),i.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2 -mx-4 px-4 lg:mx-0 lg:px-0",children:ye.map(O=>i.jsxs("button",{onClick:()=>r(O.id),className:`flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium text-sm whitespace-nowrap transition-all ${s===O.id?"text-white shadow-lg":"bg-white text-gray-600"}`,style:s===O.id?{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`}:{},children:[i.jsx(O.icon,{className:"w-4 h-4"}),O.label]},O.id))}),s==="profile"&&i.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-5 lg:p-8",children:[i.jsx("h2",{className:"font-serif text-lg lg:text-2xl mb-4 lg:mb-6",style:{color:N.navy},children:"Profile Information"}),i.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 lg:gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-700 mb-1.5 lg:mb-2",children:"Full Name"}),i.jsx("input",{type:"text",value:a.name,onChange:O=>o({...a,name:O.target.value}),className:"w-full px-4 py-2.5 lg:py-3 border border-gray-200 rounded-xl focus:outline-none text-sm lg:text-base"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-700 mb-1.5 lg:mb-2",children:"Email Address"}),i.jsx("input",{type:"email",value:a.email,onChange:O=>o({...a,email:O.target.value}),className:"w-full px-4 py-2.5 lg:py-3 border border-gray-200 rounded-xl focus:outline-none text-sm lg:text-base"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-700 mb-1.5 lg:mb-2",children:"Phone Number"}),i.jsx("input",{type:"tel",value:a.phone,onChange:O=>o({...a,phone:O.target.value}),className:"w-full px-4 py-2.5 lg:py-3 border border-gray-200 rounded-xl focus:outline-none text-sm lg:text-base"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-700 mb-1.5 lg:mb-2",children:"Address"}),i.jsx("input",{type:"text",value:a.address,onChange:O=>o({...a,address:O.target.value}),className:"w-full px-4 py-2.5 lg:py-3 border border-gray-200 rounded-xl focus:outline-none text-sm lg:text-base"})]})]}),i.jsx(F.button,{onClick:U,whileHover:{scale:1.02},whileTap:{scale:.98},className:"mt-6 px-6 lg:px-8 py-2.5 lg:py-3 rounded-xl text-white font-semibold flex items-center gap-2 text-sm lg:text-base",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:S?i.jsxs(i.Fragment,{children:[i.jsx(Je,{className:"w-4 h-4 lg:w-5 lg:h-5"})," Saved!"]}):i.jsx(i.Fragment,{children:"Save Changes"})})]}),s==="security"&&i.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-5 lg:p-8",children:[i.jsx("h2",{className:"font-serif text-lg lg:text-2xl mb-2",style:{color:N.navy},children:"Change Password"}),i.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Update your password to keep your account secure"}),i.jsxs("div",{className:"space-y-4 max-w-md",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-700 mb-1.5 lg:mb-2",children:"Current Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(jr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 lg:w-5 lg:h-5 text-gray-400"}),i.jsx("input",{type:d.current?"text":"password",value:l.current,onChange:O=>c({...l,current:O.target.value}),className:"w-full pl-11 lg:pl-12 pr-12 py-2.5 lg:py-3 border border-gray-200 rounded-xl focus:outline-none text-sm lg:text-base",placeholder:"Enter current password"}),i.jsx("button",{type:"button",onClick:()=>h({...d,current:!d.current}),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400",children:d.current?i.jsx(mu,{className:"w-4 h-4 lg:w-5 lg:h-5"}):i.jsx(nl,{className:"w-4 h-4 lg:w-5 lg:h-5"})})]}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:(()=>{const O=JSON.parse(localStorage.getItem(`user_${t.uid}`)||"{}"),K=JSON.parse(localStorage.getItem("saxovault_users")||"[]").find(xe=>xe.uid===t.uid);return O.passwordHash||(K==null?void 0:K.passwordHash)?"Enter your current password to verify":" First time? Enter any password to set up password verification"})()})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-700 mb-1.5 lg:mb-2",children:"New Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(ad,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 lg:w-5 lg:h-5 text-gray-400"}),i.jsx("input",{type:d.new?"text":"password",value:l.new,onChange:O=>c({...l,new:O.target.value}),className:"w-full pl-11 lg:pl-12 pr-12 py-2.5 lg:py-3 border border-gray-200 rounded-xl focus:outline-none text-sm lg:text-base",placeholder:"Create new password"}),i.jsx("button",{type:"button",onClick:()=>h({...d,new:!d.new}),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400",children:d.new?i.jsx(mu,{className:"w-4 h-4 lg:w-5 lg:h-5"}):i.jsx(nl,{className:"w-4 h-4 lg:w-5 lg:h-5"})})]}),l.new&&i.jsxs("div",{className:"mt-3 space-y-2",children:[i.jsx("div",{className:"flex gap-1",children:[1,2,3,4].map(O=>{const ce=(()=>{let xe=0;return l.new.length>=8&&xe++,/[A-Z]/.test(l.new)&&xe++,/[a-z]/.test(l.new)&&xe++,/[0-9]/.test(l.new)&&xe++,/[^A-Za-z0-9]/.test(l.new)&&xe++,xe})(),K=["#ef4444","#f97316","#eab308","#22c55e"],we=O<=ce;return i.jsx("div",{className:"flex-1 h-1.5 rounded-full transition-all",style:{background:we?K[Math.min(ce-1,3)]:"#e5e7eb"}},O)})}),i.jsx("p",{className:"text-xs",style:{color:(()=>{let O=0;return l.new.length>=8&&O++,/[A-Z]/.test(l.new)&&O++,/[a-z]/.test(l.new)&&O++,/[0-9]/.test(l.new)&&O++,/[^A-Za-z0-9]/.test(l.new)&&O++,O<=1?"#ef4444":O<=2?"#f97316":O<=3?"#eab308":"#22c55e"})()},children:(()=>{let O=0;return l.new.length>=8&&O++,/[A-Z]/.test(l.new)&&O++,/[a-z]/.test(l.new)&&O++,/[0-9]/.test(l.new)&&O++,/[^A-Za-z0-9]/.test(l.new)&&O++,O<=1?"Weak password":O<=2?"Fair password":O<=3?"Good password":"Strong password"})()}),i.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 space-y-1.5",children:[i.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Password Requirements:"}),[{label:"At least 8 characters",check:l.new.length>=8},{label:"One uppercase letter (A-Z)",check:/[A-Z]/.test(l.new)},{label:"One lowercase letter (a-z)",check:/[a-z]/.test(l.new)},{label:"One number (0-9)",check:/[0-9]/.test(l.new)},{label:"One special character (!@#$%^&*)",check:/[^A-Za-z0-9]/.test(l.new)}].map((O,ce)=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-4 h-4 rounded-full flex items-center justify-center ${O.check?"bg-green-500":"bg-gray-300"}`,children:O.check&&i.jsx(gn,{className:"w-3 h-3 text-white"})}),i.jsx("span",{className:`text-xs ${O.check?"text-green-600":"text-gray-500"}`,children:O.label})]},ce))]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-700 mb-1.5 lg:mb-2",children:"Confirm New Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(ad,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 lg:w-5 lg:h-5 text-gray-400"}),i.jsx("input",{type:d.confirm?"text":"password",value:l.confirm,onChange:O=>c({...l,confirm:O.target.value}),className:`w-full pl-11 lg:pl-12 pr-12 py-2.5 lg:py-3 border rounded-xl focus:outline-none text-sm lg:text-base ${l.confirm&&l.new===l.confirm?"border-green-500 bg-green-50":l.confirm&&l.new!==l.confirm?"border-red-500 bg-red-50":"border-gray-200"}`,placeholder:"Re-enter new password"}),i.jsx("button",{type:"button",onClick:()=>h({...d,confirm:!d.confirm}),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400",children:d.confirm?i.jsx(mu,{className:"w-4 h-4 lg:w-5 lg:h-5"}):i.jsx(nl,{className:"w-4 h-4 lg:w-5 lg:h-5"})}),l.confirm&&i.jsx("div",{className:`absolute right-12 top-1/2 -translate-y-1/2 w-5 h-5 rounded-full flex items-center justify-center ${l.new===l.confirm?"bg-green-500":"bg-red-500"}`,children:l.new===l.confirm?i.jsx(gn,{className:"w-3 h-3 text-white"}):i.jsx(Pt,{className:"w-3 h-3 text-white"})})]}),l.confirm&&l.new!==l.confirm&&i.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Passwords do not match"}),l.confirm&&l.new===l.confirm&&i.jsx("p",{className:"text-xs text-green-500 mt-1",children:" Passwords match"})]})]}),i.jsx(F.button,{onClick:re,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:!l.current||!l.new||!l.confirm||l.new!==l.confirm,className:"mt-6 px-6 lg:px-8 py-2.5 lg:py-3 rounded-xl text-white font-semibold flex items-center gap-2 text-sm lg:text-base disabled:opacity-50 disabled:cursor-not-allowed",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:S?i.jsxs(i.Fragment,{children:[i.jsx(Je,{className:"w-4 h-4 lg:w-5 lg:h-5"})," Updated!"]}):i.jsxs(i.Fragment,{children:[i.jsx(jr,{className:"w-4 h-4 lg:w-5 lg:h-5"})," Update Password"]})})]}),i.jsxs("div",{className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-5 lg:p-8",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-lg lg:text-xl mb-1 lg:mb-2",style:{color:N.navy},children:"Two-Factor Authentication"}),i.jsx("p",{className:"text-gray-500 text-xs lg:text-sm",children:"Adds an extra security layer - you'll receive a verification code via email each time you login."})]}),i.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${E?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:E?" Enabled":"Disabled"})]}),E?i.jsxs(F.button,{onClick:async()=>{confirm("Are you sure you want to disable 2FA? This will make your account less secure.")&&(await yn.disable2FA(t==null?void 0:t.uid),w(!1),alert("2FA has been disabled."))},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 rounded-xl font-medium flex items-center justify-center gap-2 bg-red-50 text-red-600",children:[i.jsx(wi,{className:"w-4 h-4"})," Disable 2FA"]}):i.jsx("div",{children:T?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("p",{className:"text-sm text-gray-600",children:["A verification code has been sent to ",i.jsx("strong",{children:t==null?void 0:t.email})]}),i.jsx("input",{type:"text",value:A,onChange:O=>L(O.target.value.replace(/\D/g,"").slice(0,6)),className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-center text-2xl font-mono tracking-widest",placeholder:"000000",maxLength:"6"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>C(!1),className:"flex-1 py-2.5 rounded-xl border border-gray-200 text-sm",children:"Cancel"}),i.jsx(F.button,{onClick:async()=>{const O=yn.verify2FACode(t==null?void 0:t.uid,A);O.valid?(await yn.enable2FA(t==null?void 0:t.uid),w(!0),C(!1),L(""),alert(` Two-Factor Authentication enabled!

You will now receive a verification code via email each time you log in.`)):alert(" "+O.message)},whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl text-white text-sm font-medium",style:{background:N.green},children:P?"Verifying...":"Verify & Enable"})]}),i.jsx("button",{onClick:async()=>{fe(!0);const O=await yn.send2FACode(t==null?void 0:t.uid,t==null?void 0:t.email);fe(!1),O.success?alert(" New code sent!"):alert(" Failed to resend code.")},className:"w-full text-sm text-blue-600 hover:underline",disabled:P,children:"Didn't receive code? Resend"})]}):i.jsx(F.button,{onClick:async()=>{fe(!0);try{(await yn.send2FACode(t==null?void 0:t.uid,t==null?void 0:t.email)).success?C(!0):alert(" Failed to send verification code. Please try again.")}catch{alert(" Failed to send verification code. Please try again.")}fe(!1)},whileHover:{scale:1.02},whileTap:{scale:.98},disabled:P,className:"w-full py-3 rounded-xl font-medium flex items-center justify-center gap-2 disabled:opacity-50",style:{background:`${N.green}15`,color:N.green},children:P?i.jsxs(i.Fragment,{children:[i.jsx(un,{className:"w-4 h-4 animate-spin"})," Sending Code..."]}):i.jsxs(i.Fragment,{children:[i.jsx(wi,{className:"w-4 h-4"})," Enable 2FA"]})})})]}),i.jsxs("div",{className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-5 lg:p-8",children:[i.jsx("h2",{className:"font-serif text-lg lg:text-xl mb-4 lg:mb-6",style:{color:N.navy},children:"Login Activity"}),i.jsx("div",{className:"space-y-3",children:[{device:"Chrome on Windows",location:"New York",time:"Now",current:!0},{device:"Safari on iPhone",location:"New York",time:"1 day ago",current:!1}].map((O,ce)=>i.jsxs("div",{className:"flex items-center justify-between p-3 lg:p-4 bg-gray-50 rounded-xl",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(h2,{className:"w-5 h-5 text-gray-400"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",style:{color:N.navy},children:O.device}),i.jsxs("p",{className:"text-xs text-gray-500",children:[O.location,"  ",O.time]})]})]}),O.current&&i.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium",style:{background:`${N.green}15`,color:N.green},children:"Current"})]},ce))})]})]}),s==="language"&&i.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-5 lg:p-8",children:[i.jsx("h2",{className:"font-serif text-lg lg:text-2xl mb-2",style:{color:N.navy},children:"Language Settings"}),i.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Select your preferred language"}),i.jsx("div",{className:"p-4 rounded-xl mb-6",style:{background:`${N.gold}15`},children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:N.gold},children:i.jsx(va,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",style:{color:N.navy},children:"Current Language"}),i.jsx("p",{className:"text-sm text-gray-500",children:V})]})]})}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 max-h-[400px] overflow-y-auto",children:Object.entries(p1).map(([O,ce])=>i.jsxs("button",{onClick:()=>{localStorage.setItem("saxovault_language",O),window.location.reload()},className:`p-3 rounded-xl text-left text-sm font-medium transition-all ${te===O?"text-white shadow-lg":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,style:te===O?{background:N.navy}:{},children:[ce,te===O&&i.jsx(gn,{className:"w-4 h-4 inline ml-2"})]},O))}),i.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl",children:i.jsxs("p",{className:"text-sm text-blue-700",children:[i.jsx(M5,{className:"w-4 h-4 inline mr-2"}),"Language is automatically detected from your browser settings. You can manually change it above."]})})]}),s==="kyc"&&i.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-5 lg:p-8",children:[i.jsx("h2",{className:"font-serif text-lg lg:text-2xl mb-2",style:{color:N.navy},children:"KYC Verification"}),i.jsx("p",{className:"text-gray-500 text-sm mb-6 lg:mb-8",children:"Complete verification to unlock all features"}),f==="verified"?i.jsxs("div",{className:"text-center py-8 lg:py-12",children:[i.jsx("div",{className:"w-20 h-20 lg:w-24 lg:h-24 mx-auto rounded-full flex items-center justify-center mb-4 lg:mb-6",style:{background:`${N.green}20`},children:i.jsx(Je,{className:"w-12 h-12 lg:w-14 lg:h-14",style:{color:N.green}})}),i.jsx("h3",{className:"font-serif text-xl lg:text-2xl mb-2",style:{color:N.navy},children:"Verified"}),i.jsx("p",{className:"text-gray-500 text-sm",children:"Your identity has been verified."})]}):f==="submitted"?i.jsxs("div",{className:"text-center py-8 lg:py-12",children:[i.jsx("div",{className:"w-20 h-20 lg:w-24 lg:h-24 mx-auto rounded-full flex items-center justify-center mb-4 lg:mb-6",style:{background:`${N.gold}20`},children:i.jsx(Ii,{className:"w-12 h-12 lg:w-14 lg:h-14",style:{color:N.gold}})}),i.jsx("h3",{className:"font-serif text-xl lg:text-2xl mb-2",style:{color:N.navy},children:"Under Review"}),i.jsx("p",{className:"text-gray-500 text-sm",children:"We're reviewing your documents (1-2 business days)."})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex items-center justify-center mb-6 lg:mb-8",children:[1,2,3].map(O=>i.jsxs(Ad.Fragment,{children:[i.jsx("div",{className:`w-8 h-8 lg:w-10 lg:h-10 rounded-full flex items-center justify-center font-bold text-sm ${x>=O?"text-white":"bg-gray-200 text-gray-500"}`,style:x>=O?{background:N.navy}:{},children:x>O?i.jsx(gn,{className:"w-4 h-4"}):O}),O<3&&i.jsx("div",{className:`w-12 lg:w-20 h-1 mx-1 lg:mx-2 ${x>O?"bg-green-500":"bg-gray-200"}`})]},O))}),x===1&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold",style:{color:N.navy},children:"Personal Information"}),i.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Full Legal Name"}),i.jsx("input",{type:"text",value:_.fullName,onChange:O=>k({..._,fullName:O.target.value}),placeholder:"As shown on ID",className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Date of Birth"}),i.jsx("input",{type:"date",value:_.dateOfBirth,onChange:O=>k({..._,dateOfBirth:O.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:"ID Number"}),i.jsx("input",{type:"text",value:_.idNumber,onChange:O=>k({..._,idNumber:O.target.value}),placeholder:"Enter your ID number",className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:"ID Type"}),i.jsxs("select",{value:_.idType,onChange:O=>k({..._,idType:O.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"Select ID Type"}),i.jsx("option",{value:"passport",children:"International Passport"}),i.jsx("option",{value:"drivers_license",children:"Driver's License"}),i.jsx("option",{value:"national_id",children:"National ID Card"}),i.jsx("option",{value:"residence_permit",children:"Residence Permit"})]})]})]})]}),x===2&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold",style:{color:N.navy},children:"Upload Documents"}),i.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Take photos of your ID or upload existing images"}),i.jsxs("label",{className:"block cursor-pointer",children:[i.jsx("input",{type:"file",accept:"image/*,application/pdf",capture:"environment",onChange:O=>le(O,"idFront"),className:"hidden"}),i.jsx("div",{className:`border-2 border-dashed rounded-2xl p-6 lg:p-8 text-center hover:border-gray-400 transition-colors ${_.idFront?"border-green-400 bg-green-50":"border-gray-200"}`,children:_.idFront?i.jsxs(i.Fragment,{children:[i.jsx(gn,{className:"w-10 h-10 mx-auto text-green-500 mb-3"}),i.jsx("p",{className:"font-medium text-sm text-green-600",children:"ID Front Uploaded "}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tap to change"})]}):i.jsxs(i.Fragment,{children:[i.jsx(nn,{className:"w-10 h-10 mx-auto text-gray-400 mb-3"}),i.jsx("p",{className:"font-medium text-sm",style:{color:N.navy},children:"Upload ID (Front)"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tap to take photo or select file"})]})})]}),i.jsxs("label",{className:"block cursor-pointer",children:[i.jsx("input",{type:"file",accept:"image/*,application/pdf",capture:"environment",onChange:O=>le(O,"idBack"),className:"hidden"}),i.jsx("div",{className:`border-2 border-dashed rounded-2xl p-6 lg:p-8 text-center hover:border-gray-400 transition-colors ${_.idBack?"border-green-400 bg-green-50":"border-gray-200"}`,children:_.idBack?i.jsxs(i.Fragment,{children:[i.jsx(gn,{className:"w-10 h-10 mx-auto text-green-500 mb-3"}),i.jsx("p",{className:"font-medium text-sm text-green-600",children:"ID Back Uploaded "}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tap to change"})]}):i.jsxs(i.Fragment,{children:[i.jsx(nn,{className:"w-10 h-10 mx-auto text-gray-400 mb-3"}),i.jsx("p",{className:"font-medium text-sm",style:{color:N.navy},children:"Upload ID (Back)"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tap to take photo or select file"})]})})]})]}),x===3&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold",style:{color:N.navy},children:"Take a Selfie"}),i.jsx("p",{className:"text-gray-500 text-sm",children:"Hold your ID next to your face"}),i.jsxs("label",{className:"block cursor-pointer",children:[i.jsx("input",{type:"file",accept:"image/*",capture:"user",onChange:O=>le(O,"selfie"),className:"hidden"}),i.jsx("div",{className:`border-2 border-dashed rounded-2xl p-8 lg:p-12 text-center hover:border-gray-400 transition-colors ${_.selfie?"border-green-400 bg-green-50":"border-gray-200"}`,children:_.selfie?i.jsxs(i.Fragment,{children:[i.jsx("img",{src:_.selfie,alt:"Selfie preview",className:"w-32 h-32 mx-auto rounded-xl object-cover mb-3"}),i.jsx("p",{className:"font-medium text-sm text-green-600",children:"Selfie Uploaded "}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tap to change"})]}):i.jsxs(i.Fragment,{children:[i.jsx(zm,{className:"w-14 h-14 mx-auto text-gray-400 mb-3"}),i.jsx("p",{className:"font-medium text-sm",style:{color:N.navy},children:"Take or Upload Selfie"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tap to open camera or select photo"})]})})]})]}),i.jsxs("div",{className:"flex justify-between mt-6 lg:mt-8",children:[x>1&&i.jsx("button",{onClick:()=>j(x-1),className:"px-6 py-2.5 rounded-xl font-medium text-gray-600 hover:bg-gray-100 text-sm",children:"Back"}),i.jsx(F.button,{onClick:()=>x<3?j(x+1):de(),whileHover:{scale:1.02},whileTap:{scale:.98},disabled:b,className:"ml-auto px-6 lg:px-8 py-2.5 lg:py-3 rounded-xl text-white font-semibold text-sm disabled:opacity-50",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:b?"Submitting...":x===3?"Submit KYC":"Continue"})]})]})]}),s==="notifications"&&i.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-5 lg:p-8",children:[i.jsx("h2",{className:"font-serif text-lg lg:text-2xl mb-4 lg:mb-6",style:{color:N.navy},children:"Notifications"}),i.jsx("div",{className:"space-y-4",children:[{title:"Investment Updates",desc:"Portfolio performance alerts",enabled:!0},{title:"New Opportunities",desc:"New investment alerts",enabled:!0},{title:"Payouts",desc:"Payout notifications",enabled:!0},{title:"Referral Bonuses",desc:"Earn alerts from referrals",enabled:!0},{title:"Marketing",desc:"Promotional emails",enabled:!1}].map((O,ce)=>i.jsxs("div",{className:"flex items-center justify-between p-3 lg:p-4 bg-gray-50 rounded-xl",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",style:{color:N.navy},children:O.title}),i.jsx("p",{className:"text-xs text-gray-500",children:O.desc})]}),i.jsx("button",{className:`w-11 h-6 lg:w-12 lg:h-7 rounded-full transition-colors ${O.enabled?"":"bg-gray-300"}`,style:O.enabled?{background:N.green}:{},children:i.jsx("div",{className:`w-4 h-4 lg:w-5 lg:h-5 bg-white rounded-full shadow transition-transform ${O.enabled?"translate-x-6":"translate-x-1"}`})})]},ce))})]}),i.jsxs(F.button,{onClick:n,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full mt-6 py-3.5 rounded-xl text-red-500 font-semibold bg-red-50 flex items-center justify-center gap-2 lg:hidden",children:[i.jsx(Ra,{className:"w-5 h-5"})," Logout"]})]})})}const g1={email:"saxovaultadmin@saxovault.com",password:"SaxoAdmin2024!"},G={getUsers:()=>JSON.parse(localStorage.getItem("saxovault_users")||"[]"),setUsers:t=>localStorage.setItem("saxovault_users",JSON.stringify(t)),fetchUsersFromCloud:async()=>{try{const t=await Kj();return t.success?(localStorage.setItem("saxovault_users",JSON.stringify(t.data)),t.data):G.getUsers()}catch(t){return console.error("Error fetching users from cloud:",t),G.getUsers()}},getTransactions:()=>{try{const t=localStorage.getItem("saxovault_transactions"),e=JSON.parse(t||"[]");return Array.isArray(e)?e:[]}catch(t){return console.error("Error parsing transactions:",t),[]}},setTransactions:t=>{let e=Array.isArray(t)?t:[];const n=new Map;e.forEach(r=>{const a=r.firestoreId||r.id||`${r.createdAt}_${r.amount}_${r.userEmail}_${r.type}`;if(n.has(a)){const o=n.get(a),l=new Date(o.updatedAt||o.createdAt||0).getTime();new Date(r.updatedAt||r.createdAt||0).getTime()>l&&n.set(a,r)}else n.set(a,r)});const s=Array.from(n.values());localStorage.setItem("saxovault_transactions",JSON.stringify(s))},fetchTransactionsFromCloud:async()=>{try{const t=await xp();return t.success?(localStorage.setItem("saxovault_transactions",JSON.stringify(t.data)),t.data):G.getTransactions()}catch(t){return console.error("Error fetching transactions from cloud:",t),G.getTransactions()}},addTransaction:async t=>{var d;console.log(" Adding new transaction:",t.type);const e=Date.now().toString();let n={...t,id:e,localId:e,createdAt:new Date().toISOString(),status:"pending",syncedToCloud:!1};const s=G.getTransactions(),r=new Date(Date.now()-5e3).toISOString();if(s.some(h=>h.userEmail===t.userEmail&&h.amount===t.amount&&h.type===t.type&&h.createdAt>r))return console.warn(" Duplicate transaction detected, skipping..."),s.find(h=>h.userEmail===t.userEmail&&h.amount===t.amount&&h.type===t.type);let o=!1,l=0;const c=3;for(;!o&&l<c;)try{console.log(` Attempting Firestore save (attempt ${l+1}/${c})...`);const h=await yp(n);if(h.success&&h.id)n.id=h.id,n.firestoreId=h.id,n.syncedToCloud=!0,o=!0,console.log(" Transaction saved to Firestore with ID:",h.id);else throw new Error(h.error||"Unknown Firestore error")}catch(h){l++,console.error(` Firestore save attempt ${l} failed:`,h.message),l<c&&await new Promise(f=>setTimeout(f,1e3*l))}o||(console.error(" All Firestore save attempts failed - transaction saved locally only"),n.syncedToCloud=!1,n.cloudSyncError="Failed to sync to cloud after "+c+" attempts");try{let h=G.getTransactions();Array.isArray(h)||(console.warn(" Transactions was not an array, resetting..."),h=[]),h.unshift(n),G.setTransactions(h),console.log(" Transaction saved to localStorage")}catch(h){console.error(" Error saving to localStorage:",h);try{G.setTransactions([n])}catch(f){console.error(" Critical: Could not save transaction:",f)}}return G.notifyAdmin({type:t.type,title:`New ${t.type} Request`,message:`$${(d=t.amount)==null?void 0:d.toLocaleString()} ${t.type} from ${t.userEmail||"user"}`,urgent:!0,actionRequired:!0}),n},forceSyncFromCloud:async()=>{console.log(" Force syncing transactions from Firestore...");try{const t=await xp();if(t.success&&t.data){console.log(` Fetched ${t.data.length} transactions from Firestore`);const e=G.getTransactions(),n=new Map;t.data.forEach(r=>{const a=r.id||r.firestoreId;n.set(a,{...r,syncedToCloud:!0})}),e.forEach(r=>{const a=r.firestoreId||r.id;if(n.has(a)){const o=n.get(a),l=new Date(r.updatedAt||0).getTime(),c=new Date(o.updatedAt||0).getTime();l>c&&n.set(a,{...o,...r,syncedToCloud:!0})}else r.syncedToCloud||n.set(r.id,r)});const s=Array.from(n.values()).sort((r,a)=>new Date(a.createdAt)-new Date(r.createdAt));return G.setTransactions(s),console.log(` Synced ${s.length} transactions`),{success:!0,count:s.length,data:s}}else throw new Error(t.error||"Failed to fetch from Firestore")}catch(t){return console.error(" Force sync failed:",t),{success:!1,error:t.message}}},pushUnsyncedToCloud:async()=>{console.log(" Pushing unsynced transactions to Firestore...");const t=G.getTransactions(),e=t.filter(s=>!s.syncedToCloud||s.cloudSyncError);console.log(`Found ${e.length} unsynced transactions`);let n=0;for(const s of e)try{const r=await yp(s);r.success&&r.id&&(s.firestoreId=r.id,s.syncedToCloud=!0,delete s.cloudSyncError,n++,console.log(` Pushed transaction ${s.id} to Firestore`))}catch(r){console.error(` Failed to push transaction ${s.id}:`,r)}return G.setTransactions(t),console.log(` Pushed ${n}/${e.length} transactions to cloud`),{success:!0,pushed:n,total:e.length}},updateTransaction:async(t,e)=>{console.log(" Updating transaction:",t,e);const n=G.getTransactions(),s=n.findIndex(l=>l.id===t||l.firestoreId===t||l.localId===t);if(s===-1)return console.error(" Transaction not found:",t),{success:!1,error:"Transaction not found"};const r=n[s],a=r.firestoreId||r.id||t,o={...r,...e,updatedAt:new Date().toISOString()};n[s]=o,G.setTransactions(n),console.log(" Transaction updated in localStorage:",o.status);try{await kd(a,e),console.log(" Transaction updated in Firestore with ID:",a)}catch(l){if(console.error(" Firestore update error (localStorage already updated):",l),r.id&&r.id!==a)try{await kd(r.id,e),console.log(" Transaction updated with alternate ID:",r.id)}catch(c){console.error(" Alternate Firestore update failed:",c)}}return{success:!0,transaction:o}},updateUser:async(t,e)=>{try{await Uy(t,e),console.log(" User updated in Firestore")}catch(s){console.error(" Error updating user in Firestore:",s)}const n=localStorage.getItem(`user_${t}`);if(n){const s=JSON.parse(n);localStorage.setItem(`user_${t}`,JSON.stringify({...s,...e}))}},getSettings:()=>JSON.parse(localStorage.getItem("saxovault_settings")||JSON.stringify({wallets:{btc:"bc1qzmgg6hw0fttfpczh2whp8f44k497d6pucghk58",eth:"0x83057882eC7B7EE0cBe63C2fE2b8957e7ab69655",usdt:"TLGH9FucAuPNUoQw2XUFEDtCg4FFdJ2jKG"},whatsapp:"+14642395280",email:"support@saxovault.com",siteName:"SaxoVault Capital"})),setSettings:t=>localStorage.setItem("saxovault_settings",JSON.stringify(t)),getNotifications:()=>JSON.parse(localStorage.getItem("saxovault_notifications")||"[]"),addNotification:t=>{const e=G.getNotifications();e.unshift({...t,id:Date.now(),read:!1,createdAt:new Date().toISOString()}),localStorage.setItem("saxovault_notifications",JSON.stringify(e.slice(0,100)))},getAdminNotifications:()=>JSON.parse(localStorage.getItem("saxovault_admin_notifs")||"[]"),notifyAdmin:t=>{const e=G.getAdminNotifications(),n={...t,id:Date.now(),read:!1,createdAt:new Date().toISOString()};if(e.unshift(n),localStorage.setItem("saxovault_admin_notifs",JSON.stringify(e.slice(0,200))),localStorage.getItem("saxovault_admin")==="true")try{const s=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2teleQABMjV4wdvqhBwIPnyV0+TkeEU5Un+13e6ZRxcnOFJsocHn04FGNjBIYZi+4t6QSjE0SGqay+LYglM4M0NTfqrN3tCMaD0wP0pqpcnc3I5kOC9AWGyiwtff");s.volume=.3,s.play().catch(()=>{})}catch{}return n},markAdminNotifRead:t=>{const n=G.getAdminNotifications().map(s=>s.id===t?{...s,read:!0}:s);localStorage.setItem("saxovault_admin_notifs",JSON.stringify(n))},queueEmail:t=>{const e=JSON.parse(localStorage.getItem("saxovault_email_queue")||"[]");e.push({...t,id:Date.now(),status:"queued",createdAt:new Date().toISOString()}),localStorage.setItem("saxovault_email_queue",JSON.stringify(e))},logActivity:(t,e,n)=>{try{let s=JSON.parse(localStorage.getItem("saxovault_activity_logs")||"[]");Array.isArray(s)||(console.warn("Activity logs was not an array, resetting..."),s=[]),s.unshift({id:Date.now(),userId:t,action:e,details:n,ip:"xxx.xxx.xxx.xxx",userAgent:navigator.userAgent,createdAt:new Date().toISOString()}),localStorage.setItem("saxovault_activity_logs",JSON.stringify(s.slice(0,500)))}catch(s){console.error("Error logging activity:",s),localStorage.setItem("saxovault_activity_logs",JSON.stringify([]))}},getActivityLogs:t=>{const e=JSON.parse(localStorage.getItem("saxovault_activity_logs")||"[]");return t?e.filter(n=>n.userId===t):e},getAutoInvestPlans:t=>{const e=JSON.parse(localStorage.getItem("saxovault_autoinvest")||"[]");return t?e.filter(n=>n.userId===t):e},saveAutoInvestPlan:t=>{const e=G.getAutoInvestPlans(),n=e.findIndex(s=>s.id===t.id);n>=0?e[n]=t:e.push({...t,id:Date.now(),createdAt:new Date().toISOString()}),localStorage.setItem("saxovault_autoinvest",JSON.stringify(e))},deleteAutoInvestPlan:t=>{const e=G.getAutoInvestPlans().filter(n=>n.id!==t);localStorage.setItem("saxovault_autoinvest",JSON.stringify(e))}},xt={publicKey:"trmaHaGeZzBpjKtaj",serviceId:"service_59y54de",templateId:"template_kskirgx",adminEmail:"saxovault6@gmail.com"};let hr=!1;try{rd.init(xt.publicKey),hr=!0,console.log(" EmailJS initialized successfully"),console.log(" Admin email:",xt.adminEmail)}catch(t){console.error(" EmailJS init failed:",t)}const je={getAdminEmail:()=>xt.adminEmail,isReady:()=>hr,testEmail:async t=>{if(console.log(" ========== EMAIL TEST START =========="),console.log(" Testing EmailJS with:",t),console.log(" Service ID:",xt.serviceId),console.log(" Template ID:",xt.templateId),console.log(" Public Key:",xt.publicKey),console.log(" EmailJS Initialized:",hr),!hr)return console.error(" EmailJS not initialized!"),alert("EmailJS not initialized. Check console for errors."),{success:!1,error:"Not initialized"};try{const e=await rd.send(xt.serviceId,xt.templateId,{to_email:t,subject:"SaxoVault Test Email",message:`This is a test email from SaxoVault. If you received this, EmailJS is working correctly!

Time: `+new Date().toLocaleString(),from_name:"SaxoVault Capital",reply_to:"support@saxovault.com"});return console.log(" Test email sent successfully!",e),console.log(" ========== EMAIL TEST SUCCESS =========="),alert(" Test email sent! Check your inbox (and spam folder)."),{success:!0,result:e}}catch(e){return console.error(" Test email failed:",e),console.error(" Error details:",{text:e==null?void 0:e.text,message:e==null?void 0:e.message,status:e==null?void 0:e.status,name:e==null?void 0:e.name}),console.log(" ========== EMAIL TEST FAILED =========="),alert(" Test email failed: "+((e==null?void 0:e.text)||(e==null?void 0:e.message)||"Unknown error")+`

Check console for details.`),{success:!1,error:e}}},sendEmail:async(t,e,n,s="notification")=>{if(console.log(" ========== SENDING EMAIL =========="),console.log(" To:",t),console.log(" Subject:",e),console.log(" Type:",s),console.log(" EmailJS Ready:",hr),!hr)return console.error(" EmailJS not initialized - cannot send email"),{success:!1,message:"EmailJS not initialized"};if(!t||!e)return console.error(" Missing email or subject"),{success:!1,message:"Missing email or subject"};try{const r={to_email:t,subject:e,message:n,from_name:"SaxoVault Capital",reply_to:"support@saxovault.com"};console.log(" Calling emailjs.send()...");const a=await rd.send(xt.serviceId,xt.templateId,r);return console.log(" EMAIL SENT SUCCESSFULLY!"),console.log(" Response:",{status:a.status,text:a.text}),G.queueEmail({to:t,subject:e,type:s,status:"sent",createdAt:new Date().toISOString()}),{success:!0,response:a}}catch(r){return console.error(" EMAIL SEND FAILED!"),console.error(" Error:",r),console.error(" Details:",{text:r==null?void 0:r.text,message:r==null?void 0:r.message,status:r==null?void 0:r.status}),G.queueEmail({to:t,subject:e,type:s,status:"failed",error:(r==null?void 0:r.text)||(r==null?void 0:r.message),createdAt:new Date().toISOString()}),{success:!1,error:(r==null?void 0:r.text)||(r==null?void 0:r.message)}}},sendAdminNotification:async(t,e)=>(console.log(" Sending ADMIN notification:",t),await je.sendEmail(xt.adminEmail,t,e,"admin")),sendDepositNotification:async(t,e,n)=>{const s=`Deposit Request - $${e.toLocaleString()} ${n}`,r=`Hello,

Your deposit request has been received!

Amount: $${e.toLocaleString()}
Payment Method: ${n}
Status: Pending Confirmation

Your funds will be credited once confirmed (usually 10-30 minutes).

Thank you,
SaxoVault Capital`,a=await je.sendEmail(t,s,r,"deposit"),o=` [DEPOSIT] $${e.toLocaleString()} from ${t}`,l=`
       NEW DEPOSIT REQUEST


 User: ${t}
 Amount: $${e.toLocaleString()}
 Method: ${n}
 Time: ${new Date().toLocaleString()}

Action Required: Review in admin panel

`;return await je.sendAdminNotification(o,l),a},sendWithdrawalNotification:async(t,e,n)=>{const s=`Withdrawal Request - $${e.toLocaleString()}`,r=`Hello,

Your withdrawal request has been submitted.

Amount: $${e.toLocaleString()}
Destination: ${n}
Status: Under Review

Processing time: 24-48 hours after approval.

Thank you,
SaxoVault Capital`,a=await je.sendEmail(t,s,r,"withdrawal"),o=` [WITHDRAWAL] $${e.toLocaleString()} from ${t}`,l=`
      NEW WITHDRAWAL REQUEST


 User: ${t}
 Amount: $${e.toLocaleString()}
 Wallet: ${n}
 Time: ${new Date().toLocaleString()}

Action Required: Approve/Reject in admin panel

`;return await je.sendAdminNotification(o,l),a},sendInvestmentNotification:async(t,e,n,s)=>{const r=`Investment Activated - ${e}`,a=`Hello,

Your investment has been activated!

Investment: ${e}
Amount: $${n.toLocaleString()}
Duration: ${s||"As specified"}
Status: Active

You can track your investment in the dashboard.

Thank you,
SaxoVault Capital`,o=await je.sendEmail(t,r,a,"investment"),l=` [INVESTMENT] $${n.toLocaleString()} - ${e}`,c=`
      NEW INVESTMENT ACTIVATION


 User: ${t}
 Plan: ${e}
 Amount: $${n.toLocaleString()}
 Duration: ${s||"N/A"}
 Time: ${new Date().toLocaleString()}

`;return await je.sendAdminNotification(l,c),o},sendKYCNotification:async(t,e,n)=>{const s="KYC Verification Submitted",r=`Hello ${e||""},

Your KYC verification documents have been submitted successfully.

Document Type: ${n||"ID Document"}
Status: Under Review

Our team will verify your documents within 24-48 hours.

Thank you,
SaxoVault Capital`,a=await je.sendEmail(t,s,r,"kyc"),o=` [KYC] New Submission from ${t}`,l=`
        NEW KYC SUBMISSION


 User: ${e||"N/A"}
 Email: ${t}
 Document Type: ${n||"ID Document"}
 Submitted: ${new Date().toLocaleString()}

Action Required: Verify documents in admin panel

`;return await je.sendAdminNotification(o,l),a},sendNewUserNotification:async(t,e,n)=>{const s=` [NEW USER] ${e||t} just registered`,r=`
         NEW USER REGISTRATION


 Name: ${e||"N/A"}
 Email: ${t}
 Method: ${n||"Email"}
 Time: ${new Date().toLocaleString()}

`;return await je.sendAdminNotification(s,r)},sendLoginNotification:async(t,e,n)=>{const s=` [LOGIN] ${t} logged in`,r=`User Login Activity

 User: ${e||t}
 Email: ${t}
 Method: ${n||"Email"}
 Time: ${new Date().toLocaleString()}`;return await je.sendAdminNotification(s,r)},sendReferralNotification:async(t,e)=>{const n="New Referral Signup!",s=`Hello,

Someone signed up using your referral link!

New User: ${e}
Your Bonus: 1% of their deposits

Keep sharing to earn more!

Thank you,
SaxoVault Capital`;return await je.sendEmail(t,n,s,"referral")},send2FACode:async(t,e)=>{const n=`Security Code: ${e}`,s=`Your SaxoVault verification code:

${e}

This code expires in 5 minutes.
Never share this code with anyone.

SaxoVault Capital`;return await je.sendEmail(t,n,s,"2fa")},sendBroadcast:async(t,e,n)=>{const s=[];for(const r of t){const a=await je.sendEmail(r.email,e,n,"broadcast");s.push({email:r.email,...a})}return s},sendStatusUpdate:async(t,e,n,s,r="")=>{console.log(` Sending status update email to: ${t}`),console.log(` Type: ${e}, Status: ${n}, Amount: ${s}`);const a=`SaxoVault - ${e} ${n}`,o=`Hello,

Your ${e.toLowerCase()} has been ${n.toUpperCase()}.

Amount: $${(s==null?void 0:s.toLocaleString())||"N/A"}
Status: ${n.toUpperCase()}
${r?`
Note: ${r}`:""}

If you have any questions, please contact our support team.

Thank you,
SaxoVault Capital
support@saxovault.com`;try{const l=await je.sendEmail(t,a,o,"status");return console.log(" Status update email result:",l),l}catch(l){throw console.error(" Status update email failed:",l),l}},sendKYCStatusUpdate:async(t,e,n="")=>{const s=e==="verified"||e==="approved",r=s?"KYC Verification Approved ":"KYC Verification Update",a=`Hello,

Your KYC verification has been ${s?"APPROVED":"REJECTED"}.

${s?`Congratulations! Your account is now fully verified. You can now:
 Make unlimited deposits
 Access all investment plans
 Enjoy faster withdrawal processing

Thank you for verifying your identity with SaxoVault Capital.`:`Unfortunately, your KYC submission could not be verified.

${n?`Reason: ${n}`:"Please ensure your documents are clear and match your profile information."}

You can resubmit your documents by going to Profile  KYC Verification.`}

Thank you,
SaxoVault Capital`;return await je.sendEmail(t,r,a,"kyc")},sendVerificationEmail:async(t,e,n)=>{const s=window.location.origin,r=`${s}/#verify?token=${n}&email=${encodeURIComponent(t)}`,a=" Verify Your SaxoVault Account",o=`Hello ${e||"Valued Member"},

Welcome to SaxoVault Capital! 

Thank you for creating your account. To complete your registration and start investing, please verify your email address.


 VERIFY YOUR EMAIL


Click the link below to verify your account:
${r}

Or enter this verification code on our website:
 ${n}



This link expires in 24 hours.

If you didn't create an account with SaxoVault Capital, please ignore this email.

Need help? Contact our support team at support@saxovault.com

Welcome aboard!
The SaxoVault Capital Team


SaxoVault Capital - Premium Investment Solutions
Website: ${s}
`;console.log(" Sending verification email to:",t),console.log(" Verification token:",n);try{const l=await je.sendEmail(t,a,o,"verification");return console.log(" Verification email sent successfully"),l}catch(l){throw console.error(" Failed to send verification email:",l),l}},resendVerificationEmail:async t=>{const e=JSON.parse(localStorage.getItem("saxovault_pending_verifications")||"{}"),n=e[t];if(!n)return{success:!1,error:"No pending verification found for this email."};const s=Math.random().toString(36).substring(2,8).toUpperCase(),r=new Date(Date.now()+24*60*60*1e3).toISOString();e[t]={...n,token:s,expiry:r},localStorage.setItem("saxovault_pending_verifications",JSON.stringify(e));const a=localStorage.getItem(`user_${n.uid}`);if(a){const o=JSON.parse(a);o.verificationToken=s,o.verificationExpiry=r,localStorage.setItem(`user_${n.uid}`,JSON.stringify(o))}return await je.sendVerificationEmail(t,n.name,s)}};typeof window<"u"&&(window.EmailService=je,window.testEmail=async t=>{if(console.log(" ========== EMAIL TEST START =========="),console.log(" Testing EmailJS with:",t),console.log(" Service ID:",xt.serviceId),console.log(" Template ID:",xt.templateId),console.log(" Public Key:",xt.publicKey),console.log(" EmailJS Ready:",hr),!hr)return console.error(" EmailJS not initialized!"),alert("EmailJS not initialized. Check console for errors."),{success:!1,error:"Not initialized"};try{const e=await rd.send(xt.serviceId,xt.templateId,{to_email:t,subject:"SaxoVault Test Email - "+new Date().toLocaleTimeString(),message:`This is a test email from SaxoVault.

If you received this, EmailJS is working correctly!

Time: `+new Date().toLocaleString(),from_name:"SaxoVault Capital",reply_to:"support@saxovault.com"});return console.log(" Test email sent successfully!",e),console.log(" ========== EMAIL TEST SUCCESS =========="),alert(" Test email sent to "+t+`!

Check your inbox (and spam folder).`),{success:!0,result:e}}catch(e){return console.error(" Test email failed:",e),console.error(" Error details:",{text:e==null?void 0:e.text,message:e==null?void 0:e.message,status:e==null?void 0:e.status,name:e==null?void 0:e.name}),console.log(" ========== EMAIL TEST FAILED =========="),alert(` Test email failed!

Error: `+((e==null?void 0:e.text)||(e==null?void 0:e.message)||"Unknown error")+`

Check console for details.`),{success:!1,error:e}}},console.log(' Email test ready! Run: window.testEmail("your@email.com")'));const yn={generate2FACode:()=>Math.floor(1e5+Math.random()*9e5).toString(),store2FACode:(t,e)=>{const n=JSON.parse(localStorage.getItem("saxovault_2fa_codes")||"{}");return n[t]={code:e,createdAt:Date.now(),expires:Date.now()+5*60*1e3},localStorage.setItem("saxovault_2fa_codes",JSON.stringify(n)),e},verify2FACode:(t,e)=>{const n=JSON.parse(localStorage.getItem("saxovault_2fa_codes")||"{}"),s=n[t];return s?Date.now()>s.expires?{valid:!1,message:"Code expired"}:s.code!==e?{valid:!1,message:"Invalid code"}:(delete n[t],localStorage.setItem("saxovault_2fa_codes",JSON.stringify(n)),{valid:!0,message:"Verified"}):{valid:!1,message:"No code found"}},send2FACode:async(t,e)=>{console.log(" Sending 2FA code to:",e);const n=yn.generate2FACode();yn.store2FACode(t,n);try{const s=await je.send2FACode(e,n);return console.log(" 2FA code sent successfully:",s),{success:!0,code:n}}catch(s){return console.error(" Failed to send 2FA code:",s),{success:!1,error:s}}},is2FAEnabled:t=>{var a;if(!t)return!1;if((a=JSON.parse(localStorage.getItem("saxovault_user_2fa")||"{}")[t])!=null&&a.enabled||JSON.parse(localStorage.getItem(`user_${t}`)||"{}").twoFactorEnabled)return!0;const r=JSON.parse(localStorage.getItem("saxovault_users")||"[]").find(o=>o.uid===t);return!!(r!=null&&r.twoFactorEnabled)},enable2FA:async t=>{const e=JSON.parse(localStorage.getItem("saxovault_user_2fa")||"{}");e[t]={enabled:!0,enabledAt:new Date().toISOString()},localStorage.setItem("saxovault_user_2fa",JSON.stringify(e));const n=JSON.parse(localStorage.getItem(`user_${t}`)||"{}");n.twoFactorEnabled=!0,n.twoFactorEnabledAt=new Date().toISOString(),localStorage.setItem(`user_${t}`,JSON.stringify(n));const s=JSON.parse(localStorage.getItem("saxovault_current_user")||"{}");s.uid===t&&(s.twoFactorEnabled=!0,localStorage.setItem("saxovault_current_user",JSON.stringify(s)));const a=JSON.parse(localStorage.getItem("saxovault_users")||"[]").map(o=>o.uid===t?{...o,twoFactorEnabled:!0,twoFactorEnabledAt:new Date().toISOString()}:o);localStorage.setItem("saxovault_users",JSON.stringify(a));try{await G.updateUser(t,{twoFactorEnabled:!0,twoFactorEnabledAt:new Date().toISOString()}),console.log(" 2FA status synced to Firestore")}catch(o){console.error(" Failed to sync 2FA to Firestore:",o)}console.log(" 2FA enabled for user:",t)},disable2FA:async t=>{const e=JSON.parse(localStorage.getItem("saxovault_user_2fa")||"{}");e[t]={enabled:!1},localStorage.setItem("saxovault_user_2fa",JSON.stringify(e));const n=JSON.parse(localStorage.getItem(`user_${t}`)||"{}");n.twoFactorEnabled=!1,localStorage.setItem(`user_${t}`,JSON.stringify(n));const s=JSON.parse(localStorage.getItem("saxovault_current_user")||"{}");s.uid===t&&(s.twoFactorEnabled=!1,localStorage.setItem("saxovault_current_user",JSON.stringify(s)));const a=JSON.parse(localStorage.getItem("saxovault_users")||"[]").map(o=>o.uid===t?{...o,twoFactorEnabled:!1}:o);localStorage.setItem("saxovault_users",JSON.stringify(a));try{await G.updateUser(t,{twoFactorEnabled:!1}),console.log(" 2FA disabled synced to Firestore")}catch(o){console.error(" Failed to sync 2FA disable to Firestore:",o)}console.log(" 2FA disabled for user:",t)}};function FM({onClose:t,user:e}){const[n,s]=D.useState("weekly"),[r,a]=D.useState(500),[o,l]=D.useState(null),[c,d]=D.useState([]),h=JSON.parse(localStorage.getItem("saxovault_investments")||"null")||jh;D.useEffect(()=>{d(G.getAutoInvestPlans(e==null?void 0:e.uid))},[e]),D.useEffect(()=>{o&&a(o.min||500)},[o]);const f=[{id:"daily",label:"Daily",desc:"Every day"},{id:"weekly",label:"Weekly",desc:"Every Monday"},{id:"biweekly",label:"Bi-Weekly",desc:"Every 2 weeks"},{id:"monthly",label:"Monthly",desc:"1st of each month"}],p=(o==null?void 0:o.min)||500,x=async()=>{if(!o){alert("Please select an investment plan");return}if(r<p){alert(`Minimum investment for ${o.name} is $${p.toLocaleString()}`);return}const k={userId:e==null?void 0:e.uid,userEmail:e==null?void 0:e.email,userName:e==null?void 0:e.name,investmentId:o.id,investmentName:o.name,investmentCategory:o.category,amount:r,frequency:n,status:"active",nextExecution:j(n),totalInvested:0,executionCount:0,createdAt:new Date().toISOString()};G.saveAutoInvestPlan(k),d([...c,k]);try{const S=xt.adminEmail||"saxovault6@gmail.com",v=`New Auto-Invest Plan Created

User: ${(e==null?void 0:e.name)||"User"} (${e==null?void 0:e.email})
Investment: ${o.name}
Category: ${o.category}
Amount: $${r.toLocaleString()} per ${n}
Next Execution: ${new Date(k.nextExecution).toLocaleDateString()}

---
This auto-invest plan will automatically execute at the scheduled times.
SaxoVault Capital`;await je.sendEmail(S,` New Auto-Invest: ${e==null?void 0:e.email} - $${r}/${n}`,v,"autoinvest"),console.log(" Auto-invest notification sent to admin")}catch(S){console.error(" Failed to send auto-invest notification:",S)}G.addNotification({type:"autoinvest",message:`Auto-invest plan created: $${r}/${n} into ${o.name}`}),l(null),a(500),alert(` Auto-invest plan created!

$${r.toLocaleString()} will be invested ${n} into ${o.name}`)},j=k=>{const S=new Date;switch(k){case"daily":return new Date(S.setDate(S.getDate()+1)).toISOString();case"weekly":return new Date(S.setDate(S.getDate()+(7-S.getDay()+1)%7+1)).toISOString();case"biweekly":return new Date(S.setDate(S.getDate()+14)).toISOString();case"monthly":return new Date(S.getFullYear(),S.getMonth()+1,1).toISOString();default:return new Date(S.setDate(S.getDate()+7)).toISOString()}},_=async k=>{var S,v;if(confirm("Cancel this auto-invest plan?")){G.deleteAutoInvestPlan(k.id),d(c.filter(b=>b.id!==k.id));try{const b=xt.adminEmail||"saxovault6@gmail.com",R=`Auto-Invest Plan Cancelled

User: ${(e==null?void 0:e.name)||"User"} (${e==null?void 0:e.email})
Investment: ${k.investmentName}
Amount: $${(S=k.amount)==null?void 0:S.toLocaleString()} per ${k.frequency}
Total Invested: $${((v=k.totalInvested)==null?void 0:v.toLocaleString())||0}
Executions: ${k.executionCount||0}

---
The user has cancelled this auto-invest plan.
SaxoVault Capital`;await je.sendEmail(b,` Auto-Invest Cancelled: ${e==null?void 0:e.email}`,R,"autoinvest"),console.log(" Auto-invest cancellation notification sent to admin")}catch(b){console.error(" Failed to send cancellation notification:",b)}alert("Auto-invest plan cancelled")}};return i.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t,children:i.jsxs(F.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto shadow-2xl",onClick:k=>k.stopPropagation(),children:[i.jsx("div",{className:"p-6 border-b border-gray-100",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"font-serif text-xl",style:{color:N.navy},children:[i.jsx(ld,{className:"w-5 h-5 inline mr-2 text-yellow-500"}),"Auto-Invest Plans"]}),i.jsx("p",{className:"text-sm text-gray-500",children:"Set up recurring investments automatically"})]}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full",children:i.jsx(Pt,{className:"w-5 h-5"})})]})}),i.jsxs("div",{className:"p-6",children:[c.length>0&&i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"font-medium text-sm text-gray-700 mb-3",children:"Active Plans"}),i.jsx("div",{className:"space-y-2",children:c.map(k=>{var S;return i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",style:{color:N.navy},children:k.investmentName}),i.jsxs("p",{className:"text-xs text-gray-500",children:["$",(S=k.amount)==null?void 0:S.toLocaleString(),"/",k.frequency]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${k.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:k.status}),i.jsx("button",{onClick:()=>_(k),className:"p-1.5 hover:bg-red-100 rounded text-red-500",children:i.jsx(p2,{className:"w-4 h-4"})})]})]},k.id)})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Investment"}),i.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto",children:h.slice(0,8).map(k=>i.jsxs("button",{onClick:()=>l(k),className:`p-3 rounded-xl text-left text-sm transition-all ${(o==null?void 0:o.id)===k.id?"ring-2 bg-blue-50":"bg-gray-50 hover:bg-gray-100"}`,style:(o==null?void 0:o.id)===k.id?{ringColor:N.navy}:{},children:[i.jsx("p",{className:"font-medium truncate",style:{color:N.navy},children:k.name}),i.jsxs("p",{className:"text-xs text-gray-500",children:[k.returns," returns"]})]},k.id))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount per Investment"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 font-medium",children:"$"}),i.jsx("input",{type:"number",value:r,onChange:k=>a(Math.max(p,+k.target.value)),className:"w-full pl-8 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2",style:{"--tw-ring-color":N.navy},min:p})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:o?`Minimum for ${o.name}: $${p.toLocaleString()}`:"Select an investment to see minimum amount"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Frequency"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:f.map(k=>i.jsxs("button",{onClick:()=>s(k.id),className:`p-3 rounded-xl text-left transition-all ${n===k.id?"text-white":"bg-gray-50 hover:bg-gray-100"}`,style:n===k.id?{background:N.navy}:{},children:[i.jsx("p",{className:"font-medium text-sm",children:k.label}),i.jsx("p",{className:`text-xs ${n===k.id?"text-white/70":"text-gray-500"}`,children:k.desc})]},k.id))})]}),o&&i.jsxs("div",{className:"p-4 rounded-xl",style:{background:`${N.green}10`},children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"You'll invest"}),i.jsxs("p",{className:"text-2xl font-bold",style:{color:N.navy},children:["$",r," / ",n]}),i.jsxs("p",{className:"text-sm text-gray-500",children:["into ",o.name]})]}),i.jsxs(F.button,{onClick:x,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:!o,className:"w-full py-4 rounded-xl text-white font-semibold disabled:opacity-50",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:[i.jsx(ld,{className:"w-5 h-5 inline mr-2"}),"Create Auto-Invest Plan"]})]})]})]})})}function $M({user:t,onVerify:e,onClose:n,onResend:s}){const[r,a]=D.useState(["","","","","",""]),[o,l]=D.useState(""),[c,d]=D.useState(!1),[h,f]=D.useState(0),p=D.useRef([]);D.useEffect(()=>{var S;(S=p.current[0])==null||S.focus()},[]),D.useEffect(()=>{if(h>0){const S=setTimeout(()=>f(v=>v-1),1e3);return()=>clearTimeout(S)}},[h]);const x=(S,v)=>{var R;if(!/^\d*$/.test(v))return;const b=[...r];b[S]=v.slice(-1),a(b),v&&S<5&&((R=p.current[S+1])==null||R.focus()),b.every(M=>M)&&b.join("").length===6&&_(b.join(""))},j=(S,v)=>{var b;v.key==="Backspace"&&!r[S]&&S>0&&((b=p.current[S-1])==null||b.focus())},_=async S=>{var b;d(!0),l("");const v=yn.verify2FACode(t==null?void 0:t.uid,S);v.valid?e():(l(v.message),a(["","","","","",""]),(b=p.current[0])==null||b.focus()),d(!1)},k=async()=>{if(!(h>0)){d(!0);try{(await yn.send2FACode(t==null?void 0:t.uid,t==null?void 0:t.email)).success?(f(60),a(["","","","","",""]),l("")):l("Failed to send code. Please try again.")}catch{l("Failed to send code. Please try again.")}d(!1)}};return i.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:i.jsxs(F.div,{initial:{scale:.9},animate:{scale:1},className:"bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl text-center",children:[i.jsx("div",{className:"w-16 h-16 rounded-full mx-auto mb-4 flex items-center justify-center",style:{background:`${N.navy}10`},children:i.jsx(h2,{className:"w-8 h-8",style:{color:N.navy}})}),i.jsx("h2",{className:"font-serif text-xl mb-2",style:{color:N.navy},children:"Two-Factor Authentication"}),i.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:["Enter the 6-digit code sent to",i.jsx("br",{}),i.jsx("strong",{children:t==null?void 0:t.email})]}),i.jsx("div",{className:"flex justify-center gap-2 mb-6",children:r.map((S,v)=>i.jsx("input",{ref:b=>p.current[v]=b,type:"text",inputMode:"numeric",maxLength:"1",value:S,onChange:b=>x(v,b.target.value),onKeyDown:b=>j(v,b),className:"w-12 h-14 text-center text-2xl font-bold border-2 rounded-xl focus:outline-none transition-all",style:{borderColor:o?"#ef4444":S?N.navy:"#e5e7eb"}},v))}),o&&i.jsxs("p",{className:"text-red-500 text-sm mb-4 flex items-center justify-center gap-1",children:[i.jsx(cs,{className:"w-4 h-4"})," ",o]}),i.jsx("button",{onClick:k,disabled:h>0,className:"text-sm text-gray-500 hover:text-gray-700 disabled:opacity-50 mb-4",children:h>0?`Resend code in ${h}s`:"Resend code"}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(F.button,{onClick:n,whileHover:{scale:1.02},className:"flex-1 py-3 rounded-xl border border-gray-200",children:"Cancel"}),i.jsx(F.button,{onClick:()=>_(r.join("")),whileHover:{scale:1.02},disabled:c||r.some(S=>!S),className:"flex-1 py-3 rounded-xl text-white font-medium disabled:opacity-50",style:{background:N.navy},children:c?"Verifying...":"Verify"})]})]})})}function UM({onLogin:t}){const[e,n]=D.useState(""),[s,r]=D.useState(""),[a,o]=D.useState(""),[l,c]=D.useState(!1),d=h=>{h.preventDefault(),c(!0),o(""),setTimeout(()=>{e===g1.email&&s===g1.password?(localStorage.setItem("saxovault_admin","true"),t()):o("Invalid admin credentials"),c(!1)},1e3)};return i.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:i.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"w-16 h-16 mx-auto rounded-2xl flex items-center justify-center mb-4",style:{background:`linear-gradient(135deg, ${N.gold} 0%, ${N.goldDark} 100%)`},children:i.jsx(Lr,{className:"w-8 h-8 text-white"})}),i.jsx("h1",{className:"font-serif text-2xl",style:{color:N.navy},children:"Admin Portal"}),i.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"SaxoVault Capital Management"})]}),a&&i.jsxs("div",{className:"mb-4 p-3 rounded-xl bg-red-50 text-red-600 text-sm flex items-center gap-2",children:[i.jsx(cs,{className:"w-4 h-4"})," ",a]}),i.jsxs("form",{onSubmit:d,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Admin Email"}),i.jsxs("div",{className:"relative",children:[i.jsx(Wn,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"email",value:e,onChange:h=>n(h.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"admin@saxovault.com",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(jr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"password",value:s,onChange:h=>r(h.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"",required:!0})]})]}),i.jsx(F.button,{type:"submit",disabled:l,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3.5 rounded-xl text-white font-semibold flex items-center justify-center gap-3",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:l?i.jsx(un,{className:"w-5 h-5 animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(Lr,{className:"w-5 h-5"})," Access Admin Panel"]})})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsx("a",{href:"/",className:"text-sm text-gray-500 hover:underline",children:" Back to Website"})})]})})}function BM({onLogout:t}){var oo,Ks,lo,_t,co;const[e,n]=D.useState("overview"),[s,r]=D.useState([]),[a,o]=D.useState([]),[l,c]=D.useState(G.getSettings()),[d,h]=D.useState(G.getNotifications()),[f,p]=D.useState(null),[x,j]=D.useState(null),[_,k]=D.useState(!0),[S,v]=D.useState("all"),[b,R]=D.useState(()=>{const g=localStorage.getItem("saxovault_website_settings");return g?JSON.parse(g):{siteName:"SaxoVault Capital",tagline:"Premium Investment Solutions",heroTitle:"Invest in Your Future",heroSubtitle:"Professional wealth management with institutional-grade security",minDeposit:500,minWithdrawal:100,withdrawalFee:0,referralBonus:4,maintenanceMode:!1,registrationOpen:!0,kycRequired:!0,twoFactorRequired:!1}}),[M,B]=D.useState(()=>{const g=localStorage.getItem("saxovault_branding_settings");return g?JSON.parse(g):{primaryColor:"#0a1628",secondaryColor:"#1e3a5f",accentColor:"#d4af37",logoUrl:"",faviconUrl:"",footerText:" 2024 SaxoVault Capital. All rights reserved.",socialLinks:{twitter:"",telegram:"",linkedin:"",facebook:""}}}),[E,w]=D.useState(()=>{const g=localStorage.getItem("saxovault_payment_settings");return g?JSON.parse(g):{btcEnabled:!0,btcAddress:"bc1qzmgg6hw0fttfpczh2whp8f44k497d6pucghk58",btcMinDeposit:100,ethEnabled:!0,ethAddress:"0x742d35Cc6634C0532925a3b844Bc9e7595f5bE21",ethMinDeposit:100,usdtEnabled:!0,usdtAddress:"TYDzsYUEpvnYmQk4zGP9sWWcTEd2MiAtW6",usdtNetwork:"TRC-20",usdtMinDeposit:100,bankTransferEnabled:!1,bankName:"",bankAccount:"",bankRouting:""}}),[T,C]=D.useState(()=>{const g=localStorage.getItem("saxovault_platform_config");return g?JSON.parse(g):{maxDailyWithdrawal:5e4,maxSingleWithdrawal:25e3,withdrawalProcessingTime:"24-48 hours",autoApproveDeposits:!1,autoApproveWithdrawals:!1,emailNotifications:!0,smsNotifications:!1,sessionTimeout:30,maxLoginAttempts:5,ipWhitelist:"",blockedCountries:""}}),A=()=>{localStorage.setItem("saxovault_website_settings",JSON.stringify(b)),alert(" Website settings saved!")},L=()=>{localStorage.setItem("saxovault_branding_settings",JSON.stringify(M)),alert(" Branding settings saved!")},P=()=>{localStorage.setItem("saxovault_payment_settings",JSON.stringify(E)),alert(" Payment settings saved!")},fe=()=>{localStorage.setItem("saxovault_platform_config",JSON.stringify(T)),alert(" Platform configuration saved!")};D.useEffect(()=>{(async()=>{k(!0),console.log(" Admin Dashboard: Loading data...");try{const ne=G.getUsers(),Ve=G.getTransactions();ne.length>0&&r(ne),Ve.length>0&&o(Ve),console.log(` Loaded from localStorage: ${ne.length} users, ${Ve.length} transactions`),console.log(" Forcing sync from Firestore...");try{const $e=await G.forceSyncFromCloud();$e.success?(o($e.data||G.getTransactions()),console.log(` Synced ${$e.count} transactions from Firestore`)):console.warn(" Cloud sync returned no data, using localStorage")}catch($e){console.error(" Firestore sync failed:",$e)}try{const $e=await G.fetchUsersFromCloud();if($e&&$e.length>0){const en=$e.map(nt=>{const he=ne.find(oe=>oe.uid===nt.uid);return he?{...nt,balance:he.balance??nt.balance,...he}:nt});r(en),G.setUsers(en),console.log(` Synced ${en.length} users from Firestore`)}}catch{console.log("Using localStorage users (Firestore unavailable)")}console.log(" Admin data loaded")}catch(ne){console.error("Error loading admin data:",ne),r(G.getUsers()),o(G.getTransactions())}k(!1)})();let Y=null,W=null;try{Y=Yj(ne=>{console.log(" Real-time user update received:",ne.length,"users");const Ve=G.getUsers(),$e=ne.map(en=>{const nt=Ve.find(he=>he.uid===en.uid);return nt?{...en,...nt}:en});r($e),G.setUsers($e)}),console.log(" Users real-time subscription active")}catch(ne){console.log(" Users subscription not available:",ne.message)}try{W=Jj(ne=>{console.log(" Real-time transaction update received:",ne.length,"transactions");const Ve=G.getTransactions(),$e=new Map;ne.forEach(oe=>{var In,Zr;const Se=oe.id,Mt=`${oe.userEmail}_${oe.amount}_${oe.type}_${(In=oe.createdAt)==null?void 0:In.substring(0,19)}`;let ot=!1;for(const[Js,$n]of $e.entries()){const uo=`${$n.userEmail}_${$n.amount}_${$n.type}_${(Zr=$n.createdAt)==null?void 0:Zr.substring(0,19)}`;if(Mt===uo&&Js!==Se){const pc=new Date($n.updatedAt||0).getTime(),Th=new Date(oe.updatedAt||0).getTime();oe.status!=="pending"&&$n.status==="pending"?$e.delete(Js):$n.status!=="pending"&&oe.status==="pending"?ot=!0:Th>pc?$e.delete(Js):ot=!0;break}}ot||$e.set(Se,{...oe,syncedToCloud:!0})}),Ve.forEach(oe=>{const Se=oe.firestoreId||oe.id;for(const[Mt,ot]of $e.entries())if(oe.id===ot.id||oe.firestoreId===ot.id||oe.firestoreId===ot.firestoreId||oe.id===ot.firestoreId){const Zr=new Date(oe.updatedAt||0).getTime(),Js=new Date(ot.updatedAt||0).getTime();oe.status!=="pending"&&ot.status==="pending"?(console.log(` Keeping local status (${oe.status}) over cloud (${ot.status}) for tx ${Mt}`),$e.set(Mt,{...ot,...oe,syncedToCloud:!0})):Zr>=Js&&$e.set(Mt,{...ot,...oe,syncedToCloud:!0});break}});const en=Array.from($e.values()),nt=new Map;en.forEach(oe=>{var Mt;const Se=`${oe.userEmail}_${oe.amount}_${oe.type}_${(Mt=oe.createdAt)==null?void 0:Mt.substring(0,19)}`;if(!nt.has(Se))nt.set(Se,oe);else{const ot=nt.get(Se);(oe.status!=="pending"&&ot.status==="pending"||new Date(oe.updatedAt||0)>new Date(ot.updatedAt||0))&&nt.set(Se,oe)}});const he=Array.from(nt.values()).sort((oe,Se)=>new Date(Se.createdAt)-new Date(oe.createdAt));console.log(` Final merged transactions: ${he.length} (deduped from ${ne.length})`),o(he),G.setTransactions(he)})}catch{console.log("Transactions subscription not available")}return()=>{Y&&Y(),W&&W()}},[]);const ae=s.length,le=a.filter(g=>g.type==="deposit"&&g.status==="completed").reduce((g,Y)=>g+(parseFloat(Y.amount)||0),0),te=a.filter(g=>g.type==="deposit"&&g.status==="pending").length,V=a.filter(g=>g.type==="withdrawal"&&g.status==="pending").length,U=async(g,Y)=>{const W=s.map(ne=>ne.uid===g?{...ne,...Y}:ne);r(W),await G.updateUser(g,Y),G.addNotification({type:"user_update",message:"User updated successfully"}),p(null)},re=async(g,Y)=>{var nt;const W=a.find(he=>he.id===g||he.firestoreId===g);if(!W){console.error(" Transaction not found:",g),alert("Transaction not found!");return}const ne={status:Y,updatedAt:new Date().toISOString(),syncedToCloud:!1};if(Y==="completed"&&W.type==="investment"){const he=new Date,oe=W.totalDays||30,Se=new Date(he);Se.setDate(Se.getDate()+oe),ne.approvalDate=he.toISOString(),ne.maturityDate=Se.toISOString(),ne.countdownStarted=!0,ne.countdownEndsAt=Se.toISOString(),console.log(` Investment ${W.investmentName} approved!`),console.log(`   Countdown started: ${he.toISOString()}`),console.log(`   Maturity date: ${Se.toISOString()} (${oe} days)`)}console.log(` Updating transaction ${g} to ${Y}...`);const Ve=W.firestoreId||W.id||g;try{await kd(Ve,ne),ne.syncedToCloud=!0,console.log(" Firestore updated successfully")}catch(he){console.error(" Firestore update failed:",he)}const $e=`${W.userEmail}_${W.amount}_${W.type}_${(nt=W.createdAt)==null?void 0:nt.substring(0,19)}`,en=a.map(he=>{var ot;const oe=he.id===g||he.firestoreId===g||he.id===W.id||he.firestoreId===W.firestoreId,Mt=`${he.userEmail}_${he.amount}_${he.type}_${(ot=he.createdAt)==null?void 0:ot.substring(0,19)}`===$e;return oe||Mt?(console.log(` Updating matching transaction: ${he.id}`),{...he,...ne}):he});if(o(en),G.setTransactions(en),console.log(" Transaction status updated locally:",Y),Y==="completed"&&W.type==="deposit"){const he=s.find(oe=>oe.uid===W.userId||oe.email===W.userEmail);if(he){const oe=(parseFloat(he.balance)||0)+parseFloat(W.amount);await G.updateUser(he.uid,{balance:oe}),r(s.map(Se=>Se.uid===he.uid?{...Se,balance:oe}:Se)),console.log(` User ${he.email} balance updated to $${oe}`)}}if(Y==="completed"&&W.type==="withdrawal"){const he=s.find(oe=>oe.uid===W.userId||oe.email===W.userEmail);if(he){const oe=Math.max(0,(parseFloat(he.balance)||0)-parseFloat(W.amount));await G.updateUser(he.uid,{balance:oe}),r(s.map(Se=>Se.uid===he.uid?{...Se,balance:oe}:Se)),console.log(` User ${he.email} balance updated to $${oe} after withdrawal`)}}if(Y==="completed"&&W.type==="investment"){const oe=JSON.parse(localStorage.getItem(`investments_${W.userId}`)||"[]").map(Se=>Se.investmentId===W.investmentId?{...Se,...ne}:Se);localStorage.setItem(`investments_${W.userId}`,JSON.stringify(oe)),console.log(` Investment countdown started for ${W.userEmail}`)}if(G.addNotification({type:"tx_update",message:`Transaction ${Y}`}),W.userEmail){const he=Y==="completed"?"Approved":Y==="rejected"?"Rejected":Y,oe=W.type.charAt(0).toUpperCase()+W.type.slice(1);console.log(` Preparing to send ${he} email to ${W.userEmail}`);try{const Se=await je.sendStatusUpdate(W.userEmail,oe,he,W.amount,Y==="rejected"?"Please contact support if you have questions.":W.type==="investment"?`Your investment is now active. Duration: ${W.totalDays||30} days.`:W.type==="deposit"?"Funds have been credited to your account.":W.type==="withdrawal"?"Funds will be sent to your wallet shortly.":"");console.log(` Status notification sent to ${W.userEmail}:`,Se),alert(` ${oe} ${he}! Email sent to ${W.userEmail}`)}catch(Se){console.error(" Failed to send status notification:",Se),alert(` ${oe} ${he}! (Email notification failed)`)}}else alert(` Transaction ${Y}!`)},Q=g=>{c(g),G.setSettings(g),G.addNotification({type:"settings_update",message:"Settings updated successfully"}),alert("Settings saved successfully!")},de=JSON.parse(localStorage.getItem("saxovault_tickets")||"[]"),ye=de.filter(g=>g.status==="open").length,[O,ce]=D.useState(()=>{const g=localStorage.getItem("saxovault_investments");return g?JSON.parse(g):jh}),[K,we]=D.useState(null),[xe,Le]=D.useState(!1),[Te,be]=D.useState({name:"",category:"Real Estate",type:"real-estate",min:1e3,returns:"10-15%",term:"12 months",desc:"",status:"Funding",progress:0,goal:1e6}),at=g=>{let Y;g.id?Y=O.map(W=>W.id===g.id?g:W):(g.id=Date.now(),Y=[...O,g]),ce(Y),localStorage.setItem("saxovault_investments",JSON.stringify(Y)),G.addNotification({type:"investment",message:g.id?"Investment updated":"Investment added"}),we(null),Le(!1)},hn=g=>{if(confirm("Are you sure you want to delete this investment?")){const Y=O.filter(W=>W.id!==g);ce(Y),localStorage.setItem("saxovault_investments",JSON.stringify(Y)),G.addNotification({type:"investment",message:"Investment deleted"})}},[xs,Zt]=D.useState(!1),[Gt,fn]=D.useState(!1),[It,Me]=D.useState(null),[Oe,Qr]=D.useState(""),[to,no]=D.useState(""),[so,Gs]=D.useState(""),[Bi,ro]=D.useState(""),io=()=>{if(!Oe||!to){alert("Please enter both title and message");return}const g={id:Date.now(),type:"broadcast",title:Oe,message:to,sentAt:new Date().toISOString(),recipients:s.length},Y=JSON.parse(localStorage.getItem("saxovault_messages")||"[]");localStorage.setItem("saxovault_messages",JSON.stringify([g,...Y]));const W=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}");s.forEach(ne=>{W[ne.uid]||(W[ne.uid]=[]),W[ne.uid].unshift({...g,read:!1})}),localStorage.setItem("saxovault_user_notifications",JSON.stringify(W)),G.addNotification({type:"broadcast",message:`Broadcast sent to ${s.length} users`}),Qr(""),no(""),Zt(!1),alert(` Message sent to ${s.length} users!`)},Eh=()=>{if(!so||!Bi||!It){alert("Please enter both subject and message");return}const g={id:Date.now(),type:"personal",title:so,message:Bi,sentAt:new Date().toISOString(),recipient:It.email,recipientId:It.uid},Y=JSON.parse(localStorage.getItem("saxovault_messages")||"[]");localStorage.setItem("saxovault_messages",JSON.stringify([g,...Y]));const W=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}");W[It.uid]||(W[It.uid]=[]),W[It.uid].unshift({...g,read:!1}),localStorage.setItem("saxovault_user_notifications",JSON.stringify(W)),G.addNotification({type:"personal_msg",message:`Message sent to ${It.email}`}),Gs(""),ro(""),Me(null),fn(!1),alert(` Message sent to ${It.name||It.email}!`)},vs=JSON.parse(localStorage.getItem("saxovault_pending_investments")||"[]"),hc=vs.filter(g=>g.status==="pending").length,fc=async g=>{const Y=vs.map(ne=>ne.id===g.id?{...ne,status:"approved",approvedAt:new Date().toISOString()}:ne);localStorage.setItem("saxovault_pending_investments",JSON.stringify(Y));const W=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}");W[g.userEmail]||(W[g.userEmail]=[]),W[g.userEmail].unshift({id:Date.now(),type:"investment_approved",title:" Investment Approved!",message:`Your $${g.amount.toLocaleString()} investment in ${g.investmentName} has been approved.`,read:!1,createdAt:new Date().toISOString()}),localStorage.setItem("saxovault_user_notifications",JSON.stringify(W));try{await je.sendStatusUpdate(g.userEmail,"Investment","Approved",g.amount,`Your investment in ${g.investmentName} is now active. Duration: ${g.term||g.totalDays+" days"}.`),console.log(` Investment approval email sent to ${g.userEmail}`)}catch(ne){console.error(" Failed to send approval email:",ne)}G.addNotification({type:"investment_approved",message:`Investment approved: $${g.amount.toLocaleString()}`}),alert("Investment approved!"),window.location.reload()},Xr=async g=>{if(!confirm("Are you sure you want to reject this investment?"))return;const Y=vs.map(ne=>ne.id===g.id?{...ne,status:"rejected",rejectedAt:new Date().toISOString()}:ne);localStorage.setItem("saxovault_pending_investments",JSON.stringify(Y));const W=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}");W[g.userEmail]||(W[g.userEmail]=[]),W[g.userEmail].unshift({id:Date.now(),type:"investment_rejected",title:" Investment Rejected",message:`Your $${g.amount.toLocaleString()} investment in ${g.investmentName} was not approved. Please contact support.`,read:!1,createdAt:new Date().toISOString()}),localStorage.setItem("saxovault_user_notifications",JSON.stringify(W));try{await je.sendStatusUpdate(g.userEmail,"Investment","Rejected",g.amount,"Your investment was not approved. Please contact support if you have questions."),console.log(` Investment rejection email sent to ${g.userEmail}`)}catch(ne){console.error(" Failed to send rejection email:",ne)}G.addNotification({type:"investment_rejected",message:"Investment rejected"}),alert("Investment rejected."),window.location.reload()},ao=[{id:"overview",name:"Overview",icon:$g},{id:"users",name:"Users",icon:od},{id:"transactions",name:"Transactions",icon:hu},{id:"pending",name:"Pending",icon:Ii,badge:hc},{id:"kyc",name:"KYC Verification",icon:Lr},{id:"investments",name:"Investments",icon:Er},{id:"tickets",name:"Tickets",icon:f2,badge:ye},{id:"website",name:"Website Editor",icon:va},{id:"branding",name:"Branding",icon:O5},{id:"payments",name:"Payment Methods",icon:Ov},{id:"platform",name:"Platform Config",icon:pu}],Tn=JSON.parse(localStorage.getItem("saxovault_kyc_submissions")||"[]"),Zn=Tn.filter(g=>g.status==="submitted"||g.status==="pending").length,mc=async g=>{const Y=Tn.map(ne=>ne.userId===g.userId?{...ne,status:"verified",verifiedAt:new Date().toISOString()}:ne);localStorage.setItem("saxovault_kyc_submissions",JSON.stringify(Y)),localStorage.setItem(`kyc_${g.userId}`,JSON.stringify({...g,status:"verified",verifiedAt:new Date().toISOString()}));const W=s.find(ne=>ne.uid===g.userId||ne.email===g.userEmail);W&&await G.updateUser(W.uid,{kycStatus:"verified",kycVerifiedAt:new Date().toISOString()});try{await je.sendKYCStatusUpdate(g.userEmail,"approved"),console.log(` KYC approval email sent to ${g.userEmail}`)}catch(ne){console.error(" Failed to send KYC approval email:",ne)}G.addNotification({type:"kyc_approved",message:`KYC approved for ${g.userEmail}`}),alert(` KYC approved for ${g.fullName||g.userEmail}`),window.location.reload()},zi=async(g,Y="")=>{const W=Y||prompt("Enter rejection reason (optional):")||"Documents could not be verified",ne=Tn.map(Ve=>Ve.userId===g.userId?{...Ve,status:"rejected",rejectedAt:new Date().toISOString(),rejectReason:W}:Ve);localStorage.setItem("saxovault_kyc_submissions",JSON.stringify(ne)),localStorage.setItem(`kyc_${g.userId}`,JSON.stringify({...g,status:"rejected",rejectedAt:new Date().toISOString(),rejectReason:W}));try{await je.sendKYCStatusUpdate(g.userEmail,"rejected",W),console.log(` KYC rejection email sent to ${g.userEmail}`)}catch(Ve){console.error(" Failed to send KYC rejection email:",Ve)}G.addNotification({type:"kyc_rejected",message:`KYC rejected for ${g.userEmail}`}),alert(`KYC rejected for ${g.fullName||g.userEmail}`),window.location.reload()};return i.jsxs("div",{className:"min-h-screen",style:{background:N.cream},children:[i.jsxs("div",{className:"bg-white shadow-md px-4 lg:px-6 py-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:`linear-gradient(135deg, ${N.gold} 0%, ${N.goldDark} 100%)`},children:i.jsx(c2,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"font-serif text-lg lg:text-xl",style:{color:N.navy},children:"Admin Dashboard"}),i.jsx("p",{className:"text-gray-500 text-xs",children:"SaxoVault Capital"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(F.button,{onClick:async()=>{const g=document.getElementById("syncBtn");g&&(g.disabled=!0);const Y=g==null?void 0:g.innerHTML;g&&(g.innerHTML='<svg class="w-4 h-4 animate-spin" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" fill="none"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Syncing...');try{console.log(" Starting cloud sync...");const W=await G.forceSyncFromCloud();W.success?(o(W.data||G.getTransactions()),alert(` Synced ${W.count} transactions from cloud!`)):alert(" Sync failed: "+(W.error||"Unknown error"))}catch(W){console.error("Sync error:",W),alert(" Sync error: "+W.message)}g&&(g.disabled=!1,g.innerHTML=Y)},id:"syncBtn",whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center gap-2 px-3 lg:px-4 py-2 rounded-xl bg-blue-50 text-blue-600 hover:bg-blue-100 text-sm font-medium",title:"Sync transactions from cloud database",children:[i.jsx(un,{className:"w-4 h-4"})," ",i.jsx("span",{className:"hidden sm:inline",children:"Sync"})]}),i.jsxs(F.button,{onClick:t,whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center gap-2 px-3 lg:px-4 py-2 rounded-xl bg-red-50 text-red-600 hover:bg-red-100 text-sm",children:[i.jsx(Ra,{className:"w-4 h-4"})," ",i.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]}),i.jsxs("div",{className:"flex flex-col lg:flex-row",children:[i.jsx("div",{className:"lg:w-64 bg-white shadow-lg lg:min-h-screen",children:i.jsx("div",{className:"flex lg:flex-col overflow-x-auto lg:overflow-x-visible p-2 lg:p-4 gap-2",children:ao.map(g=>i.jsxs(F.button,{onClick:()=>n(g.id),whileTap:{scale:.98},className:`flex items-center gap-2 lg:gap-3 px-3 lg:px-4 py-2 lg:py-3 rounded-xl whitespace-nowrap transition-all ${e===g.id?"shadow-md":"hover:bg-gray-50"}`,style:e===g.id?{background:`${N.navy}10`,color:N.navy}:{color:"#6b7280"},children:[i.jsx(g.icon,{className:"w-4 h-4 lg:w-5 lg:h-5"}),i.jsx("span",{className:"font-medium text-sm",children:g.name}),g.id==="transactions"&&te+V>0&&i.jsx("span",{className:"ml-auto px-2 py-0.5 rounded-full text-xs bg-red-500 text-white",children:te+V}),g.id==="kyc"&&Zn>0&&i.jsx("span",{className:"ml-auto px-2 py-0.5 rounded-full text-xs bg-yellow-500 text-white",children:Zn}),g.id==="tickets"&&ye>0&&i.jsx("span",{className:"ml-auto px-2 py-0.5 rounded-full text-xs bg-purple-500 text-white",children:ye})]},g.id))})}),i.jsxs("div",{className:"flex-1 p-4 lg:p-6",children:[e==="overview"&&i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:N.navy},children:"Dashboard Overview"}),(()=>{const g=G.getAdminNotifications().filter(Y=>Y.actionRequired&&!Y.read);return g.length===0?null:i.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 border border-red-200 rounded-xl p-4 mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-red-100 flex items-center justify-center",children:i.jsx(As,{className:"w-5 h-5 text-red-600 animate-pulse"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-red-800",children:"Action Required"}),i.jsxs("p",{className:"text-sm text-red-600",children:[g.length," notification(s) need your attention"]})]})]}),i.jsx("div",{className:"space-y-2",children:g.slice(0,5).map((Y,W)=>i.jsxs("div",{className:"flex items-center justify-between bg-white rounded-lg p-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",style:{color:N.navy},children:Y.title}),i.jsx("p",{className:"text-xs text-gray-500",children:Y.message})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs text-gray-400",children:new Date(Y.createdAt).toLocaleTimeString()}),i.jsx("button",{onClick:()=>G.markAdminNotifRead(Y.id),className:"p-1 hover:bg-gray-100 rounded",children:i.jsx(gn,{className:"w-4 h-4 text-green-600"})})]})]},W))})]})})(),i.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mb-8",children:[{label:"Total Users",value:ae,icon:od,color:N.navy},{label:"Total Deposits",value:`$${le.toLocaleString()}`,icon:Rn,color:N.green},{label:"Pending Deposits",value:te,icon:Ii,color:N.gold},{label:"Pending Withdrawals",value:V,icon:nn,color:"#ef4444"}].map((g,Y)=>i.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Y*.1},className:"bg-white rounded-xl lg:rounded-2xl p-4 lg:p-6 shadow-lg",children:[i.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 rounded-xl flex items-center justify-center mb-3",style:{background:`${g.color}15`},children:i.jsx(g.icon,{className:"w-5 h-5 lg:w-6 lg:h-6",style:{color:g.color}})}),i.jsx("p",{className:"text-gray-500 text-xs lg:text-sm",children:g.label}),i.jsx("p",{className:"text-xl lg:text-2xl font-bold",style:{color:g.color},children:g.value})]},Y))}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsx("h3",{className:"font-serif text-lg mb-4",style:{color:N.navy},children:"Recent Transactions"}),i.jsxs("div",{className:"space-y-3",children:[a.slice(0,5).map((g,Y)=>{var W;return i.jsxs("div",{className:"flex items-center justify-between p-3 lg:p-4 rounded-xl bg-gray-50",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-8 h-8 lg:w-10 lg:h-10 rounded-full flex items-center justify-center ${g.type==="deposit"?"bg-green-100":"bg-orange-100"}`,children:g.type==="deposit"?i.jsx(Rn,{className:"w-4 h-4 lg:w-5 lg:h-5 text-green-600"}):i.jsx(nn,{className:"w-4 h-4 lg:w-5 lg:h-5 text-orange-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",style:{color:N.navy},children:g.type==="deposit"?"Deposit":"Withdrawal"}),i.jsx("p",{className:"text-xs text-gray-500",children:g.userEmail})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"font-bold text-sm lg:text-base",children:["$",(W=g.amount)==null?void 0:W.toLocaleString()]}),i.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${g.status==="completed"?"bg-green-100 text-green-700":g.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:g.status})]})]},Y)}),a.length===0&&i.jsx("p",{className:"text-center text-gray-500 py-8",children:"No transactions yet"})]})]})]}),e==="users"&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl",style:{color:N.navy},children:"User Management"}),i.jsxs(F.button,{onClick:()=>Zt(!0),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-2 px-4 py-2 rounded-xl text-white text-sm font-medium",style:{background:N.navy},children:[i.jsx(sl,{className:"w-4 h-4"})," Broadcast Message"]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg overflow-hidden",children:[i.jsx("div",{className:"p-4 border-b border-gray-100",children:i.jsxs("p",{className:"text-gray-500 text-sm",children:[s.length," registered users  Click on a user to view full details"]})}),i.jsxs("div",{className:"divide-y divide-gray-100",children:[s.map((g,Y)=>{var W,ne;return i.jsx("div",{onClick:()=>j(g),className:`p-4 hover:bg-blue-50 transition-colors cursor-pointer ${g.status==="banned"?"bg-red-50":g.status==="suspended"?"bg-yellow-50":""}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"w-10 h-10 lg:w-12 lg:h-12 rounded-full flex items-center justify-center text-white font-bold text-sm relative",style:{background:g.status==="banned"?"#ef4444":g.status==="suspended"?"#f59e0b":`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:[((W=g.name)==null?void 0:W.charAt(0))||((ne=g.email)==null?void 0:ne.charAt(0))||"U",g.status==="banned"&&i.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-600 rounded-full flex items-center justify-center",children:i.jsx(Pt,{className:"w-3 h-3 text-white"})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:"font-medium text-sm",style:{color:N.navy},children:g.name||"No Name"}),g.status==="banned"&&i.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-red-100 text-red-700",children:"Banned"}),g.status==="suspended"&&i.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-yellow-100 text-yellow-700",children:"Suspended"}),g.emailVerified&&i.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded-full bg-green-100 text-green-700",children:" Verified"})]}),i.jsx("p",{className:"text-xs text-gray-500",children:g.email}),i.jsxs("p",{className:"text-xs text-gray-400",children:[g.country,"  Joined ",new Date(g.createdAt).toLocaleDateString()]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 lg:gap-3",children:[i.jsxs("div",{className:"text-right hidden sm:block",children:[i.jsxs("p",{className:"font-bold text-sm",style:{color:N.green},children:["$",(g.balance||0).toLocaleString()]}),i.jsxs("span",{className:`text-xs px-2 py-0.5 rounded-full ${g.kycStatus==="verified"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:["KYC: ",g.kycStatus||"pending"]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(F.button,{onClick:Ve=>{Ve.stopPropagation(),j(g)},whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 rounded-lg hover:bg-blue-100",title:"View Details",children:i.jsx(nl,{className:"w-4 h-4 text-blue-500"})}),i.jsx(F.button,{onClick:Ve=>{Ve.stopPropagation(),Me(g),fn(!0)},whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 rounded-lg hover:bg-green-100",title:"Send Message",children:i.jsx(Wn,{className:"w-4 h-4 text-green-500"})}),i.jsx(F.button,{onClick:Ve=>{Ve.stopPropagation(),p(g)},whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 rounded-lg hover:bg-gray-100",title:"Edit User",children:i.jsx(pu,{className:"w-4 h-4 text-gray-500"})})]})]})]})},Y)}),s.length===0&&i.jsx("p",{className:"text-center text-gray-500 py-12",children:"No users registered yet"})]})]}),i.jsx(dt,{children:x&&i.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto",onClick:()=>j(null),children:i.jsxs(F.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-white rounded-2xl w-full max-w-4xl shadow-2xl my-8 max-h-[90vh] overflow-hidden",onClick:g=>g.stopPropagation(),children:[i.jsx("div",{className:"p-6 border-b border-gray-100",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-white/20 flex items-center justify-center text-white font-bold text-2xl",children:((oo=x.name)==null?void 0:oo.charAt(0))||((Ks=x.email)==null?void 0:Ks.charAt(0))||"U"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-serif text-white",children:x.name||"No Name"}),i.jsx("p",{className:"text-white/70 text-sm",children:x.email}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[x.emailVerified&&i.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-green-500 text-white",children:" Email Verified"}),x.kycStatus==="verified"&&i.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-blue-500 text-white",children:" KYC Verified"}),x.twoFactorEnabled&&i.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-purple-500 text-white",children:" 2FA"})]})]})]}),i.jsx("button",{onClick:()=>j(null),className:"p-2 rounded-full hover:bg-white/20 text-white",children:i.jsx(Pt,{className:"w-6 h-6"})})]})}),i.jsxs("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[i.jsxs("h4",{className:"font-semibold text-sm mb-3 flex items-center gap-2",style:{color:N.navy},children:[i.jsx(qa,{className:"w-4 h-4"})," Account Information"]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"User ID:"}),i.jsx("span",{className:"font-mono text-xs",children:x.uid})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Email:"}),i.jsx("span",{children:x.email})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Full Name:"}),i.jsx("span",{children:x.name||"Not set"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Phone:"}),i.jsx("span",{children:x.phone||"Not set"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Country:"}),i.jsx("span",{children:x.country||"Not set"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Joined:"}),i.jsx("span",{children:new Date(x.createdAt).toLocaleString()})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Sign-in Method:"}),i.jsx("span",{children:x.signInMethod||"Email"})]})]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[i.jsxs("h4",{className:"font-semibold text-sm mb-3 flex items-center gap-2",style:{color:N.navy},children:[i.jsx(fu,{className:"w-4 h-4"})," Financial Summary"]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Current Balance:"}),i.jsxs("span",{className:"font-bold text-green-600",children:["$",(x.balance||0).toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Total Deposits:"}),i.jsxs("span",{className:"text-green-600",children:["$",a.filter(g=>g.userEmail===x.email&&g.type==="deposit"&&g.status==="completed").reduce((g,Y)=>g+(parseFloat(Y.amount)||0),0).toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Total Withdrawals:"}),i.jsxs("span",{className:"text-orange-600",children:["$",a.filter(g=>g.userEmail===x.email&&g.type==="withdrawal"&&g.status==="completed").reduce((g,Y)=>g+(parseFloat(Y.amount)||0),0).toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Pending Deposits:"}),i.jsx("span",{children:a.filter(g=>g.userEmail===x.email&&g.type==="deposit"&&g.status==="pending").length})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Pending Withdrawals:"}),i.jsx("span",{children:a.filter(g=>g.userEmail===x.email&&g.type==="withdrawal"&&g.status==="pending").length})]})]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[i.jsxs("h4",{className:"font-semibold text-sm mb-3 flex items-center gap-2",style:{color:N.navy},children:[i.jsx(wi,{className:"w-4 h-4"})," Security & Verification"]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-500",children:"Email Verified:"}),i.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${x.emailVerified?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:x.emailVerified?" Yes":" No"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-500",children:"KYC Status:"}),i.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${x.kycStatus==="verified"?"bg-green-100 text-green-700":x.kycStatus==="rejected"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:x.kycStatus||"Pending"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-500",children:"2FA Enabled:"}),i.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${x.twoFactorEnabled?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700"}`,children:x.twoFactorEnabled?" Enabled":"Disabled"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-500",children:"Account Status:"}),i.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${x.status==="banned"?"bg-red-100 text-red-700":x.status==="suspended"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:x.status==="banned"?" Banned":x.status==="suspended"?" Suspended":" Active"})]})]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[i.jsxs("h4",{className:"font-semibold text-sm mb-3 flex items-center gap-2",style:{color:N.navy},children:[i.jsx(Wa,{className:"w-4 h-4"})," Referral Information"]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Referral Code:"}),i.jsx("span",{className:"font-mono",children:x.referralCode||"None"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Referred By:"}),i.jsx("span",{children:x.referredBy||"N/A"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Referral Earnings:"}),i.jsxs("span",{className:"text-green-600",children:["$",(x.referralEarnings||0).toLocaleString()]})]})]})]})]}),i.jsxs("div",{className:"mt-6",children:[i.jsxs("h4",{className:"font-semibold text-sm mb-3 flex items-center gap-2",style:{color:N.navy},children:[i.jsx(Og,{className:"w-4 h-4"})," Recent Transactions"]}),i.jsx("div",{className:"bg-gray-50 rounded-xl overflow-hidden",children:i.jsxs("div",{className:"divide-y divide-gray-200 max-h-60 overflow-y-auto",children:[a.filter(g=>g.userEmail===x.email).slice(0,10).map((g,Y)=>{var W;return i.jsxs("div",{className:"p-3 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${g.type==="deposit"?"bg-green-100":g.type==="withdrawal"?"bg-orange-100":"bg-blue-100"}`,children:g.type==="deposit"?i.jsx(Rn,{className:"w-4 h-4 text-green-600"}):g.type==="withdrawal"?i.jsx(nn,{className:"w-4 h-4 text-orange-600"}):i.jsx(Er,{className:"w-4 h-4 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm capitalize",children:g.type}),i.jsx("p",{className:"text-xs text-gray-500",children:new Date(g.createdAt).toLocaleString()})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"font-bold text-sm",children:["$",(W=g.amount)==null?void 0:W.toLocaleString()]}),i.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${g.status==="completed"?"bg-green-100 text-green-700":g.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:g.status})]})]},Y)}),a.filter(g=>g.userEmail===x.email).length===0&&i.jsx("p",{className:"text-center text-gray-500 py-8",children:"No transactions yet"})]})})]}),x.kycData&&i.jsxs("div",{className:"mt-6",children:[i.jsxs("h4",{className:"font-semibold text-sm mb-3 flex items-center gap-2",style:{color:N.navy},children:[i.jsx(Cl,{className:"w-4 h-4"})," KYC Documents"]}),i.jsx("div",{className:"bg-gray-50 rounded-xl p-4",children:i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Full Name:"})," ",x.kycData.fullName]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"ID Type:"})," ",x.kycData.idType]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"ID Number:"})," ",x.kycData.idNumber]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Date of Birth:"})," ",x.kycData.dateOfBirth]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx("span",{className:"text-gray-500",children:"Address:"})," ",x.kycData.address]})]})})]})]}),i.jsxs("div",{className:"p-4 border-t border-gray-100 flex gap-3",children:[i.jsxs(F.button,{onClick:()=>{j(null),p(x)},whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl flex items-center justify-center gap-2",style:{background:N.navy,color:"white"},children:[i.jsx(Vv,{className:"w-4 h-4"})," Edit User"]}),i.jsxs(F.button,{onClick:()=>{j(null),Me(x),fn(!0)},whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl flex items-center justify-center gap-2",style:{background:N.green,color:"white"},children:[i.jsx(Wn,{className:"w-4 h-4"})," Send Message"]}),i.jsx(F.button,{onClick:()=>j(null),whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl border border-gray-200",children:"Close"})]})]})})}),i.jsx(dt,{children:f&&i.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>p(null),children:i.jsxs(F.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl",onClick:g=>g.stopPropagation(),children:[i.jsxs("h3",{className:"font-serif text-xl mb-4",style:{color:N.navy},children:["Edit User: ",f.name||f.email]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Balance ($)"}),i.jsx("input",{type:"number",value:f.balance||0,onChange:g=>p({...f,balance:parseFloat(g.target.value)||0}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"KYC Status"}),i.jsxs("select",{value:f.kycStatus||"pending",onChange:g=>p({...f,kycStatus:g.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",children:[i.jsx("option",{value:"pending",children:"Pending"}),i.jsx("option",{value:"verified",children:"Verified"}),i.jsx("option",{value:"rejected",children:"Rejected"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Status"}),i.jsxs("select",{value:f.status||"active",onChange:g=>p({...f,status:g.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",children:[i.jsx("option",{value:"active",children:" Active"}),i.jsx("option",{value:"suspended",children:" Suspended"}),i.jsx("option",{value:"banned",children:" Banned"})]}),f.status==="suspended"&&i.jsx("p",{className:"text-xs text-yellow-600 mt-1",children:"User can't withdraw or invest while suspended"}),f.status==="banned"&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:"User cannot access their account"})]})]}),i.jsxs("div",{className:"flex gap-3 mt-6",children:[i.jsx(F.button,{onClick:()=>p(null),whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl border border-gray-200",children:"Cancel"}),i.jsx(F.button,{onClick:()=>U(f.uid,f),whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl text-white",style:{background:N.navy},children:"Save Changes"})]})]})})}),i.jsx(dt,{children:xs&&i.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>Zt(!1),children:i.jsxs(F.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-white rounded-2xl p-6 w-full max-w-lg shadow-2xl",onClick:g=>g.stopPropagation(),children:[i.jsx("h3",{className:"font-serif text-xl mb-4",style:{color:N.navy},children:" Broadcast Message to All Users"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message Title"}),i.jsx("input",{type:"text",value:Oe,onChange:g=>Qr(g.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",placeholder:"Important Announcement"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),i.jsx("textarea",{rows:4,value:to,onChange:g=>no(g.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-xl resize-none",placeholder:"Enter your message to all users..."})]}),i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-3",children:i.jsxs("p",{className:"text-sm text-blue-700",children:[" This message will be sent to ",i.jsx("strong",{children:s.length})," users"]})})]}),i.jsxs("div",{className:"flex gap-3 mt-6",children:[i.jsx(F.button,{onClick:()=>Zt(!1),whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl border border-gray-200",children:"Cancel"}),i.jsxs(F.button,{onClick:io,whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl text-white flex items-center justify-center gap-2",style:{background:N.navy},children:[i.jsx(sl,{className:"w-4 h-4"})," Send to All"]})]})]})})}),i.jsx(dt,{children:Gt&&It&&i.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>{fn(!1),Me(null)},children:i.jsxs(F.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-white rounded-2xl p-6 w-full max-w-lg shadow-2xl",onClick:g=>g.stopPropagation(),children:[i.jsxs("h3",{className:"font-serif text-xl mb-4",style:{color:N.navy},children:[" Message to ",It.name||It.email]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),i.jsx("input",{type:"text",value:so,onChange:g=>Gs(g.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",placeholder:"Account Update"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),i.jsx("textarea",{rows:4,value:Bi,onChange:g=>ro(g.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-xl resize-none",placeholder:"Enter your message..."})]})]}),i.jsxs("div",{className:"flex gap-3 mt-6",children:[i.jsx(F.button,{onClick:()=>{fn(!1),Me(null)},whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl border border-gray-200",children:"Cancel"}),i.jsxs(F.button,{onClick:Eh,whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl text-white flex items-center justify-center gap-2",style:{background:N.green},children:[i.jsx(sl,{className:"w-4 h-4"})," Send Message"]})]})]})})})]}),e==="transactions"&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl",style:{color:N.navy},children:"Transaction Management"}),i.jsxs("div",{className:"flex items-center gap-2",children:[a.filter(g=>!g.syncedToCloud).length>0&&i.jsxs("span",{className:"px-2 py-1 rounded-full text-xs bg-yellow-100 text-yellow-700 flex items-center gap-1",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500 animate-pulse"}),a.filter(g=>!g.syncedToCloud).length," unsynced"]}),i.jsx(F.button,{onClick:async()=>{const g=await G.pushUnsyncedToCloud();if(g.success){alert(` Pushed ${g.pushed}/${g.total} transactions to cloud`);const Y=await G.forceSyncFromCloud();Y.success&&o(Y.data||G.getTransactions())}},whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 rounded-lg bg-purple-50 text-purple-600 hover:bg-purple-100",title:"Push unsynced transactions to cloud",children:i.jsx(nn,{className:"w-4 h-4"})}),i.jsx(F.button,{onClick:async()=>{const g=await G.forceSyncFromCloud();g.success?(o(g.data||G.getTransactions()),alert(` Refreshed: ${g.count} transactions`)):alert(" Refresh failed: "+g.error)},whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 rounded-lg bg-blue-50 text-blue-600 hover:bg-blue-100",title:"Refresh transactions from cloud",children:i.jsx(un,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-xl p-3 mb-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx(R5,{className:"w-4 h-4 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Cloud Sync"}),i.jsxs("p",{className:"text-xs text-blue-600",children:[a.filter(g=>g.syncedToCloud).length,"/",a.length," synced  Last refresh: ",new Date().toLocaleTimeString()]})]})]}),i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${a.filter(g=>!g.syncedToCloud).length===0?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:a.filter(g=>!g.syncedToCloud).length===0?" All Synced":" Pending Sync"})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[i.jsxs(F.button,{onClick:()=>v("all"),whileHover:{scale:1.02},whileTap:{scale:.98},className:`p-4 rounded-xl border-2 transition-all ${S==="all"?"border-blue-500 bg-blue-50":"border-gray-200 bg-white hover:border-gray-300"}`,children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[i.jsx(hu,{className:`w-5 h-5 ${S==="all"?"text-blue-600":"text-gray-500"}`}),i.jsx("span",{className:`font-semibold ${S==="all"?"text-blue-700":"text-gray-700"}`,children:"All"})]}),i.jsx("p",{className:`text-2xl font-bold ${S==="all"?"text-blue-600":"text-gray-600"}`,children:a.length}),i.jsx("p",{className:"text-xs text-gray-500",children:"Total Transactions"})]}),i.jsxs(F.button,{onClick:()=>v("deposits"),whileHover:{scale:1.02},whileTap:{scale:.98},className:`p-4 rounded-xl border-2 transition-all ${S==="deposits"?"border-green-500 bg-green-50":"border-gray-200 bg-white hover:border-gray-300"}`,children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[i.jsx(Rn,{className:`w-5 h-5 ${S==="deposits"?"text-green-600":"text-green-500"}`}),i.jsx("span",{className:`font-semibold ${S==="deposits"?"text-green-700":"text-gray-700"}`,children:"Deposits"})]}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:te}),i.jsx("p",{className:"text-xs text-gray-500",children:"Pending Deposits"})]}),i.jsxs(F.button,{onClick:()=>v("withdrawals"),whileHover:{scale:1.02},whileTap:{scale:.98},className:`p-4 rounded-xl border-2 transition-all ${S==="withdrawals"?"border-orange-500 bg-orange-50":"border-gray-200 bg-white hover:border-gray-300"}`,children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[i.jsx(nn,{className:`w-5 h-5 ${S==="withdrawals"?"text-orange-600":"text-orange-500"}`}),i.jsx("span",{className:`font-semibold ${S==="withdrawals"?"text-orange-700":"text-gray-700"}`,children:"Withdrawals"})]}),i.jsx("p",{className:"text-2xl font-bold text-orange-600",children:V}),i.jsx("p",{className:"text-xs text-gray-500",children:"Pending Withdrawals"})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-4 flex flex-wrap gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400"}),i.jsxs("span",{className:"text-sm text-gray-600",children:["Pending: ",a.filter(g=>g.status==="pending"&&(S==="all"||S==="deposits"&&g.type==="deposit"||S==="withdrawals"&&g.type==="withdrawal")).length]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400"}),i.jsxs("span",{className:"text-sm text-gray-600",children:["Approved: ",a.filter(g=>g.status==="completed"&&(S==="all"||S==="deposits"&&g.type==="deposit"||S==="withdrawals"&&g.type==="withdrawal")).length]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400"}),i.jsxs("span",{className:"text-sm text-gray-600",children:["Rejected: ",a.filter(g=>g.status==="rejected"&&(S==="all"||S==="deposits"&&g.type==="deposit"||S==="withdrawals"&&g.type==="withdrawal")).length]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg overflow-hidden",children:[i.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[i.jsx("h3",{className:"font-semibold",style:{color:N.navy},children:S==="all"?"All Transactions":S==="deposits"?" Deposit Transactions":" Withdrawal Transactions"}),i.jsxs("span",{className:"text-sm text-gray-500",children:["Showing ",a.filter(g=>S==="all"||S==="deposits"&&g.type==="deposit"||S==="withdrawals"&&g.type==="withdrawal").length," transactions"]})]}),i.jsxs("div",{className:"divide-y divide-gray-100 max-h-[600px] overflow-y-auto",children:[a.filter(g=>S==="all"||S==="deposits"&&g.type==="deposit"||S==="withdrawals"&&g.type==="withdrawal").map((g,Y)=>{var W;return i.jsx("div",{className:`p-4 hover:bg-gray-50 transition-colors ${g.status==="pending"?"bg-yellow-50/50":""}`,children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${g.type==="deposit"?"bg-green-100":"bg-orange-100"}`,children:g.type==="deposit"?i.jsx(Rn,{className:"w-5 h-5 text-green-600"}):i.jsx(nn,{className:"w-5 h-5 text-orange-600"})}),i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium text-sm",style:{color:N.navy},children:[g.type==="deposit"?" Deposit":" Withdrawal"," - ",g.crypto]}),i.jsx("p",{className:"text-xs text-gray-500",children:g.userEmail}),i.jsx("p",{className:"text-xs text-gray-400",children:new Date(g.createdAt).toLocaleString()})]})]}),i.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"font-bold text-lg",children:["$",(W=g.amount)==null?void 0:W.toLocaleString()]}),i.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${g.status==="completed"?"bg-green-100 text-green-700":g.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:g.status==="completed"?" Approved":g.status==="pending"?" Pending":" Rejected"})]}),g.status==="pending"&&i.jsxs("div",{className:"flex gap-2",children:[i.jsx(F.button,{onClick:()=>re(g.id,"completed"),whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2.5 rounded-lg bg-green-100 text-green-600 hover:bg-green-200 font-medium",title:"Approve",children:i.jsx(gn,{className:"w-5 h-5"})}),i.jsx(F.button,{onClick:()=>re(g.id,"rejected"),whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2.5 rounded-lg bg-red-100 text-red-600 hover:bg-red-200",title:"Reject",children:i.jsx(Pt,{className:"w-5 h-5"})})]})]})]})},g.id||Y)}),a.filter(g=>S==="all"||S==="deposits"&&g.type==="deposit"||S==="withdrawals"&&g.type==="withdrawal").length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gray-100 flex items-center justify-center",children:S==="deposits"?i.jsx(Rn,{className:"w-8 h-8 text-gray-400"}):S==="withdrawals"?i.jsx(nn,{className:"w-8 h-8 text-gray-400"}):i.jsx(hu,{className:"w-8 h-8 text-gray-400"})}),i.jsxs("p",{className:"text-gray-500",children:["No ",S==="all"?"":S," transactions yet"]})]})]})]})]}),e==="notifications"&&i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:N.navy},children:"Activity Log"}),i.jsx("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg overflow-hidden",children:i.jsxs("div",{className:"divide-y divide-gray-100",children:[d.map((g,Y)=>i.jsx("div",{className:`p-4 ${g.read?"":"bg-blue-50"}`,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center flex-shrink-0",children:i.jsx(As,{className:"w-5 h-5 text-gray-500"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-sm",style:{color:N.navy},children:g.message}),i.jsx("p",{className:"text-xs text-gray-500",children:new Date(g.createdAt).toLocaleString()})]})]})},Y)),d.length===0&&i.jsx("p",{className:"text-center text-gray-500 py-12",children:"No activity yet"})]})})]}),e==="pending"&&i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:N.navy},children:"Pending Approvals"}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[i.jsx("div",{className:"p-4 border-b border-gray-100",children:i.jsxs("p",{className:"text-sm text-gray-500",children:[vs.filter(g=>g.status==="pending").length," pending approvals"]})}),i.jsxs("div",{className:"divide-y divide-gray-100",children:[vs.filter(g=>g.status==="pending").map((g,Y)=>{var W;return i.jsx("div",{className:"p-4 hover:bg-yellow-50 transition-colors",children:i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"px-2 py-0.5 bg-yellow-100 text-yellow-700 rounded-full text-xs font-medium",children:" Pending"}),i.jsx("span",{className:"text-xs text-gray-400",children:new Date(g.createdAt).toLocaleDateString()})]}),i.jsx("p",{className:"font-semibold",style:{color:N.navy},children:g.investmentName}),i.jsx("p",{className:"text-sm text-gray-500",children:g.userEmail}),i.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm",children:[i.jsxs("span",{className:"font-bold text-lg",style:{color:N.green},children:["$",(W=g.amount)==null?void 0:W.toLocaleString()]}),i.jsxs("span",{className:"text-gray-400",children:["via ",g.crypto]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(F.button,{onClick:()=>fc(g),whileHover:{scale:1.05},className:"px-4 py-2 rounded-lg text-white text-sm font-medium",style:{background:N.green},children:[i.jsx(gn,{className:"w-4 h-4 inline mr-1"})," Approve"]}),i.jsxs(F.button,{onClick:()=>Xr(g),whileHover:{scale:1.05},className:"px-4 py-2 rounded-lg bg-red-100 text-red-600 text-sm font-medium",children:[i.jsx(Pt,{className:"w-4 h-4 inline mr-1"})," Reject"]})]})]})},Y)}),vs.filter(g=>g.status==="pending").length===0&&i.jsx("p",{className:"text-center text-gray-500 py-12",children:"No pending approvals"})]})]}),i.jsx("h3",{className:"font-serif text-lg mt-8 mb-4",style:{color:N.navy},children:"Recent Decisions"}),i.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:i.jsx("div",{className:"divide-y divide-gray-100",children:vs.filter(g=>g.status!=="pending").slice(0,10).map((g,Y)=>{var W;return i.jsx("div",{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",style:{color:N.navy},children:g.investmentName}),i.jsx("p",{className:"text-xs text-gray-500",children:g.userEmail})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${g.status==="approved"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:g.status==="approved"?" Approved":" Rejected"}),i.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["$",(W=g.amount)==null?void 0:W.toLocaleString()]})]})]})},Y)})})})]}),e==="investments"&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl",style:{color:N.navy},children:"Investment Plans"}),i.jsxs(F.button,{onClick:()=>Le(!0),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-2 px-4 py-2 rounded-xl text-white text-sm font-medium",style:{background:N.green},children:[i.jsx(B5,{className:"w-4 h-4"})," Add Investment"]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[i.jsx("div",{className:"p-4 border-b border-gray-100",children:i.jsxs("p",{className:"text-sm text-gray-500",children:[O.length," investment plans"]})}),i.jsx("div",{className:"divide-y divide-gray-100",children:O.map((g,Y)=>{var W;return i.jsx("div",{className:"p-4 hover:bg-gray-50",children:i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-gray-100 flex items-center justify-center flex-shrink-0",children:i.jsx(Mg,{className:"w-6 h-6 text-gray-500"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"font-semibold truncate",style:{color:N.navy},children:g.name}),i.jsxs("p",{className:"text-xs text-gray-500",children:[g.category,"  Min $",(W=g.min)==null?void 0:W.toLocaleString()]}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-green-100 text-green-700",children:g.returns}),i.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-blue-100 text-blue-700",children:g.term}),i.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${g.status==="Active"?"bg-green-100 text-green-700":g.status==="Funding"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:g.status})]})]})]}),i.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[i.jsx(F.button,{onClick:()=>we(g),whileHover:{scale:1.1},className:"p-2 rounded-lg bg-blue-100 text-blue-600",children:i.jsx(Vv,{className:"w-4 h-4"})}),i.jsx(F.button,{onClick:()=>hn(g.id),whileHover:{scale:1.1},className:"p-2 rounded-lg bg-red-100 text-red-600",children:i.jsx(p2,{className:"w-4 h-4"})})]})]})},Y)})})]}),i.jsx(dt,{children:(xe||K)&&i.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>{Le(!1),we(null)},children:i.jsxs(F.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-white rounded-2xl p-6 w-full max-w-lg shadow-2xl max-h-[90vh] overflow-y-auto",onClick:g=>g.stopPropagation(),children:[i.jsx("h3",{className:"font-serif text-xl mb-4",style:{color:N.navy},children:K?"Edit Investment":"Add New Investment"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),i.jsx("input",{type:"text",value:(K==null?void 0:K.name)||Te.name,onChange:g=>K?we({...K,name:g.target.value}):be({...Te,name:g.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl",placeholder:"Greenwich Towers"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),i.jsxs("select",{value:(K==null?void 0:K.category)||Te.category,onChange:g=>K?we({...K,category:g.target.value}):be({...Te,category:g.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl",children:[i.jsx("option",{children:"Real Estate"}),i.jsx("option",{children:"Cryptocurrency"}),i.jsx("option",{children:"Stocks & Bonds"}),i.jsx("option",{children:"Precious Metals"}),i.jsx("option",{children:"Investment Plans"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),i.jsxs("select",{value:(K==null?void 0:K.status)||Te.status,onChange:g=>K?we({...K,status:g.target.value}):be({...Te,status:g.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl",children:[i.jsx("option",{children:"Funding"}),i.jsx("option",{children:"Active"}),i.jsx("option",{children:"Open"}),i.jsx("option",{children:"Closed"}),i.jsx("option",{children:"Coming Soon"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Returns (e.g. 12-15%)"}),i.jsx("input",{type:"text",value:(K==null?void 0:K.returns)||Te.returns,onChange:g=>K?we({...K,returns:g.target.value}):be({...Te,returns:g.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl",placeholder:"12-15%"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Term (e.g. 24 months)"}),i.jsx("input",{type:"text",value:(K==null?void 0:K.term)||Te.term,onChange:g=>K?we({...K,term:g.target.value}):be({...Te,term:g.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl",placeholder:"24 months"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Investment ($)"}),i.jsx("input",{type:"number",value:(K==null?void 0:K.min)||Te.min,onChange:g=>K?we({...K,min:parseInt(g.target.value)}):be({...Te,min:parseInt(g.target.value)}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Funding Goal ($)"}),i.jsx("input",{type:"number",value:(K==null?void 0:K.goal)||Te.goal,onChange:g=>K?we({...K,goal:parseInt(g.target.value)}):be({...Te,goal:parseInt(g.target.value)}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Progress (%)"}),i.jsx("input",{type:"number",min:"0",max:"100",value:(K==null?void 0:K.progress)||Te.progress,onChange:g=>K?we({...K,progress:parseInt(g.target.value)}):be({...Te,progress:parseInt(g.target.value)}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),i.jsx("textarea",{rows:3,value:(K==null?void 0:K.desc)||Te.desc,onChange:g=>K?we({...K,desc:g.target.value}):be({...Te,desc:g.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl resize-none",placeholder:"Premium mixed-use development..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image URL (optional)"}),i.jsx("input",{type:"text",value:(K==null?void 0:K.customImg)||"",onChange:g=>K?we({...K,customImg:g.target.value}):be({...Te,customImg:g.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl",placeholder:"https://example.com/image.jpg"})]})]}),i.jsxs("div",{className:"flex gap-3 mt-6",children:[i.jsx(F.button,{onClick:()=>{Le(!1),we(null)},whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl border border-gray-200",children:"Cancel"}),i.jsx(F.button,{onClick:()=>at(K||Te),whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl text-white",style:{background:N.green},children:K?"Save Changes":"Add Investment"})]})]})})})]}),e==="kyc"&&i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:N.navy},children:"KYC Verification"}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg overflow-hidden",children:[i.jsx("div",{className:"p-4 border-b border-gray-100",children:i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("span",{className:"px-3 py-1 rounded-full text-xs bg-yellow-100 text-yellow-700",children:[Tn.filter(g=>g.status==="submitted"||g.status==="pending").length," pending review"]}),i.jsxs("span",{className:"px-3 py-1 rounded-full text-xs bg-green-100 text-green-700",children:[Tn.filter(g=>g.status==="verified").length," verified"]}),i.jsxs("span",{className:"px-3 py-1 rounded-full text-xs bg-red-100 text-red-700",children:[Tn.filter(g=>g.status==="rejected").length," rejected"]})]})}),Tn.length===0?i.jsxs("div",{className:"p-8 text-center",children:[i.jsx(Lr,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),i.jsx("p",{className:"text-gray-500",children:"No KYC submissions yet"})]}):i.jsx("div",{className:"divide-y divide-gray-100",children:Tn.map((g,Y)=>i.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("span",{className:"font-semibold",style:{color:N.navy},children:g.fullName||"Unknown"}),i.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${g.status==="verified"?"bg-green-100 text-green-700":g.status==="rejected"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:g.status||"pending"})]}),i.jsx("p",{className:"text-sm text-gray-500",children:g.userEmail}),i.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 text-xs text-gray-500",children:[i.jsxs("span",{children:["ID Type: ",g.idType]}),i.jsx("span",{children:""}),i.jsxs("span",{children:["ID #: ",g.idNumber]}),i.jsx("span",{children:""}),i.jsxs("span",{children:["DOB: ",g.dateOfBirth]})]}),i.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Submitted: ",new Date(g.submittedAt).toLocaleString()]})]}),i.jsxs("div",{className:"flex gap-2",children:[g.idFront&&i.jsxs("div",{className:"relative group",children:[i.jsx("img",{src:g.idFront,alt:"ID Front",className:"w-16 h-12 object-cover rounded-lg border cursor-pointer",onClick:()=>window.open(g.idFront,"_blank")}),i.jsx("span",{className:"absolute -bottom-5 left-0 text-[10px] text-gray-500",children:"Front"})]}),g.idBack&&i.jsxs("div",{className:"relative group",children:[i.jsx("img",{src:g.idBack,alt:"ID Back",className:"w-16 h-12 object-cover rounded-lg border cursor-pointer",onClick:()=>window.open(g.idBack,"_blank")}),i.jsx("span",{className:"absolute -bottom-5 left-0 text-[10px] text-gray-500",children:"Back"})]}),g.selfie&&i.jsxs("div",{className:"relative group",children:[i.jsx("img",{src:g.selfie,alt:"Selfie",className:"w-16 h-12 object-cover rounded-lg border cursor-pointer",onClick:()=>window.open(g.selfie,"_blank")}),i.jsx("span",{className:"absolute -bottom-5 left-0 text-[10px] text-gray-500",children:"Selfie"})]})]}),(g.status==="submitted"||g.status==="pending")&&i.jsxs("div",{className:"flex gap-2 flex-shrink-0 mt-4 lg:mt-0",children:[i.jsxs(F.button,{onClick:()=>mc(g),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-xl text-white text-sm font-medium flex items-center gap-1",style:{background:N.green},children:[i.jsx(gn,{className:"w-4 h-4"})," Approve"]}),i.jsxs(F.button,{onClick:()=>zi(g),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-xl bg-red-500 text-white text-sm font-medium flex items-center gap-1",children:[i.jsx(Pt,{className:"w-4 h-4"})," Reject"]})]}),g.status==="verified"&&i.jsxs("span",{className:"px-4 py-2 rounded-xl bg-green-100 text-green-700 text-sm font-medium flex items-center gap-1",children:[i.jsx(Je,{className:"w-4 h-4"})," Verified"]}),g.status==="rejected"&&i.jsxs("div",{className:"text-right",children:[i.jsx("span",{className:"px-4 py-2 rounded-xl bg-red-100 text-red-700 text-sm font-medium",children:"Rejected"}),g.rejectReason&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:g.rejectReason})]})]})},Y))})]})]}),e==="tickets"&&i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:N.navy},children:"Support Tickets"}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg overflow-hidden",children:[i.jsx("div",{className:"p-4 border-b border-gray-100",children:i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("span",{className:"px-3 py-1 rounded-full text-xs bg-purple-100 text-purple-700",children:[ye," open tickets"]}),i.jsxs("span",{className:"px-3 py-1 rounded-full text-xs bg-green-100 text-green-700",children:[de.filter(g=>g.status==="closed").length," closed"]})]})}),i.jsxs("div",{className:"divide-y divide-gray-100",children:[de.map((g,Y)=>i.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"font-mono text-xs px-2 py-0.5 rounded bg-gray-100",style:{color:N.navy},children:g.id}),i.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${g.priority==="urgent"?"bg-red-100 text-red-700":g.priority==="high"?"bg-orange-100 text-orange-700":g.priority==="medium"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:g.priority}),i.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${g.status==="open"?"bg-purple-100 text-purple-700":g.status==="in-progress"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:g.status})]}),i.jsx("p",{className:"font-medium text-sm",style:{color:N.navy},children:g.subject}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["From: ",g.name," (",g.email,")"]}),i.jsx("p",{className:"text-xs text-gray-400",children:new Date(g.createdAt).toLocaleString()}),i.jsx("p",{className:"text-sm text-gray-600 mt-2 line-clamp-2",children:g.message})]}),i.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[g.status==="open"&&i.jsxs(i.Fragment,{children:[i.jsx(F.button,{onClick:()=>{const W=de.map(ne=>ne.id===g.id?{...ne,status:"in-progress"}:ne);localStorage.setItem("saxovault_tickets",JSON.stringify(W)),window.location.reload()},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-3 py-1.5 rounded-lg bg-blue-100 text-blue-700 text-xs font-medium",children:"In Progress"}),i.jsxs(F.a,{href:`mailto:${g.email}?subject=Re: ${g.subject} [${g.id}]&body=Hi ${g.name},%0D%0A%0D%0AThank you for contacting SaxoVault Capital support.%0D%0A%0D%0A[Your response here]%0D%0A%0D%0ABest regards,%0D%0ASaxoVault Capital Support Team`,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-3 py-1.5 rounded-lg bg-green-100 text-green-700 text-xs font-medium flex items-center gap-1",children:[i.jsx(Wn,{className:"w-3 h-3"})," Reply"]})]}),g.status!=="closed"&&i.jsx(F.button,{onClick:()=>{const W=de.map(ne=>ne.id===g.id?{...ne,status:"closed"}:ne);localStorage.setItem("saxovault_tickets",JSON.stringify(W)),window.location.reload()},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-3 py-1.5 rounded-lg bg-gray-100 text-gray-700 text-xs font-medium",children:"Close"})]})]})},Y)),de.length===0&&i.jsx("p",{className:"text-center text-gray-500 py-12",children:"No tickets yet"})]})]})]}),e==="website"&&i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:N.navy},children:"Website Editor"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:N.navy},children:[i.jsx(va,{className:"w-5 h-5"})," General Settings"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Site Name"}),i.jsx("input",{type:"text",value:b.siteName,onChange:g=>R({...b,siteName:g.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tagline"}),i.jsx("input",{type:"text",value:b.tagline,onChange:g=>R({...b,tagline:g.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hero Title"}),i.jsx("input",{type:"text",value:b.heroTitle,onChange:g=>R({...b,heroTitle:g.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hero Subtitle"}),i.jsx("textarea",{value:b.heroSubtitle,onChange:g=>R({...b,heroSubtitle:g.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",rows:2})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:N.navy},children:[i.jsx(fu,{className:"w-5 h-5"})," Investment Limits"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Deposit ($)"}),i.jsx("input",{type:"number",value:b.minDeposit,onChange:g=>R({...b,minDeposit:parseInt(g.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Withdrawal ($)"}),i.jsx("input",{type:"number",value:b.minWithdrawal,onChange:g=>R({...b,minWithdrawal:parseInt(g.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Withdrawal Fee (%)"}),i.jsx("input",{type:"number",value:b.withdrawalFee,onChange:g=>R({...b,withdrawalFee:parseFloat(g.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",step:"0.1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Referral Bonus (%)"}),i.jsx("input",{type:"number",value:b.referralBonus,onChange:g=>R({...b,referralBonus:parseFloat(g.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",step:"0.1"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:N.navy},children:[i.jsx(pu,{className:"w-5 h-5"})," Feature Toggles"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100",children:[i.jsx("input",{type:"checkbox",checked:b.maintenanceMode,onChange:g=>R({...b,maintenanceMode:g.target.checked}),className:"w-5 h-5 rounded"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:"Maintenance Mode"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Disable site for visitors"})]})]}),i.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100",children:[i.jsx("input",{type:"checkbox",checked:b.registrationOpen,onChange:g=>R({...b,registrationOpen:g.target.checked}),className:"w-5 h-5 rounded"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:"Registration Open"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Allow new user signups"})]})]}),i.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100",children:[i.jsx("input",{type:"checkbox",checked:b.kycRequired,onChange:g=>R({...b,kycRequired:g.target.checked}),className:"w-5 h-5 rounded"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:"KYC Required"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Require identity verification"})]})]}),i.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100",children:[i.jsx("input",{type:"checkbox",checked:b.twoFactorRequired,onChange:g=>R({...b,twoFactorRequired:g.target.checked}),className:"w-5 h-5 rounded"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:"2FA Required"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Force two-factor authentication"})]})]})]})]}),i.jsx(F.button,{onClick:A,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 rounded-xl text-white font-semibold",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:"Save Website Settings"})]})]}),e==="branding"&&i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:N.navy},children:"Branding"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:N.navy},children:[i.jsx(U5,{className:"w-5 h-5"})," Brand Colors"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Primary Color"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"color",value:M.primaryColor,onChange:g=>B({...M,primaryColor:g.target.value}),className:"w-12 h-10 rounded cursor-pointer"}),i.jsx("input",{type:"text",value:M.primaryColor,onChange:g=>B({...M,primaryColor:g.target.value}),className:"flex-1 px-4 py-2 border border-gray-200 rounded-xl font-mono text-sm"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Secondary Color"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"color",value:M.secondaryColor,onChange:g=>B({...M,secondaryColor:g.target.value}),className:"w-12 h-10 rounded cursor-pointer"}),i.jsx("input",{type:"text",value:M.secondaryColor,onChange:g=>B({...M,secondaryColor:g.target.value}),className:"flex-1 px-4 py-2 border border-gray-200 rounded-xl font-mono text-sm"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Accent Color (Gold)"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"color",value:M.accentColor,onChange:g=>B({...M,accentColor:g.target.value}),className:"w-12 h-10 rounded cursor-pointer"}),i.jsx("input",{type:"text",value:M.accentColor,onChange:g=>B({...M,accentColor:g.target.value}),className:"flex-1 px-4 py-2 border border-gray-200 rounded-xl font-mono text-sm"})]})]})]}),i.jsxs("div",{className:"mt-4 p-4 rounded-xl",style:{background:M.primaryColor},children:[i.jsx("p",{className:"text-white font-medium",children:"Primary Background Preview"}),i.jsx("p",{className:"text-sm mt-2",style:{color:M.accentColor},children:"Accent Text Color"})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:N.navy},children:[i.jsx(H5,{className:"w-5 h-5"})," Social Links"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Twitter/X URL"}),i.jsx("input",{type:"url",value:M.socialLinks.twitter,onChange:g=>B({...M,socialLinks:{...M.socialLinks,twitter:g.target.value}}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",placeholder:"https://twitter.com/..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telegram URL"}),i.jsx("input",{type:"url",value:M.socialLinks.telegram,onChange:g=>B({...M,socialLinks:{...M.socialLinks,telegram:g.target.value}}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",placeholder:"https://t.me/..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"LinkedIn URL"}),i.jsx("input",{type:"url",value:M.socialLinks.linkedin,onChange:g=>B({...M,socialLinks:{...M.socialLinks,linkedin:g.target.value}}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",placeholder:"https://linkedin.com/..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Facebook URL"}),i.jsx("input",{type:"url",value:M.socialLinks.facebook,onChange:g=>B({...M,socialLinks:{...M.socialLinks,facebook:g.target.value}}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",placeholder:"https://facebook.com/..."})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:N.navy},children:[i.jsx(Cl,{className:"w-5 h-5"})," Footer Text"]}),i.jsx("textarea",{value:M.footerText,onChange:g=>B({...M,footerText:g.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",rows:2})]}),i.jsx(F.button,{onClick:L,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 rounded-xl text-white font-semibold",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:"Save Branding Settings"})]})]}),e==="payments"&&i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:N.navy},children:"Payment Methods"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"font-serif text-lg flex items-center gap-2",style:{color:N.navy},children:[i.jsx("span",{className:"text-orange-500",children:""})," Bitcoin (BTC)"]}),i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:E.btcEnabled,onChange:g=>w({...E,btcEnabled:g.target.checked}),className:"w-5 h-5 rounded"}),i.jsx("span",{className:"text-sm font-medium",children:"Enabled"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Wallet Address"}),i.jsx("input",{type:"text",value:E.btcAddress,onChange:g=>w({...E,btcAddress:g.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl font-mono text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Deposit ($)"}),i.jsx("input",{type:"number",value:E.btcMinDeposit,onChange:g=>w({...E,btcMinDeposit:parseInt(g.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"font-serif text-lg flex items-center gap-2",style:{color:N.navy},children:[i.jsx("span",{className:"text-blue-500",children:""})," Ethereum (ETH)"]}),i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:E.ethEnabled,onChange:g=>w({...E,ethEnabled:g.target.checked}),className:"w-5 h-5 rounded"}),i.jsx("span",{className:"text-sm font-medium",children:"Enabled"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Wallet Address"}),i.jsx("input",{type:"text",value:E.ethAddress,onChange:g=>w({...E,ethAddress:g.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl font-mono text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Deposit ($)"}),i.jsx("input",{type:"number",value:E.ethMinDeposit,onChange:g=>w({...E,ethMinDeposit:parseInt(g.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"font-serif text-lg flex items-center gap-2",style:{color:N.navy},children:[i.jsx("span",{className:"text-green-500",children:""})," USDT (Tether)"]}),i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:E.usdtEnabled,onChange:g=>w({...E,usdtEnabled:g.target.checked}),className:"w-5 h-5 rounded"}),i.jsx("span",{className:"text-sm font-medium",children:"Enabled"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Wallet Address"}),i.jsx("input",{type:"text",value:E.usdtAddress,onChange:g=>w({...E,usdtAddress:g.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl font-mono text-sm"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Network"}),i.jsxs("select",{value:E.usdtNetwork,onChange:g=>w({...E,usdtNetwork:g.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",children:[i.jsx("option",{value:"TRC-20",children:"TRC-20 (Tron)"}),i.jsx("option",{value:"ERC-20",children:"ERC-20 (Ethereum)"}),i.jsx("option",{value:"BEP-20",children:"BEP-20 (BSC)"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Deposit ($)"}),i.jsx("input",{type:"number",value:E.usdtMinDeposit,onChange:g=>w({...E,usdtMinDeposit:parseInt(g.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"font-serif text-lg flex items-center gap-2",style:{color:N.navy},children:[i.jsx(A5,{className:"w-5 h-5"})," Bank Transfer"]}),i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:E.bankTransferEnabled,onChange:g=>w({...E,bankTransferEnabled:g.target.checked}),className:"w-5 h-5 rounded"}),i.jsx("span",{className:"text-sm font-medium",children:"Enabled"})]})]}),E.bankTransferEnabled&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bank Name"}),i.jsx("input",{type:"text",value:E.bankName,onChange:g=>w({...E,bankName:g.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Number"}),i.jsx("input",{type:"text",value:E.bankAccount,onChange:g=>w({...E,bankAccount:g.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Routing Number"}),i.jsx("input",{type:"text",value:E.bankRouting,onChange:g=>w({...E,bankRouting:g.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]})]})]}),i.jsx(F.button,{onClick:P,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 rounded-xl text-white font-semibold",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:"Save Payment Settings"})]})]}),e==="platform"&&i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:N.navy},children:"Platform Configuration"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:N.navy},children:[i.jsx(fu,{className:"w-5 h-5"})," Withdrawal Limits"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Daily Withdrawal ($)"}),i.jsx("input",{type:"number",value:T.maxDailyWithdrawal,onChange:g=>C({...T,maxDailyWithdrawal:parseInt(g.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Single Withdrawal ($)"}),i.jsx("input",{type:"number",value:T.maxSingleWithdrawal,onChange:g=>C({...T,maxSingleWithdrawal:parseInt(g.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Processing Time"}),i.jsx("input",{type:"text",value:T.withdrawalProcessingTime,onChange:g=>C({...T,withdrawalProcessingTime:g.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:N.navy},children:[i.jsx(ld,{className:"w-5 h-5"})," Automation"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100",children:[i.jsx("input",{type:"checkbox",checked:T.autoApproveDeposits,onChange:g=>C({...T,autoApproveDeposits:g.target.checked}),className:"w-5 h-5 rounded"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:"Auto-Approve Deposits"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Automatically approve all deposits"})]})]}),i.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100",children:[i.jsx("input",{type:"checkbox",checked:T.autoApproveWithdrawals,onChange:g=>C({...T,autoApproveWithdrawals:g.target.checked}),className:"w-5 h-5 rounded"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:"Auto-Approve Withdrawals"}),i.jsx("p",{className:"text-xs text-gray-500 text-red-500",children:" Use with caution"})]})]}),i.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100",children:[i.jsx("input",{type:"checkbox",checked:T.emailNotifications,onChange:g=>C({...T,emailNotifications:g.target.checked}),className:"w-5 h-5 rounded"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:"Email Notifications"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Send email alerts for transactions"})]})]}),i.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100",children:[i.jsx("input",{type:"checkbox",checked:T.smsNotifications,onChange:g=>C({...T,smsNotifications:g.target.checked}),className:"w-5 h-5 rounded"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:"SMS Notifications"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Send SMS alerts (requires setup)"})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:N.navy},children:[i.jsx(wi,{className:"w-5 h-5"})," Security Settings"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Session Timeout (minutes)"}),i.jsx("input",{type:"number",value:T.sessionTimeout,onChange:g=>C({...T,sessionTimeout:parseInt(g.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Login Attempts"}),i.jsx("input",{type:"number",value:T.maxLoginAttempts,onChange:g=>C({...T,maxLoginAttempts:parseInt(g.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"IP Whitelist (comma separated)"}),i.jsx("input",{type:"text",value:T.ipWhitelist,onChange:g=>C({...T,ipWhitelist:g.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",placeholder:"Leave empty to allow all IPs"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blocked Countries (comma separated)"}),i.jsx("input",{type:"text",value:T.blockedCountries,onChange:g=>C({...T,blockedCountries:g.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",placeholder:"e.g., US, UK, CN"})]})]})]}),i.jsx(F.button,{onClick:fe,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 rounded-xl text-white font-semibold",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:"Save Platform Configuration"})]})]}),e==="settings"&&i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:N.navy},children:"Platform Settings"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:N.navy},children:[i.jsx(Ov,{className:"w-5 h-5"})," Deposit Wallet Addresses"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bitcoin (BTC)"}),i.jsx("input",{type:"text",value:((lo=l.wallets)==null?void 0:lo.btc)||"",onChange:g=>c({...l,wallets:{...l.wallets,btc:g.target.value}}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl font-mono text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ethereum (ETH)"}),i.jsx("input",{type:"text",value:((_t=l.wallets)==null?void 0:_t.eth)||"",onChange:g=>c({...l,wallets:{...l.wallets,eth:g.target.value}}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl font-mono text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"USDT (TRC-20)"}),i.jsx("input",{type:"text",value:((co=l.wallets)==null?void 0:co.usdt)||"",onChange:g=>c({...l,wallets:{...l.wallets,usdt:g.target.value}}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl font-mono text-sm"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:N.navy},children:[i.jsx(Fg,{className:"w-5 h-5"})," Contact Settings"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"WhatsApp Number"}),i.jsx("input",{type:"text",value:l.whatsapp||"",onChange:g=>c({...l,whatsapp:g.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",placeholder:"+1234567890"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Support Email"}),i.jsx("input",{type:"email",value:l.email||"",onChange:g=>c({...l,email:g.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:N.navy},children:[i.jsx(va,{className:"w-5 h-5"})," Site Settings"]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Site Name"}),i.jsx("input",{type:"text",value:l.siteName||"",onChange:g=>c({...l,siteName:g.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]})]}),i.jsx(F.button,{onClick:()=>Q(l),whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 rounded-xl text-white font-semibold",style:{background:`linear-gradient(135deg, ${N.green} 0%, ${N.greenDark} 100%)`},children:"Save All Settings"})]})]})]})]})]})}function zM(){const[t,e]=D.useState(!1),[n,s]=D.useState(!1),[r,a]=D.useState(!1),[o,l]=D.useState(!1),[c,d]=D.useState("home"),[h,f]=D.useState(null),[p,x]=D.useState(!1),[j,_]=D.useState(!0),[k,S]=D.useState({name:"",email:"",phone:"",address:"",balance:0,profileImage:null}),v=D.useRef(null),[b,R]=D.useState(null),M=async(ae,le)=>{console.log(" Verifying email:",le,"with token:",ae);const te=JSON.parse(localStorage.getItem("saxovault_pending_verifications")||"{}"),V=te[le];if(!V){const O=G.getUsers().find(ce=>ce.email===le);O&&O.emailVerified?R({success:!0,message:"Your email is already verified! You can now login.",alreadyVerified:!0}):R({success:!1,message:"Verification link expired or invalid. Please request a new verification email."});return}if(V.token!==ae){R({success:!1,message:"Invalid verification code. Please request a new verification email."});return}if(new Date(V.expiry)<new Date){R({success:!1,message:"Verification link has expired. Please request a new verification email."});return}const U=V.uid,re=localStorage.getItem(`user_${U}`);if(re){const ye=JSON.parse(re);ye.emailVerified=!0,ye.verificationToken=null,ye.verificationExpiry=null,ye.verifiedAt=new Date().toISOString(),localStorage.setItem(`user_${U}`,JSON.stringify(ye))}const Q=G.getUsers(),de=Q.findIndex(ye=>ye.uid===U);de>=0&&(Q[de].emailVerified=!0,Q[de].verifiedAt=new Date().toISOString(),G.setUsers(Q));try{const{updateUserInFirestore:ye}=await YI(async()=>{const{updateUserInFirestore:O}=await Promise.resolve().then(()=>cM);return{updateUserInFirestore:O}},void 0);await ye(U,{emailVerified:!0,verifiedAt:new Date().toISOString(),verificationToken:null}),console.log(" User verified in Firestore")}catch(ye){console.log("Firestore update skipped:",ye)}delete te[le],localStorage.setItem("saxovault_pending_verifications",JSON.stringify(te)),window.history.replaceState(null,"",window.location.pathname),R({success:!0,message:" Email verified successfully! You can now login to your account.",userName:V.name}),console.log(" Email verification successful for:",le)},B=()=>{v.current&&v.current(),e(!1),S({name:"",email:"",phone:"",address:"",balance:0,profileImage:null}),localStorage.removeItem("saxovault_current_user"),alert(` Session Expired

You have been logged out due to inactivity. Please login again.`)},{showWarning:E,countdown:w,extendSession:T}=_M(t,B,30),C=(ae,le)=>{const te=JSON.parse(localStorage.getItem("saxovault_activity_logs")||"{}");te[le]||(te[le]=[]),te[le].unshift({type:ae,timestamp:new Date().toISOString(),ip:"User IP",device:navigator.userAgent.includes("Mobile")?"Mobile Device":"Desktop Browser"}),te[le]=te[le].slice(0,50),localStorage.setItem("saxovault_activity_logs",JSON.stringify(te))};D.useEffect(()=>{(window.location.pathname==="/admin"||window.location.hash==="#admin")&&a(!0);const ae=window.location.hash;if(ae.startsWith("#verify")){const te=new URLSearchParams(ae.replace("#verify?","")),V=te.get("token"),U=decodeURIComponent(te.get("email")||"");V&&U&&(console.log(" Processing email verification..."),console.log(" Email:",U),console.log(" Token:",V),M(V,U))}localStorage.getItem("saxovault_admin")==="true"&&(s(!0),a(!0));const le=localStorage.getItem("saxovault_current_user");if(le)try{const te=JSON.parse(le);if(te&&te.uid&&te.email){const V=JSON.parse(localStorage.getItem(`user_${te.uid}`)||"{}"),U={...te,...V,uid:te.uid,email:te.email,name:V.name||te.name||"",phone:V.phone||te.phone||"",address:V.address||te.address||"",country:V.country||te.country||"",balance:V.balance??te.balance??0,profileImage:V.profileImage||te.profileImage||null,twoFactorEnabled:V.twoFactorEnabled||te.twoFactorEnabled||!1};S(U),e(!0),console.log(" User session restored:",U.email)}}catch(te){console.error(" Error restoring user session:",te),localStorage.removeItem("saxovault_current_user")}setTimeout(()=>_(!1),800)},[]);const A=ae=>{if(ae){const le=JSON.parse(localStorage.getItem(`user_${ae.uid}`)||"{}"),te={...ae,...le,uid:ae.uid,email:ae.email,name:le.name||ae.name||"",phone:le.phone||ae.phone||"",address:le.address||ae.address||"",country:le.country||ae.country||"",balance:le.balance??ae.balance??0,profileImage:le.profileImage||ae.profileImage||null};S(te),C("login",te.email);const V=G.getUsers();if(!V.find(Q=>Q.email===ae.email)){let Q=null,de=null;if(ae.referralCode){const O=V.find(ce=>ce.referralCode===ae.referralCode||ce.uid===ae.referralCode);O&&(Q=O.uid,de=ae.referralCode)}const ye={...ae,uid:ae.uid||Date.now().toString(),createdAt:new Date().toISOString(),balance:0,totalDeposited:0,totalWithdrawn:0,totalEarnings:0,activeInvestments:0,referralEarnings:0,referralCount:0,onboardingComplete:!1,referredBy:Q,usedReferralCode:de,registrationReferralCode:ae.referralCode};if(V.push(ye),G.setUsers(V),localStorage.setItem(`user_${ye.uid}`,JSON.stringify(ye)),te.referredBy=Q,te.usedReferralCode=de,l(!0),G.notifyAdmin({type:"new_user",title:" New User Registration",message:`${ae.name||"New user"} (${ae.email}) just registered${Q?" via referral":""}`,urgent:!0,actionRequired:!1}),Q){const O=V.find(ce=>ce.uid===Q);if(O){const ce=V.map(xe=>xe.uid===O.uid?{...xe,referralCount:(xe.referralCount||0)+1}:xe);G.setUsers(ce);const K=JSON.parse(localStorage.getItem(`user_${O.uid}`)||"{}");K.referralCount=(K.referralCount||0)+1,localStorage.setItem(`user_${O.uid}`,JSON.stringify(K)),je.sendReferralNotification(O.email,ae.name||ae.email);const we=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}");we[O.uid]||(we[O.uid]=[]),we[O.uid].unshift({id:Date.now(),type:"referral",title:" New Referral!",message:`${ae.name||"Someone"} signed up using your referral link! You'll earn 4% bonus when they invest.`,read:!1,createdAt:new Date().toISOString()}),localStorage.setItem("saxovault_user_notifications",JSON.stringify(we)),G.notifyAdmin({type:"referral",title:" New Referral Signup",message:`${ae.email} signed up via ${O.email}'s referral`,urgent:!1,actionRequired:!1})}}}localStorage.setItem("saxovault_current_user",JSON.stringify(te)),localStorage.setItem(`user_${te.uid}`,JSON.stringify(te))}e(!0)},L=async()=>{try{k.email&&C("logout",k.email),await eE()}catch{}e(!1),S({name:"",email:"",phone:"",address:"",balance:0,profileImage:null}),localStorage.removeItem("saxovault_current_user")};v.current=L;const P=()=>{localStorage.removeItem("saxovault_admin"),s(!1),a(!1)};if(r&&!n)return i.jsx(UM,{onLogin:()=>s(!0)});if(n)return i.jsx(BM,{onLogout:P});if(b)return i.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",style:{background:N.cream},children:i.jsxs(F.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-3xl shadow-2xl p-8 max-w-md w-full text-center",children:[i.jsx("div",{className:"w-16 h-16 mx-auto mb-6",children:i.jsxs("svg",{viewBox:"0 0 50 55",className:"w-full h-full",children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"verifyGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#d4a853"}),i.jsx("stop",{offset:"50%",stopColor:"#f4d078"}),i.jsx("stop",{offset:"100%",stopColor:"#d4a853"})]})}),i.jsx("path",{d:"M25 0 L50 8 L50 30 C50 42 38 50 25 55 C12 50 0 42 0 30 L0 8 Z",fill:N.navy}),i.jsx("path",{d:"M25 5 L45 12 L45 29 C45 39 35 46 25 50 C15 46 5 39 5 29 L5 12 Z",fill:"none",stroke:"url(#verifyGold)",strokeWidth:"1.5"}),i.jsx("text",{x:"25",y:"35",fontFamily:"Georgia, serif",fontSize:"24",fontWeight:"bold",fill:"url(#verifyGold)",textAnchor:"middle",children:"S"})]})}),i.jsx(F.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.2},className:`w-20 h-20 mx-auto rounded-full flex items-center justify-center mb-6 ${b.success?"bg-green-100":"bg-red-100"}`,children:b.success?i.jsx(Je,{className:"w-10 h-10 text-green-600"}):i.jsx(cs,{className:"w-10 h-10 text-red-600"})}),i.jsx("h1",{className:"font-serif text-2xl mb-3",style:{color:N.navy},children:b.success?"Email Verified!":"Verification Failed"}),i.jsx("p",{className:"text-gray-600 mb-6",children:b.message}),b.success&&i.jsxs(F.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-green-50 border border-green-200 rounded-xl p-4 mb-6",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(Je,{className:"w-5 h-5 text-green-600"})}),i.jsx("span",{className:"font-semibold text-green-700",children:"EMAIL VERIFIED"})]}),b.userName&&i.jsxs("p",{className:"text-green-600 text-sm mt-2",children:["Welcome, ",b.userName,"!"]})]}),i.jsx(F.button,{onClick:()=>{R(null),window.location.hash=""},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-4 rounded-xl text-white font-semibold text-lg",style:{background:`linear-gradient(135deg, ${N.navy} 0%, ${N.navyLight} 100%)`},children:b.success?"Continue to Login":"Try Again"}),i.jsx("p",{className:"text-xs text-gray-400 mt-6",children:"SaxoVault Capital - Premium Investment Solutions"})]})});if(!t)return i.jsx(yM,{onLogin:A});const fe=ae=>f(ae);return j?i.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{background:N.cream},children:i.jsxs(F.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[i.jsx(F.div,{animate:{rotate:360},transition:{repeat:1/0,duration:1.5,ease:"linear"},className:"w-16 h-16 mx-auto mb-4 rounded-full border-4 border-t-transparent",style:{borderColor:`${N.navy}30`,borderTopColor:N.gold}}),i.jsx("h2",{className:"font-serif text-xl",style:{color:N.navy},children:"SaxoVault"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Loading..."})]})}):i.jsx(bM,{children:i.jsxs("div",{className:"min-h-screen",style:{background:N.cream},children:[i.jsx(dt,{children:E&&i.jsx(SM,{countdown:w,onExtend:T,onLogout:L})}),i.jsx(dt,{children:o&&i.jsx(mM,{onComplete:()=>l(!1)})}),i.jsx(xM,{activePage:c,onNavigate:d,user:k,onLogout:L}),i.jsxs(dt,{children:[h&&!p&&i.jsx(kM,{investment:h,onClose:()=>f(null),onInvest:()=>x(!0)}),p&&h&&i.jsx(CM,{investment:h,onClose:()=>{x(!1),f(null)},balance:k.balance})]}),i.jsxs(dt,{mode:"wait",children:[c==="home"&&i.jsx(TM,{onNavigate:d,onSelectInvestment:fe},"home"),c==="investments"&&i.jsx(IM,{onSelectInvestment:fe},"investments"),c==="dashboard"&&i.jsx(AM,{user:k,onNavigate:d},"dashboard"),c==="history"&&i.jsx(PM,{user:k},"history"),c==="notifications"&&i.jsx(RM,{user:k},"notifications"),c==="activity"&&i.jsx(DM,{user:k},"activity"),c==="referral"&&i.jsx(LM,{user:k},"referral"),c==="calculator"&&i.jsx(MM,{},"calculator"),c==="profile"&&i.jsx(OM,{user:k,setUser:S,onLogout:L},"profile")]}),i.jsx(vM,{activePage:c,onNavigate:d}),i.jsx(jM,{})]})})}Mf.createRoot(document.getElementById("root")).render(i.jsx(Ad.StrictMode,{children:i.jsx(zM,{})}));
