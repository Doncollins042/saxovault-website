(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function hE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var s1={exports:{}},fd={},r1={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tl=Symbol.for("react.element"),fE=Symbol.for("react.portal"),mE=Symbol.for("react.fragment"),pE=Symbol.for("react.strict_mode"),gE=Symbol.for("react.profiler"),yE=Symbol.for("react.provider"),xE=Symbol.for("react.context"),vE=Symbol.for("react.forward_ref"),wE=Symbol.for("react.suspense"),bE=Symbol.for("react.memo"),_E=Symbol.for("react.lazy"),lx=Symbol.iterator;function NE(t){return t===null||typeof t!="object"?null:(t=lx&&t[lx]||t["@@iterator"],typeof t=="function"?t:null)}var i1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},a1=Object.assign,o1={};function Aa(t,e,n){this.props=t,this.context=e,this.refs=o1,this.updater=n||i1}Aa.prototype.isReactComponent={};Aa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Aa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function l1(){}l1.prototype=Aa.prototype;function rp(t,e,n){this.props=t,this.context=e,this.refs=o1,this.updater=n||i1}var ip=rp.prototype=new l1;ip.constructor=rp;a1(ip,Aa.prototype);ip.isPureReactComponent=!0;var cx=Array.isArray,c1=Object.prototype.hasOwnProperty,ap={current:null},u1={key:!0,ref:!0,__self:!0,__source:!0};function d1(t,e,n){var s,r={},a=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)c1.call(e,s)&&!u1.hasOwnProperty(s)&&(r[s]=e[s]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var u=Array(l),d=0;d<l;d++)u[d]=arguments[d+2];r.children=u}if(t&&t.defaultProps)for(s in l=t.defaultProps,l)r[s]===void 0&&(r[s]=l[s]);return{$$typeof:Tl,type:t,key:a,ref:o,props:r,_owner:ap.current}}function SE(t,e){return{$$typeof:Tl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function op(t){return typeof t=="object"&&t!==null&&t.$$typeof===Tl}function TE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ux=/\/+/g;function Th(t,e){return typeof t=="object"&&t!==null&&t.key!=null?TE(""+t.key):e.toString(36)}function Mc(t,e,n,s,r){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Tl:case fE:o=!0}}if(o)return o=t,r=r(o),t=s===""?"."+Th(o,0):s,cx(r)?(n="",t!=null&&(n=t.replace(ux,"$&/")+"/"),Mc(r,e,n,"",function(d){return d})):r!=null&&(op(r)&&(r=SE(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(ux,"$&/")+"/")+t)),e.push(r)),1;if(o=0,s=s===""?".":s+":",cx(t))for(var l=0;l<t.length;l++){a=t[l];var u=s+Th(a,l);o+=Mc(a,e,n,u,r)}else if(u=NE(t),typeof u=="function")for(t=u.call(t),l=0;!(a=t.next()).done;)a=a.value,u=s+Th(a,l++),o+=Mc(a,e,n,u,r);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function uc(t,e,n){if(t==null)return t;var s=[],r=0;return Mc(t,s,"","",function(a){return e.call(n,a,r++)}),s}function EE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ft={current:null},Oc={transition:null},jE={ReactCurrentDispatcher:Ft,ReactCurrentBatchConfig:Oc,ReactCurrentOwner:ap};function h1(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:uc,forEach:function(t,e,n){uc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return uc(t,function(){e++}),e},toArray:function(t){return uc(t,function(e){return e})||[]},only:function(t){if(!op(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ye.Component=Aa;ye.Fragment=mE;ye.Profiler=gE;ye.PureComponent=rp;ye.StrictMode=pE;ye.Suspense=wE;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jE;ye.act=h1;ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=a1({},t.props),r=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=ap.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)c1.call(e,u)&&!u1.hasOwnProperty(u)&&(s[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)s.children=n;else if(1<u){l=Array(u);for(var d=0;d<u;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:Tl,type:t.type,key:r,ref:a,props:s,_owner:o}};ye.createContext=function(t){return t={$$typeof:xE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:yE,_context:t},t.Consumer=t};ye.createElement=d1;ye.createFactory=function(t){var e=d1.bind(null,t);return e.type=t,e};ye.createRef=function(){return{current:null}};ye.forwardRef=function(t){return{$$typeof:vE,render:t}};ye.isValidElement=op;ye.lazy=function(t){return{$$typeof:_E,_payload:{_status:-1,_result:t},_init:EE}};ye.memo=function(t,e){return{$$typeof:bE,type:t,compare:e===void 0?null:e}};ye.startTransition=function(t){var e=Oc.transition;Oc.transition={};try{t()}finally{Oc.transition=e}};ye.unstable_act=h1;ye.useCallback=function(t,e){return Ft.current.useCallback(t,e)};ye.useContext=function(t){return Ft.current.useContext(t)};ye.useDebugValue=function(){};ye.useDeferredValue=function(t){return Ft.current.useDeferredValue(t)};ye.useEffect=function(t,e){return Ft.current.useEffect(t,e)};ye.useId=function(){return Ft.current.useId()};ye.useImperativeHandle=function(t,e,n){return Ft.current.useImperativeHandle(t,e,n)};ye.useInsertionEffect=function(t,e){return Ft.current.useInsertionEffect(t,e)};ye.useLayoutEffect=function(t,e){return Ft.current.useLayoutEffect(t,e)};ye.useMemo=function(t,e){return Ft.current.useMemo(t,e)};ye.useReducer=function(t,e,n){return Ft.current.useReducer(t,e,n)};ye.useRef=function(t){return Ft.current.useRef(t)};ye.useState=function(t){return Ft.current.useState(t)};ye.useSyncExternalStore=function(t,e,n){return Ft.current.useSyncExternalStore(t,e,n)};ye.useTransition=function(){return Ft.current.useTransition()};ye.version="18.3.1";r1.exports=ye;var R=r1.exports;const md=hE(R);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kE=R,IE=Symbol.for("react.element"),CE=Symbol.for("react.fragment"),AE=Object.prototype.hasOwnProperty,PE=kE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RE={key:!0,ref:!0,__self:!0,__source:!0};function f1(t,e,n){var s,r={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)AE.call(e,s)&&!RE.hasOwnProperty(s)&&(r[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:IE,type:t,key:a,ref:o,props:r,_owner:PE.current}}fd.Fragment=CE;fd.jsx=f1;fd.jsxs=f1;s1.exports=fd;var i=s1.exports,Nf={},m1={exports:{}},ln={},p1={exports:{}},g1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,q){var ne=O.length;O.push(q);e:for(;0<ne;){var ie=ne-1>>>1,K=O[ie];if(0<r(K,q))O[ie]=q,O[ne]=K,ne=ie;else break e}}function n(O){return O.length===0?null:O[0]}function s(O){if(O.length===0)return null;var q=O[0],ne=O.pop();if(ne!==q){O[0]=ne;e:for(var ie=0,K=O.length,Ie=K>>>1;ie<Ie;){var H=2*(ie+1)-1,be=O[H],de=H+1,Ce=O[de];if(0>r(be,ne))de<K&&0>r(Ce,be)?(O[ie]=Ce,O[de]=ne,ie=de):(O[ie]=be,O[H]=ne,ie=H);else if(de<K&&0>r(Ce,ne))O[ie]=Ce,O[de]=ne,ie=de;else break e}}return q}function r(O,q){var ne=O.sortIndex-q.sortIndex;return ne!==0?ne:O.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],d=[],f=1,h=null,p=3,x=!1,S=!1,_=!1,I=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(O){for(var q=n(d);q!==null;){if(q.callback===null)s(d);else if(q.startTime<=O)s(d),q.sortIndex=q.expirationTime,e(u,q);else break;q=n(d)}}function D(O){if(_=!1,b(O),!S)if(n(u)!==null)S=!0,me(L);else{var q=n(d);q!==null&&pe(D,q.startTime-O)}}function L(O,q){S=!1,_&&(_=!1,T(N),N=-1),x=!0;var ne=p;try{for(b(q),h=n(u);h!==null&&(!(h.expirationTime>q)||O&&!P());){var ie=h.callback;if(typeof ie=="function"){h.callback=null,p=h.priorityLevel;var K=ie(h.expirationTime<=q);q=t.unstable_now(),typeof K=="function"?h.callback=K:h===n(u)&&s(u),b(q)}else s(u);h=n(u)}if(h!==null)var Ie=!0;else{var H=n(d);H!==null&&pe(D,H.startTime-q),Ie=!1}return Ie}finally{h=null,p=ne,x=!1}}var U=!1,k=null,N=-1,E=5,C=-1;function P(){return!(t.unstable_now()-C<E)}function V(){if(k!==null){var O=t.unstable_now();C=O;var q=!0;try{q=k(!0,O)}finally{q?A():(U=!1,k=null)}}else U=!1}var A;if(typeof v=="function")A=function(){v(V)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ae=Q.port2;Q.port1.onmessage=V,A=function(){ae.postMessage(null)}}else A=function(){I(V,0)};function me(O){k=O,U||(U=!0,A())}function pe(O,q){N=I(function(){O(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){S||x||(S=!0,me(L))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(O){switch(p){case 1:case 2:case 3:var q=3;break;default:q=p}var ne=p;p=q;try{return O()}finally{p=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,q){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var ne=p;p=O;try{return q()}finally{p=ne}},t.unstable_scheduleCallback=function(O,q,ne){var ie=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ie+ne:ie):ne=ie,O){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=ne+K,O={id:f++,callback:q,priorityLevel:O,startTime:ne,expirationTime:K,sortIndex:-1},ne>ie?(O.sortIndex=ne,e(d,O),n(u)===null&&O===n(d)&&(_?(T(N),N=-1):_=!0,pe(D,ne-ie))):(O.sortIndex=K,e(u,O),S||x||(S=!0,me(L))),O},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(O){var q=p;return function(){var ne=p;p=q;try{return O.apply(this,arguments)}finally{p=ne}}}})(g1);p1.exports=g1;var DE=p1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VE=R,an=DE;function G(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y1=new Set,Ko={};function vi(t,e){da(t,e),da(t+"Capture",e)}function da(t,e){for(Ko[t]=e,t=0;t<e.length;t++)y1.add(e[t])}var ys=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sf=Object.prototype.hasOwnProperty,LE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dx={},hx={};function ME(t){return Sf.call(hx,t)?!0:Sf.call(dx,t)?!1:LE.test(t)?hx[t]=!0:(dx[t]=!0,!1)}function OE(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function FE(t,e,n,s){if(e===null||typeof e>"u"||OE(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ut(t,e,n,s,r,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nt[t]=new Ut(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Nt[e]=new Ut(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nt[t]=new Ut(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nt[t]=new Ut(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nt[t]=new Ut(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nt[t]=new Ut(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Nt[t]=new Ut(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Nt[t]=new Ut(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Nt[t]=new Ut(t,5,!1,t.toLowerCase(),null,!1,!1)});var lp=/[\-:]([a-z])/g;function cp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(lp,cp);Nt[e]=new Ut(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(lp,cp);Nt[e]=new Ut(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(lp,cp);Nt[e]=new Ut(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Nt[t]=new Ut(t,1,!1,t.toLowerCase(),null,!1,!1)});Nt.xlinkHref=new Ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Nt[t]=new Ut(t,1,!1,t.toLowerCase(),null,!0,!0)});function up(t,e,n,s){var r=Nt.hasOwnProperty(e)?Nt[e]:null;(r!==null?r.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(FE(e,n,r,s)&&(n=null),s||r===null?ME(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,s=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var Es=VE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dc=Symbol.for("react.element"),Mi=Symbol.for("react.portal"),Oi=Symbol.for("react.fragment"),dp=Symbol.for("react.strict_mode"),Tf=Symbol.for("react.profiler"),x1=Symbol.for("react.provider"),v1=Symbol.for("react.context"),hp=Symbol.for("react.forward_ref"),Ef=Symbol.for("react.suspense"),jf=Symbol.for("react.suspense_list"),fp=Symbol.for("react.memo"),$s=Symbol.for("react.lazy"),w1=Symbol.for("react.offscreen"),fx=Symbol.iterator;function ao(t){return t===null||typeof t!="object"?null:(t=fx&&t[fx]||t["@@iterator"],typeof t=="function"?t:null)}var qe=Object.assign,Eh;function yo(t){if(Eh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Eh=e&&e[1]||""}return`
`+Eh+t}var jh=!1;function kh(t,e){if(!t||jh)return"";jh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var s=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){s=d}t.call(e.prototype)}else{try{throw Error()}catch(d){s=d}t()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var r=d.stack.split(`
`),a=s.stack.split(`
`),o=r.length-1,l=a.length-1;1<=o&&0<=l&&r[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(r[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||r[o]!==a[l]){var u=`
`+r[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{jh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?yo(t):""}function UE(t){switch(t.tag){case 5:return yo(t.type);case 16:return yo("Lazy");case 13:return yo("Suspense");case 19:return yo("SuspenseList");case 0:case 2:case 15:return t=kh(t.type,!1),t;case 11:return t=kh(t.type.render,!1),t;case 1:return t=kh(t.type,!0),t;default:return""}}function kf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Oi:return"Fragment";case Mi:return"Portal";case Tf:return"Profiler";case dp:return"StrictMode";case Ef:return"Suspense";case jf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case v1:return(t.displayName||"Context")+".Consumer";case x1:return(t._context.displayName||"Context")+".Provider";case hp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fp:return e=t.displayName||null,e!==null?e:kf(t.type)||"Memo";case $s:e=t._payload,t=t._init;try{return kf(t(e))}catch{}}return null}function $E(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kf(e);case 8:return e===dp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function pr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function b1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function BE(t){var e=b1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){s=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function hc(t){t._valueTracker||(t._valueTracker=BE(t))}function _1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=b1(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function cu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function If(t,e){var n=e.checked;return qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function mx(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=pr(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function N1(t,e){e=e.checked,e!=null&&up(t,"checked",e,!1)}function Cf(t,e){N1(t,e);var n=pr(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Af(t,e.type,n):e.hasOwnProperty("defaultValue")&&Af(t,e.type,pr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function px(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Af(t,e,n){(e!=="number"||cu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var xo=Array.isArray;function Zi(t,e,n,s){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&s&&(t[n].defaultSelected=!0)}else{for(n=""+pr(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,s&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Pf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function gx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(G(92));if(xo(n)){if(1<n.length)throw Error(G(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:pr(n)}}function S1(t,e){var n=pr(e.value),s=pr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function yx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function T1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?T1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var fc,E1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(fc=fc||document.createElement("div"),fc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=fc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Qo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ko={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zE=["Webkit","ms","Moz","O"];Object.keys(ko).forEach(function(t){zE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ko[e]=ko[t]})});function j1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ko.hasOwnProperty(t)&&ko[t]?(""+e).trim():e+"px"}function k1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=j1(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,r):t[n]=r}}var HE=qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Df(t,e){if(e){if(HE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function Vf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lf=null;function mp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mf=null,ea=null,ta=null;function xx(t){if(t=kl(t)){if(typeof Mf!="function")throw Error(G(280));var e=t.stateNode;e&&(e=vd(e),Mf(t.stateNode,t.type,e))}}function I1(t){ea?ta?ta.push(t):ta=[t]:ea=t}function C1(){if(ea){var t=ea,e=ta;if(ta=ea=null,xx(t),e)for(t=0;t<e.length;t++)xx(e[t])}}function A1(t,e){return t(e)}function P1(){}var Ih=!1;function R1(t,e,n){if(Ih)return t(e,n);Ih=!0;try{return A1(t,e,n)}finally{Ih=!1,(ea!==null||ta!==null)&&(P1(),C1())}}function Yo(t,e){var n=t.stateNode;if(n===null)return null;var s=vd(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(G(231,e,typeof n));return n}var Of=!1;if(ys)try{var oo={};Object.defineProperty(oo,"passive",{get:function(){Of=!0}}),window.addEventListener("test",oo,oo),window.removeEventListener("test",oo,oo)}catch{Of=!1}function WE(t,e,n,s,r,a,o,l,u){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(f){this.onError(f)}}var Io=!1,uu=null,du=!1,Ff=null,qE={onError:function(t){Io=!0,uu=t}};function GE(t,e,n,s,r,a,o,l,u){Io=!1,uu=null,WE.apply(qE,arguments)}function KE(t,e,n,s,r,a,o,l,u){if(GE.apply(this,arguments),Io){if(Io){var d=uu;Io=!1,uu=null}else throw Error(G(198));du||(du=!0,Ff=d)}}function wi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function D1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vx(t){if(wi(t)!==t)throw Error(G(188))}function QE(t){var e=t.alternate;if(!e){if(e=wi(t),e===null)throw Error(G(188));return e!==t?null:t}for(var n=t,s=e;;){var r=n.return;if(r===null)break;var a=r.alternate;if(a===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return vx(r),t;if(a===s)return vx(r),e;a=a.sibling}throw Error(G(188))}if(n.return!==s.return)n=r,s=a;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,s=a;break}if(l===s){o=!0,s=r,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,s=r;break}if(l===s){o=!0,s=a,n=r;break}l=l.sibling}if(!o)throw Error(G(189))}}if(n.alternate!==s)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?t:e}function V1(t){return t=QE(t),t!==null?L1(t):null}function L1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=L1(t);if(e!==null)return e;t=t.sibling}return null}var M1=an.unstable_scheduleCallback,wx=an.unstable_cancelCallback,YE=an.unstable_shouldYield,JE=an.unstable_requestPaint,Ze=an.unstable_now,XE=an.unstable_getCurrentPriorityLevel,pp=an.unstable_ImmediatePriority,O1=an.unstable_UserBlockingPriority,hu=an.unstable_NormalPriority,ZE=an.unstable_LowPriority,F1=an.unstable_IdlePriority,pd=null,Wn=null;function ej(t){if(Wn&&typeof Wn.onCommitFiberRoot=="function")try{Wn.onCommitFiberRoot(pd,t,void 0,(t.current.flags&128)===128)}catch{}}var Cn=Math.clz32?Math.clz32:sj,tj=Math.log,nj=Math.LN2;function sj(t){return t>>>=0,t===0?32:31-(tj(t)/nj|0)|0}var mc=64,pc=4194304;function vo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fu(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,r=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~r;l!==0?s=vo(l):(a&=o,a!==0&&(s=vo(a)))}else o=n&~r,o!==0?s=vo(o):a!==0&&(s=vo(a));if(s===0)return 0;if(e!==0&&e!==s&&!(e&r)&&(r=s&-s,a=e&-e,r>=a||r===16&&(a&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-Cn(e),r=1<<n,s|=t[n],e&=~r;return s}function rj(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ij(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Cn(a),l=1<<o,u=r[o];u===-1?(!(l&n)||l&s)&&(r[o]=rj(l,e)):u<=e&&(t.expiredLanes|=l),a&=~l}}function Uf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function U1(){var t=mc;return mc<<=1,!(mc&4194240)&&(mc=64),t}function Ch(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function El(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Cn(e),t[e]=n}function aj(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Cn(n),a=1<<r;e[r]=0,s[r]=-1,t[r]=-1,n&=~a}}function gp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-Cn(n),r=1<<s;r&e|t[s]&e&&(t[s]|=e),n&=~r}}var ke=0;function $1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var B1,yp,z1,H1,W1,$f=!1,gc=[],Zs=null,er=null,tr=null,Jo=new Map,Xo=new Map,Hs=[],oj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bx(t,e){switch(t){case"focusin":case"focusout":Zs=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":Jo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xo.delete(e.pointerId)}}function lo(t,e,n,s,r,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[r]},e!==null&&(e=kl(e),e!==null&&yp(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function lj(t,e,n,s,r){switch(e){case"focusin":return Zs=lo(Zs,t,e,n,s,r),!0;case"dragenter":return er=lo(er,t,e,n,s,r),!0;case"mouseover":return tr=lo(tr,t,e,n,s,r),!0;case"pointerover":var a=r.pointerId;return Jo.set(a,lo(Jo.get(a)||null,t,e,n,s,r)),!0;case"gotpointercapture":return a=r.pointerId,Xo.set(a,lo(Xo.get(a)||null,t,e,n,s,r)),!0}return!1}function q1(t){var e=Qr(t.target);if(e!==null){var n=wi(e);if(n!==null){if(e=n.tag,e===13){if(e=D1(n),e!==null){t.blockedOn=e,W1(t.priority,function(){z1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Bf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);Lf=s,n.target.dispatchEvent(s),Lf=null}else return e=kl(n),e!==null&&yp(e),t.blockedOn=n,!1;e.shift()}return!0}function _x(t,e,n){Fc(t)&&n.delete(e)}function cj(){$f=!1,Zs!==null&&Fc(Zs)&&(Zs=null),er!==null&&Fc(er)&&(er=null),tr!==null&&Fc(tr)&&(tr=null),Jo.forEach(_x),Xo.forEach(_x)}function co(t,e){t.blockedOn===e&&(t.blockedOn=null,$f||($f=!0,an.unstable_scheduleCallback(an.unstable_NormalPriority,cj)))}function Zo(t){function e(r){return co(r,t)}if(0<gc.length){co(gc[0],t);for(var n=1;n<gc.length;n++){var s=gc[n];s.blockedOn===t&&(s.blockedOn=null)}}for(Zs!==null&&co(Zs,t),er!==null&&co(er,t),tr!==null&&co(tr,t),Jo.forEach(e),Xo.forEach(e),n=0;n<Hs.length;n++)s=Hs[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<Hs.length&&(n=Hs[0],n.blockedOn===null);)q1(n),n.blockedOn===null&&Hs.shift()}var na=Es.ReactCurrentBatchConfig,mu=!0;function uj(t,e,n,s){var r=ke,a=na.transition;na.transition=null;try{ke=1,xp(t,e,n,s)}finally{ke=r,na.transition=a}}function dj(t,e,n,s){var r=ke,a=na.transition;na.transition=null;try{ke=4,xp(t,e,n,s)}finally{ke=r,na.transition=a}}function xp(t,e,n,s){if(mu){var r=Bf(t,e,n,s);if(r===null)Uh(t,e,s,pu,n),bx(t,s);else if(lj(r,t,e,n,s))s.stopPropagation();else if(bx(t,s),e&4&&-1<oj.indexOf(t)){for(;r!==null;){var a=kl(r);if(a!==null&&B1(a),a=Bf(t,e,n,s),a===null&&Uh(t,e,s,pu,n),a===r)break;r=a}r!==null&&s.stopPropagation()}else Uh(t,e,s,null,n)}}var pu=null;function Bf(t,e,n,s){if(pu=null,t=mp(s),t=Qr(t),t!==null)if(e=wi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=D1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return pu=t,null}function G1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XE()){case pp:return 1;case O1:return 4;case hu:case ZE:return 16;case F1:return 536870912;default:return 16}default:return 16}}var Ys=null,vp=null,Uc=null;function K1(){if(Uc)return Uc;var t,e=vp,n=e.length,s,r="value"in Ys?Ys.value:Ys.textContent,a=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(s=1;s<=o&&e[n-s]===r[a-s];s++);return Uc=r.slice(t,1<s?1-s:void 0)}function $c(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function yc(){return!0}function Nx(){return!1}function cn(t){function e(n,s,r,a,o){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?yc:Nx,this.isPropagationStopped=Nx,this}return qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yc)},persist:function(){},isPersistent:yc}),e}var Pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wp=cn(Pa),jl=qe({},Pa,{view:0,detail:0}),hj=cn(jl),Ah,Ph,uo,gd=qe({},jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==uo&&(uo&&t.type==="mousemove"?(Ah=t.screenX-uo.screenX,Ph=t.screenY-uo.screenY):Ph=Ah=0,uo=t),Ah)},movementY:function(t){return"movementY"in t?t.movementY:Ph}}),Sx=cn(gd),fj=qe({},gd,{dataTransfer:0}),mj=cn(fj),pj=qe({},jl,{relatedTarget:0}),Rh=cn(pj),gj=qe({},Pa,{animationName:0,elapsedTime:0,pseudoElement:0}),yj=cn(gj),xj=qe({},Pa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vj=cn(xj),wj=qe({},Pa,{data:0}),Tx=cn(wj),bj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_j={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Nj[t])?!!e[t]:!1}function bp(){return Sj}var Tj=qe({},jl,{key:function(t){if(t.key){var e=bj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$c(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_j[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bp,charCode:function(t){return t.type==="keypress"?$c(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$c(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ej=cn(Tj),jj=qe({},gd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ex=cn(jj),kj=qe({},jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bp}),Ij=cn(kj),Cj=qe({},Pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Aj=cn(Cj),Pj=qe({},gd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Rj=cn(Pj),Dj=[9,13,27,32],_p=ys&&"CompositionEvent"in window,Co=null;ys&&"documentMode"in document&&(Co=document.documentMode);var Vj=ys&&"TextEvent"in window&&!Co,Q1=ys&&(!_p||Co&&8<Co&&11>=Co),jx=" ",kx=!1;function Y1(t,e){switch(t){case"keyup":return Dj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fi=!1;function Lj(t,e){switch(t){case"compositionend":return J1(e);case"keypress":return e.which!==32?null:(kx=!0,jx);case"textInput":return t=e.data,t===jx&&kx?null:t;default:return null}}function Mj(t,e){if(Fi)return t==="compositionend"||!_p&&Y1(t,e)?(t=K1(),Uc=vp=Ys=null,Fi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Q1&&e.locale!=="ko"?null:e.data;default:return null}}var Oj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ix(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Oj[t.type]:e==="textarea"}function X1(t,e,n,s){I1(s),e=gu(e,"onChange"),0<e.length&&(n=new wp("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var Ao=null,el=null;function Fj(t){cb(t,0)}function yd(t){var e=Bi(t);if(_1(e))return t}function Uj(t,e){if(t==="change")return e}var Z1=!1;if(ys){var Dh;if(ys){var Vh="oninput"in document;if(!Vh){var Cx=document.createElement("div");Cx.setAttribute("oninput","return;"),Vh=typeof Cx.oninput=="function"}Dh=Vh}else Dh=!1;Z1=Dh&&(!document.documentMode||9<document.documentMode)}function Ax(){Ao&&(Ao.detachEvent("onpropertychange",eb),el=Ao=null)}function eb(t){if(t.propertyName==="value"&&yd(el)){var e=[];X1(e,el,t,mp(t)),R1(Fj,e)}}function $j(t,e,n){t==="focusin"?(Ax(),Ao=e,el=n,Ao.attachEvent("onpropertychange",eb)):t==="focusout"&&Ax()}function Bj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yd(el)}function zj(t,e){if(t==="click")return yd(e)}function Hj(t,e){if(t==="input"||t==="change")return yd(e)}function Wj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dn=typeof Object.is=="function"?Object.is:Wj;function tl(t,e){if(Dn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!Sf.call(e,r)||!Dn(t[r],e[r]))return!1}return!0}function Px(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rx(t,e){var n=Px(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Px(n)}}function tb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?tb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function nb(){for(var t=window,e=cu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=cu(t.document)}return e}function Np(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function qj(t){var e=nb(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&tb(n.ownerDocument.documentElement,n)){if(s!==null&&Np(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,a=Math.min(s.start,r);s=s.end===void 0?a:Math.min(s.end,r),!t.extend&&a>s&&(r=s,s=a,a=r),r=Rx(n,a);var o=Rx(n,s);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),a>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Gj=ys&&"documentMode"in document&&11>=document.documentMode,Ui=null,zf=null,Po=null,Hf=!1;function Dx(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hf||Ui==null||Ui!==cu(s)||(s=Ui,"selectionStart"in s&&Np(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Po&&tl(Po,s)||(Po=s,s=gu(zf,"onSelect"),0<s.length&&(e=new wp("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=Ui)))}function xc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $i={animationend:xc("Animation","AnimationEnd"),animationiteration:xc("Animation","AnimationIteration"),animationstart:xc("Animation","AnimationStart"),transitionend:xc("Transition","TransitionEnd")},Lh={},sb={};ys&&(sb=document.createElement("div").style,"AnimationEvent"in window||(delete $i.animationend.animation,delete $i.animationiteration.animation,delete $i.animationstart.animation),"TransitionEvent"in window||delete $i.transitionend.transition);function xd(t){if(Lh[t])return Lh[t];if(!$i[t])return t;var e=$i[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in sb)return Lh[t]=e[n];return t}var rb=xd("animationend"),ib=xd("animationiteration"),ab=xd("animationstart"),ob=xd("transitionend"),lb=new Map,Vx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(t,e){lb.set(t,e),vi(e,[t])}for(var Mh=0;Mh<Vx.length;Mh++){var Oh=Vx[Mh],Kj=Oh.toLowerCase(),Qj=Oh[0].toUpperCase()+Oh.slice(1);jr(Kj,"on"+Qj)}jr(rb,"onAnimationEnd");jr(ib,"onAnimationIteration");jr(ab,"onAnimationStart");jr("dblclick","onDoubleClick");jr("focusin","onFocus");jr("focusout","onBlur");jr(ob,"onTransitionEnd");da("onMouseEnter",["mouseout","mouseover"]);da("onMouseLeave",["mouseout","mouseover"]);da("onPointerEnter",["pointerout","pointerover"]);da("onPointerLeave",["pointerout","pointerover"]);vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vi("onBeforeInput",["compositionend","keypress","textInput","paste"]);vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yj=new Set("cancel close invalid load scroll toggle".split(" ").concat(wo));function Lx(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,KE(s,e,void 0,t),t.currentTarget=null}function cb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],r=s.event;s=s.listeners;e:{var a=void 0;if(e)for(var o=s.length-1;0<=o;o--){var l=s[o],u=l.instance,d=l.currentTarget;if(l=l.listener,u!==a&&r.isPropagationStopped())break e;Lx(r,l,d),a=u}else for(o=0;o<s.length;o++){if(l=s[o],u=l.instance,d=l.currentTarget,l=l.listener,u!==a&&r.isPropagationStopped())break e;Lx(r,l,d),a=u}}}if(du)throw t=Ff,du=!1,Ff=null,t}function Oe(t,e){var n=e[Qf];n===void 0&&(n=e[Qf]=new Set);var s=t+"__bubble";n.has(s)||(ub(e,t,2,!1),n.add(s))}function Fh(t,e,n){var s=0;e&&(s|=4),ub(n,t,s,e)}var vc="_reactListening"+Math.random().toString(36).slice(2);function nl(t){if(!t[vc]){t[vc]=!0,y1.forEach(function(n){n!=="selectionchange"&&(Yj.has(n)||Fh(n,!1,t),Fh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[vc]||(e[vc]=!0,Fh("selectionchange",!1,e))}}function ub(t,e,n,s){switch(G1(e)){case 1:var r=uj;break;case 4:r=dj;break;default:r=xp}n=r.bind(null,e,n,t),r=void 0,!Of||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Uh(t,e,n,s,r){var a=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(o===4)for(o=s.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===r||u.nodeType===8&&u.parentNode===r))return;o=o.return}for(;l!==null;){if(o=Qr(l),o===null)return;if(u=o.tag,u===5||u===6){s=a=o;continue e}l=l.parentNode}}s=s.return}R1(function(){var d=a,f=mp(n),h=[];e:{var p=lb.get(t);if(p!==void 0){var x=wp,S=t;switch(t){case"keypress":if($c(n)===0)break e;case"keydown":case"keyup":x=Ej;break;case"focusin":S="focus",x=Rh;break;case"focusout":S="blur",x=Rh;break;case"beforeblur":case"afterblur":x=Rh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Sx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=mj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Ij;break;case rb:case ib:case ab:x=yj;break;case ob:x=Aj;break;case"scroll":x=hj;break;case"wheel":x=Rj;break;case"copy":case"cut":case"paste":x=vj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Ex}var _=(e&4)!==0,I=!_&&t==="scroll",T=_?p!==null?p+"Capture":null:p;_=[];for(var v=d,b;v!==null;){b=v;var D=b.stateNode;if(b.tag===5&&D!==null&&(b=D,T!==null&&(D=Yo(v,T),D!=null&&_.push(sl(v,D,b)))),I)break;v=v.return}0<_.length&&(p=new x(p,S,null,n,f),h.push({event:p,listeners:_}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",p&&n!==Lf&&(S=n.relatedTarget||n.fromElement)&&(Qr(S)||S[xs]))break e;if((x||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,x?(S=n.relatedTarget||n.toElement,x=d,S=S?Qr(S):null,S!==null&&(I=wi(S),S!==I||S.tag!==5&&S.tag!==6)&&(S=null)):(x=null,S=d),x!==S)){if(_=Sx,D="onMouseLeave",T="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(_=Ex,D="onPointerLeave",T="onPointerEnter",v="pointer"),I=x==null?p:Bi(x),b=S==null?p:Bi(S),p=new _(D,v+"leave",x,n,f),p.target=I,p.relatedTarget=b,D=null,Qr(f)===d&&(_=new _(T,v+"enter",S,n,f),_.target=b,_.relatedTarget=I,D=_),I=D,x&&S)t:{for(_=x,T=S,v=0,b=_;b;b=Pi(b))v++;for(b=0,D=T;D;D=Pi(D))b++;for(;0<v-b;)_=Pi(_),v--;for(;0<b-v;)T=Pi(T),b--;for(;v--;){if(_===T||T!==null&&_===T.alternate)break t;_=Pi(_),T=Pi(T)}_=null}else _=null;x!==null&&Mx(h,p,x,_,!1),S!==null&&I!==null&&Mx(h,I,S,_,!0)}}e:{if(p=d?Bi(d):window,x=p.nodeName&&p.nodeName.toLowerCase(),x==="select"||x==="input"&&p.type==="file")var L=Uj;else if(Ix(p))if(Z1)L=Hj;else{L=Bj;var U=$j}else(x=p.nodeName)&&x.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(L=zj);if(L&&(L=L(t,d))){X1(h,L,n,f);break e}U&&U(t,p,d),t==="focusout"&&(U=p._wrapperState)&&U.controlled&&p.type==="number"&&Af(p,"number",p.value)}switch(U=d?Bi(d):window,t){case"focusin":(Ix(U)||U.contentEditable==="true")&&(Ui=U,zf=d,Po=null);break;case"focusout":Po=zf=Ui=null;break;case"mousedown":Hf=!0;break;case"contextmenu":case"mouseup":case"dragend":Hf=!1,Dx(h,n,f);break;case"selectionchange":if(Gj)break;case"keydown":case"keyup":Dx(h,n,f)}var k;if(_p)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Fi?Y1(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Q1&&n.locale!=="ko"&&(Fi||N!=="onCompositionStart"?N==="onCompositionEnd"&&Fi&&(k=K1()):(Ys=f,vp="value"in Ys?Ys.value:Ys.textContent,Fi=!0)),U=gu(d,N),0<U.length&&(N=new Tx(N,t,null,n,f),h.push({event:N,listeners:U}),k?N.data=k:(k=J1(n),k!==null&&(N.data=k)))),(k=Vj?Lj(t,n):Mj(t,n))&&(d=gu(d,"onBeforeInput"),0<d.length&&(f=new Tx("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:d}),f.data=k))}cb(h,e)})}function sl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function gu(t,e){for(var n=e+"Capture",s=[];t!==null;){var r=t,a=r.stateNode;r.tag===5&&a!==null&&(r=a,a=Yo(t,n),a!=null&&s.unshift(sl(t,a,r)),a=Yo(t,e),a!=null&&s.push(sl(t,a,r))),t=t.return}return s}function Pi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Mx(t,e,n,s,r){for(var a=e._reactName,o=[];n!==null&&n!==s;){var l=n,u=l.alternate,d=l.stateNode;if(u!==null&&u===s)break;l.tag===5&&d!==null&&(l=d,r?(u=Yo(n,a),u!=null&&o.unshift(sl(n,u,l))):r||(u=Yo(n,a),u!=null&&o.push(sl(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Jj=/\r\n?/g,Xj=/\u0000|\uFFFD/g;function Ox(t){return(typeof t=="string"?t:""+t).replace(Jj,`
`).replace(Xj,"")}function wc(t,e,n){if(e=Ox(e),Ox(t)!==e&&n)throw Error(G(425))}function yu(){}var Wf=null,qf=null;function Gf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Kf=typeof setTimeout=="function"?setTimeout:void 0,Zj=typeof clearTimeout=="function"?clearTimeout:void 0,Fx=typeof Promise=="function"?Promise:void 0,ek=typeof queueMicrotask=="function"?queueMicrotask:typeof Fx<"u"?function(t){return Fx.resolve(null).then(t).catch(tk)}:Kf;function tk(t){setTimeout(function(){throw t})}function $h(t,e){var n=e,s=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){t.removeChild(r),Zo(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);Zo(e)}function nr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ux(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ra=Math.random().toString(36).slice(2),Hn="__reactFiber$"+Ra,rl="__reactProps$"+Ra,xs="__reactContainer$"+Ra,Qf="__reactEvents$"+Ra,nk="__reactListeners$"+Ra,sk="__reactHandles$"+Ra;function Qr(t){var e=t[Hn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[xs]||n[Hn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ux(t);t!==null;){if(n=t[Hn])return n;t=Ux(t)}return e}t=n,n=t.parentNode}return null}function kl(t){return t=t[Hn]||t[xs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Bi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function vd(t){return t[rl]||null}var Yf=[],zi=-1;function kr(t){return{current:t}}function $e(t){0>zi||(t.current=Yf[zi],Yf[zi]=null,zi--)}function Ve(t,e){zi++,Yf[zi]=t.current,t.current=e}var gr={},Rt=kr(gr),qt=kr(!1),li=gr;function ha(t,e){var n=t.type.contextTypes;if(!n)return gr;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var r={},a;for(a in n)r[a]=e[a];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Gt(t){return t=t.childContextTypes,t!=null}function xu(){$e(qt),$e(Rt)}function $x(t,e,n){if(Rt.current!==gr)throw Error(G(168));Ve(Rt,e),Ve(qt,n)}function db(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in e))throw Error(G(108,$E(t)||"Unknown",r));return qe({},n,s)}function vu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||gr,li=Rt.current,Ve(Rt,t),Ve(qt,qt.current),!0}function Bx(t,e,n){var s=t.stateNode;if(!s)throw Error(G(169));n?(t=db(t,e,li),s.__reactInternalMemoizedMergedChildContext=t,$e(qt),$e(Rt),Ve(Rt,t)):$e(qt),Ve(qt,n)}var ss=null,wd=!1,Bh=!1;function hb(t){ss===null?ss=[t]:ss.push(t)}function rk(t){wd=!0,hb(t)}function Ir(){if(!Bh&&ss!==null){Bh=!0;var t=0,e=ke;try{var n=ss;for(ke=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}ss=null,wd=!1}catch(r){throw ss!==null&&(ss=ss.slice(t+1)),M1(pp,Ir),r}finally{ke=e,Bh=!1}}return null}var Hi=[],Wi=0,wu=null,bu=0,fn=[],mn=0,ci=null,as=1,os="";function zr(t,e){Hi[Wi++]=bu,Hi[Wi++]=wu,wu=t,bu=e}function fb(t,e,n){fn[mn++]=as,fn[mn++]=os,fn[mn++]=ci,ci=t;var s=as;t=os;var r=32-Cn(s)-1;s&=~(1<<r),n+=1;var a=32-Cn(e)+r;if(30<a){var o=r-r%5;a=(s&(1<<o)-1).toString(32),s>>=o,r-=o,as=1<<32-Cn(e)+r|n<<r|s,os=a+t}else as=1<<a|n<<r|s,os=t}function Sp(t){t.return!==null&&(zr(t,1),fb(t,1,0))}function Tp(t){for(;t===wu;)wu=Hi[--Wi],Hi[Wi]=null,bu=Hi[--Wi],Hi[Wi]=null;for(;t===ci;)ci=fn[--mn],fn[mn]=null,os=fn[--mn],fn[mn]=null,as=fn[--mn],fn[mn]=null}var sn=null,en=null,Be=!1,jn=null;function mb(t,e){var n=gn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function zx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,sn=t,en=nr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,sn=t,en=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ci!==null?{id:as,overflow:os}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=gn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,sn=t,en=null,!0):!1;default:return!1}}function Jf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xf(t){if(Be){var e=en;if(e){var n=e;if(!zx(t,e)){if(Jf(t))throw Error(G(418));e=nr(n.nextSibling);var s=sn;e&&zx(t,e)?mb(s,n):(t.flags=t.flags&-4097|2,Be=!1,sn=t)}}else{if(Jf(t))throw Error(G(418));t.flags=t.flags&-4097|2,Be=!1,sn=t}}}function Hx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;sn=t}function bc(t){if(t!==sn)return!1;if(!Be)return Hx(t),Be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Gf(t.type,t.memoizedProps)),e&&(e=en)){if(Jf(t))throw pb(),Error(G(418));for(;e;)mb(t,e),e=nr(e.nextSibling)}if(Hx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){en=nr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}en=null}}else en=sn?nr(t.stateNode.nextSibling):null;return!0}function pb(){for(var t=en;t;)t=nr(t.nextSibling)}function fa(){en=sn=null,Be=!1}function Ep(t){jn===null?jn=[t]:jn.push(t)}var ik=Es.ReactCurrentBatchConfig;function ho(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var s=n.stateNode}if(!s)throw Error(G(147,t));var r=s,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=r.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,t))}return t}function _c(t,e){throw t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Wx(t){var e=t._init;return e(t._payload)}function gb(t){function e(T,v){if(t){var b=T.deletions;b===null?(T.deletions=[v],T.flags|=16):b.push(v)}}function n(T,v){if(!t)return null;for(;v!==null;)e(T,v),v=v.sibling;return null}function s(T,v){for(T=new Map;v!==null;)v.key!==null?T.set(v.key,v):T.set(v.index,v),v=v.sibling;return T}function r(T,v){return T=ar(T,v),T.index=0,T.sibling=null,T}function a(T,v,b){return T.index=b,t?(b=T.alternate,b!==null?(b=b.index,b<v?(T.flags|=2,v):b):(T.flags|=2,v)):(T.flags|=1048576,v)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function l(T,v,b,D){return v===null||v.tag!==6?(v=Qh(b,T.mode,D),v.return=T,v):(v=r(v,b),v.return=T,v)}function u(T,v,b,D){var L=b.type;return L===Oi?f(T,v,b.props.children,D,b.key):v!==null&&(v.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===$s&&Wx(L)===v.type)?(D=r(v,b.props),D.ref=ho(T,v,b),D.return=T,D):(D=Kc(b.type,b.key,b.props,null,T.mode,D),D.ref=ho(T,v,b),D.return=T,D)}function d(T,v,b,D){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=Yh(b,T.mode,D),v.return=T,v):(v=r(v,b.children||[]),v.return=T,v)}function f(T,v,b,D,L){return v===null||v.tag!==7?(v=ni(b,T.mode,D,L),v.return=T,v):(v=r(v,b),v.return=T,v)}function h(T,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Qh(""+v,T.mode,b),v.return=T,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case dc:return b=Kc(v.type,v.key,v.props,null,T.mode,b),b.ref=ho(T,null,v),b.return=T,b;case Mi:return v=Yh(v,T.mode,b),v.return=T,v;case $s:var D=v._init;return h(T,D(v._payload),b)}if(xo(v)||ao(v))return v=ni(v,T.mode,b,null),v.return=T,v;_c(T,v)}return null}function p(T,v,b,D){var L=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return L!==null?null:l(T,v,""+b,D);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case dc:return b.key===L?u(T,v,b,D):null;case Mi:return b.key===L?d(T,v,b,D):null;case $s:return L=b._init,p(T,v,L(b._payload),D)}if(xo(b)||ao(b))return L!==null?null:f(T,v,b,D,null);_c(T,b)}return null}function x(T,v,b,D,L){if(typeof D=="string"&&D!==""||typeof D=="number")return T=T.get(b)||null,l(v,T,""+D,L);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case dc:return T=T.get(D.key===null?b:D.key)||null,u(v,T,D,L);case Mi:return T=T.get(D.key===null?b:D.key)||null,d(v,T,D,L);case $s:var U=D._init;return x(T,v,b,U(D._payload),L)}if(xo(D)||ao(D))return T=T.get(b)||null,f(v,T,D,L,null);_c(v,D)}return null}function S(T,v,b,D){for(var L=null,U=null,k=v,N=v=0,E=null;k!==null&&N<b.length;N++){k.index>N?(E=k,k=null):E=k.sibling;var C=p(T,k,b[N],D);if(C===null){k===null&&(k=E);break}t&&k&&C.alternate===null&&e(T,k),v=a(C,v,N),U===null?L=C:U.sibling=C,U=C,k=E}if(N===b.length)return n(T,k),Be&&zr(T,N),L;if(k===null){for(;N<b.length;N++)k=h(T,b[N],D),k!==null&&(v=a(k,v,N),U===null?L=k:U.sibling=k,U=k);return Be&&zr(T,N),L}for(k=s(T,k);N<b.length;N++)E=x(k,T,N,b[N],D),E!==null&&(t&&E.alternate!==null&&k.delete(E.key===null?N:E.key),v=a(E,v,N),U===null?L=E:U.sibling=E,U=E);return t&&k.forEach(function(P){return e(T,P)}),Be&&zr(T,N),L}function _(T,v,b,D){var L=ao(b);if(typeof L!="function")throw Error(G(150));if(b=L.call(b),b==null)throw Error(G(151));for(var U=L=null,k=v,N=v=0,E=null,C=b.next();k!==null&&!C.done;N++,C=b.next()){k.index>N?(E=k,k=null):E=k.sibling;var P=p(T,k,C.value,D);if(P===null){k===null&&(k=E);break}t&&k&&P.alternate===null&&e(T,k),v=a(P,v,N),U===null?L=P:U.sibling=P,U=P,k=E}if(C.done)return n(T,k),Be&&zr(T,N),L;if(k===null){for(;!C.done;N++,C=b.next())C=h(T,C.value,D),C!==null&&(v=a(C,v,N),U===null?L=C:U.sibling=C,U=C);return Be&&zr(T,N),L}for(k=s(T,k);!C.done;N++,C=b.next())C=x(k,T,N,C.value,D),C!==null&&(t&&C.alternate!==null&&k.delete(C.key===null?N:C.key),v=a(C,v,N),U===null?L=C:U.sibling=C,U=C);return t&&k.forEach(function(V){return e(T,V)}),Be&&zr(T,N),L}function I(T,v,b,D){if(typeof b=="object"&&b!==null&&b.type===Oi&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case dc:e:{for(var L=b.key,U=v;U!==null;){if(U.key===L){if(L=b.type,L===Oi){if(U.tag===7){n(T,U.sibling),v=r(U,b.props.children),v.return=T,T=v;break e}}else if(U.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===$s&&Wx(L)===U.type){n(T,U.sibling),v=r(U,b.props),v.ref=ho(T,U,b),v.return=T,T=v;break e}n(T,U);break}else e(T,U);U=U.sibling}b.type===Oi?(v=ni(b.props.children,T.mode,D,b.key),v.return=T,T=v):(D=Kc(b.type,b.key,b.props,null,T.mode,D),D.ref=ho(T,v,b),D.return=T,T=D)}return o(T);case Mi:e:{for(U=b.key;v!==null;){if(v.key===U)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(T,v.sibling),v=r(v,b.children||[]),v.return=T,T=v;break e}else{n(T,v);break}else e(T,v);v=v.sibling}v=Yh(b,T.mode,D),v.return=T,T=v}return o(T);case $s:return U=b._init,I(T,v,U(b._payload),D)}if(xo(b))return S(T,v,b,D);if(ao(b))return _(T,v,b,D);_c(T,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(T,v.sibling),v=r(v,b),v.return=T,T=v):(n(T,v),v=Qh(b,T.mode,D),v.return=T,T=v),o(T)):n(T,v)}return I}var ma=gb(!0),yb=gb(!1),_u=kr(null),Nu=null,qi=null,jp=null;function kp(){jp=qi=Nu=null}function Ip(t){var e=_u.current;$e(_u),t._currentValue=e}function Zf(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function sa(t,e){Nu=t,jp=qi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Wt=!0),t.firstContext=null)}function vn(t){var e=t._currentValue;if(jp!==t)if(t={context:t,memoizedValue:e,next:null},qi===null){if(Nu===null)throw Error(G(308));qi=t,Nu.dependencies={lanes:0,firstContext:t}}else qi=qi.next=t;return e}var Yr=null;function Cp(t){Yr===null?Yr=[t]:Yr.push(t)}function xb(t,e,n,s){var r=e.interleaved;return r===null?(n.next=n,Cp(e)):(n.next=r.next,r.next=n),e.interleaved=n,vs(t,s)}function vs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Bs=!1;function Ap(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ds(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function sr(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,Ne&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,vs(t,n)}return r=s.interleaved,r===null?(e.next=e,Cp(s)):(e.next=r.next,r.next=e),s.interleaved=e,vs(t,n)}function Bc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,gp(t,n)}}function qx(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?r=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?r=a=e:a=a.next=e}else r=a=e;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Su(t,e,n,s){var r=t.updateQueue;Bs=!1;var a=r.firstBaseUpdate,o=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var u=l,d=u.next;u.next=null,o===null?a=d:o.next=d,o=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=d:l.next=d,f.lastBaseUpdate=u))}if(a!==null){var h=r.baseState;o=0,f=d=u=null,l=a;do{var p=l.lane,x=l.eventTime;if((s&p)===p){f!==null&&(f=f.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var S=t,_=l;switch(p=e,x=n,_.tag){case 1:if(S=_.payload,typeof S=="function"){h=S.call(x,h,p);break e}h=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=_.payload,p=typeof S=="function"?S.call(x,h,p):S,p==null)break e;h=qe({},h,p);break e;case 2:Bs=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=r.effects,p===null?r.effects=[l]:p.push(l))}else x={eventTime:x,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(d=f=x,u=h):f=f.next=x,o|=p;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;p=l,l=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(f===null&&(u=h),r.baseState=u,r.firstBaseUpdate=d,r.lastBaseUpdate=f,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else a===null&&(r.shared.lanes=0);di|=o,t.lanes=o,t.memoizedState=h}}function Gx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(G(191,r));r.call(s)}}}var Il={},qn=kr(Il),il=kr(Il),al=kr(Il);function Jr(t){if(t===Il)throw Error(G(174));return t}function Pp(t,e){switch(Ve(al,e),Ve(il,t),Ve(qn,Il),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Rf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Rf(e,t)}$e(qn),Ve(qn,e)}function pa(){$e(qn),$e(il),$e(al)}function wb(t){Jr(al.current);var e=Jr(qn.current),n=Rf(e,t.type);e!==n&&(Ve(il,t),Ve(qn,n))}function Rp(t){il.current===t&&($e(qn),$e(il))}var ze=kr(0);function Tu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zh=[];function Dp(){for(var t=0;t<zh.length;t++)zh[t]._workInProgressVersionPrimary=null;zh.length=0}var zc=Es.ReactCurrentDispatcher,Hh=Es.ReactCurrentBatchConfig,ui=0,We=null,ut=null,pt=null,Eu=!1,Ro=!1,ol=0,ak=0;function Tt(){throw Error(G(321))}function Vp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Dn(t[n],e[n]))return!1;return!0}function Lp(t,e,n,s,r,a){if(ui=a,We=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zc.current=t===null||t.memoizedState===null?uk:dk,t=n(s,r),Ro){a=0;do{if(Ro=!1,ol=0,25<=a)throw Error(G(301));a+=1,pt=ut=null,e.updateQueue=null,zc.current=hk,t=n(s,r)}while(Ro)}if(zc.current=ju,e=ut!==null&&ut.next!==null,ui=0,pt=ut=We=null,Eu=!1,e)throw Error(G(300));return t}function Mp(){var t=ol!==0;return ol=0,t}function Bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?We.memoizedState=pt=t:pt=pt.next=t,pt}function wn(){if(ut===null){var t=We.alternate;t=t!==null?t.memoizedState:null}else t=ut.next;var e=pt===null?We.memoizedState:pt.next;if(e!==null)pt=e,ut=t;else{if(t===null)throw Error(G(310));ut=t,t={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},pt===null?We.memoizedState=pt=t:pt=pt.next=t}return pt}function ll(t,e){return typeof e=="function"?e(t):e}function Wh(t){var e=wn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var s=ut,r=s.baseQueue,a=n.pending;if(a!==null){if(r!==null){var o=r.next;r.next=a.next,a.next=o}s.baseQueue=r=a,n.pending=null}if(r!==null){a=r.next,s=s.baseState;var l=o=null,u=null,d=a;do{var f=d.lane;if((ui&f)===f)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:t(s,d.action);else{var h={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(l=u=h,o=s):u=u.next=h,We.lanes|=f,di|=f}d=d.next}while(d!==null&&d!==a);u===null?o=s:u.next=l,Dn(s,e.memoizedState)||(Wt=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=u,n.lastRenderedState=s}if(t=n.interleaved,t!==null){r=t;do a=r.lane,We.lanes|=a,di|=a,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function qh(t){var e=wn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var s=n.dispatch,r=n.pending,a=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do a=t(a,o.action),o=o.next;while(o!==r);Dn(a,e.memoizedState)||(Wt=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,s]}function bb(){}function _b(t,e){var n=We,s=wn(),r=e(),a=!Dn(s.memoizedState,r);if(a&&(s.memoizedState=r,Wt=!0),s=s.queue,Op(Tb.bind(null,n,s,t),[t]),s.getSnapshot!==e||a||pt!==null&&pt.memoizedState.tag&1){if(n.flags|=2048,cl(9,Sb.bind(null,n,s,r,e),void 0,null),yt===null)throw Error(G(349));ui&30||Nb(n,e,r)}return r}function Nb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Sb(t,e,n,s){e.value=n,e.getSnapshot=s,Eb(e)&&jb(t)}function Tb(t,e,n){return n(function(){Eb(e)&&jb(t)})}function Eb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Dn(t,n)}catch{return!0}}function jb(t){var e=vs(t,1);e!==null&&An(e,t,1,-1)}function Kx(t){var e=Bn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ll,lastRenderedState:t},e.queue=t,t=t.dispatch=ck.bind(null,We,t),[e.memoizedState,t]}function cl(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function kb(){return wn().memoizedState}function Hc(t,e,n,s){var r=Bn();We.flags|=t,r.memoizedState=cl(1|e,n,void 0,s===void 0?null:s)}function bd(t,e,n,s){var r=wn();s=s===void 0?null:s;var a=void 0;if(ut!==null){var o=ut.memoizedState;if(a=o.destroy,s!==null&&Vp(s,o.deps)){r.memoizedState=cl(e,n,a,s);return}}We.flags|=t,r.memoizedState=cl(1|e,n,a,s)}function Qx(t,e){return Hc(8390656,8,t,e)}function Op(t,e){return bd(2048,8,t,e)}function Ib(t,e){return bd(4,2,t,e)}function Cb(t,e){return bd(4,4,t,e)}function Ab(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Pb(t,e,n){return n=n!=null?n.concat([t]):null,bd(4,4,Ab.bind(null,e,t),n)}function Fp(){}function Rb(t,e){var n=wn();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Vp(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function Db(t,e){var n=wn();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Vp(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function Vb(t,e,n){return ui&21?(Dn(n,e)||(n=U1(),We.lanes|=n,di|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Wt=!0),t.memoizedState=n)}function ok(t,e){var n=ke;ke=n!==0&&4>n?n:4,t(!0);var s=Hh.transition;Hh.transition={};try{t(!1),e()}finally{ke=n,Hh.transition=s}}function Lb(){return wn().memoizedState}function lk(t,e,n){var s=ir(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Mb(t))Ob(e,n);else if(n=xb(t,e,n,s),n!==null){var r=Ot();An(n,t,s,r),Fb(n,e,s)}}function ck(t,e,n){var s=ir(t),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Mb(t))Ob(e,r);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,n);if(r.hasEagerState=!0,r.eagerState=l,Dn(l,o)){var u=e.interleaved;u===null?(r.next=r,Cp(e)):(r.next=u.next,u.next=r),e.interleaved=r;return}}catch{}finally{}n=xb(t,e,r,s),n!==null&&(r=Ot(),An(n,t,s,r),Fb(n,e,s))}}function Mb(t){var e=t.alternate;return t===We||e!==null&&e===We}function Ob(t,e){Ro=Eu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Fb(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,gp(t,n)}}var ju={readContext:vn,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},uk={readContext:vn,useCallback:function(t,e){return Bn().memoizedState=[t,e===void 0?null:e],t},useContext:vn,useEffect:Qx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Hc(4194308,4,Ab.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Hc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Hc(4,2,t,e)},useMemo:function(t,e){var n=Bn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=Bn();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=lk.bind(null,We,t),[s.memoizedState,t]},useRef:function(t){var e=Bn();return t={current:t},e.memoizedState=t},useState:Kx,useDebugValue:Fp,useDeferredValue:function(t){return Bn().memoizedState=t},useTransition:function(){var t=Kx(!1),e=t[0];return t=ok.bind(null,t[1]),Bn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=We,r=Bn();if(Be){if(n===void 0)throw Error(G(407));n=n()}else{if(n=e(),yt===null)throw Error(G(349));ui&30||Nb(s,e,n)}r.memoizedState=n;var a={value:n,getSnapshot:e};return r.queue=a,Qx(Tb.bind(null,s,a,t),[t]),s.flags|=2048,cl(9,Sb.bind(null,s,a,n,e),void 0,null),n},useId:function(){var t=Bn(),e=yt.identifierPrefix;if(Be){var n=os,s=as;n=(s&~(1<<32-Cn(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=ol++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ak++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},dk={readContext:vn,useCallback:Rb,useContext:vn,useEffect:Op,useImperativeHandle:Pb,useInsertionEffect:Ib,useLayoutEffect:Cb,useMemo:Db,useReducer:Wh,useRef:kb,useState:function(){return Wh(ll)},useDebugValue:Fp,useDeferredValue:function(t){var e=wn();return Vb(e,ut.memoizedState,t)},useTransition:function(){var t=Wh(ll)[0],e=wn().memoizedState;return[t,e]},useMutableSource:bb,useSyncExternalStore:_b,useId:Lb,unstable_isNewReconciler:!1},hk={readContext:vn,useCallback:Rb,useContext:vn,useEffect:Op,useImperativeHandle:Pb,useInsertionEffect:Ib,useLayoutEffect:Cb,useMemo:Db,useReducer:qh,useRef:kb,useState:function(){return qh(ll)},useDebugValue:Fp,useDeferredValue:function(t){var e=wn();return ut===null?e.memoizedState=t:Vb(e,ut.memoizedState,t)},useTransition:function(){var t=qh(ll)[0],e=wn().memoizedState;return[t,e]},useMutableSource:bb,useSyncExternalStore:_b,useId:Lb,unstable_isNewReconciler:!1};function Tn(t,e){if(t&&t.defaultProps){e=qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function em(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var _d={isMounted:function(t){return(t=t._reactInternals)?wi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=Ot(),r=ir(t),a=ds(s,r);a.payload=e,n!=null&&(a.callback=n),e=sr(t,a,r),e!==null&&(An(e,t,r,s),Bc(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=Ot(),r=ir(t),a=ds(s,r);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=sr(t,a,r),e!==null&&(An(e,t,r,s),Bc(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ot(),s=ir(t),r=ds(n,s);r.tag=2,e!=null&&(r.callback=e),e=sr(t,r,s),e!==null&&(An(e,t,s,n),Bc(e,t,s))}};function Yx(t,e,n,s,r,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,a,o):e.prototype&&e.prototype.isPureReactComponent?!tl(n,s)||!tl(r,a):!0}function Ub(t,e,n){var s=!1,r=gr,a=e.contextType;return typeof a=="object"&&a!==null?a=vn(a):(r=Gt(e)?li:Rt.current,s=e.contextTypes,a=(s=s!=null)?ha(t,r):gr),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_d,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=a),e}function Jx(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&_d.enqueueReplaceState(e,e.state,null)}function tm(t,e,n,s){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Ap(t);var a=e.contextType;typeof a=="object"&&a!==null?r.context=vn(a):(a=Gt(e)?li:Rt.current,r.context=ha(t,a)),r.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(em(t,e,a,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&_d.enqueueReplaceState(r,r.state,null),Su(t,n,r,s),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function ga(t,e){try{var n="",s=e;do n+=UE(s),s=s.return;while(s);var r=n}catch(a){r=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:r,digest:null}}function Gh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function nm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var fk=typeof WeakMap=="function"?WeakMap:Map;function $b(t,e,n){n=ds(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){Iu||(Iu=!0,hm=s),nm(t,e)},n}function Bb(t,e,n){n=ds(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var r=e.value;n.payload=function(){return s(r)},n.callback=function(){nm(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){nm(t,e),typeof s!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Xx(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new fk;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(n)||(r.add(n),t=jk.bind(null,t,e,n),e.then(t,t))}function Zx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function e0(t,e,n,s,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ds(-1,1),e.tag=2,sr(n,e,1))),n.lanes|=1),t)}var mk=Es.ReactCurrentOwner,Wt=!1;function Mt(t,e,n,s){e.child=t===null?yb(e,null,n,s):ma(e,t.child,n,s)}function t0(t,e,n,s,r){n=n.render;var a=e.ref;return sa(e,r),s=Lp(t,e,n,s,a,r),n=Mp(),t!==null&&!Wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,ws(t,e,r)):(Be&&n&&Sp(e),e.flags|=1,Mt(t,e,s,r),e.child)}function n0(t,e,n,s,r){if(t===null){var a=n.type;return typeof a=="function"&&!Gp(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,zb(t,e,a,s,r)):(t=Kc(n.type,null,s,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&r)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:tl,n(o,s)&&t.ref===e.ref)return ws(t,e,r)}return e.flags|=1,t=ar(a,s),t.ref=e.ref,t.return=e,e.child=t}function zb(t,e,n,s,r){if(t!==null){var a=t.memoizedProps;if(tl(a,s)&&t.ref===e.ref)if(Wt=!1,e.pendingProps=s=a,(t.lanes&r)!==0)t.flags&131072&&(Wt=!0);else return e.lanes=t.lanes,ws(t,e,r)}return sm(t,e,n,s,r)}function Hb(t,e,n){var s=e.pendingProps,r=s.children,a=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(Ki,Jt),Jt|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ve(Ki,Jt),Jt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,Ve(Ki,Jt),Jt|=s}else a!==null?(s=a.baseLanes|n,e.memoizedState=null):s=n,Ve(Ki,Jt),Jt|=s;return Mt(t,e,r,n),e.child}function Wb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function sm(t,e,n,s,r){var a=Gt(n)?li:Rt.current;return a=ha(e,a),sa(e,r),n=Lp(t,e,n,s,a,r),s=Mp(),t!==null&&!Wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,ws(t,e,r)):(Be&&s&&Sp(e),e.flags|=1,Mt(t,e,n,r),e.child)}function s0(t,e,n,s,r){if(Gt(n)){var a=!0;vu(e)}else a=!1;if(sa(e,r),e.stateNode===null)Wc(t,e),Ub(e,n,s),tm(e,n,s,r),s=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=vn(d):(d=Gt(n)?li:Rt.current,d=ha(e,d));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||u!==d)&&Jx(e,o,s,d),Bs=!1;var p=e.memoizedState;o.state=p,Su(e,s,o,r),u=e.memoizedState,l!==s||p!==u||qt.current||Bs?(typeof f=="function"&&(em(e,n,f,s),u=e.memoizedState),(l=Bs||Yx(e,n,l,s,p,u,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=u),o.props=s,o.state=u,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,vb(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:Tn(e.type,l),o.props=d,h=e.pendingProps,p=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=vn(u):(u=Gt(n)?li:Rt.current,u=ha(e,u));var x=n.getDerivedStateFromProps;(f=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||p!==u)&&Jx(e,o,s,u),Bs=!1,p=e.memoizedState,o.state=p,Su(e,s,o,r);var S=e.memoizedState;l!==h||p!==S||qt.current||Bs?(typeof x=="function"&&(em(e,n,x,s),S=e.memoizedState),(d=Bs||Yx(e,n,d,s,p,S,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,S,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,S,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=S),o.props=s,o.state=S,o.context=u,s=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),s=!1)}return rm(t,e,n,s,a,r)}function rm(t,e,n,s,r,a){Wb(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return r&&Bx(e,n,!1),ws(t,e,a);s=e.stateNode,mk.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=ma(e,t.child,null,a),e.child=ma(e,null,l,a)):Mt(t,e,l,a),e.memoizedState=s.state,r&&Bx(e,n,!0),e.child}function qb(t){var e=t.stateNode;e.pendingContext?$x(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$x(t,e.context,!1),Pp(t,e.containerInfo)}function r0(t,e,n,s,r){return fa(),Ep(r),e.flags|=256,Mt(t,e,n,s),e.child}var im={dehydrated:null,treeContext:null,retryLane:0};function am(t){return{baseLanes:t,cachePool:null,transitions:null}}function Gb(t,e,n){var s=e.pendingProps,r=ze.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(r&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Ve(ze,r&1),t===null)return Xf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,a?(s=e.mode,a=e.child,o={mode:"hidden",children:o},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Td(o,s,0,null),t=ni(t,s,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=am(n),e.memoizedState=im,t):Up(e,o));if(r=t.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return pk(t,e,o,s,l,r,n);if(a){a=s.fallback,o=e.mode,r=t.child,l=r.sibling;var u={mode:"hidden",children:s.children};return!(o&1)&&e.child!==r?(s=e.child,s.childLanes=0,s.pendingProps=u,e.deletions=null):(s=ar(r,u),s.subtreeFlags=r.subtreeFlags&14680064),l!==null?a=ar(l,a):(a=ni(a,o,n,null),a.flags|=2),a.return=e,s.return=e,s.sibling=a,e.child=s,s=a,a=e.child,o=t.child.memoizedState,o=o===null?am(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=im,s}return a=t.child,t=a.sibling,s=ar(a,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function Up(t,e){return e=Td({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Nc(t,e,n,s){return s!==null&&Ep(s),ma(e,t.child,null,n),t=Up(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function pk(t,e,n,s,r,a,o){if(n)return e.flags&256?(e.flags&=-257,s=Gh(Error(G(422))),Nc(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=s.fallback,r=e.mode,s=Td({mode:"visible",children:s.children},r,0,null),a=ni(a,r,o,null),a.flags|=2,s.return=e,a.return=e,s.sibling=a,e.child=s,e.mode&1&&ma(e,t.child,null,o),e.child.memoizedState=am(o),e.memoizedState=im,a);if(!(e.mode&1))return Nc(t,e,o,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var l=s.dgst;return s=l,a=Error(G(419)),s=Gh(a,s,void 0),Nc(t,e,o,s)}if(l=(o&t.childLanes)!==0,Wt||l){if(s=yt,s!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|o)?0:r,r!==0&&r!==a.retryLane&&(a.retryLane=r,vs(t,r),An(s,t,r,-1))}return qp(),s=Gh(Error(G(421))),Nc(t,e,o,s)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=kk.bind(null,t),r._reactRetry=e,null):(t=a.treeContext,en=nr(r.nextSibling),sn=e,Be=!0,jn=null,t!==null&&(fn[mn++]=as,fn[mn++]=os,fn[mn++]=ci,as=t.id,os=t.overflow,ci=e),e=Up(e,s.children),e.flags|=4096,e)}function i0(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),Zf(t.return,e,n)}function Kh(t,e,n,s,r){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=r)}function Kb(t,e,n){var s=e.pendingProps,r=s.revealOrder,a=s.tail;if(Mt(t,e,s.children,n),s=ze.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&i0(t,n,e);else if(t.tag===19)i0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(Ve(ze,s),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Tu(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Kh(e,!1,r,n,a);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Tu(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Kh(e,!0,n,null,a);break;case"together":Kh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ws(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),di|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,n=ar(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ar(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function gk(t,e,n){switch(e.tag){case 3:qb(e),fa();break;case 5:wb(e);break;case 1:Gt(e.type)&&vu(e);break;case 4:Pp(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,r=e.memoizedProps.value;Ve(_u,s._currentValue),s._currentValue=r;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(Ve(ze,ze.current&1),e.flags|=128,null):n&e.child.childLanes?Gb(t,e,n):(Ve(ze,ze.current&1),t=ws(t,e,n),t!==null?t.sibling:null);Ve(ze,ze.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return Kb(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ve(ze,ze.current),s)break;return null;case 22:case 23:return e.lanes=0,Hb(t,e,n)}return ws(t,e,n)}var Qb,om,Yb,Jb;Qb=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};om=function(){};Yb=function(t,e,n,s){var r=t.memoizedProps;if(r!==s){t=e.stateNode,Jr(qn.current);var a=null;switch(n){case"input":r=If(t,r),s=If(t,s),a=[];break;case"select":r=qe({},r,{value:void 0}),s=qe({},s,{value:void 0}),a=[];break;case"textarea":r=Pf(t,r),s=Pf(t,s),a=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=yu)}Df(n,s);var o;n=null;for(d in r)if(!s.hasOwnProperty(d)&&r.hasOwnProperty(d)&&r[d]!=null)if(d==="style"){var l=r[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ko.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in s){var u=s[d];if(l=r!=null?r[d]:void 0,s.hasOwnProperty(d)&&u!==l&&(u!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(a||(a=[]),a.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(a=a||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(a=a||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ko.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&Oe("scroll",t),a||l===u||(a=[])):(a=a||[]).push(d,u))}n&&(a=a||[]).push("style",n);var d=a;(e.updateQueue=d)&&(e.flags|=4)}};Jb=function(t,e,n,s){n!==s&&(e.flags|=4)};function fo(t,e){if(!Be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Et(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function yk(t,e,n){var s=e.pendingProps;switch(Tp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(e),null;case 1:return Gt(e.type)&&xu(),Et(e),null;case 3:return s=e.stateNode,pa(),$e(qt),$e(Rt),Dp(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(bc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,jn!==null&&(pm(jn),jn=null))),om(t,e),Et(e),null;case 5:Rp(e);var r=Jr(al.current);if(n=e.type,t!==null&&e.stateNode!=null)Yb(t,e,n,s,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(G(166));return Et(e),null}if(t=Jr(qn.current),bc(e)){s=e.stateNode,n=e.type;var a=e.memoizedProps;switch(s[Hn]=e,s[rl]=a,t=(e.mode&1)!==0,n){case"dialog":Oe("cancel",s),Oe("close",s);break;case"iframe":case"object":case"embed":Oe("load",s);break;case"video":case"audio":for(r=0;r<wo.length;r++)Oe(wo[r],s);break;case"source":Oe("error",s);break;case"img":case"image":case"link":Oe("error",s),Oe("load",s);break;case"details":Oe("toggle",s);break;case"input":mx(s,a),Oe("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},Oe("invalid",s);break;case"textarea":gx(s,a),Oe("invalid",s)}Df(n,a),r=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?s.textContent!==l&&(a.suppressHydrationWarning!==!0&&wc(s.textContent,l,t),r=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&wc(s.textContent,l,t),r=["children",""+l]):Ko.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Oe("scroll",s)}switch(n){case"input":hc(s),px(s,a,!0);break;case"textarea":hc(s),yx(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=yu)}s=r,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=T1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(n,{is:s.is}):(t=o.createElement(n),n==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,n),t[Hn]=e,t[rl]=s,Qb(t,e,!1,!1),e.stateNode=t;e:{switch(o=Vf(n,s),n){case"dialog":Oe("cancel",t),Oe("close",t),r=s;break;case"iframe":case"object":case"embed":Oe("load",t),r=s;break;case"video":case"audio":for(r=0;r<wo.length;r++)Oe(wo[r],t);r=s;break;case"source":Oe("error",t),r=s;break;case"img":case"image":case"link":Oe("error",t),Oe("load",t),r=s;break;case"details":Oe("toggle",t),r=s;break;case"input":mx(t,s),r=If(t,s),Oe("invalid",t);break;case"option":r=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},r=qe({},s,{value:void 0}),Oe("invalid",t);break;case"textarea":gx(t,s),r=Pf(t,s),Oe("invalid",t);break;default:r=s}Df(n,r),l=r;for(a in l)if(l.hasOwnProperty(a)){var u=l[a];a==="style"?k1(t,u):a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&E1(t,u)):a==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Qo(t,u):typeof u=="number"&&Qo(t,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ko.hasOwnProperty(a)?u!=null&&a==="onScroll"&&Oe("scroll",t):u!=null&&up(t,a,u,o))}switch(n){case"input":hc(t),px(t,s,!1);break;case"textarea":hc(t),yx(t);break;case"option":s.value!=null&&t.setAttribute("value",""+pr(s.value));break;case"select":t.multiple=!!s.multiple,a=s.value,a!=null?Zi(t,!!s.multiple,a,!1):s.defaultValue!=null&&Zi(t,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=yu)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Et(e),null;case 6:if(t&&e.stateNode!=null)Jb(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(G(166));if(n=Jr(al.current),Jr(qn.current),bc(e)){if(s=e.stateNode,n=e.memoizedProps,s[Hn]=e,(a=s.nodeValue!==n)&&(t=sn,t!==null))switch(t.tag){case 3:wc(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wc(s.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Hn]=e,e.stateNode=s}return Et(e),null;case 13:if($e(ze),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Be&&en!==null&&e.mode&1&&!(e.flags&128))pb(),fa(),e.flags|=98560,a=!1;else if(a=bc(e),s!==null&&s.dehydrated!==null){if(t===null){if(!a)throw Error(G(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(G(317));a[Hn]=e}else fa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Et(e),a=!1}else jn!==null&&(pm(jn),jn=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||ze.current&1?dt===0&&(dt=3):qp())),e.updateQueue!==null&&(e.flags|=4),Et(e),null);case 4:return pa(),om(t,e),t===null&&nl(e.stateNode.containerInfo),Et(e),null;case 10:return Ip(e.type._context),Et(e),null;case 17:return Gt(e.type)&&xu(),Et(e),null;case 19:if($e(ze),a=e.memoizedState,a===null)return Et(e),null;if(s=(e.flags&128)!==0,o=a.rendering,o===null)if(s)fo(a,!1);else{if(dt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Tu(t),o!==null){for(e.flags|=128,fo(a,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)a=n,t=s,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ve(ze,ze.current&1|2),e.child}t=t.sibling}a.tail!==null&&Ze()>ya&&(e.flags|=128,s=!0,fo(a,!1),e.lanes=4194304)}else{if(!s)if(t=Tu(o),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),fo(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Be)return Et(e),null}else 2*Ze()-a.renderingStartTime>ya&&n!==1073741824&&(e.flags|=128,s=!0,fo(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Ze(),e.sibling=null,n=ze.current,Ve(ze,s?n&1|2:n&1),e):(Et(e),null);case 22:case 23:return Wp(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?Jt&1073741824&&(Et(e),e.subtreeFlags&6&&(e.flags|=8192)):Et(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function xk(t,e){switch(Tp(e),e.tag){case 1:return Gt(e.type)&&xu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return pa(),$e(qt),$e(Rt),Dp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Rp(e),null;case 13:if($e(ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));fa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $e(ze),null;case 4:return pa(),null;case 10:return Ip(e.type._context),null;case 22:case 23:return Wp(),null;case 24:return null;default:return null}}var Sc=!1,At=!1,vk=typeof WeakSet=="function"?WeakSet:Set,te=null;function Gi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Qe(t,e,s)}else n.current=null}function lm(t,e,n){try{n()}catch(s){Qe(t,e,s)}}var a0=!1;function wk(t,e){if(Wf=mu,t=nb(),Np(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,d=0,f=0,h=t,p=null;t:for(;;){for(var x;h!==n||r!==0&&h.nodeType!==3||(l=o+r),h!==a||s!==0&&h.nodeType!==3||(u=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(x=h.firstChild)!==null;)p=h,h=x;for(;;){if(h===t)break t;if(p===n&&++d===r&&(l=o),p===a&&++f===s&&(u=o),(x=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=x}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(qf={focusedElem:t,selectionRange:n},mu=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var _=S.memoizedProps,I=S.memoizedState,T=e.stateNode,v=T.getSnapshotBeforeUpdate(e.elementType===e.type?_:Tn(e.type,_),I);T.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(D){Qe(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return S=a0,a0=!1,S}function Do(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var a=r.destroy;r.destroy=void 0,a!==void 0&&lm(e,n,a)}r=r.next}while(r!==s)}}function Nd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function cm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Xb(t){var e=t.alternate;e!==null&&(t.alternate=null,Xb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Hn],delete e[rl],delete e[Qf],delete e[nk],delete e[sk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Zb(t){return t.tag===5||t.tag===3||t.tag===4}function o0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Zb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function um(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=yu));else if(s!==4&&(t=t.child,t!==null))for(um(t,e,n),t=t.sibling;t!==null;)um(t,e,n),t=t.sibling}function dm(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(dm(t,e,n),t=t.sibling;t!==null;)dm(t,e,n),t=t.sibling}var xt=null,En=!1;function Os(t,e,n){for(n=n.child;n!==null;)e_(t,e,n),n=n.sibling}function e_(t,e,n){if(Wn&&typeof Wn.onCommitFiberUnmount=="function")try{Wn.onCommitFiberUnmount(pd,n)}catch{}switch(n.tag){case 5:At||Gi(n,e);case 6:var s=xt,r=En;xt=null,Os(t,e,n),xt=s,En=r,xt!==null&&(En?(t=xt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):xt.removeChild(n.stateNode));break;case 18:xt!==null&&(En?(t=xt,n=n.stateNode,t.nodeType===8?$h(t.parentNode,n):t.nodeType===1&&$h(t,n),Zo(t)):$h(xt,n.stateNode));break;case 4:s=xt,r=En,xt=n.stateNode.containerInfo,En=!0,Os(t,e,n),xt=s,En=r;break;case 0:case 11:case 14:case 15:if(!At&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var a=r,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&lm(n,e,o),r=r.next}while(r!==s)}Os(t,e,n);break;case 1:if(!At&&(Gi(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){Qe(n,e,l)}Os(t,e,n);break;case 21:Os(t,e,n);break;case 22:n.mode&1?(At=(s=At)||n.memoizedState!==null,Os(t,e,n),At=s):Os(t,e,n);break;default:Os(t,e,n)}}function l0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new vk),e.forEach(function(s){var r=Ik.bind(null,t,s);n.has(s)||(n.add(s),s.then(r,r))})}}function Sn(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:xt=l.stateNode,En=!1;break e;case 3:xt=l.stateNode.containerInfo,En=!0;break e;case 4:xt=l.stateNode.containerInfo,En=!0;break e}l=l.return}if(xt===null)throw Error(G(160));e_(a,o,r),xt=null,En=!1;var u=r.alternate;u!==null&&(u.return=null),r.return=null}catch(d){Qe(r,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)t_(e,t),e=e.sibling}function t_(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Sn(e,t),$n(t),s&4){try{Do(3,t,t.return),Nd(3,t)}catch(_){Qe(t,t.return,_)}try{Do(5,t,t.return)}catch(_){Qe(t,t.return,_)}}break;case 1:Sn(e,t),$n(t),s&512&&n!==null&&Gi(n,n.return);break;case 5:if(Sn(e,t),$n(t),s&512&&n!==null&&Gi(n,n.return),t.flags&32){var r=t.stateNode;try{Qo(r,"")}catch(_){Qe(t,t.return,_)}}if(s&4&&(r=t.stateNode,r!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&N1(r,a),Vf(l,o);var d=Vf(l,a);for(o=0;o<u.length;o+=2){var f=u[o],h=u[o+1];f==="style"?k1(r,h):f==="dangerouslySetInnerHTML"?E1(r,h):f==="children"?Qo(r,h):up(r,f,h,d)}switch(l){case"input":Cf(r,a);break;case"textarea":S1(r,a);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var x=a.value;x!=null?Zi(r,!!a.multiple,x,!1):p!==!!a.multiple&&(a.defaultValue!=null?Zi(r,!!a.multiple,a.defaultValue,!0):Zi(r,!!a.multiple,a.multiple?[]:"",!1))}r[rl]=a}catch(_){Qe(t,t.return,_)}}break;case 6:if(Sn(e,t),$n(t),s&4){if(t.stateNode===null)throw Error(G(162));r=t.stateNode,a=t.memoizedProps;try{r.nodeValue=a}catch(_){Qe(t,t.return,_)}}break;case 3:if(Sn(e,t),$n(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Zo(e.containerInfo)}catch(_){Qe(t,t.return,_)}break;case 4:Sn(e,t),$n(t);break;case 13:Sn(e,t),$n(t),r=t.child,r.flags&8192&&(a=r.memoizedState!==null,r.stateNode.isHidden=a,!a||r.alternate!==null&&r.alternate.memoizedState!==null||(zp=Ze())),s&4&&l0(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(At=(d=At)||f,Sn(e,t),At=d):Sn(e,t),$n(t),s&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(te=t,f=t.child;f!==null;){for(h=te=f;te!==null;){switch(p=te,x=p.child,p.tag){case 0:case 11:case 14:case 15:Do(4,p,p.return);break;case 1:Gi(p,p.return);var S=p.stateNode;if(typeof S.componentWillUnmount=="function"){s=p,n=p.return;try{e=s,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(_){Qe(s,n,_)}}break;case 5:Gi(p,p.return);break;case 22:if(p.memoizedState!==null){u0(h);continue}}x!==null?(x.return=p,te=x):u0(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{r=h.stateNode,d?(a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=j1("display",o))}catch(_){Qe(t,t.return,_)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(_){Qe(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Sn(e,t),$n(t),s&4&&l0(t);break;case 21:break;default:Sn(e,t),$n(t)}}function $n(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Zb(n)){var s=n;break e}n=n.return}throw Error(G(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(Qo(r,""),s.flags&=-33);var a=o0(t);dm(t,a,r);break;case 3:case 4:var o=s.stateNode.containerInfo,l=o0(t);um(t,l,o);break;default:throw Error(G(161))}}catch(u){Qe(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function bk(t,e,n){te=t,n_(t)}function n_(t,e,n){for(var s=(t.mode&1)!==0;te!==null;){var r=te,a=r.child;if(r.tag===22&&s){var o=r.memoizedState!==null||Sc;if(!o){var l=r.alternate,u=l!==null&&l.memoizedState!==null||At;l=Sc;var d=At;if(Sc=o,(At=u)&&!d)for(te=r;te!==null;)o=te,u=o.child,o.tag===22&&o.memoizedState!==null?d0(r):u!==null?(u.return=o,te=u):d0(r);for(;a!==null;)te=a,n_(a),a=a.sibling;te=r,Sc=l,At=d}c0(t)}else r.subtreeFlags&8772&&a!==null?(a.return=r,te=a):c0(t)}}function c0(t){for(;te!==null;){var e=te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:At||Nd(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!At)if(n===null)s.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Tn(e.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&Gx(e,a,s);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Gx(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Zo(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}At||e.flags&512&&cm(e)}catch(p){Qe(e,e.return,p)}}if(e===t){te=null;break}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}}function u0(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,te=n;break}te=e.return}}function d0(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Nd(4,e)}catch(u){Qe(e,n,u)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var r=e.return;try{s.componentDidMount()}catch(u){Qe(e,r,u)}}var a=e.return;try{cm(e)}catch(u){Qe(e,a,u)}break;case 5:var o=e.return;try{cm(e)}catch(u){Qe(e,o,u)}}}catch(u){Qe(e,e.return,u)}if(e===t){te=null;break}var l=e.sibling;if(l!==null){l.return=e.return,te=l;break}te=e.return}}var _k=Math.ceil,ku=Es.ReactCurrentDispatcher,$p=Es.ReactCurrentOwner,yn=Es.ReactCurrentBatchConfig,Ne=0,yt=null,st=null,_t=0,Jt=0,Ki=kr(0),dt=0,ul=null,di=0,Sd=0,Bp=0,Vo=null,zt=null,zp=0,ya=1/0,ns=null,Iu=!1,hm=null,rr=null,Tc=!1,Js=null,Cu=0,Lo=0,fm=null,qc=-1,Gc=0;function Ot(){return Ne&6?Ze():qc!==-1?qc:qc=Ze()}function ir(t){return t.mode&1?Ne&2&&_t!==0?_t&-_t:ik.transition!==null?(Gc===0&&(Gc=U1()),Gc):(t=ke,t!==0||(t=window.event,t=t===void 0?16:G1(t.type)),t):1}function An(t,e,n,s){if(50<Lo)throw Lo=0,fm=null,Error(G(185));El(t,n,s),(!(Ne&2)||t!==yt)&&(t===yt&&(!(Ne&2)&&(Sd|=n),dt===4&&Ws(t,_t)),Kt(t,s),n===1&&Ne===0&&!(e.mode&1)&&(ya=Ze()+500,wd&&Ir()))}function Kt(t,e){var n=t.callbackNode;ij(t,e);var s=fu(t,t===yt?_t:0);if(s===0)n!==null&&wx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&wx(n),e===1)t.tag===0?rk(h0.bind(null,t)):hb(h0.bind(null,t)),ek(function(){!(Ne&6)&&Ir()}),n=null;else{switch($1(s)){case 1:n=pp;break;case 4:n=O1;break;case 16:n=hu;break;case 536870912:n=F1;break;default:n=hu}n=u_(n,s_.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function s_(t,e){if(qc=-1,Gc=0,Ne&6)throw Error(G(327));var n=t.callbackNode;if(ra()&&t.callbackNode!==n)return null;var s=fu(t,t===yt?_t:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=Au(t,s);else{e=s;var r=Ne;Ne|=2;var a=i_();(yt!==t||_t!==e)&&(ns=null,ya=Ze()+500,ti(t,e));do try{Tk();break}catch(l){r_(t,l)}while(!0);kp(),ku.current=a,Ne=r,st!==null?e=0:(yt=null,_t=0,e=dt)}if(e!==0){if(e===2&&(r=Uf(t),r!==0&&(s=r,e=mm(t,r))),e===1)throw n=ul,ti(t,0),Ws(t,s),Kt(t,Ze()),n;if(e===6)Ws(t,s);else{if(r=t.current.alternate,!(s&30)&&!Nk(r)&&(e=Au(t,s),e===2&&(a=Uf(t),a!==0&&(s=a,e=mm(t,a))),e===1))throw n=ul,ti(t,0),Ws(t,s),Kt(t,Ze()),n;switch(t.finishedWork=r,t.finishedLanes=s,e){case 0:case 1:throw Error(G(345));case 2:Hr(t,zt,ns);break;case 3:if(Ws(t,s),(s&130023424)===s&&(e=zp+500-Ze(),10<e)){if(fu(t,0)!==0)break;if(r=t.suspendedLanes,(r&s)!==s){Ot(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Kf(Hr.bind(null,t,zt,ns),e);break}Hr(t,zt,ns);break;case 4:if(Ws(t,s),(s&4194240)===s)break;for(e=t.eventTimes,r=-1;0<s;){var o=31-Cn(s);a=1<<o,o=e[o],o>r&&(r=o),s&=~a}if(s=r,s=Ze()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*_k(s/1960))-s,10<s){t.timeoutHandle=Kf(Hr.bind(null,t,zt,ns),s);break}Hr(t,zt,ns);break;case 5:Hr(t,zt,ns);break;default:throw Error(G(329))}}}return Kt(t,Ze()),t.callbackNode===n?s_.bind(null,t):null}function mm(t,e){var n=Vo;return t.current.memoizedState.isDehydrated&&(ti(t,e).flags|=256),t=Au(t,e),t!==2&&(e=zt,zt=n,e!==null&&pm(e)),t}function pm(t){zt===null?zt=t:zt.push.apply(zt,t)}function Nk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],a=r.getSnapshot;r=r.value;try{if(!Dn(a(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ws(t,e){for(e&=~Bp,e&=~Sd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Cn(e),s=1<<n;t[n]=-1,e&=~s}}function h0(t){if(Ne&6)throw Error(G(327));ra();var e=fu(t,0);if(!(e&1))return Kt(t,Ze()),null;var n=Au(t,e);if(t.tag!==0&&n===2){var s=Uf(t);s!==0&&(e=s,n=mm(t,s))}if(n===1)throw n=ul,ti(t,0),Ws(t,e),Kt(t,Ze()),n;if(n===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Hr(t,zt,ns),Kt(t,Ze()),null}function Hp(t,e){var n=Ne;Ne|=1;try{return t(e)}finally{Ne=n,Ne===0&&(ya=Ze()+500,wd&&Ir())}}function hi(t){Js!==null&&Js.tag===0&&!(Ne&6)&&ra();var e=Ne;Ne|=1;var n=yn.transition,s=ke;try{if(yn.transition=null,ke=1,t)return t()}finally{ke=s,yn.transition=n,Ne=e,!(Ne&6)&&Ir()}}function Wp(){Jt=Ki.current,$e(Ki)}function ti(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Zj(n)),st!==null)for(n=st.return;n!==null;){var s=n;switch(Tp(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&xu();break;case 3:pa(),$e(qt),$e(Rt),Dp();break;case 5:Rp(s);break;case 4:pa();break;case 13:$e(ze);break;case 19:$e(ze);break;case 10:Ip(s.type._context);break;case 22:case 23:Wp()}n=n.return}if(yt=t,st=t=ar(t.current,null),_t=Jt=e,dt=0,ul=null,Bp=Sd=di=0,zt=Vo=null,Yr!==null){for(e=0;e<Yr.length;e++)if(n=Yr[e],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,a=n.pending;if(a!==null){var o=a.next;a.next=r,s.next=o}n.pending=s}Yr=null}return t}function r_(t,e){do{var n=st;try{if(kp(),zc.current=ju,Eu){for(var s=We.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Eu=!1}if(ui=0,pt=ut=We=null,Ro=!1,ol=0,$p.current=null,n===null||n.return===null){dt=1,ul=e,st=null;break}e:{var a=t,o=n.return,l=n,u=e;if(e=_t,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,f=l,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var x=Zx(o);if(x!==null){x.flags&=-257,e0(x,o,l,a,e),x.mode&1&&Xx(a,d,e),e=x,u=d;var S=e.updateQueue;if(S===null){var _=new Set;_.add(u),e.updateQueue=_}else S.add(u);break e}else{if(!(e&1)){Xx(a,d,e),qp();break e}u=Error(G(426))}}else if(Be&&l.mode&1){var I=Zx(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),e0(I,o,l,a,e),Ep(ga(u,l));break e}}a=u=ga(u,l),dt!==4&&(dt=2),Vo===null?Vo=[a]:Vo.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var T=$b(a,u,e);qx(a,T);break e;case 1:l=u;var v=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(rr===null||!rr.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e;var D=Bb(a,l,e);qx(a,D);break e}}a=a.return}while(a!==null)}o_(n)}catch(L){e=L,st===n&&n!==null&&(st=n=n.return);continue}break}while(!0)}function i_(){var t=ku.current;return ku.current=ju,t===null?ju:t}function qp(){(dt===0||dt===3||dt===2)&&(dt=4),yt===null||!(di&268435455)&&!(Sd&268435455)||Ws(yt,_t)}function Au(t,e){var n=Ne;Ne|=2;var s=i_();(yt!==t||_t!==e)&&(ns=null,ti(t,e));do try{Sk();break}catch(r){r_(t,r)}while(!0);if(kp(),Ne=n,ku.current=s,st!==null)throw Error(G(261));return yt=null,_t=0,dt}function Sk(){for(;st!==null;)a_(st)}function Tk(){for(;st!==null&&!YE();)a_(st)}function a_(t){var e=c_(t.alternate,t,Jt);t.memoizedProps=t.pendingProps,e===null?o_(t):st=e,$p.current=null}function o_(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=xk(n,e),n!==null){n.flags&=32767,st=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{dt=6,st=null;return}}else if(n=yk(n,e,Jt),n!==null){st=n;return}if(e=e.sibling,e!==null){st=e;return}st=e=t}while(e!==null);dt===0&&(dt=5)}function Hr(t,e,n){var s=ke,r=yn.transition;try{yn.transition=null,ke=1,Ek(t,e,n,s)}finally{yn.transition=r,ke=s}return null}function Ek(t,e,n,s){do ra();while(Js!==null);if(Ne&6)throw Error(G(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(aj(t,a),t===yt&&(st=yt=null,_t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Tc||(Tc=!0,u_(hu,function(){return ra(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=yn.transition,yn.transition=null;var o=ke;ke=1;var l=Ne;Ne|=4,$p.current=null,wk(t,n),t_(n,t),qj(qf),mu=!!Wf,qf=Wf=null,t.current=n,bk(n),JE(),Ne=l,ke=o,yn.transition=a}else t.current=n;if(Tc&&(Tc=!1,Js=t,Cu=r),a=t.pendingLanes,a===0&&(rr=null),ej(n.stateNode),Kt(t,Ze()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(Iu)throw Iu=!1,t=hm,hm=null,t;return Cu&1&&t.tag!==0&&ra(),a=t.pendingLanes,a&1?t===fm?Lo++:(Lo=0,fm=t):Lo=0,Ir(),null}function ra(){if(Js!==null){var t=$1(Cu),e=yn.transition,n=ke;try{if(yn.transition=null,ke=16>t?16:t,Js===null)var s=!1;else{if(t=Js,Js=null,Cu=0,Ne&6)throw Error(G(331));var r=Ne;for(Ne|=4,te=t.current;te!==null;){var a=te,o=a.child;if(te.flags&16){var l=a.deletions;if(l!==null){for(var u=0;u<l.length;u++){var d=l[u];for(te=d;te!==null;){var f=te;switch(f.tag){case 0:case 11:case 15:Do(8,f,a)}var h=f.child;if(h!==null)h.return=f,te=h;else for(;te!==null;){f=te;var p=f.sibling,x=f.return;if(Xb(f),f===d){te=null;break}if(p!==null){p.return=x,te=p;break}te=x}}}var S=a.alternate;if(S!==null){var _=S.child;if(_!==null){S.child=null;do{var I=_.sibling;_.sibling=null,_=I}while(_!==null)}}te=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,te=o;else e:for(;te!==null;){if(a=te,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Do(9,a,a.return)}var T=a.sibling;if(T!==null){T.return=a.return,te=T;break e}te=a.return}}var v=t.current;for(te=v;te!==null;){o=te;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,te=b;else e:for(o=v;te!==null;){if(l=te,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Nd(9,l)}}catch(L){Qe(l,l.return,L)}if(l===o){te=null;break e}var D=l.sibling;if(D!==null){D.return=l.return,te=D;break e}te=l.return}}if(Ne=r,Ir(),Wn&&typeof Wn.onPostCommitFiberRoot=="function")try{Wn.onPostCommitFiberRoot(pd,t)}catch{}s=!0}return s}finally{ke=n,yn.transition=e}}return!1}function f0(t,e,n){e=ga(n,e),e=$b(t,e,1),t=sr(t,e,1),e=Ot(),t!==null&&(El(t,1,e),Kt(t,e))}function Qe(t,e,n){if(t.tag===3)f0(t,t,n);else for(;e!==null;){if(e.tag===3){f0(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(rr===null||!rr.has(s))){t=ga(n,t),t=Bb(e,t,1),e=sr(e,t,1),t=Ot(),e!==null&&(El(e,1,t),Kt(e,t));break}}e=e.return}}function jk(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=Ot(),t.pingedLanes|=t.suspendedLanes&n,yt===t&&(_t&n)===n&&(dt===4||dt===3&&(_t&130023424)===_t&&500>Ze()-zp?ti(t,0):Bp|=n),Kt(t,e)}function l_(t,e){e===0&&(t.mode&1?(e=pc,pc<<=1,!(pc&130023424)&&(pc=4194304)):e=1);var n=Ot();t=vs(t,e),t!==null&&(El(t,e,n),Kt(t,n))}function kk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),l_(t,n)}function Ik(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(G(314))}s!==null&&s.delete(e),l_(t,n)}var c_;c_=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||qt.current)Wt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Wt=!1,gk(t,e,n);Wt=!!(t.flags&131072)}else Wt=!1,Be&&e.flags&1048576&&fb(e,bu,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;Wc(t,e),t=e.pendingProps;var r=ha(e,Rt.current);sa(e,n),r=Lp(null,e,s,t,r,n);var a=Mp();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gt(s)?(a=!0,vu(e)):a=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Ap(e),r.updater=_d,e.stateNode=r,r._reactInternals=e,tm(e,s,t,n),e=rm(null,e,s,!0,a,n)):(e.tag=0,Be&&a&&Sp(e),Mt(null,e,r,n),e=e.child),e;case 16:s=e.elementType;e:{switch(Wc(t,e),t=e.pendingProps,r=s._init,s=r(s._payload),e.type=s,r=e.tag=Ak(s),t=Tn(s,t),r){case 0:e=sm(null,e,s,t,n);break e;case 1:e=s0(null,e,s,t,n);break e;case 11:e=t0(null,e,s,t,n);break e;case 14:e=n0(null,e,s,Tn(s.type,t),n);break e}throw Error(G(306,s,""))}return e;case 0:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Tn(s,r),sm(t,e,s,r,n);case 1:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Tn(s,r),s0(t,e,s,r,n);case 3:e:{if(qb(e),t===null)throw Error(G(387));s=e.pendingProps,a=e.memoizedState,r=a.element,vb(t,e),Su(e,s,null,n);var o=e.memoizedState;if(s=o.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){r=ga(Error(G(423)),e),e=r0(t,e,s,n,r);break e}else if(s!==r){r=ga(Error(G(424)),e),e=r0(t,e,s,n,r);break e}else for(en=nr(e.stateNode.containerInfo.firstChild),sn=e,Be=!0,jn=null,n=yb(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fa(),s===r){e=ws(t,e,n);break e}Mt(t,e,s,n)}e=e.child}return e;case 5:return wb(e),t===null&&Xf(e),s=e.type,r=e.pendingProps,a=t!==null?t.memoizedProps:null,o=r.children,Gf(s,r)?o=null:a!==null&&Gf(s,a)&&(e.flags|=32),Wb(t,e),Mt(t,e,o,n),e.child;case 6:return t===null&&Xf(e),null;case 13:return Gb(t,e,n);case 4:return Pp(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=ma(e,null,s,n):Mt(t,e,s,n),e.child;case 11:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Tn(s,r),t0(t,e,s,r,n);case 7:return Mt(t,e,e.pendingProps,n),e.child;case 8:return Mt(t,e,e.pendingProps.children,n),e.child;case 12:return Mt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,r=e.pendingProps,a=e.memoizedProps,o=r.value,Ve(_u,s._currentValue),s._currentValue=o,a!==null)if(Dn(a.value,o)){if(a.children===r.children&&!qt.current){e=ws(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var u=l.firstContext;u!==null;){if(u.context===s){if(a.tag===1){u=ds(-1,n&-n),u.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?u.next=u:(u.next=f.next,f.next=u),d.pending=u}}a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),Zf(a.return,n,e),l.lanes|=n;break}u=u.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(G(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Zf(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Mt(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,s=e.pendingProps.children,sa(e,n),r=vn(r),s=s(r),e.flags|=1,Mt(t,e,s,n),e.child;case 14:return s=e.type,r=Tn(s,e.pendingProps),r=Tn(s.type,r),n0(t,e,s,r,n);case 15:return zb(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Tn(s,r),Wc(t,e),e.tag=1,Gt(s)?(t=!0,vu(e)):t=!1,sa(e,n),Ub(e,s,r),tm(e,s,r,n),rm(null,e,s,!0,t,n);case 19:return Kb(t,e,n);case 22:return Hb(t,e,n)}throw Error(G(156,e.tag))};function u_(t,e){return M1(t,e)}function Ck(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,e,n,s){return new Ck(t,e,n,s)}function Gp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ak(t){if(typeof t=="function")return Gp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===hp)return 11;if(t===fp)return 14}return 2}function ar(t,e){var n=t.alternate;return n===null?(n=gn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Kc(t,e,n,s,r,a){var o=2;if(s=t,typeof t=="function")Gp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Oi:return ni(n.children,r,a,e);case dp:o=8,r|=8;break;case Tf:return t=gn(12,n,e,r|2),t.elementType=Tf,t.lanes=a,t;case Ef:return t=gn(13,n,e,r),t.elementType=Ef,t.lanes=a,t;case jf:return t=gn(19,n,e,r),t.elementType=jf,t.lanes=a,t;case w1:return Td(n,r,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case x1:o=10;break e;case v1:o=9;break e;case hp:o=11;break e;case fp:o=14;break e;case $s:o=16,s=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return e=gn(o,n,e,r),e.elementType=t,e.type=s,e.lanes=a,e}function ni(t,e,n,s){return t=gn(7,t,s,e),t.lanes=n,t}function Td(t,e,n,s){return t=gn(22,t,s,e),t.elementType=w1,t.lanes=n,t.stateNode={isHidden:!1},t}function Qh(t,e,n){return t=gn(6,t,null,e),t.lanes=n,t}function Yh(t,e,n){return e=gn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Pk(t,e,n,s,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ch(0),this.expirationTimes=Ch(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ch(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Kp(t,e,n,s,r,a,o,l,u){return t=new Pk(t,e,n,l,u),e===1?(e=1,a===!0&&(e|=8)):e=0,a=gn(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ap(a),t}function Rk(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mi,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function d_(t){if(!t)return gr;t=t._reactInternals;e:{if(wi(t)!==t||t.tag!==1)throw Error(G(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(t.tag===1){var n=t.type;if(Gt(n))return db(t,n,e)}return e}function h_(t,e,n,s,r,a,o,l,u){return t=Kp(n,s,!0,t,r,a,o,l,u),t.context=d_(null),n=t.current,s=Ot(),r=ir(n),a=ds(s,r),a.callback=e??null,sr(n,a,r),t.current.lanes=r,El(t,r,s),Kt(t,s),t}function Ed(t,e,n,s){var r=e.current,a=Ot(),o=ir(r);return n=d_(n),e.context===null?e.context=n:e.pendingContext=n,e=ds(a,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=sr(r,e,o),t!==null&&(An(t,r,o,a),Bc(t,r,o)),o}function Pu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function m0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Qp(t,e){m0(t,e),(t=t.alternate)&&m0(t,e)}function Dk(){return null}var f_=typeof reportError=="function"?reportError:function(t){console.error(t)};function Yp(t){this._internalRoot=t}jd.prototype.render=Yp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));Ed(t,e,null,null)};jd.prototype.unmount=Yp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hi(function(){Ed(null,t,null,null)}),e[xs]=null}};function jd(t){this._internalRoot=t}jd.prototype.unstable_scheduleHydration=function(t){if(t){var e=H1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Hs.length&&e!==0&&e<Hs[n].priority;n++);Hs.splice(n,0,t),n===0&&q1(t)}};function Jp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function kd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function p0(){}function Vk(t,e,n,s,r){if(r){if(typeof s=="function"){var a=s;s=function(){var d=Pu(o);a.call(d)}}var o=h_(e,s,t,0,null,!1,!1,"",p0);return t._reactRootContainer=o,t[xs]=o.current,nl(t.nodeType===8?t.parentNode:t),hi(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof s=="function"){var l=s;s=function(){var d=Pu(u);l.call(d)}}var u=Kp(t,0,!1,null,null,!1,!1,"",p0);return t._reactRootContainer=u,t[xs]=u.current,nl(t.nodeType===8?t.parentNode:t),hi(function(){Ed(e,u,n,s)}),u}function Id(t,e,n,s,r){var a=n._reactRootContainer;if(a){var o=a;if(typeof r=="function"){var l=r;r=function(){var u=Pu(o);l.call(u)}}Ed(e,o,t,r)}else o=Vk(n,e,t,r,s);return Pu(o)}B1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=vo(e.pendingLanes);n!==0&&(gp(e,n|1),Kt(e,Ze()),!(Ne&6)&&(ya=Ze()+500,Ir()))}break;case 13:hi(function(){var s=vs(t,1);if(s!==null){var r=Ot();An(s,t,1,r)}}),Qp(t,1)}};yp=function(t){if(t.tag===13){var e=vs(t,134217728);if(e!==null){var n=Ot();An(e,t,134217728,n)}Qp(t,134217728)}};z1=function(t){if(t.tag===13){var e=ir(t),n=vs(t,e);if(n!==null){var s=Ot();An(n,t,e,s)}Qp(t,e)}};H1=function(){return ke};W1=function(t,e){var n=ke;try{return ke=t,e()}finally{ke=n}};Mf=function(t,e,n){switch(e){case"input":if(Cf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var r=vd(s);if(!r)throw Error(G(90));_1(s),Cf(s,r)}}}break;case"textarea":S1(t,n);break;case"select":e=n.value,e!=null&&Zi(t,!!n.multiple,e,!1)}};A1=Hp;P1=hi;var Lk={usingClientEntryPoint:!1,Events:[kl,Bi,vd,I1,C1,Hp]},mo={findFiberByHostInstance:Qr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Mk={bundleType:mo.bundleType,version:mo.version,rendererPackageName:mo.rendererPackageName,rendererConfig:mo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Es.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=V1(t),t===null?null:t.stateNode},findFiberByHostInstance:mo.findFiberByHostInstance||Dk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ec.isDisabled&&Ec.supportsFiber)try{pd=Ec.inject(Mk),Wn=Ec}catch{}}ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lk;ln.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jp(e))throw Error(G(200));return Rk(t,e,null,n)};ln.createRoot=function(t,e){if(!Jp(t))throw Error(G(299));var n=!1,s="",r=f_;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Kp(t,1,!1,null,null,n,!1,s,r),t[xs]=e.current,nl(t.nodeType===8?t.parentNode:t),new Yp(e)};ln.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=V1(e),t=t===null?null:t.stateNode,t};ln.flushSync=function(t){return hi(t)};ln.hydrate=function(t,e,n){if(!kd(e))throw Error(G(200));return Id(null,t,e,!0,n)};ln.hydrateRoot=function(t,e,n){if(!Jp(t))throw Error(G(405));var s=n!=null&&n.hydratedSources||null,r=!1,a="",o=f_;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=h_(e,null,t,1,n??null,r,!1,a,o),t[xs]=e.current,nl(t),s)for(t=0;t<s.length;t++)n=s[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new jd(e)};ln.render=function(t,e,n){if(!kd(e))throw Error(G(200));return Id(null,t,e,!1,n)};ln.unmountComponentAtNode=function(t){if(!kd(t))throw Error(G(40));return t._reactRootContainer?(hi(function(){Id(null,null,t,!1,function(){t._reactRootContainer=null,t[xs]=null})}),!0):!1};ln.unstable_batchedUpdates=Hp;ln.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!kd(n))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return Id(t,e,n,!1,s)};ln.version="18.3.1-next-f1338f8080-20240426";function m_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m_)}catch(t){console.error(t)}}m_(),m1.exports=ln;var Ok=m1.exports,g0=Ok;Nf.createRoot=g0.createRoot,Nf.hydrateRoot=g0.hydrateRoot;const p_=R.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Cd=R.createContext({}),Ad=R.createContext(null),Pd=typeof document<"u",Xp=Pd?R.useLayoutEffect:R.useEffect,g_=R.createContext({strict:!1}),Zp=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Fk="framerAppearId",y_="data-"+Zp(Fk);function Uk(t,e,n,s){const{visualElement:r}=R.useContext(Cd),a=R.useContext(g_),o=R.useContext(Ad),l=R.useContext(p_).reducedMotion,u=R.useRef();s=s||a.renderer,!u.current&&s&&(u.current=s(t,{visualState:e,parent:r,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const d=u.current;R.useInsertionEffect(()=>{d&&d.update(n,o)});const f=R.useRef(!!(n[y_]&&!window.HandoffComplete));return Xp(()=>{d&&(d.render(),f.current&&d.animationState&&d.animationState.animateChanges())}),R.useEffect(()=>{d&&(d.updateFeatures(),!f.current&&d.animationState&&d.animationState.animateChanges(),f.current&&(f.current=!1,window.HandoffComplete=!0))}),d}function Qi(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function $k(t,e,n){return R.useCallback(s=>{s&&t.mount&&t.mount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Qi(n)&&(n.current=s))},[e])}function dl(t){return typeof t=="string"||Array.isArray(t)}function Rd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const eg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],tg=["initial",...eg];function Dd(t){return Rd(t.animate)||tg.some(e=>dl(t[e]))}function x_(t){return!!(Dd(t)||t.variants)}function Bk(t,e){if(Dd(t)){const{initial:n,animate:s}=t;return{initial:n===!1||dl(n)?n:void 0,animate:dl(s)?s:void 0}}return t.inherit!==!1?e:{}}function zk(t){const{initial:e,animate:n}=Bk(t,R.useContext(Cd));return R.useMemo(()=>({initial:e,animate:n}),[y0(e),y0(n)])}function y0(t){return Array.isArray(t)?t.join(" "):t}const x0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},hl={};for(const t in x0)hl[t]={isEnabled:e=>x0[t].some(n=>!!e[n])};function Hk(t){for(const e in t)hl[e]={...hl[e],...t[e]}}const ng=R.createContext({}),v_=R.createContext({}),Wk=Symbol.for("motionComponentSymbol");function qk({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:r}){t&&Hk(t);function a(l,u){let d;const f={...R.useContext(p_),...l,layoutId:Gk(l)},{isStatic:h}=f,p=zk(l),x=s(l,h);if(!h&&Pd){p.visualElement=Uk(r,x,f,e);const S=R.useContext(v_),_=R.useContext(g_).strict;p.visualElement&&(d=p.visualElement.loadFeatures(f,_,t,S))}return R.createElement(Cd.Provider,{value:p},d&&p.visualElement?R.createElement(d,{visualElement:p.visualElement,...f}):null,n(r,l,$k(x,p.visualElement,u),x,h,p.visualElement))}const o=R.forwardRef(a);return o[Wk]=r,o}function Gk({layoutId:t}){const e=R.useContext(ng).id;return e&&t!==void 0?e+"-"+t:t}function Kk(t){function e(s,r={}){return qk(t(s,r))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(s,r)=>(n.has(r)||n.set(r,e(r)),n.get(r))})}const Qk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sg(t){return typeof t!="string"||t.includes("-")?!1:!!(Qk.indexOf(t)>-1||/[A-Z]/.test(t))}const Ru={};function Yk(t){Object.assign(Ru,t)}const Cl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],bi=new Set(Cl);function w_(t,{layout:e,layoutId:n}){return bi.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ru[t]||t==="opacity")}const Qt=t=>!!(t&&t.getVelocity),Jk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Xk=Cl.length;function Zk(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},s,r){let a="";for(let o=0;o<Xk;o++){const l=Cl[o];if(t[l]!==void 0){const u=Jk[l]||l;a+=`${u}(${t[l]}) `}}return e&&!t.z&&(a+="translateZ(0)"),a=a.trim(),r?a=r(t,s?"":a):n&&s&&(a="none"),a}const b_=t=>e=>typeof e=="string"&&e.startsWith(t),__=b_("--"),gm=b_("var(--"),eI=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,tI=(t,e)=>e&&typeof t=="number"?e.transform(t):t,yr=(t,e,n)=>Math.min(Math.max(n,t),e),_i={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Mo={..._i,transform:t=>yr(0,1,t)},jc={..._i,default:1},Oo=t=>Math.round(t*1e5)/1e5,Vd=/(-)?([\d]*\.?[\d])+/g,N_=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,nI=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Al(t){return typeof t=="string"}const Pl=t=>({test:e=>Al(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Us=Pl("deg"),Gn=Pl("%"),ce=Pl("px"),sI=Pl("vh"),rI=Pl("vw"),v0={...Gn,parse:t=>Gn.parse(t)/100,transform:t=>Gn.transform(t*100)},w0={..._i,transform:Math.round},S_={borderWidth:ce,borderTopWidth:ce,borderRightWidth:ce,borderBottomWidth:ce,borderLeftWidth:ce,borderRadius:ce,radius:ce,borderTopLeftRadius:ce,borderTopRightRadius:ce,borderBottomRightRadius:ce,borderBottomLeftRadius:ce,width:ce,maxWidth:ce,height:ce,maxHeight:ce,size:ce,top:ce,right:ce,bottom:ce,left:ce,padding:ce,paddingTop:ce,paddingRight:ce,paddingBottom:ce,paddingLeft:ce,margin:ce,marginTop:ce,marginRight:ce,marginBottom:ce,marginLeft:ce,rotate:Us,rotateX:Us,rotateY:Us,rotateZ:Us,scale:jc,scaleX:jc,scaleY:jc,scaleZ:jc,skew:Us,skewX:Us,skewY:Us,distance:ce,translateX:ce,translateY:ce,translateZ:ce,x:ce,y:ce,z:ce,perspective:ce,transformPerspective:ce,opacity:Mo,originX:v0,originY:v0,originZ:ce,zIndex:w0,fillOpacity:Mo,strokeOpacity:Mo,numOctaves:w0};function rg(t,e,n,s){const{style:r,vars:a,transform:o,transformOrigin:l}=t;let u=!1,d=!1,f=!0;for(const h in e){const p=e[h];if(__(h)){a[h]=p;continue}const x=S_[h],S=tI(p,x);if(bi.has(h)){if(u=!0,o[h]=S,!f)continue;p!==(x.default||0)&&(f=!1)}else h.startsWith("origin")?(d=!0,l[h]=S):r[h]=S}if(e.transform||(u||s?r.transform=Zk(t.transform,n,f,s):r.transform&&(r.transform="none")),d){const{originX:h="50%",originY:p="50%",originZ:x=0}=l;r.transformOrigin=`${h} ${p} ${x}`}}const ig=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function T_(t,e,n){for(const s in e)!Qt(e[s])&&!w_(s,n)&&(t[s]=e[s])}function iI({transformTemplate:t},e,n){return R.useMemo(()=>{const s=ig();return rg(s,e,{enableHardwareAcceleration:!n},t),Object.assign({},s.vars,s.style)},[e])}function aI(t,e,n){const s=t.style||{},r={};return T_(r,s,t),Object.assign(r,iI(t,e,n)),t.transformValues?t.transformValues(r):r}function oI(t,e,n){const s={},r=aI(t,e,n);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=r,s}const lI=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Du(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||lI.has(t)}let E_=t=>!Du(t);function cI(t){t&&(E_=e=>e.startsWith("on")?!Du(e):t(e))}try{cI(require("@emotion/is-prop-valid").default)}catch{}function uI(t,e,n){const s={};for(const r in t)r==="values"&&typeof t.values=="object"||(E_(r)||n===!0&&Du(r)||!e&&!Du(r)||t.draggable&&r.startsWith("onDrag"))&&(s[r]=t[r]);return s}function b0(t,e,n){return typeof t=="string"?t:ce.transform(e+n*t)}function dI(t,e,n){const s=b0(e,t.x,t.width),r=b0(n,t.y,t.height);return`${s} ${r}`}const hI={offset:"stroke-dashoffset",array:"stroke-dasharray"},fI={offset:"strokeDashoffset",array:"strokeDasharray"};function mI(t,e,n=1,s=0,r=!0){t.pathLength=1;const a=r?hI:fI;t[a.offset]=ce.transform(-s);const o=ce.transform(e),l=ce.transform(n);t[a.array]=`${o} ${l}`}function ag(t,{attrX:e,attrY:n,attrScale:s,originX:r,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:u=0,...d},f,h,p){if(rg(t,d,f,p),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:S,dimensions:_}=t;x.transform&&(_&&(S.transform=x.transform),delete x.transform),_&&(r!==void 0||a!==void 0||S.transform)&&(S.transformOrigin=dI(_,r!==void 0?r:.5,a!==void 0?a:.5)),e!==void 0&&(x.x=e),n!==void 0&&(x.y=n),s!==void 0&&(x.scale=s),o!==void 0&&mI(x,o,l,u,!1)}const j_=()=>({...ig(),attrs:{}}),og=t=>typeof t=="string"&&t.toLowerCase()==="svg";function pI(t,e,n,s){const r=R.useMemo(()=>{const a=j_();return ag(a,e,{enableHardwareAcceleration:!1},og(s),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};T_(a,t.style,t),r.style={...a,...r.style}}return r}function gI(t=!1){return(n,s,r,{latestValues:a},o)=>{const u=(sg(n)?pI:oI)(s,a,o,n),f={...uI(s,typeof n=="string",t),...u,ref:r},{children:h}=s,p=R.useMemo(()=>Qt(h)?h.get():h,[h]);return R.createElement(n,{...f,children:p})}}function k_(t,{style:e,vars:n},s,r){Object.assign(t.style,e,r&&r.getProjectionStyles(s));for(const a in n)t.style.setProperty(a,n[a])}const I_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function C_(t,e,n,s){k_(t,e,void 0,s);for(const r in e.attrs)t.setAttribute(I_.has(r)?r:Zp(r),e.attrs[r])}function lg(t,e){const{style:n}=t,s={};for(const r in n)(Qt(n[r])||e.style&&Qt(e.style[r])||w_(r,t))&&(s[r]=n[r]);return s}function A_(t,e){const n=lg(t,e);for(const s in t)if(Qt(t[s])||Qt(e[s])){const r=Cl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[r]=t[s]}return n}function cg(t,e,n,s={},r={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,s,r)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,s,r)),e}function P_(t){const e=R.useRef(null);return e.current===null&&(e.current=t()),e.current}const Vu=t=>Array.isArray(t),yI=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),xI=t=>Vu(t)?t[t.length-1]||0:t;function Qc(t){const e=Qt(t)?t.get():t;return yI(e)?e.toValue():e}function vI({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},s,r,a){const o={latestValues:wI(s,r,a,t),renderState:e()};return n&&(o.mount=l=>n(s,l,o)),o}const R_=t=>(e,n)=>{const s=R.useContext(Cd),r=R.useContext(Ad),a=()=>vI(t,e,s,r);return n?a():P_(a)};function wI(t,e,n,s){const r={},a=s(t,{});for(const p in a)r[p]=Qc(a[p]);let{initial:o,animate:l}=t;const u=Dd(t),d=x_(t);e&&d&&!u&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const h=f?l:o;return h&&typeof h!="boolean"&&!Rd(h)&&(Array.isArray(h)?h:[h]).forEach(x=>{const S=cg(t,x);if(!S)return;const{transitionEnd:_,transition:I,...T}=S;for(const v in T){let b=T[v];if(Array.isArray(b)){const D=f?b.length-1:0;b=b[D]}b!==null&&(r[v]=b)}for(const v in _)r[v]=_[v]}),r}const et=t=>t;class _0{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function bI(t){let e=new _0,n=new _0,s=0,r=!1,a=!1;const o=new WeakSet,l={schedule:(u,d=!1,f=!1)=>{const h=f&&r,p=h?e:n;return d&&o.add(u),p.add(u)&&h&&r&&(s=e.order.length),u},cancel:u=>{n.remove(u),o.delete(u)},process:u=>{if(r){a=!0;return}if(r=!0,[e,n]=[n,e],n.clear(),s=e.order.length,s)for(let d=0;d<s;d++){const f=e.order[d];f(u),o.has(f)&&(l.schedule(f),t())}r=!1,a&&(a=!1,l.process(u))}};return l}const kc=["prepare","read","update","preRender","render","postRender"],_I=40;function NI(t,e){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=kc.reduce((h,p)=>(h[p]=bI(()=>n=!0),h),{}),o=h=>a[h].process(r),l=()=>{const h=performance.now();n=!1,r.delta=s?1e3/60:Math.max(Math.min(h-r.timestamp,_I),1),r.timestamp=h,r.isProcessing=!0,kc.forEach(o),r.isProcessing=!1,n&&e&&(s=!1,t(l))},u=()=>{n=!0,s=!0,r.isProcessing||t(l)};return{schedule:kc.reduce((h,p)=>{const x=a[p];return h[p]=(S,_=!1,I=!1)=>(n||u(),x.schedule(S,_,I)),h},{}),cancel:h=>kc.forEach(p=>a[p].cancel(h)),state:r,steps:a}}const{schedule:Le,cancel:bs,state:kt,steps:Jh}=NI(typeof requestAnimationFrame<"u"?requestAnimationFrame:et,!0),SI={useVisualState:R_({scrapeMotionValuesFromProps:A_,createRenderState:j_,onMount:(t,e,{renderState:n,latestValues:s})=>{Le.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Le.render(()=>{ag(n,s,{enableHardwareAcceleration:!1},og(e.tagName),t.transformTemplate),C_(e,n)})}})},TI={useVisualState:R_({scrapeMotionValuesFromProps:lg,createRenderState:ig})};function EI(t,{forwardMotionProps:e=!1},n,s){return{...sg(t)?SI:TI,preloadedFeatures:n,useRender:gI(e),createVisualElement:s,Component:t}}function ls(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}const D_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Ld(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const jI=t=>e=>D_(e)&&t(e,Ld(e));function hs(t,e,n,s){return ls(t,e,jI(n),s)}const kI=(t,e)=>n=>e(t(n)),or=(...t)=>t.reduce(kI);function V_(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const N0=V_("dragHorizontal"),S0=V_("dragVertical");function L_(t){let e=!1;if(t==="y")e=S0();else if(t==="x")e=N0();else{const n=N0(),s=S0();n&&s?e=()=>{n(),s()}:(n&&n(),s&&s())}return e}function M_(){const t=L_(!0);return t?(t(),!1):!0}class Cr{constructor(e){this.isMounted=!1,this.node=e}update(){}}function T0(t,e){const n="pointer"+(e?"enter":"leave"),s="onHover"+(e?"Start":"End"),r=(a,o)=>{if(a.pointerType==="touch"||M_())return;const l=t.getProps();t.animationState&&l.whileHover&&t.animationState.setActive("whileHover",e),l[s]&&Le.update(()=>l[s](a,o))};return hs(t.current,n,r,{passive:!t.getProps()[s]})}class II extends Cr{mount(){this.unmount=or(T0(this.node,!0),T0(this.node,!1))}unmount(){}}class CI extends Cr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=or(ls(this.node.current,"focus",()=>this.onFocus()),ls(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const O_=(t,e)=>e?t===e?!0:O_(t,e.parentElement):!1;function Xh(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Ld(n))}class AI extends Cr{constructor(){super(...arguments),this.removeStartListeners=et,this.removeEndListeners=et,this.removeAccessibleListeners=et,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const s=this.node.getProps(),a=hs(window,"pointerup",(l,u)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:f,globalTapTarget:h}=this.node.getProps();Le.update(()=>{!h&&!O_(this.node.current,l.target)?f&&f(l,u):d&&d(l,u)})},{passive:!(s.onTap||s.onPointerUp)}),o=hs(window,"pointercancel",(l,u)=>this.cancelPress(l,u),{passive:!(s.onTapCancel||s.onPointerCancel)});this.removeEndListeners=or(a,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=a=>{if(a.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||Xh("up",(u,d)=>{const{onTap:f}=this.node.getProps();f&&Le.update(()=>f(u,d))})};this.removeEndListeners(),this.removeEndListeners=ls(this.node.current,"keyup",o),Xh("down",(l,u)=>{this.startPress(l,u)})},n=ls(this.node.current,"keydown",e),s=()=>{this.isPressing&&Xh("cancel",(a,o)=>this.cancelPress(a,o))},r=ls(this.node.current,"blur",s);this.removeAccessibleListeners=or(n,r)}}startPress(e,n){this.isPressing=!0;const{onTapStart:s,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),s&&Le.update(()=>s(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!M_()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:s}=this.node.getProps();s&&Le.update(()=>s(e,n))}mount(){const e=this.node.getProps(),n=hs(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),s=ls(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=or(n,s)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const ym=new WeakMap,Zh=new WeakMap,PI=t=>{const e=ym.get(t.target);e&&e(t)},RI=t=>{t.forEach(PI)};function DI({root:t,...e}){const n=t||document;Zh.has(n)||Zh.set(n,{});const s=Zh.get(n),r=JSON.stringify(e);return s[r]||(s[r]=new IntersectionObserver(RI,{root:t,...e})),s[r]}function VI(t,e,n){const s=DI(e);return ym.set(t,n),s.observe(t),()=>{ym.delete(t),s.unobserve(t)}}const LI={some:0,all:1};class MI extends Cr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:a}=e,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:LI[r]},l=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:h}=this.node.getProps(),p=d?f:h;p&&p(u)};return VI(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(OI(e,n))&&this.startObserver()}unmount(){}}function OI({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const FI={inView:{Feature:MI},tap:{Feature:AI},focus:{Feature:CI},hover:{Feature:II}};function F_(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}function UI(t){const e={};return t.values.forEach((n,s)=>e[s]=n.get()),e}function $I(t){const e={};return t.values.forEach((n,s)=>e[s]=n.getVelocity()),e}function Md(t,e,n){const s=t.getProps();return cg(s,e,n!==void 0?n:s.custom,UI(t),$I(t))}let ug=et;const si=t=>t*1e3,fs=t=>t/1e3,BI={current:!1},U_=t=>Array.isArray(t)&&typeof t[0]=="number";function $_(t){return!!(!t||typeof t=="string"&&B_[t]||U_(t)||Array.isArray(t)&&t.every($_))}const bo=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,B_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:bo([0,.65,.55,1]),circOut:bo([.55,0,1,.45]),backIn:bo([.31,.01,.66,-.59]),backOut:bo([.33,1.53,.69,.99])};function z_(t){if(t)return U_(t)?bo(t):Array.isArray(t)?t.map(z_):B_[t]}function zI(t,e,n,{delay:s=0,duration:r,repeat:a=0,repeatType:o="loop",ease:l,times:u}={}){const d={[e]:n};u&&(d.offset=u);const f=z_(l);return Array.isArray(f)&&(d.easing=f),t.animate(d,{delay:s,duration:r,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}function HI(t,{repeat:e,repeatType:n="loop"}){const s=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[s]}const H_=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,WI=1e-7,qI=12;function GI(t,e,n,s,r){let a,o,l=0;do o=e+(n-e)/2,a=H_(o,s,r)-t,a>0?n=o:e=o;while(Math.abs(a)>WI&&++l<qI);return o}function Rl(t,e,n,s){if(t===e&&n===s)return et;const r=a=>GI(a,0,1,t,n);return a=>a===0||a===1?a:H_(r(a),e,s)}const KI=Rl(.42,0,1,1),QI=Rl(0,0,.58,1),W_=Rl(.42,0,.58,1),YI=t=>Array.isArray(t)&&typeof t[0]!="number",q_=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,G_=t=>e=>1-t(1-e),dg=t=>1-Math.sin(Math.acos(t)),K_=G_(dg),JI=q_(dg),Q_=Rl(.33,1.53,.69,.99),hg=G_(Q_),XI=q_(hg),ZI=t=>(t*=2)<1?.5*hg(t):.5*(2-Math.pow(2,-10*(t-1))),eC={linear:et,easeIn:KI,easeInOut:W_,easeOut:QI,circIn:dg,circInOut:JI,circOut:K_,backIn:hg,backInOut:XI,backOut:Q_,anticipate:ZI},E0=t=>{if(Array.isArray(t)){ug(t.length===4);const[e,n,s,r]=t;return Rl(e,n,s,r)}else if(typeof t=="string")return eC[t];return t},fg=(t,e)=>n=>!!(Al(n)&&nI.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),Y_=(t,e,n)=>s=>{if(!Al(s))return s;const[r,a,o,l]=s.match(Vd);return{[t]:parseFloat(r),[e]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},tC=t=>yr(0,255,t),ef={..._i,transform:t=>Math.round(tC(t))},Xr={test:fg("rgb","red"),parse:Y_("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+ef.transform(t)+", "+ef.transform(e)+", "+ef.transform(n)+", "+Oo(Mo.transform(s))+")"};function nC(t){let e="",n="",s="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,s+=s,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const xm={test:fg("#"),parse:nC,transform:Xr.transform},Yi={test:fg("hsl","hue"),parse:Y_("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Gn.transform(Oo(e))+", "+Gn.transform(Oo(n))+", "+Oo(Mo.transform(s))+")"},Lt={test:t=>Xr.test(t)||xm.test(t)||Yi.test(t),parse:t=>Xr.test(t)?Xr.parse(t):Yi.test(t)?Yi.parse(t):xm.parse(t),transform:t=>Al(t)?t:t.hasOwnProperty("red")?Xr.transform(t):Yi.transform(t)},He=(t,e,n)=>-n*t+n*e+t;function tf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function sC({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let r=0,a=0,o=0;if(!e)r=a=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,u=2*n-l;r=tf(u,l,t+1/3),a=tf(u,l,t),o=tf(u,l,t-1/3)}return{red:Math.round(r*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:s}}const nf=(t,e,n)=>{const s=t*t;return Math.sqrt(Math.max(0,n*(e*e-s)+s))},rC=[xm,Xr,Yi],iC=t=>rC.find(e=>e.test(t));function j0(t){const e=iC(t);let n=e.parse(t);return e===Yi&&(n=sC(n)),n}const J_=(t,e)=>{const n=j0(t),s=j0(e),r={...n};return a=>(r.red=nf(n.red,s.red,a),r.green=nf(n.green,s.green,a),r.blue=nf(n.blue,s.blue,a),r.alpha=He(n.alpha,s.alpha,a),Xr.transform(r))};function aC(t){var e,n;return isNaN(t)&&Al(t)&&(((e=t.match(Vd))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(N_))===null||n===void 0?void 0:n.length)||0)>0}const X_={regex:eI,countKey:"Vars",token:"${v}",parse:et},Z_={regex:N_,countKey:"Colors",token:"${c}",parse:Lt.parse},e2={regex:Vd,countKey:"Numbers",token:"${n}",parse:_i.parse};function sf(t,{regex:e,countKey:n,token:s,parse:r}){const a=t.tokenised.match(e);a&&(t["num"+n]=a.length,t.tokenised=t.tokenised.replace(e,s),t.values.push(...a.map(r)))}function Lu(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&sf(n,X_),sf(n,Z_),sf(n,e2),n}function t2(t){return Lu(t).values}function n2(t){const{values:e,numColors:n,numVars:s,tokenised:r}=Lu(t),a=e.length;return o=>{let l=r;for(let u=0;u<a;u++)u<s?l=l.replace(X_.token,o[u]):u<s+n?l=l.replace(Z_.token,Lt.transform(o[u])):l=l.replace(e2.token,Oo(o[u]));return l}}const oC=t=>typeof t=="number"?0:t;function lC(t){const e=t2(t);return n2(t)(e.map(oC))}const xr={test:aC,parse:t2,createTransformer:n2,getAnimatableNone:lC},s2=(t,e)=>n=>`${n>0?e:t}`;function r2(t,e){return typeof t=="number"?n=>He(t,e,n):Lt.test(t)?J_(t,e):t.startsWith("var(")?s2(t,e):a2(t,e)}const i2=(t,e)=>{const n=[...t],s=n.length,r=t.map((a,o)=>r2(a,e[o]));return a=>{for(let o=0;o<s;o++)n[o]=r[o](a);return n}},cC=(t,e)=>{const n={...t,...e},s={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(s[r]=r2(t[r],e[r]));return r=>{for(const a in s)n[a]=s[a](r);return n}},a2=(t,e)=>{const n=xr.createTransformer(e),s=Lu(t),r=Lu(e);return s.numVars===r.numVars&&s.numColors===r.numColors&&s.numNumbers>=r.numNumbers?or(i2(s.values,r.values),n):s2(t,e)},fl=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s},k0=(t,e)=>n=>He(t,e,n);function uC(t){return typeof t=="number"?k0:typeof t=="string"?Lt.test(t)?J_:a2:Array.isArray(t)?i2:typeof t=="object"?cC:k0}function dC(t,e,n){const s=[],r=n||uC(t[0]),a=t.length-1;for(let o=0;o<a;o++){let l=r(t[o],t[o+1]);if(e){const u=Array.isArray(e)?e[o]||et:e;l=or(u,l)}s.push(l)}return s}function o2(t,e,{clamp:n=!0,ease:s,mixer:r}={}){const a=t.length;if(ug(a===e.length),a===1)return()=>e[0];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=dC(e,s,r),l=o.length,u=d=>{let f=0;if(l>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const h=fl(t[f],t[f+1],d);return o[f](h)};return n?d=>u(yr(t[0],t[a-1],d)):u}function hC(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const r=fl(0,e,s);t.push(He(n,1,r))}}function fC(t){const e=[0];return hC(e,t.length-1),e}function mC(t,e){return t.map(n=>n*e)}function pC(t,e){return t.map(()=>e||W_).splice(0,t.length-1)}function Mu({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const r=YI(s)?s.map(E0):E0(s),a={done:!1,value:e[0]},o=mC(n&&n.length===e.length?n:fC(e),t),l=o2(o,e,{ease:Array.isArray(r)?r:pC(e,r)});return{calculatedDuration:t,next:u=>(a.value=l(u),a.done=u>=t,a)}}function l2(t,e){return e?t*(1e3/e):0}const gC=5;function c2(t,e,n){const s=Math.max(e-gC,0);return l2(n-t(s),e-s)}const rf=.001,yC=.01,xC=10,vC=.05,wC=1;function bC({duration:t=800,bounce:e=.25,velocity:n=0,mass:s=1}){let r,a,o=1-e;o=yr(vC,wC,o),t=yr(yC,xC,fs(t)),o<1?(r=d=>{const f=d*o,h=f*t,p=f-n,x=vm(d,o),S=Math.exp(-h);return rf-p/x*S},a=d=>{const h=d*o*t,p=h*n+n,x=Math.pow(o,2)*Math.pow(d,2)*t,S=Math.exp(-h),_=vm(Math.pow(d,2),o);return(-r(d)+rf>0?-1:1)*((p-x)*S)/_}):(r=d=>{const f=Math.exp(-d*t),h=(d-n)*t+1;return-rf+f*h},a=d=>{const f=Math.exp(-d*t),h=(n-d)*(t*t);return f*h});const l=5/t,u=NC(r,a,l);if(t=si(t),isNaN(u))return{stiffness:100,damping:10,duration:t};{const d=Math.pow(u,2)*s;return{stiffness:d,damping:o*2*Math.sqrt(s*d),duration:t}}}const _C=12;function NC(t,e,n){let s=n;for(let r=1;r<_C;r++)s=s-t(s)/e(s);return s}function vm(t,e){return t*Math.sqrt(1-e*e)}const SC=["duration","bounce"],TC=["stiffness","damping","mass"];function I0(t,e){return e.some(n=>t[n]!==void 0)}function EC(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!I0(t,TC)&&I0(t,SC)){const n=bC(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function u2({keyframes:t,restDelta:e,restSpeed:n,...s}){const r=t[0],a=t[t.length-1],o={done:!1,value:r},{stiffness:l,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:p}=EC({...s,velocity:-fs(s.velocity||0)}),x=h||0,S=u/(2*Math.sqrt(l*d)),_=a-r,I=fs(Math.sqrt(l/d)),T=Math.abs(_)<5;n||(n=T?.01:2),e||(e=T?.005:.5);let v;if(S<1){const b=vm(I,S);v=D=>{const L=Math.exp(-S*I*D);return a-L*((x+S*I*_)/b*Math.sin(b*D)+_*Math.cos(b*D))}}else if(S===1)v=b=>a-Math.exp(-I*b)*(_+(x+I*_)*b);else{const b=I*Math.sqrt(S*S-1);v=D=>{const L=Math.exp(-S*I*D),U=Math.min(b*D,300);return a-L*((x+S*I*_)*Math.sinh(U)+b*_*Math.cosh(U))/b}}return{calculatedDuration:p&&f||null,next:b=>{const D=v(b);if(p)o.done=b>=f;else{let L=x;b!==0&&(S<1?L=c2(v,b,D):L=0);const U=Math.abs(L)<=n,k=Math.abs(a-D)<=e;o.done=U&&k}return o.value=o.done?a:D,o}}}function C0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:u,restDelta:d=.5,restSpeed:f}){const h=t[0],p={done:!1,value:h},x=N=>l!==void 0&&N<l||u!==void 0&&N>u,S=N=>l===void 0?u:u===void 0||Math.abs(l-N)<Math.abs(u-N)?l:u;let _=n*e;const I=h+_,T=o===void 0?I:o(I);T!==I&&(_=T-h);const v=N=>-_*Math.exp(-N/s),b=N=>T+v(N),D=N=>{const E=v(N),C=b(N);p.done=Math.abs(E)<=d,p.value=p.done?T:C};let L,U;const k=N=>{x(p.value)&&(L=N,U=u2({keyframes:[p.value,S(p.value)],velocity:c2(b,N,p.value),damping:r,stiffness:a,restDelta:d,restSpeed:f}))};return k(0),{calculatedDuration:null,next:N=>{let E=!1;return!U&&L===void 0&&(E=!0,D(N),k(N)),L!==void 0&&N>L?U.next(N-L):(!E&&D(N),p)}}}const jC=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Le.update(e,!0),stop:()=>bs(e),now:()=>kt.isProcessing?kt.timestamp:performance.now()}},A0=2e4;function P0(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<A0;)e+=n,s=t.next(e);return e>=A0?1/0:e}const kC={decay:C0,inertia:C0,tween:Mu,keyframes:Mu,spring:u2};function Ou({autoplay:t=!0,delay:e=0,driver:n=jC,keyframes:s,type:r="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:l="loop",onPlay:u,onStop:d,onComplete:f,onUpdate:h,...p}){let x=1,S=!1,_,I;const T=()=>{I=new Promise(ie=>{_=ie})};T();let v;const b=kC[r]||Mu;let D;b!==Mu&&typeof s[0]!="number"&&(D=o2([0,100],s,{clamp:!1}),s=[0,100]);const L=b({...p,keyframes:s});let U;l==="mirror"&&(U=b({...p,keyframes:[...s].reverse(),velocity:-(p.velocity||0)}));let k="idle",N=null,E=null,C=null;L.calculatedDuration===null&&a&&(L.calculatedDuration=P0(L));const{calculatedDuration:P}=L;let V=1/0,A=1/0;P!==null&&(V=P+o,A=V*(a+1)-o);let Q=0;const ae=ie=>{if(E===null)return;x>0&&(E=Math.min(E,ie)),x<0&&(E=Math.min(ie-A/x,E)),N!==null?Q=N:Q=Math.round(ie-E)*x;const K=Q-e*(x>=0?1:-1),Ie=x>=0?K<0:K>A;Q=Math.max(K,0),k==="finished"&&N===null&&(Q=A);let H=Q,be=L;if(a){const _n=Math.min(Q,A)/V;let Ln=Math.floor(_n),$t=_n%1;!$t&&_n>=1&&($t=1),$t===1&&Ln--,Ln=Math.min(Ln,a+1),!!(Ln%2)&&(l==="reverse"?($t=1-$t,o&&($t-=o/V)):l==="mirror"&&(be=U)),H=yr(0,1,$t)*V}const de=Ie?{done:!1,value:s[0]}:be.next(H);D&&(de.value=D(de.value));let{done:Ce}=de;!Ie&&P!==null&&(Ce=x>=0?Q>=A:Q<=0);const un=N===null&&(k==="finished"||k==="running"&&Ce);return h&&h(de.value),un&&O(),de},me=()=>{v&&v.stop(),v=void 0},pe=()=>{k="idle",me(),_(),T(),E=C=null},O=()=>{k="finished",f&&f(),me(),_()},q=()=>{if(S)return;v||(v=n(ae));const ie=v.now();u&&u(),N!==null?E=ie-N:(!E||k==="finished")&&(E=ie),k==="finished"&&T(),C=E,N=null,k="running",v.start()};t&&q();const ne={then(ie,K){return I.then(ie,K)},get time(){return fs(Q)},set time(ie){ie=si(ie),Q=ie,N!==null||!v||x===0?N=ie:E=v.now()-ie/x},get duration(){const ie=L.calculatedDuration===null?P0(L):L.calculatedDuration;return fs(ie)},get speed(){return x},set speed(ie){ie===x||!v||(x=ie,ne.time=fs(Q))},get state(){return k},play:q,pause:()=>{k="paused",N=Q},stop:()=>{S=!0,k!=="idle"&&(k="idle",d&&d(),pe())},cancel:()=>{C!==null&&ae(C),pe()},complete:()=>{k="finished"},sample:ie=>(E=0,ae(ie))};return ne}function IC(t){let e;return()=>(e===void 0&&(e=t()),e)}const CC=IC(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),AC=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Ic=10,PC=2e4,RC=(t,e)=>e.type==="spring"||t==="backgroundColor"||!$_(e.ease);function DC(t,e,{onUpdate:n,onComplete:s,...r}){if(!(CC()&&AC.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0&&r.type!=="inertia"))return!1;let o=!1,l,u,d=!1;const f=()=>{u=new Promise(b=>{l=b})};f();let{keyframes:h,duration:p=300,ease:x,times:S}=r;if(RC(e,r)){const b=Ou({...r,repeat:0,delay:0});let D={done:!1,value:h[0]};const L=[];let U=0;for(;!D.done&&U<PC;)D=b.sample(U),L.push(D.value),U+=Ic;S=void 0,h=L,p=U-Ic,x="linear"}const _=zI(t.owner.current,e,h,{...r,duration:p,ease:x,times:S}),I=()=>{d=!1,_.cancel()},T=()=>{d=!0,Le.update(I),l(),f()};return _.onfinish=()=>{d||(t.set(HI(h,r)),s&&s(),T())},{then(b,D){return u.then(b,D)},attachTimeline(b){return _.timeline=b,_.onfinish=null,et},get time(){return fs(_.currentTime||0)},set time(b){_.currentTime=si(b)},get speed(){return _.playbackRate},set speed(b){_.playbackRate=b},get duration(){return fs(p)},play:()=>{o||(_.play(),bs(I))},pause:()=>_.pause(),stop:()=>{if(o=!0,_.playState==="idle")return;const{currentTime:b}=_;if(b){const D=Ou({...r,autoplay:!1});t.setWithVelocity(D.sample(b-Ic).value,D.sample(b).value,Ic)}T()},complete:()=>{d||_.finish()},cancel:T}}function VC({keyframes:t,delay:e,onUpdate:n,onComplete:s}){const r=()=>(n&&n(t[t.length-1]),s&&s(),{time:0,speed:1,duration:0,play:et,pause:et,stop:et,then:a=>(a(),Promise.resolve()),cancel:et,complete:et});return e?Ou({keyframes:[0,1],duration:0,delay:e,onComplete:r}):r()}const LC={type:"spring",stiffness:500,damping:25,restSpeed:10},MC=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),OC={type:"keyframes",duration:.8},FC={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},UC=(t,{keyframes:e})=>e.length>2?OC:bi.has(t)?t.startsWith("scale")?MC(e[1]):LC:FC,wm=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(xr.test(e)||e==="0")&&!e.startsWith("url(")),$C=new Set(["brightness","contrast","saturate","opacity"]);function BC(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Vd)||[];if(!s)return t;const r=n.replace(s,"");let a=$C.has(e)?1:0;return s!==n&&(a*=100),e+"("+a+r+")"}const zC=/([a-z-]*)\(.*?\)/g,bm={...xr,getAnimatableNone:t=>{const e=t.match(zC);return e?e.map(BC).join(" "):t}},HC={...S_,color:Lt,backgroundColor:Lt,outlineColor:Lt,fill:Lt,stroke:Lt,borderColor:Lt,borderTopColor:Lt,borderRightColor:Lt,borderBottomColor:Lt,borderLeftColor:Lt,filter:bm,WebkitFilter:bm},mg=t=>HC[t];function d2(t,e){let n=mg(t);return n!==bm&&(n=xr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const h2=t=>/^0[^.\s]+$/.test(t);function WC(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||h2(t)}function qC(t,e,n,s){const r=wm(e,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const o=s.from!==void 0?s.from:t.get();let l;const u=[];for(let d=0;d<a.length;d++)a[d]===null&&(a[d]=d===0?o:a[d-1]),WC(a[d])&&u.push(d),typeof a[d]=="string"&&a[d]!=="none"&&a[d]!=="0"&&(l=a[d]);if(r&&u.length&&l)for(let d=0;d<u.length;d++){const f=u[d];a[f]=d2(e,l)}return a}function GC({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:a,repeatType:o,repeatDelay:l,from:u,elapsed:d,...f}){return!!Object.keys(f).length}function pg(t,e){return t[e]||t.default||t}const KC={skipAnimations:!1},gg=(t,e,n,s={})=>r=>{const a=pg(s,t)||{},o=a.delay||s.delay||0;let{elapsed:l=0}=s;l=l-si(o);const u=qC(e,t,n,a),d=u[0],f=u[u.length-1],h=wm(t,d),p=wm(t,f);let x={keyframes:u,velocity:e.getVelocity(),ease:"easeOut",...a,delay:-l,onUpdate:S=>{e.set(S),a.onUpdate&&a.onUpdate(S)},onComplete:()=>{r(),a.onComplete&&a.onComplete()}};if(GC(a)||(x={...x,...UC(t,x)}),x.duration&&(x.duration=si(x.duration)),x.repeatDelay&&(x.repeatDelay=si(x.repeatDelay)),!h||!p||BI.current||a.type===!1||KC.skipAnimations)return VC(x);if(!s.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const S=DC(e,t,x);if(S)return S}return Ou(x)};function Fu(t){return!!(Qt(t)&&t.add)}const f2=t=>/^\-?\d*\.?\d+$/.test(t);function yg(t,e){t.indexOf(e)===-1&&t.push(e)}function xg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class vg{constructor(){this.subscriptions=[]}add(e){return yg(this.subscriptions,e),()=>xg(this.subscriptions,e)}notify(e,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,s);else for(let a=0;a<r;a++){const o=this.subscriptions[a];o&&o(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const QC=t=>!isNaN(parseFloat(t));class YC{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(s,r=!0)=>{this.prev=this.current,this.current=s;const{delta:a,timestamp:o}=kt;this.lastUpdated!==o&&(this.timeDelta=a,this.lastUpdated=o,Le.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Le.postRender(this.velocityCheck),this.velocityCheck=({timestamp:s})=>{s!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=QC(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new vg);const s=this.events[e].add(n);return e==="change"?()=>{s(),Le.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=e,this.timeDelta=s}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?l2(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xa(t,e){return new YC(t,e)}const m2=t=>e=>e.test(t),JC={test:t=>t==="auto",parse:t=>t},p2=[_i,ce,Gn,Us,rI,sI,JC],po=t=>p2.find(m2(t)),XC=[...p2,Lt,xr],ZC=t=>XC.find(m2(t));function eA(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,xa(n))}function tA(t,e){const n=Md(t,e);let{transitionEnd:s={},transition:r={},...a}=n?t.makeTargetAnimatable(n,!1):{};a={...a,...s};for(const o in a){const l=xI(a[o]);eA(t,o,l)}}function nA(t,e,n){var s,r;const a=Object.keys(e).filter(l=>!t.hasValue(l)),o=a.length;if(o)for(let l=0;l<o;l++){const u=a[l],d=e[u];let f=null;Array.isArray(d)&&(f=d[0]),f===null&&(f=(r=(s=n[u])!==null&&s!==void 0?s:t.readValue(u))!==null&&r!==void 0?r:e[u]),f!=null&&(typeof f=="string"&&(f2(f)||h2(f))?f=parseFloat(f):!ZC(f)&&xr.test(d)&&(f=d2(u,d)),t.addValue(u,xa(f,{owner:t})),n[u]===void 0&&(n[u]=f),f!==null&&t.setBaseTarget(u,f))}}function sA(t,e){return e?(e[t]||e.default||e).from:void 0}function rA(t,e,n){const s={};for(const r in t){const a=sA(r,e);if(a!==void 0)s[r]=a;else{const o=n.getValue(r);o&&(s[r]=o.get())}}return s}function iA({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function aA(t,e){const n=t.get();if(Array.isArray(e)){for(let s=0;s<e.length;s++)if(e[s]!==n)return!0}else return n!==e}function g2(t,e,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:o,...l}=t.makeTargetAnimatable(e);const u=t.getValue("willChange");s&&(a=s);const d=[],f=r&&t.animationState&&t.animationState.getState()[r];for(const h in l){const p=t.getValue(h),x=l[h];if(!p||x===void 0||f&&iA(f,h))continue;const S={delay:n,elapsed:0,...pg(a||{},h)};if(window.HandoffAppearAnimations){const T=t.getProps()[y_];if(T){const v=window.HandoffAppearAnimations(T,h,p,Le);v!==null&&(S.elapsed=v,S.isHandoff=!0)}}let _=!S.isHandoff&&!aA(p,x);if(S.type==="spring"&&(p.getVelocity()||S.velocity)&&(_=!1),p.animation&&(_=!1),_)continue;p.start(gg(h,p,x,t.shouldReduceMotion&&bi.has(h)?{type:!1}:S));const I=p.animation;Fu(u)&&(u.add(h),I.then(()=>u.remove(h))),d.push(I)}return o&&Promise.all(d).then(()=>{o&&tA(t,o)}),d}function _m(t,e,n={}){const s=Md(t,e,n.custom);let{transition:r=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const a=s?()=>Promise.all(g2(t,s,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=r;return oA(t,e,d+u,f,h,n)}:()=>Promise.resolve(),{when:l}=r;if(l){const[u,d]=l==="beforeChildren"?[a,o]:[o,a];return u().then(()=>d())}else return Promise.all([a(),o(n.delay)])}function oA(t,e,n=0,s=0,r=1,a){const o=[],l=(t.variantChildren.size-1)*s,u=r===1?(d=0)=>d*s:(d=0)=>l-d*s;return Array.from(t.variantChildren).sort(lA).forEach((d,f)=>{d.notify("AnimationStart",e),o.push(_m(d,e,{...a,delay:n+u(f)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(o)}function lA(t,e){return t.sortNodePosition(e)}function cA(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const r=e.map(a=>_m(t,a,n));s=Promise.all(r)}else if(typeof e=="string")s=_m(t,e,n);else{const r=typeof e=="function"?Md(t,e,n.custom):e;s=Promise.all(g2(t,r,n))}return s.then(()=>t.notify("AnimationComplete",e))}const uA=[...eg].reverse(),dA=eg.length;function hA(t){return e=>Promise.all(e.map(({animation:n,options:s})=>cA(t,n,s)))}function fA(t){let e=hA(t);const n=pA();let s=!0;const r=(u,d)=>{const f=Md(t,d);if(f){const{transition:h,transitionEnd:p,...x}=f;u={...u,...x,...p}}return u};function a(u){e=u(t)}function o(u,d){const f=t.getProps(),h=t.getVariantContext(!0)||{},p=[],x=new Set;let S={},_=1/0;for(let T=0;T<dA;T++){const v=uA[T],b=n[v],D=f[v]!==void 0?f[v]:h[v],L=dl(D),U=v===d?b.isActive:null;U===!1&&(_=T);let k=D===h[v]&&D!==f[v]&&L;if(k&&s&&t.manuallyAnimateOnMount&&(k=!1),b.protectedKeys={...S},!b.isActive&&U===null||!D&&!b.prevProp||Rd(D)||typeof D=="boolean")continue;let E=mA(b.prevProp,D)||v===d&&b.isActive&&!k&&L||T>_&&L,C=!1;const P=Array.isArray(D)?D:[D];let V=P.reduce(r,{});U===!1&&(V={});const{prevResolvedValues:A={}}=b,Q={...A,...V},ae=me=>{E=!0,x.has(me)&&(C=!0,x.delete(me)),b.needsAnimating[me]=!0};for(const me in Q){const pe=V[me],O=A[me];if(S.hasOwnProperty(me))continue;let q=!1;Vu(pe)&&Vu(O)?q=!F_(pe,O):q=pe!==O,q?pe!==void 0?ae(me):x.add(me):pe!==void 0&&x.has(me)?ae(me):b.protectedKeys[me]=!0}b.prevProp=D,b.prevResolvedValues=V,b.isActive&&(S={...S,...V}),s&&t.blockInitialAnimation&&(E=!1),E&&(!k||C)&&p.push(...P.map(me=>({animation:me,options:{type:v,...u}})))}if(x.size){const T={};x.forEach(v=>{const b=t.getBaseTarget(v);b!==void 0&&(T[v]=b)}),p.push({animation:T})}let I=!!p.length;return s&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(I=!1),s=!1,I?e(p):Promise.resolve()}function l(u,d,f){var h;if(n[u].isActive===d)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(x=>{var S;return(S=x.animationState)===null||S===void 0?void 0:S.setActive(u,d)}),n[u].isActive=d;const p=o(f,u);for(const x in n)n[x].protectedKeys={};return p}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>n}}function mA(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!F_(e,t):!1}function Br(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function pA(){return{animate:Br(!0),whileInView:Br(),whileHover:Br(),whileTap:Br(),whileDrag:Br(),whileFocus:Br(),exit:Br()}}class gA extends Cr{constructor(e){super(e),e.animationState||(e.animationState=fA(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Rd(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let yA=0;class xA extends Cr{constructor(){super(...arguments),this.id=yA++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e,{custom:s??this.node.getProps().custom});n&&!e&&a.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const vA={animation:{Feature:gA},exit:{Feature:xA}},R0=(t,e)=>Math.abs(t-e);function wA(t,e){const n=R0(t.x,e.x),s=R0(t.y,e.y);return Math.sqrt(n**2+s**2)}class y2{constructor(e,n,{transformPagePoint:s,contextWindow:r,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=of(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,x=wA(h.offset,{x:0,y:0})>=3;if(!p&&!x)return;const{point:S}=h,{timestamp:_}=kt;this.history.push({...S,timestamp:_});const{onStart:I,onMove:T}=this.handlers;p||(I&&I(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=af(p,this.transformPagePoint),Le.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:x,onSessionEnd:S,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=of(h.type==="pointercancel"?this.lastMoveEventInfo:af(p,this.transformPagePoint),this.history);this.startEvent&&x&&x(h,I),S&&S(h,I)},!D_(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.contextWindow=r||window;const o=Ld(e),l=af(o,this.transformPagePoint),{point:u}=l,{timestamp:d}=kt;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=n;f&&f(e,of(l,this.history)),this.removeListeners=or(hs(this.contextWindow,"pointermove",this.handlePointerMove),hs(this.contextWindow,"pointerup",this.handlePointerUp),hs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),bs(this.updatePoint)}}function af(t,e){return e?{point:e(t.point)}:t}function D0(t,e){return{x:t.x-e.x,y:t.y-e.y}}function of({point:t},e){return{point:t,delta:D0(t,x2(e)),offset:D0(t,bA(e)),velocity:_A(e,.1)}}function bA(t){return t[0]}function x2(t){return t[t.length-1]}function _A(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const r=x2(t);for(;n>=0&&(s=t[n],!(r.timestamp-s.timestamp>si(e)));)n--;if(!s)return{x:0,y:0};const a=fs(r.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const o={x:(r.x-s.x)/a,y:(r.y-s.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function on(t){return t.max-t.min}function Nm(t,e=0,n=.01){return Math.abs(t-e)<=n}function V0(t,e,n,s=.5){t.origin=s,t.originPoint=He(e.min,e.max,t.origin),t.scale=on(n)/on(e),(Nm(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=He(n.min,n.max,t.origin)-t.originPoint,(Nm(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Fo(t,e,n,s){V0(t.x,e.x,n.x,s?s.originX:void 0),V0(t.y,e.y,n.y,s?s.originY:void 0)}function L0(t,e,n){t.min=n.min+e.min,t.max=t.min+on(e)}function NA(t,e,n){L0(t.x,e.x,n.x),L0(t.y,e.y,n.y)}function M0(t,e,n){t.min=e.min-n.min,t.max=t.min+on(e)}function Uo(t,e,n){M0(t.x,e.x,n.x),M0(t.y,e.y,n.y)}function SA(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?He(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?He(n,t,s.max):Math.min(t,n)),t}function O0(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function TA(t,{top:e,left:n,bottom:s,right:r}){return{x:O0(t.x,n,r),y:O0(t.y,e,s)}}function F0(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function EA(t,e){return{x:F0(t.x,e.x),y:F0(t.y,e.y)}}function jA(t,e){let n=.5;const s=on(t),r=on(e);return r>s?n=fl(e.min,e.max-s,t.min):s>r&&(n=fl(t.min,t.max-r,e.min)),yr(0,1,n)}function kA(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Sm=.35;function IA(t=Sm){return t===!1?t=0:t===!0&&(t=Sm),{x:U0(t,"left","right"),y:U0(t,"top","bottom")}}function U0(t,e,n){return{min:$0(t,e),max:$0(t,n)}}function $0(t,e){return typeof t=="number"?t:t[e]||0}const B0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ji=()=>({x:B0(),y:B0()}),z0=()=>({min:0,max:0}),nt=()=>({x:z0(),y:z0()});function hn(t){return[t("x"),t("y")]}function v2({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function CA({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function AA(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function lf(t){return t===void 0||t===1}function Tm({scale:t,scaleX:e,scaleY:n}){return!lf(t)||!lf(e)||!lf(n)}function Wr(t){return Tm(t)||w2(t)||t.z||t.rotate||t.rotateX||t.rotateY}function w2(t){return H0(t.x)||H0(t.y)}function H0(t){return t&&t!=="0%"}function Uu(t,e,n){const s=t-n,r=e*s;return n+r}function W0(t,e,n,s,r){return r!==void 0&&(t=Uu(t,r,s)),Uu(t,n,s)+e}function Em(t,e=0,n=1,s,r){t.min=W0(t.min,e,n,s,r),t.max=W0(t.max,e,n,s,r)}function b2(t,{x:e,y:n}){Em(t.x,e.translate,e.scale,e.originPoint),Em(t.y,n.translate,n.scale,n.originPoint)}function PA(t,e,n,s=!1){const r=n.length;if(!r)return;e.x=e.y=1;let a,o;for(let l=0;l<r;l++){a=n[l],o=a.projectionDelta;const u=a.instance;u&&u.style&&u.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Xi(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,b2(t,o)),s&&Wr(a.latestValues)&&Xi(t,a.latestValues))}e.x=q0(e.x),e.y=q0(e.y)}function q0(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function zs(t,e){t.min=t.min+e,t.max=t.max+e}function G0(t,e,[n,s,r]){const a=e[r]!==void 0?e[r]:.5,o=He(t.min,t.max,a);Em(t,e[n],e[s],o,e.scale)}const RA=["x","scaleX","originX"],DA=["y","scaleY","originY"];function Xi(t,e){G0(t.x,e,RA),G0(t.y,e,DA)}function _2(t,e){return v2(AA(t.getBoundingClientRect(),e))}function VA(t,e,n){const s=_2(t,n),{scroll:r}=e;return r&&(zs(s.x,r.offset.x),zs(s.y,r.offset.y)),s}const N2=({current:t})=>t?t.ownerDocument.defaultView:null,LA=new WeakMap;class MA{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ld(f,"page").point)},a=(f,h)=>{const{drag:p,dragPropagation:x,onDragStart:S}=this.getProps();if(p&&!x&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=L_(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),hn(I=>{let T=this.getAxisMotionValue(I).get()||0;if(Gn.test(T)){const{projection:v}=this.visualElement;if(v&&v.layout){const b=v.layout.layoutBox[I];b&&(T=on(b)*(parseFloat(T)/100))}}this.originPoint[I]=T}),S&&Le.update(()=>S(f,h),!1,!0);const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},o=(f,h)=>{const{dragPropagation:p,dragDirectionLock:x,onDirectionLock:S,onDrag:_}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:I}=h;if(x&&this.currentDirection===null){this.currentDirection=OA(I),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",h.point,I),this.updateAxis("y",h.point,I),this.visualElement.render(),_&&_(f,h)},l=(f,h)=>this.stop(f,h),u=()=>hn(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new y2(e,{onSessionStart:r,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:N2(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:a}=this.getProps();a&&Le.update(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:r}=this.getProps();if(!s||!Cc(e,r,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(o=SA(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&Qi(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=TA(r.layoutBox,n):this.constraints=!1,this.elastic=IA(s),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&hn(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=kA(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Qi(e))return!1;const s=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=VA(s,r.root,this.visualElement.getTransformPagePoint());let o=EA(r.layout.layoutBox,a);if(n){const l=n(CA(o));this.hasMutatedConstraints=!!l,l&&(o=v2(l))}return o}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},d=hn(f=>{if(!Cc(f,n,this.currentDirection))return;let h=u&&u[f]||{};o&&(h={min:0,max:0});const p=r?200:1e6,x=r?40:1e7,S={type:"inertia",velocity:s?e[f]:0,bounceStiffness:p,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(f,S)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return s.start(gg(e,s,0,n))}stopAnimation(){hn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){hn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){hn(n=>{const{drag:s}=this.getProps();if(!Cc(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:l}=r.layout.layoutBox[n];a.set(e[n]-He(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Qi(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};hn(o=>{const l=this.getAxisMotionValue(o);if(l){const u=l.get();r[o]=jA({min:u,max:u},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),hn(o=>{if(!Cc(o,e,null))return;const l=this.getAxisMotionValue(o),{min:u,max:d}=this.constraints[o];l.set(He(u,d,r[o]))})}addListeners(){if(!this.visualElement.current)return;LA.set(this.visualElement,this);const e=this.visualElement.current,n=hs(e,"pointerdown",u=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(u)}),s=()=>{const{dragConstraints:u}=this.getProps();Qi(u)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,a=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),s();const o=ls(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(hn(f=>{const h=this.getAxisMotionValue(f);h&&(this.originPoint[f]+=u[f].translate,h.set(h.get()+u[f].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:o=Sm,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function Cc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function OA(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class FA extends Cr{constructor(e){super(e),this.removeGroupControls=et,this.removeListeners=et,this.controls=new MA(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||et}unmount(){this.removeGroupControls(),this.removeListeners()}}const K0=t=>(e,n)=>{t&&Le.update(()=>t(e,n))};class UA extends Cr{constructor(){super(...arguments),this.removePointerDownListener=et}onPointerDown(e){this.session=new y2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:N2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:K0(e),onStart:K0(n),onMove:s,onEnd:(a,o)=>{delete this.session,r&&Le.update(()=>r(a,o))}}}mount(){this.removePointerDownListener=hs(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function $A(){const t=R.useContext(Ad);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:s}=t,r=R.useId();return R.useEffect(()=>s(r),[]),!e&&n?[!1,()=>n&&n(r)]:[!0]}const Yc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Q0(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const go={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ce.test(t))t=parseFloat(t);else return t;const n=Q0(t,e.target.x),s=Q0(t,e.target.y);return`${n}% ${s}%`}},BA={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,r=xr.parse(t);if(r.length>5)return s;const a=xr.createTransformer(t),o=typeof r[0]!="number"?1:0,l=n.x.scale*e.x,u=n.y.scale*e.y;r[0+o]/=l,r[1+o]/=u;const d=He(l,u,.5);return typeof r[2+o]=="number"&&(r[2+o]/=d),typeof r[3+o]=="number"&&(r[3+o]/=d),a(r)}};class zA extends md.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:a}=e;Yk(HA),a&&(n.group&&n.group.add(a),s&&s.register&&r&&s.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Yc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:r,isPresent:a}=this.props,o=s.projection;return o&&(o.isPresent=a,r||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||Le.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function S2(t){const[e,n]=$A(),s=R.useContext(ng);return md.createElement(zA,{...t,layoutGroup:s,switchLayoutGroup:R.useContext(v_),isPresent:e,safeToRemove:n})}const HA={borderRadius:{...go,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:go,borderTopRightRadius:go,borderBottomLeftRadius:go,borderBottomRightRadius:go,boxShadow:BA},T2=["TopLeft","TopRight","BottomLeft","BottomRight"],WA=T2.length,Y0=t=>typeof t=="string"?parseFloat(t):t,J0=t=>typeof t=="number"||ce.test(t);function qA(t,e,n,s,r,a){r?(t.opacity=He(0,n.opacity!==void 0?n.opacity:1,GA(s)),t.opacityExit=He(e.opacity!==void 0?e.opacity:1,0,KA(s))):a&&(t.opacity=He(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let o=0;o<WA;o++){const l=`border${T2[o]}Radius`;let u=X0(e,l),d=X0(n,l);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||J0(u)===J0(d)?(t[l]=Math.max(He(Y0(u),Y0(d),s),0),(Gn.test(d)||Gn.test(u))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=He(e.rotate||0,n.rotate||0,s))}function X0(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const GA=E2(0,.5,K_),KA=E2(.5,.95,et);function E2(t,e,n){return s=>s<t?0:s>e?1:n(fl(t,e,s))}function Z0(t,e){t.min=e.min,t.max=e.max}function dn(t,e){Z0(t.x,e.x),Z0(t.y,e.y)}function ev(t,e,n,s,r){return t-=e,t=Uu(t,1/n,s),r!==void 0&&(t=Uu(t,1/r,s)),t}function QA(t,e=0,n=1,s=.5,r,a=t,o=t){if(Gn.test(e)&&(e=parseFloat(e),e=He(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=He(a.min,a.max,s);t===a&&(l-=e),t.min=ev(t.min,e,n,l,r),t.max=ev(t.max,e,n,l,r)}function tv(t,e,[n,s,r],a,o){QA(t,e[n],e[s],e[r],e.scale,a,o)}const YA=["x","scaleX","originX"],JA=["y","scaleY","originY"];function nv(t,e,n,s){tv(t.x,e,YA,n?n.x:void 0,s?s.x:void 0),tv(t.y,e,JA,n?n.y:void 0,s?s.y:void 0)}function sv(t){return t.translate===0&&t.scale===1}function j2(t){return sv(t.x)&&sv(t.y)}function XA(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function k2(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function rv(t){return on(t.x)/on(t.y)}class ZA{constructor(){this.members=[]}add(e){yg(this.members,e),e.scheduleRender()}remove(e){if(xg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const a=this.members[r];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function iv(t,e,n){let s="";const r=t.x.translate/e.x,a=t.y.translate/e.y;if((r||a)&&(s=`translate3d(${r}px, ${a}px, 0) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:u,rotateX:d,rotateY:f}=n;u&&(s+=`rotate(${u}deg) `),d&&(s+=`rotateX(${d}deg) `),f&&(s+=`rotateY(${f}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(s+=`scale(${o}, ${l})`),s||"none"}const eP=(t,e)=>t.depth-e.depth;class tP{constructor(){this.children=[],this.isDirty=!1}add(e){yg(this.children,e),this.isDirty=!0}remove(e){xg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(eP),this.isDirty=!1,this.children.forEach(e)}}function nP(t,e){const n=performance.now(),s=({timestamp:r})=>{const a=r-n;a>=e&&(bs(s),t(a-e))};return Le.read(s,!0),()=>bs(s)}function sP(t){window.MotionDebug&&window.MotionDebug.record(t)}function rP(t){return t instanceof SVGElement&&t.tagName!=="svg"}function iP(t,e,n){const s=Qt(t)?t:xa(t);return s.start(gg("",s,e,n)),s.animation}const av=["","X","Y","Z"],aP={visibility:"hidden"},ov=1e3;let oP=0;const qr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function I2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(o={},l=e==null?void 0:e()){this.id=oP++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,qr.totalNodes=qr.resolvedTargetDeltas=qr.recalculatedProjection=0,this.nodes.forEach(uP),this.nodes.forEach(pP),this.nodes.forEach(gP),this.nodes.forEach(dP),sP(qr)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new tP)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new vg),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const u=this.eventHandlers.get(o);u&&u.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=rP(o),this.instance=o;const{layoutId:u,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||u)&&(this.isLayoutDirty=!0),t){let h;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=nP(p,250),Yc.hasAnimatedSinceResize&&(Yc.hasAnimatedSinceResize=!1,this.nodes.forEach(cv))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:x,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||f.getDefaultTransition()||bP,{onLayoutAnimationStart:I,onLayoutAnimationComplete:T}=f.getProps(),v=!this.targetLayout||!k2(this.targetLayout,S)||x,b=!p&&x;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||p&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,b);const D={...pg(_,"layout"),onPlay:I,onComplete:T};(f.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D)}else p||cv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,bs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(yP),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const h=this.path[f];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(lv);return}this.isUpdating||this.nodes.forEach(fP),this.isUpdating=!1,this.nodes.forEach(mP),this.nodes.forEach(lP),this.nodes.forEach(cP),this.clearAllSnapshots();const l=performance.now();kt.delta=yr(0,1e3/60,l-kt.timestamp),kt.timestamp=l,kt.isProcessing=!0,Jh.update.process(kt),Jh.preRender.process(kt),Jh.render.process(kt),kt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(hP),this.sharedNodes.forEach(xP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Le.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Le.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=nt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:s(this.instance),offset:n(this.instance)})}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!j2(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;o&&(l||Wr(this.latestValues)||f)&&(r(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return o&&(u=this.removeTransform(u)),_P(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return nt();const l=o.measureViewportBox(),{scroll:u}=this.root;return u&&(zs(l.x,u.offset.x),zs(l.y,u.offset.y)),l}removeElementScroll(o){const l=nt();dn(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;if(d!==this.root&&f&&h.layoutScroll){if(f.isRoot){dn(l,o);const{scroll:p}=this.root;p&&(zs(l.x,-p.offset.x),zs(l.y,-p.offset.y))}zs(l.x,f.offset.x),zs(l.y,f.offset.y)}}return l}applyTransform(o,l=!1){const u=nt();dn(u,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Xi(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Wr(f.latestValues)&&Xi(u,f.latestValues)}return Wr(this.latestValues)&&Xi(u,this.latestValues),u}removeTransform(o){const l=nt();dn(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!Wr(d.latestValues))continue;Tm(d.latestValues)&&d.updateSnapshot();const f=nt(),h=d.measurePageBox();dn(f,h),nv(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return Wr(this.latestValues)&&nv(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==kt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=kt.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nt(),this.relativeTargetOrigin=nt(),Uo(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=nt(),this.targetWithTransforms=nt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),NA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):dn(this.target,this.layout.layoutBox),b2(this.target,this.targetDelta)):dn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nt(),this.relativeTargetOrigin=nt(),Uo(this.relativeTargetOrigin,this.target,x.target),dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}qr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Tm(this.parent.latestValues)||w2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===kt.timestamp&&(d=!1),d)return;const{layout:f,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||h))return;dn(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,x=this.treeScale.y;PA(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:S}=l;if(!S){this.projectionTransform&&(this.projectionDelta=Ji(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ji(),this.projectionDeltaWithTransform=Ji());const _=this.projectionTransform;Fo(this.projectionDelta,this.layoutCorrected,S,this.latestValues),this.projectionTransform=iv(this.projectionDelta,this.treeScale),(this.projectionTransform!==_||this.treeScale.x!==p||this.treeScale.y!==x)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S)),qr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const u=this.snapshot,d=u?u.latestValues:{},f={...this.latestValues},h=Ji();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=nt(),x=u?u.source:void 0,S=this.layout?this.layout.source:void 0,_=x!==S,I=this.getStack(),T=!I||I.members.length<=1,v=!!(_&&!T&&this.options.crossfade===!0&&!this.path.some(wP));this.animationProgress=0;let b;this.mixTargetDelta=D=>{const L=D/1e3;uv(h.x,o.x,L),uv(h.y,o.y,L),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Uo(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),vP(this.relativeTarget,this.relativeTargetOrigin,p,L),b&&XA(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=nt()),dn(b,this.relativeTarget)),_&&(this.animationValues=f,qA(f,d,this.latestValues,L,v,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(bs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Le.update(()=>{Yc.hasAnimatedSinceResize=!0,this.currentAnimation=iP(0,ov,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ov),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:u,layout:d,latestValues:f}=o;if(!(!l||!u||!d)){if(this!==o&&this.layout&&d&&C2(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||nt();const h=on(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+h;const p=on(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+p}dn(l,u),Xi(l,f),Fo(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new ZA),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:u}=o;if((u.rotate||u.rotateX||u.rotateY||u.rotateZ)&&(l=!0),!l)return;const d={};for(let f=0;f<av.length;f++){const h="rotate"+av[f];u[h]&&(d[h]=u[h],o.setStaticValue(h,0))}o.render();for(const f in d)o.setStaticValue(f,d[f]);o.scheduleRender()}getProjectionStyles(o){var l,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return aP;const d={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Qc(o==null?void 0:o.pointerEvents)||"",d.transform=f?f(this.latestValues,""):"none",d;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=Qc(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Wr(this.latestValues)&&(_.transform=f?f({},""):"none",this.hasProjected=!1),_}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),d.transform=iv(this.projectionDeltaWithTransform,this.treeScale,p),f&&(d.transform=f(p,d.transform));const{x,y:S}=this.projectionDelta;d.transformOrigin=`${x.origin*100}% ${S.origin*100}% 0`,h.animationValues?d.opacity=h===this?(u=(l=p.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:d.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const _ in Ru){if(p[_]===void 0)continue;const{correct:I,applyTo:T}=Ru[_],v=d.transform==="none"?p[_]:I(p[_],h);if(T){const b=T.length;for(let D=0;D<b;D++)d[T[D]]=v}else d[_]=v}return this.options.layoutId&&(d.pointerEvents=h===this?Qc(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(lv),this.root.sharedNodes.clear()}}}function lP(t){t.updateLayout()}function cP(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=t.layout,{animationType:a}=t.options,o=n.source!==t.layout.source;a==="size"?hn(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],x=on(p);p.min=s[h].min,p.max=p.min+x}):C2(a,n.layoutBox,s)&&hn(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],x=on(s[h]);p.max=p.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+x)});const l=Ji();Fo(l,s,n.layoutBox);const u=Ji();o?Fo(u,t.applyTransform(r,!0),n.measuredBox):Fo(u,s,n.layoutBox);const d=!j2(l);let f=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:x}=h;if(p&&x){const S=nt();Uo(S,n.layoutBox,p.layoutBox);const _=nt();Uo(_,s,x.layoutBox),k2(S,_)||(f=!0),h.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=S,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:f})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function uP(t){qr.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function dP(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function hP(t){t.clearSnapshot()}function lv(t){t.clearMeasurements()}function fP(t){t.isLayoutDirty=!1}function mP(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function cv(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function pP(t){t.resolveTargetDelta()}function gP(t){t.calcProjection()}function yP(t){t.resetRotation()}function xP(t){t.removeLeadSnapshot()}function uv(t,e,n){t.translate=He(e.translate,0,n),t.scale=He(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function dv(t,e,n,s){t.min=He(e.min,n.min,s),t.max=He(e.max,n.max,s)}function vP(t,e,n,s){dv(t.x,e.x,n.x,s),dv(t.y,e.y,n.y,s)}function wP(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const bP={duration:.45,ease:[.4,0,.1,1]},hv=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),fv=hv("applewebkit/")&&!hv("chrome/")?Math.round:et;function mv(t){t.min=fv(t.min),t.max=fv(t.max)}function _P(t){mv(t.x),mv(t.y)}function C2(t,e,n){return t==="position"||t==="preserve-aspect"&&!Nm(rv(e),rv(n),.2)}const NP=I2({attachResizeListener:(t,e)=>ls(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),cf={current:void 0},A2=I2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!cf.current){const t=new NP({});t.mount(window),t.setOptions({layoutScroll:!0}),cf.current=t}return cf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),SP={pan:{Feature:UA},drag:{Feature:FA,ProjectionNode:A2,MeasureLayout:S2}},TP=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function EP(t){const e=TP.exec(t);if(!e)return[,];const[,n,s]=e;return[n,s]}function jm(t,e,n=1){const[s,r]=EP(t);if(!s)return;const a=window.getComputedStyle(e).getPropertyValue(s);if(a){const o=a.trim();return f2(o)?parseFloat(o):o}else return gm(r)?jm(r,e,n+1):r}function jP(t,{...e},n){const s=t.current;if(!(s instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(r=>{const a=r.get();if(!gm(a))return;const o=jm(a,s);o&&r.set(o)});for(const r in e){const a=e[r];if(!gm(a))continue;const o=jm(a,s);o&&(e[r]=o,n||(n={}),n[r]===void 0&&(n[r]=a))}return{target:e,transitionEnd:n}}const kP=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),P2=t=>kP.has(t),IP=t=>Object.keys(t).some(P2),pv=t=>t===_i||t===ce,gv=(t,e)=>parseFloat(t.split(", ")[e]),yv=(t,e)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const r=s.match(/^matrix3d\((.+)\)$/);if(r)return gv(r[1],e);{const a=s.match(/^matrix\((.+)\)$/);return a?gv(a[1],t):0}},CP=new Set(["x","y","z"]),AP=Cl.filter(t=>!CP.has(t));function PP(t){const e=[];return AP.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const va={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:yv(4,13),y:yv(5,14)};va.translateX=va.x;va.translateY=va.y;const RP=(t,e,n)=>{const s=e.measureViewportBox(),r=e.current,a=getComputedStyle(r),{display:o}=a,l={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(d=>{l[d]=va[d](s,a)}),e.render();const u=e.measureViewportBox();return n.forEach(d=>{const f=e.getValue(d);f&&f.jump(l[d]),t[d]=va[d](u,a)}),t},DP=(t,e,n={},s={})=>{e={...e},s={...s};const r=Object.keys(e).filter(P2);let a=[],o=!1;const l=[];if(r.forEach(u=>{const d=t.getValue(u);if(!t.hasValue(u))return;let f=n[u],h=po(f);const p=e[u];let x;if(Vu(p)){const S=p.length,_=p[0]===null?1:0;f=p[_],h=po(f);for(let I=_;I<S&&p[I]!==null;I++)x?ug(po(p[I])===x):x=po(p[I])}else x=po(p);if(h!==x)if(pv(h)&&pv(x)){const S=d.get();typeof S=="string"&&d.set(parseFloat(S)),typeof p=="string"?e[u]=parseFloat(p):Array.isArray(p)&&x===ce&&(e[u]=p.map(parseFloat))}else h!=null&&h.transform&&(x!=null&&x.transform)&&(f===0||p===0)?f===0?d.set(x.transform(f)):e[u]=h.transform(p):(o||(a=PP(t),o=!0),l.push(u),s[u]=s[u]!==void 0?s[u]:e[u],d.jump(p))}),l.length){const u=l.indexOf("height")>=0?window.pageYOffset:null,d=RP(e,t,l);return a.length&&a.forEach(([f,h])=>{t.getValue(f).set(h)}),t.render(),Pd&&u!==null&&window.scrollTo({top:u}),{target:d,transitionEnd:s}}else return{target:e,transitionEnd:s}};function VP(t,e,n,s){return IP(e)?DP(t,e,n,s):{target:e,transitionEnd:s}}const LP=(t,e,n,s)=>{const r=jP(t,e,s);return e=r.target,s=r.transitionEnd,VP(t,e,n,s)},km={current:null},R2={current:!1};function MP(){if(R2.current=!0,!!Pd)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>km.current=t.matches;t.addListener(e),e()}else km.current=!1}function OP(t,e,n){const{willChange:s}=e;for(const r in e){const a=e[r],o=n[r];if(Qt(a))t.addValue(r,a),Fu(s)&&s.add(r);else if(Qt(o))t.addValue(r,xa(a,{owner:t})),Fu(s)&&s.remove(r);else if(o!==a)if(t.hasValue(r)){const l=t.getValue(r);!l.hasAnimated&&l.set(a)}else{const l=t.getStaticValue(r);t.addValue(r,xa(l!==void 0?l:a,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const xv=new WeakMap,D2=Object.keys(hl),FP=D2.length,vv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],UP=tg.length;class $P{constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:r,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Le.render(this.render,!1,!0);const{latestValues:l,renderState:u}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.isControllingVariants=Dd(n),this.isVariantNode=x_(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{});for(const h in f){const p=f[h];l[h]!==void 0&&Qt(p)&&(p.set(l[h],!1),Fu(d)&&d.add(h))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,xv.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),R2.current||MP(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:km.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){xv.delete(this.current),this.projection&&this.projection.unmount(),bs(this.notifyUpdate),bs(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const s=bi.has(e),r=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Le.update(this.notifyUpdate,!1,!0),s&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),a()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},s,r,a){let o,l;for(let u=0;u<FP;u++){const d=D2[u],{isEnabled:f,Feature:h,ProjectionNode:p,MeasureLayout:x}=hl[d];p&&(o=p),f(n)&&(!this.features[d]&&h&&(this.features[d]=new h(this)),x&&(l=x))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:u,layout:d,drag:f,dragConstraints:h,layoutScroll:p,layoutRoot:x}=n;this.projection.setOptions({layoutId:u,layout:d,alwaysMeasureLayout:!!f||h&&Qi(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:a,layoutScroll:p,layoutRoot:x})}return l}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<vv.length;s++){const r=vv[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const a=e["on"+r];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=OP(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const s=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const n={};for(let s=0;s<UP;s++){const r=tg[s],a=this.props[r];(dl(a)||a===!1)&&(n[r]=a)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=xa(n,{owner:this}),this.addValue(e,s)),s}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:s}=this.props,r=typeof s=="string"||typeof s=="object"?(n=cg(this.props,s))===null||n===void 0?void 0:n[e]:void 0;if(s&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Qt(a)?a:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new vg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class V2 extends $P{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...s},{transformValues:r},a){let o=rA(s,e||{},this);if(r&&(n&&(n=r(n)),s&&(s=r(s)),o&&(o=r(o))),a){nA(this,s,o);const l=LP(this,s,o,n);n=l.transitionEnd,s=l.target}return{transition:e,transitionEnd:n,...s}}}function BP(t){return window.getComputedStyle(t)}class zP extends V2{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(bi.has(n)){const s=mg(n);return s&&s.default||0}else{const s=BP(e),r=(__(n)?s.getPropertyValue(n):s[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return _2(e,n)}build(e,n,s,r){rg(e,n,s,r.transformTemplate)}scrapeMotionValuesFromProps(e,n){return lg(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Qt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,s,r){k_(e,n,s,r)}}class HP extends V2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(bi.has(n)){const s=mg(n);return s&&s.default||0}return n=I_.has(n)?n:Zp(n),e.getAttribute(n)}measureInstanceViewportBox(){return nt()}scrapeMotionValuesFromProps(e,n){return A_(e,n)}build(e,n,s,r){ag(e,n,s,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,s,r){C_(e,n,s,r)}mount(e){this.isSVGTag=og(e.tagName),super.mount(e)}}const WP=(t,e)=>sg(t)?new HP(e,{enableHardwareAcceleration:!1}):new zP(e,{enableHardwareAcceleration:!0}),qP={layout:{ProjectionNode:A2,MeasureLayout:S2}},GP={...vA,...FI,...SP,...qP},F=Kk((t,e)=>EI(t,e,GP,WP));function L2(){const t=R.useRef(!1);return Xp(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function KP(){const t=L2(),[e,n]=R.useState(0),s=R.useCallback(()=>{t.current&&n(e+1)},[e]);return[R.useCallback(()=>Le.postRender(s),[s]),e]}class QP extends R.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function YP({children:t,isPresent:e}){const n=R.useId(),s=R.useRef(null),r=R.useRef({width:0,height:0,top:0,left:0});return R.useInsertionEffect(()=>{const{width:a,height:o,top:l,left:u}=r.current;if(e||!s.current||!a||!o)return;s.current.dataset.motionPopId=n;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),R.createElement(QP,{isPresent:e,childRef:s,sizeRef:r},R.cloneElement(t,{ref:s}))}const uf=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:a,mode:o})=>{const l=P_(JP),u=R.useId(),d=R.useMemo(()=>({id:u,initial:e,isPresent:n,custom:r,onExitComplete:f=>{l.set(f,!0);for(const h of l.values())if(!h)return;s&&s()},register:f=>(l.set(f,!1),()=>l.delete(f))}),a?void 0:[n]);return R.useMemo(()=>{l.forEach((f,h)=>l.set(h,!1))},[n]),R.useEffect(()=>{!n&&!l.size&&s&&s()},[n]),o==="popLayout"&&(t=R.createElement(YP,{isPresent:n},t)),R.createElement(Ad.Provider,{value:d},t)};function JP(){return new Map}function XP(t){return R.useEffect(()=>()=>t(),[])}const Gr=t=>t.key||"";function ZP(t,e){t.forEach(n=>{const s=Gr(n);e.set(s,n)})}function e4(t){const e=[];return R.Children.forEach(t,n=>{R.isValidElement(n)&&e.push(n)}),e}const gt=({children:t,custom:e,initial:n=!0,onExitComplete:s,exitBeforeEnter:r,presenceAffectsLayout:a=!0,mode:o="sync"})=>{const l=R.useContext(ng).forceRender||KP()[0],u=L2(),d=e4(t);let f=d;const h=R.useRef(new Map).current,p=R.useRef(f),x=R.useRef(new Map).current,S=R.useRef(!0);if(Xp(()=>{S.current=!1,ZP(d,x),p.current=f}),XP(()=>{S.current=!0,x.clear(),h.clear()}),S.current)return R.createElement(R.Fragment,null,f.map(v=>R.createElement(uf,{key:Gr(v),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:a,mode:o},v)));f=[...f];const _=p.current.map(Gr),I=d.map(Gr),T=_.length;for(let v=0;v<T;v++){const b=_[v];I.indexOf(b)===-1&&!h.has(b)&&h.set(b,void 0)}return o==="wait"&&h.size&&(f=[]),h.forEach((v,b)=>{if(I.indexOf(b)!==-1)return;const D=x.get(b);if(!D)return;const L=_.indexOf(b);let U=v;if(!U){const k=()=>{h.delete(b);const N=Array.from(x.keys()).filter(E=>!I.includes(E));if(N.forEach(E=>x.delete(E)),p.current=d.filter(E=>{const C=Gr(E);return C===b||N.includes(C)}),!h.size){if(u.current===!1)return;l(),s&&s()}};U=R.createElement(uf,{key:Gr(D),isPresent:!1,onExitComplete:k,custom:e,presenceAffectsLayout:a,mode:o},D),h.set(b,U)}f.splice(L,0,U)}),f=f.map(v=>{const b=v.key;return h.has(b)?v:R.createElement(uf,{key:Gr(v),isPresent:!0,presenceAffectsLayout:a,mode:o},v)}),R.createElement(R.Fragment,null,h.size?f:f.map(v=>R.cloneElement(v)))};class Dl{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const t4=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},wt={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:t4()},wg=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},n4=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=wg(t);wt.publicKey=n.publicKey,wt.blockHeadless=n.blockHeadless,wt.storageProvider=n.storageProvider,wt.blockList=n.blockList,wt.limitRate=n.limitRate,wt.origin=n.origin||e},M2=async(t,e,n={})=>{const s=await fetch(wt.origin+t,{method:"POST",headers:n,body:e}),r=await s.text(),a=new Dl(s.status,r);if(s.ok)return a;throw a},O2=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},s4=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},F2=t=>t.webdriver||!t.languages||t.languages.length===0,U2=()=>new Dl(451,"Unavailable For Headless Browser"),r4=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},i4=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},a4=(t,e)=>t instanceof FormData?t.get(e):t[e],$2=(t,e)=>{if(i4(t))return!1;r4(t.list,t.watchVariable);const n=a4(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},B2=()=>new Dl(403,"Forbidden"),o4=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},l4=async(t,e,n)=>{const s=Number(await n.get(t)||0);return e-Date.now()+s},z2=async(t,e,n)=>{if(!e.throttle||!n)return!1;o4(e.throttle,e.id);const s=e.id||t;return await l4(s,e.throttle,n)>0?!0:(await n.set(s,Date.now().toString()),!1)},H2=()=>new Dl(429,"Too Many Requests"),c4=async(t,e,n,s)=>{const r=wg(s),a=r.publicKey||wt.publicKey,o=r.blockHeadless||wt.blockHeadless,l=r.storageProvider||wt.storageProvider,u={...wt.blockList,...r.blockList},d={...wt.limitRate,...r.limitRate};return o&&F2(navigator)?Promise.reject(U2()):(O2(a,t,e),s4(n),n&&$2(u,n)?Promise.reject(B2()):await z2(location.pathname,d,l)?Promise.reject(H2()):M2("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:a,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},u4=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},d4=t=>typeof t=="string"?document.querySelector(t):t,h4=async(t,e,n,s)=>{const r=wg(s),a=r.publicKey||wt.publicKey,o=r.blockHeadless||wt.blockHeadless,l=wt.storageProvider||r.storageProvider,u={...wt.blockList,...r.blockList},d={...wt.limitRate,...r.limitRate};if(o&&F2(navigator))return Promise.reject(U2());const f=d4(n);O2(a,t,e),u4(f);const h=new FormData(f);return $2(u,h)?Promise.reject(B2()):await z2(location.pathname,d,l)?Promise.reject(H2()):(h.append("lib_version","4.4.1"),h.append("service_id",t),h.append("template_id",e),h.append("user_id",a),M2("/api/v1.0/email/send-form",h))},$u={init:n4,send:c4,sendForm:h4,EmailJSResponseStatus:Dl};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var f4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Z=(t,e)=>{const n=R.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:u,...d},f)=>R.createElement("svg",{ref:f,...f4,width:r,height:r,stroke:s,strokeWidth:o?Number(a)*24/Number(r):a,className:["lucide",`lucide-${m4(t)}`,l].join(" "),...d},[...e.map(([h,p])=>R.createElement(h,p)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=Z("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=Z("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=Z("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=Z("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=Z("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=Z("BadgeDollarSign",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=Z("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=Z("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=Z("Bitcoin",[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=Z("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=Z("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=Z("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=Z("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=Z("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=Z("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=Z("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=Z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=Z("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=Z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=Z("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=Z("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=Z("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=Z("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=Z("DownloadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m8 17 4 4 4-4",key:"1ul180"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=Z("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=Z("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=Z("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=Z("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=Z("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=Z("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=Z("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=Z("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=Z("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=Z("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=Z("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=Z("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=Z("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=Z("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=Z("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=Z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=Z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=Z("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=Z("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=Z("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=Z("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=Z("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=Z("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=Z("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=Z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=Z("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=Z("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=Z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=Z("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=Z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=Z("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=Z("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=Z("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=Z("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=Z("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=Z("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=Z("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=Z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=Z("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=Z("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=Z("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=Z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=Z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=Z("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=Z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=Z("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),D4=()=>{};var Nv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},V4=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const a=t[n++];e[s++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=t[n++],o=t[n++],l=t[n++],u=((r&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(u>>10)),e[s++]=String.fromCharCode(56320+(u&1023))}else{const a=t[n++],o=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(a&63)<<6|o&63)}}return e.join("")},oN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const a=t[r],o=r+1<t.length,l=o?t[r+1]:0,u=r+2<t.length,d=u?t[r+2]:0,f=a>>2,h=(a&3)<<4|l>>4;let p=(l&15)<<2|d>>6,x=d&63;u||(x=64,o||(p=64)),s.push(n[f],n[h],n[p],n[x])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(aN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):V4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const a=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const d=r<t.length?n[t.charAt(r)]:64;++r;const h=r<t.length?n[t.charAt(r)]:64;if(++r,a==null||l==null||d==null||h==null)throw new L4;const p=a<<2|l>>4;if(s.push(p),d!==64){const x=l<<4&240|d>>2;if(s.push(x),h!==64){const S=d<<6&192|h;s.push(S)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class L4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const M4=function(t){const e=aN(t);return oN.encodeByteArray(e,!0)},Gu=function(t){return M4(t).replace(/\./g,"")},lN=function(t){try{return oN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=()=>O4().__FIREBASE_DEFAULTS__,U4=()=>{if(typeof process>"u"||typeof Nv>"u")return;const t=Nv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&lN(t[1]);return e&&JSON.parse(e)},Od=()=>{try{return D4()||F4()||U4()||$4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cN=t=>{var e,n;return(n=(e=Od())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},B4=t=>{const e=cN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},uN=()=>{var t;return(t=Od())==null?void 0:t.config},dN=t=>{var e;return(e=Od())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Da(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function hN(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Gu(JSON.stringify(n)),Gu(JSON.stringify(o)),""].join(".")}const Bo={};function W4(){const t={prod:[],emulator:[]};for(const e of Object.keys(Bo))Bo[e]?t.emulator.push(e):t.prod.push(e);return t}function q4(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Sv=!1;function fN(t,e){if(typeof window>"u"||typeof document>"u"||!Da(window.location.host)||Bo[t]===e||Bo[t]||Sv)return;Bo[t]=e;function n(p){return`__firebase__banner__${p}`}const s="__firebase__banner",a=W4().prod.length>0;function o(){const p=document.getElementById(s);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function u(p,x){p.setAttribute("width","24"),p.setAttribute("id",x),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function d(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{Sv=!0,o()},p}function f(p,x){p.setAttribute("id",x),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){const p=q4(s),x=n("text"),S=document.getElementById(x)||document.createElement("span"),_=n("learnmore"),I=document.getElementById(_)||document.createElement("a"),T=n("preprendIcon"),v=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const b=p.element;l(b),f(I,_);const D=d();u(v,T),b.append(v,S,I,D),document.body.appendChild(b)}a?(S.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function G4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dt())}function K4(){var e;const t=(e=Od())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Q4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Y4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function J4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function X4(){const t=Dt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Z4(){return!K4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eR(){try{return typeof indexedDB=="object"}catch{return!1}}function tR(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var a;e(((a=r.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="FirebaseError";class js extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=nR,Object.setPrototypeOf(this,js.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ol.prototype.create)}}class Ol{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,a=this.errors[e],o=a?sR(a,s):"Error",l=`${this.serviceName}: ${o} (${r}).`;return new js(r,l,s)}}function sR(t,e){return t.replace(rR,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const rR=/\{\$([^}]+)}/g;function iR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function fi(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const a=t[r],o=e[r];if(Tv(a)&&Tv(o)){if(!fi(a,o))return!1}else if(a!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function Tv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function _o(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[r,a]=s.split("=");e[decodeURIComponent(r)]=decodeURIComponent(a)}}),e}function No(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function aR(t,e){const n=new oR(t,e);return n.subscribe.bind(n)}class oR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let r;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");lR(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:s},r.next===void 0&&(r.next=df),r.error===void 0&&(r.error=df),r.complete===void 0&&(r.complete=df);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function df(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(t){return t&&t._delegate?t._delegate:t}class mi{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new z4;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dR(e))try{this.getOrInitializeService({instanceIdentifier:Kr})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:r});s.resolve(a)}catch{}}}}clearInstance(e=Kr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Kr){return this.instances.has(e)}getOptions(e=Kr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);s===l&&o.resolve(r)}return r}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(s)??new Set;r.add(e),this.onInitCallbacks.set(s,r);const a=this.instances.get(s);return a&&e(a,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:uR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Kr){return this.component?this.component.multipleInstances?e:Kr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uR(t){return t===Kr?void 0:t}function dR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new cR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xe||(xe={}));const fR={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},mR=xe.INFO,pR={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},gR=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=pR[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ng{constructor(e){this.name=e,this._logLevel=mR,this._logHandler=gR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const yR=(t,e)=>e.some(n=>t instanceof n);let Ev,jv;function xR(){return Ev||(Ev=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vR(){return jv||(jv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mN=new WeakMap,Pm=new WeakMap,pN=new WeakMap,hf=new WeakMap,Sg=new WeakMap;function wR(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(ur(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&mN.set(n,t)}).catch(()=>{}),Sg.set(e,t),e}function bR(t){if(Pm.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});Pm.set(t,e)}let Rm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Pm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||pN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ur(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _R(t){Rm=t(Rm)}function NR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(ff(this),e,...n);return pN.set(s,e.sort?e.sort():[e]),ur(s)}:vR().includes(t)?function(...e){return t.apply(ff(this),e),ur(mN.get(this))}:function(...e){return ur(t.apply(ff(this),e))}}function SR(t){return typeof t=="function"?NR(t):(t instanceof IDBTransaction&&bR(t),yR(t,xR())?new Proxy(t,Rm):t)}function ur(t){if(t instanceof IDBRequest)return wR(t);if(hf.has(t))return hf.get(t);const e=SR(t);return e!==t&&(hf.set(t,e),Sg.set(e,t)),e}const ff=t=>Sg.get(t);function TR(t,e,{blocked:n,upgrade:s,blocking:r,terminated:a}={}){const o=indexedDB.open(t,e),l=ur(o);return s&&o.addEventListener("upgradeneeded",u=>{s(ur(o.result),u.oldVersion,u.newVersion,ur(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{a&&u.addEventListener("close",()=>a()),r&&u.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const ER=["get","getKey","getAll","getAllKeys","count"],jR=["put","add","delete","clear"],mf=new Map;function kv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(mf.get(e))return mf.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=jR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||ER.includes(n)))return;const a=async function(o,...l){const u=this.transaction(o,r?"readwrite":"readonly");let d=u.store;return s&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),r&&u.done]))[0]};return mf.set(e,a),a}_R(t=>({...t,get:(e,n,s)=>kv(e,n)||t.get(e,n,s),has:(e,n)=>!!kv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(IR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function IR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dm="@firebase/app",Iv="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=new Ng("@firebase/app"),CR="@firebase/app-compat",AR="@firebase/analytics-compat",PR="@firebase/analytics",RR="@firebase/app-check-compat",DR="@firebase/app-check",VR="@firebase/auth",LR="@firebase/auth-compat",MR="@firebase/database",OR="@firebase/data-connect",FR="@firebase/database-compat",UR="@firebase/functions",$R="@firebase/functions-compat",BR="@firebase/installations",zR="@firebase/installations-compat",HR="@firebase/messaging",WR="@firebase/messaging-compat",qR="@firebase/performance",GR="@firebase/performance-compat",KR="@firebase/remote-config",QR="@firebase/remote-config-compat",YR="@firebase/storage",JR="@firebase/storage-compat",XR="@firebase/firestore",ZR="@firebase/ai",e5="@firebase/firestore-compat",t5="firebase",n5="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="[DEFAULT]",s5={[Dm]:"fire-core",[CR]:"fire-core-compat",[PR]:"fire-analytics",[AR]:"fire-analytics-compat",[DR]:"fire-app-check",[RR]:"fire-app-check-compat",[VR]:"fire-auth",[LR]:"fire-auth-compat",[MR]:"fire-rtdb",[OR]:"fire-data-connect",[FR]:"fire-rtdb-compat",[UR]:"fire-fn",[$R]:"fire-fn-compat",[BR]:"fire-iid",[zR]:"fire-iid-compat",[HR]:"fire-fcm",[WR]:"fire-fcm-compat",[qR]:"fire-perf",[GR]:"fire-perf-compat",[KR]:"fire-rc",[QR]:"fire-rc-compat",[YR]:"fire-gcs",[JR]:"fire-gcs-compat",[XR]:"fire-fst",[e5]:"fire-fst-compat",[ZR]:"fire-vertex","fire-js":"fire-js",[t5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku=new Map,r5=new Map,Lm=new Map;function Cv(t,e){try{t.container.addComponent(e)}catch(n){_s.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _a(t){const e=t.name;if(Lm.has(e))return _s.debug(`There were multiple attempts to register component ${e}.`),!1;Lm.set(e,t);for(const n of Ku.values())Cv(n,t);for(const n of r5.values())Cv(n,t);return!0}function Tg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Zt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},dr=new Ol("app","Firebase",i5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new mi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw dr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=n5;function gN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Vm,automaticDataCollectionEnabled:!0,...e},r=s.name;if(typeof r!="string"||!r)throw dr.create("bad-app-name",{appName:String(r)});if(n||(n=uN()),!n)throw dr.create("no-options");const a=Ku.get(r);if(a){if(fi(n,a.options)&&fi(s,a.config))return a;throw dr.create("duplicate-app",{appName:r})}const o=new hR(r);for(const u of Lm.values())o.addComponent(u);const l=new a5(n,s,o);return Ku.set(r,l),l}function yN(t=Vm){const e=Ku.get(t);if(!e&&t===Vm&&uN())return gN();if(!e)throw dr.create("no-app",{appName:t});return e}function hr(t,e,n){let s=s5[t]??t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),a=e.match(/\s|\//);if(r||a){const o=[`Unable to register library "${s}" with version "${e}":`];r&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_s.warn(o.join(" "));return}_a(new mi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5="firebase-heartbeat-database",l5=1,pl="firebase-heartbeat-store";let pf=null;function xN(){return pf||(pf=TR(o5,l5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(pl)}catch(n){console.warn(n)}}}}).catch(t=>{throw dr.create("idb-open",{originalErrorMessage:t.message})})),pf}async function c5(t){try{const n=(await xN()).transaction(pl),s=await n.objectStore(pl).get(vN(t));return await n.done,s}catch(e){if(e instanceof js)_s.warn(e.message);else{const n=dr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_s.warn(n.message)}}}async function Av(t,e){try{const s=(await xN()).transaction(pl,"readwrite");await s.objectStore(pl).put(e,vN(t)),await s.done}catch(n){if(n instanceof js)_s.warn(n.message);else{const s=dr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_s.warn(s.message)}}}function vN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5=1024,d5=30;class h5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new m5(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Pv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>d5){const o=p5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){_s.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Pv(),{heartbeatsToSend:s,unsentEntries:r}=f5(this._heartbeatsCache.heartbeats),a=Gu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return _s.warn(n),""}}}function Pv(){return new Date().toISOString().substring(0,10)}function f5(t,e=u5){const n=[];let s=t.slice();for(const r of t){const a=n.find(o=>o.agent===r.agent);if(a){if(a.dates.push(r.date),Rv(n)>e){a.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Rv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class m5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eR()?tR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await c5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Av(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Av(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Rv(t){return Gu(JSON.stringify({version:2,heartbeats:t})).length}function p5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g5(t){_a(new mi("platform-logger",e=>new kR(e),"PRIVATE")),_a(new mi("heartbeat",e=>new h5(e),"PRIVATE")),hr(Dm,Iv,t),hr(Dm,Iv,"esm2020"),hr("fire-js","")}g5("");var y5="firebase",x5="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hr(y5,x5,"app");function wN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const v5=wN,bN=new Ol("auth","Firebase",wN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu=new Ng("@firebase/auth");function w5(t,...e){Qu.logLevel<=xe.WARN&&Qu.warn(`Auth (${Va}): ${t}`,...e)}function Zc(t,...e){Qu.logLevel<=xe.ERROR&&Qu.error(`Auth (${Va}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(t,...e){throw jg(t,...e)}function Pn(t,...e){return jg(t,...e)}function Eg(t,e,n){const s={...v5(),[e]:n};return new Ol("auth","Firebase",s).create(e,{appName:t.name})}function ps(t){return Eg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function b5(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&bn(t,"argument-error"),Eg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function jg(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return bN.create(t,...e)}function le(t,e,...n){if(!t)throw jg(e,...n)}function cs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zc(e),new Error(e)}function Ns(t,e){t||cs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function _5(){return Dv()==="http:"||Dv()==="https:"}function Dv(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_5()||Y4()||"connection"in navigator)?navigator.onLine:!0}function S5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ns(n>e,"Short delay should be less than long delay!"),this.isMobile=G4()||J4()}get(){return N5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(t,e){Ns(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],j5=new Ul(3e4,6e4);function ks(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ts(t,e,n,s,r={}){return NN(t,r,async()=>{let a={},o={};s&&(e==="GET"?o=s:a={body:JSON.stringify(s)});const l=Fl({key:t.config.apiKey,...o}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:u,...a};return Q4()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Da(t.emulatorConfig.host)&&(d.credentials="include"),_N.fetch()(await SN(t,t.config.apiHost,n,l),d)})}async function NN(t,e,n){t._canInitEmulator=!1;const s={...T5,...e};try{const r=new I5(t),a=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Ac(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[u,d]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ac(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Ac(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Ac(t,"user-disabled",o);const f=s[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Eg(t,f,d);bn(t,f)}}catch(r){if(r instanceof js)throw r;bn(t,"network-request-failed",{message:String(r)})}}async function $l(t,e,n,s,r={}){const a=await ts(t,e,n,s,r);return"mfaPendingCredential"in a&&bn(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function SN(t,e,n,s){const r=`${e}${n}?${s}`,a=t,o=a.config.emulator?kg(t.config,r):`${t.config.apiScheme}://${r}`;return E5.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function k5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class I5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Pn(this.auth,"network-request-failed")),j5.get())})}}function Ac(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=Pn(t,e,s);return r.customData._tokenResponse=n,r}function Vv(t){return t!==void 0&&t.enterprise!==void 0}class C5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return k5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function A5(t,e){return ts(t,"GET","/v2/recaptchaConfig",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P5(t,e){return ts(t,"POST","/v1/accounts:delete",e)}async function Yu(t,e){return ts(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function R5(t,e=!1){const n=at(t),s=await n.getIdToken(e),r=Ig(s);le(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const a=typeof r.firebase=="object"?r.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:r,token:s,authTime:zo(gf(r.auth_time)),issuedAtTime:zo(gf(r.iat)),expirationTime:zo(gf(r.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function gf(t){return Number(t)*1e3}function Ig(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Zc("JWT malformed, contained fewer than 3 sections"),null;try{const r=lN(n);return r?JSON.parse(r):(Zc("Failed to decode base64 JWT payload"),null)}catch(r){return Zc("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function Lv(t){const e=Ig(t);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Na(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof js&&D5(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function D5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zo(this.lastLoginAt),this.creationTime=zo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ju(t){var h;const e=t.auth,n=await t.getIdToken(),s=await Na(t,Yu(e,{idToken:n}));le(s==null?void 0:s.users.length,e,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const a=(h=r.providerUserInfo)!=null&&h.length?TN(r.providerUserInfo):[],o=M5(t.providerData,a),l=t.isAnonymous,u=!(t.email&&r.passwordHash)&&!(o!=null&&o.length),d=l?u:!1,f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Om(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function L5(t){const e=at(t);await Ju(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function M5(t,e){return[...t.filter(s=>!e.some(r=>r.providerId===s.providerId)),...e]}function TN(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O5(t,e){const n=await NN(t,{},async()=>{const s=Fl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:a}=t.config,o=await SN(t,r,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:s};return t.emulatorConfig&&Da(t.emulatorConfig.host)&&(u.credentials="include"),_N.fetch()(o,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function F5(t,e){return ts(t,"POST","/v2/accounts:revokeToken",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Lv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){le(e.length!==0,"internal-error");const n=Lv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:r,expiresIn:a}=await O5(e,n);this.updateTokensAndExpiration(s,r,Number(a))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:r,expirationTime:a}=n,o=new oa;return s&&(le(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),r&&(le(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),a&&(le(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oa,this.toJSON())}_performRefresh(){return cs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(t,e){le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class In{constructor({uid:e,auth:n,stsTokenManager:s,...r}){this.providerId="firebase",this.proactiveRefresh=new V5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Om(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await Na(this,this.stsTokenManager.getToken(this.auth,e));return le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return R5(this,e)}reload(){return L5(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new In({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ju(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zt(this.auth.app))return Promise.reject(ps(this.auth));const e=await this.getIdToken();return await Na(this,P5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,r=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,d=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:h,emailVerified:p,isAnonymous:x,providerData:S,stsTokenManager:_}=n;le(h&&_,e,"internal-error");const I=oa.fromJSON(this.name,_);le(typeof h=="string",e,"internal-error"),Fs(s,e.name),Fs(r,e.name),le(typeof p=="boolean",e,"internal-error"),le(typeof x=="boolean",e,"internal-error"),Fs(a,e.name),Fs(o,e.name),Fs(l,e.name),Fs(u,e.name),Fs(d,e.name),Fs(f,e.name);const T=new In({uid:h,auth:e,email:r,emailVerified:p,displayName:s,isAnonymous:x,photoURL:o,phoneNumber:a,tenantId:l,stsTokenManager:I,createdAt:d,lastLoginAt:f});return S&&Array.isArray(S)&&(T.providerData=S.map(v=>({...v}))),u&&(T._redirectEventId=u),T}static async _fromIdTokenResponse(e,n,s=!1){const r=new oa;r.updateFromServerResponse(n);const a=new In({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await Ju(a),a}static async _fromGetAccountInfoResponse(e,n,s){const r=n.users[0];le(r.localId!==void 0,"internal-error");const a=r.providerUserInfo!==void 0?TN(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(a!=null&&a.length),l=new oa;l.updateFromIdToken(s);const u=new In({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Om(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(a!=null&&a.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=new Map;function us(t){Ns(t instanceof Function,"Expected a class definition");let e=Mv.get(t);return e?(Ns(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Mv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}EN.type="NONE";const Ov=EN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(t,e,n){return`firebase:${t}:${e}:${n}`}class la{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:r,name:a}=this.auth;this.fullUserKey=eu(this.userKey,r.apiKey,a),this.fullPersistenceKey=eu("persistence",r.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Yu(this.auth,{idToken:e}).catch(()=>{});return n?In._fromGetAccountInfoResponse(this.auth,n,e):null}return In._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new la(us(Ov),e,s);const r=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=r[0]||us(Ov);const o=eu(s,e.config.apiKey,e.name);let l=null;for(const d of n)try{const f=await d._get(o);if(f){let h;if(typeof f=="string"){const p=await Yu(e,{idToken:f}).catch(()=>{});if(!p)break;h=await In._fromGetAccountInfoResponse(e,p,f)}else h=In._fromJSON(e,f);d!==a&&(l=h),a=d;break}}catch{}const u=r.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!u.length?new la(a,e,s):(a=u[0],l&&await a._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==a)try{await d._remove(o)}catch{}})),new la(a,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PN(e))return"Blackberry";if(RN(e))return"Webos";if(kN(e))return"Safari";if((e.includes("chrome/")||IN(e))&&!e.includes("edge/"))return"Chrome";if(AN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function jN(t=Dt()){return/firefox\//i.test(t)}function kN(t=Dt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IN(t=Dt()){return/crios\//i.test(t)}function CN(t=Dt()){return/iemobile/i.test(t)}function AN(t=Dt()){return/android/i.test(t)}function PN(t=Dt()){return/blackberry/i.test(t)}function RN(t=Dt()){return/webos/i.test(t)}function Cg(t=Dt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function U5(t=Dt()){var e;return Cg(t)&&!!((e=window.navigator)!=null&&e.standalone)}function $5(){return X4()&&document.documentMode===10}function DN(t=Dt()){return Cg(t)||AN(t)||RN(t)||PN(t)||/windows phone/i.test(t)||CN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(t,e=[]){let n;switch(t){case"Browser":n=Fv(Dt());break;case"Worker":n=`${Fv(Dt())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Va}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=a=>new Promise((o,l)=>{try{const u=e(a);o(u)}catch(u){l(u)}});s.onAbort=n,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z5(t,e={}){return ts(t,"GET","/v2/passwordPolicy",ks(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5=6;class W5{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??H5,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let r=0;r<e.length;r++)s=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(e,n,s,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uv(this),this.idTokenSubscription=new Uv(this),this.beforeStateQueue=new B5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=us(n)),this._initializationPromise=this.queue(async()=>{var s,r,a;if(!this._deleted&&(this.persistenceManager=await la.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Yu(this,{idToken:e}),s=await In._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Zt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(a=this.redirectUser)==null?void 0:a._redirectEventId,l=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(s=u.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ju(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=S5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zt(this.app))return Promise.reject(ps(this));const n=e?at(e):null;return n&&le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zt(this.app)?Promise.reject(ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zt(this.app)?Promise.reject(ps(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(us(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await z5(this),n=new W5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ol("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await F5(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&us(e)||this._popupRedirectResolver;le(n,this,"argument-error"),this.redirectPersistenceManager=await la.create(this,[us(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,r){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,s,r);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(Zt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&w5(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Is(t){return at(t)}class Uv{constructor(e){this.auth=e,this.observer=null,this.addObserver=aR(n=>this.observer=n)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function G5(t){Fd=t}function LN(t){return Fd.loadJS(t)}function K5(){return Fd.recaptchaEnterpriseScript}function Q5(){return Fd.gapiScript}function Y5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class J5{constructor(){this.enterprise=new X5}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class X5{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Z5="recaptcha-enterprise",MN="NO_RECAPTCHA";class eD{constructor(e){this.type=Z5,this.auth=Is(e)}async verify(e="verify",n=!1){async function s(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,l)=>{A5(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new C5(u);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,o(d.siteKey)}}).catch(u=>{l(u)})})}function r(a,o,l){const u=window.grecaptcha;Vv(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{o(d)}).catch(()=>{o(MN)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new J5().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{s(this.auth).then(l=>{if(!n&&Vv(window.grecaptcha))r(l,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=K5();u.length!==0&&(u+=l),LN(u).then(()=>{r(l,a,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function $v(t,e,n,s=!1,r=!1){const a=new eD(t);let o;if(r)o=MN;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return s?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Xu(t,e,n,s,r){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await $v(t,e,n,n==="getOobCode");return s(t,o)}else return s(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await $v(t,e,n,n==="getOobCode");return s(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(t,e){const n=Tg(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),a=n.getOptions();if(fi(a,e??{}))return r;bn(r,"already-initialized")}return n.initialize({options:e})}function nD(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(us);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function sD(t,e,n){const s=Is(t);le(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const r=!1,a=ON(e),{host:o,port:l}=rD(e),u=l===null?"":`:${l}`,d={url:`${a}//${o}${u}/`},f=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!s._canInitEmulator){le(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),le(fi(d,s.config.emulator)&&fi(f,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=d,s.emulatorConfig=f,s.settings.appVerificationDisabledForTesting=!0,Da(o)?(hN(`${a}//${o}${u}`),fN("Auth",!0)):iD()}function ON(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function rD(t){const e=ON(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const a=r[1];return{host:a,port:Bv(s.substr(a.length+1))}}else{const[a,o]=s.split(":");return{host:a,port:Bv(o)}}}function Bv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function iD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return cs("not implemented")}_getIdTokenResponse(e){return cs("not implemented")}_linkToIdToken(e,n){return cs("not implemented")}_getReauthenticationResolver(e){return cs("not implemented")}}async function aD(t,e){return ts(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oD(t,e){return $l(t,"POST","/v1/accounts:signInWithPassword",ks(t,e))}async function FN(t,e){return ts(t,"POST","/v1/accounts:sendOobCode",ks(t,e))}async function lD(t,e){return FN(t,e)}async function cD(t,e){return FN(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uD(t,e){return $l(t,"POST","/v1/accounts:signInWithEmailLink",ks(t,e))}async function dD(t,e){return $l(t,"POST","/v1/accounts:signInWithEmailLink",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl extends Ag{constructor(e,n,s,r=null){super("password",s),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new gl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new gl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xu(e,n,"signInWithPassword",oD);case"emailLink":return uD(e,{email:this._email,oobCode:this._password});default:bn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xu(e,s,"signUpPassword",aD);case"emailLink":return dD(e,{idToken:n,email:this._email,oobCode:this._password});default:bn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ca(t,e){return $l(t,"POST","/v1/accounts:signInWithIdp",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD="http://localhost";class pi extends Ag{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new pi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):bn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:r,...a}=n;if(!s||!r)return null;const o=new pi(s,r);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ca(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ca(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ca(e,n)}buildRequest(){const e={requestUri:hD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Fl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mD(t){const e=_o(No(t)).link,n=e?_o(No(e)).deep_link_id:null,s=_o(No(t)).deep_link_id;return(s?_o(No(s)).link:null)||s||n||e||t}class Pg{constructor(e){const n=_o(No(e)),s=n.apiKey??null,r=n.oobCode??null,a=fD(n.mode??null);le(s&&r&&a,"argument-error"),this.apiKey=s,this.operation=a,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=mD(e);try{return new Pg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(){this.providerId=La.PROVIDER_ID}static credential(e,n){return gl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Pg.parseLink(n);return le(s,"argument-error"),gl._fromEmailAndCode(e,s.code,s.tenantId)}}La.PROVIDER_ID="password";La.EMAIL_PASSWORD_SIGN_IN_METHOD="password";La.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl extends Rg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends Bl{constructor(){super("facebook.com")}static credential(e){return pi._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qs.credential(e.oauthAccessToken)}catch{return null}}}qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";qs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends Bl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return pi._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return is.credential(n,s)}catch{return null}}}is.GOOGLE_SIGN_IN_METHOD="google.com";is.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends Bl{constructor(){super("github.com")}static credential(e){return pi._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gs.credential(e.oauthAccessToken)}catch{return null}}}Gs.GITHUB_SIGN_IN_METHOD="github.com";Gs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends Bl{constructor(){super("twitter.com")}static credential(e,n){return pi._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ks.credential(n,s)}catch{return null}}}Ks.TWITTER_SIGN_IN_METHOD="twitter.com";Ks.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pD(t,e){return $l(t,"POST","/v1/accounts:signUp",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,r=!1){const a=await In._fromIdTokenResponse(e,s,r),o=zv(s);return new gi({user:a,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const r=zv(s);return new gi({user:e,providerId:r,_tokenResponse:s,operationType:n})}}function zv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu extends js{constructor(e,n,s,r){super(n.code,n.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,Zu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,r){return new Zu(e,n,s,r)}}function UN(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Zu._fromErrorAndOperation(t,a,e,s):a})}async function gD(t,e,n=!1){const s=await Na(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return gi._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yD(t,e,n=!1){const{auth:s}=t;if(Zt(s.app))return Promise.reject(ps(s));const r="reauthenticate";try{const a=await Na(t,UN(s,r,e,t),n);le(a.idToken,s,"internal-error");const o=Ig(a.idToken);le(o,s,"internal-error");const{sub:l}=o;return le(t.uid===l,s,"user-mismatch"),gi._forOperation(t,r,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&bn(s,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $N(t,e,n=!1){if(Zt(t.app))return Promise.reject(ps(t));const s="signIn",r=await UN(t,s,e),a=await gi._fromIdTokenResponse(t,s,r);return n||await t._updateCurrentUser(a.user),a}async function xD(t,e){return $N(Is(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(t,e,n){var s;le(((s=n.url)==null?void 0:s.length)>0,t,"invalid-continue-uri"),le(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),le(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(le(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(le(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BN(t){const e=Is(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function wD(t,e,n){const s=Is(t);await Xu(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",cD)}async function bD(t,e,n){if(Zt(t.app))return Promise.reject(ps(t));const s=Is(t),o=await Xu(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pD).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&BN(t),u}),l=await gi._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(l.user),l}function _D(t,e,n){return Zt(t.app)?Promise.reject(ps(t)):xD(at(t),La.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&BN(t),s})}async function zN(t,e){const n=at(t),r={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&vD(n.auth,r,e);const{email:a}=await lD(n.auth,r);a!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ND(t,e){return ts(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SD(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=at(t),a={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Na(s,ND(s.auth,a));s.displayName=o.displayName||null,s.photoURL=o.photoUrl||null;const l=s.providerData.find(({providerId:u})=>u==="password");l&&(l.displayName=s.displayName,l.photoURL=s.photoURL),await s._updateTokensIfNecessary(o)}function TD(t,e,n,s){return at(t).onIdTokenChanged(e,n,s)}function ED(t,e,n){return at(t).beforeAuthStateChanged(e,n)}function HN(t){return at(t).signOut()}const ed="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ed,"1"),this.storage.removeItem(ed),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD=1e3,kD=10;class qN extends WN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=DN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),r=this.localCache[n];s!==r&&e(n,r,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const s=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},a=this.storage.getItem(s);$5()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,kD):r()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},jD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}qN.type="LOCAL";const ID=qN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN extends WN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}GN.type="SESSION";const KN=GN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const s=new Ud(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:r,data:a}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const l=Array.from(o).map(async d=>d(n.origin,a)),u=await CD(l);n.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ud.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,o;return new Promise((l,u)=>{const d=Dg("",20);r.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},s);o={messageChannel:r,onMessage(h){const p=h;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(f),a=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(p.data.response);break;default:clearTimeout(f),clearTimeout(a),u(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(){return window}function PD(t){Qn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(){return typeof Qn().WorkerGlobalScope<"u"&&typeof Qn().importScripts=="function"}async function RD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function VD(){return QN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="firebaseLocalStorageDb",LD=1,td="firebaseLocalStorage",JN="fbase_key";class zl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $d(t,e){return t.transaction([td],e?"readwrite":"readonly").objectStore(td)}function MD(){const t=indexedDB.deleteDatabase(YN);return new zl(t).toPromise()}function Fm(){const t=indexedDB.open(YN,LD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(td,{keyPath:JN})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(td)?e(s):(s.close(),await MD(),e(await Fm()))})})}async function Hv(t,e,n){const s=$d(t,!0).put({[JN]:e,value:n});return new zl(s).toPromise()}async function OD(t,e){const n=$d(t,!1).get(e),s=await new zl(n).toPromise();return s===void 0?null:s.value}function Wv(t,e){const n=$d(t,!0).delete(e);return new zl(n).toPromise()}const FD=800,UD=3;class XN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>UD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ud._getInstance(VD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await RD(),!this.activeServiceWorker)return;this.sender=new AD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||DD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fm();return await Hv(e,ed,"1"),await Wv(e,ed),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Hv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>OD(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Wv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const a=$d(r,!1).getAll();return new zl(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:r,value:a}of e)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XN.type="LOCAL";const $D=XN;new Ul(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(t,e){return e?us(e):(le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg extends Ag{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ca(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ca(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ca(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function BD(t){return $N(t.auth,new Vg(t),t.bypassAuthState)}function zD(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),yD(n,new Vg(t),t.bypassAuthState)}async function HD(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),gD(n,new Vg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,n,s,r,a=!1){this.auth=e,this.resolver=s,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:r,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:s,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BD;case"linkViaPopup":case"linkViaRedirect":return HD;case"reauthViaPopup":case"reauthViaRedirect":return zD;default:bn(this.auth,"internal-error")}}resolve(e){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=new Ul(2e3,1e4);async function qD(t,e,n){if(Zt(t.app))return Promise.reject(Pn(t,"operation-not-supported-in-this-environment"));const s=Is(t);b5(t,e,Rg);const r=ZN(s,n);return new Zr(s,"signInViaPopup",e,r).executeNotNull()}class Zr extends eS{constructor(e,n,s,r,a){super(e,n,r,a),this.provider=s,this.authWindow=null,this.pollId=null,Zr.currentPopupAction&&Zr.currentPopupAction.cancel(),Zr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return le(e,this.auth,"internal-error"),e}async onExecution(){Ns(this.filter.length===1,"Popup operations only handle one event");const e=Dg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WD.get())};e()}}Zr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD="pendingRedirect",tu=new Map;class KD extends eS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=tu.get(this.auth._key());if(!e){try{const s=await QD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}tu.set(this.auth._key(),e)}return this.bypassAuthState||tu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QD(t,e){const n=XD(e),s=JD(t);if(!await s._isAvailable())return!1;const r=await s._get(n)==="true";return await s._remove(n),r}function YD(t,e){tu.set(t._key(),e)}function JD(t){return us(t._redirectPersistence)}function XD(t){return eu(GD,t.config.apiKey,t.name)}async function ZD(t,e,n=!1){if(Zt(t.app))return Promise.reject(ps(t));const s=Is(t),r=ZN(s,e),o=await new KD(s,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3=10*60*1e3;class t3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!n3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!tS(e)){const r=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Pn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=e3&&this.cachedEventUids.clear(),this.cachedEventUids.has(qv(e))}saveEventToCache(e){this.cachedEventUids.add(qv(e)),this.lastProcessedEventTime=Date.now()}}function qv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function tS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function n3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s3(t,e={}){return ts(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i3=/^https?/;async function a3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await s3(t);for(const n of e)try{if(o3(n))return}catch{}bn(t,"unauthorized-domain")}function o3(t){const e=Mm(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!i3.test(n))return!1;if(r3.test(t))return s===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3=new Ul(3e4,6e4);function Gv(){const t=Qn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function c3(t){return new Promise((e,n)=>{var r,a,o;function s(){Gv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Gv(),n(Pn(t,"network-request-failed"))},timeout:l3.get()})}if((a=(r=Qn().gapi)==null?void 0:r.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((o=Qn().gapi)!=null&&o.load)s();else{const l=Y5("iframefcb");return Qn()[l]=()=>{gapi.load?s():n(Pn(t,"network-request-failed"))},LN(`${Q5()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw nu=null,e})}let nu=null;function u3(t){return nu=nu||c3(t),nu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3=new Ul(5e3,15e3),h3="__/auth/iframe",f3="emulator/auth/iframe",m3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},p3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function g3(t){const e=t.config;le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?kg(e,f3):`https://${t.config.authDomain}/${h3}`,s={apiKey:e.apiKey,appName:t.name,v:Va},r=p3.get(t.config.apiHost);r&&(s.eid=r);const a=t._getFrameworks();return a.length&&(s.fw=a.join(",")),`${n}?${Fl(s).slice(1)}`}async function y3(t){const e=await u3(t),n=Qn().gapi;return le(n,t,"internal-error"),e.open({where:document.body,url:g3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:m3,dontclear:!0},s=>new Promise(async(r,a)=>{await s.restyle({setHideOnLeave:!1});const o=Pn(t,"network-request-failed"),l=Qn().setTimeout(()=>{a(o)},d3.get());function u(){Qn().clearTimeout(l),r(s)}s.ping(u).then(u,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},v3=500,w3=600,b3="_blank",_3="http://localhost";class Kv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function N3(t,e,n,s=v3,r=w3){const a=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let l="";const u={...x3,width:s.toString(),height:r.toString(),top:a,left:o},d=Dt().toLowerCase();n&&(l=IN(d)?b3:n),jN(d)&&(e=e||_3,u.scrollbars="yes");const f=Object.entries(u).reduce((p,[x,S])=>`${p}${x}=${S},`,"");if(U5(d)&&l!=="_self")return S3(e||"",l),new Kv(null);const h=window.open(e||"",l,f);le(h,t,"popup-blocked");try{h.focus()}catch{}return new Kv(h)}function S3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3="__/auth/handler",E3="emulator/auth/handler",j3=encodeURIComponent("fac");async function Qv(t,e,n,s,r,a){le(t.config.authDomain,t,"auth-domain-config-required"),le(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Va,eventId:r};if(e instanceof Rg){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",iR(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries({}))o[f]=h}if(e instanceof Bl){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await t._getAppCheckToken(),d=u?`#${j3}=${encodeURIComponent(u)}`:"";return`${k3(t)}?${Fl(l).slice(1)}${d}`}function k3({config:t}){return t.emulator?kg(t,E3):`https://${t.authDomain}/${T3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf="webStorageSupport";class I3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=KN,this._completeRedirectFn=ZD,this._overrideRedirectResult=YD}async _openPopup(e,n,s,r){var o;Ns((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await Qv(e,n,s,Mm(),r);return N3(e,a,Dg())}async _openRedirect(e,n,s,r){await this._originValidation(e);const a=await Qv(e,n,s,Mm(),r);return PD(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:a}=this.eventManagers[n];return r?Promise.resolve(r):(Ns(a,"If manager is not set, promise should be"),a)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await y3(e),s=new t3(e);return n.register("authEvent",r=>(le(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:s.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(yf,{type:yf},r=>{var o;const a=(o=r==null?void 0:r[0])==null?void 0:o[yf];a!==void 0&&n(!!a),bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=a3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return DN()||kN()||Cg()}}const C3=I3;var Yv="@firebase/auth",Jv="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function R3(t){_a(new mi("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=s.options;le(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VN(t)},d=new q5(s,r,a,u);return nD(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),_a(new mi("auth-internal",e=>{const n=Is(e.getProvider("auth").getImmediate());return(s=>new A3(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),hr(Yv,Jv,P3(t)),hr(Yv,Jv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3=5*60,V3=dN("authIdTokenMaxAge")||D3;let Xv=null;const L3=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>V3)return;const r=n==null?void 0:n.token;Xv!==r&&(Xv=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function M3(t=yN()){const e=Tg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=tD(t,{popupRedirectResolver:C3,persistence:[$D,ID,KN]}),s=dN("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(s,location.origin);if(location.origin===a.origin){const o=L3(a.toString());ED(n,o,()=>o(n.currentUser)),TD(n,l=>o(l))}}const r=cN("auth");return r&&sD(n,`http://${r}`),n}function O3(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}G5({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=r=>{const a=Pn("internal-error");a.customData=r,n(a)},s.type="text/javascript",s.charset="UTF-8",O3().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});R3("Browser");var Zv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fr,nS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,N){function E(){}E.prototype=N.prototype,k.F=N.prototype,k.prototype=new E,k.prototype.constructor=k,k.D=function(C,P,V){for(var A=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)A[Q-2]=arguments[Q];return N.prototype[P].apply(C,A)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(k,N,E){E||(E=0);const C=Array(16);if(typeof N=="string")for(var P=0;P<16;++P)C[P]=N.charCodeAt(E++)|N.charCodeAt(E++)<<8|N.charCodeAt(E++)<<16|N.charCodeAt(E++)<<24;else for(P=0;P<16;++P)C[P]=N[E++]|N[E++]<<8|N[E++]<<16|N[E++]<<24;N=k.g[0],E=k.g[1],P=k.g[2];let V=k.g[3],A;A=N+(V^E&(P^V))+C[0]+3614090360&4294967295,N=E+(A<<7&4294967295|A>>>25),A=V+(P^N&(E^P))+C[1]+3905402710&4294967295,V=N+(A<<12&4294967295|A>>>20),A=P+(E^V&(N^E))+C[2]+606105819&4294967295,P=V+(A<<17&4294967295|A>>>15),A=E+(N^P&(V^N))+C[3]+3250441966&4294967295,E=P+(A<<22&4294967295|A>>>10),A=N+(V^E&(P^V))+C[4]+4118548399&4294967295,N=E+(A<<7&4294967295|A>>>25),A=V+(P^N&(E^P))+C[5]+1200080426&4294967295,V=N+(A<<12&4294967295|A>>>20),A=P+(E^V&(N^E))+C[6]+2821735955&4294967295,P=V+(A<<17&4294967295|A>>>15),A=E+(N^P&(V^N))+C[7]+4249261313&4294967295,E=P+(A<<22&4294967295|A>>>10),A=N+(V^E&(P^V))+C[8]+1770035416&4294967295,N=E+(A<<7&4294967295|A>>>25),A=V+(P^N&(E^P))+C[9]+2336552879&4294967295,V=N+(A<<12&4294967295|A>>>20),A=P+(E^V&(N^E))+C[10]+4294925233&4294967295,P=V+(A<<17&4294967295|A>>>15),A=E+(N^P&(V^N))+C[11]+2304563134&4294967295,E=P+(A<<22&4294967295|A>>>10),A=N+(V^E&(P^V))+C[12]+1804603682&4294967295,N=E+(A<<7&4294967295|A>>>25),A=V+(P^N&(E^P))+C[13]+4254626195&4294967295,V=N+(A<<12&4294967295|A>>>20),A=P+(E^V&(N^E))+C[14]+2792965006&4294967295,P=V+(A<<17&4294967295|A>>>15),A=E+(N^P&(V^N))+C[15]+1236535329&4294967295,E=P+(A<<22&4294967295|A>>>10),A=N+(P^V&(E^P))+C[1]+4129170786&4294967295,N=E+(A<<5&4294967295|A>>>27),A=V+(E^P&(N^E))+C[6]+3225465664&4294967295,V=N+(A<<9&4294967295|A>>>23),A=P+(N^E&(V^N))+C[11]+643717713&4294967295,P=V+(A<<14&4294967295|A>>>18),A=E+(V^N&(P^V))+C[0]+3921069994&4294967295,E=P+(A<<20&4294967295|A>>>12),A=N+(P^V&(E^P))+C[5]+3593408605&4294967295,N=E+(A<<5&4294967295|A>>>27),A=V+(E^P&(N^E))+C[10]+38016083&4294967295,V=N+(A<<9&4294967295|A>>>23),A=P+(N^E&(V^N))+C[15]+3634488961&4294967295,P=V+(A<<14&4294967295|A>>>18),A=E+(V^N&(P^V))+C[4]+3889429448&4294967295,E=P+(A<<20&4294967295|A>>>12),A=N+(P^V&(E^P))+C[9]+568446438&4294967295,N=E+(A<<5&4294967295|A>>>27),A=V+(E^P&(N^E))+C[14]+3275163606&4294967295,V=N+(A<<9&4294967295|A>>>23),A=P+(N^E&(V^N))+C[3]+4107603335&4294967295,P=V+(A<<14&4294967295|A>>>18),A=E+(V^N&(P^V))+C[8]+1163531501&4294967295,E=P+(A<<20&4294967295|A>>>12),A=N+(P^V&(E^P))+C[13]+2850285829&4294967295,N=E+(A<<5&4294967295|A>>>27),A=V+(E^P&(N^E))+C[2]+4243563512&4294967295,V=N+(A<<9&4294967295|A>>>23),A=P+(N^E&(V^N))+C[7]+1735328473&4294967295,P=V+(A<<14&4294967295|A>>>18),A=E+(V^N&(P^V))+C[12]+2368359562&4294967295,E=P+(A<<20&4294967295|A>>>12),A=N+(E^P^V)+C[5]+4294588738&4294967295,N=E+(A<<4&4294967295|A>>>28),A=V+(N^E^P)+C[8]+2272392833&4294967295,V=N+(A<<11&4294967295|A>>>21),A=P+(V^N^E)+C[11]+1839030562&4294967295,P=V+(A<<16&4294967295|A>>>16),A=E+(P^V^N)+C[14]+4259657740&4294967295,E=P+(A<<23&4294967295|A>>>9),A=N+(E^P^V)+C[1]+2763975236&4294967295,N=E+(A<<4&4294967295|A>>>28),A=V+(N^E^P)+C[4]+1272893353&4294967295,V=N+(A<<11&4294967295|A>>>21),A=P+(V^N^E)+C[7]+4139469664&4294967295,P=V+(A<<16&4294967295|A>>>16),A=E+(P^V^N)+C[10]+3200236656&4294967295,E=P+(A<<23&4294967295|A>>>9),A=N+(E^P^V)+C[13]+681279174&4294967295,N=E+(A<<4&4294967295|A>>>28),A=V+(N^E^P)+C[0]+3936430074&4294967295,V=N+(A<<11&4294967295|A>>>21),A=P+(V^N^E)+C[3]+3572445317&4294967295,P=V+(A<<16&4294967295|A>>>16),A=E+(P^V^N)+C[6]+76029189&4294967295,E=P+(A<<23&4294967295|A>>>9),A=N+(E^P^V)+C[9]+3654602809&4294967295,N=E+(A<<4&4294967295|A>>>28),A=V+(N^E^P)+C[12]+3873151461&4294967295,V=N+(A<<11&4294967295|A>>>21),A=P+(V^N^E)+C[15]+530742520&4294967295,P=V+(A<<16&4294967295|A>>>16),A=E+(P^V^N)+C[2]+3299628645&4294967295,E=P+(A<<23&4294967295|A>>>9),A=N+(P^(E|~V))+C[0]+4096336452&4294967295,N=E+(A<<6&4294967295|A>>>26),A=V+(E^(N|~P))+C[7]+1126891415&4294967295,V=N+(A<<10&4294967295|A>>>22),A=P+(N^(V|~E))+C[14]+2878612391&4294967295,P=V+(A<<15&4294967295|A>>>17),A=E+(V^(P|~N))+C[5]+4237533241&4294967295,E=P+(A<<21&4294967295|A>>>11),A=N+(P^(E|~V))+C[12]+1700485571&4294967295,N=E+(A<<6&4294967295|A>>>26),A=V+(E^(N|~P))+C[3]+2399980690&4294967295,V=N+(A<<10&4294967295|A>>>22),A=P+(N^(V|~E))+C[10]+4293915773&4294967295,P=V+(A<<15&4294967295|A>>>17),A=E+(V^(P|~N))+C[1]+2240044497&4294967295,E=P+(A<<21&4294967295|A>>>11),A=N+(P^(E|~V))+C[8]+1873313359&4294967295,N=E+(A<<6&4294967295|A>>>26),A=V+(E^(N|~P))+C[15]+4264355552&4294967295,V=N+(A<<10&4294967295|A>>>22),A=P+(N^(V|~E))+C[6]+2734768916&4294967295,P=V+(A<<15&4294967295|A>>>17),A=E+(V^(P|~N))+C[13]+1309151649&4294967295,E=P+(A<<21&4294967295|A>>>11),A=N+(P^(E|~V))+C[4]+4149444226&4294967295,N=E+(A<<6&4294967295|A>>>26),A=V+(E^(N|~P))+C[11]+3174756917&4294967295,V=N+(A<<10&4294967295|A>>>22),A=P+(N^(V|~E))+C[2]+718787259&4294967295,P=V+(A<<15&4294967295|A>>>17),A=E+(V^(P|~N))+C[9]+3951481745&4294967295,k.g[0]=k.g[0]+N&4294967295,k.g[1]=k.g[1]+(P+(A<<21&4294967295|A>>>11))&4294967295,k.g[2]=k.g[2]+P&4294967295,k.g[3]=k.g[3]+V&4294967295}s.prototype.v=function(k,N){N===void 0&&(N=k.length);const E=N-this.blockSize,C=this.C;let P=this.h,V=0;for(;V<N;){if(P==0)for(;V<=E;)r(this,k,V),V+=this.blockSize;if(typeof k=="string"){for(;V<N;)if(C[P++]=k.charCodeAt(V++),P==this.blockSize){r(this,C),P=0;break}}else for(;V<N;)if(C[P++]=k[V++],P==this.blockSize){r(this,C),P=0;break}}this.h=P,this.o+=N},s.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var N=1;N<k.length-8;++N)k[N]=0;N=this.o*8;for(var E=k.length-8;E<k.length;++E)k[E]=N&255,N/=256;for(this.v(k),k=Array(16),N=0,E=0;E<4;++E)for(let C=0;C<32;C+=8)k[N++]=this.g[E]>>>C&255;return k};function a(k,N){var E=l;return Object.prototype.hasOwnProperty.call(E,k)?E[k]:E[k]=N(k)}function o(k,N){this.h=N;const E=[];let C=!0;for(let P=k.length-1;P>=0;P--){const V=k[P]|0;C&&V==N||(E[P]=V,C=!1)}this.g=E}var l={};function u(k){return-128<=k&&k<128?a(k,function(N){return new o([N|0],N<0?-1:0)}):new o([k|0],k<0?-1:0)}function d(k){if(isNaN(k)||!isFinite(k))return h;if(k<0)return I(d(-k));const N=[];let E=1;for(let C=0;k>=E;C++)N[C]=k/E|0,E*=4294967296;return new o(N,0)}function f(k,N){if(k.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(k.charAt(0)=="-")return I(f(k.substring(1),N));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const E=d(Math.pow(N,8));let C=h;for(let V=0;V<k.length;V+=8){var P=Math.min(8,k.length-V);const A=parseInt(k.substring(V,V+P),N);P<8?(P=d(Math.pow(N,P)),C=C.j(P).add(d(A))):(C=C.j(E),C=C.add(d(A)))}return C}var h=u(0),p=u(1),x=u(16777216);t=o.prototype,t.m=function(){if(_(this))return-I(this).m();let k=0,N=1;for(let E=0;E<this.g.length;E++){const C=this.i(E);k+=(C>=0?C:4294967296+C)*N,N*=4294967296}return k},t.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(S(this))return"0";if(_(this))return"-"+I(this).toString(k);const N=d(Math.pow(k,6));var E=this;let C="";for(;;){const P=D(E,N).g;E=T(E,P.j(N));let V=((E.g.length>0?E.g[0]:E.h)>>>0).toString(k);if(E=P,S(E))return V+C;for(;V.length<6;)V="0"+V;C=V+C}},t.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function S(k){if(k.h!=0)return!1;for(let N=0;N<k.g.length;N++)if(k.g[N]!=0)return!1;return!0}function _(k){return k.h==-1}t.l=function(k){return k=T(this,k),_(k)?-1:S(k)?0:1};function I(k){const N=k.g.length,E=[];for(let C=0;C<N;C++)E[C]=~k.g[C];return new o(E,~k.h).add(p)}t.abs=function(){return _(this)?I(this):this},t.add=function(k){const N=Math.max(this.g.length,k.g.length),E=[];let C=0;for(let P=0;P<=N;P++){let V=C+(this.i(P)&65535)+(k.i(P)&65535),A=(V>>>16)+(this.i(P)>>>16)+(k.i(P)>>>16);C=A>>>16,V&=65535,A&=65535,E[P]=A<<16|V}return new o(E,E[E.length-1]&-2147483648?-1:0)};function T(k,N){return k.add(I(N))}t.j=function(k){if(S(this)||S(k))return h;if(_(this))return _(k)?I(this).j(I(k)):I(I(this).j(k));if(_(k))return I(this.j(I(k)));if(this.l(x)<0&&k.l(x)<0)return d(this.m()*k.m());const N=this.g.length+k.g.length,E=[];for(var C=0;C<2*N;C++)E[C]=0;for(C=0;C<this.g.length;C++)for(let P=0;P<k.g.length;P++){const V=this.i(C)>>>16,A=this.i(C)&65535,Q=k.i(P)>>>16,ae=k.i(P)&65535;E[2*C+2*P]+=A*ae,v(E,2*C+2*P),E[2*C+2*P+1]+=V*ae,v(E,2*C+2*P+1),E[2*C+2*P+1]+=A*Q,v(E,2*C+2*P+1),E[2*C+2*P+2]+=V*Q,v(E,2*C+2*P+2)}for(k=0;k<N;k++)E[k]=E[2*k+1]<<16|E[2*k];for(k=N;k<2*N;k++)E[k]=0;return new o(E,0)};function v(k,N){for(;(k[N]&65535)!=k[N];)k[N+1]+=k[N]>>>16,k[N]&=65535,N++}function b(k,N){this.g=k,this.h=N}function D(k,N){if(S(N))throw Error("division by zero");if(S(k))return new b(h,h);if(_(k))return N=D(I(k),N),new b(I(N.g),I(N.h));if(_(N))return N=D(k,I(N)),new b(I(N.g),N.h);if(k.g.length>30){if(_(k)||_(N))throw Error("slowDivide_ only works with positive integers.");for(var E=p,C=N;C.l(k)<=0;)E=L(E),C=L(C);var P=U(E,1),V=U(C,1);for(C=U(C,2),E=U(E,2);!S(C);){var A=V.add(C);A.l(k)<=0&&(P=P.add(E),V=A),C=U(C,1),E=U(E,1)}return N=T(k,P.j(N)),new b(P,N)}for(P=h;k.l(N)>=0;){for(E=Math.max(1,Math.floor(k.m()/N.m())),C=Math.ceil(Math.log(E)/Math.LN2),C=C<=48?1:Math.pow(2,C-48),V=d(E),A=V.j(N);_(A)||A.l(k)>0;)E-=C,V=d(E),A=V.j(N);S(V)&&(V=p),P=P.add(V),k=T(k,A)}return new b(P,k)}t.B=function(k){return D(this,k).h},t.and=function(k){const N=Math.max(this.g.length,k.g.length),E=[];for(let C=0;C<N;C++)E[C]=this.i(C)&k.i(C);return new o(E,this.h&k.h)},t.or=function(k){const N=Math.max(this.g.length,k.g.length),E=[];for(let C=0;C<N;C++)E[C]=this.i(C)|k.i(C);return new o(E,this.h|k.h)},t.xor=function(k){const N=Math.max(this.g.length,k.g.length),E=[];for(let C=0;C<N;C++)E[C]=this.i(C)^k.i(C);return new o(E,this.h^k.h)};function L(k){const N=k.g.length+1,E=[];for(let C=0;C<N;C++)E[C]=k.i(C)<<1|k.i(C-1)>>>31;return new o(E,k.h)}function U(k,N){const E=N>>5;N%=32;const C=k.g.length-E,P=[];for(let V=0;V<C;V++)P[V]=N>0?k.i(V+E)>>>N|k.i(V+E+1)<<32-N:k.i(V+E);return new o(P,k.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,nS=s,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,fr=o}).apply(typeof Zv<"u"?Zv:typeof self<"u"?self:typeof window<"u"?window:{});var Pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sS,So,rS,su,Um,iS,aS,oS;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pc=="object"&&Pc];for(var m=0;m<c.length;++m){var g=c[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=n(this);function r(c,m){if(m)e:{var g=s;c=c.split(".");for(var j=0;j<c.length-1;j++){var M=c[j];if(!(M in g))break e;g=g[M]}c=c[c.length-1],j=g[c],m=m(j),m!=j&&m!=null&&e(g,c,{configurable:!0,writable:!0,value:m})}}r("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(c){return c||function(m){var g=[],j;for(j in m)Object.prototype.hasOwnProperty.call(m,j)&&g.push([j,m[j]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function u(c,m,g){return c.call.apply(c.bind,arguments)}function d(c,m,g){return d=u,d.apply(null,arguments)}function f(c,m){var g=Array.prototype.slice.call(arguments,1);return function(){var j=g.slice();return j.push.apply(j,arguments),c.apply(this,j)}}function h(c,m){function g(){}g.prototype=m.prototype,c.Z=m.prototype,c.prototype=new g,c.prototype.constructor=c,c.Ob=function(j,M,$){for(var Y=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)Y[ge-2]=arguments[ge];return m.prototype[M].apply(j,Y)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function x(c){const m=c.length;if(m>0){const g=Array(m);for(let j=0;j<m;j++)g[j]=c[j];return g}return[]}function S(c,m){for(let j=1;j<arguments.length;j++){const M=arguments[j];var g=typeof M;if(g=g!="object"?g:M?Array.isArray(M)?"array":g:"null",g=="array"||g=="object"&&typeof M.length=="number"){g=c.length||0;const $=M.length||0;c.length=g+$;for(let Y=0;Y<$;Y++)c[g+Y]=M[Y]}else c.push(M)}}class _{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function I(c){o.setTimeout(()=>{throw c},0)}function T(){var c=k;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class v{constructor(){this.h=this.g=null}add(m,g){const j=b.get();j.set(m,g),this.h?this.h.next=j:this.g=j,this.h=j}}var b=new _(()=>new D,c=>c.reset());class D{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let L,U=!1,k=new v,N=()=>{const c=Promise.resolve(void 0);L=()=>{c.then(E)}};function E(){for(var c;c=T();){try{c.h.call(c.g)}catch(g){I(g)}var m=b;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}U=!1}function C(){this.u=this.u,this.C=this.C}C.prototype.u=!1,C.prototype.dispose=function(){this.u||(this.u=!0,this.N())},C.prototype[Symbol.dispose]=function(){this.dispose()},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var V=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const g=()=>{};o.addEventListener("test",g,m),o.removeEventListener("test",g,m)}catch{}return c}();function A(c){return/^[\s\xa0]*$/.test(c)}function Q(c,m){P.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}h(Q,P),Q.prototype.init=function(c,m){const g=this.type=c.type,j=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(g=="mouseover"?m=c.fromElement:g=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Q.Z.h.call(this)},Q.prototype.h=function(){Q.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ae="closure_listenable_"+(Math.random()*1e6|0),me=0;function pe(c,m,g,j,M){this.listener=c,this.proxy=null,this.src=m,this.type=g,this.capture=!!j,this.ha=M,this.key=++me,this.da=this.fa=!1}function O(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function q(c,m,g){for(const j in c)m.call(g,c[j],j,c)}function ne(c,m){for(const g in c)m.call(void 0,c[g],g,c)}function ie(c){const m={};for(const g in c)m[g]=c[g];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ie(c,m){let g,j;for(let M=1;M<arguments.length;M++){j=arguments[M];for(g in j)c[g]=j[g];for(let $=0;$<K.length;$++)g=K[$],Object.prototype.hasOwnProperty.call(j,g)&&(c[g]=j[g])}}function H(c){this.src=c,this.g={},this.h=0}H.prototype.add=function(c,m,g,j,M){const $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);const Y=de(c,m,j,M);return Y>-1?(m=c[Y],g||(m.fa=!1)):(m=new pe(m,this.src,$,!!j,M),m.fa=g,c.push(m)),m};function be(c,m){const g=m.type;if(g in c.g){var j=c.g[g],M=Array.prototype.indexOf.call(j,m,void 0),$;($=M>=0)&&Array.prototype.splice.call(j,M,1),$&&(O(m),c.g[g].length==0&&(delete c.g[g],c.h--))}}function de(c,m,g,j){for(let M=0;M<c.length;++M){const $=c[M];if(!$.da&&$.listener==m&&$.capture==!!g&&$.ha==j)return M}return-1}var Ce="closure_lm_"+(Math.random()*1e6|0),un={};function _n(c,m,g,j,M){if(Array.isArray(m)){for(let $=0;$<m.length;$++)_n(c,m[$],g,j,M);return null}return g=ji(g),c&&c[ae]?c.J(m,g,l(j)?!!j.capture:!1,M):Ln(c,m,g,!1,j,M)}function Ln(c,m,g,j,M,$){if(!m)throw Error("Invalid event type");const Y=l(M)?!!M.capture:!!M;let ge=Dr(c);if(ge||(c[Ce]=ge=new H(c)),g=ge.add(m,g,j,Y,$),g.proxy)return g;if(j=$t(),g.proxy=j,j.src=c,j.listener=g,c.addEventListener)V||(M=Y),M===void 0&&(M=!1),c.addEventListener(m.toString(),j,M);else if(c.attachEvent)c.attachEvent(Vt(m.toString()),j);else if(c.addListener&&c.removeListener)c.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return g}function $t(){function c(g){return m.call(c.src,c.listener,g)}const m=Ti;return c}function Ba(c,m,g,j,M){if(Array.isArray(m))for(var $=0;$<m.length;$++)Ba(c,m[$],g,j,M);else j=l(j)?!!j.capture:!!j,g=ji(g),c&&c[ae]?(c=c.i,$=String(m).toString(),$ in c.g&&(m=c.g[$],g=de(m,g,j,M),g>-1&&(O(m[g]),Array.prototype.splice.call(m,g,1),m.length==0&&(delete c.g[$],c.h--)))):c&&(c=Dr(c))&&(m=c.g[m.toString()],c=-1,m&&(c=de(m,g,j,M)),(g=c>-1?m[c]:null)&&As(g))}function As(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[ae])be(m.i,c);else{var g=c.type,j=c.proxy;m.removeEventListener?m.removeEventListener(g,j,c.capture):m.detachEvent?m.detachEvent(Vt(g),j):m.addListener&&m.removeListener&&m.removeListener(j),(g=Dr(m))?(be(g,c),g.h==0&&(g.src=null,m[Ce]=null)):O(c)}}}function Vt(c){return c in un?un[c]:un[c]="on"+c}function Ti(c,m){if(c.da)c=!0;else{m=new Q(m,this);const g=c.listener,j=c.ha||c.src;c.fa&&As(c),c=g.call(j,m)}return c}function Dr(c){return c=c[Ce],c instanceof H?c:null}var Ei="__closure_events_fn_"+(Math.random()*1e9>>>0);function ji(c){return typeof c=="function"?c:(c[Ei]||(c[Ei]=function(m){return c.handleEvent(m)}),c[Ei])}function ot(){C.call(this),this.i=new H(this),this.M=this,this.G=null}h(ot,C),ot.prototype[ae]=!0,ot.prototype.removeEventListener=function(c,m,g,j){Ba(this,c,m,g,j)};function lt(c,m){var g,j=c.G;if(j)for(g=[];j;j=j.G)g.push(j);if(c=c.M,j=m.type||m,typeof m=="string")m=new P(m,c);else if(m instanceof P)m.target=m.target||c;else{var M=m;m=new P(j,c),Ie(m,M)}M=!0;let $,Y;if(g)for(Y=g.length-1;Y>=0;Y--)$=m.g=g[Y],M=Vr($,j,!0,m)&&M;if($=m.g=c,M=Vr($,j,!0,m)&&M,M=Vr($,j,!1,m)&&M,g)for(Y=0;Y<g.length;Y++)$=m.g=g[Y],M=Vr($,j,!1,m)&&M}ot.prototype.N=function(){if(ot.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const g=c.g[m];for(let j=0;j<g.length;j++)O(g[j]);delete c.g[m],c.h--}}this.G=null},ot.prototype.J=function(c,m,g,j){return this.i.add(String(c),m,!1,g,j)},ot.prototype.K=function(c,m,g,j){return this.i.add(String(c),m,!0,g,j)};function Vr(c,m,g,j){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let M=!0;for(let $=0;$<m.length;++$){const Y=m[$];if(Y&&!Y.da&&Y.capture==g){const ge=Y.listener,ct=Y.ha||Y.src;Y.fa&&be(c.i,Y),M=ge.call(ct,j)!==!1&&M}}return M&&!j.defaultPrevented}function za(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=d(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:o.setTimeout(c,m||0)}function Ha(c){c.g=za(()=>{c.g=null,c.i&&(c.i=!1,Ha(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class lh extends C{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ha(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lr(c){C.call(this),this.h=c,this.g={}}h(Lr,C);var Mn=[];function Zl(c){q(c.g,function(m,g){this.g.hasOwnProperty(g)&&As(m)},c),c.g={}}Lr.prototype.N=function(){Lr.Z.N.call(this),Zl(this)},Lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wa=o.JSON.stringify,ch=o.JSON.parse,uh=class{stringify(c){return o.JSON.stringify(c,void 0)}parse(c){return o.JSON.parse(c,void 0)}};function Nn(){}function qa(){}var Mr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ga(){P.call(this,"d")}h(Ga,P);function ki(){P.call(this,"c")}h(ki,P);var On={},Ka=null;function y(){return Ka=Ka||new ot}On.Ia="serverreachability";function X(c){P.call(this,On.Ia,c)}h(X,P);function W(c){const m=y();lt(m,new X(m))}On.STAT_EVENT="statevent";function re(c,m){P.call(this,On.STAT_EVENT,c),this.stat=m}h(re,P);function Re(c){const m=y();lt(m,new re(m,c))}On.Ja="timingevent";function Se(c,m){P.call(this,On.Ja,c),this.size=m}h(Se,P);function je(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){c()},m)}function Ae(){this.g=!0}Ae.prototype.ua=function(){this.g=!1};function HT(c,m,g,j,M,$){c.info(function(){if(c.g)if($){var Y="",ge=$.split("&");for(let Pe=0;Pe<ge.length;Pe++){var ct=ge[Pe].split("=");if(ct.length>1){const ft=ct[0];ct=ct[1];const Un=ft.split("_");Y=Un.length>=2&&Un[1]=="type"?Y+(ft+"="+ct+"&"):Y+(ft+"=redacted&")}}}else Y=null;else Y=$;return"XMLHTTP REQ ("+j+") [attempt "+M+"]: "+m+`
`+g+`
`+Y})}function WT(c,m,g,j,M,$,Y){c.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+M+"]: "+m+`
`+g+`
`+$+" "+Y})}function Ii(c,m,g,j){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+GT(c,g)+(j?" "+j:"")})}function qT(c,m){c.info(function(){return"TIMEOUT: "+m})}Ae.prototype.info=function(){};function GT(c,m){if(!c.g)return m;if(!m)return null;try{const $=JSON.parse(m);if($){for(c=0;c<$.length;c++)if(Array.isArray($[c])){var g=$[c];if(!(g.length<2)){var j=g[1];if(Array.isArray(j)&&!(j.length<1)){var M=j[0];if(M!="noop"&&M!="stop"&&M!="close")for(let Y=1;Y<j.length;Y++)j[Y]=""}}}}return Wa($)}catch{return m}}var ec={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ny={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Sy;function dh(){}h(dh,Nn),dh.prototype.g=function(){return new XMLHttpRequest},Sy=new dh;function Qa(c){return encodeURIComponent(String(c))}function KT(c){var m=1;c=c.split(":");const g=[];for(;m>0&&c.length;)g.push(c.shift()),m--;return c.length&&g.push(c.join(":")),g}function Ps(c,m,g,j){this.j=c,this.i=m,this.l=g,this.S=j||1,this.V=new Lr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ty}function Ty(){this.i=null,this.g="",this.h=!1}var Ey={},hh={};function fh(c,m,g){c.M=1,c.A=nc(Fn(m)),c.u=g,c.R=!0,jy(c,null)}function jy(c,m){c.F=Date.now(),tc(c),c.B=Fn(c.A);var g=c.B,j=c.S;Array.isArray(j)||(j=[String(j)]),Uy(g.i,"t",j),c.C=0,g=c.j.L,c.h=new Ty,c.g=rx(c.j,g?m:null,!c.u),c.P>0&&(c.O=new lh(d(c.Y,c,c.g),c.P)),m=c.V,g=c.g,j=c.ba;var M="readystatechange";Array.isArray(M)||(M&&(Mn[0]=M.toString()),M=Mn);for(let $=0;$<M.length;$++){const Y=_n(g,M[$],j||m.handleEvent,!1,m.h||m);if(!Y)break;m.g[Y.key]=Y}m=c.J?ie(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),W(),HT(c.i,c.v,c.B,c.l,c.S,c.u)}Ps.prototype.ba=function(c){c=c.target;const m=this.O;m&&Vs(c)==3?m.j():this.Y(c)},Ps.prototype.Y=function(c){try{if(c==this.g)e:{const ge=Vs(this.g),ct=this.g.ya(),Pe=this.g.ca();if(!(ge<3)&&(ge!=3||this.g&&(this.h.h||this.g.la()||Gy(this.g)))){this.K||ge!=4||ct==7||(ct==8||Pe<=0?W(3):W(2)),mh(this);var m=this.g.ca();this.X=m;var g=QT(this);if(this.o=m==200,WT(this.i,this.v,this.B,this.l,this.S,ge,m),this.o){if(this.U&&!this.L){t:{if(this.g){var j,M=this.g;if((j=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(j)){var $=j;break t}}$=null}if(c=$)Ii(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ph(this,c);else{this.o=!1,this.m=3,Re(12),Or(this),Ya(this);break e}}if(this.R){c=!0;let ft;for(;!this.K&&this.C<g.length;)if(ft=YT(this,g),ft==hh){ge==4&&(this.m=4,Re(14),c=!1),Ii(this.i,this.l,null,"[Incomplete Response]");break}else if(ft==Ey){this.m=4,Re(15),Ii(this.i,this.l,g,"[Invalid Chunk]"),c=!1;break}else Ii(this.i,this.l,ft,null),ph(this,ft);if(ky(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ge!=4||g.length!=0||this.h.h||(this.m=1,Re(16),c=!1),this.o=this.o&&c,!c)Ii(this.i,this.l,g,"[Invalid Chunked Response]"),Or(this),Ya(this);else if(g.length>0&&!this.W){this.W=!0;var Y=this.j;Y.g==this&&Y.aa&&!Y.P&&(Y.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),Nh(Y),Y.P=!0,Re(11))}}else Ii(this.i,this.l,g,null),ph(this,g);ge==4&&Or(this),this.o&&!this.K&&(ge==4?ex(this.j,this):(this.o=!1,tc(this)))}else uE(this.g),m==400&&g.indexOf("Unknown SID")>0?(this.m=3,Re(12)):(this.m=0,Re(13)),Or(this),Ya(this)}}}catch{}finally{}};function QT(c){if(!ky(c))return c.g.la();const m=Gy(c.g);if(m==="")return"";let g="";const j=m.length,M=Vs(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Or(c),Ya(c),"";c.h.i=new o.TextDecoder}for(let $=0;$<j;$++)c.h.h=!0,g+=c.h.i.decode(m[$],{stream:!(M&&$==j-1)});return m.length=0,c.h.g+=g,c.C=0,c.h.g}function ky(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function YT(c,m){var g=c.C,j=m.indexOf(`
`,g);return j==-1?hh:(g=Number(m.substring(g,j)),isNaN(g)?Ey:(j+=1,j+g>m.length?hh:(m=m.slice(j,j+g),c.C=j+g,m)))}Ps.prototype.cancel=function(){this.K=!0,Or(this)};function tc(c){c.T=Date.now()+c.H,Iy(c,c.H)}function Iy(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=je(d(c.aa,c),m)}function mh(c){c.D&&(o.clearTimeout(c.D),c.D=null)}Ps.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(qT(this.i,this.B),this.M!=2&&(W(),Re(17)),Or(this),this.m=2,Ya(this)):Iy(this,this.T-c)};function Ya(c){c.j.I==0||c.K||ex(c.j,c)}function Or(c){mh(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,Zl(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function ph(c,m){try{var g=c.j;if(g.I!=0&&(g.g==c||gh(g.h,c))){if(!c.L&&gh(g.h,c)&&g.I==3){try{var j=g.Ba.g.parse(m)}catch{j=null}if(Array.isArray(j)&&j.length==3){var M=j;if(M[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<c.F)oc(g),ic(g);else break e;_h(g),Re(18)}}else g.xa=M[1],0<g.xa-g.K&&M[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=je(d(g.Va,g),6e3));Py(g.h)<=1&&g.ta&&(g.ta=void 0)}else Ur(g,11)}else if((c.L||g.g==c)&&oc(g),!A(m))for(M=g.Ba.g.parse(m),m=0;m<M.length;m++){let Pe=M[m];const ft=Pe[0];if(!(ft<=g.K))if(g.K=ft,Pe=Pe[1],g.I==2)if(Pe[0]=="c"){g.M=Pe[1],g.ba=Pe[2];const Un=Pe[3];Un!=null&&(g.ka=Un,g.j.info("VER="+g.ka));const $r=Pe[4];$r!=null&&(g.za=$r,g.j.info("SVER="+g.za));const Ls=Pe[5];Ls!=null&&typeof Ls=="number"&&Ls>0&&(j=1.5*Ls,g.O=j,g.j.info("backChannelRequestTimeoutMs_="+j)),j=g;const Ms=c.g;if(Ms){const cc=Ms.g?Ms.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cc){var $=j.h;$.g||cc.indexOf("spdy")==-1&&cc.indexOf("quic")==-1&&cc.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(yh($,$.h),$.h=null))}if(j.G){const Sh=Ms.g?Ms.g.getResponseHeader("X-HTTP-Session-Id"):null;Sh&&(j.wa=Sh,Me(j.J,j.G,Sh))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-c.F,g.j.info("Handshake RTT: "+g.T+"ms")),j=g;var Y=c;if(j.na=sx(j,j.L?j.ba:null,j.W),Y.L){Ry(j.h,Y);var ge=Y,ct=j.O;ct&&(ge.H=ct),ge.D&&(mh(ge),tc(ge)),j.g=Y}else Xy(j);g.i.length>0&&ac(g)}else Pe[0]!="stop"&&Pe[0]!="close"||Ur(g,7);else g.I==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?Ur(g,7):bh(g):Pe[0]!="noop"&&g.l&&g.l.qa(Pe),g.A=0)}}W(4)}catch{}}var JT=class{constructor(c,m){this.g=c,this.map=m}};function Cy(c){this.l=c||10,o.PerformanceNavigationTiming?(c=o.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ay(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Py(c){return c.h?1:c.g?c.g.size:0}function gh(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function yh(c,m){c.g?c.g.add(m):c.h=m}function Ry(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Cy.prototype.cancel=function(){if(this.i=Dy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Dy(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const g of c.g.values())m=m.concat(g.G);return m}return x(c.i)}var Vy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function XT(c,m){if(c){c=c.split("&");for(let g=0;g<c.length;g++){const j=c[g].indexOf("=");let M,$=null;j>=0?(M=c[g].substring(0,j),$=c[g].substring(j+1)):M=c[g],m(M,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Rs(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof Rs?(this.l=c.l,Ja(this,c.j),this.o=c.o,this.g=c.g,Xa(this,c.u),this.h=c.h,xh(this,$y(c.i)),this.m=c.m):c&&(m=String(c).match(Vy))?(this.l=!1,Ja(this,m[1]||"",!0),this.o=Za(m[2]||""),this.g=Za(m[3]||"",!0),Xa(this,m[4]),this.h=Za(m[5]||"",!0),xh(this,m[6]||"",!0),this.m=Za(m[7]||"")):(this.l=!1,this.i=new to(null,this.l))}Rs.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(eo(m,Ly,!0),":");var g=this.g;return(g||m=="file")&&(c.push("//"),(m=this.o)&&c.push(eo(m,Ly,!0),"@"),c.push(Qa(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&c.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(eo(g,g.charAt(0)=="/"?tE:eE,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",eo(g,sE)),c.join("")},Rs.prototype.resolve=function(c){const m=Fn(this);let g=!!c.j;g?Ja(m,c.j):g=!!c.o,g?m.o=c.o:g=!!c.g,g?m.g=c.g:g=c.u!=null;var j=c.h;if(g)Xa(m,c.u);else if(g=!!c.h){if(j.charAt(0)!="/")if(this.g&&!this.h)j="/"+j;else{var M=m.h.lastIndexOf("/");M!=-1&&(j=m.h.slice(0,M+1)+j)}if(M=j,M==".."||M==".")j="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){j=M.lastIndexOf("/",0)==0,M=M.split("/");const $=[];for(let Y=0;Y<M.length;){const ge=M[Y++];ge=="."?j&&Y==M.length&&$.push(""):ge==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),j&&Y==M.length&&$.push("")):($.push(ge),j=!0)}j=$.join("/")}else j=M}return g?m.h=j:g=c.i.toString()!=="",g?xh(m,$y(c.i)):g=!!c.m,g&&(m.m=c.m),m};function Fn(c){return new Rs(c)}function Ja(c,m,g){c.j=g?Za(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function Xa(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function xh(c,m,g){m instanceof to?(c.i=m,rE(c.i,c.l)):(g||(m=eo(m,nE)),c.i=new to(m,c.l))}function Me(c,m,g){c.i.set(m,g)}function nc(c){return Me(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Za(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function eo(c,m,g){return typeof c=="string"?(c=encodeURI(c).replace(m,ZT),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ZT(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ly=/[#\/\?@]/g,eE=/[#\?:]/g,tE=/[#\?]/g,nE=/[#\?@]/g,sE=/#/g;function to(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function Fr(c){c.g||(c.g=new Map,c.h=0,c.i&&XT(c.i,function(m,g){c.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}t=to.prototype,t.add=function(c,m){Fr(this),this.i=null,c=Ci(this,c);let g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(m),this.h+=1,this};function My(c,m){Fr(c),m=Ci(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Oy(c,m){return Fr(c),m=Ci(c,m),c.g.has(m)}t.forEach=function(c,m){Fr(this),this.g.forEach(function(g,j){g.forEach(function(M){c.call(m,M,j,this)},this)},this)};function Fy(c,m){Fr(c);let g=[];if(typeof m=="string")Oy(c,m)&&(g=g.concat(c.g.get(Ci(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)g=g.concat(c[m]);return g}t.set=function(c,m){return Fr(this),this.i=null,c=Ci(this,c),Oy(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=Fy(this,c),c.length>0?String(c[0]):m):m};function Uy(c,m,g){My(c,m),g.length>0&&(c.i=null,c.g.set(Ci(c,m),x(g)),c.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let j=0;j<m.length;j++){var g=m[j];const M=Qa(g);g=Fy(this,g);for(let $=0;$<g.length;$++){let Y=M;g[$]!==""&&(Y+="="+Qa(g[$])),c.push(Y)}}return this.i=c.join("&")};function $y(c){const m=new to;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function Ci(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function rE(c,m){m&&!c.j&&(Fr(c),c.i=null,c.g.forEach(function(g,j){const M=j.toLowerCase();j!=M&&(My(this,j),Uy(this,M,g))},c)),c.j=m}function iE(c,m){const g=new Ae;if(o.Image){const j=new Image;j.onload=f(Ds,g,"TestLoadImage: loaded",!0,m,j),j.onerror=f(Ds,g,"TestLoadImage: error",!1,m,j),j.onabort=f(Ds,g,"TestLoadImage: abort",!1,m,j),j.ontimeout=f(Ds,g,"TestLoadImage: timeout",!1,m,j),o.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=c}else m(!1)}function aE(c,m){const g=new Ae,j=new AbortController,M=setTimeout(()=>{j.abort(),Ds(g,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:j.signal}).then($=>{clearTimeout(M),$.ok?Ds(g,"TestPingServer: ok",!0,m):Ds(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(M),Ds(g,"TestPingServer: error",!1,m)})}function Ds(c,m,g,j,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),j(g)}catch{}}function oE(){this.g=new uh}function vh(c){this.i=c.Sb||null,this.h=c.ab||!1}h(vh,Nn),vh.prototype.g=function(){return new sc(this.i,this.h)};function sc(c,m){ot.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(sc,ot),t=sc.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,so(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||o).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,no(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,so(this)),this.g&&(this.readyState=3,so(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;By(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function By(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?no(this):so(this),this.readyState==3&&By(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,no(this))},t.Na=function(c){this.g&&(this.response=c,no(this))},t.ga=function(){this.g&&no(this)};function no(c){c.readyState=4,c.l=null,c.j=null,c.B=null,so(c)}t.setRequestHeader=function(c,m){this.A.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=m.next();return c.join(`\r
`)};function so(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(sc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function zy(c){let m="";return q(c,function(g,j){m+=j,m+=":",m+=g,m+=`\r
`}),m}function wh(c,m,g){e:{for(j in g){var j=!1;break e}j=!0}j||(g=zy(g),typeof c=="string"?g!=null&&Qa(g):Me(c,m,g))}function Ke(c){ot.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(Ke,ot);var lE=/^https?$/i,cE=["POST","PUT"];t=Ke.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,m,g,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Sy.g(),this.g.onreadystatechange=p(d(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch($){Hy(this,$);return}if(c=g||"",g=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var M in j)g.set(M,j[M]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const $ of j.keys())g.set($,j.get($));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(g.keys()).find($=>$.toLowerCase()=="content-type"),M=o.FormData&&c instanceof o.FormData,!(Array.prototype.indexOf.call(cE,m,void 0)>=0)||j||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,Y]of g)this.g.setRequestHeader($,Y);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch($){Hy(this,$)}};function Hy(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Wy(c),rc(c)}function Wy(c){c.A||(c.A=!0,lt(c,"complete"),lt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,lt(this,"complete"),lt(this,"abort"),rc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rc(this,!0)),Ke.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?qy(this):this.Xa())},t.Xa=function(){qy(this)};function qy(c){if(c.h&&typeof a<"u"){if(c.v&&Vs(c)==4)setTimeout(c.Ca.bind(c),0);else if(lt(c,"readystatechange"),Vs(c)==4){c.h=!1;try{const $=c.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var g;if(!(g=m)){var j;if(j=$===0){let Y=String(c.D).match(Vy)[1]||null;!Y&&o.self&&o.self.location&&(Y=o.self.location.protocol.slice(0,-1)),j=!lE.test(Y?Y.toLowerCase():"")}g=j}if(g)lt(c,"complete"),lt(c,"success");else{c.o=6;try{var M=Vs(c)>2?c.g.statusText:""}catch{M=""}c.l=M+" ["+c.ca()+"]",Wy(c)}}finally{rc(c)}}}}function rc(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const g=c.g;c.g=null,m||lt(c,"ready");try{g.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Vs(c){return c.g?c.g.readyState:0}t.ca=function(){try{return Vs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),ch(m)}};function Gy(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function uE(c){const m={};c=(c.g&&Vs(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<c.length;j++){if(A(c[j]))continue;var g=KT(c[j]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const $=m[M]||[];m[M]=$,$.push(g)}ne(m,function(j){return j.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ro(c,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||m}function Ky(c){this.za=0,this.i=[],this.j=new Ae,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ro("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ro("baseRetryDelayMs",5e3,c),this.Za=ro("retryDelaySeedMs",1e4,c),this.Ta=ro("forwardChannelMaxRetries",2,c),this.va=ro("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Cy(c&&c.concurrentRequestLimit),this.Ba=new oE,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ky.prototype,t.ka=8,t.I=1,t.connect=function(c,m,g,j){Re(0),this.W=c,this.H=m||{},g&&j!==void 0&&(this.H.OSID=g,this.H.OAID=j),this.F=this.X,this.J=sx(this,null,this.W),ac(this)};function bh(c){if(Qy(c),c.I==3){var m=c.V++,g=Fn(c.J);if(Me(g,"SID",c.M),Me(g,"RID",m),Me(g,"TYPE","terminate"),io(c,g),m=new Ps(c,c.j,m),m.M=2,m.A=nc(Fn(g)),g=!1,o.navigator&&o.navigator.sendBeacon)try{g=o.navigator.sendBeacon(m.A.toString(),"")}catch{}!g&&o.Image&&(new Image().src=m.A,g=!0),g||(m.g=rx(m.j,null),m.g.ea(m.A)),m.F=Date.now(),tc(m)}nx(c)}function ic(c){c.g&&(Nh(c),c.g.cancel(),c.g=null)}function Qy(c){ic(c),c.v&&(o.clearTimeout(c.v),c.v=null),oc(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&o.clearTimeout(c.m),c.m=null)}function ac(c){if(!Ay(c.h)&&!c.m){c.m=!0;var m=c.Ea;L||N(),U||(L(),U=!0),k.add(m,c),c.D=0}}function dE(c,m){return Py(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=je(d(c.Ea,c,m),tx(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const M=new Ps(this,this.j,c);let $=this.o;if(this.U&&($?($=ie($),Ie($,this.U)):$=this.U),this.u!==null||this.R||(M.J=$,$=null),this.S)e:{for(var m=0,g=0;g<this.i.length;g++){t:{var j=this.i[g];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(m+=j,m>4096){m=g;break e}if(m===4096||g===this.i.length-1){m=g+1;break e}}m=1e3}else m=1e3;m=Jy(this,M,m),g=Fn(this.J),Me(g,"RID",c),Me(g,"CVER",22),this.G&&Me(g,"X-HTTP-Session-Id",this.G),io(this,g),$&&(this.R?m="headers="+Qa(zy($))+"&"+m:this.u&&wh(g,this.u,$)),yh(this.h,M),this.Ra&&Me(g,"TYPE","init"),this.S?(Me(g,"$req",m),Me(g,"SID","null"),M.U=!0,fh(M,g,null)):fh(M,g,m),this.I=2}}else this.I==3&&(c?Yy(this,c):this.i.length==0||Ay(this.h)||Yy(this))};function Yy(c,m){var g;m?g=m.l:g=c.V++;const j=Fn(c.J);Me(j,"SID",c.M),Me(j,"RID",g),Me(j,"AID",c.K),io(c,j),c.u&&c.o&&wh(j,c.u,c.o),g=new Ps(c,c.j,g,c.D+1),c.u===null&&(g.J=c.o),m&&(c.i=m.G.concat(c.i)),m=Jy(c,g,1e3),g.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),yh(c.h,g),fh(g,j,m)}function io(c,m){c.H&&q(c.H,function(g,j){Me(m,j,g)}),c.l&&q({},function(g,j){Me(m,j,g)})}function Jy(c,m,g){g=Math.min(c.i.length,g);const j=c.l?d(c.l.Ka,c.l,c):null;e:{var M=c.i;let ge=-1;for(;;){const ct=["count="+g];ge==-1?g>0?(ge=M[0].g,ct.push("ofs="+ge)):ge=0:ct.push("ofs="+ge);let Pe=!0;for(let ft=0;ft<g;ft++){var $=M[ft].g;const Un=M[ft].map;if($-=ge,$<0)ge=Math.max(0,M[ft].g-100),Pe=!1;else try{$="req"+$+"_"||"";try{var Y=Un instanceof Map?Un:Object.entries(Un);for(const[$r,Ls]of Y){let Ms=Ls;l(Ls)&&(Ms=Wa(Ls)),ct.push($+$r+"="+encodeURIComponent(Ms))}}catch($r){throw ct.push($+"type="+encodeURIComponent("_badmap")),$r}}catch{j&&j(Un)}}if(Pe){Y=ct.join("&");break e}}Y=void 0}return c=c.i.splice(0,g),m.G=c,Y}function Xy(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;L||N(),U||(L(),U=!0),k.add(m,c),c.A=0}}function _h(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=je(d(c.Da,c),tx(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,Zy(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=je(d(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Re(10),ic(this),Zy(this))};function Nh(c){c.B!=null&&(o.clearTimeout(c.B),c.B=null)}function Zy(c){c.g=new Ps(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=Fn(c.na);Me(m,"RID","rpc"),Me(m,"SID",c.M),Me(m,"AID",c.K),Me(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Me(m,"TO",c.ia),Me(m,"TYPE","xmlhttp"),io(c,m),c.u&&c.o&&wh(m,c.u,c.o),c.O&&(c.g.H=c.O);var g=c.g;c=c.ba,g.M=1,g.A=nc(Fn(m)),g.u=null,g.R=!0,jy(g,c)}t.Va=function(){this.C!=null&&(this.C=null,ic(this),_h(this),Re(19))};function oc(c){c.C!=null&&(o.clearTimeout(c.C),c.C=null)}function ex(c,m){var g=null;if(c.g==m){oc(c),Nh(c),c.g=null;var j=2}else if(gh(c.h,m))g=m.G,Ry(c.h,m),j=1;else return;if(c.I!=0){if(m.o)if(j==1){g=m.u?m.u.length:0,m=Date.now()-m.F;var M=c.D;j=y(),lt(j,new Se(j,g)),ac(c)}else Xy(c);else if(M=m.m,M==3||M==0&&m.X>0||!(j==1&&dE(c,m)||j==2&&_h(c)))switch(g&&g.length>0&&(m=c.h,m.i=m.i.concat(g)),M){case 1:Ur(c,5);break;case 4:Ur(c,10);break;case 3:Ur(c,6);break;default:Ur(c,2)}}}function tx(c,m){let g=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(g*=2),g*m}function Ur(c,m){if(c.j.info("Error code "+m),m==2){var g=d(c.bb,c),j=c.Ua;const M=!j;j=new Rs(j||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Ja(j,"https"),nc(j),M?iE(j.toString(),g):aE(j.toString(),g)}else Re(2);c.I=0,c.l&&c.l.pa(m),nx(c),Qy(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Re(2)):(this.j.info("Failed to ping google.com"),Re(1))};function nx(c){if(c.I=0,c.ja=[],c.l){const m=Dy(c.h);(m.length!=0||c.i.length!=0)&&(S(c.ja,m),S(c.ja,c.i),c.h.i.length=0,x(c.i),c.i.length=0),c.l.oa()}}function sx(c,m,g){var j=g instanceof Rs?Fn(g):new Rs(g);if(j.g!="")m&&(j.g=m+"."+j.g),Xa(j,j.u);else{var M=o.location;j=M.protocol,m=m?m+"."+M.hostname:M.hostname,M=+M.port;const $=new Rs(null);j&&Ja($,j),m&&($.g=m),M&&Xa($,M),g&&($.h=g),j=$}return g=c.G,m=c.wa,g&&m&&Me(j,g,m),Me(j,"VER",c.ka),io(c,j),j}function rx(c,m,g){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Ke(new vh({ab:g})):new Ke(c.ma),m.Fa(c.L),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ix(){}t=ix.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function lc(){}lc.prototype.g=function(c,m){return new Yt(c,m)};function Yt(c,m){ot.call(this),this.g=new Ky(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!A(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!A(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Ai(this)}h(Yt,ot),Yt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){bh(this.g)},Yt.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.v&&(g={},g.__data__=Wa(c),c=g);m.i.push(new JT(m.Ya++,c)),m.I==3&&ac(m)},Yt.prototype.N=function(){this.g.l=null,delete this.j,bh(this.g),delete this.g,Yt.Z.N.call(this)};function ax(c){Ga.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const g in m){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}h(ax,Ga);function ox(){ki.call(this),this.status=1}h(ox,ki);function Ai(c){this.g=c}h(Ai,ix),Ai.prototype.ra=function(){lt(this.g,"a")},Ai.prototype.qa=function(c){lt(this.g,new ax(c))},Ai.prototype.pa=function(c){lt(this.g,new ox)},Ai.prototype.oa=function(){lt(this.g,"b")},lc.prototype.createWebChannel=lc.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,oS=function(){return new lc},aS=function(){return y()},iS=On,Um={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ec.NO_ERROR=0,ec.TIMEOUT=8,ec.HTTP_ERROR=6,su=ec,Ny.COMPLETE="complete",rS=Ny,qa.EventType=Mr,Mr.OPEN="a",Mr.CLOSE="b",Mr.ERROR="c",Mr.MESSAGE="d",ot.prototype.listen=ot.prototype.J,So=qa,Ke.prototype.listenOnce=Ke.prototype.K,Ke.prototype.getLastError=Ke.prototype.Ha,Ke.prototype.getLastErrorCode=Ke.prototype.ya,Ke.prototype.getStatus=Ke.prototype.ca,Ke.prototype.getResponseJson=Ke.prototype.La,Ke.prototype.getResponseText=Ke.prototype.la,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Fa,sS=Ke}).apply(typeof Pc<"u"?Pc:typeof self<"u"?self:typeof window<"u"?window:{});const ew="@firebase/firestore",tw="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ct.UNAUTHENTICATED=new Ct(null),Ct.GOOGLE_CREDENTIALS=new Ct("google-credentials-uid"),Ct.FIRST_PARTY=new Ct("first-party-uid"),Ct.MOCK_USER=new Ct("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ma="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi=new Ng("@firebase/firestore");function Ri(){return yi.logLevel}function ee(t,...e){if(yi.logLevel<=xe.DEBUG){const n=e.map(Lg);yi.debug(`Firestore (${Ma}): ${t}`,...n)}}function Ss(t,...e){if(yi.logLevel<=xe.ERROR){const n=e.map(Lg);yi.error(`Firestore (${Ma}): ${t}`,...n)}}function Sa(t,...e){if(yi.logLevel<=xe.WARN){const n=e.map(Lg);yi.warn(`Firestore (${Ma}): ${t}`,...n)}}function Lg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ue(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,lS(t,s,n)}function lS(t,e,n){let s=`FIRESTORE (${Ma}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ss(s),new Error(s)}function Ee(t,e,n,s){let r="Unexpected state";typeof n=="string"?r=n:s=n,t||lS(e,r,s)}function fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends js{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class F3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ct.UNAUTHENTICATED))}shutdown(){}}class U3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class $3{constructor(e){this.t=e,this.currentUser=Ct.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ee(this.o===void 0,42304);let s=this.i;const r=u=>this.i!==s?(s=this.i,n(u)):Promise.resolve();let a=new gs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new gs,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const u=a;e.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},l=u=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new gs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ee(typeof s.accessToken=="string",31837,{l:s}),new cS(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ee(e===null||typeof e=="string",2055,{h:e}),new Ct(e)}}class B3{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Ct.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class z3{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new B3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ct.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class H3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ee(this.o===void 0,3512);const s=a=>{a.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,ee("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>s(a))};const r=a=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?r(a):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new nw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ee(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new nw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const r=W3(40);for(let a=0;a<r.length;++a)s.length<20&&r[a]<n&&(s+=e.charAt(r[a]%62))}return s}}function ve(t,e){return t<e?-1:t>e?1:0}function $m(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const r=t.charAt(s),a=e.charAt(s);if(r!==a)return xf(r)===xf(a)?ve(r,a):xf(r)?1:-1}return ve(t.length,e.length)}const q3=55296,G3=57343;function xf(t){const e=t.charCodeAt(0);return e>=q3&&e<=G3}function Ta(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="__name__";class zn{constructor(e,n,s){n===void 0?n=0:n>e.length&&ue(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ue(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return zn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zn?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const a=zn.compareSegments(e.get(r),n.get(r));if(a!==0)return a}return ve(e.length,n.length)}static compareSegments(e,n){const s=zn.isNumericId(e),r=zn.isNumericId(n);return s&&!r?-1:!s&&r?1:s&&r?zn.extractNumericId(e).compare(zn.extractNumericId(n)):$m(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fr.fromString(e.substring(4,e.length-2))}}class De extends zn{construct(e,n,s){return new De(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new J(B.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new De(n)}static emptyPath(){return new De([])}}const K3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bt extends zn{construct(e,n,s){return new bt(e,n,s)}static isValidIdentifier(e){return K3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sw}static keyField(){return new bt([sw])}static fromServerFormat(e){const n=[];let s="",r=0;const a=()=>{if(s.length===0)throw new J(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new J(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new J(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=u,r+=2}else l==="`"?(o=!o,r++):l!=="."||o?(s+=l,r++):(a(),r++)}if(a(),o)throw new J(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bt(n)}static emptyPath(){return new bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(De.fromString(e))}static fromName(e){return new oe(De.fromString(e).popFirst(5))}static empty(){return new oe(De.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&De.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return De.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new De(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(t,e,n){if(!n)throw new J(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Q3(t,e,n,s){if(e===!0&&s===!0)throw new J(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function rw(t){if(!oe.isDocumentKey(t))throw new J(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function iw(t){if(oe.isDocumentKey(t))throw new J(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function dS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Bd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ue(12329,{type:typeof t})}function rn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bd(t);throw new J(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(t,e){const n={typeString:t};return e&&(n.value=e),n}function Hl(t,e){if(!dS(t))throw new J(B.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const r=e[s].typeString,a="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const o=t[s];if(r&&typeof o!==r){n=`JSON field '${s}' must be a ${r}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${s}' field to equal '${a.value}'`;break}}if(n)throw new J(B.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=-62135596800,ow=1e6;class Ue{static now(){return Ue.fromMillis(Date.now())}static fromDate(e){return Ue.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*ow);return new Ue(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<aw)throw new J(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ow}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ue._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Hl(e,Ue._jsonSchema))return new Ue(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-aw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ue._jsonSchemaVersion="firestore/timestamp/1.0",Ue._jsonSchema={type:it("string",Ue._jsonSchemaVersion),seconds:it("number"),nanoseconds:it("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{static fromTimestamp(e){return new he(e)}static min(){return new he(new Ue(0,0))}static max(){return new he(new Ue(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl=-1;function Y3(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=he.fromTimestamp(s===1e9?new Ue(n+1,0):new Ue(n,s));return new wr(r,oe.empty(),e)}function J3(t){return new wr(t.readTime,t.key,yl)}class wr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new wr(he.min(),oe.empty(),yl)}static max(){return new wr(he.max(),oe.empty(),yl)}}function X3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oa(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==Z3)throw t;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((s,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(s,r)},this.catchCallback=a=>{this.wrapFailure(n,a).next(s,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,s)=>{n(e)})}static reject(e){return new z((n,s)=>{s(e)})}static waitFor(e){return new z((n,s)=>{let r=0,a=0,o=!1;e.forEach(l=>{++r,l.next(()=>{++a,o&&a===r&&n()},u=>s(u))}),o=!0,a===r&&n()})}static or(e){let n=z.resolve(!1);for(const s of e)n=n.next(r=>r?z.resolve(r):s());return n}static forEach(e,n){const s=[];return e.forEach((r,a)=>{s.push(n.call(this,r,a))}),this.waitFor(s)}static mapArray(e,n){return new z((s,r)=>{const a=e.length,o=new Array(a);let l=0;for(let u=0;u<a;u++){const d=u;n(e[d]).next(f=>{o[d]=f,++l,l===a&&s(o)},f=>r(f))}})}static doWhile(e,n){return new z((s,r)=>{const a=()=>{e()===!0?n().next(()=>{a()},r):s()};a()})}}function tV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}zd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og=-1;function Hd(t){return t==null}function nd(t){return t===0&&1/t==-1/0}function nV(t){return typeof t=="number"&&Number.isInteger(t)&&!nd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="";function sV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=lw(e)),e=rV(t.get(n),e);return lw(e)}function rV(t,e){let n=e;const s=t.length;for(let r=0;r<s;r++){const a=t.charAt(r);switch(a){case"\0":n+="";break;case hS:n+="";break;default:n+=a}}return n}function lw(t){return t+hS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ar(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function fS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n){this.comparator=e,this.root=n||vt.EMPTY}insert(e,n){return new Ge(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vt.BLACK,null,null))}remove(e){return new Ge(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rc(this.root,e,this.comparator,!0)}}class Rc{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?s(e.key,n):1,n&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vt{constructor(e,n,s,r,a){this.key=e,this.value=n,this.color=s??vt.RED,this.left=r??vt.EMPTY,this.right=a??vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,a){return new vt(e??this.key,n??this.value,s??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const a=s(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,n,s),null):a===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return vt.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ue(27949);return e+(this.isRed()?0:1)}}vt.EMPTY=null,vt.RED=!0,vt.BLACK=!1;vt.EMPTY=new class{constructor(){this.size=0}get key(){throw ue(57766)}get value(){throw ue(16141)}get color(){throw ue(16727)}get left(){throw ue(29726)}get right(){throw ue(36894)}copy(e,n,s,r,a){return this}insert(e,n,s){return new vt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.comparator=e,this.data=new Ge(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new uw(this.data.getIterator())}getIteratorFrom(e){return new uw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,a=s.getNext().key;if(this.comparator(r,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ht(this.comparator);return n.data=e,n}}class uw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.fields=e,e.sort(bt.comparator)}static empty(){return new nn([])}unionWith(e){let n=new ht(bt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ta(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new mS("Invalid base64 string: "+a):a}}(e);return new St(n)}static fromUint8Array(e){const n=function(r){let a="";for(let o=0;o<r.length;++o)a+=String.fromCharCode(r[o]);return a}(e);return new St(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}St.EMPTY_BYTE_STRING=new St("");const iV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function br(t){if(Ee(!!t,39018),typeof t=="string"){let e=0;const n=iV.exec(t);if(Ee(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Xe(t.seconds),nanos:Xe(t.nanos)}}function Xe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _r(t){return typeof t=="string"?St.fromBase64String(t):St.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="server_timestamp",gS="__type__",yS="__previous_value__",xS="__local_write_time__";function Fg(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[gS])==null?void 0:s.stringValue)===pS}function Wd(t){const e=t.mapValue.fields[yS];return Fg(e)?Wd(e):e}function xl(t){const e=br(t.mapValue.fields[xS].timestampValue);return new Ue(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e,n,s,r,a,o,l,u,d,f){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=f}}const sd="(default)";class vl{constructor(e,n){this.projectId=e,this.database=n||sd}static empty(){return new vl("","")}get isDefaultDatabase(){return this.database===sd}isEqual(e){return e instanceof vl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="__type__",oV="__max__",Dc={mapValue:{}},wS="__vector__",rd="value";function Nr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Fg(t)?4:cV(t)?9007199254740991:lV(t)?10:11:ue(28295,{value:t})}function es(t,e){if(t===e)return!0;const n=Nr(t);if(n!==Nr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xl(t).isEqual(xl(e));case 3:return function(r,a){if(typeof r.timestampValue=="string"&&typeof a.timestampValue=="string"&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const o=br(r.timestampValue),l=br(a.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,a){return _r(r.bytesValue).isEqual(_r(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,a){return Xe(r.geoPointValue.latitude)===Xe(a.geoPointValue.latitude)&&Xe(r.geoPointValue.longitude)===Xe(a.geoPointValue.longitude)}(t,e);case 2:return function(r,a){if("integerValue"in r&&"integerValue"in a)return Xe(r.integerValue)===Xe(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const o=Xe(r.doubleValue),l=Xe(a.doubleValue);return o===l?nd(o)===nd(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Ta(t.arrayValue.values||[],e.arrayValue.values||[],es);case 10:case 11:return function(r,a){const o=r.mapValue.fields||{},l=a.mapValue.fields||{};if(cw(o)!==cw(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!es(o[u],l[u])))return!1;return!0}(t,e);default:return ue(52216,{left:t})}}function wl(t,e){return(t.values||[]).find(n=>es(n,e))!==void 0}function Ea(t,e){if(t===e)return 0;const n=Nr(t),s=Nr(e);if(n!==s)return ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(t.booleanValue,e.booleanValue);case 2:return function(a,o){const l=Xe(a.integerValue||a.doubleValue),u=Xe(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return dw(t.timestampValue,e.timestampValue);case 4:return dw(xl(t),xl(e));case 5:return $m(t.stringValue,e.stringValue);case 6:return function(a,o){const l=_r(a),u=_r(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const l=a.split("/"),u=o.split("/");for(let d=0;d<l.length&&d<u.length;d++){const f=ve(l[d],u[d]);if(f!==0)return f}return ve(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const l=ve(Xe(a.latitude),Xe(o.latitude));return l!==0?l:ve(Xe(a.longitude),Xe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return hw(t.arrayValue,e.arrayValue);case 10:return function(a,o){var p,x,S,_;const l=a.fields||{},u=o.fields||{},d=(p=l[rd])==null?void 0:p.arrayValue,f=(x=u[rd])==null?void 0:x.arrayValue,h=ve(((S=d==null?void 0:d.values)==null?void 0:S.length)||0,((_=f==null?void 0:f.values)==null?void 0:_.length)||0);return h!==0?h:hw(d,f)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===Dc.mapValue&&o===Dc.mapValue)return 0;if(a===Dc.mapValue)return 1;if(o===Dc.mapValue)return-1;const l=a.fields||{},u=Object.keys(l),d=o.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let h=0;h<u.length&&h<f.length;++h){const p=$m(u[h],f[h]);if(p!==0)return p;const x=Ea(l[u[h]],d[f[h]]);if(x!==0)return x}return ve(u.length,f.length)}(t.mapValue,e.mapValue);default:throw ue(23264,{he:n})}}function dw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ve(t,e);const n=br(t),s=br(e),r=ve(n.seconds,s.seconds);return r!==0?r:ve(n.nanos,s.nanos)}function hw(t,e){const n=t.values||[],s=e.values||[];for(let r=0;r<n.length&&r<s.length;++r){const a=Ea(n[r],s[r]);if(a)return a}return ve(n.length,s.length)}function ja(t){return Bm(t)}function Bm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=br(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return _r(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",r=!0;for(const a of n.values||[])r?r=!1:s+=",",s+=Bm(a);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let r="{",a=!0;for(const o of s)a?a=!1:r+=",",r+=`${o}:${Bm(n.fields[o])}`;return r+"}"}(t.mapValue):ue(61005,{value:t})}function ru(t){switch(Nr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wd(t);return e?16+ru(e):16;case 5:return 2*t.stringValue.length;case 6:return _r(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((r,a)=>r+ru(a),0)}(t.arrayValue);case 10:case 11:return function(s){let r=0;return Ar(s.fields,(a,o)=>{r+=a.length+ru(o)}),r}(t.mapValue);default:throw ue(13486,{value:t})}}function fw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function zm(t){return!!t&&"integerValue"in t}function Ug(t){return!!t&&"arrayValue"in t}function mw(t){return!!t&&"nullValue"in t}function pw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function iu(t){return!!t&&"mapValue"in t}function lV(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[vS])==null?void 0:s.stringValue)===wS}function Ho(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ar(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Ho(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ho(t.arrayValue.values[n]);return e}return{...t}}function cV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===oV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.value=e}static empty(){return new Ht({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!iu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ho(n)}setAll(e){let n=bt.emptyPath(),s={},r=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,s,r),s={},r=[],n=l.popLast()}o?s[l.lastSegment()]=Ho(o):r.push(l.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,s,r)}delete(e){const n=this.field(e.popLast());iu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return es(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];iu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){Ar(n,(r,a)=>e[r]=a);for(const r of s)delete e[r]}clone(){return new Ht(Ho(this.value))}}function bS(t){const e=[];return Ar(t.fields,(n,s)=>{const r=new bt([n]);if(iu(s)){const a=bS(s.mapValue).fields;if(a.length===0)e.push(r);else for(const o of a)e.push(r.child(o))}else e.push(r)}),new nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n,s,r,a,o,l){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=a,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Pt(e,0,he.min(),he.min(),he.min(),Ht.empty(),0)}static newFoundDocument(e,n,s,r){return new Pt(e,1,n,he.min(),s,r,0)}static newNoDocument(e,n){return new Pt(e,2,n,he.min(),he.min(),Ht.empty(),0)}static newUnknownDocument(e,n){return new Pt(e,3,n,he.min(),he.min(),Ht.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ht.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ht.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n){this.position=e,this.inclusive=n}}function gw(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const a=e[r],o=t.position[r];if(a.field.isKeyField()?s=oe.comparator(oe.fromName(o.referenceValue),n.key):s=Ea(o,n.data.field(a.field)),a.dir==="desc"&&(s*=-1),s!==0)break}return s}function yw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!es(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,n="asc"){this.field=e,this.dir=n}}function uV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{}class rt extends _S{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new hV(e,n,s):n==="array-contains"?new pV(e,s):n==="in"?new gV(e,s):n==="not-in"?new yV(e,s):n==="array-contains-any"?new xV(e,s):new rt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new fV(e,s):new mV(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ea(n,this.value)):n!==null&&Nr(this.value)===Nr(n)&&this.matchesComparison(Ea(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vn extends _S{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Vn(e,n)}matches(e){return NS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function NS(t){return t.op==="and"}function SS(t){return dV(t)&&NS(t)}function dV(t){for(const e of t.filters)if(e instanceof Vn)return!1;return!0}function Hm(t){if(t instanceof rt)return t.field.canonicalString()+t.op.toString()+ja(t.value);if(SS(t))return t.filters.map(e=>Hm(e)).join(",");{const e=t.filters.map(n=>Hm(n)).join(",");return`${t.op}(${e})`}}function TS(t,e){return t instanceof rt?function(s,r){return r instanceof rt&&s.op===r.op&&s.field.isEqual(r.field)&&es(s.value,r.value)}(t,e):t instanceof Vn?function(s,r){return r instanceof Vn&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce((a,o,l)=>a&&TS(o,r.filters[l]),!0):!1}(t,e):void ue(19439)}function ES(t){return t instanceof rt?function(n){return`${n.field.canonicalString()} ${n.op} ${ja(n.value)}`}(t):t instanceof Vn?function(n){return n.op.toString()+" {"+n.getFilters().map(ES).join(" ,")+"}"}(t):"Filter"}class hV extends rt{constructor(e,n,s){super(e,n,s),this.key=oe.fromName(s.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class fV extends rt{constructor(e,n){super(e,"in",n),this.keys=jS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class mV extends rt{constructor(e,n){super(e,"not-in",n),this.keys=jS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function jS(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(s=>oe.fromName(s.referenceValue))}class pV extends rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ug(n)&&wl(n.arrayValue,this.value)}}class gV extends rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wl(this.value.arrayValue,n)}}class yV extends rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!wl(this.value.arrayValue,n)}}class xV extends rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ug(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>wl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e,n=null,s=[],r=[],a=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=a,this.startAt=o,this.endAt=l,this.Te=null}}function xw(t,e=null,n=[],s=[],r=null,a=null,o=null){return new vV(t,e,n,s,r,a,o)}function $g(t){const e=fe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Hm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(a){return a.field.canonicalString()+a.dir}(s)).join(","),Hd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>ja(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>ja(s)).join(",")),e.Te=n}return e.Te}function Bg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!uV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!TS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!yw(t.startAt,e.startAt)&&yw(t.endAt,e.endAt)}function Wm(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,n=null,s=[],r=[],a=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function wV(t,e,n,s,r,a,o,l){return new Ua(t,e,n,s,r,a,o,l)}function qd(t){return new Ua(t)}function vw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function kS(t){return t.collectionGroup!==null}function Wo(t){const e=fe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new ht(bt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new bl(a,s))}),n.has(bt.keyField().canonicalString())||e.Ie.push(new bl(bt.keyField(),s))}return e.Ie}function Yn(t){const e=fe(t);return e.Ee||(e.Ee=bV(e,Wo(t))),e.Ee}function bV(t,e){if(t.limitType==="F")return xw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const a=r.dir==="desc"?"asc":"desc";return new bl(r.field,a)});const n=t.endAt?new id(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new id(t.startAt.position,t.startAt.inclusive):null;return xw(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function qm(t,e){const n=t.filters.concat([e]);return new Ua(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Gm(t,e,n){return new Ua(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gd(t,e){return Bg(Yn(t),Yn(e))&&t.limitType===e.limitType}function IS(t){return`${$g(Yn(t))}|lt:${t.limitType}`}function Di(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(r=>ES(r)).join(", ")}]`),Hd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(r=>ja(r)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(r=>ja(r)).join(",")),`Target(${s})`}(Yn(t))}; limitType=${t.limitType})`}function Kd(t,e){return e.isFoundDocument()&&function(s,r){const a=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(a):oe.isDocumentKey(s.path)?s.path.isEqual(a):s.path.isImmediateParentOf(a)}(t,e)&&function(s,r){for(const a of Wo(s))if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1;return!0}(t,e)&&function(s,r){for(const a of s.filters)if(!a.matches(r))return!1;return!0}(t,e)&&function(s,r){return!(s.startAt&&!function(o,l,u){const d=gw(o,l,u);return o.inclusive?d<=0:d<0}(s.startAt,Wo(s),r)||s.endAt&&!function(o,l,u){const d=gw(o,l,u);return o.inclusive?d>=0:d>0}(s.endAt,Wo(s),r))}(t,e)}function _V(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function CS(t){return(e,n)=>{let s=!1;for(const r of Wo(t)){const a=NV(r,e,n);if(a!==0)return a;s=s||r.field.isKeyField()}return 0}}function NV(t,e,n){const s=t.field.isKeyField()?oe.comparator(e.key,n.key):function(a,o,l){const u=o.data.field(a),d=l.data.field(a);return u!==null&&d!==null?Ea(u,d):ue(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return ue(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,a]of s)if(this.equalsFn(r,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ar(this.inner,(n,s)=>{for(const[r,a]of s)e(r,a)})}isEmpty(){return fS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV=new Ge(oe.comparator);function Ts(){return SV}const AS=new Ge(oe.comparator);function To(...t){let e=AS;for(const n of t)e=e.insert(n.key,n);return e}function PS(t){let e=AS;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function ei(){return qo()}function RS(){return qo()}function qo(){return new Ni(t=>t.toString(),(t,e)=>t.isEqual(e))}const TV=new Ge(oe.comparator),EV=new ht(oe.comparator);function we(...t){let e=EV;for(const n of t)e=e.add(n);return e}const jV=new ht(ve);function kV(){return jV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nd(e)?"-0":e}}function DS(t){return{integerValue:""+t}}function IV(t,e){return nV(e)?DS(e):zg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(){this._=void 0}}function CV(t,e,n){return t instanceof _l?function(r,a){const o={fields:{[gS]:{stringValue:pS},[xS]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&Fg(a)&&(a=Wd(a)),a&&(o.fields[yS]=a),{mapValue:o}}(n,e):t instanceof Nl?LS(t,e):t instanceof Sl?MS(t,e):function(r,a){const o=VS(r,a),l=ww(o)+ww(r.Ae);return zm(o)&&zm(r.Ae)?DS(l):zg(r.serializer,l)}(t,e)}function AV(t,e,n){return t instanceof Nl?LS(t,e):t instanceof Sl?MS(t,e):n}function VS(t,e){return t instanceof ad?function(s){return zm(s)||function(a){return!!a&&"doubleValue"in a}(s)}(e)?e:{integerValue:0}:null}class _l extends Qd{}class Nl extends Qd{constructor(e){super(),this.elements=e}}function LS(t,e){const n=OS(e);for(const s of t.elements)n.some(r=>es(r,s))||n.push(s);return{arrayValue:{values:n}}}class Sl extends Qd{constructor(e){super(),this.elements=e}}function MS(t,e){let n=OS(e);for(const s of t.elements)n=n.filter(r=>!es(r,s));return{arrayValue:{values:n}}}class ad extends Qd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function ww(t){return Xe(t.integerValue||t.doubleValue)}function OS(t){return Ug(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e,n){this.field=e,this.transform=n}}function RV(t,e){return t.field.isEqual(e.field)&&function(s,r){return s instanceof Nl&&r instanceof Nl||s instanceof Sl&&r instanceof Sl?Ta(s.elements,r.elements,es):s instanceof ad&&r instanceof ad?es(s.Ae,r.Ae):s instanceof _l&&r instanceof _l}(t.transform,e.transform)}class DV{constructor(e,n){this.version=e,this.transformResults=n}}class Rn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Rn}static exists(e){return new Rn(void 0,e)}static updateTime(e){return new Rn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function au(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Yd{}function FS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $S(t.key,Rn.none()):new Wl(t.key,t.data,Rn.none());{const n=t.data,s=Ht.empty();let r=new ht(bt.comparator);for(let a of e.fields)if(!r.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?s.delete(a):s.set(a,o),r=r.add(a)}return new Pr(t.key,s,new nn(r.toArray()),Rn.none())}}function VV(t,e,n){t instanceof Wl?function(r,a,o){const l=r.value.clone(),u=_w(r.fieldTransforms,a,o.transformResults);l.setAll(u),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Pr?function(r,a,o){if(!au(r.precondition,a))return void a.convertToUnknownDocument(o.version);const l=_w(r.fieldTransforms,a,o.transformResults),u=a.data;u.setAll(US(r)),u.setAll(l),a.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(r,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Go(t,e,n,s){return t instanceof Wl?function(a,o,l,u){if(!au(a.precondition,o))return l;const d=a.value.clone(),f=Nw(a.fieldTransforms,u,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,s):t instanceof Pr?function(a,o,l,u){if(!au(a.precondition,o))return l;const d=Nw(a.fieldTransforms,u,o),f=o.data;return f.setAll(US(a)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(h=>h.field))}(t,e,n,s):function(a,o,l){return au(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function LV(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),a=VS(s.transform,r||null);a!=null&&(n===null&&(n=Ht.empty()),n.set(s.field,a))}return n||null}function bw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&Ta(s,r,(a,o)=>RV(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wl extends Yd{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Pr extends Yd{constructor(e,n,s,r,a=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function US(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function _w(t,e,n){const s=new Map;Ee(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let r=0;r<n.length;r++){const a=t[r],o=a.transform,l=e.data.field(a.field);s.set(a.field,AV(o,l,n[r]))}return s}function Nw(t,e,n){const s=new Map;for(const r of t){const a=r.transform,o=n.data.field(r.field);s.set(r.field,CV(a,o,e))}return s}class $S extends Yd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MV extends Yd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&VV(a,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Go(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Go(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=RS();return this.mutations.forEach(r=>{const a=e.get(r.key),o=a.overlayedDocument;let l=this.applyToLocalView(o,a.mutatedFields);l=n.has(r.key)?null:l;const u=FS(o,l);u!==null&&s.set(r.key,u),o.isValidDocument()||o.convertToNoDocument(he.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&Ta(this.mutations,e.mutations,(n,s)=>bw(n,s))&&Ta(this.baseMutations,e.baseMutations,(n,s)=>bw(n,s))}}class Hg{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){Ee(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let r=function(){return TV}();const a=e.mutations;for(let o=0;o<a.length;o++)r=r.insert(a[o].key,s[o].version);return new Hg(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt,_e;function $V(t){switch(t){case B.OK:return ue(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return ue(15467,{code:t})}}function BS(t){if(t===void 0)return Ss("GRPC error has no .code"),B.UNKNOWN;switch(t){case tt.OK:return B.OK;case tt.CANCELLED:return B.CANCELLED;case tt.UNKNOWN:return B.UNKNOWN;case tt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case tt.INTERNAL:return B.INTERNAL;case tt.UNAVAILABLE:return B.UNAVAILABLE;case tt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case tt.NOT_FOUND:return B.NOT_FOUND;case tt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case tt.ABORTED:return B.ABORTED;case tt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case tt.DATA_LOSS:return B.DATA_LOSS;default:return ue(39323,{code:t})}}(_e=tt||(tt={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV=new fr([4294967295,4294967295],0);function Sw(t){const e=BV().encode(t),n=new nS;return n.update(e),new Uint8Array(n.digest())}function Tw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new fr([n,s],0),new fr([r,a],0)]}class Wg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Eo(`Invalid padding: ${n}`);if(s<0)throw new Eo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Eo(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Eo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=fr.fromNumber(this.ge)}ye(e,n,s){let r=e.add(n.multiply(fr.fromNumber(s)));return r.compare(zV)===1&&(r=new fr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Sw(e),[s,r]=Tw(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(s,r,a);if(!this.we(o))return!1}return!0}static create(e,n,s){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new Wg(a,r,n);return s.forEach(l=>o.insert(l)),o}insert(e){if(this.ge===0)return;const n=Sw(e),[s,r]=Tw(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(s,r,a);this.Se(o)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Eo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n,s,r,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,ql.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Jd(he.min(),r,new Ge(ve),Ts(),we())}}class ql{constructor(e,n,s,r,a){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ql(s,n,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n,s,r){this.be=e,this.removedTargetIds=n,this.key=s,this.De=r}}class zS{constructor(e,n){this.targetId=e,this.Ce=n}}class HS{constructor(e,n,s=St.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class Ew{constructor(){this.ve=0,this.Fe=jw(),this.Me=St.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=we(),n=we(),s=we();return this.Fe.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:ue(38017,{changeType:a})}}),new ql(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=jw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ee(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class HV{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ts(),this.Je=Vc(),this.He=Vc(),this.Ye=new Ge(ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ue(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,r)=>{this.rt(r)&&n(r)})}st(e){const n=e.targetId,s=e.Ce.count,r=this.ot(n);if(r){const a=r.target;if(Wm(a))if(s===0){const o=new oe(a.path);this.et(n,o,Pt.newNoDocument(o,he.min()))}else Ee(s===1,20013,{expectedCount:s});else{const o=this._t(n);if(o!==s){const l=this.ut(e),u=l?this.ct(l,e,o):1;if(u!==0){this.it(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:r=0},hashCount:a=0}=n;let o,l;try{o=_r(s).toUint8Array()}catch(u){if(u instanceof mS)return Sa("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Wg(o,r,a)}catch(u){return Sa(u instanceof Eo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let r=0;return s.forEach(a=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.et(n,a,null),r++)}),r}Tt(e){const n=new Map;this.ze.forEach((a,o)=>{const l=this.ot(o);if(l){if(a.current&&Wm(l.target)){const u=new oe(l.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,Pt.newNoDocument(u,e))}a.Be&&(n.set(o,a.ke()),a.qe())}});let s=we();this.He.forEach((a,o)=>{let l=!0;o.forEachWhile(u=>{const d=this.ot(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(s=s.add(a))}),this.je.forEach((a,o)=>o.setReadTime(e));const r=new Jd(e,n,this.Ye,this.je,s);return this.je=Ts(),this.Je=Vc(),this.He=Vc(),this.Ye=new Ge(ve),r}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.Qe(n,1):r.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Ew,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ht(ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ht(ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ee("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ew),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Vc(){return new Ge(oe.comparator)}function jw(){return new Ge(oe.comparator)}const WV={asc:"ASCENDING",desc:"DESCENDING"},qV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GV={and:"AND",or:"OR"};class KV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Km(t,e){return t.useProto3Json||Hd(e)?e:{value:e}}function od(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function QV(t,e){return od(t,e.toTimestamp())}function Jn(t){return Ee(!!t,49232),he.fromTimestamp(function(n){const s=br(n);return new Ue(s.seconds,s.nanos)}(t))}function qg(t,e){return Qm(t,e).canonicalString()}function Qm(t,e){const n=function(r){return new De(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function qS(t){const e=De.fromString(t);return Ee(JS(e),10190,{key:e.toString()}),e}function Ym(t,e){return qg(t.databaseId,e.path)}function vf(t,e){const n=qS(e);if(n.get(1)!==t.databaseId.projectId)throw new J(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(KS(n))}function GS(t,e){return qg(t.databaseId,e)}function YV(t){const e=qS(t);return e.length===4?De.emptyPath():KS(e)}function Jm(t){return new De(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function KS(t){return Ee(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function kw(t,e,n){return{name:Ym(t,e),fields:n.value.mapValue.fields}}function JV(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ue(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],a=function(d,f){return d.useProto3Json?(Ee(f===void 0||typeof f=="string",58123),St.fromBase64String(f||"")):(Ee(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),St.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(d){const f=d.code===void 0?B.UNKNOWN:BS(d.code);return new J(f,d.message||"")}(o);n=new HS(s,r,a,l||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=vf(t,s.document.name),a=Jn(s.document.updateTime),o=s.document.createTime?Jn(s.document.createTime):he.min(),l=new Ht({mapValue:{fields:s.document.fields}}),u=Pt.newFoundDocument(r,a,o,l),d=s.targetIds||[],f=s.removedTargetIds||[];n=new ou(d,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=vf(t,s.document),a=s.readTime?Jn(s.readTime):he.min(),o=Pt.newNoDocument(r,a),l=s.removedTargetIds||[];n=new ou([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=vf(t,s.document),a=s.removedTargetIds||[];n=new ou([],a,r,null)}else{if(!("filter"in e))return ue(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:a}=s,o=new UV(r,a),l=s.targetId;n=new zS(l,o)}}return n}function XV(t,e){let n;if(e instanceof Wl)n={update:kw(t,e.key,e.value)};else if(e instanceof $S)n={delete:Ym(t,e.key)};else if(e instanceof Pr)n={update:kw(t,e.key,e.data),updateMask:oL(e.fieldMask)};else{if(!(e instanceof MV))return ue(16599,{Vt:e.type});n={verify:Ym(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(a,o){const l=o.transform;if(l instanceof _l)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Nl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Sl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof ad)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw ue(20930,{transform:o.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(r,a){return a.updateTime!==void 0?{updateTime:QV(r,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ue(27497)}(t,e.precondition)),n}function ZV(t,e){return t&&t.length>0?(Ee(e!==void 0,14353),t.map(n=>function(r,a){let o=r.updateTime?Jn(r.updateTime):Jn(a);return o.isEqual(he.min())&&(o=Jn(a)),new DV(o,r.transformResults||[])}(n,e))):[]}function eL(t,e){return{documents:[GS(t,e.path)]}}function tL(t,e){const n={structuredQuery:{}},s=e.path;let r;e.collectionGroup!==null?(r=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=GS(t,r);const a=function(d){if(d.length!==0)return YS(Vn.create(d,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const o=function(d){if(d.length!==0)return d.map(f=>function(p){return{field:Vi(p.field),direction:rL(p.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Km(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:r}}function nL(t){let e=YV(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){Ee(s===1,65062);const f=n.from[0];f.allDescendants?r=f.collectionId:e=e.child(f.collectionId)}let a=[];n.where&&(a=function(h){const p=QS(h);return p instanceof Vn&&SS(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(S){return new bl(Li(S.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(h){let p;return p=typeof h=="object"?h.value:h,Hd(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(h){const p=!!h.before,x=h.values||[];return new id(x,p)}(n.startAt));let d=null;return n.endAt&&(d=function(h){const p=!h.before,x=h.values||[];return new id(x,p)}(n.endAt)),wV(e,r,o,a,l,"F",u,d)}function sL(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ue(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function QS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Li(n.unaryFilter.field);return rt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=Li(n.unaryFilter.field);return rt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Li(n.unaryFilter.field);return rt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Li(n.unaryFilter.field);return rt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ue(61313);default:return ue(60726)}}(t):t.fieldFilter!==void 0?function(n){return rt.create(Li(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ue(58110);default:return ue(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Vn.create(n.compositeFilter.filters.map(s=>QS(s)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ue(1026)}}(n.compositeFilter.op))}(t):ue(30097,{filter:t})}function rL(t){return WV[t]}function iL(t){return qV[t]}function aL(t){return GV[t]}function Vi(t){return{fieldPath:t.canonicalString()}}function Li(t){return bt.fromServerFormat(t.fieldPath)}function YS(t){return t instanceof rt?function(n){if(n.op==="=="){if(pw(n.value))return{unaryFilter:{field:Vi(n.field),op:"IS_NAN"}};if(mw(n.value))return{unaryFilter:{field:Vi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(pw(n.value))return{unaryFilter:{field:Vi(n.field),op:"IS_NOT_NAN"}};if(mw(n.value))return{unaryFilter:{field:Vi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vi(n.field),op:iL(n.op),value:n.value}}}(t):t instanceof Vn?function(n){const s=n.getFilters().map(r=>YS(r));return s.length===1?s[0]:{compositeFilter:{op:aL(n.op),filters:s}}}(t):ue(54877,{filter:t})}function oL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function JS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n,s,r,a=he.min(),o=he.min(),l=St.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Xs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e){this.yt=e}}function cL(t){const e=nL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Gm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(){this.Cn=new dL}addToCollectionParentIndex(e,n){return this.Cn.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(wr.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(wr.min())}updateCollectionGroup(e,n,s){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class dL{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new ht(De.comparator),a=!r.has(s);return this.index[n]=r.add(s),a}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new ht(De.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XS=41943040;class Bt{static withCacheSize(e){return new Bt(e,Bt.DEFAULT_COLLECTION_PERCENTILE,Bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bt.DEFAULT_COLLECTION_PERCENTILE=10,Bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bt.DEFAULT=new Bt(XS,Bt.DEFAULT_COLLECTION_PERCENTILE,Bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bt.DISABLED=new Bt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ka(0)}static cr(){return new ka(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="LruGarbageCollector",hL=1048576;function Aw([t,e],[n,s]){const r=ve(t,n);return r===0?ve(e,s):r}class fL{constructor(e){this.Ir=e,this.buffer=new ht(Aw),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Aw(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class mL{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ee(Cw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Fa(n)?ee(Cw,"Ignoring IndexedDB error during garbage collection: ",n):await Oa(n)}await this.Vr(3e5)})}}class pL{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return z.resolve(zd.ce);const s=new fL(n);return this.mr.forEachTarget(e,r=>s.Ar(r.sequenceNumber)).next(()=>this.mr.pr(e,r=>s.Ar(r))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ee("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(Iw)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Iw):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,r,a,o,l,u,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),r=this.params.maximumSequenceNumbersToCollect):r=h,o=Date.now(),this.nthSequenceNumber(e,r))).next(h=>(s=h,l=Date.now(),this.removeTargets(e,s,n))).next(h=>(a=h,u=Date.now(),this.removeOrphanedDocuments(e,s))).next(h=>(d=Date.now(),Ri()<=xe.DEBUG&&ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${r} in `+(l-o)+`ms
	Removed ${a} targets in `+(u-l)+`ms
	Removed ${h} documents in `+(d-u)+`ms
Total Duration: ${d-f}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:h})))}}function gL(t,e){return new pL(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(){this.changes=new Ni(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?z.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(s=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(s!==null&&Go(s.mutation,r,nn.empty(),Ue.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,we()).next(()=>s))}getLocalViewOfDocuments(e,n,s=we()){const r=ei();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,s).next(a=>{let o=To();return a.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=ei();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,we()))}populateOverlays(e,n,s){const r=[];return s.forEach(a=>{n.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,s,r){let a=Ts();const o=qo(),l=function(){return qo()}();return n.forEach((u,d)=>{const f=s.get(d.key);r.has(d.key)&&(f===void 0||f.mutation instanceof Pr)?a=a.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),Go(f.mutation,d,f.mutation.getFieldMask(),Ue.now())):o.set(d.key,nn.empty())}),this.recalculateAndSaveOverlays(e,a).next(u=>(u.forEach((d,f)=>o.set(d,f)),n.forEach((d,f)=>l.set(d,new xL(f,o.get(d)??null))),l))}recalculateAndSaveOverlays(e,n){const s=qo();let r=new Ge((o,l)=>o-l),a=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const d=n.get(u);if(d===null)return;let f=s.get(u)||nn.empty();f=l.applyToLocalView(d,f),s.set(u,f);const h=(r.get(l.batchId)||we()).add(u);r=r.insert(l.batchId,h)})}).next(()=>{const o=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),d=u.key,f=u.value,h=RS();f.forEach(p=>{if(!a.has(p)){const x=FS(n.get(p),s.get(p));x!==null&&h.set(p,x),a=a.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,h))}return z.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,r){return function(o){return oe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):kS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,r):this.getDocumentsMatchingCollectionQuery(e,n,s,r)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next(a=>{const o=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-a.size):z.resolve(ei());let l=yl,u=a;return o.next(d=>z.forEach(d,(f,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),a.get(f)?z.resolve():this.remoteDocumentCache.getEntry(e,f).next(p=>{u=u.insert(f,p)}))).next(()=>this.populateOverlays(e,d,a)).next(()=>this.computeViews(e,u,d,we())).next(f=>({batchId:l,changes:PS(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(s=>{let r=To();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,s,r){const a=n.collectionGroup;let o=To();return this.indexManager.getCollectionParents(e,a).next(l=>z.forEach(l,u=>{const d=function(h,p){return new Ua(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,u.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,s,r).next(f=>{f.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,s,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,a,r))).next(o=>{a.forEach((u,d)=>{const f=d.getKey();o.get(f)===null&&(o=o.insert(f,Pt.newInvalidDocument(f)))});let l=To();return o.forEach((u,d)=>{const f=a.get(u);f!==void 0&&Go(f.mutation,d,nn.empty(),Ue.now()),Kd(n,d)&&(l=l.insert(u,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return z.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Jn(r.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(r){return{name:r.name,query:cL(r.bundledQuery),readTime:Jn(r.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(){this.overlays=new Ge(oe.comparator),this.qr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ei();return z.forEach(n,r=>this.getOverlay(e,r).next(a=>{a!==null&&s.set(r,a)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((r,a)=>{this.St(e,n,a)}),z.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.qr.get(s);return r!==void 0&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(s)),z.resolve()}getOverlaysForCollection(e,n,s){const r=ei(),a=n.length+1,o=new oe(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===a&&u.largestBatchId>s&&r.set(u.getKey(),u)}return z.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let a=new Ge((d,f)=>d-f);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>s){let f=a.get(d.largestBatchId);f===null&&(f=ei(),a=a.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const l=ei(),u=a.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,f)=>l.set(d,f)),!(l.size()>=r)););return z.resolve(l)}St(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const o=this.qr.get(r.largestBatchId).delete(s.key);this.qr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new FV(n,s));let a=this.qr.get(n);a===void 0&&(a=we(),this.qr.set(n,a)),this.qr.set(n,a.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(){this.sessionToken=St.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(){this.Qr=new ht(mt.$r),this.Ur=new ht(mt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new mt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new mt(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new oe(new De([])),s=new mt(n,e),r=new mt(n,e+1),a=[];return this.Ur.forEachInRange([s,r],o=>{this.Gr(o),a.push(o.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new oe(new De([])),s=new mt(n,e),r=new mt(n,e+1);let a=we();return this.Ur.forEachInRange([s,r],o=>{a=a.add(o.key)}),a}containsKey(e){const n=new mt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class mt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return oe.comparator(e.key,n.key)||ve(e.Yr,n.Yr)}static Kr(e,n){return ve(e.Yr,n.Yr)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ht(mt.$r)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new OV(a,n,s,r);this.mutationQueue.push(o);for(const l of r)this.Zr=this.Zr.add(new mt(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.ei(s),a=r<0?0:r;return z.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?Og:this.tr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new mt(n,0),r=new mt(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([s,r],o=>{const l=this.Xr(o.Yr);a.push(l)}),z.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new ht(ve);return n.forEach(r=>{const a=new mt(r,0),o=new mt(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],l=>{s=s.add(l.Yr)})}),z.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let a=s;oe.isDocumentKey(a)||(a=a.child(""));const o=new mt(new oe(a),0);let l=new ht(ve);return this.Zr.forEachWhile(u=>{const d=u.key.path;return!!s.isPrefixOf(d)&&(d.length===r&&(l=l.add(u.Yr)),!0)},o),z.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(s=>{const r=this.Xr(s);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Ee(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return z.forEach(n.mutations,r=>{const a=new mt(r.key,n.batchId);return s=s.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new mt(n,0),r=this.Zr.firstAfterOrEqual(s);return z.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e){this.ri=e,this.docs=function(){return new Ge(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),a=r?r.size:0,o=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return z.resolve(s?s.document.mutableCopy():Pt.newInvalidDocument(n))}getEntries(e,n){let s=Ts();return n.forEach(r=>{const a=this.docs.get(r);s=s.insert(r,a?a.document.mutableCopy():Pt.newInvalidDocument(r))}),z.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let a=Ts();const o=n.path,l=new oe(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:d,value:{document:f}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||X3(J3(f),s)<=0||(r.has(f.key)||Kd(n,f))&&(a=a.insert(f.key,f.mutableCopy()))}return z.resolve(a)}getAllFromCollectionGroup(e,n,s,r){ue(9500)}ii(e,n){return z.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new TL(this)}getSize(e){return z.resolve(this.size)}}class TL extends yL{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(s)}),z.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e){this.persistence=e,this.si=new Ni(n=>$g(n),Bg),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.oi=0,this._i=new Gg,this.targetCount=0,this.ai=ka.ur()}forEachTarget(e,n){return this.si.forEach((s,r)=>n(r)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),z.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ka(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Pr(n),z.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,s){let r=0;const a=[];return this.si.forEach((o,l)=>{l.sequenceNumber<=n&&s.get(l.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),z.waitFor(a).next(()=>r)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return z.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),z.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const r=this.persistence.referenceDelegate,a=[];return r&&n.forEach(o=>{a.push(r.markPotentiallyOrphaned(e,o))}),z.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return z.resolve(s)}containsKey(e,n){return z.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e,n){this.ui={},this.overlays={},this.ci=new zd(0),this.li=!1,this.li=!0,this.hi=new _L,this.referenceDelegate=e(this),this.Pi=new EL(this),this.indexManager=new uL,this.remoteDocumentCache=function(r){return new SL(r)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new lL(n),this.Ii=new wL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new bL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new NL(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ee("MemoryPersistence","Starting transaction:",e);const r=new jL(this.ci.next());return this.referenceDelegate.Ei(),s(r).next(a=>this.referenceDelegate.di(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Ai(e,n){return z.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class jL extends eV{constructor(e){super(),this.currentSequenceNumber=e}}class Kg{constructor(e){this.persistence=e,this.Ri=new Gg,this.Vi=null}static mi(e){return new Kg(e)}get fi(){if(this.Vi)return this.Vi;throw ue(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),z.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),z.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(r=>this.fi.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(a=>this.fi.add(a.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.fi,s=>{const r=oe.fromPath(s);return this.gi(e,r).next(a=>{a||n.removeEntry(r,he.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return z.or([()=>z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ld{constructor(e,n){this.persistence=e,this.pi=new Ni(s=>sV(s.path),(s,r)=>s.isEqual(r)),this.garbageCollector=gL(this,n)}static mi(e,n){return new ld(e,n)}Ei(){}di(e){return z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(r=>s+r))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return z.forEach(this.pi,(s,r)=>this.br(e,s,r).next(a=>a?z.resolve():n(r)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const r=this.persistence.getRemoteDocumentCache(),a=r.newChangeBuffer();return r.ii(e,o=>this.br(e,o,n).next(l=>{l||(s++,a.removeEntry(o,he.min()))})).next(()=>a.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),z.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ru(e.data.value)),n}br(e,n,s){return z.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.pi.get(n);return z.resolve(r!==void 0&&r>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=r}static As(e,n){let s=we(),r=we();for(const a of n.docChanges)switch(a.type){case 0:s=s.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new Qg(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Z4()?8:tV(Dt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,r){const a={result:null};return this.ys(e,n).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.ws(e,n,r,s).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new kL;return this.Ss(e,n,o).next(l=>{if(a.result=l,this.Vs)return this.bs(e,n,o,l.size)})}).next(()=>a.result)}bs(e,n,s,r){return s.documentReadCount<this.fs?(Ri()<=xe.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",Di(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),z.resolve()):(Ri()<=xe.DEBUG&&ee("QueryEngine","Query:",Di(n),"scans",s.documentReadCount,"local documents and returns",r,"documents as results."),s.documentReadCount>this.gs*r?(Ri()<=xe.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",Di(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yn(n))):z.resolve())}ys(e,n){if(vw(n))return z.resolve(null);let s=Yn(n);return this.indexManager.getIndexType(e,s).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Gm(n,null,"F"),s=Yn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(a=>{const o=we(...a);return this.ps.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,s).next(u=>{const d=this.Ds(n,l);return this.Cs(n,d,o,u.readTime)?this.ys(e,Gm(n,null,"F")):this.vs(e,d,n,u)}))})))}ws(e,n,s,r){return vw(n)||r.isEqual(he.min())?z.resolve(null):this.ps.getDocuments(e,s).next(a=>{const o=this.Ds(n,a);return this.Cs(n,o,s,r)?z.resolve(null):(Ri()<=xe.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Di(n)),this.vs(e,o,n,Y3(r,yl)).next(l=>l))})}Ds(e,n){let s=new ht(CS(e));return n.forEach((r,a)=>{Kd(e,a)&&(s=s.add(a))}),s}Cs(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Ss(e,n,s){return Ri()<=xe.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",Di(n)),this.ps.getDocumentsMatchingQuery(e,n,wr.min(),s)}vs(e,n,s,r){return this.ps.getDocumentsMatchingQuery(e,s,r).next(a=>(n.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg="LocalStore",CL=3e8;class AL{constructor(e,n,s,r){this.persistence=e,this.Fs=n,this.serializer=r,this.Ms=new Ge(ve),this.xs=new Ni(a=>$g(a),Bg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function PL(t,e,n,s){return new AL(t,e,n,s)}async function eT(t,e){const n=fe(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(a=>(r=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(a=>{const o=[],l=[];let u=we();for(const d of r){o.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}for(const d of a){l.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(s,u).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:l}))})})}function RL(t,e){const n=fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const r=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,u,d,f){const h=d.batch,p=h.keys();let x=z.resolve();return p.forEach(S=>{x=x.next(()=>f.getEntry(u,S)).next(_=>{const I=d.docVersions.get(S);Ee(I!==null,48541),_.version.compareTo(I)<0&&(h.applyToRemoteDocument(_,d),_.isValidDocument()&&(_.setReadTime(d.commitVersion),f.addEntry(_)))})}),x.next(()=>l.mutationQueue.removeMutationBatch(u,h))}(n,s,e,a).next(()=>a.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(l){let u=we();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(u=u.add(l.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(s,r))})}function tT(t){const e=fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function DL(t,e){const n=fe(t),s=e.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const l=[];e.targetChanges.forEach((f,h)=>{const p=r.get(h);if(!p)return;l.push(n.Pi.removeMatchingKeys(a,f.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(a,f.addedDocuments,h)));let x=p.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(h)!==null?x=x.withResumeToken(St.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):f.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(f.resumeToken,s)),r=r.insert(h,x),function(_,I,T){return _.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=CL?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(p,x,f)&&l.push(n.Pi.updateTargetData(a,x))});let u=Ts(),d=we();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(a,f))}),l.push(VL(a,o,e.documentUpdates).next(f=>{u=f.ks,d=f.qs})),!s.isEqual(he.min())){const f=n.Pi.getLastRemoteSnapshotVersion(a).next(h=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,s));l.push(f)}return z.waitFor(l).next(()=>o.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,u,d)).next(()=>u)}).then(a=>(n.Ms=r,a))}function VL(t,e,n){let s=we(),r=we();return n.forEach(a=>s=s.add(a)),e.getEntries(t,s).next(a=>{let o=Ts();return n.forEach((l,u)=>{const d=a.get(l);u.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual(he.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):ee(Yg,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",u.version)}),{ks:o,qs:r}})}function LL(t,e){const n=fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Og),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function ML(t,e){const n=fe(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.Pi.getTargetData(s,e).next(a=>a?(r=a,z.resolve(r)):n.Pi.allocateTargetId(s).next(o=>(r=new Xs(e,o,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.Ms.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function Xm(t,e,n){const s=fe(t),r=s.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",a,o=>s.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!Fa(o))throw o;ee(Yg,`Failed to update sequence numbers for target ${e}: ${o}`)}s.Ms=s.Ms.remove(e),s.xs.delete(r.target)}function Pw(t,e,n){const s=fe(t);let r=he.min(),a=we();return s.persistence.runTransaction("Execute query","readwrite",o=>function(u,d,f){const h=fe(u),p=h.xs.get(f);return p!==void 0?z.resolve(h.Ms.get(p)):h.Pi.getTargetData(d,f)}(s,o,Yn(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(o,l.targetId).next(u=>{a=u})}).next(()=>s.Fs.getDocumentsMatchingQuery(o,e,n?r:he.min(),n?a:we())).next(l=>(OL(s,_V(e),l),{documents:l,Qs:a})))}function OL(t,e,n){let s=t.Os.get(e)||he.min();n.forEach((r,a)=>{a.readTime.compareTo(s)>0&&(s=a.readTime)}),t.Os.set(e,s)}class Rw{constructor(){this.activeTargetIds=kV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class FL{constructor(){this.Mo=new Rw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Rw,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="ConnectivityMonitor";class Vw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ee(Dw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ee(Dw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lc=null;function Zm(){return Lc===null?Lc=function(){return 268435456+Math.round(2147483648*Math.random())}():Lc++,"0x"+Lc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf="RestConnection",$L={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class BL{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${r}`,this.Wo=this.databaseId.database===sd?`project_id=${s}`:`project_id=${s}&database_id=${r}`}Go(e,n,s,r,a){const o=Zm(),l=this.zo(e,n.toUriEncodedString());ee(wf,`Sending RPC '${e}' ${o}:`,l,s);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,r,a);const{host:d}=new URL(l),f=Da(d);return this.Jo(e,l,u,s,f).then(h=>(ee(wf,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Sa(wf,`RPC '${e}' ${o} failed with error: `,h,"url: ",l,"request:",s),h})}Ho(e,n,s,r,a,o){return this.Go(e,n,s,r,a)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ma}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,a)=>e[a]=r),s&&s.headers.forEach((r,a)=>e[a]=r)}zo(e,n){const s=$L[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jt="WebChannelConnection";class HL extends BL{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,r,a){const o=Zm();return new Promise((l,u)=>{const d=new sS;d.setWithCredentials(!0),d.listenOnce(rS.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case su.NO_ERROR:const h=d.getResponseJson();ee(jt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),l(h);break;case su.TIMEOUT:ee(jt,`RPC '${e}' ${o} timed out`),u(new J(B.DEADLINE_EXCEEDED,"Request time out"));break;case su.HTTP_ERROR:const p=d.getStatus();if(ee(jt,`RPC '${e}' ${o} failed with status:`,p,"response text:",d.getResponseText()),p>0){let x=d.getResponseJson();Array.isArray(x)&&(x=x[0]);const S=x==null?void 0:x.error;if(S&&S.status&&S.message){const _=function(T){const v=T.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(v)>=0?v:B.UNKNOWN}(S.status);u(new J(_,S.message))}else u(new J(B.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new J(B.UNAVAILABLE,"Connection failed."));break;default:ue(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{ee(jt,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(r);ee(jt,`RPC '${e}' ${o} sending request:`,r),d.send(n,"POST",f,s,15)})}T_(e,n,s){const r=Zm(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=oS(),l=aS(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,s),u.encodeInitMessageHeaders=!0;const f=a.join("");ee(jt,`Creating RPC '${e}' stream ${r}: ${f}`,u);const h=o.createWebChannel(f,u);this.I_(h);let p=!1,x=!1;const S=new zL({Yo:I=>{x?ee(jt,`Not sending because RPC '${e}' stream ${r} is closed:`,I):(p||(ee(jt,`Opening RPC '${e}' stream ${r} transport.`),h.open(),p=!0),ee(jt,`RPC '${e}' stream ${r} sending:`,I),h.send(I))},Zo:()=>h.close()}),_=(I,T,v)=>{I.listen(T,b=>{try{v(b)}catch(D){setTimeout(()=>{throw D},0)}})};return _(h,So.EventType.OPEN,()=>{x||(ee(jt,`RPC '${e}' stream ${r} transport opened.`),S.o_())}),_(h,So.EventType.CLOSE,()=>{x||(x=!0,ee(jt,`RPC '${e}' stream ${r} transport closed`),S.a_(),this.E_(h))}),_(h,So.EventType.ERROR,I=>{x||(x=!0,Sa(jt,`RPC '${e}' stream ${r} transport errored. Name:`,I.name,"Message:",I.message),S.a_(new J(B.UNAVAILABLE,"The operation could not be completed")))}),_(h,So.EventType.MESSAGE,I=>{var T;if(!x){const v=I.data[0];Ee(!!v,16349);const b=v,D=(b==null?void 0:b.error)||((T=b[0])==null?void 0:T.error);if(D){ee(jt,`RPC '${e}' stream ${r} received error:`,D);const L=D.status;let U=function(E){const C=tt[E];if(C!==void 0)return BS(C)}(L),k=D.message;U===void 0&&(U=B.INTERNAL,k="Unknown error status: "+L+" with message "+D.message),x=!0,S.a_(new J(U,k)),h.close()}else ee(jt,`RPC '${e}' stream ${r} received:`,v),S.u_(v)}}),_(l,iS.STAT_EVENT,I=>{I.stat===Um.PROXY?ee(jt,`RPC '${e}' stream ${r} detected buffering proxy`):I.stat===Um.NOPROXY&&ee(jt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function bf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(t){return new KV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n,s=1e3,r=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=r,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-s);r>0&&ee("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="PersistentStream";class sT{constructor(e,n,s,r,a,o,l,u){this.Mi=e,this.S_=s,this.b_=r,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new nT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Ss(n.toString()),Ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.D_===n&&this.G_(s,r)},s=>{e(()=>{const r=new J(B.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(r)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(r=>{s(()=>this.z_(r))}),this.stream.onMessage(r=>{s(()=>++this.F_==1?this.J_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ee(Lw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ee(Lw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WL extends sT{constructor(e,n,s,r,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,o),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=JV(this.serializer,e),s=function(a){if(!("targetChange"in a))return he.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?he.min():o.readTime?Jn(o.readTime):he.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Jm(this.serializer),n.addTarget=function(a,o){let l;const u=o.target;if(l=Wm(u)?{documents:eL(a,u)}:{query:tL(a,u).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=WS(a,o.resumeToken);const d=Km(a,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(he.min())>0){l.readTime=od(a,o.snapshotVersion.toTimestamp());const d=Km(a,o.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const s=sL(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Jm(this.serializer),n.removeTarget=e,this.q_(n)}}class qL extends sT{constructor(e,n,s,r,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ee(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ee(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ee(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=ZV(e.writeResults,e.commitTime),s=Jn(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Jm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>XV(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{}class KL extends GL{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new J(B.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Go(e,Qm(n,s),r,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new J(B.UNKNOWN,a.toString())})}Ho(e,n,s,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Ho(e,Qm(n,s),r,o,l,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(B.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class QL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ss(n),this.aa=!1):ee("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi="RemoteStore";class YL{constructor(e,n,s,r,a){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(o=>{s.enqueueAndForget(async()=>{Si(this)&&(ee(xi,"Restarting streams for network reachability change."),await async function(u){const d=fe(u);d.Ea.add(4),await Gl(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Zd(d)}(this))})}),this.Ra=new QL(s,r)}}async function Zd(t){if(Si(t))for(const e of t.da)await e(!0)}async function Gl(t){for(const e of t.da)await e(!1)}function rT(t,e){const n=fe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ey(n)?Zg(n):$a(n).O_()&&Xg(n,e))}function Jg(t,e){const n=fe(t),s=$a(n);n.Ia.delete(e),s.O_()&&iT(n,e),n.Ia.size===0&&(s.O_()?s.L_():Si(n)&&n.Ra.set("Unknown"))}function Xg(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$a(t).Y_(e)}function iT(t,e){t.Va.Ue(e),$a(t).Z_(e)}function Zg(t){t.Va=new HV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),$a(t).start(),t.Ra.ua()}function ey(t){return Si(t)&&!$a(t).x_()&&t.Ia.size>0}function Si(t){return fe(t).Ea.size===0}function aT(t){t.Va=void 0}async function JL(t){t.Ra.set("Online")}async function XL(t){t.Ia.forEach((e,n)=>{Xg(t,e)})}async function ZL(t,e){aT(t),ey(t)?(t.Ra.ha(e),Zg(t)):t.Ra.set("Unknown")}async function eM(t,e,n){if(t.Ra.set("Online"),e instanceof HS&&e.state===2&&e.cause)try{await async function(r,a){const o=a.cause;for(const l of a.targetIds)r.Ia.has(l)&&(await r.remoteSyncer.rejectListen(l,o),r.Ia.delete(l),r.Va.removeTarget(l))}(t,e)}catch(s){ee(xi,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await cd(t,s)}else if(e instanceof ou?t.Va.Ze(e):e instanceof zS?t.Va.st(e):t.Va.tt(e),!n.isEqual(he.min()))try{const s=await tT(t.localStore);n.compareTo(s)>=0&&await function(a,o){const l=a.Va.Tt(o);return l.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const f=a.Ia.get(d);f&&a.Ia.set(d,f.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,d)=>{const f=a.Ia.get(u);if(!f)return;a.Ia.set(u,f.withResumeToken(St.EMPTY_BYTE_STRING,f.snapshotVersion)),iT(a,u);const h=new Xs(f.target,u,d,f.sequenceNumber);Xg(a,h)}),a.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(s){ee(xi,"Failed to raise snapshot:",s),await cd(t,s)}}async function cd(t,e,n){if(!Fa(e))throw e;t.Ea.add(1),await Gl(t),t.Ra.set("Offline"),n||(n=()=>tT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ee(xi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Zd(t)})}function oT(t,e){return e().catch(n=>cd(t,n,e))}async function eh(t){const e=fe(t),n=Sr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Og;for(;tM(e);)try{const r=await LL(e.localStore,s);if(r===null){e.Ta.length===0&&n.L_();break}s=r.batchId,nM(e,r)}catch(r){await cd(e,r)}lT(e)&&cT(e)}function tM(t){return Si(t)&&t.Ta.length<10}function nM(t,e){t.Ta.push(e);const n=Sr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function lT(t){return Si(t)&&!Sr(t).x_()&&t.Ta.length>0}function cT(t){Sr(t).start()}async function sM(t){Sr(t).ra()}async function rM(t){const e=Sr(t);for(const n of t.Ta)e.ea(n.mutations)}async function iM(t,e,n){const s=t.Ta.shift(),r=Hg.from(s,e,n);await oT(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await eh(t)}async function aM(t,e){e&&Sr(t).X_&&await async function(s,r){if(function(o){return $V(o)&&o!==B.ABORTED}(r.code)){const a=s.Ta.shift();Sr(s).B_(),await oT(s,()=>s.remoteSyncer.rejectFailedWrite(a.batchId,r)),await eh(s)}}(t,e),lT(t)&&cT(t)}async function Mw(t,e){const n=fe(t);n.asyncQueue.verifyOperationInProgress(),ee(xi,"RemoteStore received new credentials");const s=Si(n);n.Ea.add(3),await Gl(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Zd(n)}async function oM(t,e){const n=fe(t);e?(n.Ea.delete(2),await Zd(n)):e||(n.Ea.add(2),await Gl(n),n.Ra.set("Unknown"))}function $a(t){return t.ma||(t.ma=function(n,s,r){const a=fe(n);return a.sa(),new WL(s,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(t.datastore,t.asyncQueue,{Xo:JL.bind(null,t),t_:XL.bind(null,t),r_:ZL.bind(null,t),H_:eM.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),ey(t)?Zg(t):t.Ra.set("Unknown")):(await t.ma.stop(),aT(t))})),t.ma}function Sr(t){return t.fa||(t.fa=function(n,s,r){const a=fe(n);return a.sa(),new qL(s,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:sM.bind(null,t),r_:aM.bind(null,t),ta:rM.bind(null,t),na:iM.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await eh(t)):(await t.fa.stop(),t.Ta.length>0&&(ee(xi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,n,s,r,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=a,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,r,a){const o=Date.now()+s,l=new ty(e,n,o,r,a);return l.start(s),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ny(t,e){if(Ss("AsyncQueue",`${e}: ${t}`),Fa(t))return new J(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{static emptySet(e){return new ua(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||oe.comparator(n.key,s.key):(n,s)=>oe.comparator(n.key,s.key),this.keyedMap=To(),this.sortedSet=new Ge(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ua)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,a=s.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ua;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(){this.ga=new Ge(oe.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ue(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class Ia{constructor(e,n,s,r,a,o,l,u,d){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,s,r,a){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Ia(e,n,ua.emptySet(n),o,s,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class cM{constructor(){this.queries=Fw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const r=fe(n),a=r.queries;r.queries=Fw(),a.forEach((o,l)=>{for(const u of l.Sa)u.onError(s)})})(this,new J(B.ABORTED,"Firestore shutting down"))}}function Fw(){return new Ni(t=>IS(t),Gd)}async function sy(t,e){const n=fe(t);let s=3;const r=e.query;let a=n.queries.get(r);a?!a.ba()&&e.Da()&&(s=2):(a=new lM,s=e.Da()?0:1);try{switch(s){case 0:a.wa=await n.onListen(r,!0);break;case 1:a.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const l=ny(o,`Initialization of query '${Di(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&iy(n)}async function ry(t,e){const n=fe(t),s=e.query;let r=3;const a=n.queries.get(s);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?r=e.Da()?0:1:!a.ba()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function uM(t,e){const n=fe(t);let s=!1;for(const r of e){const a=r.query,o=n.queries.get(a);if(o){for(const l of o.Sa)l.Fa(r)&&(s=!0);o.wa=r}}s&&iy(n)}function dM(t,e,n){const s=fe(t),r=s.queries.get(e);if(r)for(const a of r.Sa)a.onError(n);s.queries.delete(e)}function iy(t){t.Ca.forEach(e=>{e.next()})}var ep,Uw;(Uw=ep||(ep={})).Ma="default",Uw.Cache="cache";class ay{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new Ia(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ia.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ep.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e){this.key=e}}class dT{constructor(e){this.key=e}}class hM{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=we(),this.mutatedKeys=we(),this.eu=CS(e),this.tu=new ua(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Ow,r=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,o=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((f,h)=>{const p=r.get(f),x=Kd(this.query,h)?h:null,S=!!p&&this.mutatedKeys.has(p.key),_=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let I=!1;p&&x?p.data.isEqual(x.data)?S!==_&&(s.track({type:3,doc:x}),I=!0):this.su(p,x)||(s.track({type:2,doc:x}),I=!0,(u&&this.eu(x,u)>0||d&&this.eu(x,d)<0)&&(l=!0)):!p&&x?(s.track({type:0,doc:x}),I=!0):p&&!x&&(s.track({type:1,doc:p}),I=!0,(u||d)&&(l=!0)),I&&(x?(o=o.add(x),a=_?a.add(f):a.delete(f)):(o=o.delete(f),a=a.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),a=a.delete(f.key),s.track({type:1,doc:f})}return{tu:o,iu:s,Cs:l,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,r){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((f,h)=>function(x,S){const _=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ue(20277,{Rt:I})}};return _(x)-_(S)}(f.type,h.type)||this.eu(f.doc,h.doc)),this.ou(s),r=r??!1;const l=n&&!r?this._u():[],u=this.Xa.size===0&&this.current&&!r?1:0,d=u!==this.Za;return this.Za=u,o.length!==0||d?{snapshot:new Ia(this.query,e.tu,a,o,e.mutatedKeys,u===0,d,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ow,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=we(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new dT(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new uT(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=we();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ia.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const oy="SyncEngine";class fM{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class mM{constructor(e){this.key=e,this.hu=!1}}class pM{constructor(e,n,s,r,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ni(l=>IS(l),Gd),this.Iu=new Map,this.Eu=new Set,this.du=new Ge(oe.comparator),this.Au=new Map,this.Ru=new Gg,this.Vu={},this.mu=new Map,this.fu=ka.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gM(t,e,n=!0){const s=yT(t);let r;const a=s.Tu.get(e);return a?(s.sharedClientState.addLocalQueryTarget(a.targetId),r=a.view.lu()):r=await hT(s,e,n,!0),r}async function yM(t,e){const n=yT(t);await hT(n,e,!0,!1)}async function hT(t,e,n,s){const r=await ML(t.localStore,Yn(e)),a=r.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let l;return s&&(l=await xM(t,e,a,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&rT(t.remoteStore,r),l}async function xM(t,e,n,s,r){t.pu=(h,p,x)=>async function(_,I,T,v){let b=I.view.ru(T);b.Cs&&(b=await Pw(_.localStore,I.query,!1).then(({documents:k})=>I.view.ru(k,b)));const D=v&&v.targetChanges.get(I.targetId),L=v&&v.targetMismatches.get(I.targetId)!=null,U=I.view.applyChanges(b,_.isPrimaryClient,D,L);return Bw(_,I.targetId,U.au),U.snapshot}(t,h,p,x);const a=await Pw(t.localStore,e,!0),o=new hM(e,a.Qs),l=o.ru(a.documents),u=ql.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),d=o.applyChanges(l,t.isPrimaryClient,u);Bw(t,n,d.au);const f=new fM(e,n,o);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function vM(t,e,n){const s=fe(t),r=s.Tu.get(e),a=s.Iu.get(r.targetId);if(a.length>1)return s.Iu.set(r.targetId,a.filter(o=>!Gd(o,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await Xm(s.localStore,r.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(r.targetId),n&&Jg(s.remoteStore,r.targetId),tp(s,r.targetId)}).catch(Oa)):(tp(s,r.targetId),await Xm(s.localStore,r.targetId,!0))}async function wM(t,e){const n=fe(t),s=n.Tu.get(e),r=n.Iu.get(s.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Jg(n.remoteStore,s.targetId))}async function bM(t,e,n){const s=kM(t);try{const r=await function(o,l){const u=fe(o),d=Ue.now(),f=l.reduce((x,S)=>x.add(S.key),we());let h,p;return u.persistence.runTransaction("Locally write mutations","readwrite",x=>{let S=Ts(),_=we();return u.Ns.getEntries(x,f).next(I=>{S=I,S.forEach((T,v)=>{v.isValidDocument()||(_=_.add(T))})}).next(()=>u.localDocuments.getOverlayedDocuments(x,S)).next(I=>{h=I;const T=[];for(const v of l){const b=LV(v,h.get(v.key).overlayedDocument);b!=null&&T.push(new Pr(v.key,b,bS(b.value.mapValue),Rn.exists(!0)))}return u.mutationQueue.addMutationBatch(x,d,T,l)}).next(I=>{p=I;const T=I.applyToLocalDocumentSet(h,_);return u.documentOverlayCache.saveOverlays(x,I.batchId,T)})}).then(()=>({batchId:p.batchId,changes:PS(h)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),function(o,l,u){let d=o.Vu[o.currentUser.toKey()];d||(d=new Ge(ve)),d=d.insert(l,u),o.Vu[o.currentUser.toKey()]=d}(s,r.batchId,n),await Kl(s,r.changes),await eh(s.remoteStore)}catch(r){const a=ny(r,"Failed to persist write");n.reject(a)}}async function fT(t,e){const n=fe(t);try{const s=await DL(n.localStore,e);e.targetChanges.forEach((r,a)=>{const o=n.Au.get(a);o&&(Ee(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?o.hu=!0:r.modifiedDocuments.size>0?Ee(o.hu,14607):r.removedDocuments.size>0&&(Ee(o.hu,42227),o.hu=!1))}),await Kl(n,s,e)}catch(s){await Oa(s)}}function $w(t,e,n){const s=fe(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.Tu.forEach((a,o)=>{const l=o.view.va(e);l.snapshot&&r.push(l.snapshot)}),function(o,l){const u=fe(o);u.onlineState=l;let d=!1;u.queries.forEach((f,h)=>{for(const p of h.Sa)p.va(l)&&(d=!0)}),d&&iy(u)}(s.eventManager,e),r.length&&s.Pu.H_(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function _M(t,e,n){const s=fe(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.Au.get(e),a=r&&r.key;if(a){let o=new Ge(oe.comparator);o=o.insert(a,Pt.newNoDocument(a,he.min()));const l=we().add(a),u=new Jd(he.min(),new Map,new Ge(ve),o,l);await fT(s,u),s.du=s.du.remove(a),s.Au.delete(e),ly(s)}else await Xm(s.localStore,e,!1).then(()=>tp(s,e,n)).catch(Oa)}async function NM(t,e){const n=fe(t),s=e.batch.batchId;try{const r=await RL(n.localStore,e);pT(n,s,null),mT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Kl(n,r)}catch(r){await Oa(r)}}async function SM(t,e,n){const s=fe(t);try{const r=await function(o,l){const u=fe(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return u.mutationQueue.lookupMutationBatch(d,l).next(h=>(Ee(h!==null,37113),f=h.keys(),u.mutationQueue.removeMutationBatch(d,h))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>u.localDocuments.getDocuments(d,f))})}(s.localStore,e);pT(s,e,n),mT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Kl(s,r)}catch(r){await Oa(r)}}function mT(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function pT(t,e,n){const s=fe(t);let r=s.Vu[s.currentUser.toKey()];if(r){const a=r.get(e);a&&(n?a.reject(n):a.resolve(),r=r.remove(e)),s.Vu[s.currentUser.toKey()]=r}}function tp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(s=>{t.Ru.containsKey(s)||gT(t,s)})}function gT(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Jg(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),ly(t))}function Bw(t,e,n){for(const s of n)s instanceof uT?(t.Ru.addReference(s.key,e),TM(t,s)):s instanceof dT?(ee(oy,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||gT(t,s.key)):ue(19791,{wu:s})}function TM(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(ee(oy,"New document in limbo: "+n),t.Eu.add(s),ly(t))}function ly(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new oe(De.fromString(e)),s=t.fu.next();t.Au.set(s,new mM(n)),t.du=t.du.insert(n,s),rT(t.remoteStore,new Xs(Yn(qd(n.path)),s,"TargetPurposeLimboResolution",zd.ce))}}async function Kl(t,e,n){const s=fe(t),r=[],a=[],o=[];s.Tu.isEmpty()||(s.Tu.forEach((l,u)=>{o.push(s.pu(u,e,n).then(d=>{var f;if((d||n)&&s.isPrimaryClient){const h=d?!d.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:f.current;s.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(d){r.push(d);const h=Qg.As(u.targetId,d);a.push(h)}}))}),await Promise.all(o),s.Pu.H_(r),await async function(u,d){const f=fe(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>z.forEach(d,p=>z.forEach(p.Es,x=>f.persistence.referenceDelegate.addReference(h,p.targetId,x)).next(()=>z.forEach(p.ds,x=>f.persistence.referenceDelegate.removeReference(h,p.targetId,x)))))}catch(h){if(!Fa(h))throw h;ee(Yg,"Failed to update sequence numbers: "+h)}for(const h of d){const p=h.targetId;if(!h.fromCache){const x=f.Ms.get(p),S=x.snapshotVersion,_=x.withLastLimboFreeSnapshotVersion(S);f.Ms=f.Ms.insert(p,_)}}}(s.localStore,a))}async function EM(t,e){const n=fe(t);if(!n.currentUser.isEqual(e)){ee(oy,"User change. New user:",e.toKey());const s=await eT(n.localStore,e);n.currentUser=e,function(a,o){a.mu.forEach(l=>{l.forEach(u=>{u.reject(new J(B.CANCELLED,o))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Kl(n,s.Ls)}}function jM(t,e){const n=fe(t),s=n.Au.get(e);if(s&&s.hu)return we().add(s.key);{let r=we();const a=n.Iu.get(e);if(!a)return r;for(const o of a){const l=n.Tu.get(o);r=r.unionWith(l.view.nu)}return r}}function yT(t){const e=fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=fT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_M.bind(null,e),e.Pu.H_=uM.bind(null,e.eventManager),e.Pu.yu=dM.bind(null,e.eventManager),e}function kM(t){const e=fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=NM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=SM.bind(null,e),e}class ud{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return PL(this.persistence,new IL,e.initialUser,this.serializer)}Cu(e){return new ZS(Kg.mi,this.serializer)}Du(e){return new FL}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ud.provider={build:()=>new ud};class IM extends ud{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ee(this.persistence.referenceDelegate instanceof ld,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new mL(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Bt.withCacheSize(this.cacheSizeBytes):Bt.DEFAULT;return new ZS(s=>ld.mi(s,n),this.serializer)}}class np{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>$w(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=EM.bind(null,this.syncEngine),await oM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new cM}()}createDatastore(e){const n=Xd(e.databaseInfo.databaseId),s=function(a){return new HL(a)}(e.databaseInfo);return function(a,o,l,u){return new KL(a,o,l,u)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,r,a,o,l){return new YL(s,r,a,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>$w(this.syncEngine,n,0),function(){return Vw.v()?new Vw:new UL}())}createSyncEngine(e,n){return function(r,a,o,l,u,d,f){const h=new pM(r,a,o,l,u,d);return f&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const a=fe(r);ee(xi,"RemoteStore shutting down."),a.Ea.add(5),await Gl(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}np.provider={build:()=>new np};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ss("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr="FirestoreClient";class CM{constructor(e,n,s,r,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=Ct.UNAUTHENTICATED,this.clientId=Mg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(s,async o=>{ee(Tr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(s,o=>(ee(Tr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=ny(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function _f(t,e){t.asyncQueue.verifyOperationInProgress(),ee(Tr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async r=>{s.isEqual(r)||(await eT(e.localStore,r),s=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function zw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await AM(t);ee(Tr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>Mw(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,r)=>Mw(e.remoteStore,r)),t._onlineComponents=e}async function AM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ee(Tr,"Using user provided OfflineComponentProvider");try{await _f(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===B.FAILED_PRECONDITION||r.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Sa("Error using user provided cache. Falling back to memory cache: "+n),await _f(t,new ud)}}else ee(Tr,"Using default OfflineComponentProvider"),await _f(t,new IM(void 0));return t._offlineComponents}async function xT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ee(Tr,"Using user provided OnlineComponentProvider"),await zw(t,t._uninitializedComponentsProvider._online)):(ee(Tr,"Using default OnlineComponentProvider"),await zw(t,new np))),t._onlineComponents}function PM(t){return xT(t).then(e=>e.syncEngine)}async function dd(t){const e=await xT(t),n=e.eventManager;return n.onListen=gM.bind(null,e.syncEngine),n.onUnlisten=vM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=yM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=wM.bind(null,e.syncEngine),n}function RM(t,e,n={}){const s=new gs;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,l,u,d){const f=new cy({next:p=>{f.Nu(),o.enqueueAndForget(()=>ry(a,h));const x=p.docs.has(l);!x&&p.fromCache?d.reject(new J(B.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&p.fromCache&&u&&u.source==="server"?d.reject(new J(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),h=new ay(qd(l.path),f,{includeMetadataChanges:!0,qa:!0});return sy(a,h)}(await dd(t),t.asyncQueue,e,n,s)),s.promise}function DM(t,e,n={}){const s=new gs;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,l,u,d){const f=new cy({next:p=>{f.Nu(),o.enqueueAndForget(()=>ry(a,h)),p.fromCache&&u.source==="server"?d.reject(new J(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),h=new ay(l,f,{includeMetadataChanges:!0,qa:!0});return sy(a,h)}(await dd(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="firestore.googleapis.com",Ww=!0;class qw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new J(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wT,this.ssl=Ww}else this.host=e.host,this.ssl=e.ssl??Ww;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=XS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hL)throw new J(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Q3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vT(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new J(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new J(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new J(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,r){return s.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class th{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new J(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new J(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new F3;switch(s.type){case"firstParty":return new z3(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new J(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Hw.get(n);s&&(ee("ComponentProvider","Removing Datastore"),Hw.delete(n),s.terminate())}(this),Promise.resolve()}}function VM(t,e,n,s={}){var d;t=rn(t,th);const r=Da(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;r&&(hN(`https://${l}`),fN("Firestore",!0)),a.host!==wT&&a.host!==l&&Sa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...a,host:l,ssl:r,emulatorOptions:s};if(!fi(u,o)&&(t._setSettings(u),s.mockUserToken)){let f,h;if(typeof s.mockUserToken=="string")f=s.mockUserToken,h=Ct.MOCK_USER;else{f=H4(s.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const p=s.mockUserToken.sub||s.mockUserToken.user_id;if(!p)throw new J(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ct(p)}t._authCredentials=new U3(new cS(f,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Rr(this.firestore,e,this._query)}}class Ye{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ye(this.firestore,e,this._key)}toJSON(){return{type:Ye._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Hl(n,Ye._jsonSchema))return new Ye(e,s||null,new oe(De.fromString(n.referencePath)))}}Ye._jsonSchemaVersion="firestore/documentReference/1.0",Ye._jsonSchema={type:it("string",Ye._jsonSchemaVersion),referencePath:it("string")};class mr extends Rr{constructor(e,n,s){super(e,n,qd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ye(this.firestore,null,new oe(e))}withConverter(e){return new mr(this.firestore,e,this._path)}}function Ql(t,e,...n){if(t=at(t),uS("collection","path",e),t instanceof th){const s=De.fromString(e,...n);return iw(s),new mr(t,null,s)}{if(!(t instanceof Ye||t instanceof mr))throw new J(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(De.fromString(e,...n));return iw(s),new mr(t.firestore,null,s)}}function Yl(t,e,...n){if(t=at(t),arguments.length===1&&(e=Mg.newId()),uS("doc","path",e),t instanceof th){const s=De.fromString(e,...n);return rw(s),new Ye(t,null,new oe(s))}{if(!(t instanceof Ye||t instanceof mr))throw new J(B.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(De.fromString(e,...n));return rw(s),new Ye(t.firestore,t instanceof mr?t.converter:null,new oe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="AsyncQueue";class Kw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nT(this,"async_queue_retry"),this._c=()=>{const s=bf();s&&ee(Gw,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=bf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=bf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new gs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Fa(e))throw e;ee(Gw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,Ss("INTERNAL UNHANDLED ERROR: ",Qw(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=ty.createAndSchedule(this,e,n,s,a=>this.hc(a));return this.tc.push(r),r}uc(){this.nc&&ue(47125,{Pc:Qw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Qw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(t){return function(n,s){if(typeof n!="object"||n===null)return!1;const r=n;for(const a of s)if(a in r&&typeof r[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Er extends th{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new Kw,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Kw(e),this._firestoreClient=void 0,await e}}}function LM(t,e){const n=typeof t=="object"?t:yN(),s=typeof t=="string"?t:sd,r=Tg(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const a=B4("firestore");a&&VM(r,...a)}return r}function nh(t){if(t._terminated)throw new J(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||MM(t),t._firestoreClient}function MM(t){var s,r,a;const e=t._freezeSettings(),n=function(l,u,d,f){return new aV(l,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,vT(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((s=t._app)==null?void 0:s.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(r=e.localCache)!=null&&r._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new CM(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pn(St.fromBase64String(e))}catch(n){throw new J(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pn(St.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Hl(e,pn._jsonSchema))return pn.fromBase64String(e.bytes)}}pn._jsonSchemaVersion="firestore/bytes/1.0",pn._jsonSchema={type:it("string",pn._jsonSchemaVersion),bytes:it("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xn._jsonSchemaVersion}}static fromJSON(e){if(Hl(e,Xn._jsonSchema))return new Xn(e.latitude,e.longitude)}}Xn._jsonSchemaVersion="firestore/geoPoint/1.0",Xn._jsonSchema={type:it("string",Xn._jsonSchemaVersion),latitude:it("number"),longitude:it("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,r){if(s.length!==r.length)return!1;for(let a=0;a<s.length;++a)if(s[a]!==r[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Zn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Hl(e,Zn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Zn(e.vectorValues);throw new J(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zn._jsonSchemaVersion="firestore/vectorValue/1.0",Zn._jsonSchema={type:it("string",Zn._jsonSchemaVersion),vectorValues:it("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=/^__.*__$/;class FM{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Pr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wl(e,this.data,n,this.fieldTransforms)}}class bT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Pr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function _T(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ue(40011,{Ac:t})}}class uy{constructor(e,n,s,r,a,o){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new uy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var r;const n=(r=this.path)==null?void 0:r.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var r;const n=(r=this.path)==null?void 0:r.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return hd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(_T(this.Ac)&&OM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class UM{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Xd(e)}Cc(e,n,s,r=!1){return new uy({Ac:e,methodName:n,Dc:s,path:bt.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ih(t){const e=t._freezeSettings(),n=Xd(t._databaseId);return new UM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function NT(t,e,n,s,r,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,n,r);hy("Data must be an object, but it was:",o,s);const l=ST(s,o);let u,d;if(a.merge)u=new nn(o.fieldMask),d=o.fieldTransforms;else if(a.mergeFields){const f=[];for(const h of a.mergeFields){const p=sp(e,h,n);if(!o.contains(p))throw new J(B.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);ET(f,p)||f.push(p)}u=new nn(f),d=o.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,d=o.fieldTransforms;return new FM(new Ht(l),u,d)}class ah extends rh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ah}}class dy extends rh{_toFieldTransform(e){return new PV(e.path,new _l)}isEqual(e){return e instanceof dy}}function $M(t,e,n,s){const r=t.Cc(1,e,n);hy("Data must be an object, but it was:",r,s);const a=[],o=Ht.empty();Ar(s,(u,d)=>{const f=fy(e,u,n);d=at(d);const h=r.yc(f);if(d instanceof ah)a.push(f);else{const p=Jl(d,h);p!=null&&(a.push(f),o.set(f,p))}});const l=new nn(a);return new bT(o,l,r.fieldTransforms)}function BM(t,e,n,s,r,a){const o=t.Cc(1,e,n),l=[sp(e,s,n)],u=[r];if(a.length%2!=0)throw new J(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<a.length;p+=2)l.push(sp(e,a[p])),u.push(a[p+1]);const d=[],f=Ht.empty();for(let p=l.length-1;p>=0;--p)if(!ET(d,l[p])){const x=l[p];let S=u[p];S=at(S);const _=o.yc(x);if(S instanceof ah)d.push(x);else{const I=Jl(S,_);I!=null&&(d.push(x),f.set(x,I))}}const h=new nn(d);return new bT(f,h,o.fieldTransforms)}function zM(t,e,n,s=!1){return Jl(n,t.Cc(s?4:3,e))}function Jl(t,e){if(TT(t=at(t)))return hy("Unsupported field value:",e,t),ST(t,e);if(t instanceof rh)return function(s,r){if(!_T(r.Ac))throw r.Sc(`${s._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${s._methodName}() is not currently supported inside arrays`);const a=s._toFieldTransform(r);a&&r.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,r){const a=[];let o=0;for(const l of s){let u=Jl(l,r.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),a.push(u),o++}return{arrayValue:{values:a}}}(t,e)}return function(s,r){if((s=at(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return IV(r.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const a=Ue.fromDate(s);return{timestampValue:od(r.serializer,a)}}if(s instanceof Ue){const a=new Ue(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:od(r.serializer,a)}}if(s instanceof Xn)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof pn)return{bytesValue:WS(r.serializer,s._byteString)};if(s instanceof Ye){const a=r.databaseId,o=s.firestore._databaseId;if(!o.isEqual(a))throw r.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:qg(s.firestore._databaseId||r.databaseId,s._key.path)}}if(s instanceof Zn)return function(o,l){return{mapValue:{fields:{[vS]:{stringValue:wS},[rd]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw l.Sc("VectorValues must only contain numeric values.");return zg(l.serializer,d)})}}}}}}(s,r);throw r.Sc(`Unsupported field value: ${Bd(s)}`)}(t,e)}function ST(t,e){const n={};return fS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ar(t,(s,r)=>{const a=Jl(r,e.mc(s));a!=null&&(n[s]=a)}),{mapValue:{fields:n}}}function TT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ue||t instanceof Xn||t instanceof pn||t instanceof Ye||t instanceof rh||t instanceof Zn)}function hy(t,e,n){if(!TT(n)||!dS(n)){const s=Bd(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function sp(t,e,n){if((e=at(e))instanceof sh)return e._internalPath;if(typeof e=="string")return fy(t,e);throw hd("Field path arguments must be of type string or ",t,!1,void 0,n)}const HM=new RegExp("[~\\*/\\[\\]]");function fy(t,e,n){if(e.search(HM)>=0)throw hd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sh(...e.split("."))._internalPath}catch{throw hd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hd(t,e,n,s,r){const a=s&&!s.isEmpty(),o=r!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(a||o)&&(u+=" (found",a&&(u+=` in field ${s}`),o&&(u+=` in document ${r}`),u+=")"),new J(B.INVALID_ARGUMENT,l+t+u)}function ET(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,n,s,r,a){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ye(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(my("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class WM extends jT{data(){return super.data()}}function my(t,e){return typeof e=="string"?fy(t,e):e instanceof sh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class py{}class IT extends py{}function CT(t,e,...n){let s=[];e instanceof py&&s.push(e),s=s.concat(n),function(a){const o=a.filter(u=>u instanceof yy).length,l=a.filter(u=>u instanceof gy).length;if(o>1||o>0&&l>0)throw new J(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const r of s)t=r._apply(t);return t}class gy extends IT{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new gy(e,n,s)}_apply(e){const n=this._parse(e);return PT(e._query,n),new Rr(e.firestore,e.converter,qm(e._query,n))}_parse(e){const n=ih(e.firestore);return function(a,o,l,u,d,f,h){let p;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new J(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){Xw(h,f);const S=[];for(const _ of h)S.push(Jw(u,a,_));p={arrayValue:{values:S}}}else p=Jw(u,a,h)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||Xw(h,f),p=zM(l,o,h,f==="in"||f==="not-in");return rt.create(d,f,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class yy extends py{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new yy(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Vn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,a){let o=r;const l=a.getFlattenedFilters();for(const u of l)PT(o,u),o=qm(o,u)}(e._query,n),new Rr(e.firestore,e.converter,qm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class xy extends IT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new xy(e,n)}_apply(e){const n=function(r,a,o){if(r.startAt!==null)throw new J(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new J(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bl(a,o)}(e._query,this._field,this._direction);return new Rr(e.firestore,e.converter,function(r,a){const o=r.explicitOrderBy.concat([a]);return new Ua(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function AT(t,e="asc"){const n=e,s=my("orderBy",t);return xy._create(s,n)}function Jw(t,e,n){if(typeof(n=at(n))=="string"){if(n==="")throw new J(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kS(e)&&n.indexOf("/")!==-1)throw new J(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(De.fromString(n));if(!oe.isDocumentKey(s))throw new J(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return fw(t,new oe(s))}if(n instanceof Ye)return fw(t,n._key);throw new J(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bd(n)}.`)}function Xw(t,e){if(!Array.isArray(t)||t.length===0)throw new J(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PT(t,e){const n=function(r,a){for(const o of r)for(const l of o.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new J(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class qM{convertValue(e,n="none"){switch(Nr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ue(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ar(e,(r,a)=>{s[r]=this.convertValue(a,n)}),s}convertVectorValue(e){var s,r,a;const n=(a=(r=(s=e.fields)==null?void 0:s[rd].arrayValue)==null?void 0:r.values)==null?void 0:a.map(o=>Xe(o.doubleValue));return new Zn(n)}convertGeoPoint(e){return new Xn(Xe(e.latitude),Xe(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Wd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(xl(e));default:return null}}convertTimestamp(e){const n=br(e);return new Ue(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=De.fromString(e);Ee(JS(s),9688,{name:e});const r=new vl(s.get(1),s.get(3)),a=new oe(s.popFirst(5));return r.isEqual(n)||Ss(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class jo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ai extends jT{constructor(e,n,s,r,a,o){super(e,n,s,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new lu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(my("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new J(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ai._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ai._jsonSchemaVersion="firestore/documentSnapshot/1.0",ai._jsonSchema={type:it("string",ai._jsonSchemaVersion),bundleSource:it("string","DocumentSnapshot"),bundleName:it("string"),bundle:it("string")};class lu extends ai{data(e={}){return super.data(e)}}class oi{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new jo(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new lu(this._firestore,this._userDataWriter,s.key,s,new jo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(l=>{const u=new lu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new jo(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>a||l.type!==3).map(l=>{const u=new lu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new jo(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,f=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:GM(l.type),doc:u,oldIndex:d,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new J(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=oi._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Mg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],r=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),s.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),r.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function GM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(t){t=rn(t,Ye);const e=rn(t.firestore,Er);return RM(nh(e),t._key).then(n=>MT(e,t,n))}oi._jsonSchemaVersion="firestore/querySnapshot/1.0",oi._jsonSchema={type:it("string",oi._jsonSchemaVersion),bundleSource:it("string","QuerySnapshot"),bundleName:it("string"),bundle:it("string")};class vy extends qM{constructor(e){super(),this.firestore=e}convertBytes(e){return new pn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ye(this.firestore,null,n)}}function DT(t){t=rn(t,Rr);const e=rn(t.firestore,Er),n=nh(e),s=new vy(e);return kT(t._query),DM(n,t._query).then(r=>new oi(e,s,t,r))}function QM(t,e,n){t=rn(t,Ye);const s=rn(t.firestore,Er),r=RT(t.converter,e,n);return wy(s,[NT(ih(s),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,Rn.none())])}function VT(t,e,n,...s){t=rn(t,Ye);const r=rn(t.firestore,Er),a=ih(r);let o;return o=typeof(e=at(e))=="string"||e instanceof sh?BM(a,"updateDoc",t._key,e,n,s):$M(a,"updateDoc",t._key,e),wy(r,[o.toMutation(t._key,Rn.exists(!0))])}function YM(t,e){const n=rn(t.firestore,Er),s=Yl(t),r=RT(t.converter,e);return wy(n,[NT(ih(t.firestore),"addDoc",s._key,r,t.converter!==null,{}).toMutation(s._key,Rn.exists(!1))]).then(()=>s)}function LT(t,...e){var u,d,f;t=at(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Yw(e[s])||(n=e[s++]);const r={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Yw(e[s])){const h=e[s];e[s]=(u=h.next)==null?void 0:u.bind(h),e[s+1]=(d=h.error)==null?void 0:d.bind(h),e[s+2]=(f=h.complete)==null?void 0:f.bind(h)}let a,o,l;if(t instanceof Ye)o=rn(t.firestore,Er),l=qd(t._key.path),a={next:h=>{e[s]&&e[s](MT(o,t,h))},error:e[s+1],complete:e[s+2]};else{const h=rn(t,Rr);o=rn(h.firestore,Er),l=h._query;const p=new vy(o);a={next:x=>{e[s]&&e[s](new oi(o,p,h,x))},error:e[s+1],complete:e[s+2]},kT(t._query)}return function(p,x,S,_){const I=new cy(_),T=new ay(x,I,S);return p.asyncQueue.enqueueAndForget(async()=>sy(await dd(p),T)),()=>{I.Nu(),p.asyncQueue.enqueueAndForget(async()=>ry(await dd(p),T))}}(nh(o),l,r,a)}function wy(t,e){return function(s,r){const a=new gs;return s.asyncQueue.enqueueAndForget(async()=>bM(await PM(s),r,a)),a.promise}(nh(t),e)}function MT(t,e,n){const s=n.docs.get(e._key),r=new vy(t);return new ai(t,r,e._key,s,new jo(n.hasPendingWrites,n.fromCache),e.converter)}function oh(){return new dy("serverTimestamp")}(function(e,n=!0){(function(r){Ma=r})(Va),_a(new mi("firestore",(s,{instanceIdentifier:r,options:a})=>{const o=s.getProvider("app").getImmediate(),l=new Er(new $3(s.getProvider("auth-internal")),new H3(o,s.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new J(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vl(d.options.projectId,f)}(o,r),o);return a={useFetchStreams:n,...a},l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),hr(ew,tw,e),hr(ew,tw,"esm2020")})();const JM={apiKey:"AIzaSyA4oe_gqt8NOWC6VCEfJYbznsVQuoyIJC4",authDomain:"saxovault-d94c5.firebaseapp.com",projectId:"saxovault-d94c5",storageBucket:"saxovault-d94c5.firebasestorage.app",messagingSenderId:"61739859282",appId:"1:61739859282:web:e33555e56540b7aee20e8b",measurementId:"G-RC1Y2MJJVS"},OT=gN(JM),Ca=M3(OT),Cs=LM(OT),FT=new is;FT.setCustomParameters({prompt:"select_account"});const by=async t=>{try{return await QM(Yl(Cs,"users",t.uid),{...t,updatedAt:oh()},{merge:!0}),console.log(" User saved to Firestore:",t.email),{success:!0}}catch(e){return console.error(" Error saving user to Firestore:",e),{success:!1,error:e.message}}},UT=async t=>{try{const e=Yl(Cs,"users",t),n=await KM(e);return n.exists()?{success:!0,data:n.data()}:{success:!1,error:"User not found"}}catch(e){return console.error(" Error getting user from Firestore:",e),{success:!1,error:e.message}}},XM=async()=>{try{const t=await DT(Ql(Cs,"users")),e=[];return t.forEach(n=>{e.push({id:n.id,...n.data()})}),console.log(" Fetched",e.length,"users from Firestore"),{success:!0,data:e}}catch(t){return console.error(" Error getting users from Firestore:",t),{success:!1,error:t.message}}},_y=async(t,e)=>{try{return await VT(Yl(Cs,"users",t),{...e,updatedAt:oh()}),console.log(" User updated in Firestore"),{success:!0}}catch(n){return console.error(" Error updating user in Firestore:",n),{success:!1,error:n.message}}},ZM=async t=>{try{const e=await YM(Ql(Cs,"transactions"),{...t,createdAt:oh(),status:t.status||"pending"});return console.log(" Transaction added to Firestore:",e.id),{success:!0,id:e.id}}catch(e){return console.error(" Error adding transaction to Firestore:",e),{success:!1,error:e.message}}},e6=async()=>{try{const t=CT(Ql(Cs,"transactions"),AT("createdAt","desc")),e=await DT(t),n=[];return e.forEach(s=>{var a,o,l;const r=s.data();n.push({id:s.id,...r,createdAt:((l=(o=(a=r.createdAt)==null?void 0:a.toDate)==null?void 0:o.call(a))==null?void 0:l.toISOString())||r.createdAt})}),console.log(" Fetched",n.length,"transactions from Firestore"),{success:!0,data:n}}catch(t){return console.error(" Error getting transactions from Firestore:",t),{success:!1,error:t.message}}},Zw=async(t,e)=>{try{return await VT(Yl(Cs,"transactions",t),{...e,updatedAt:oh()}),console.log(" Transaction updated in Firestore"),{success:!0}}catch(n){return console.error(" Error updating transaction in Firestore:",n),{success:!1,error:n.message}}},t6=t=>{const e=CT(Ql(Cs,"transactions"),AT("createdAt","desc"));return LT(e,n=>{const s=[];n.forEach(r=>{var o,l,u;const a=r.data();s.push({id:r.id,...a,createdAt:((u=(l=(o=a.createdAt)==null?void 0:o.toDate)==null?void 0:l.call(o))==null?void 0:u.toISOString())||a.createdAt})}),t(s)})},n6=t=>LT(Ql(Cs,"users"),e=>{const n=[];e.forEach(s=>{n.push({id:s.id,...s.data()})}),t(n)}),s6=async()=>{try{const e=(await qD(Ca,FT)).user,n=await UT(e.uid);let s,r=!1;return!n.success||!n.data?(r=!0,s={uid:e.uid,email:e.email,name:e.displayName||"",phone:"",country:"",referralCode:"",createdAt:new Date().toISOString(),balance:0,signInMethod:"google",photoURL:e.photoURL||""},await by(s),localStorage.setItem(`user_${e.uid}`,JSON.stringify(s))):(s=n.data,e.photoURL&&e.photoURL!==s.photoURL&&(s.photoURL=e.photoURL,await _y(e.uid,{photoURL:e.photoURL})),localStorage.setItem(`user_${e.uid}`,JSON.stringify(s))),{success:!0,user:e,userData:s,isNewUser:r}}catch(t){let e="Google sign-in failed. Please try again.";switch(t.code){case"auth/popup-closed-by-user":e="Sign-in popup was closed. Please try again.";break;case"auth/popup-blocked":e="Popup was blocked. Please allow popups for this site.";break;case"auth/cancelled-popup-request":e="Sign-in was cancelled.";break;case"auth/account-exists-with-different-credential":e="An account already exists with this email using a different sign-in method.";break;default:e=t.message}return{success:!1,error:e}}},r6=async(t,e,n)=>{try{const r=(await bD(Ca,t,e)).user;await SD(r,{displayName:n.name||""}),await zN(r,{url:window.location.origin,handleCodeInApp:!1});const a={uid:r.uid,email:t,name:n.name||"",phone:n.phone||"",country:n.country||"",referralCode:n.referralCode||"",createdAt:new Date().toISOString(),balance:0,signInMethod:"email",emailVerified:!1};try{await by(a),console.log(" User saved to Firestore")}catch(o){console.error(" Firestore save failed, will retry on login:",o)}return localStorage.setItem(`user_${r.uid}`,JSON.stringify(a)),{success:!0,user:r,message:"Verification email sent! Please check your inbox."}}catch(s){let r="Registration failed. Please try again.";switch(s.code){case"auth/email-already-in-use":r='This email is already registered. Please login instead. If you cannot login, use "Forgot Password" to reset.';break;case"auth/weak-password":r="Password is too weak. Please use at least 8 characters with uppercase, lowercase, number, and symbol.";break;case"auth/invalid-email":r="Please enter a valid email address.";break;default:r=s.message}return{success:!1,error:r}}},e1=async(t,e)=>{try{const s=(await _D(Ca,t,e)).user;if(!s.emailVerified)return await zN(s),await HN(Ca),{success:!1,needsVerification:!0,error:"Please verify your email first. A new verification link has been sent."};let r;const a=await UT(s.uid);if(a.success&&a.data)r=a.data,r.emailVerified||(r.emailVerified=!0,await _y(s.uid,{emailVerified:!0}));else{const o=localStorage.getItem(`user_${s.uid}`);o?r=JSON.parse(o):r={uid:s.uid,email:s.email,name:s.displayName||"",balance:0,emailVerified:!0},await by(r)}return localStorage.setItem(`user_${s.uid}`,JSON.stringify(r)),{success:!0,user:s,userData:r}}catch(n){let s="Login failed. Please try again.";switch(n.code){case"auth/user-not-found":s="No account found with this email.";break;case"auth/wrong-password":s="Incorrect password. Please try again.";break;case"auth/invalid-email":s="Please enter a valid email address.";break;case"auth/too-many-requests":s="Too many failed attempts. Please try again later.";break;case"auth/invalid-credential":s="Invalid email or password.";break;default:s=n.message}return{success:!1,error:s}}},i6=async()=>{try{return await HN(Ca),{success:!0}}catch(t){return{success:!1,error:t.message}}},a6=async t=>{try{return await wD(Ca,t),{success:!0,message:"Password reset email sent! Check your inbox."}}catch(e){let n="Failed to send reset email.";switch(e.code){case"auth/user-not-found":n="No account found with this email.";break;case"auth/invalid-email":n="Please enter a valid email address.";break;default:n=e.message}return{success:!1,error:n}}};R.createContext();const o6={navy:"#0a1628",navyLight:"#1a2d4a",gold:"#D4AF37",goldDark:"#b8962e",green:"#0FAF76",greenDark:"#0d9962",cream:"#faf8f5"};let w=o6;const l6={en:{welcome:"Welcome",dashboard:"Dashboard",investments:"Investments",deposit:"Deposit",withdraw:"Withdraw",balance:"Balance",pending:"Pending",approved:"Approved",home:"Home",profile:"Profile",settings:"Settings",logout:"Logout",login:"Login",register:"Register",email:"Email",password:"Password",name:"Name",phone:"Phone",submit:"Submit",cancel:"Cancel",confirm:"Confirm",amount:"Amount",history:"History",notifications:"Notifications",referral:"Referral",calculator:"Calculator",investNow:"Invest Now",minInvestment:"Min Investment",returns:"Returns",duration:"Duration",status:"Status",copyAddress:"Copy Address",paymentPending:"Payment Pending",transactionHistory:"Transaction History",noTransactions:"No transactions yet",securityTips:"Security Tips",activityLog:"Activity Log",viewAll:"View All",search:"Search",filter:"Filter",export:"Export",support:"Support",help:"Help",about:"About",terms:"Terms",privacy:"Privacy",contact:"Contact",language:"Language",darkMode:"Dark Mode",lightMode:"Light Mode"},es:{welcome:"Bienvenido",dashboard:"Panel",investments:"Inversiones",deposit:"Depositar",withdraw:"Retirar",balance:"Saldo",pending:"Pendiente",approved:"Aprobado",home:"Inicio",profile:"Perfil",settings:"Ajustes",logout:"Cerrar sesin",login:"Iniciar sesin",register:"Registrarse",email:"Correo",password:"Contrasea",name:"Nombre",phone:"Telfono",submit:"Enviar",cancel:"Cancelar",confirm:"Confirmar",amount:"Cantidad",history:"Historial",notifications:"Notificaciones",referral:"Referidos",calculator:"Calculadora",investNow:"Invertir Ahora",minInvestment:"Inversin Mnima",returns:"Retornos",duration:"Duracin",status:"Estado",copyAddress:"Copiar Direccin",paymentPending:"Pago Pendiente",transactionHistory:"Historial de Transacciones",noTransactions:"Sin transacciones",securityTips:"Consejos de Seguridad",activityLog:"Registro de Actividad",viewAll:"Ver Todo",search:"Buscar",filter:"Filtrar",export:"Exportar",support:"Soporte",help:"Ayuda",about:"Acerca de",terms:"Trminos",privacy:"Privacidad",contact:"Contacto",language:"Idioma",darkMode:"Modo Oscuro",lightMode:"Modo Claro"},fr:{welcome:"Bienvenue",dashboard:"Tableau de bord",investments:"Investissements",deposit:"Dpt",withdraw:"Retirer",balance:"Solde",pending:"En attente",approved:"Approuv",home:"Accueil",profile:"Profil",settings:"Paramtres",logout:"Dconnexion",login:"Connexion",register:"S'inscrire",email:"E-mail",password:"Mot de passe",name:"Nom",phone:"Tlphone",submit:"Soumettre",cancel:"Annuler",confirm:"Confirmer",amount:"Montant",history:"Historique",notifications:"Notifications",referral:"Parrainage",calculator:"Calculatrice",investNow:"Investir Maintenant",minInvestment:"Investissement Min",returns:"Rendements",duration:"Dure",status:"Statut",copyAddress:"Copier l'adresse",paymentPending:"Paiement en attente",transactionHistory:"Historique des transactions",noTransactions:"Aucune transaction",securityTips:"Conseils de scurit",activityLog:"Journal d'activit",viewAll:"Voir tout",search:"Rechercher",filter:"Filtrer",export:"Exporter",support:"Support",help:"Aide",about:" propos",terms:"Conditions",privacy:"Confidentialit",contact:"Contact",language:"Langue",darkMode:"Mode sombre",lightMode:"Mode clair"},de:{welcome:"Willkommen",dashboard:"bersicht",investments:"Investitionen",deposit:"Einzahlung",withdraw:"Auszahlung",balance:"Guthaben",pending:"Ausstehend",approved:"Genehmigt",home:"Startseite",profile:"Profil",settings:"Einstellungen",logout:"Abmelden",login:"Anmelden",register:"Registrieren",email:"E-Mail",password:"Passwort",name:"Name",phone:"Telefon",submit:"Absenden",cancel:"Abbrechen",confirm:"Besttigen",amount:"Betrag",history:"Verlauf",notifications:"Benachrichtigungen",referral:"Empfehlung",calculator:"Rechner",investNow:"Jetzt investieren",minInvestment:"Mindestanlage",returns:"Rendite",duration:"Laufzeit",status:"Status",copyAddress:"Adresse kopieren"},pt:{welcome:"Bem-vindo",dashboard:"Painel",investments:"Investimentos",deposit:"Depsito",withdraw:"Saque",balance:"Saldo",pending:"Pendente",approved:"Aprovado",home:"Incio",profile:"Perfil",settings:"Configuraes",logout:"Sair",login:"Entrar",register:"Cadastrar",email:"E-mail",password:"Senha",name:"Nome",phone:"Telefone",submit:"Enviar",cancel:"Cancelar",confirm:"Confirmar",amount:"Valor",history:"Histrico",notifications:"Notificaes",referral:"Indicao",calculator:"Calculadora",investNow:"Investir Agora"},it:{welcome:"Benvenuto",dashboard:"Pannello",investments:"Investimenti",deposit:"Deposito",withdraw:"Prelievo",balance:"Saldo",pending:"In attesa",approved:"Approvato",home:"Home",profile:"Profilo",settings:"Impostazioni",logout:"Esci",login:"Accedi",register:"Registrati",email:"Email",password:"Password",name:"Nome",phone:"Telefono",submit:"Invia",cancel:"Annulla",confirm:"Conferma",amount:"Importo",history:"Cronologia",investNow:"Investi Ora",minInvestment:"Investimento Minimo",returns:"Rendimenti",duration:"Durata"},nl:{welcome:"Welkom",dashboard:"Dashboard",investments:"Investeringen",deposit:"Storting",withdraw:"Opname",balance:"Saldo",pending:"In behandeling",approved:"Goedgekeurd",home:"Home",profile:"Profiel",settings:"Instellingen",logout:"Uitloggen",login:"Inloggen",register:"Registreren",investNow:"Nu Investeren"},ru:{welcome:" ",dashboard:"",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",email:". ",password:"",name:"",phone:"",submit:"",cancel:"",confirm:"",amount:"",history:"",investNow:"",minInvestment:". ",returns:"",duration:""},zh:{welcome:"",dashboard:"",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",email:"",password:"",name:"",phone:"",submit:"",cancel:"",confirm:"",amount:"",history:"",investNow:"",minInvestment:"",returns:"",duration:"",notifications:""},ja:{welcome:"",dashboard:"",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",email:"",password:"",name:"",phone:"",submit:"",cancel:"",confirm:"",amount:"",history:"",investNow:"",minInvestment:"",returns:"",duration:""},ko:{welcome:"",dashboard:"",investments:"",deposit:"",withdraw:"",balance:"",pending:" ",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",email:"",password:"",name:"",phone:"",submit:"",cancel:"",confirm:"",amount:"",history:"",investNow:" ",minInvestment:" ",returns:"",duration:""},ar:{welcome:"",dashboard:" ",investments:"",deposit:"",withdraw:"",balance:"",pending:" ",approved:" ",home:"",profile:" ",settings:"",logout:" ",login:" ",register:"",email:" ",password:" ",name:"",phone:"",submit:"",cancel:"",confirm:"",amount:"",history:"",investNow:" ",minInvestment:"  ",returns:"",duration:""},hi:{welcome:" ",dashboard:"",investments:"",deposit:"",withdraw:"",balance:" ",pending:"",approved:"",home:"",profile:"",settings:"",logout:" ",login:" ",register:"",email:"",password:"",name:"",phone:"",submit:" ",cancel:" ",confirm:" ",amount:"",history:"",investNow:"  ",minInvestment:" ",returns:"",duration:""},tr:{welcome:"Ho geldiniz",dashboard:"Kontrol Paneli",investments:"Yatrmlar",deposit:"Para Yatr",withdraw:"Para ek",balance:"Bakiye",pending:"Beklemede",approved:"Onayland",home:"Ana Sayfa",profile:"Profil",settings:"Ayarlar",logout:"k",login:"Giri",register:"Kayt Ol",email:"E-posta",password:"ifre",name:"Ad",phone:"Telefon",submit:"Gnder",cancel:"ptal",confirm:"Onayla",amount:"Tutar",history:"Gemi",investNow:"imdi Yatrm Yap",minInvestment:"Min Yatrm",returns:"Getiri",duration:"Sre"},pl:{welcome:"Witamy",dashboard:"Panel",investments:"Inwestycje",deposit:"Wpata",withdraw:"Wypata",balance:"Saldo",pending:"Oczekujce",approved:"Zatwierdzone",home:"Strona gwna",profile:"Profil",settings:"Ustawienia",logout:"Wyloguj",login:"Zaloguj",register:"Zarejestruj",investNow:"Inwestuj Teraz"},vi:{welcome:"Cho mng",dashboard:"Bng iu khin",investments:"u t",deposit:"Np tin",withdraw:"Rt tin",balance:"S d",pending:"ang ch",approved:" duyt",home:"Trang ch",profile:"H s",settings:"Ci t",logout:"ng xut",login:"ng nhp",register:"ng k",investNow:"u t ngay"},th:{welcome:"",dashboard:"",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",investNow:""},id:{welcome:"Selamat datang",dashboard:"Dasbor",investments:"Investasi",deposit:"Setor",withdraw:"Tarik",balance:"Saldo",pending:"Tertunda",approved:"Disetujui",home:"Beranda",profile:"Profil",settings:"Pengaturan",logout:"Keluar",login:"Masuk",register:"Daftar",investNow:"Investasi Sekarang"},ms:{welcome:"Selamat datang",dashboard:"Papan pemuka",investments:"Pelaburan",deposit:"Deposit",withdraw:"Pengeluaran",balance:"Baki",pending:"Menunggu",approved:"Diluluskan",home:"Laman utama",profile:"Profil",settings:"Tetapan",logout:"Log keluar",login:"Log masuk",register:"Daftar",investNow:"Labur Sekarang"},tl:{welcome:"Maligayang pagdating",dashboard:"Dashboard",investments:"Mga Pamumuhunan",deposit:"Deposito",withdraw:"Withdraw",balance:"Balanse",pending:"Nakabinbin",approved:"Aprubado",home:"Home",profile:"Profile",settings:"Settings",logout:"Mag-logout",login:"Mag-login",register:"Mag-register",investNow:"Mamuhunan Ngayon"},el:{welcome:" ",dashboard:" ",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",investNow:" "},cs:{welcome:"Vtejte",dashboard:"Pehled",investments:"Investice",deposit:"Vklad",withdraw:"Vbr",balance:"Zstatek",pending:"ekajc",approved:"Schvleno",home:"Dom",profile:"Profil",settings:"Nastaven",logout:"Odhlsit",login:"Pihlsit",register:"Registrace",investNow:"Investovat nyn"},sv:{welcome:"Vlkommen",dashboard:"Instrumentpanel",investments:"Investeringar",deposit:"Insttning",withdraw:"Uttag",balance:"Saldo",pending:"Vntande",approved:"Godknd",home:"Hem",profile:"Profil",settings:"Instllningar",logout:"Logga ut",login:"Logga in",register:"Registrera",investNow:"Investera Nu"},no:{welcome:"Velkommen",dashboard:"Kontrollpanel",investments:"Investeringer",deposit:"Innskudd",withdraw:"Uttak",balance:"Saldo",pending:"Venter",approved:"Godkjent",home:"Hjem",profile:"Profil",settings:"Innstillinger",logout:"Logg ut",login:"Logg inn",register:"Registrer",investNow:"Invester N"},da:{welcome:"Velkommen",dashboard:"Kontrolpanel",investments:"Investeringer",deposit:"Indbetaling",withdraw:"Udbetaling",balance:"Saldo",pending:"Afventer",approved:"Godkendt",home:"Hjem",profile:"Profil",settings:"Indstillinger",logout:"Log ud",login:"Log ind",register:"Registrer",investNow:"Invester Nu"},fi:{welcome:"Tervetuloa",dashboard:"Hallintapaneeli",investments:"Sijoitukset",deposit:"Talletus",withdraw:"Nosto",balance:"Saldo",pending:"Odottaa",approved:"Hyvksytty",home:"Etusivu",profile:"Profiili",settings:"Asetukset",logout:"Kirjaudu ulos",login:"Kirjaudu",register:"Rekisteridy",investNow:"Sijoita Nyt"},he:{welcome:" ",dashboard:" ",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",investNow:" "},uk:{welcome:" ",dashboard:"",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",investNow:" "},ro:{welcome:"Bun venit",dashboard:"Panou",investments:"Investiii",deposit:"Depunere",withdraw:"Retragere",balance:"Sold",pending:"n ateptare",approved:"Aprobat",home:"Acas",profile:"Profil",settings:"Setri",logout:"Deconectare",login:"Conectare",register:"nregistrare",investNow:"Investete Acum"},hu:{welcome:"dvzljk",dashboard:"Irnytpult",investments:"Befektetsek",deposit:"Befizets",withdraw:"Kifizets",balance:"Egyenleg",pending:"Fggben",approved:"Jvhagyott",home:"Foldal",profile:"Profil",settings:"Belltsok",logout:"Kijelentkezs",login:"Bejelentkezs",register:"Regisztrci",investNow:"Befektets Most"},bn:{welcome:"",dashboard:"",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",investNow:"  "},sw:{welcome:"Karibu",dashboard:"Dashibodi",investments:"Uwekezaji",deposit:"Amana",withdraw:"Kutoa",balance:"Salio",pending:"Inasubiri",approved:"Imeidhinishwa",home:"Nyumbani",profile:"Wasifu",settings:"Mipangilio",logout:"Ondoka",login:"Ingia",register:"Jisajili",investNow:"Wekeza Sasa"},yo:{welcome:" kb",dashboard:"Pnl",investments:"dkw",deposit:"fipam",withdraw:"mkr",balance:"yk",pending:" dr",approved:"Ti fws",home:"Il",profile:"ksl",settings:"t",investNow:"e dkw by"},ha:{welcome:"Barka da zuwa",dashboard:"Dashboard",investments:"Saka hannun jari",deposit:"Ajiya",withdraw:"Cire kui",balance:"Ragowar kui",pending:"Ana jira",approved:"An amince",home:"Gida",profile:"Bayani",settings:"Saiti",investNow:"Saka hannun jari yanzu"},ig:{welcome:"Nn",dashboard:"Dashboard",investments:"Ntinye ego",deposit:"Tinyere ego",withdraw:"Wepu ego",balance:"Ego fdr",pending:"Na-echere",approved:"Kwadoro",home:"l",profile:"Profal",settings:"Ntala",investNow:"Tinye ego ugbu a"}},t1={en:"English",es:"Espaol",fr:"Franais",de:"Deutsch",pt:"Portugus",it:"Italiano",nl:"Nederlands",ru:"",zh:"",ja:"",ko:"",ar:"",hi:"",tr:"Trke",pl:"Polski",vi:"Ting Vit",th:"",id:"Bahasa Indonesia",ms:"Bahasa Melayu",tl:"Filipino",el:"",cs:"etina",sv:"Svenska",no:"Norsk",da:"Dansk",fi:"Suomi",he:"",uk:"",ro:"Romn",hu:"Magyar",bn:"",sw:"Kiswahili",yo:"Yorb",ha:"Hausa",ig:"Igbo"},c6=()=>{const e=(navigator.language||navigator.userLanguage).split("-")[0].toLowerCase();return l6[e]?e:"en"},u6=()=>localStorage.getItem("saxovault_language")||c6(),$T=()=>i.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3 py-4",children:[i.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-gray-100 rounded-lg",children:[i.jsx(vr,{className:"w-4 h-4 text-green-600"}),i.jsx("span",{className:"text-xs text-gray-600",children:"256-bit SSL"})]}),i.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-gray-100 rounded-lg",children:[i.jsx(cr,{className:"w-4 h-4 text-blue-600"}),i.jsx("span",{className:"text-xs text-gray-600",children:"Bank-Level Security"})]}),i.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-gray-100 rounded-lg",children:[i.jsx(g4,{className:"w-4 h-4 text-yellow-600"}),i.jsx("span",{className:"text-xs text-gray-600",children:"Licensed"})]})]});function d6({onComplete:t}){const[e,n]=R.useState(0),s=[{title:"Welcome to SaxoVault! ",description:"Your journey to smart investing starts here. Let us show you around.",icon:""},{title:"Explore Investments",description:"Browse our curated investment opportunities across real estate, crypto, stocks, and more.",icon:""},{title:"Easy Deposits",description:"Fund your account instantly using Bitcoin, Ethereum, or USDT cryptocurrency.",icon:""},{title:"Track Your Portfolio",description:"Monitor your investments, returns, and transaction history from your dashboard.",icon:""},{title:"Secure & Trusted",description:"Your investments are protected with bank-level security and 24/7 support.",icon:""}],r=()=>{if(e<s.length-1)n(e+1);else{const o=JSON.parse(localStorage.getItem("saxovault_current_user")||"{}");o.uid&&localStorage.setItem(`saxovault_onboarding_${o.uid}`,"true"),localStorage.setItem("saxovault_onboarding_complete","true"),t()}},a=()=>{const o=JSON.parse(localStorage.getItem("saxovault_current_user")||"{}");o.uid&&localStorage.setItem(`saxovault_onboarding_${o.uid}`,"true"),localStorage.setItem("saxovault_onboarding_complete","true"),t()};return i.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:i.jsxs(F.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl p-6 max-w-md w-full text-center shadow-2xl",children:[i.jsx("div",{className:"flex gap-1 mb-6 justify-center",children:s.map((o,l)=>i.jsx("div",{className:`h-1 rounded-full transition-all ${l<=e?"w-8":"w-4"}`,style:{background:l<=e?w.gold:"#e5e7eb"}},l))}),i.jsx("div",{className:"text-5xl mb-4",children:s[e].icon}),i.jsx("h2",{className:"font-serif text-xl mb-2",style:{color:w.navy},children:s[e].title}),i.jsx("p",{className:"text-gray-500 text-sm mb-6",children:s[e].description}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:a,className:"flex-1 py-3 rounded-xl text-gray-500 text-sm hover:bg-gray-100",children:"Skip"}),i.jsx(F.button,{onClick:r,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 py-3 rounded-xl text-white text-sm font-medium",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:e===s.length-1?"Let's Go!":"Next"})]})]})})}const Fe={hero:"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?w=1920&q=80",realEstate1:"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?w=800&q=80",realEstate2:"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=800&q=80",realEstate3:"https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=800&q=80",crypto1:"https://images.unsplash.com/photo-1518546305927-5a555bb7020d?w=800&q=80",crypto2:"https://images.unsplash.com/photo-1621761191319-c6fb62004040?w=800&q=80",crypto3:"https://images.unsplash.com/photo-1516245834210-c4c142787335?w=800&q=80",stocks1:"https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?w=800&q=80",stocks2:"https://images.unsplash.com/photo-1590283603385-17ffb3a7f29f?w=800&q=80",stocks3:"https://images.unsplash.com/photo-1642790106117-e829e14a795f?w=800&q=80",gold1:"https://images.unsplash.com/photo-1610375461246-83df859d849d?w=800&q=80",gold2:"https://images.unsplash.com/photo-1624365168968-f283d506c6b6?w=800&q=80",plans1:"https://images.unsplash.com/photo-1554224155-6726b3ff858f?w=800&q=80",plans2:"https://images.unsplash.com/photo-1579621970563-ebec7560ff3e?w=800&q=80",plans3:"https://images.unsplash.com/photo-1553729459-efe14ef6055d?w=800&q=80"},Xl=[{id:100,name:"Starter Trial",category:"Trial Plan",type:"crypto",min:500,max:500,returns:"5%",term:"5 days",desc:"Experience our platform with a $500 trial investment. Earn 1% daily profit for 5 days. Access your daily profits anytime - withdraw accumulated earnings while your capital works. Principal returned after plan completion. Limited to one trial per account.",progress:98,goal:5e5,img:Fe.crypto1,features:["1% Daily Profit","5-Day Duration","Withdraw Daily Profits","Capital Protected","One Per Account"],investors:24853,rating:5,status:"Active",payoutSchedule:"Daily Access",dailyRate:1,totalDays:5,isTestPlan:!0,onePerUser:!0,allowDailyWithdraw:!0},{id:5,name:"Crypto Starter",category:"Cryptocurrency",type:"crypto",min:1e3,max:14999,returns:"8-12%",term:"30 days",desc:"Begin your crypto journey with our entry-level fund. Diversified portfolio of Bitcoin, Ethereum, and top-performing altcoins managed by our expert trading team. Daily profit tracking available.",progress:94,goal:5e6,img:Fe.crypto1,features:["Daily Profit Access","BTC & ETH Core","Professional Management","Weekly Reports"],investors:12458,rating:4.8,status:"Active",payoutSchedule:"Daily Access",dailyRate:.33,totalDays:30,allowDailyWithdraw:!0},{id:6,name:"Crypto Growth",category:"Cryptocurrency",type:"crypto",min:15e3,max:29999,returns:"12-18%",term:"45 days",desc:"Accelerate your returns with our growth-focused crypto fund. Strategic allocation across top 20 cryptocurrencies with active rebalancing and DeFi yield optimization strategies.",progress:91,goal:1e7,img:Fe.crypto2,features:["Daily Profit Access","Top 20 Cryptos","Active Rebalancing","Bi-Weekly Updates"],investors:6234,rating:4.8,status:"Active",payoutSchedule:"Daily Access",dailyRate:.33,totalDays:45,allowDailyWithdraw:!0},{id:7,name:"Crypto Pro",category:"Cryptocurrency",type:"crypto",min:3e4,max:49999,returns:"18-25%",term:"60 days",desc:"Professional-grade crypto investment with advanced DeFi strategies. Access yield farming, liquidity pools, and arbitrage opportunities. Dedicated support and priority execution included.",progress:87,goal:15e6,img:Fe.crypto3,features:["Daily Profit Access","DeFi Strategies","Yield Farming","Priority Support"],investors:3876,rating:4.9,status:"Active",payoutSchedule:"Daily Access",dailyRate:.35,totalDays:60,allowDailyWithdraw:!0},{id:17,name:"Crypto Elite",category:"Cryptocurrency",type:"crypto",min:5e4,max:99999,returns:"25-35%",term:"90 days",desc:"Elite tier for serious investors. Combines algorithmic trading, market-making strategies, and exclusive pre-listing access. Personal account manager and custom reporting included.",progress:78,goal:25e6,img:Fe.crypto1,features:["Daily Profit Access","Algo Trading","Pre-Listing Access","Personal Manager"],investors:1567,rating:4.9,status:"Active",payoutSchedule:"Daily Access",dailyRate:.33,totalDays:90,allowDailyWithdraw:!0},{id:18,name:"Crypto Premium",category:"Cryptocurrency",type:"crypto",min:1e5,max:249999,returns:"35-48%",term:"120 days",desc:"Premium crypto fund with institutional-grade strategies. OTC deals, venture investments, and maximum yield optimization. White-glove service with 24/7 dedicated support.",progress:68,goal:5e7,img:Fe.crypto2,features:["Daily Profit Access","OTC Deals","Venture Access","24/7 VIP Support"],investors:487,rating:5,status:"Active",payoutSchedule:"Daily Access",dailyRate:.33,totalDays:120,allowDailyWithdraw:!0},{id:19,name:"Crypto Institutional",category:"Cryptocurrency",type:"crypto",min:25e4,returns:"48-65%",term:"180 days",desc:"Institutional-grade crypto portfolio for high-net-worth clients. Bespoke investment strategies, direct trader access, and comprehensive wealth management. Insurance-backed principal protection.",progress:55,goal:1e8,img:Fe.crypto3,features:["Daily Profit Access","Bespoke Strategy","Direct Trader Access","Insurance Backed"],investors:156,rating:5,status:"Active",payoutSchedule:"Daily Access",dailyRate:.3,totalDays:180,allowDailyWithdraw:!0},{id:1,name:"Metro Prime REIT",category:"Real Estate",type:"real-estate",min:25e3,returns:"18-25%",term:"12 months",desc:"Premium commercial real estate portfolio featuring Class-A properties in major metropolitan areas. Stable rental income combined with capital appreciation. Quarterly dividend distributions.",progress:76,goal:25e6,img:Fe.realEstate1,features:["Class-A Properties","Quarterly Dividends","Capital Appreciation","Tax Benefits"],investors:892,rating:4.9,status:"Active",dailyRate:.058,totalDays:365},{id:2,name:"Luxury Residences Fund",category:"Real Estate",type:"real-estate",min:25e3,returns:"22-30%",term:"18 months",desc:"Exclusive luxury residential developments in prime global locations. Benefit from property appreciation and rental yields in high-demand markets. Professional property management included.",progress:65,goal:35e6,img:Fe.realEstate2,features:["Luxury Properties","Prime Locations","High Appreciation","Professional Mgmt"],investors:567,rating:4.8,status:"Active",dailyRate:.048,totalDays:540},{id:3,name:"Commercial Portfolio",category:"Real Estate",type:"real-estate",min:5e4,returns:"28-38%",term:"24 months",desc:"Diversified commercial real estate including office buildings, retail centers, and industrial properties. Long-term leases provide stable, predictable returns with upside potential.",progress:52,goal:75e6,img:Fe.realEstate3,features:["Diversified Assets","Long-Term Leases","Stable Income","Capital Growth"],investors:324,rating:4.7,status:"Funding",dailyRate:.045,totalDays:730},{id:8,name:"Dividend Champions",category:"Stocks & Bonds",type:"stocks",min:5e3,returns:"12-18%",term:"12 months",desc:"Curated portfolio of dividend-paying stocks with proven track records. Focus on companies with 25+ years of consecutive dividend increases. Reliable quarterly income stream.",img:Fe.stocks1,features:["Quarterly Dividends","Blue Chip Quality","25+ Year Track Record","Steady Income"],investors:3456,rating:4.9,status:"Open",dailyRate:.042,totalDays:365},{id:9,name:"Tech Leaders Fund",category:"Stocks & Bonds",type:"stocks",min:5e3,returns:"18-28%",term:"12 months",desc:"Growth-focused portfolio targeting technology sector leaders in AI, cloud computing, semiconductors, and emerging tech. Higher growth potential with active management.",img:Fe.stocks2,features:["AI & Tech Focus","Growth Oriented","Active Management","Monthly Updates"],investors:2134,rating:4.7,status:"Open",dailyRate:.065,totalDays:365},{id:10,name:"Global Bond Fund",category:"Stocks & Bonds",type:"stocks",min:1e4,returns:"8-12%",term:"12 months",desc:"Investment-grade corporate and government bonds from global markets. Capital preservation focus with steady income. Lower volatility suitable for conservative investors.",img:Fe.stocks3,features:["Capital Preservation","Monthly Income","Investment Grade","Low Volatility"],investors:1876,rating:4.9,status:"Open",dailyRate:.028,totalDays:365},{id:11,name:"Gold Reserve Fund",category:"Precious Metals",type:"metals",min:5e3,returns:"10-15%",term:"6 months",desc:"Strategic gold investment combining physical holdings and gold mining equities. Inflation hedge with exposure to precious metals market movements and safe-haven demand.",progress:87,goal:15e6,img:Fe.gold1,features:["Inflation Hedge","Physical + Miners","Safe Haven","Quarterly Reports"],investors:2678,rating:4.8,status:"Active",dailyRate:.07,totalDays:180},{id:12,name:"Precious Metals Mix",category:"Precious Metals",type:"metals",min:1e4,returns:"15-22%",term:"12 months",desc:"Diversified precious metals portfolio including gold, silver, platinum, and palladium. Benefit from industrial demand and safe-haven status across multiple metals markets.",progress:72,goal:2e7,img:Fe.gold2,features:["Multi-Metal Exposure","Industrial Demand","Diversified","Quarterly Payouts"],investors:1534,rating:4.7,status:"Active",dailyRate:.052,totalDays:365},{id:14,name:"Conservative Growth",category:"Balanced",type:"plans",min:2500,returns:"10-15%",term:"6 months",desc:"Balanced allocation across stable assets for steady growth. Perfect for investors seeking consistent returns with minimized risk. Capital protection focus with monthly distributions.",img:Fe.plans1,features:["Capital Protected","Monthly Payouts","Low Volatility","Beginner Friendly"],investors:5678,rating:4.9,status:"Open",dailyRate:.07,totalDays:180},{id:15,name:"Balanced Wealth",category:"Balanced",type:"plans",min:1e4,returns:"18-25%",term:"12 months",desc:"Dynamic portfolio balancing growth and income across multiple asset classes. Quarterly rebalancing optimizes returns while managing risk. Ideal for medium-term wealth building.",img:Fe.plans2,features:["Multi-Asset Mix","Quarterly Rebalance","Growth + Income","Tax Efficient"],investors:3421,rating:4.8,status:"Open",dailyRate:.06,totalDays:365},{id:16,name:"Maximum Growth",category:"Balanced",type:"plans",min:25e3,returns:"28-40%",term:"12 months",desc:"Aggressive growth strategy targeting maximum returns through high-conviction positions in crypto, tech stocks, and emerging opportunities. For experienced investors with higher risk tolerance.",img:Fe.plans3,features:["Max Growth Focus","High Conviction","Active Trading","Weekly Updates"],investors:1234,rating:4.7,status:"Open",dailyRate:.095,totalDays:365}],h6=[{id:"all",name:"All",icon:ri,count:Xl.length},{id:"crypto",name:"Crypto",icon:q2,count:6},{id:"real-estate",name:"Real Estate",icon:bg,count:3},{id:"stocks",name:"Stocks & Bonds",icon:W2,count:3},{id:"metals",name:"Metals",icon:X2,count:2},{id:"plans",name:"Portfolios",icon:x4,count:3}];function f6({onLogin:t,setMessage:e,setLoading:n,loading:s}){const[r,a]=R.useState(!1),o=async()=>{a(!0),e({type:"",text:""});try{const l=await s6();l.success?(l.isNewUser&&Te.sendNewUserNotification(l.userData.email,l.userData.name,"Google").catch(console.error),t(l.userData)):e({type:"error",text:l.error})}catch{e({type:"error",text:"Google sign-in failed. Please try again."})}finally{a(!1)}};return i.jsx(F.button,{type:"button",onClick:o,disabled:s||r,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3.5 rounded-xl font-semibold flex items-center justify-center gap-3 border-2 border-gray-200 bg-white hover:bg-gray-50 disabled:opacity-70 transition-all",children:r?i.jsx(xn,{className:"w-5 h-5 animate-spin text-gray-600"}):i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[i.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),i.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),i.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),i.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),i.jsx("span",{style:{color:w.navy},children:"Continue with Google"})]})})}function m6({onLogin:t}){const[e,n]=R.useState("login"),[s,r]=R.useState(!1),[a,o]=R.useState(1),[l,u]=R.useState({name:"",email:"",phone:"",password:"",confirmPassword:"",referralCode:"",country:""}),[d,f]=R.useState(!1),[h,p]=R.useState({}),[x,S]=R.useState({type:"",text:""}),_=[{name:"Afghanistan",code:"+93",flag:""},{name:"Albania",code:"+355",flag:""},{name:"Algeria",code:"+213",flag:""},{name:"Argentina",code:"+54",flag:""},{name:"Australia",code:"+61",flag:""},{name:"Austria",code:"+43",flag:""},{name:"Bangladesh",code:"+880",flag:""},{name:"Belgium",code:"+32",flag:""},{name:"Brazil",code:"+55",flag:""},{name:"Canada",code:"+1",flag:""},{name:"Chile",code:"+56",flag:""},{name:"China",code:"+86",flag:""},{name:"Colombia",code:"+57",flag:""},{name:"Czech Republic",code:"+420",flag:""},{name:"Denmark",code:"+45",flag:""},{name:"Egypt",code:"+20",flag:""},{name:"Ethiopia",code:"+251",flag:""},{name:"Finland",code:"+358",flag:""},{name:"France",code:"+33",flag:""},{name:"Germany",code:"+49",flag:""},{name:"Ghana",code:"+233",flag:""},{name:"Greece",code:"+30",flag:""},{name:"Hong Kong",code:"+852",flag:""},{name:"Hungary",code:"+36",flag:""},{name:"India",code:"+91",flag:""},{name:"Indonesia",code:"+62",flag:""},{name:"Ireland",code:"+353",flag:""},{name:"Israel",code:"+972",flag:""},{name:"Italy",code:"+39",flag:""},{name:"Japan",code:"+81",flag:""},{name:"Kenya",code:"+254",flag:""},{name:"Malaysia",code:"+60",flag:""},{name:"Mexico",code:"+52",flag:""},{name:"Morocco",code:"+212",flag:""},{name:"Nepal",code:"+977",flag:""},{name:"Netherlands",code:"+31",flag:""},{name:"New Zealand",code:"+64",flag:""},{name:"Nigeria",code:"+234",flag:""},{name:"Norway",code:"+47",flag:""},{name:"Pakistan",code:"+92",flag:""},{name:"Peru",code:"+51",flag:""},{name:"Philippines",code:"+63",flag:""},{name:"Poland",code:"+48",flag:""},{name:"Portugal",code:"+351",flag:""},{name:"Romania",code:"+40",flag:""},{name:"Russia",code:"+7",flag:""},{name:"Saudi Arabia",code:"+966",flag:""},{name:"Singapore",code:"+65",flag:""},{name:"South Africa",code:"+27",flag:""},{name:"South Korea",code:"+82",flag:""},{name:"Spain",code:"+34",flag:""},{name:"Sri Lanka",code:"+94",flag:""},{name:"Sweden",code:"+46",flag:""},{name:"Switzerland",code:"+41",flag:""},{name:"Taiwan",code:"+886",flag:""},{name:"Tanzania",code:"+255",flag:""},{name:"Thailand",code:"+66",flag:""},{name:"Turkey",code:"+90",flag:""},{name:"UAE",code:"+971",flag:""},{name:"Uganda",code:"+256",flag:""},{name:"Ukraine",code:"+380",flag:""},{name:"United Kingdom",code:"+44",flag:""},{name:"United States",code:"+1",flag:""},{name:"Vietnam",code:"+84",flag:""},{name:"Zimbabwe",code:"+263",flag:""}],I=_.find(O=>O.name===l.country)||null,[T,v]=R.useState(!1),[b,D]=R.useState(""),[L,U]=R.useState({score:0,checks:{}}),k=O=>{const q={minLength:O.length>=8,hasUppercase:/[A-Z]/.test(O),hasLowercase:/[a-z]/.test(O),hasNumber:/[0-9]/.test(O),hasSymbol:/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(O)};return{score:Object.values(q).filter(Boolean).length,checks:q}};R.useEffect(()=>{e==="register"&&U(k(l.password))},[l.password,e]);const N=O=>O===0?{label:"",color:"#gray"}:O<=2?{label:"Weak",color:"#ef4444"}:O<=3?{label:"Fair",color:"#f59e0b"}:O<=4?{label:"Good",color:"#3b82f6"}:{label:"Strong",color:"#10b981"},E=()=>{const O={};return e==="register"&&(l.name.trim()||(O.name="Full name is required"),l.country||(O.country="Please select your country"),l.password!==l.confirmPassword&&(O.confirmPassword="Passwords do not match"),l.password.length<8?O.password="Password must be at least 8 characters":L.checks.hasUppercase?L.checks.hasLowercase?L.checks.hasNumber?L.checks.hasSymbol||(O.password="Password must include a symbol (!@#$%^&*)"):O.password="Password must include a number":O.password="Password must include a lowercase letter":O.password="Password must include an uppercase letter"),(!l.email.includes("@")||!l.email.includes("."))&&(O.email="Please enter a valid email address"),l.password||(O.password="Password is required"),p(O),Object.keys(O).length===0},[C,P]=R.useState(!1),[V,A]=R.useState(null),Q=async O=>{if(O.preventDefault(),!!E()){if(f(!0),S({type:"",text:""}),e==="register"){const q=await r6(l.email,l.password,{name:l.name,phone:I?`${I.code} ${l.phone}`:l.phone,country:l.country,referralCode:l.referralCode});q.success?(o(2),S({type:"success",text:q.message}),Te.sendNewUserNotification(l.email,l.name,"Email").catch(console.error)):S({type:"error",text:q.error})}else{const q=await e1(l.email,l.password);if(q.success){if(Xt.is2FAEnabled(q.userData.uid)){A(q.userData),console.log(" Sending 2FA code to:",q.userData.email),(await Xt.send2FACode(q.userData.uid,q.userData.email)).success?console.log(" 2FA code sent successfully"):console.error(" Failed to send 2FA code"),P(!0),f(!1);return}t(q.userData)}else q.needsVerification?(o(2),S({type:"warning",text:q.error})):S({type:"error",text:q.error})}f(!1)}},ae=()=>{P(!1),V&&(t(V),A(null))},me=async O=>{if(O.preventDefault(),!b.includes("@")){S({type:"error",text:"Please enter a valid email address"});return}f(!0);const q=await a6(b);q.success?(S({type:"success",text:q.message}),v(!1),D("")):S({type:"error",text:q.error}),f(!1)},pe=async()=>{f(!0),(await e1(l.email,l.password)).needsVerification&&S({type:"success",text:"Verification email sent! Please check your inbox."}),f(!1)};return a===2?i.jsxs("div",{className:"min-h-screen flex flex-col lg:flex-row",style:{background:w.cream},children:[i.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:[i.jsx("div",{className:"absolute inset-0",children:i.jsx("img",{src:Fe.hero,alt:"",className:"w-full h-full object-cover opacity-20"})}),i.jsxs("div",{className:"relative z-10 flex flex-col justify-center items-center p-16 text-center",children:[i.jsx(F.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring"},className:"mb-8",children:i.jsxs("svg",{viewBox:"0 0 50 55",className:"w-20 h-20 lg:w-24 lg:h-24",children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"authLogoGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#d4a853"}),i.jsx("stop",{offset:"50%",stopColor:"#f4d078"}),i.jsx("stop",{offset:"100%",stopColor:"#d4a853"})]})}),i.jsx("path",{d:"M25 0 L50 8 L50 30 C50 42 38 50 25 55 C12 50 0 42 0 30 L0 8 Z",fill:"rgba(255,255,255,0.15)"}),i.jsx("path",{d:"M25 5 L45 12 L45 29 C45 39 35 46 25 50 C15 46 5 39 5 29 L5 12 Z",fill:"none",stroke:"url(#authLogoGold)",strokeWidth:"2"}),i.jsx("text",{x:"25",y:"36",fontFamily:"Georgia, serif",fontSize:"26",fontWeight:"bold",fill:"url(#authLogoGold)",textAnchor:"middle",children:"S"})]})}),i.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[i.jsx("h1",{className:"font-serif text-4xl lg:text-5xl text-white",children:"SAXO"}),i.jsx("h1",{className:"font-serif text-4xl lg:text-5xl",style:{color:w.gold},children:"VAULT"})]}),i.jsx("p",{className:"text-lg tracking-[0.3em] uppercase text-white/70",children:"Capital"})]})]}),i.jsx("div",{className:"flex-1 flex items-center justify-center p-6 lg:p-16",children:i.jsxs(F.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[i.jsxs("div",{className:"lg:hidden text-center mb-8",children:[i.jsx("div",{className:"w-14 h-14 mx-auto mb-3",children:i.jsxs("svg",{viewBox:"0 0 50 55",className:"w-full h-full",children:[i.jsxs("defs",{children:[i.jsxs("linearGradient",{id:"authMobileGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#d4a853"}),i.jsx("stop",{offset:"50%",stopColor:"#f4d078"}),i.jsx("stop",{offset:"100%",stopColor:"#d4a853"})]}),i.jsxs("linearGradient",{id:"authMobileNavy",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#1a2d4a"}),i.jsx("stop",{offset:"100%",stopColor:"#0a1628"})]})]}),i.jsx("path",{d:"M25 0 L50 8 L50 30 C50 42 38 50 25 55 C12 50 0 42 0 30 L0 8 Z",fill:"url(#authMobileNavy)"}),i.jsx("path",{d:"M25 5 L45 12 L45 29 C45 39 35 46 25 50 C15 46 5 39 5 29 L5 12 Z",fill:"none",stroke:"url(#authMobileGold)",strokeWidth:"1.5"}),i.jsx("text",{x:"25",y:"35",fontFamily:"Georgia, serif",fontSize:"24",fontWeight:"bold",fill:"url(#authMobileGold)",textAnchor:"middle",children:"S"})]})}),i.jsxs("div",{className:"flex items-baseline justify-center gap-1",children:[i.jsx("span",{className:"font-serif text-xl",style:{color:w.navy},children:"SAXO"}),i.jsx("span",{className:"font-serif text-xl",style:{color:w.gold},children:"VAULT"})]})]}),i.jsxs("div",{className:"text-center mb-8",children:[i.jsx(F.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2},className:"w-16 h-16 lg:w-20 lg:h-20 mx-auto rounded-full flex items-center justify-center mb-4",style:{background:`${w.green}15`},children:i.jsx(rs,{className:"w-8 h-8 lg:w-10 lg:h-10",style:{color:w.green}})}),i.jsx("h2",{className:"font-serif text-2xl lg:text-3xl mb-2",style:{color:w.navy},children:"Check Your Email!"}),i.jsx("p",{className:"text-gray-500 text-sm lg:text-base mb-2",children:"We've sent a verification link to:"}),i.jsx("p",{className:"font-semibold",style:{color:w.navy},children:l.email})]}),i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-6",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(rs,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-blue-800 text-sm font-medium",children:"Verification Required"}),i.jsx("p",{className:"text-blue-600 text-xs mt-1",children:"Click the link in your email to verify your account. Check your spam folder if you don't see it."})]})]})}),x.text&&i.jsxs(F.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`mb-4 p-3 rounded-xl text-sm flex items-center gap-2 ${x.type==="success"?"bg-green-50 text-green-700 border border-green-200":x.type==="warning"?"bg-yellow-50 text-yellow-700 border border-yellow-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[x.type==="success"?i.jsx(Je,{className:"w-4 h-4"}):i.jsx(ia,{className:"w-4 h-4"}),x.text]}),i.jsx(F.button,{onClick:pe,disabled:d,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3.5 lg:py-4 rounded-xl font-semibold text-base lg:text-lg flex items-center justify-center gap-3 border-2 mb-4",style:{borderColor:w.navy,color:w.navy},children:d?i.jsx(xn,{className:"w-5 h-5 animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(rs,{className:"w-5 h-5"})," Resend Verification Email"]})}),i.jsx(F.button,{onClick:()=>{o(1),n("login")},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3.5 lg:py-4 rounded-xl text-white font-semibold text-base lg:text-lg flex items-center justify-center gap-3",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:"Back to Login"}),i.jsx("p",{className:"text-center text-gray-500 text-xs mt-6",children:"Already verified? Go back to login and sign in."})]})})]}):T?i.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",style:{background:w.cream},children:i.jsxs(F.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"w-full max-w-md bg-white rounded-2xl shadow-xl p-6 lg:p-8",children:[i.jsxs("button",{onClick:()=>v(!1),className:"mb-4 flex items-center gap-2 text-gray-500 hover:text-gray-700",children:[i.jsx(Vl,{className:"w-4 h-4"})," Back to Login"]}),i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"w-16 h-16 mx-auto rounded-full flex items-center justify-center mb-4",style:{background:`${w.gold}15`},children:i.jsx(Hu,{className:"w-8 h-8",style:{color:w.gold}})}),i.jsx("h2",{className:"font-serif text-2xl mb-2",style:{color:w.navy},children:"Reset Password"}),i.jsx("p",{className:"text-gray-500 text-sm",children:"Enter your email to receive a reset link"})]}),x.text&&i.jsxs(F.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`mb-4 p-3 rounded-xl text-sm flex items-center gap-2 ${x.type==="success"?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:[x.type==="success"?i.jsx(Je,{className:"w-4 h-4"}):i.jsx(ia,{className:"w-4 h-4"}),x.text]}),i.jsxs("form",{onSubmit:me,children:[i.jsxs("div",{className:"relative mb-4",children:[i.jsx(rs,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"email",value:b,onChange:O=>D(O.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email"})]}),i.jsx(F.button,{type:"submit",disabled:d,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3.5 rounded-xl text-white font-semibold flex items-center justify-center gap-3",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:d?i.jsx(xn,{className:"w-5 h-5 animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx($o,{className:"w-5 h-5"})," Send Reset Link"]})})]})]})}):i.jsxs(i.Fragment,{children:[i.jsx(gt,{children:C&&V&&i.jsx(P6,{user:V,onVerify:ae,onClose:()=>P(!1),onResend:async()=>(await Xt.send2FACode(V.uid,V.email)).success})}),i.jsxs("div",{className:"min-h-screen flex flex-col lg:flex-row",style:{background:w.cream},children:[i.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:[i.jsx("div",{className:"absolute inset-0",children:i.jsx("img",{src:Fe.hero,alt:"",className:"w-full h-full object-cover opacity-20"})}),i.jsxs("div",{className:"relative z-10 flex flex-col justify-center items-center p-16 text-center",children:[i.jsx(F.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",duration:.8},className:"mb-8",children:i.jsxs("svg",{viewBox:"0 0 50 55",className:"w-24 h-24",children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"regLogoGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#d4a853"}),i.jsx("stop",{offset:"50%",stopColor:"#f4d078"}),i.jsx("stop",{offset:"100%",stopColor:"#d4a853"})]})}),i.jsx("path",{d:"M25 0 L50 8 L50 30 C50 42 38 50 25 55 C12 50 0 42 0 30 L0 8 Z",fill:"rgba(255,255,255,0.15)"}),i.jsx("path",{d:"M25 5 L45 12 L45 29 C45 39 35 46 25 50 C15 46 5 39 5 29 L5 12 Z",fill:"none",stroke:"url(#regLogoGold)",strokeWidth:"2"}),i.jsx("text",{x:"25",y:"36",fontFamily:"Georgia, serif",fontSize:"26",fontWeight:"bold",fill:"url(#regLogoGold)",textAnchor:"middle",children:"S"})]})}),i.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[i.jsx("h1",{className:"font-serif text-5xl text-white",children:"SAXO"}),i.jsx("h1",{className:"font-serif text-5xl",style:{color:w.gold},children:"VAULT"})]}),i.jsx("p",{className:"text-lg tracking-[0.3em] uppercase text-white/70",children:"Capital"}),i.jsx("p",{className:"text-white/60 text-lg max-w-md mt-4",children:"Access curated Real Estate, Cryptocurrency, Stocks, and Precious Metals investments."}),i.jsx("div",{className:"mt-12 space-y-4 text-left max-w-sm",children:["Institutional-grade investments","Professional asset management","Refer & earn bonus rewards"].map((O,q)=>i.jsxs(F.div,{initial:{x:-30,opacity:0},animate:{x:0,opacity:1},transition:{delay:.3+q*.1},className:"flex items-center gap-3 text-white/80",children:[i.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{background:`${w.gold}30`},children:i.jsx(kn,{className:"w-4 h-4",style:{color:w.gold}})}),O]},q))})]})]}),i.jsx("div",{className:"flex-1 flex items-center justify-center p-6 lg:p-16",children:i.jsxs(F.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[i.jsxs("div",{className:"lg:hidden text-center mb-8",children:[i.jsx("div",{className:"w-14 h-14 mx-auto mb-3",children:i.jsxs("svg",{viewBox:"0 0 50 55",className:"w-full h-full",children:[i.jsxs("defs",{children:[i.jsxs("linearGradient",{id:"regMobileGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#d4a853"}),i.jsx("stop",{offset:"50%",stopColor:"#f4d078"}),i.jsx("stop",{offset:"100%",stopColor:"#d4a853"})]}),i.jsxs("linearGradient",{id:"regMobileNavy",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#1a2d4a"}),i.jsx("stop",{offset:"100%",stopColor:"#0a1628"})]})]}),i.jsx("path",{d:"M25 0 L50 8 L50 30 C50 42 38 50 25 55 C12 50 0 42 0 30 L0 8 Z",fill:"url(#regMobileNavy)"}),i.jsx("path",{d:"M25 5 L45 12 L45 29 C45 39 35 46 25 50 C15 46 5 39 5 29 L5 12 Z",fill:"none",stroke:"url(#regMobileGold)",strokeWidth:"1.5"}),i.jsx("text",{x:"25",y:"35",fontFamily:"Georgia, serif",fontSize:"24",fontWeight:"bold",fill:"url(#regMobileGold)",textAnchor:"middle",children:"S"})]})}),i.jsxs("div",{className:"flex items-baseline justify-center gap-1",children:[i.jsx("span",{className:"font-serif text-xl",style:{color:w.navy},children:"SAXO"}),i.jsx("span",{className:"font-serif text-xl",style:{color:w.gold},children:"VAULT"})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"font-serif text-2xl lg:text-3xl mb-2",style:{color:w.navy},children:e==="login"?"Welcome Back":"Create Account"}),i.jsx("p",{className:"text-gray-500 text-sm lg:text-base",children:e==="login"?"Sign in to access your investments":"Start your investment journey today"})]}),x.text&&i.jsxs(F.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`mb-4 p-3 rounded-xl text-sm flex items-center gap-2 ${x.type==="success"?"bg-green-50 text-green-700 border border-green-200":x.type==="warning"?"bg-yellow-50 text-yellow-700 border border-yellow-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[x.type==="success"?i.jsx(Je,{className:"w-4 h-4"}):i.jsx(ia,{className:"w-4 h-4"}),x.text]}),i.jsx("div",{className:"flex mb-6 bg-gray-100 rounded-xl p-1.5",children:["login","register"].map(O=>i.jsx("button",{onClick:()=>{n(O),p({}),S({type:"",text:""})},className:`flex-1 py-2.5 lg:py-3 rounded-lg font-medium text-sm lg:text-base transition-all ${e===O?"bg-white shadow-md":"text-gray-500"}`,style:e===O?{color:w.navy}:{},children:O==="login"?"Sign In":"Register"},O))}),i.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[i.jsx(gt,{mode:"wait",children:e==="register"&&i.jsxs(F.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Full Name"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ml,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",value:l.name,onChange:O=>u({...l,name:O.target.value}),className:`w-full pl-12 pr-4 py-3 border rounded-xl focus:outline-none ${h.name?"border-red-500":"border-gray-200"}`,placeholder:"John Doe"})]}),h.name&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.name})]},"name")}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Email Address"}),i.jsxs("div",{className:"relative",children:[i.jsx(rs,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"email",value:l.email,onChange:O=>u({...l,email:O.target.value}),className:`w-full pl-12 pr-4 py-3 border rounded-xl focus:outline-none ${h.email?"border-red-500":"border-gray-200"}`,placeholder:"john@example.com"})]}),h.email&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.email})]}),i.jsx(gt,{mode:"wait",children:e==="register"&&i.jsxs(i.Fragment,{children:[i.jsxs(F.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Country"}),i.jsxs("div",{className:"relative",children:[i.jsx(ri,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsxs("select",{value:l.country,onChange:O=>u({...l,country:O.target.value}),className:`w-full pl-12 pr-4 py-3 border rounded-xl focus:outline-none appearance-none bg-white ${h.country?"border-red-500":"border-gray-200"}`,children:[i.jsx("option",{value:"",children:"Select your country"}),_.map(O=>i.jsxs("option",{value:O.name,children:[O.flag," ",O.name," (",O.code,")"]},O.name))]}),i.jsx(G2,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"})]}),h.country&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.country})]},"country"),i.jsxs(F.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Phone Number"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("div",{className:"relative w-24 flex-shrink-0",children:i.jsx("div",{className:"w-full px-3 py-3 border border-gray-200 rounded-xl bg-gray-50 text-sm font-medium flex items-center justify-center gap-1",style:{color:w.navy},children:I?i.jsxs(i.Fragment,{children:[I.flag," ",I.code]}):i.jsx("span",{className:"text-gray-400",children:"Code"})})}),i.jsxs("div",{className:"relative flex-1",children:[i.jsx(tN,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"tel",value:l.phone,onChange:O=>u({...l,phone:O.target.value.replace(/\D/g,"")}),className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none",placeholder:"Phone number",maxLength:"15"})]})]}),I&&l.phone&&i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Full number: ",I.code," ",l.phone]})]},"phone")]})}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(cr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:s?"text":"password",value:l.password,onChange:O=>u({...l,password:O.target.value}),className:`w-full pl-12 pr-14 py-3 border rounded-xl focus:outline-none ${h.password?"border-red-500":"border-gray-200"}`,placeholder:"Create a strong password"}),i.jsx("button",{type:"button",onClick:()=>r(!s),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400",children:s?i.jsx(Y2,{className:"w-5 h-5"}):i.jsx(J2,{className:"w-5 h-5"})})]}),h.password&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.password}),e==="register"&&l.password&&i.jsxs("div",{className:"mt-2",children:[i.jsx("div",{className:"flex gap-1 mb-2",children:[1,2,3,4,5].map(O=>i.jsx("div",{className:"h-1.5 flex-1 rounded-full transition-all duration-300",style:{background:L.score>=O?N(L.score).color:"#e5e7eb"}},O))}),i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-xs font-medium",style:{color:N(L.score).color},children:N(L.score).label}),i.jsxs("span",{className:"text-xs text-gray-400",children:[L.score,"/5 requirements met"]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-1 text-xs",children:[i.jsxs("div",{className:`flex items-center gap-1 ${L.checks.minLength?"text-green-600":"text-gray-400"}`,children:[L.checks.minLength?i.jsx(Je,{className:"w-3 h-3"}):i.jsx("div",{className:"w-3 h-3 rounded-full border border-current"}),i.jsx("span",{children:"8+ characters"})]}),i.jsxs("div",{className:`flex items-center gap-1 ${L.checks.hasUppercase?"text-green-600":"text-gray-400"}`,children:[L.checks.hasUppercase?i.jsx(Je,{className:"w-3 h-3"}):i.jsx("div",{className:"w-3 h-3 rounded-full border border-current"}),i.jsx("span",{children:"Uppercase (A-Z)"})]}),i.jsxs("div",{className:`flex items-center gap-1 ${L.checks.hasLowercase?"text-green-600":"text-gray-400"}`,children:[L.checks.hasLowercase?i.jsx(Je,{className:"w-3 h-3"}):i.jsx("div",{className:"w-3 h-3 rounded-full border border-current"}),i.jsx("span",{children:"Lowercase (a-z)"})]}),i.jsxs("div",{className:`flex items-center gap-1 ${L.checks.hasNumber?"text-green-600":"text-gray-400"}`,children:[L.checks.hasNumber?i.jsx(Je,{className:"w-3 h-3"}):i.jsx("div",{className:"w-3 h-3 rounded-full border border-current"}),i.jsx("span",{children:"Number (0-9)"})]}),i.jsxs("div",{className:`flex items-center gap-1 col-span-2 ${L.checks.hasSymbol?"text-green-600":"text-gray-400"}`,children:[L.checks.hasSymbol?i.jsx(Je,{className:"w-3 h-3"}):i.jsx("div",{className:"w-3 h-3 rounded-full border border-current"}),i.jsx("span",{children:"Symbol (!@#$%^&*)"})]})]})]})]}),i.jsx(gt,{mode:"wait",children:e==="register"&&i.jsxs(i.Fragment,{children:[i.jsxs(F.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Confirm Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(cr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:s?"text":"password",value:l.confirmPassword,onChange:O=>u({...l,confirmPassword:O.target.value}),className:`w-full pl-12 pr-4 py-3 border rounded-xl focus:outline-none ${h.confirmPassword?"border-red-500":"border-gray-200"}`,placeholder:""})]}),h.confirmPassword&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.confirmPassword})]},"confirm"),i.jsxs(F.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Referral Code (Optional)"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ll,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",value:l.referralCode,onChange:O=>u({...l,referralCode:O.target.value}),className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none",placeholder:"Enter referral code"})]})]},"referral")]})}),e==="login"&&i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{type:"button",onClick:()=>v(!0),className:"text-sm font-medium hover:underline",style:{color:w.navy},children:"Forgot Password?"})}),i.jsx(F.button,{type:"submit",disabled:d,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3.5 rounded-xl text-white font-semibold flex items-center justify-center gap-3 shadow-lg disabled:opacity-70",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:d?i.jsx(xn,{className:"w-5 h-5 animate-spin"}):i.jsxs(i.Fragment,{children:[e==="login"?"Sign In":"Create Account"," ",i.jsx(Bu,{className:"w-5 h-5"})]})})]}),i.jsxs("div",{className:"flex items-center gap-4 my-6",children:[i.jsx("div",{className:"flex-1 h-px bg-gray-200"}),i.jsx("span",{className:"text-sm text-gray-400",children:"or continue with"}),i.jsx("div",{className:"flex-1 h-px bg-gray-200"})]}),i.jsx(f6,{onLogin:t,setMessage:S,setLoading:f,loading:d}),i.jsxs("div",{className:"mt-6 flex flex-wrap items-center gap-4 text-sm text-gray-500",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(aa,{className:"w-4 h-4",style:{color:w.green}}),i.jsx("span",{children:"Bank-level Security"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(cr,{className:"w-4 h-4",style:{color:w.green}}),i.jsx("span",{children:"256-bit SSL"})]})]})]})})]})]})}function p6({activePage:t,onNavigate:e,user:n,onLogout:s}){const[r,a]=R.useState(!1),[o,l]=R.useState(!1),[u,d]=R.useState(!1),[f,h]=R.useState(!1);R.useEffect(()=>{const S=()=>a(window.scrollY>20);return window.addEventListener("scroll",S),()=>window.removeEventListener("scroll",S)},[]);const p=[{id:"home",label:"Home",icon:eN},{id:"investments",label:"Investments",icon:ii},{id:"dashboard",label:"Dashboard",icon:_g},{id:"deposit",label:"Deposit",icon:ms,isAction:!0,color:"#10b981"},{id:"withdraw",label:"Withdraw",icon:Kn,isAction:!0,color:"#f59e0b"},{id:"referral",label:"Referral",icon:Ll},{id:"calculator",label:"Calculator",icon:w4}],x=S=>{S==="deposit"?d(!0):S==="withdraw"?h(!0):e(S),l(!1)};return i.jsxs(i.Fragment,{children:[i.jsx(F.nav,{initial:{y:-100},animate:{y:0},className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${r||t!=="home"?"bg-white/95 backdrop-blur-md shadow-lg":"bg-transparent"}`,children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 lg:px-6 py-3 lg:py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(F.div,{whileHover:{scale:1.02},className:"flex items-center gap-2 lg:gap-3 cursor-pointer",onClick:()=>e("home"),children:[i.jsx("div",{className:"relative w-10 h-10 lg:w-11 lg:h-11",children:i.jsxs("svg",{viewBox:"0 0 50 55",className:"w-full h-full",children:[i.jsxs("defs",{children:[i.jsxs("linearGradient",{id:"logoGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#d4a853"}),i.jsx("stop",{offset:"50%",stopColor:"#f4d078"}),i.jsx("stop",{offset:"100%",stopColor:"#d4a853"})]}),i.jsxs("linearGradient",{id:"logoNavy",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#1a2d4a"}),i.jsx("stop",{offset:"100%",stopColor:"#0a1628"})]})]}),i.jsx("path",{d:"M25 0 L50 8 L50 30 C50 42 38 50 25 55 C12 50 0 42 0 30 L0 8 Z",fill:"url(#logoNavy)"}),i.jsx("path",{d:"M25 5 L45 12 L45 29 C45 39 35 46 25 50 C15 46 5 39 5 29 L5 12 Z",fill:"none",stroke:"url(#logoGold)",strokeWidth:"1.5"}),i.jsx("text",{x:"25",y:"35",fontFamily:"Georgia, serif",fontSize:"24",fontWeight:"bold",fill:"url(#logoGold)",textAnchor:"middle",children:"S"})]})}),i.jsxs("div",{className:"hidden sm:block",children:[i.jsxs("div",{className:"flex items-baseline gap-1",children:[i.jsx("span",{className:"font-serif text-lg lg:text-xl font-semibold",style:{color:r||t!=="home"?w.navy:"white"},children:"SAXO"}),i.jsx("span",{className:"font-serif text-lg lg:text-xl font-semibold",style:{color:w.gold},children:"VAULT"})]}),i.jsx("p",{className:"text-[10px] tracking-[0.2em] uppercase",style:{color:r||t!=="home"?"#6b7280":"rgba(255,255,255,0.7)"},children:"Capital"})]})]}),i.jsx("div",{className:"hidden lg:flex items-center gap-1",children:p.map(S=>i.jsxs(F.button,{onClick:()=>x(S.id),whileHover:{scale:1.05},whileTap:{scale:.98},className:`flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium transition-all ${S.isAction||t===S.id?"text-white shadow-lg":r||t!=="home"?"text-gray-600 hover:bg-gray-100":"text-white/80 hover:text-white hover:bg-white/10"}`,style:S.isAction?{background:S.color}:t===S.id?{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`}:{},children:[i.jsx(S.icon,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:S.label})]},S.id))}),i.jsxs("div",{className:"flex items-center gap-2 lg:gap-3",children:[i.jsxs(F.button,{whileHover:{scale:1.05},whileTap:{scale:.98},onClick:()=>e("notifications"),className:`relative p-2 rounded-xl transition-all ${r||t!=="home"?"hover:bg-gray-100":"hover:bg-white/10"}`,children:[i.jsx(lr,{className:`w-5 h-5 ${r||t!=="home"?"text-gray-600":"text-white"}`}),(()=>{const _=(JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}")[n.uid]||[]).filter(I=>!I.read).length;return _>0?i.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center text-xs text-white font-bold",children:_>9?"9+":_}):null})()]}),i.jsxs(F.button,{whileHover:{scale:1.05},whileTap:{scale:.98},onClick:()=>e("profile"),className:"flex items-center gap-2 px-2 lg:px-4 py-2 rounded-xl transition-all",children:[i.jsx("div",{className:"w-8 h-8 lg:w-9 lg:h-9 rounded-full flex items-center justify-center text-sm font-bold text-white overflow-hidden",style:{background:`linear-gradient(135deg, ${w.gold} 0%, ${w.goldDark} 100%)`},children:n.profileImage?i.jsx("img",{src:n.profileImage,alt:"",className:"w-full h-full object-cover"}):n.name.charAt(0)}),i.jsx("span",{className:`text-sm font-medium hidden md:block ${r||t!=="home"?"text-gray-700":"text-white"}`,children:n.name.split(" ")[0]})]}),i.jsx("button",{onClick:s,className:"hidden lg:flex p-2.5 rounded-xl text-red-500 hover:bg-red-50 transition-all",children:i.jsx(ba,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>l(!o),className:"lg:hidden p-2 rounded-xl",style:{color:r||t!=="home"?w.navy:"white"},children:i.jsx(j4,{className:"w-6 h-6"})})]})]})})}),i.jsx(gt,{children:o&&i.jsxs(i.Fragment,{children:[i.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>l(!1),className:"fixed inset-0 bg-black/50 z-50 lg:hidden"}),i.jsx(F.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"tween"},className:"fixed top-0 right-0 bottom-0 w-72 bg-white z-50 shadow-2xl lg:hidden",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-9 h-9",children:i.jsxs("svg",{viewBox:"0 0 50 55",className:"w-full h-full",children:[i.jsxs("defs",{children:[i.jsxs("linearGradient",{id:"mobileLogoGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#d4a853"}),i.jsx("stop",{offset:"50%",stopColor:"#f4d078"}),i.jsx("stop",{offset:"100%",stopColor:"#d4a853"})]}),i.jsxs("linearGradient",{id:"mobileLogoNavy",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#1a2d4a"}),i.jsx("stop",{offset:"100%",stopColor:"#0a1628"})]})]}),i.jsx("path",{d:"M25 0 L50 8 L50 30 C50 42 38 50 25 55 C12 50 0 42 0 30 L0 8 Z",fill:"url(#mobileLogoNavy)"}),i.jsx("path",{d:"M25 5 L45 12 L45 29 C45 39 35 46 25 50 C15 46 5 39 5 29 L5 12 Z",fill:"none",stroke:"url(#mobileLogoGold)",strokeWidth:"1.5"}),i.jsx("text",{x:"25",y:"35",fontFamily:"Georgia, serif",fontSize:"24",fontWeight:"bold",fill:"url(#mobileLogoGold)",textAnchor:"middle",children:"S"})]})}),i.jsxs("div",{children:[i.jsx("span",{className:"font-serif text-sm",style:{color:w.navy},children:"SAXO"}),i.jsx("span",{className:"font-serif text-sm",style:{color:w.gold},children:"VAULT"})]})]}),i.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:i.jsx(tn,{className:"w-5 h-5"})})]}),i.jsx("div",{className:"space-y-2",children:p.map(S=>i.jsxs("button",{onClick:()=>x(S.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all ${S.isAction||t===S.id?"text-white":"text-gray-600 hover:bg-gray-100"}`,style:S.isAction?{background:S.color}:t===S.id?{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`}:{},children:[i.jsx(S.icon,{className:"w-5 h-5"}),S.label]},S.id))}),i.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-100 space-y-2",children:[i.jsxs("button",{onClick:()=>{e("profile"),l(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-600 hover:bg-gray-100",children:[i.jsx(Xc,{className:"w-5 h-5"})," Profile & Settings"]}),i.jsxs("button",{onClick:s,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-red-500 hover:bg-red-50",children:[i.jsx(ba,{className:"w-5 h-5"})," Logout"]})]})]})})]})}),i.jsxs(gt,{children:[u&&i.jsx(BT,{onClose:()=>d(!1)}),f&&i.jsx(zT,{onClose:()=>h(!1),balance:n.balance})]})]})}function g6({activePage:t,onNavigate:e}){const n=[{id:"home",label:"Home",icon:eN},{id:"investments",label:"Invest",icon:ii},{id:"dashboard",label:"Portfolio",icon:_g},{id:"referral",label:"Referral",icon:Ll},{id:"profile",label:"Profile",icon:Ml}];return i.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-40 lg:hidden",children:i.jsx("div",{className:"flex items-center justify-around py-2",children:n.map(s=>i.jsxs("button",{onClick:()=>e(s.id),className:`flex flex-col items-center gap-1 px-3 py-2 rounded-xl transition-all ${t===s.id?"text-white":"text-gray-500"}`,style:t===s.id?{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`}:{},children:[i.jsx(s.icon,{className:"w-5 h-5"}),i.jsx("span",{className:"text-xs font-medium",children:s.label})]},s.id))})})}function y6(){const[t,e]=R.useState(!1),[n,s]=R.useState("options"),[r,a]=R.useState({name:"",email:"",category:"",priority:"medium",subject:"",message:""}),[o,l]=R.useState(!1),[u,d]=R.useState(""),[f,h]=R.useState(!1),p=async x=>{x.preventDefault(),h(!0);const S="TKT-"+Math.random().toString(36).substr(2,9).toUpperCase(),_=JSON.parse(localStorage.getItem("saxovault_tickets")||"[]"),I={id:S,name:r.name,email:r.email,category:r.category,priority:r.priority,subject:r.subject,message:r.message,status:"open",createdAt:new Date().toISOString()};_.unshift(I),localStorage.setItem("saxovault_tickets",JSON.stringify(_)),se.addNotification({type:"ticket",message:`New ticket from ${r.name}: ${r.subject}`,ticketId:S}),`${S}${r.name}${r.email}${r.category}${r.priority}${r.message}`,d(S),l(!0),h(!1),setTimeout(()=>{l(!1),a({name:"",email:"",category:"",priority:"medium",subject:"",message:""}),s("options")},5e3)};return i.jsxs(i.Fragment,{children:[i.jsx(F.button,{onClick:()=>e(!t),whileHover:{scale:1.1},whileTap:{scale:.9},className:"fixed bottom-20 lg:bottom-8 right-4 lg:right-8 w-14 h-14 lg:w-16 lg:h-16 rounded-full shadow-2xl flex items-center justify-center text-white z-40",style:{background:`linear-gradient(135deg, ${w.green} 0%, ${w.greenDark} 100%)`},children:i.jsx(gt,{mode:"wait",children:t?i.jsx(F.div,{initial:{rotate:-90},animate:{rotate:0},children:i.jsx(tn,{className:"w-6 h-6"})},"x"):i.jsx(F.div,{initial:{rotate:90},animate:{rotate:0},children:i.jsx(Jc,{className:"w-6 h-6"})},"msg")})}),i.jsx(gt,{children:t&&i.jsxs(i.Fragment,{children:[i.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>e(!1),className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40"}),i.jsxs(F.div,{initial:{opacity:0,y:100,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:100,scale:.8},className:"fixed bottom-36 lg:bottom-28 right-4 lg:right-8 w-[calc(100%-2rem)] sm:w-96 bg-white rounded-2xl shadow-2xl z-50 overflow-hidden max-h-[70vh] overflow-y-auto",children:[i.jsx("div",{className:"p-5 lg:p-6",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{background:`${w.gold}30`},children:i.jsx(Jc,{className:"w-6 h-6",style:{color:w.gold}})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-serif text-lg lg:text-xl text-white",children:"Need Help?"}),i.jsx("p",{className:"text-white/60 text-sm",children:"Choose how to reach us"})]})]})}),n==="options"&&i.jsxs("div",{className:"p-5 lg:p-6 space-y-4",children:[i.jsxs(F.a,{href:"https://wa.me/14642395280?text=Hello! I need assistance with my SaxoVault account.",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-4 p-4 bg-gradient-to-r from-green-50 to-green-100 rounded-xl hover:shadow-lg transition-all border border-green-200",children:[i.jsx("div",{className:"w-14 h-14 rounded-xl flex items-center justify-center bg-green-500 shadow-lg",children:i.jsx(Jc,{className:"w-7 h-7 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-semibold text-green-800 text-lg",children:"WhatsApp"}),i.jsx("p",{className:"text-sm text-green-600",children:"Chat instantly  24/7 Available"})]}),i.jsx(Cm,{className:"w-6 h-6 text-green-500"})]}),i.jsxs(F.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>s("ticket"),className:"w-full flex items-center gap-4 p-4 bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl hover:shadow-lg transition-all border border-blue-200",children:[i.jsx("div",{className:"w-14 h-14 rounded-xl flex items-center justify-center bg-blue-500 shadow-lg",children:i.jsx(sN,{className:"w-7 h-7 text-white"})}),i.jsxs("div",{className:"flex-1 text-left",children:[i.jsx("p",{className:"font-semibold text-blue-800 text-lg",children:"Submit a Ticket"}),i.jsx("p",{className:"text-sm text-blue-600",children:"Email support  Response within 24hrs"})]}),i.jsx(Cm,{className:"w-6 h-6 text-blue-500"})]}),i.jsx("div",{className:"pt-3 mt-2 border-t border-gray-100 text-center",children:i.jsxs("p",{className:"text-xs text-gray-400",children:["We typically respond within ",i.jsx("span",{className:"font-semibold text-gray-600",children:"5 minutes"})," on WhatsApp"]})})]}),n==="ticket"&&i.jsx("div",{className:"p-5 lg:p-6",children:o?i.jsxs(F.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center py-6",children:[i.jsx("div",{className:"w-16 h-16 mx-auto rounded-full flex items-center justify-center mb-4",style:{background:`${w.green}20`},children:i.jsx(Je,{className:"w-8 h-8",style:{color:w.green}})}),i.jsx("h4",{className:"font-semibold text-lg",style:{color:w.navy},children:"Ticket Submitted!"}),i.jsx("p",{className:"text-gray-500 text-sm mt-2 mb-4",children:"Your ticket ID is:"}),i.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-100 rounded-lg",children:[i.jsx("span",{className:"font-mono font-bold",style:{color:w.navy},children:u}),i.jsx("button",{onClick:()=>navigator.clipboard.writeText(u),children:i.jsx(ml,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})})]}),i.jsx("p",{className:"text-xs text-gray-400 mt-4",children:"We'll respond within 24 hours"})]}):i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>s("options"),className:"flex items-center gap-2 text-gray-500 hover:text-gray-700 mb-4",children:[i.jsx(Vl,{className:"w-4 h-4"})," Back"]}),i.jsx("h4",{className:"font-semibold mb-4",style:{color:w.navy},children:"Submit Support Ticket"}),i.jsxs("form",{onSubmit:p,className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Name *"}),i.jsx("input",{type:"text",value:r.name,onChange:x=>a({...r,name:x.target.value}),required:!0,className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Email *"}),i.jsx("input",{type:"email",value:r.email,onChange:x=>a({...r,email:x.target.value}),required:!0,className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Category *"}),i.jsxs("select",{value:r.category,onChange:x=>a({...r,category:x.target.value}),required:!0,className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[i.jsx("option",{value:"",children:"Select"}),i.jsx("option",{value:"investment",children:"Investment"}),i.jsx("option",{value:"withdrawal",children:"Withdrawal"}),i.jsx("option",{value:"deposit",children:"Deposit"}),i.jsx("option",{value:"account",children:"Account"}),i.jsx("option",{value:"kyc",children:"KYC"}),i.jsx("option",{value:"referral",children:"Referral"}),i.jsx("option",{value:"other",children:"Other"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Priority"}),i.jsxs("select",{value:r.priority,onChange:x=>a({...r,priority:x.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[i.jsx("option",{value:"low",children:"Low"}),i.jsx("option",{value:"medium",children:"Medium"}),i.jsx("option",{value:"high",children:"High"}),i.jsx("option",{value:"urgent",children:"Urgent"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Subject *"}),i.jsx("input",{type:"text",value:r.subject,onChange:x=>a({...r,subject:x.target.value}),required:!0,className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Brief description of your issue"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Message *"}),i.jsx("textarea",{value:r.message,onChange:x=>a({...r,message:x.target.value}),rows:4,required:!0,className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 resize-none",placeholder:"Please describe your issue in detail..."})]}),i.jsxs(F.button,{type:"submit",disabled:f,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 rounded-lg text-white font-medium flex items-center justify-center gap-2 disabled:opacity-70",style:{background:`linear-gradient(135deg, ${w.green} 0%, ${w.greenDark} 100%)`},children:[f?i.jsx(xn,{className:"w-4 h-4 animate-spin"}):i.jsx($o,{className:"w-4 h-4"}),f?"Submitting...":"Submit Ticket"]})]})]})})]})]})})]})}function x6({onViewDocument:t}){const[e,n]=R.useState(!1),s=[{title:"White Paper",desc:"Investment philosophy, technology infrastructure, and growth roadmap",icon:zu,pages:"42 pages",color:w.gold},{title:"Terms of Service",desc:"Platform usage terms, account management, and service agreements",icon:aa,pages:"28 pages",color:"#3b82f6"},{title:"Privacy Policy",desc:"Data collection, protection, GDPR & CCPA compliance procedures",icon:cr,pages:"18 pages",color:"#10b981"},{title:"Risk Disclosure",desc:"Investment risks, market volatility, and important warnings",icon:lr,pages:"24 pages",color:"#ef4444"},{title:"AML/KYC Policy",desc:"Anti-Money Laundering and identity verification procedures",icon:vr,pages:"16 pages",color:"#8b5cf6"},{title:"Investment Guide",desc:"Portfolio strategies, asset allocation, and payout structures",icon:R4,pages:"32 pages",color:"#f59e0b"},{title:"Fee Schedule",desc:"Complete breakdown of all fees, charges, and commissions",icon:Am,pages:"8 pages",color:"#06b6d4"},{title:"FAQ & Support",desc:"Frequently asked questions and comprehensive support guide",icon:N4,pages:"36 pages",color:"#ec4899"}];return i.jsxs(F.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"bg-white/5 backdrop-blur-md rounded-2xl lg:rounded-3xl border border-white/10 overflow-hidden",children:[i.jsxs(F.button,{onClick:()=>n(!e),className:"w-full p-5 lg:p-6 flex items-center justify-between hover:bg-white/5 transition-all",whileTap:{scale:.99},children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(F.div,{animate:{rotateY:e?180:0},transition:{duration:.3},className:"w-14 h-14 lg:w-16 lg:h-16 rounded-2xl flex items-center justify-center",style:{background:`linear-gradient(135deg, ${w.gold}40 0%, ${w.gold}20 100%)`},children:i.jsx(zu,{className:"w-7 h-7 lg:w-8 lg:h-8",style:{color:w.gold}})}),i.jsxs("div",{className:"text-left",children:[i.jsx("h3",{className:"font-serif text-lg lg:text-xl text-white mb-1",children:"Legal Documents & Policies"}),i.jsxs("p",{className:"text-white/50 text-sm",children:[s.length," documents available"]})]})]}),i.jsx(F.div,{animate:{rotate:e?180:0},transition:{duration:.3},className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center",children:i.jsx(G2,{className:"w-5 h-5 text-white/70"})})]}),i.jsx(gt,{children:e&&i.jsx(F.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},children:i.jsxs("div",{className:"px-4 lg:px-6 pb-5 lg:pb-6",children:[i.jsx("div",{className:"h-px bg-white/10 mb-4"}),i.jsx("div",{className:"space-y-2",children:s.map((r,a)=>i.jsxs(F.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:a*.05},onClick:()=>t(r.title),className:"w-full flex items-center gap-4 p-3 lg:p-4 rounded-xl hover:bg-white/10 transition-all group text-left",children:[i.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 rounded-xl flex items-center justify-center flex-shrink-0",style:{background:`${r.color}20`},children:i.jsx(r.icon,{className:"w-5 h-5 lg:w-6 lg:h-6",style:{color:r.color}})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[i.jsx("h4",{className:"font-medium text-white group-hover:text-yellow-400 transition-colors text-sm lg:text-base",children:r.title}),i.jsx("span",{className:"px-2 py-0.5 rounded-full bg-white/10 text-white/50 text-xs hidden sm:inline",children:"PDF"})]}),i.jsx("p",{className:"text-white/40 text-xs lg:text-sm truncate",children:r.desc})]}),i.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[i.jsx("span",{className:"text-white/30 text-xs hidden sm:inline",children:r.pages}),i.jsx("div",{className:"w-8 h-8 rounded-full bg-white/5 flex items-center justify-center group-hover:bg-white/10 transition-all",children:i.jsx(Bu,{className:"w-4 h-4 text-white/50 group-hover:text-yellow-400 transition-colors"})})]})]},a))}),i.jsx("div",{className:"mt-4 pt-4 border-t border-white/10",children:i.jsx("p",{className:"text-white/40 text-xs text-center",children:"All documents are available for viewing. Click any document to read the full content."})})]})})})]})}function v6({onNavigate:t,onSelectInvestment:e}){const[n,s]=R.useState(null),r=JSON.parse(localStorage.getItem("saxovault_investments")||"null")||Xl,a=o=>{s(o)};return i.jsxs("div",{className:"min-h-screen",style:{background:w.cream},children:[i.jsx(gt,{children:n&&i.jsx(j6,{document:n,onClose:()=>s(null)})}),i.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[i.jsxs("div",{className:"absolute inset-0",children:[i.jsx("img",{src:Fe.hero,alt:"",className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute inset-0",style:{background:`linear-gradient(135deg, ${w.navy}ee 0%, ${w.navyLight}dd 50%, ${w.navy}ee 100%)`}})]}),i.jsx("div",{className:"relative z-10 max-w-6xl mx-auto px-4 lg:px-6 text-center pt-24 lg:pt-20",children:i.jsxs(F.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[i.jsxs("div",{className:"inline-flex items-center gap-2 px-4 lg:px-6 py-2 lg:py-3 rounded-full bg-white/10 backdrop-blur-md border border-white/20 mb-6 lg:mb-8",children:[i.jsx(Q2,{className:"w-4 h-4 lg:w-5 lg:h-5",style:{color:w.gold}}),i.jsx("span",{style:{color:w.gold},className:"text-xs lg:text-sm tracking-wide",children:"Institutional-Grade Investment Platform"})]}),i.jsxs("h1",{className:"font-serif text-4xl sm:text-5xl lg:text-7xl text-white mb-4 lg:mb-6 leading-tight",children:["Your Gateway to",i.jsx("br",{}),i.jsx("span",{style:{color:w.gold},children:"Diversified Investments"})]}),i.jsx("p",{className:"text-base lg:text-xl text-white/80 mb-3 lg:mb-4 max-w-3xl mx-auto px-4",children:"Access curated Real Estate, Cryptocurrency, Stock & Bond Portfolios, and Precious Metals."}),i.jsx("p",{className:"text-white/60 mb-8 lg:mb-12 text-sm lg:text-base",children:"All with clear targets, defined timelines, and professional management."}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 lg:gap-4 justify-center px-4",children:[i.jsxs(F.button,{onClick:()=>t("investments"),whileHover:{scale:1.05},whileTap:{scale:.98},className:"px-8 lg:px-10 py-3.5 lg:py-4 rounded-xl text-white font-semibold text-base lg:text-lg shadow-2xl flex items-center justify-center gap-3",style:{background:`linear-gradient(135deg, ${w.gold} 0%, ${w.goldDark} 100%)`},children:["Explore Opportunities ",i.jsx(Bu,{className:"w-5 h-5"})]}),i.jsxs(F.button,{onClick:()=>t("referral"),whileHover:{scale:1.05},whileTap:{scale:.98},className:"px-8 lg:px-10 py-3.5 lg:py-4 rounded-xl font-semibold text-base lg:text-lg border-2 border-white/30 text-white hover:bg-white/10 flex items-center justify-center gap-3",children:[i.jsx(Ll,{className:"w-5 h-5"})," Referral Program"]})]})]})})]}),i.jsx("section",{className:"py-16 lg:py-20 px-4 lg:px-6",style:{background:w.cream},children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-12 lg:mb-16",children:[i.jsx("h2",{className:"font-serif text-3xl lg:text-4xl mb-3 lg:mb-4",style:{color:w.navy},children:"Investment Verticals"}),i.jsx("p",{className:"text-gray-600 text-sm lg:text-base",children:"Four distinct pathways to building wealth."})]}),i.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:[{title:"Real Estate",desc:"Development funding & income properties",icon:bg,color:"#3b82f6",img:Fe.realEstate1},{title:"Cryptocurrency",desc:"Managed crypto portfolios",icon:q2,color:"#f59e0b",img:Fe.crypto1},{title:"Stocks & Bonds",desc:"Curated market portfolios",icon:W2,color:"#10b981",img:Fe.stocks1},{title:"Precious Metals",desc:"Gold, silver & platinum",icon:X2,color:"#D4AF37",img:Fe.gold1}].map((o,l)=>i.jsxs(F.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:l*.1},whileHover:{y:-5},onClick:()=>t("investments"),className:"group cursor-pointer bg-white rounded-xl lg:rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all",children:[i.jsxs("div",{className:"relative h-28 lg:h-48 overflow-hidden",children:[i.jsx("img",{src:o.img,alt:o.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),i.jsx("div",{className:"absolute inset-0",style:{background:`linear-gradient(to top, ${o.color}cc, transparent)`}}),i.jsx("div",{className:"absolute top-2 lg:top-4 left-2 lg:left-4 w-8 h-8 lg:w-12 lg:h-12 rounded-lg lg:rounded-xl bg-white/20 backdrop-blur flex items-center justify-center",children:i.jsx(o.icon,{className:"w-4 h-4 lg:w-6 lg:h-6 text-white"})})]}),i.jsxs("div",{className:"p-3 lg:p-6",children:[i.jsx("h3",{className:"font-serif text-sm lg:text-xl mb-1 lg:mb-2",style:{color:w.navy},children:o.title}),i.jsx("p",{className:"text-gray-600 text-xs lg:text-sm hidden sm:block",children:o.desc})]})]},l))})]})}),i.jsx("section",{className:"py-16 lg:py-20 px-4 lg:px-6 bg-white",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8 lg:mb-12",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-2xl lg:text-4xl mb-1 lg:mb-2",style:{color:w.navy},children:"Featured Opportunities"}),i.jsx("p",{className:"text-gray-600 text-sm lg:text-base",children:"Top-performing investments"})]}),i.jsxs(F.button,{onClick:()=>t("investments"),whileHover:{scale:1.05},className:"px-4 lg:px-6 py-2 lg:py-3 rounded-xl font-medium text-sm flex items-center gap-2",style:{background:`${w.navy}10`,color:w.navy},children:["View All ",i.jsx(Bu,{className:"w-4 h-4"})]})]}),i.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6",children:r.slice(0,6).map((o,l)=>i.jsxs(F.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:l*.1},onClick:()=>e(o),className:"bg-white rounded-xl lg:rounded-2xl border border-gray-100 overflow-hidden hover:shadow-xl transition-all cursor-pointer group",children:[i.jsxs("div",{className:"relative h-36 lg:h-48",children:[i.jsx("img",{src:o.img,alt:o.name,className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),i.jsx("div",{className:"absolute top-3 right-3 px-2 py-1 rounded-full text-xs font-medium text-white",style:{background:o.status==="Active"?w.green:w.gold},children:o.status}),i.jsxs("div",{className:"absolute bottom-3 left-3",children:[i.jsx("p",{className:"text-white/80 text-xs",children:o.category}),i.jsx("h3",{className:"font-serif text-base lg:text-xl text-white",children:o.name})]})]}),i.jsxs("div",{className:"p-4 lg:p-5",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xl lg:text-2xl font-bold",style:{color:w.green},children:o.returns}),i.jsx("p",{className:"text-xs text-gray-500",children:"Target Return"})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-base lg:text-lg font-bold",style:{color:w.navy},children:["$",o.min.toLocaleString()]}),i.jsx("p",{className:"text-xs text-gray-500",children:"Min Investment"})]})]}),o.progress&&i.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full rounded-full",style:{width:`${o.progress}%`,background:`linear-gradient(90deg, ${w.green} 0%, ${w.gold} 100%)`}})})]})]},o.id))})]})}),i.jsx("section",{className:"py-16 lg:py-20 px-4 lg:px-6",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-8 lg:mb-10",children:[i.jsxs(F.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/10 backdrop-blur mb-4",children:[i.jsx(zu,{className:"w-4 h-4",style:{color:w.gold}}),i.jsx("span",{style:{color:w.gold},className:"text-sm",children:"Legal & Compliance"})]}),i.jsx("h2",{className:"font-serif text-3xl lg:text-4xl text-white mb-3",children:"Required Documents"}),i.jsx("p",{className:"text-white/60 max-w-2xl mx-auto text-sm lg:text-base",children:"Transparency is at the core of our operations. Review our comprehensive documentation below."})]}),i.jsx(x6,{onViewDocument:a})]})}),i.jsx("footer",{className:"py-8 lg:py-12 px-4 lg:px-6",style:{background:w.navy},children:i.jsx("div",{className:"max-w-7xl mx-auto",children:i.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8",children:i.jsxs("svg",{viewBox:"0 0 50 55",className:"w-full h-full",children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"footerGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#d4a853"}),i.jsx("stop",{offset:"50%",stopColor:"#f4d078"}),i.jsx("stop",{offset:"100%",stopColor:"#d4a853"})]})}),i.jsx("path",{d:"M25 0 L50 8 L50 30 C50 42 38 50 25 55 C12 50 0 42 0 30 L0 8 Z",fill:"rgba(255,255,255,0.1)"}),i.jsx("path",{d:"M25 5 L45 12 L45 29 C45 39 35 46 25 50 C15 46 5 39 5 29 L5 12 Z",fill:"none",stroke:"url(#footerGold)",strokeWidth:"1.5"}),i.jsx("text",{x:"25",y:"35",fontFamily:"Georgia, serif",fontSize:"24",fontWeight:"bold",fill:"url(#footerGold)",textAnchor:"middle",children:"S"})]})}),i.jsxs("div",{className:"flex items-baseline gap-1",children:[i.jsx("span",{className:"font-serif text-white text-sm lg:text-base",children:"SAXO"}),i.jsx("span",{className:"font-serif text-sm lg:text-base",style:{color:w.gold},children:"VAULT"})]})]}),i.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 lg:gap-6 text-white/60 text-xs lg:text-sm",children:[i.jsx("span",{children:" 2024 SaxoVault Capital"}),i.jsx("span",{children:"Privacy Policy"}),i.jsx("span",{children:"Terms of Service"})]})]})})})]})}function w6({onSelectInvestment:t}){const[e,n]=R.useState("all"),[s,r]=R.useState(""),[a,o]=R.useState("grid"),u=(JSON.parse(localStorage.getItem("saxovault_investments")||"null")||Xl).filter(d=>(e==="all"||d.type===e)&&d.name.toLowerCase().includes(s.toLowerCase()));return i.jsx("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:w.cream},children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-6",children:[i.jsxs("div",{className:"mb-6 lg:mb-8",children:[i.jsx("h1",{className:"font-serif text-2xl lg:text-3xl mb-1",style:{color:w.navy},children:"Investment Opportunities"}),i.jsx("p",{className:"text-gray-500 text-sm",children:"Explore our curated selection across multiple asset classes."})]}),i.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-6",children:i.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(wv,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",value:s,onChange:d=>r(d.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Search investments..."})]}),i.jsx("div",{className:"flex gap-2 overflow-x-auto",children:h6.map(d=>i.jsxs("button",{onClick:()=>n(d.id),className:`flex items-center gap-1.5 px-3 py-2 rounded-lg whitespace-nowrap text-sm transition-all ${e===d.id?"text-white shadow":"bg-gray-50 text-gray-600 hover:bg-gray-100"}`,style:e===d.id?{background:w.navy}:{},children:[i.jsx(d.icon,{className:"w-4 h-4"}),d.name]},d.id))})]})}),i.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:[u.length," investments found"]}),i.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6",children:u.map((d,f)=>{var h,p;return i.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:f*.03},onClick:()=>t(d),className:"bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-xl transition-all cursor-pointer border border-gray-100 group",children:[i.jsxs("div",{className:"relative h-44 lg:h-48",children:[i.jsx("img",{src:d.img||d.customImg,alt:d.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent"}),i.jsx("div",{className:"absolute top-3 right-3",children:i.jsx("span",{className:"px-2.5 py-1 rounded-full text-xs font-medium text-white backdrop-blur-sm",style:{background:d.status==="Active"?"rgba(16,185,129,0.9)":d.status==="Open"?"rgba(10,22,40,0.9)":"rgba(212,175,55,0.9)"},children:d.status})}),i.jsxs("div",{className:"absolute bottom-3 left-4 right-4",children:[i.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide mb-1",children:d.category}),i.jsx("h3",{className:"font-serif text-white text-xl leading-tight",children:d.name})]})]}),i.jsxs("div",{className:"p-5",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b border-gray-100",children:[i.jsxs("div",{className:"text-center flex-1",children:[i.jsx("p",{className:"text-base font-bold",style:{color:w.green},children:d.returns}),i.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:"Returns"})]}),i.jsx("div",{className:"w-px h-10 bg-gray-100"}),i.jsxs("div",{className:"text-center flex-1",children:[i.jsx("p",{className:"text-base font-bold",style:{color:w.navy},children:d.min>=1e3?`$${(d.min/1e3).toFixed(d.min%1e3===0?0:1)}K`:`$${d.min}`}),i.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:"Minimum"})]}),i.jsx("div",{className:"w-px h-10 bg-gray-100"}),i.jsxs("div",{className:"text-center flex-1",children:[i.jsx("p",{className:"text-base font-bold",style:{color:w.gold},children:((h=d.term)==null?void 0:h.split(" ")[0])||"12"}),i.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:(p=d.term)!=null&&p.includes("day")?"Days":"Months"})]})]}),i.jsx("p",{className:"text-sm text-gray-500 mb-4 line-clamp-2",children:d.desc||"Premium investment opportunity with professional management and strong projected returns."}),d.progress!==void 0&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex justify-between text-xs mb-1.5",children:[i.jsxs("span",{className:"text-gray-600 font-medium",children:[d.progress,"% funded"]}),i.jsxs("span",{className:"text-gray-400",children:["$",(d.progress/100*(d.goal||1e6)/1e3).toFixed(0),"K raised"]})]}),i.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:i.jsx(F.div,{initial:{width:0},animate:{width:`${d.progress}%`},transition:{duration:1,delay:f*.1},className:"h-full rounded-full",style:{background:`linear-gradient(90deg, ${w.green}, ${w.gold})`}})})]}),i.jsxs("button",{className:"w-full py-3 rounded-xl text-sm font-semibold text-white transition-all hover:shadow-lg group-hover:scale-[1.02]",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:["View Details",i.jsx(Cm,{className:"w-4 h-4 inline ml-1"})]})]})]},d.id)})}),u.length===0&&i.jsxs("div",{className:"text-center py-16",children:[i.jsx(wv,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500",children:"No investments found matching your criteria."})]})]})})}function b6({investment:t,onClose:e,onInvest:n}){var s,r,a;return t?i.jsxs(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-white z-50 overflow-y-auto",children:[i.jsx("div",{className:"sticky top-0 bg-white/95 backdrop-blur-sm border-b border-gray-100 z-10",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-3 flex items-center justify-between",children:[i.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[i.jsx(Vl,{className:"w-5 h-5"})," Back"]}),i.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium text-white",style:{background:t.status==="Active"?w.green:w.gold},children:t.status})]})}),i.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[i.jsxs("div",{className:"relative h-48 lg:h-64 rounded-2xl overflow-hidden mb-6",children:[i.jsx("img",{src:t.img||t.customImg,alt:t.name,className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"}),i.jsxs("div",{className:"absolute bottom-4 left-4",children:[i.jsx("span",{className:"px-2 py-1 rounded bg-white/20 backdrop-blur text-white text-xs mb-2 inline-block",children:t.category}),i.jsx("h1",{className:"font-serif text-2xl lg:text-3xl text-white",children:t.name})]})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[i.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 text-center",children:[i.jsx("p",{className:"text-xl lg:text-2xl font-bold",style:{color:w.green},children:t.returns}),i.jsx("p",{className:"text-xs text-gray-500",children:"Returns"})]}),i.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 text-center",children:[i.jsx("p",{className:"text-xl lg:text-2xl font-bold",style:{color:w.navy},children:t.min>=1e3?`$${t.min/1e3}K`:`$${t.min}`}),i.jsx("p",{className:"text-xs text-gray-500",children:"Min"})]}),i.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 text-center",children:[i.jsx("p",{className:"text-xl lg:text-2xl font-bold",style:{color:w.gold},children:((s=t.term)==null?void 0:s.split(" ")[0])||"12"}),i.jsx("p",{className:"text-xs text-gray-500",children:(r=t.term)!=null&&r.includes("month")?"Months":"Term"})]}),i.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 text-center",children:[i.jsx("p",{className:"text-xl lg:text-2xl font-bold text-gray-700",children:t.investors||"50+"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Investors"})]})]}),t.progress!==void 0&&i.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-6",children:[i.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[i.jsx("span",{className:"font-medium",style:{color:w.navy},children:"Funding Progress"}),i.jsxs("span",{className:"font-bold",children:[t.progress,"%"]})]}),i.jsx("div",{className:"h-3 bg-gray-200 rounded-full overflow-hidden mb-2",children:i.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${t.progress}%`,background:`linear-gradient(90deg, ${w.green}, ${w.gold})`}})}),i.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[i.jsxs("span",{children:["$",(t.progress/100*(t.goal||1e6)).toLocaleString()," raised"]}),i.jsxs("span",{children:["Goal: $",(t.goal||1e6).toLocaleString()]})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"font-semibold text-lg mb-2",style:{color:w.navy},children:"About This Investment"}),i.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:t.desc||"A premium investment opportunity with strong projected returns and professional management. This carefully vetted opportunity offers investors exposure to a high-growth sector with risk-managed strategies."})]}),t.features&&t.features.length>0&&i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"font-semibold text-lg mb-3",style:{color:w.navy},children:"Key Features"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:t.features.map((o,l)=>i.jsxs("div",{className:"flex items-center gap-2 p-2.5 bg-gray-50 rounded-lg",children:[i.jsx(kn,{className:"w-4 h-4 text-green-600 flex-shrink-0"}),i.jsx("span",{className:"text-sm text-gray-700",children:o})]},l))})]}),i.jsx("div",{className:"mb-6",children:i.jsx($T,{})}),i.jsxs("div",{className:"sticky bottom-0 bg-white pt-4 pb-6 -mx-4 px-4 border-t border-gray-100 lg:relative lg:border-0 lg:pt-0 lg:pb-0 lg:mx-0 lg:px-0",children:[i.jsxs(F.button,{onClick:n,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-4 rounded-xl text-white font-semibold text-lg shadow-xl",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:["Invest Now - Min $",(a=t.min)==null?void 0:a.toLocaleString()]}),i.jsx("p",{className:"text-center text-xs text-gray-400 mt-2",children:"Secure  Instant Confirmation  24/7 Support"})]})]})]}):null}function _6({investment:t,onClose:e,balance:n}){const[s,r]=R.useState(1),[a,o]=R.useState(t.min),[l,u]=R.useState("BTC"),[d,f]=R.useState(1800),[h,p]=R.useState(!1),[x,S]=R.useState(!1),[_,I]=R.useState(!1),T=JSON.parse(localStorage.getItem("saxovault_current_user")||"{}");R.useEffect(()=>{if(t.isTestPlan&&t.onePerUser){const Q=JSON.parse(localStorage.getItem(`investments_${T.uid}`)||"[]"),ae=se.getTransactions().filter(pe=>pe.userId===T.uid),me=Q.some(pe=>pe.investmentId===100||pe.investmentName==="Test Plan")||ae.some(pe=>pe.investmentId===100||pe.investmentName==="Test Plan");S(me)}},[t,T.uid]);const b=JSON.parse(localStorage.getItem("saxovault_settings")||"{}").wallets||{BTC:"bc1qzmgg6hw0fttfpczh2whp8f44k497d6pucghk58",ETH:"0x83057882eC7B7EE0cBe63C2fE2b8957e7ab69655",USDT:"TLGH9FucAuPNUoQw2XUFEDtCg4FFdJ2jKG"},D=[{id:"BTC",name:"Bitcoin",icon:"",color:"#f7931a"},{id:"ETH",name:"Ethereum",icon:"",color:"#627eea"},{id:"USDT",name:"USDT (TRC-20)",icon:"",color:"#26a17b"}],U=(()=>{if(t.dailyRate&&t.totalDays)return t.dailyRate/100*t.totalDays;const ae=(t.returns||"12%").match(/(\d+)/);return ae?parseFloat(ae[1])/100:.12})(),k=t.dailyRate?a*t.dailyRate/100:a*U/(t.totalDays||30),N=a*U,E=a+N;R.useEffect(()=>{if(s===2&&d>0){const Q=setInterval(()=>f(ae=>ae-1),1e3);return()=>clearInterval(Q)}},[s,d]);const C=Q=>{const ae=Math.floor(Q/60),me=Q%60;return`${ae.toString().padStart(2,"0")}:${me.toString().padStart(2,"0")}`},P=Q=>{navigator.clipboard.writeText(Q),p(!0),setTimeout(()=>p(!1),2e3)},V=()=>{const Q=b[l],ae=parseFloat(a),me=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),pe=/iPhone|iPad|iPod/i.test(navigator.userAgent);navigator.clipboard.writeText(Q).then(()=>{console.log(" Address copied to clipboard")}).catch(ne=>{console.error("Could not copy address:",ne)});let O=l,q="";if(l==="BTC"?(O="Bitcoin",q="Open your Bitcoin wallet (Coinbase, Trust Wallet, Cash App, etc.)"):l==="ETH"?(O="Ethereum",q="Open your Ethereum wallet (MetaMask, Trust Wallet, Coinbase, etc.)"):l==="USDT"&&(O="USDT TRC-20",q="Open your USDT wallet (Trust Wallet, TronLink, Binance, etc.)"),pe){alert(` Send ${O}

 Address copied to clipboard!

Steps:
1. ${q}
2. Tap "Send" or "Transfer"
3. Paste the address (long-press  Paste)
4. Enter amount: $${ae.toLocaleString()} USD
5. Confirm and send

Address:
${Q.substring(0,25)}...`);return}if(me&&!pe){let ne=null;if(l==="BTC"){const ie=(ae/95e3).toFixed(8);ne=`bitcoin:${Q}?amount=${ie}`}else if(l==="ETH"){const ie=(ae/3500).toFixed(8);ne=`ethereum:${Q}?value=${ie}`}else l==="USDT"&&(ne=`trust://send?asset=trc20_TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t&address=${Q}&amount=${ae}`);ne&&(window.location.href=ne,setTimeout(()=>{alert(`If your wallet didn't open:

 Address copied to clipboard!

1. ${q}
2. Tap "Send"
3. Paste the address
4. Amount: $${ae.toLocaleString()} USD

Address: ${Q.substring(0,20)}...`)},2e3));return}alert(` Send ${O}

 Address copied to clipboard!

Steps:
1. ${q}
2. Click "Send"
3. Paste the address (Ctrl+V / Cmd+V)
4. Enter amount: $${ae.toLocaleString()} USD
5. Confirm and send

Address:
${Q}`)},A=async()=>{var Q;console.log(" Starting investment submission..."),I(!0);try{const ae=JSON.parse(localStorage.getItem("saxovault_current_user")||"{}");if(!ae.email||!ae.uid){alert("Please login to continue"),I(!1);return}const me=(Q=t.term)==null?void 0:Q.match(/(\d+)/);let pe=t.totalDays||30;if(me){const K=parseInt(me[1]);t.term.includes("month")?pe=K*30:t.term.includes("day")?pe=K:t.term.includes("year")&&(pe=K*365)}const O=new Date;O.setDate(O.getDate()+pe);const q={type:"investment",investmentId:t.id,investmentName:t.name,category:t.category,amount:parseFloat(a),crypto:l,walletAddress:b[l],returnRate:(U*100).toFixed(1)+"%",dailyRate:t.dailyRate||U*100/pe,dailyProfit:parseFloat(k.toFixed(2)),expectedReturn:parseFloat(N.toFixed(2)),totalReturn:parseFloat(E.toFixed(2)),term:t.term,totalDays:pe,maturityDate:O.toISOString(),userEmail:ae.email,userId:ae.uid,userName:ae.name||"User",isTestPlan:t.isTestPlan||!1,payoutSchedule:t.payoutSchedule||"End of Term",approvalDate:null,countdownStarted:!1};console.log(" Investment data:",q);const ne=await se.addTransaction(q);console.log(" Investment saved to storage:",ne);const ie=JSON.parse(localStorage.getItem(`investments_${ae.uid}`)||"[]");ie.push({...q,id:ne.id,firestoreId:ne.firestoreId,status:"pending",createdAt:new Date().toISOString()}),localStorage.setItem(`investments_${ae.uid}`,JSON.stringify(ie)),console.log(" Sending email notifications..."),Te.sendInvestmentNotification(ae.email,t.name,a,t.term).then(K=>{console.log(" Investment email sent:",K)}).catch(K=>{console.error(" Investment email failed:",K)}),se.logActivity(ae.uid,"investment_request",{investment:t.name,amount:a,crypto:l,expectedReturn:N,dailyProfit:k}),console.log(" Investment submission complete!"),I(!1),r(3)}catch(ae){console.error(" Investment submission error:",ae),alert("Error submitting investment. Please try again. Error: "+ae.message),I(!1)}};return i.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-end lg:items-center justify-center p-0 lg:p-4",onClick:e,children:i.jsx(F.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"tween"},className:"bg-white rounded-t-3xl lg:rounded-3xl w-full lg:max-w-lg shadow-2xl max-h-[90vh] overflow-y-auto",onClick:Q=>Q.stopPropagation(),children:i.jsxs("div",{className:"p-5 lg:p-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl",style:{color:w.navy},children:s===1?"Investment Amount":s===2?"Make Payment":" Pending Approval"}),i.jsx("p",{className:"text-sm text-gray-500",children:t.name})]}),i.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:i.jsx(tn,{className:"w-5 h-5"})})]}),s===1&&i.jsxs("div",{children:[t.isTestPlan&&x&&i.jsxs("div",{className:"mb-4 p-4 rounded-xl bg-red-50 border border-red-200",children:[i.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[i.jsx(ia,{className:"w-5 h-5"}),i.jsx("span",{className:"font-medium",children:"One Per Account"})]}),i.jsx("p",{className:"text-red-600 text-sm mt-1",children:"You have already invested in the Test Plan. This plan is limited to one investment per account."})]}),t.isTestPlan&&!x&&i.jsxs("div",{className:"mb-4 p-4 rounded-xl bg-green-50 border border-green-200",children:[i.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[i.jsx(Je,{className:"w-5 h-5"}),i.jsx("span",{className:"font-medium",children:"Test Plan - Perfect for Beginners!"})]}),i.jsx("p",{className:"text-green-600 text-sm mt-1",children:"Earn 1% daily for 5 days. Fixed $500 investment. One per account."})]}),i.jsx("label",{className:"block font-medium text-gray-700 mb-2 text-sm",children:"Investment Amount (USD)"}),i.jsxs("div",{className:"relative mb-4",children:[i.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-2xl font-bold text-gray-400",children:"$"}),i.jsx("input",{type:"number",value:t.isTestPlan?t.min:a,onChange:Q=>!t.isTestPlan&&o(Math.max(t.min,Math.min(t.max||1e6,+Q.target.value))),className:"w-full pl-12 pr-4 py-4 text-2xl font-bold border-2 rounded-xl text-center focus:outline-none",style:{borderColor:w.gold},readOnly:t.isTestPlan})]}),i.jsx("p",{className:"text-xs text-gray-500 mb-4",children:t.isTestPlan?"Fixed amount: $500":`Minimum: $${t.min.toLocaleString()}`}),!t.isTestPlan&&i.jsx("div",{className:"flex gap-2 mb-6",children:[1,2,5,10].map(Q=>{const ae=t.min*Q,me=ae>=1e3?`$${ae/1e3}K`:`$${ae}`;return i.jsx("button",{onClick:()=>o(ae),className:`flex-1 py-2.5 rounded-xl text-sm font-medium border-2 transition-all ${a===ae?"text-white":"border-gray-200"}`,style:a===ae?{background:w.navy,borderColor:w.navy}:{},children:me},Q)})}),i.jsx("label",{className:"block font-medium text-gray-700 mb-2 text-sm",children:"Select Cryptocurrency"}),i.jsx("div",{className:"space-y-2 mb-6",children:D.map(Q=>i.jsxs("button",{onClick:()=>u(Q.id),className:`w-full flex items-center gap-3 p-4 rounded-xl border-2 transition-all ${l===Q.id?"shadow-lg":"border-gray-200"}`,style:l===Q.id?{borderColor:Q.color,background:`${Q.color}10`}:{},children:[i.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center text-white text-xl font-bold",style:{background:Q.color},children:Q.icon}),i.jsx("div",{className:"text-left flex-1",children:i.jsx("p",{className:"font-semibold",style:{color:w.navy},children:Q.name})}),l===Q.id&&i.jsx(Je,{className:"w-5 h-5",style:{color:Q.color}})]},Q.id))}),i.jsxs("div",{className:"p-4 rounded-2xl mb-4",style:{background:`${w.green}10`},children:[t.dailyRate&&i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-gray-600 text-sm",children:"Daily Profit"}),i.jsxs("span",{className:"font-bold",style:{color:w.green},children:[t.dailyRate,"% ($",k.toLocaleString(void 0,{maximumFractionDigits:2}),"/day)"]})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-gray-600 text-sm",children:"Duration"}),i.jsx("span",{className:"font-bold",style:{color:w.navy},children:t.term})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-gray-600 text-sm",children:"Total Profit"}),i.jsxs("span",{className:"font-bold",style:{color:w.green},children:["+$",N.toLocaleString(void 0,{maximumFractionDigits:2})]})]}),i.jsxs("div",{className:"flex justify-between border-t border-green-200 pt-2 mt-2",children:[i.jsx("span",{className:"text-gray-600 text-sm",children:"Total Payout"}),i.jsxs("span",{className:"font-bold text-lg",style:{color:w.navy},children:["$",(a+N).toLocaleString(void 0,{maximumFractionDigits:2})]})]})]}),i.jsx($T,{}),i.jsx(F.button,{onClick:()=>r(2),whileHover:{scale:1.02},whileTap:{scale:.98},disabled:t.isTestPlan&&x,className:"w-full py-4 rounded-xl text-white font-semibold mt-4 disabled:opacity-50 disabled:cursor-not-allowed",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:t.isTestPlan&&x?"Already Invested in Test Plan":"Continue to Payment"})]}),s===2&&i.jsxs("div",{children:[i.jsxs("div",{className:"text-center mb-6 p-4 rounded-2xl",style:{background:d<300?"#fef2f2":`${w.gold}10`},children:[i.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Payment expires in"}),i.jsxs("p",{className:`text-3xl font-mono font-bold ${d<300?"text-red-500":""}`,style:{color:d>=300?w.navy:void 0},children:[i.jsx(rN,{className:"w-6 h-6 inline mr-2"}),C(d)]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4 mb-4",children:[i.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Amount to invest"}),i.jsxs("p",{className:"text-2xl font-bold",style:{color:w.navy},children:["$",a.toLocaleString()," USD"]}),i.jsxs("p",{className:"text-sm text-gray-500",children:["Pay equivalent in ",l]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["Send ",l," to this address:"]}),i.jsxs("div",{className:"bg-gray-900 rounded-xl p-4",children:[i.jsxs("p",{className:"text-xs text-gray-400 mb-2 text-center",children:[l," Wallet Address"]}),i.jsx("p",{className:"font-mono text-sm text-white break-all text-center mb-3",children:b[l]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(F.button,{onClick:()=>P(b[l]),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 py-2.5 rounded-lg text-sm font-medium flex items-center justify-center gap-2",style:{background:h?w.green:w.gold,color:"white"},children:h?i.jsxs(i.Fragment,{children:[i.jsx(Je,{className:"w-4 h-4"})," Copied!"]}):i.jsxs(i.Fragment,{children:[i.jsx(ml,{className:"w-4 h-4"})," Copy Address"]})}),i.jsxs(F.button,{onClick:V,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 py-2.5 rounded-lg text-sm font-medium flex items-center justify-center gap-2 bg-blue-500 text-white",children:[i.jsx(_4,{className:"w-4 h-4"})," Open Wallet"]})]})]})]}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:"w-32 h-32 bg-gray-100 rounded-xl flex items-center justify-center",children:i.jsx(A4,{className:"w-16 h-16 text-gray-400"})})}),i.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-3 mb-4",children:i.jsxs("p",{className:"text-xs text-yellow-800",children:[" Only send ",l," to this address. Sending any other cryptocurrency may result in permanent loss."]})}),i.jsx(F.button,{onClick:A,whileHover:{scale:_?1:1.02},whileTap:{scale:_?1:.98},disabled:_,className:"w-full py-4 rounded-xl text-white font-semibold flex items-center justify-center gap-2 disabled:opacity-70",style:{background:`linear-gradient(135deg, ${w.green} 0%, ${w.greenDark} 100%)`},children:_?i.jsxs(i.Fragment,{children:[i.jsx(xn,{className:"w-5 h-5 animate-spin"}),"Processing..."]}):"I've Made the Payment"})]}),s===3&&i.jsxs("div",{className:"text-center py-6",children:[i.jsx(F.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring"},className:"w-20 h-20 mx-auto rounded-full flex items-center justify-center mb-4",style:{background:`${w.gold}20`},children:i.jsx(wa,{className:"w-10 h-10",style:{color:w.gold}})}),i.jsx("h3",{className:"font-serif text-xl mb-2",style:{color:w.navy},children:"Investment Pending"}),i.jsxs("p",{className:"text-gray-500 text-sm mb-6",children:["Your investment of ",i.jsxs("strong",{children:["$",a.toLocaleString()]})," in ",i.jsx("strong",{children:t.name})," is being reviewed."]}),i.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4 text-left space-y-3 mb-6",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-500",children:"Status"}),i.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 rounded-full text-xs font-medium",children:" Pending Approval"})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-500",children:"Amount"}),i.jsxs("span",{className:"font-bold",children:["$",a.toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-500",children:"Payment Method"}),i.jsx("span",{className:"font-bold",children:l})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-500",children:"Expected Return"}),i.jsxs("span",{className:"font-bold",style:{color:w.green},children:["+$",N.toLocaleString(void 0,{maximumFractionDigits:0})]})]})]}),i.jsx("p",{className:"text-xs text-gray-400 mb-4",children:"You will be notified once your investment is approved. This usually takes 1-24 hours."}),i.jsx(F.button,{onClick:e,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-4 rounded-xl text-white font-semibold",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:"Done"})]})]})})})}function N6({user:t,onNavigate:e}){const[n,s]=R.useState(!1),[r,a]=R.useState(!1),[o,l]=R.useState(!1),[u,d]=R.useState([]),[f,h]=R.useState(t);R.useEffect(()=>{const v=async()=>{try{const D=await se.fetchTransactionsFromCloud();d(D);const U=(await se.fetchUsersFromCloud()).find(k=>k.uid===t.uid);U&&(h(U),localStorage.setItem(`user_${t.uid}`,JSON.stringify(U)),localStorage.setItem("saxovault_current_user",JSON.stringify(U)))}catch{console.log("Using cached data"),d(se.getTransactions())}};v();const b=setInterval(v,3e4);return()=>clearInterval(b)},[t.uid]),JSON.parse(localStorage.getItem("saxovault_investments")||"null");const p=u.filter(v=>v.userId===t.uid&&v.type==="investment"&&(v.status==="approved"||v.status==="completed")),x=p.length>0?p.map(v=>{let b=.1;v.returnRate&&(typeof v.returnRate=="string"?b=parseFloat(v.returnRate)/100:v.returnRate<1?b=v.returnRate:b=v.returnRate/100);let D=0,L=0,U=!1,k=0;if(v.countdownStarted&&v.maturityDate){const N=new Date,E=new Date(v.maturityDate),C=v.approvalDate?new Date(v.approvalDate):N,P=E-C,V=E-N;V>0?(U=!0,D=Math.floor(V/(1e3*60*60*24)),L=Math.floor(V%(1e3*60*60*24)/(1e3*60*60)),k=Math.round((P-V)/P*100)):k=100}return{id:v.id,name:v.investmentName||"Investment",type:v.category||v.investmentType||"Mixed",invested:v.amount||0,current:(v.amount||0)+(v.expectedReturn||v.amount*b),returns:b*100,expectedReturn:v.expectedReturn||v.amount*b,dailyProfit:v.dailyProfit||v.amount*(v.dailyRate||1)/100,dailyRate:v.dailyRate||0,term:v.term,totalDays:v.totalDays,maturityDate:v.maturityDate,approvalDate:v.approvalDate,countdownActive:U,daysRemaining:D,hoursRemaining:L,progressPercent:k,status:v.status,color:"#3b82f6"}}):[],S=x.reduce((v,b)=>v+b.invested,0),_=x.reduce((v,b)=>v+b.current,0),I=_-S,T=f.balance||0;return i.jsxs("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:w.cream},children:[i.jsxs("div",{className:"max-w-6xl mx-auto px-4 lg:px-6",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsxs("div",{children:[i.jsx("h1",{className:"font-serif text-xl lg:text-2xl",style:{color:w.navy},children:"Dashboard"}),i.jsxs("p",{className:"text-gray-500 text-sm",children:["Welcome back, ",f.name||"Investor"]})]})}),i.jsx(F.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"rounded-2xl p-5 lg:p-6 mb-6 text-white",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-white/60 text-sm mb-1",children:"Available Balance"}),i.jsxs("p",{className:"text-3xl lg:text-4xl font-bold",children:["$",T.toLocaleString()]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(F.button,{onClick:()=>s(!0),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-xl text-sm font-medium",style:{background:w.green,color:"white"},children:[i.jsx(ms,{className:"w-4 h-4 inline mr-1"})," Deposit"]}),i.jsxs(F.button,{onClick:()=>a(!0),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-xl text-sm font-medium bg-white/20 text-white",children:[i.jsx(Kn,{className:"w-4 h-4 inline mr-1"})," Withdraw"]})]})]})}),i.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[i.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[i.jsx("p",{className:"text-gray-500 text-xs mb-1",children:"Portfolio"}),i.jsxs("p",{className:"text-lg font-bold",style:{color:w.navy},children:["$",_.toLocaleString()]})]}),i.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[i.jsx("p",{className:"text-gray-500 text-xs mb-1",children:"Invested"}),i.jsxs("p",{className:"text-lg font-bold",style:{color:w.gold},children:["$",S.toLocaleString()]})]}),i.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[i.jsx("p",{className:"text-gray-500 text-xs mb-1",children:"Returns"}),i.jsxs("p",{className:"text-lg font-bold",style:{color:w.green},children:[I>=0?"+":"","$",I.toLocaleString()]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden mb-6",children:[i.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[i.jsx("h2",{className:"font-medium",style:{color:w.navy},children:"My Investments"}),i.jsx("button",{onClick:()=>e("investments"),className:"text-sm",style:{color:w.gold},children:"View All"})]}),x.length>0?i.jsx("div",{className:"divide-y divide-gray-50",children:x.map((v,b)=>{var D,L;return i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{background:`${v.color}15`},children:i.jsx(ii,{className:"w-5 h-5",style:{color:v.color}})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:v.name}),i.jsxs("p",{className:"text-xs text-gray-400",children:[v.type,"  ",v.term]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"font-bold text-sm",style:{color:w.navy},children:["$",v.current.toLocaleString(void 0,{maximumFractionDigits:2})]}),i.jsxs("p",{className:"text-xs text-green-600",children:["+$",(D=v.expectedReturn)==null?void 0:D.toLocaleString(void 0,{maximumFractionDigits:2})]})]})]}),v.countdownActive?i.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(rN,{className:"w-4 h-4 text-blue-600"}),i.jsx("span",{className:"text-xs font-medium text-blue-600",children:"Time Remaining"})]}),i.jsxs("span",{className:"text-sm font-bold",style:{color:w.navy},children:[v.daysRemaining,"d ",v.hoursRemaining,"h"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"h-2 rounded-full transition-all duration-500",style:{width:`${v.progressPercent}%`,background:`linear-gradient(90deg, ${w.green} 0%, ${w.gold} 100%)`}})}),i.jsxs("div",{className:"flex justify-between mt-1",children:[i.jsxs("span",{className:"text-xs text-gray-500",children:[v.progressPercent,"% complete"]}),v.dailyRate>0&&i.jsxs("span",{className:"text-xs text-green-600",children:["+$",(L=v.dailyProfit)==null?void 0:L.toFixed(2),"/day"]})]})]}):v.status==="pending"?i.jsxs("div",{className:"bg-yellow-50 rounded-lg p-3 flex items-center gap-2",children:[i.jsx(wa,{className:"w-4 h-4 text-yellow-600"}),i.jsx("span",{className:"text-xs text-yellow-700",children:"Awaiting approval - countdown starts after approval"})]}):v.progressPercent>=100?i.jsxs("div",{className:"bg-green-50 rounded-lg p-3 flex items-center gap-2",children:[i.jsx(Je,{className:"w-4 h-4 text-green-600"}),i.jsx("span",{className:"text-xs text-green-700",children:"Completed! Payout ready"})]}):null]},b)})}):i.jsxs("div",{className:"p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mx-auto mb-4",children:i.jsx(ii,{className:"w-8 h-8 text-gray-400"})}),i.jsx("p",{className:"text-gray-500 font-medium mb-2",children:"No investments yet"}),i.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Start your investment journey today"}),i.jsx(F.button,{onClick:()=>e("investments"),whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-6 py-2 rounded-lg text-white text-sm font-medium",style:{background:w.gold},children:"Browse Investments"})]})]}),i.jsx("div",{className:"grid grid-cols-4 gap-3",children:[{icon:ii,label:"Invest",color:w.navy,action:()=>e("investments")},{icon:qu,label:"Auto-Invest",color:"#f59e0b",action:()=>l(!0)},{icon:Z2,label:"History",color:"#8b5cf6",action:()=>e("history")},{icon:Ml,label:"Profile",color:w.green,action:()=>e("profile")}].map((v,b)=>i.jsxs(F.button,{onClick:v.action,whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-white rounded-xl p-4 shadow-sm flex flex-col items-center gap-2",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{background:`${v.color}15`},children:i.jsx(v.icon,{className:"w-5 h-5",style:{color:v.color}})}),i.jsx("span",{className:"text-xs font-medium text-gray-600",children:v.label})]},b))})]}),i.jsxs(gt,{children:[n&&i.jsx(BT,{onClose:()=>s(!1)}),r&&i.jsx(zT,{onClose:()=>a(!1),balance:T}),o&&i.jsx(A6,{onClose:()=>l(!1),user:t})]})]})}function S6({user:t}){const[e,n]=R.useState("all"),[s,r]=R.useState("all"),a=se.getTransactions().filter(p=>p.userId===(t==null?void 0:t.uid)||p.userEmail===(t==null?void 0:t.email)),o=JSON.parse(localStorage.getItem("saxovault_pending_investments")||"[]").filter(p=>p.userEmail===(t==null?void 0:t.email)),u=[...a.map(p=>({...p,category:p.type})),...o.map(p=>({id:p.id,type:"investment",category:"investment",amount:p.amount,status:p.status,name:p.investmentName,crypto:p.crypto,createdAt:p.createdAt}))].sort((p,x)=>new Date(x.createdAt)-new Date(p.createdAt)).filter(p=>e==="all"||p.category===e),d=p=>{switch(p){case"completed":case"approved":return"bg-green-100 text-green-700";case"pending":return"bg-yellow-100 text-yellow-700";case"rejected":case"failed":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},f=p=>{switch(p){case"deposit":return i.jsx(ms,{className:"w-5 h-5 text-green-600"});case"withdrawal":return i.jsx(Kn,{className:"w-5 h-5 text-orange-600"});case"investment":return i.jsx(ii,{className:"w-5 h-5 text-blue-600"});default:return i.jsx(K2,{className:"w-5 h-5 text-gray-600"})}},h=()=>{const p=[["Date","Type","Amount","Status","Details"].join(","),...u.map(I=>[new Date(I.createdAt).toLocaleDateString(),I.type,I.amount,I.status,I.name||I.crypto||""].join(","))].join(`
`),x=new Blob([p],{type:"text/csv"}),S=URL.createObjectURL(x),_=document.createElement("a");_.href=S,_.download=`saxovault_transactions_${new Date().toISOString().split("T")[0]}.csv`,_.click()};return i.jsx("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:w.cream},children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4 lg:px-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"font-serif text-xl lg:text-2xl",style:{color:w.navy},children:"Transaction History"}),i.jsxs("p",{className:"text-gray-500 text-sm",children:[u.length," transactions"]})]}),i.jsxs(F.button,{onClick:h,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-medium",style:{background:w.navy,color:"white"},children:[i.jsx(b4,{className:"w-4 h-4"})," Export"]})]}),i.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm mb-6",children:i.jsx("div",{className:"flex gap-2 overflow-x-auto",children:[{id:"all",label:"All"},{id:"deposit",label:"Deposits"},{id:"withdrawal",label:"Withdrawals"},{id:"investment",label:"Investments"}].map(p=>i.jsx("button",{onClick:()=>n(p.id),className:`px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all ${e===p.id?"text-white":"bg-gray-100 text-gray-600"}`,style:e===p.id?{background:w.navy}:{},children:p.label},p.id))})}),i.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:u.length>0?i.jsx("div",{className:"divide-y divide-gray-100",children:u.map((p,x)=>{var S;return i.jsx(F.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:x*.03},className:"p-4 hover:bg-gray-50 transition-colors",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-gray-100 flex items-center justify-center",children:f(p.type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("p",{className:"font-medium",style:{color:w.navy},children:p.type.charAt(0).toUpperCase()+p.type.slice(1)}),i.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${d(p.status)}`,children:p.status})]}),i.jsxs("p",{className:"text-sm text-gray-500 truncate",children:[p.name||p.crypto||"Transaction","  ",new Date(p.createdAt).toLocaleDateString()]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:`font-bold ${p.type==="withdrawal"?"text-orange-600":"text-green-600"}`,children:[p.type==="withdrawal"?"-":"+","$",(S=p.amount)==null?void 0:S.toLocaleString()]}),i.jsx("p",{className:"text-xs text-gray-400",children:new Date(p.createdAt).toLocaleTimeString()})]})]})},x)})}):i.jsxs("div",{className:"text-center py-16",children:[i.jsx(Z2,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500",children:"No transactions yet"})]})})]})})}function T6({user:t}){const[e,n]=R.useState([]);R.useEffect(()=>{const o=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}"),l=JSON.parse(localStorage.getItem("saxovault_broadcasts")||"[]"),u=[...o[t==null?void 0:t.email]||[],...l.map(d=>({...d,type:"broadcast",title:d.title,message:d.message}))].sort((d,f)=>new Date(f.createdAt)-new Date(d.createdAt));n(u)},[t]);const s=o=>{const l=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}");l[t==null?void 0:t.email]&&(l[t.email]=l[t.email].map(u=>u.id===o?{...u,read:!0}:u),localStorage.setItem("saxovault_user_notifications",JSON.stringify(l)),n(u=>u.map(d=>d.id===o?{...d,read:!0}:d)))},r=o=>{switch(o){case"investment_approved":return i.jsx(Je,{className:"w-5 h-5 text-green-600"});case"investment_rejected":return i.jsx(tn,{className:"w-5 h-5 text-red-600"});case"deposit_confirmed":return i.jsx(ms,{className:"w-5 h-5 text-green-600"});case"withdrawal_processed":return i.jsx(Kn,{className:"w-5 h-5 text-orange-600"});case"broadcast":return i.jsx(lr,{className:"w-5 h-5 text-blue-600"});default:return i.jsx(lr,{className:"w-5 h-5 text-gray-600"})}},a=e.filter(o=>!o.read).length;return i.jsx("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:w.cream},children:i.jsxs("div",{className:"max-w-2xl mx-auto px-4 lg:px-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"font-serif text-xl lg:text-2xl",style:{color:w.navy},children:"Notifications"}),i.jsxs("p",{className:"text-gray-500 text-sm",children:[a," unread"]})]}),a>0&&i.jsx("button",{onClick:()=>{const o=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}");o[t==null?void 0:t.email]&&(o[t.email]=o[t.email].map(l=>({...l,read:!0})),localStorage.setItem("saxovault_user_notifications",JSON.stringify(o)),n(l=>l.map(u=>({...u,read:!0}))))},className:"text-sm font-medium",style:{color:w.gold},children:"Mark all as read"})]}),i.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:e.length>0?i.jsx("div",{className:"divide-y divide-gray-100",children:e.map((o,l)=>i.jsx(F.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:l*.03},onClick:()=>s(o.id),className:`p-4 cursor-pointer transition-colors ${o.read?"bg-white":"bg-blue-50"} hover:bg-gray-50`,children:i.jsxs("div",{className:"flex gap-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center flex-shrink-0",children:r(o.type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:o.title}),!o.read&&i.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500"})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:o.message}),i.jsx("p",{className:"text-xs text-gray-400",children:new Date(o.createdAt).toLocaleString()})]})]})},l))}):i.jsxs("div",{className:"text-center py-16",children:[i.jsx(lr,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500",children:"No notifications yet"})]})})]})})}function E6({user:t}){const[e,n]=R.useState([]);return R.useEffect(()=>{const s=JSON.parse(localStorage.getItem("saxovault_activity_logs")||"{}");n(s[t==null?void 0:t.email]||[])},[t]),i.jsx("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:w.cream},children:i.jsxs("div",{className:"max-w-2xl mx-auto px-4 lg:px-6",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h1",{className:"font-serif text-xl lg:text-2xl",style:{color:w.navy},children:"Activity Log"}),i.jsx("p",{className:"text-gray-500 text-sm",children:"Your recent account activity"})]}),i.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:e.length>0?i.jsx("div",{className:"divide-y divide-gray-100",children:e.map((s,r)=>i.jsx("div",{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${s.type==="login"?"bg-green-100":s.type==="logout"?"bg-gray-100":s.type==="password_change"?"bg-yellow-100":"bg-blue-100"}`,children:[s.type==="login"&&i.jsx(ba,{className:"w-5 h-5 text-green-600 rotate-180"}),s.type==="logout"&&i.jsx(ba,{className:"w-5 h-5 text-gray-600"}),s.type==="password_change"&&i.jsx(Hu,{className:"w-5 h-5 text-yellow-600"}),s.type==="profile_update"&&i.jsx(Ml,{className:"w-5 h-5 text-blue-600"})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:s.type==="login"?"Signed in":s.type==="logout"?"Signed out":s.type==="password_change"?"Password changed":"Profile updated"}),i.jsx("p",{className:"text-xs text-gray-500",children:new Date(s.timestamp).toLocaleString()})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-xs text-gray-400",children:s.ip||"Unknown IP"}),i.jsx("p",{className:"text-xs text-gray-400",children:s.device||"Unknown Device"})]})]})},r))}):i.jsxs("div",{className:"text-center py-16",children:[i.jsx(p4,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500",children:"No activity recorded yet"})]})}),i.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-xl",children:[i.jsxs("h3",{className:"font-medium text-blue-800 mb-2 flex items-center gap-2",children:[i.jsx(vr,{className:"w-5 h-5"})," Security Tips"]}),i.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[i.jsx("li",{children:" Review your activity regularly for suspicious logins"}),i.jsx("li",{children:" Enable two-factor authentication for extra security"}),i.jsx("li",{children:" Never share your password with anyone"})]})]})]})})}function BT({onClose:t}){const[e,n]=R.useState(1),[s,r]=R.useState(""),[a,o]=R.useState(null),[l,u]=R.useState(!1),[d,f]=R.useState(1800),[h,p]=R.useState(""),[x,S]=R.useState(null),[_,I]=R.useState(!1),[T,v]=R.useState(!1),b=R.useRef(null),D=[{id:"btc",name:"Bitcoin",symbol:"BTC",icon:"",color:"#f7931a",address:"bc1qzmgg6hw0fttfpczh2whp8f44k497d6pucghk58",network:"Bitcoin"},{id:"eth",name:"Ethereum",symbol:"ETH",icon:"",color:"#627eea",address:"0x83057882eC7B7EE0cBe63C2fE2b8957e7ab69655",network:"ERC-20"},{id:"usdt",name:"Tether",symbol:"USDT",icon:"",color:"#26a17b",address:"TLGH9FucAuPNUoQw2XUFEDtCg4FFdJ2jKG",network:"TRC-20"},{id:"usdc",name:"USD Coin",symbol:"USDC",icon:"$",color:"#2775ca",address:"0x83057882eC7B7EE0cBe63C2fE2b8957e7ab69655",network:"ERC-20"},{id:"bnb",name:"BNB",symbol:"BNB",icon:"B",color:"#f3ba2f",address:"0x83057882eC7B7EE0cBe63C2fE2b8957e7ab69655",network:"BEP-20"}];R.useEffect(()=>{if(e===2&&d>0){const E=setInterval(()=>f(C=>C-1),1e3);return()=>clearInterval(E)}},[e,d]);const L=E=>`${Math.floor(E/60).toString().padStart(2,"0")}:${(E%60).toString().padStart(2,"0")}`,U=E=>{navigator.clipboard.writeText(E),u(!0),setTimeout(()=>u(!1),2e3)},k=E=>{var P;const C=(P=E.target.files)==null?void 0:P[0];if(C){if(C.size>5*1024*1024){alert("File too large. Max 5MB.");return}I(!0);const V=new FileReader;V.onload=()=>{S(V.result),I(!1)},V.readAsDataURL(C)}},N=async()=>{if(!h&&!x){alert("Please provide transaction hash or payment proof.");return}v(!0),console.log(" Starting deposit submission...");try{const E=JSON.parse(localStorage.getItem("saxovault_current_user")||"{}");if(!E.email||!E.uid){alert("Please login to continue"),v(!1);return}const C={type:"deposit",amount:parseFloat(s),crypto:a.symbol,network:a.network,txHash:h||null,proofImage:x?"uploaded":null,userEmail:E.email,userId:E.uid,userName:E.name||"User"};console.log(" Deposit data:",C);const P=await se.addTransaction(C);console.log(" Deposit saved:",P),console.log(" Sending deposit email notification...");try{const V=await Te.sendDepositNotification(E.email,parseFloat(s),a.symbol);console.log(" Deposit email sent:",V)}catch(V){console.error(" Deposit email failed:",V)}v(!1),n(4),console.log(" Deposit submission complete!")}catch(E){console.error(" Deposit submission error:",E),alert("Error submitting deposit. Please try again."),v(!1)}};return i.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t,children:i.jsxs(F.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-2xl w-full max-w-md shadow-xl overflow-hidden",onClick:E=>E.stopPropagation(),children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",style:{background:w.navy},children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ms,{className:"w-5 h-5 text-white"}),i.jsx("span",{className:"text-white font-medium",children:"Deposit Funds"})]}),i.jsx("button",{onClick:t,className:"text-white/70 hover:text-white",children:i.jsx(tn,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"px-6 py-3 bg-gray-50 border-b border-gray-100",children:[i.jsx("div",{className:"flex gap-2",children:[1,2,3,4].map(E=>i.jsx("div",{className:`h-1 flex-1 rounded-full ${e>=E?"bg-blue-500":"bg-gray-200"}`},E))}),i.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Step ",e," of 4: ",e===1?"Select Amount":e===2?"Send Payment":e===3?"Confirm Payment":"Complete"]})]}),i.jsxs("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:[e===1&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Payment Method"}),i.jsx("div",{className:"grid grid-cols-3 gap-2",children:D.map(E=>i.jsxs("button",{onClick:()=>o(E),className:`p-3 rounded-lg border-2 text-center transition-all ${(a==null?void 0:a.id)===E.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[i.jsx("span",{className:"text-lg",children:E.icon}),i.jsx("p",{className:"text-xs font-medium mt-1",children:E.symbol})]},E.id))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Amount (USD)"}),i.jsx("input",{type:"number",value:s,onChange:E=>r(E.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"Enter amount",min:"10"}),i.jsx("div",{className:"flex gap-2 mt-2",children:[100,500,1e3,5e3].map(E=>i.jsxs("button",{onClick:()=>r(E.toString()),className:"flex-1 py-1.5 text-xs border border-gray-200 rounded hover:bg-gray-50",children:["$",E.toLocaleString()]},E))})]}),i.jsx("button",{onClick:()=>a&&s>=10&&n(2),disabled:!a||!s||parseFloat(s)<10,className:"w-full py-3 rounded-lg text-white font-medium disabled:opacity-50 transition-all",style:{background:w.navy},children:"Continue"})]}),e===2&&a&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"text-center p-3 bg-amber-50 rounded-lg border border-amber-200",children:[i.jsx("p",{className:"text-sm text-amber-700",children:"Complete payment within"}),i.jsx("p",{className:"text-2xl font-mono font-bold text-amber-800",children:L(d)})]}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Amount"}),i.jsxs("span",{className:"font-semibold",children:["$",parseFloat(s).toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Network"}),i.jsx("span",{className:"text-sm font-medium",children:a.network})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:["Send ",a.symbol," to:"]}),i.jsx("div",{className:"p-3 bg-gray-900 rounded-lg",children:i.jsx("p",{className:"font-mono text-xs text-gray-300 break-all text-center",children:a.address})}),i.jsx("button",{onClick:()=>U(a.address),className:"w-full mt-2 py-2 text-sm border border-gray-200 rounded-lg hover:bg-gray-50 flex items-center justify-center gap-2",children:l?i.jsxs(i.Fragment,{children:[i.jsx(Je,{className:"w-4 h-4 text-green-500"})," Copied!"]}):i.jsxs(i.Fragment,{children:[i.jsx(ml,{className:"w-4 h-4"})," Copy Address"]})})]}),i.jsxs("p",{className:"text-xs text-gray-500 text-center",children:[" Only send ",a.symbol," via ",a.network,". Wrong network = lost funds."]}),i.jsx("button",{onClick:()=>n(3),className:"w-full py-3 rounded-lg text-white font-medium",style:{background:w.navy},children:"I've Sent Payment"})]}),e===3&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("button",{onClick:()=>n(2),className:"text-sm text-gray-500 hover:text-gray-700 flex items-center gap-1",children:[i.jsx(Vl,{className:"w-4 h-4"})," Back"]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Transaction Hash (Recommended)"}),i.jsx("input",{type:"text",value:h,onChange:E=>p(E.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-blue-500 font-mono text-sm",placeholder:"0x... or txid..."})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex-1 h-px bg-gray-200"}),i.jsx("span",{className:"text-xs text-gray-400",children:"OR"}),i.jsx("div",{className:"flex-1 h-px bg-gray-200"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Upload Proof of Payment"}),i.jsx("input",{ref:b,type:"file",accept:"image/*",onChange:k,className:"hidden"}),x?i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:x,alt:"Proof",className:"w-full h-32 object-cover rounded-lg"}),i.jsx("button",{onClick:()=>S(null),className:"absolute top-2 right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center",children:i.jsx(tn,{className:"w-3 h-3"})})]}):i.jsx("button",{onClick:()=>{var E;return(E=b.current)==null?void 0:E.click()},className:"w-full p-6 border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 text-center",children:_?i.jsx(xn,{className:"w-6 h-6 mx-auto animate-spin text-gray-400"}):i.jsxs(i.Fragment,{children:[i.jsx(Im,{className:"w-6 h-6 mx-auto text-gray-400 mb-2"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Click to upload screenshot"})]})})]}),i.jsx("div",{className:"p-3 bg-gray-50 rounded-lg text-sm",children:i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Verification"}),i.jsx("span",{className:h||x?"text-green-600":"text-amber-600",children:h&&x?" Both provided":h?" Hash provided":x?" Proof uploaded":" Required"})]})}),i.jsx("button",{onClick:N,disabled:!h&&!x||T,className:"w-full py-3 rounded-lg text-white font-medium disabled:opacity-50 flex items-center justify-center gap-2",style:{background:w.navy},children:T?i.jsxs(i.Fragment,{children:[i.jsx(xn,{className:"w-4 h-4 animate-spin"})," Processing..."]}):"Submit for Verification"})]}),e===4&&i.jsxs("div",{className:"text-center py-6",children:[i.jsx("div",{className:"w-16 h-16 mx-auto rounded-full bg-green-100 flex items-center justify-center mb-4",children:i.jsx(Je,{className:"w-8 h-8 text-green-500"})}),i.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:w.navy},children:"Deposit Submitted"}),i.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Your deposit is pending verification. You'll be notified once approved."}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg text-sm text-left mb-4",children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-gray-500",children:"Amount"}),i.jsxs("span",{className:"font-medium",children:["$",parseFloat(s).toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-gray-500",children:"Method"}),i.jsx("span",{className:"font-medium",children:a==null?void 0:a.symbol})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Status"}),i.jsx("span",{className:"text-amber-600 font-medium",children:"Pending Approval"})]})]}),i.jsx("button",{onClick:t,className:"w-full py-3 rounded-lg font-medium border border-gray-200 hover:bg-gray-50",children:"Done"})]})]})]})})}function zT({onClose:t,balance:e}){const[n,s]=R.useState(1),[r,a]=R.useState(""),[o,l]=R.useState(null),[u,d]=R.useState(""),[f,h]=R.useState(!1),p=[{id:"btc",name:"Bitcoin",symbol:"BTC",icon:"",network:"Bitcoin",minWithdraw:50},{id:"eth",name:"Ethereum",symbol:"ETH",icon:"",network:"ERC-20",minWithdraw:50},{id:"usdt",name:"Tether",symbol:"USDT",icon:"",network:"TRC-20",minWithdraw:20},{id:"usdc",name:"USD Coin",symbol:"USDC",icon:"$",network:"ERC-20",minWithdraw:20},{id:"bnb",name:"BNB",symbol:"BNB",icon:"B",network:"BEP-20",minWithdraw:30}],x=r&&parseFloat(r)>=((o==null?void 0:o.minWithdraw)||0)&&parseFloat(r)<=e,S=u.length>=26,_=async()=>{if(!(!x||!S)){h(!0),console.log(" Starting withdrawal submission...");try{const I=JSON.parse(localStorage.getItem("saxovault_current_user")||"{}");if(!I.email||!I.uid){alert("Please login to continue"),h(!1);return}const T={type:"withdrawal",amount:parseFloat(r),crypto:o.symbol,network:o.network,walletAddress:u,userEmail:I.email,userId:I.uid,userName:I.name||"User"};console.log(" Withdrawal data:",T);const v=await se.addTransaction(T);console.log(" Withdrawal saved:",v),console.log(" Sending withdrawal email...");try{const b=await Te.sendWithdrawalNotification(I.email,parseFloat(r),u);console.log(" Withdrawal email sent:",b)}catch(b){console.error(" Withdrawal email failed:",b)}h(!1),s(3),console.log(" Withdrawal submission complete!")}catch(I){console.error(" Withdrawal submission error:",I),alert("Error submitting withdrawal. Please try again."),h(!1)}}};return i.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t,children:i.jsxs(F.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-2xl w-full max-w-md shadow-xl overflow-hidden",onClick:I=>I.stopPropagation(),children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",style:{background:w.navy},children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Kn,{className:"w-5 h-5 text-white"}),i.jsxs("div",{children:[i.jsx("span",{className:"text-white font-medium",children:"Withdraw Funds"}),i.jsxs("p",{className:"text-white/60 text-xs",children:["Balance: $",e.toLocaleString()]})]})]}),i.jsx("button",{onClick:t,className:"text-white/70 hover:text-white",children:i.jsx(tn,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"px-6 py-3 bg-gray-50 border-b border-gray-100",children:[i.jsx("div",{className:"flex gap-2",children:[1,2,3].map(I=>i.jsx("div",{className:`h-1 flex-1 rounded-full ${n>=I?"bg-blue-500":"bg-gray-200"}`},I))}),i.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Step ",n," of 3: ",n===1?"Enter Details":n===2?"Confirm":"Complete"]})]}),i.jsxs("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:[n===1&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Withdrawal Method"}),i.jsx("div",{className:"grid grid-cols-3 gap-2",children:p.map(I=>i.jsxs("button",{onClick:()=>l(I),className:`p-3 rounded-lg border-2 text-center transition-all ${(o==null?void 0:o.id)===I.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[i.jsx("span",{className:"text-lg",children:I.icon}),i.jsx("p",{className:"text-xs font-medium mt-1",children:I.symbol})]},I.id))}),o&&i.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Min: $",o.minWithdraw,"  Network: ",o.network]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Amount (USD)"}),i.jsx("input",{type:"number",value:r,onChange:I=>a(I.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"Enter amount",max:e}),i.jsx("div",{className:"flex gap-2 mt-2",children:[25,50,75,100].map(I=>i.jsxs("button",{onClick:()=>a(Math.floor(e*I/100).toString()),className:"flex-1 py-1.5 text-xs border border-gray-200 rounded hover:bg-gray-50",children:[I,"%"]},I))}),r&&parseFloat(r)>e&&i.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Insufficient balance"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Wallet Address"}),i.jsx("input",{type:"text",value:u,onChange:I=>d(I.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-blue-500 font-mono text-sm",placeholder:"Enter your wallet address"})]}),i.jsx("button",{onClick:()=>s(2),disabled:!x||!S||!o,className:"w-full py-3 rounded-lg text-white font-medium disabled:opacity-50",style:{background:w.navy},children:"Continue"})]}),n===2&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("button",{onClick:()=>s(1),className:"text-sm text-gray-500 hover:text-gray-700 flex items-center gap-1",children:[i.jsx(Vl,{className:"w-4 h-4"})," Back"]}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg space-y-3",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Amount"}),i.jsxs("span",{className:"font-semibold",children:["$",parseFloat(r).toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Method"}),i.jsxs("span",{className:"font-medium",children:[o==null?void 0:o.symbol," (",o==null?void 0:o.network,")"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Fee"}),i.jsx("span",{className:"text-sm",children:"Network fee applies"})]}),i.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Destination"}),i.jsx("p",{className:"font-mono text-xs break-all",children:u})]})]}),i.jsx("div",{className:"p-3 bg-amber-50 rounded-lg border border-amber-200",children:i.jsx("p",{className:"text-xs text-amber-700",children:" Please verify the address is correct. Withdrawals to wrong addresses cannot be recovered."})}),i.jsx("button",{onClick:_,disabled:f,className:"w-full py-3 rounded-lg text-white font-medium disabled:opacity-50 flex items-center justify-center gap-2",style:{background:w.navy},children:f?i.jsxs(i.Fragment,{children:[i.jsx(xn,{className:"w-4 h-4 animate-spin"})," Processing..."]}):"Confirm Withdrawal"})]}),n===3&&i.jsxs("div",{className:"text-center py-6",children:[i.jsx("div",{className:"w-16 h-16 mx-auto rounded-full bg-blue-100 flex items-center justify-center mb-4",children:i.jsx(wa,{className:"w-8 h-8 text-blue-500"})}),i.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:w.navy},children:"Withdrawal Submitted"}),i.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Your withdrawal is under review. Processing time: 24-48 hours."}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg text-sm text-left mb-4",children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-gray-500",children:"Amount"}),i.jsxs("span",{className:"font-medium",children:["$",parseFloat(r).toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-gray-500",children:"Method"}),i.jsx("span",{className:"font-medium",children:o==null?void 0:o.symbol})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Status"}),i.jsx("span",{className:"text-amber-600 font-medium",children:"Under Review"})]})]}),i.jsx("button",{onClick:t,className:"w-full py-3 rounded-lg font-medium border border-gray-200 hover:bg-gray-50",children:"Done"})]})]})]})})}function j6({document:t,onClose:e}){const n={"White Paper":{title:"SaxoVault Capital White Paper",version:"Version 2.1 | January 2024",sections:[{title:"Executive Summary",content:`SaxoVault Capital is a premier institutional-grade investment platform designed to democratize access to high-yield investment opportunities traditionally reserved for accredited investors and financial institutions.

Our platform leverages cutting-edge technology, rigorous due diligence processes, and diversified asset allocation strategies to deliver consistent, risk-adjusted returns across multiple asset classes including Real Estate, Cryptocurrency, Stocks & Bonds, and Precious Metals.

Founded in 2019, SaxoVault Capital has grown to manage over $600 million in assets under management (AUM), serving more than 12,000 investors across 45+ countries.`},{title:"1. Introduction & Vision",content:`1.1 Mission Statement
To provide retail and institutional investors with secure, transparent, and profitable investment opportunities through innovative technology and expert portfolio management.

1.2 Core Values
 Transparency: Full disclosure of investment strategies, risks, and performance
 Security: Bank-level encryption and multi-layer authentication
 Accessibility: Institutional-grade investments with retail-friendly minimums
 Education: Comprehensive investor resources and market insights

1.3 Platform Overview
SaxoVault Capital offers curated opportunities across four primary asset verticals: Real Estate, Cryptocurrency & Digital Assets, Stocks & Fixed Income, and Precious Metals.`},{title:"2. Investment Philosophy",content:`2.1 Diversification Strategy
Our portfolio construction emphasizes strategic diversification across asset classes, geographies, and investment horizons to mitigate concentration risk.

2.2 Due Diligence Framework
Every investment undergoes a rigorous 5-stage vetting process:
 Stage 1: Initial Screening & Market Analysis
 Stage 2: Financial Modeling & Stress Testing
 Stage 3: Legal & Regulatory Compliance Review
 Stage 4: Third-Party Audit & Verification
 Stage 5: Investment Committee Approval

2.3 Risk Management
We employ sophisticated risk management including position sizing limits, stop-loss mechanisms, and real-time monitoring. Maximum exposure to any single investment is capped at 15% of total AUM.`},{title:"3. Asset Allocation",content:`Real Estate (35%): Development funding and income properties
Cryptocurrency (25%): Blue-chip holdings and DeFi strategies
Stocks & Bonds (25%): Dividend aristocrats and growth ETFs
Precious Metals (15%): Gold, silver, and platinum exposure`},{title:"4. Technology & Security",content:` 256-bit SSL/TLS encryption
 Multi-factor authentication (MFA)
 Cold storage for 95% of digital assets
 SOC 2 Type II certified data centers
 Regular penetration testing and security audits
 Smart contract integration for transparent transactions`},{title:"5. Regulatory Compliance",content:"SaxoVault Capital maintains appropriate licenses and adheres to AML/KYC procedures. We implement robust Anti-Money Laundering and Know Your Customer procedures with segregated client accounts and independent custodian relationships."},{title:"6. Fee Structure",content:`Management Fee: 1.5% annually
Performance Fee: 20% of profits above 8% hurdle
Deposit Fee: 0% (no deposit fees)
Withdrawal Fee: Network fees only for cryptocurrency`}]},"Terms of Service":{title:"Terms of Service",version:"Last Updated: December 2024",sections:[{title:"1. Agreement to Terms",content:"By accessing SaxoVault Capital, you agree to these Terms. If you do not agree, you may not use the Platform. We may modify these Terms at any time."},{title:"2. Eligibility",content:"You must be 18+ years old, have legal capacity to contract, not be in a prohibited jurisdiction, complete KYC verification, and provide accurate information."},{title:"3. Account Security",content:"You are responsible for maintaining credential confidentiality. Notify us immediately of unauthorized access. One account per person."},{title:"4. Investment Services",content:"We provide access to curated investment opportunities as an intermediary. All investments carry risk. Past performance does not guarantee future results."},{title:"5. Deposits & Withdrawals",content:"We accept cryptocurrency deposits. Withdrawals are processed within 24-48 hours. Large withdrawals may require additional verification."},{title:"6. Prohibited Activities",content:"No money laundering, market manipulation, fraud, unauthorized bots, security circumvention, impersonation, or illegal activity."},{title:"7. Limitation of Liability",content:"SaxoVault Capital is not liable for indirect, incidental, or consequential damages. Total liability is limited to fees paid in the preceding 12 months."}]},"Privacy Policy":{title:"Privacy Policy",version:"GDPR & CCPA Compliant | December 2024",sections:[{title:"1. Information We Collect",content:"Identity info (name, DOB, ID), contact info (email, phone, address), financial info (wallet addresses), verification documents, device info, and usage data."},{title:"2. How We Use Information",content:"Verify identity, process transactions, communicate about your account, comply with regulations, improve services, and detect security threats."},{title:"3. Data Sharing",content:"We share with service providers, regulatory authorities, and professional advisors. We do NOT sell your personal information."},{title:"4. Data Security",content:"256-bit encryption, multi-factor authentication, regular audits, employee access controls, and SOC 2 certified data centers."},{title:"5. Your Rights",content:"Access, rectification, erasure, restriction, portability, and objection rights. Contact privacy@saxobankcapital.com to exercise."},{title:"6. Data Retention",content:"We retain data as long as necessary for services and legal compliance. After account closure, certain data is retained for up to 7 years."}]},"Risk Disclosure":{title:"Risk Disclosure Statement",version:"Required Reading | All Investors",sections:[{title:"IMPORTANT WARNING",content:"Investing involves risk including possible loss of principal. Values can go down as well as up. This does not disclose all risks. Consult a financial advisor."},{title:"1. Market Risk",content:"Values fluctuate based on economic events, political developments, and market sentiment."},{title:"2. Real Estate Risks",content:"Property values may decline, projects may face delays, rental income affected by vacancies, regulatory changes, environmental issues."},{title:"3. Cryptocurrency Risks",content:"Extreme volatility, regulatory uncertainty, security risks, technology vulnerabilities, market manipulation, no intrinsic value."},{title:"4. Stock & Bond Risks",content:"Equity risk, credit risk, sector concentration, currency fluctuations, dividend reductions."},{title:"5. Precious Metals Risks",content:"Price volatility, no income generation, storage costs, industrial demand cycles."},{title:"Acknowledgment",content:"By investing, you acknowledge reading this disclosure, understanding risks, accepting potential losses, and conducting your own due diligence."}]},"AML/KYC Policy":{title:"Anti-Money Laundering & KYC Policy",version:"FATF Compliant | December 2024",sections:[{title:"1. Policy Statement",content:"SaxoVault Capital is committed to highest AML/CTF standards, adhering to FATF recommendations and applicable laws."},{title:"2. Customer Identification",content:"Required: Government photo ID, proof of address (within 90 days), selfie verification. Enhanced due diligence for high-value transactions and PEPs."},{title:"3. Ongoing Monitoring",content:"Transaction monitoring, periodic reviews, sanctions screening, automated alerts for unusual activity."},{title:"4. Suspicious Activity",content:"We file SARs and CTRs as required, cooperate with law enforcement, and maintain records for 5+ years."},{title:"5. Prohibited Activities",content:"Money laundering, terrorist financing, sanctioned transactions, structuring, false identities, illegal proceeds."},{title:"6. Sanctions Compliance",content:"We screen against OFAC, UN, EU, and other sanctions lists. Transactions with sanctioned parties are blocked and reported."}]},"Investment Guide":{title:"Investment Guidelines & Handbook",version:"Investor Reference | 2024",sections:[{title:"1. Getting Started",content:"Register  Complete KYC  Enable 2FA  Fund account  Browse investments. Account levels: Basic (<$25K), Premium ($25K-$100K), Elite ($100K+)."},{title:"2. Investment Categories",content:"Real Estate: $10K-$50K min, 12-36 months, 7-22% target. Crypto: $2.5K-$10K min, 6-12 months, 15-40% target. Stocks: $3K-$10K min, 12 months, 5-20% target. Metals: $2.5K-$15K min, 12-24 months, 8-18% target."},{title:"3. Portfolio Strategies",content:"Conservative: 50% bonds, 30% RE income, 15% metals, 5% crypto. Balanced: 35% RE, 25% stocks, 25% crypto, 15% metals. Aggressive: 40% crypto, 30% growth stocks, 20% RE dev, 10% altcoins."},{title:"4. Payouts",content:"Methods: Cryptocurrency or reinvestment. Schedule: Monthly, quarterly, or at maturity. Compound option available."},{title:"5. Withdrawals",content:"Crypto: 24-48 hours. Large (>$50K): 3-5 days. Daily limit: $100K (Elite: $500K)."}]},"Fee Schedule":{title:"Fee Schedule",version:"Effective January 2024",sections:[{title:"Account Fees",content:"Opening: FREE. Maintenance: FREE. Closure: FREE. Inactivity (12+ months): $25/month."},{title:"Deposit Fees",content:"All cryptocurrency deposits: FREE. Network fees paid by sender."},{title:"Withdrawal Fees",content:"Network fees only. Express processing (4 hours): 0.1% of amount."},{title:"Management Fees",content:"1.5% annually (0.375% quarterly). Performance fee: 20% of profits above 8% hurdle."},{title:"Early Redemption",content:"0-30 days: 5%. 31-90 days: 3%. 91-180 days: 1%. 180+ days: No penalty."},{title:"Elite Discounts",content:"25% off management fees, free express withdrawals, dedicated account manager."}]},"FAQ & Support":{title:"Frequently Asked Questions",version:"Updated December 2024",sections:[{title:"Account",content:`Q: How to register? A: Click Register, enter details, complete KYC.
Q: Verification time? A: 24-48 hours standard, 4 hours express.
Q: Multiple accounts? A: No, one per person.`},{title:"Deposits",content:`Q: Which cryptos? A: BTC, ETH, USDT, USDC, BNB, LTC.
Q: Minimum? A: No account minimum. Each investment has its own.
Q: How long? A: 10-30 minutes after confirmation.`},{title:"Investments",content:`Q: Minimum investment? A: $2,500 - $50,000 depending on opportunity.
Q: Early withdrawal? A: May incur penalties per terms.
Q: When payouts? A: Monthly, quarterly, or at maturity.`},{title:"Withdrawals",content:`Q: Processing time? A: 24-48 hours standard.
Q: Limits? A: $100K daily ($500K for Elite).
Q: Delayed? A: Contact support if >72 hours.`},{title:"Contact Support",content:`WhatsApp: +1 (464) 239-5280 (24/7)
Live Chat: Available on website
Email: support@saxovault.com
Response: Under 24 hours`}]}},s=n[t]||n["White Paper"];return i.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e,children:i.jsxs(F.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-2xl lg:rounded-3xl w-full max-w-4xl max-h-[90vh] overflow-hidden shadow-2xl",onClick:r=>r.stopPropagation(),children:[i.jsxs("div",{className:"p-5 lg:p-6 border-b border-gray-100 flex items-center justify-between sticky top-0 bg-white z-10",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl",style:{color:w.navy},children:s.title}),i.jsx("p",{className:"text-gray-500 text-sm",children:s.version})]}),i.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:i.jsx(tn,{className:"w-6 h-6",style:{color:w.navy}})})]}),i.jsxs("div",{className:"p-5 lg:p-8 overflow-y-auto max-h-[calc(90vh-100px)]",children:[i.jsx("div",{className:"space-y-8",children:s.sections.map((r,a)=>i.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:a*.05},children:[i.jsx("h3",{className:"font-serif text-lg lg:text-xl mb-3 pb-2 border-b border-gray-100",style:{color:w.navy},children:r.title}),i.jsx("div",{className:"text-gray-600 text-sm lg:text-base leading-relaxed whitespace-pre-line",children:r.content})]},a))}),i.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-100 flex flex-col sm:flex-row gap-3",children:[i.jsxs(F.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 py-3 rounded-xl font-medium flex items-center justify-center gap-2",style:{background:`${w.navy}10`,color:w.navy},children:[i.jsx(ms,{className:"w-4 h-4"})," Download PDF"]}),i.jsx(F.button,{onClick:e,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 py-3 rounded-xl text-white font-medium",style:{background:w.navy},children:"Close"})]})]})]})})}function k6({user:t}){const e=R.useMemo(()=>{const h=localStorage.getItem(`saxovault_referral_code_${t.uid}`);if(h)return h;const p="SAXO"+(t.name||"USER").split(" ")[0].toUpperCase().slice(0,4)+Math.random().toString(36).substr(2,4).toUpperCase();return localStorage.setItem(`saxovault_referral_code_${t.uid}`,p),p},[t.uid,t.name]),n=`https://saxovault.com/ref/${e}`,[s,r]=R.useState(!1),a=h=>{navigator.clipboard.writeText(h),r(!0),setTimeout(()=>r(!1),2e3)},l=se.getUsers().filter(h=>h.referredBy===t.uid||h.referralCode===e).map(h=>{var _;const x=se.getTransactions().filter(I=>I.userId===h.uid&&I.type==="deposit"&&(I.status==="approved"||I.status==="completed")).reduce((I,T)=>I+(T.amount||0),0),S=x*.01;return{name:h.name?h.name.split(" ")[0]+" "+(((_=h.name.split(" ")[1])==null?void 0:_[0])||"")+".":"User",date:h.createdAt||new Date().toISOString(),deposits:x,bonus:S,status:x>0?"Active":"Pending"}}),u=l.reduce((h,p)=>h+p.bonus,0),d=l.length,f=l.filter(h=>h.status==="Active").length;return i.jsx("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:w.cream},children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4 lg:px-6",children:[i.jsxs("div",{className:"text-center mb-8 lg:mb-12",children:[i.jsx(F.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring"},className:"w-16 h-16 lg:w-20 lg:h-20 mx-auto rounded-2xl flex items-center justify-center mb-4",style:{background:`linear-gradient(135deg, ${w.gold} 0%, ${w.goldDark} 100%)`},children:i.jsx(Ll,{className:"w-8 h-8 lg:w-10 lg:h-10 text-white"})}),i.jsx("h1",{className:"font-serif text-2xl lg:text-4xl mb-2",style:{color:w.navy},children:"Referral Program"}),i.jsx("p",{className:"text-gray-600 text-sm lg:text-base max-w-lg mx-auto",children:"Earn rewards when your friends invest. Get 1% bonus on every deposit your referrals make!"})]}),l.length>0?i.jsx("div",{className:"grid grid-cols-3 gap-3 lg:gap-6 mb-6 lg:mb-8",children:[{label:"Total Earnings",value:`$${u.toLocaleString()}`,icon:y4,color:w.green},{label:"Total Referrals",value:d,icon:Wu,color:w.navy},{label:"Active Referrals",value:f,icon:bv,color:w.gold}].map((h,p)=>i.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:p*.1},className:"bg-white rounded-xl lg:rounded-2xl p-4 lg:p-6 shadow-lg text-center",children:[i.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 rounded-xl flex items-center justify-center mx-auto mb-2 lg:mb-3",style:{background:`${h.color}15`},children:i.jsx(h.icon,{className:"w-5 h-5 lg:w-6 lg:h-6",style:{color:h.color}})}),i.jsx("p",{className:"text-xl lg:text-3xl font-bold",style:{color:h.color},children:h.value}),i.jsx("p",{className:"text-xs lg:text-sm text-gray-500",children:h.label})]},p))}):i.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl p-6 lg:p-8 mb-6 lg:mb-8 text-center border border-blue-100",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-white shadow-md flex items-center justify-center mx-auto mb-4",children:i.jsx(bv,{className:"w-8 h-8 text-blue-500"})}),i.jsx("h3",{className:"font-semibold text-lg mb-2",style:{color:w.navy},children:"Start Earning Today!"}),i.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Share your referral link with friends and earn 1% bonus on every deposit they make."}),i.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[i.jsx("span",{className:"px-3 py-1 bg-white rounded-full text-gray-500",children:"No referrals yet"}),i.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full",children:"$0 earned"})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-5 lg:p-8 mb-6 lg:mb-8",children:[i.jsx("h2",{className:"font-serif text-lg lg:text-xl mb-4 lg:mb-6",style:{color:w.navy},children:"Your Referral Details"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-500 mb-2",children:"Referral Code"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex-1 px-4 py-3 lg:py-4 bg-gray-50 rounded-xl font-mono font-bold text-lg lg:text-xl text-center",style:{color:w.navy},children:e}),i.jsx(F.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>a(e),className:"p-3 lg:p-4 rounded-xl text-white",style:{background:s?w.green:w.navy},children:s?i.jsx(kn,{className:"w-5 h-5"}):i.jsx(ml,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-500 mb-2",children:"Referral Link"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex-1 px-4 py-3 bg-gray-50 rounded-xl text-sm text-gray-600 truncate",children:n}),i.jsx(F.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>a(n),className:"p-3 rounded-xl",style:{background:`${w.gold}15`,color:w.gold},children:i.jsx(E4,{className:"w-5 h-5"})})]})]})]}),i.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[i.jsx("h3",{className:"font-medium mb-3",style:{color:w.navy},children:"Share via"}),i.jsx("div",{className:"flex gap-3",children:[{name:"WhatsApp",color:"#25D366",icon:Jc},{name:"Email",color:"#EA4335",icon:rs},{name:"Copy Link",color:w.navy,icon:ml}].map((h,p)=>i.jsxs(F.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>h.name==="Copy Link"?a(n):null,className:"flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-white text-sm font-medium",style:{background:h.color},children:[i.jsx(h.icon,{className:"w-4 h-4"}),i.jsx("span",{className:"hidden sm:inline",children:h.name})]},p))})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-5 lg:p-8 mb-6 lg:mb-8",children:[i.jsx("h2",{className:"font-serif text-lg lg:text-xl mb-4 lg:mb-6",style:{color:w.navy},children:"How It Works"}),i.jsx("div",{className:"grid sm:grid-cols-3 gap-4 lg:gap-6",children:[{step:"1",title:"Share Your Link",desc:"Send your unique referral link to friends and family"},{step:"2",title:"They Sign Up",desc:"When they register using your link or code"},{step:"3",title:"Earn Rewards",desc:"Get 1% bonus on every deposit they make!"}].map((h,p)=>i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 rounded-full flex items-center justify-center mx-auto mb-3 text-white font-bold",style:{background:`linear-gradient(135deg, ${w.gold} 0%, ${w.goldDark} 100%)`},children:h.step}),i.jsx("h3",{className:"font-semibold text-sm lg:text-base mb-1",style:{color:w.navy},children:h.title}),i.jsx("p",{className:"text-gray-500 text-xs lg:text-sm",children:h.desc})]},p))})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg overflow-hidden",children:[i.jsx("div",{className:"p-4 lg:p-6 border-b border-gray-100",children:i.jsx("h2",{className:"font-serif text-lg lg:text-xl",style:{color:w.navy},children:"Your Referrals"})}),l.length>0?i.jsx("div",{className:"divide-y divide-gray-100",children:l.map((h,p)=>i.jsxs("div",{className:"p-4 lg:p-5 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-bold",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:h.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm lg:text-base",style:{color:w.navy},children:h.name}),i.jsxs("p",{className:"text-xs text-gray-500",children:["Joined ",h.date]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"font-bold text-sm lg:text-base",style:{color:w.green},children:["+$",h.bonus]}),i.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${h.status==="Active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:h.status})]})]},p))}):i.jsxs("div",{className:"p-8 text-center",children:[i.jsx(Wu,{className:"w-12 h-12 mx-auto text-gray-300 mb-3"}),i.jsx("p",{className:"text-gray-500",children:"No referrals yet. Share your link to get started!"})]})]})]})})}function I6(){const[t,e]=R.useState(25e3),[n,s]=R.useState(12),[r,a]=R.useState(24),o=t*Math.pow(1+n/100/12,r),l=o-t;return i.jsx("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:w.cream},children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4 lg:px-6",children:[i.jsxs("div",{className:"text-center mb-8 lg:mb-12",children:[i.jsx("h1",{className:"font-serif text-2xl lg:text-4xl mb-2",style:{color:w.navy},children:"Investment Calculator"}),i.jsx("p",{className:"text-gray-600 text-sm lg:text-base",children:"Project your potential returns."})]}),i.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 lg:gap-8",children:[i.jsxs("div",{className:"bg-white rounded-2xl lg:rounded-3xl p-5 lg:p-8 shadow-xl",children:[i.jsx("h2",{className:"font-serif text-lg lg:text-xl mb-4 lg:mb-6",style:{color:w.navy},children:"Parameters"}),i.jsxs("div",{className:"space-y-5 lg:space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block font-medium text-gray-700 mb-2 text-sm lg:text-base",children:"Initial Investment"}),i.jsx("input",{type:"number",value:t,onChange:u=>e(+u.target.value),className:"w-full px-4 py-3 lg:py-4 text-xl font-bold border-2 border-gray-200 rounded-xl text-center focus:outline-none"}),i.jsx("div",{className:"flex gap-2 mt-2",children:[1e4,25e3,5e4,1e5].map(u=>i.jsxs("button",{onClick:()=>e(u),className:`flex-1 py-2 rounded-lg text-xs font-medium border ${t===u?"text-white":"border-gray-200"}`,style:t===u?{background:w.navy}:{},children:["$",u/1e3,"K"]},u))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block font-medium text-gray-700 mb-2 text-sm lg:text-base",children:"Annual Return (%)"}),i.jsx("input",{type:"number",value:n,onChange:u=>s(+u.target.value),className:"w-full px-4 py-3 lg:py-4 text-xl font-bold border-2 border-gray-200 rounded-xl text-center focus:outline-none"}),i.jsx("div",{className:"flex gap-2 mt-2",children:[8,12,15,20].map(u=>i.jsxs("button",{onClick:()=>s(u),className:`flex-1 py-2 rounded-lg text-xs font-medium border ${n===u?"text-white":"border-gray-200"}`,style:n===u?{background:w.navy}:{},children:[u,"%"]},u))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block font-medium text-gray-700 mb-2 text-sm lg:text-base",children:"Period (Months)"}),i.jsx("input",{type:"number",value:r,onChange:u=>a(+u.target.value),className:"w-full px-4 py-3 lg:py-4 text-xl font-bold border-2 border-gray-200 rounded-xl text-center focus:outline-none"}),i.jsx("div",{className:"flex gap-2 mt-2",children:[12,24,36,60].map(u=>i.jsxs("button",{onClick:()=>a(u),className:`flex-1 py-2 rounded-lg text-xs font-medium border ${r===u?"text-white":"border-gray-200"}`,style:r===u?{background:w.navy}:{},children:[u,"mo"]},u))})]})]})]}),i.jsxs("div",{className:"rounded-2xl lg:rounded-3xl p-5 lg:p-8 text-white shadow-xl",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:[i.jsx("h2",{className:"font-serif text-lg lg:text-xl mb-6 lg:mb-8",style:{color:w.gold},children:"Projected Returns"}),i.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-white/60 text-xs lg:text-sm mb-1",children:"Final Value"}),i.jsxs("p",{className:"font-serif text-4xl lg:text-5xl font-bold",children:["$",o.toLocaleString(void 0,{maximumFractionDigits:0})]})]}),i.jsx("div",{className:"h-px bg-white/20"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 lg:gap-6",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-white/60 text-xs lg:text-sm mb-1",children:"Total Return"}),i.jsxs("p",{className:"text-xl lg:text-2xl font-bold",style:{color:w.gold},children:["+$",l.toLocaleString(void 0,{maximumFractionDigits:0})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-white/60 text-xs lg:text-sm mb-1",children:"Return %"}),i.jsxs("p",{className:"text-xl lg:text-2xl font-bold",style:{color:w.green},children:["+",(l/t*100).toFixed(1),"%"]})]})]}),i.jsxs("div",{className:"p-4 rounded-xl bg-white/10",children:[i.jsx("p",{className:"text-white/60 text-xs lg:text-sm mb-2",children:"Summary"}),i.jsxs("p",{className:"text-xs lg:text-sm",children:[i.jsxs("span",{className:"font-bold",children:["$",t.toLocaleString()]})," at ",i.jsxs("span",{className:"font-bold",children:[n,"%"]})," for ",i.jsxs("span",{className:"font-bold",children:[r," months"]})," = ",i.jsxs("span",{className:"font-bold",style:{color:w.gold},children:["$",o.toLocaleString(void 0,{maximumFractionDigits:0})]})]})]})]})]})]}),i.jsx("p",{className:"text-center text-xs lg:text-sm text-gray-500 mt-6 lg:mt-8",children:"* Estimates only. Actual returns may vary."})]})})}function C6({user:t,setUser:e,onLogout:n}){const[s,r]=R.useState("profile"),[a,o]=R.useState({name:t.name,email:t.email,phone:t.phone,address:t.address}),[l,u]=R.useState({current:"",new:"",confirm:""}),[d,f]=R.useState({current:!1,new:!1,confirm:!1}),[h,p]=R.useState("pending"),[x,S]=R.useState(1),[_,I]=R.useState({fullName:(t==null?void 0:t.name)||"",dateOfBirth:"",idNumber:"",idType:"",idFront:null,idBack:null,selfie:null}),[T,v]=R.useState(!1),[b,D]=R.useState(!1),[L,U]=R.useState(!1),[k,N]=R.useState(()=>Xt.is2FAEnabled(t==null?void 0:t.uid)),[E,C]=R.useState(!1),[P,V]=R.useState(""),[A,Q]=R.useState(!1),ae=R.useRef(null);R.useRef(null),R.useRef(null),R.useRef(null),R.useEffect(()=>{if(t!=null&&t.uid){const H=JSON.parse(localStorage.getItem(`kyc_${t.uid}`)||"{}");H.status&&(p(H.status),I(be=>({...be,...H})))}},[t==null?void 0:t.uid]);const me=(H,be)=>{var _n;const de=(_n=H.target.files)==null?void 0:_n[0];if(console.log(` KYC Upload - Field: ${be}, File:`,de),!de){console.log(" No file selected");return}if(de.size>5*1024*1024){alert("File size must be less than 5MB");return}if(!["image/jpeg","image/png","image/jpg","image/gif","image/webp","application/pdf"].includes(de.type)){alert("Please upload an image (JPG, PNG) or PDF file");return}const un=new FileReader;un.onload=()=>{console.log(` File loaded for ${be}`),I(Ln=>({...Ln,[be]:un.result}))},un.onerror=()=>{console.error(" Error reading file"),alert("Error reading file. Please try again.")},un.readAsDataURL(de)},pe=u6(),O=t1[pe]||"English",q=()=>{e({...t,...a}),v(!0),setTimeout(()=>v(!1),3e3)},ne=()=>{if(l.new!==l.confirm){alert("New passwords do not match!");return}if(l.new.length<8){alert("Password must be at least 8 characters!");return}v(!0),u({current:"",new:"",confirm:""}),setTimeout(()=>v(!1),3e3)},ie=H=>{var de;const be=(de=H.target.files)==null?void 0:de[0];if(be){D(!0);const Ce=new FileReader;Ce.onload=()=>{setTimeout(()=>{e({...t,profileImage:Ce.result}),D(!1)},1500)},Ce.readAsDataURL(be)}},K=async()=>{if(!_.fullName||!_.idNumber||!_.idType){alert("Please fill in all personal information fields"),S(1);return}if(!_.idFront||!_.idBack){alert("Please upload both front and back of your ID"),S(2);return}if(!_.selfie){alert("Please upload a selfie with your ID");return}D(!0);try{const H={..._,status:"submitted",userId:t.uid,userEmail:t.email,submittedAt:new Date().toISOString()};localStorage.setItem(`kyc_${t.uid}`,JSON.stringify(H));const be=JSON.parse(localStorage.getItem("saxovault_kyc_submissions")||"[]");be.unshift(H),localStorage.setItem("saxovault_kyc_submissions",JSON.stringify(be)),await Te.sendKYCNotification(t.email,_.fullName,_.idType),p("submitted"),alert(" KYC documents submitted successfully! You will be notified once verified.")}catch(H){console.error("KYC submission error:",H),alert("Error submitting KYC. Please try again.")}finally{D(!1)}},Ie=[{id:"profile",label:"Profile",icon:Ml},{id:"security",label:"Security",icon:aa},{id:"language",label:"Language",icon:ri},{id:"kyc",label:"KYC",icon:vr},{id:"notifications",label:"Alerts",icon:lr}];return i.jsx("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:w.cream},children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4 lg:px-6",children:[i.jsx("div",{className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl overflow-hidden mb-6",children:i.jsxs("div",{className:"p-6 lg:p-8 text-center",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:[i.jsxs("div",{className:"relative inline-block",children:[i.jsx("div",{className:"w-20 h-20 lg:w-24 lg:h-24 mx-auto rounded-full flex items-center justify-center text-3xl lg:text-4xl font-bold text-white overflow-hidden",style:{background:`linear-gradient(135deg, ${w.gold} 0%, ${w.goldDark} 100%)`},children:t.profileImage?i.jsx("img",{src:t.profileImage,alt:"",className:"w-full h-full object-cover"}):t.name.charAt(0)}),i.jsx("button",{onClick:()=>{var H;return(H=ae.current)==null?void 0:H.click()},className:"absolute bottom-0 right-0 w-8 h-8 rounded-full bg-white shadow-lg flex items-center justify-center",children:b?i.jsx(xn,{className:"w-4 h-4 animate-spin",style:{color:w.navy}}):i.jsx(Im,{className:"w-4 h-4",style:{color:w.navy}})}),i.jsx("input",{ref:ae,type:"file",accept:"image/*",onChange:ie,className:"hidden"})]}),i.jsx("h2",{className:"text-xl lg:text-2xl font-serif text-white mt-3",children:t.name}),i.jsx("p",{className:"text-white/60 text-sm",children:t.email}),i.jsxs("div",{className:"inline-flex items-center gap-2 mt-2 px-3 py-1 rounded-full",style:{background:`${w.green}30`},children:[i.jsx(Je,{className:"w-3.5 h-3.5",style:{color:w.green}}),i.jsx("span",{style:{color:w.green},className:"text-xs font-medium",children:"Verified Investor"})]})]})}),i.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2 -mx-4 px-4 lg:mx-0 lg:px-0",children:Ie.map(H=>i.jsxs("button",{onClick:()=>r(H.id),className:`flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium text-sm whitespace-nowrap transition-all ${s===H.id?"text-white shadow-lg":"bg-white text-gray-600"}`,style:s===H.id?{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`}:{},children:[i.jsx(H.icon,{className:"w-4 h-4"}),H.label]},H.id))}),s==="profile"&&i.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-5 lg:p-8",children:[i.jsx("h2",{className:"font-serif text-lg lg:text-2xl mb-4 lg:mb-6",style:{color:w.navy},children:"Profile Information"}),i.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 lg:gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-700 mb-1.5 lg:mb-2",children:"Full Name"}),i.jsx("input",{type:"text",value:a.name,onChange:H=>o({...a,name:H.target.value}),className:"w-full px-4 py-2.5 lg:py-3 border border-gray-200 rounded-xl focus:outline-none text-sm lg:text-base"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-700 mb-1.5 lg:mb-2",children:"Email Address"}),i.jsx("input",{type:"email",value:a.email,onChange:H=>o({...a,email:H.target.value}),className:"w-full px-4 py-2.5 lg:py-3 border border-gray-200 rounded-xl focus:outline-none text-sm lg:text-base"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-700 mb-1.5 lg:mb-2",children:"Phone Number"}),i.jsx("input",{type:"tel",value:a.phone,onChange:H=>o({...a,phone:H.target.value}),className:"w-full px-4 py-2.5 lg:py-3 border border-gray-200 rounded-xl focus:outline-none text-sm lg:text-base"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-700 mb-1.5 lg:mb-2",children:"Address"}),i.jsx("input",{type:"text",value:a.address,onChange:H=>o({...a,address:H.target.value}),className:"w-full px-4 py-2.5 lg:py-3 border border-gray-200 rounded-xl focus:outline-none text-sm lg:text-base"})]})]}),i.jsx(F.button,{onClick:q,whileHover:{scale:1.02},whileTap:{scale:.98},className:"mt-6 px-6 lg:px-8 py-2.5 lg:py-3 rounded-xl text-white font-semibold flex items-center gap-2 text-sm lg:text-base",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:T?i.jsxs(i.Fragment,{children:[i.jsx(Je,{className:"w-4 h-4 lg:w-5 lg:h-5"})," Saved!"]}):i.jsx(i.Fragment,{children:"Save Changes"})})]}),s==="security"&&i.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-5 lg:p-8",children:[i.jsx("h2",{className:"font-serif text-lg lg:text-2xl mb-4 lg:mb-6",style:{color:w.navy},children:"Change Password"}),i.jsx("div",{className:"space-y-4 max-w-md",children:[{key:"current",label:"Current Password",icon:cr},{key:"new",label:"New Password",icon:Hu},{key:"confirm",label:"Confirm New Password",icon:Hu}].map(H=>i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-700 mb-1.5 lg:mb-2",children:H.label}),i.jsxs("div",{className:"relative",children:[i.jsx(H.icon,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 lg:w-5 lg:h-5 text-gray-400"}),i.jsx("input",{type:d[H.key]?"text":"password",value:l[H.key],onChange:be=>u({...l,[H.key]:be.target.value}),className:"w-full pl-11 lg:pl-12 pr-12 py-2.5 lg:py-3 border border-gray-200 rounded-xl focus:outline-none text-sm lg:text-base",placeholder:""}),i.jsx("button",{onClick:()=>f({...d,[H.key]:!d[H.key]}),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400",children:d[H.key]?i.jsx(Y2,{className:"w-4 h-4 lg:w-5 lg:h-5"}):i.jsx(J2,{className:"w-4 h-4 lg:w-5 lg:h-5"})})]})]},H.key))}),i.jsx(F.button,{onClick:ne,whileHover:{scale:1.02},whileTap:{scale:.98},className:"mt-6 px-6 lg:px-8 py-2.5 lg:py-3 rounded-xl text-white font-semibold flex items-center gap-2 text-sm lg:text-base",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:T?i.jsxs(i.Fragment,{children:[i.jsx(Je,{className:"w-4 h-4 lg:w-5 lg:h-5"})," Updated!"]}):i.jsxs(i.Fragment,{children:[i.jsx(cr,{className:"w-4 h-4 lg:w-5 lg:h-5"})," Update Password"]})})]}),i.jsxs("div",{className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-5 lg:p-8",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-lg lg:text-xl mb-1 lg:mb-2",style:{color:w.navy},children:"Two-Factor Authentication"}),i.jsx("p",{className:"text-gray-500 text-xs lg:text-sm",children:"Extra security layer for your account"})]}),i.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${k?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:k?" Enabled":"Disabled"})]}),k?i.jsxs(F.button,{onClick:()=>{confirm("Are you sure you want to disable 2FA?")&&(Xt.disable2FA(t==null?void 0:t.uid),N(!1))},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 rounded-xl font-medium flex items-center justify-center gap-2 bg-red-50 text-red-600",children:[i.jsx(aa,{className:"w-4 h-4"})," Disable 2FA"]}):i.jsx("div",{children:E?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("p",{className:"text-sm text-gray-600",children:["A verification code has been sent to ",i.jsx("strong",{children:t==null?void 0:t.email})]}),i.jsx("input",{type:"text",value:P,onChange:H=>V(H.target.value.replace(/\D/g,"").slice(0,6)),className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-center text-2xl font-mono tracking-widest",placeholder:"000000",maxLength:"6"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>C(!1),className:"flex-1 py-2.5 rounded-xl border border-gray-200 text-sm",children:"Cancel"}),i.jsx(F.button,{onClick:()=>{const H=Xt.verify2FACode(t==null?void 0:t.uid,P);H.valid?(Xt.enable2FA(t==null?void 0:t.uid),N(!0),C(!1),V(""),alert(" Two-Factor Authentication enabled!")):alert(" "+H.message)},whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl text-white text-sm font-medium",style:{background:w.green},children:A?"Verifying...":"Verify & Enable"})]}),i.jsx("button",{onClick:async()=>{Q(!0);const H=await Xt.send2FACode(t==null?void 0:t.uid,t==null?void 0:t.email);Q(!1),H.success?alert(" New code sent!"):alert(" Failed to resend code.")},className:"w-full text-sm text-blue-600 hover:underline",disabled:A,children:"Didn't receive code? Resend"})]}):i.jsx(F.button,{onClick:async()=>{Q(!0);try{(await Xt.send2FACode(t==null?void 0:t.uid,t==null?void 0:t.email)).success?C(!0):alert(" Failed to send verification code. Please try again.")}catch{alert(" Failed to send verification code. Please try again.")}Q(!1)},whileHover:{scale:1.02},whileTap:{scale:.98},disabled:A,className:"w-full py-3 rounded-xl font-medium flex items-center justify-center gap-2 disabled:opacity-50",style:{background:`${w.green}15`,color:w.green},children:A?i.jsxs(i.Fragment,{children:[i.jsx(xn,{className:"w-4 h-4 animate-spin"})," Sending Code..."]}):i.jsxs(i.Fragment,{children:[i.jsx(aa,{className:"w-4 h-4"})," Enable 2FA"]})})})]}),i.jsxs("div",{className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-5 lg:p-8",children:[i.jsx("h2",{className:"font-serif text-lg lg:text-xl mb-4 lg:mb-6",style:{color:w.navy},children:"Login Activity"}),i.jsx("div",{className:"space-y-3",children:[{device:"Chrome on Windows",location:"New York",time:"Now",current:!0},{device:"Safari on iPhone",location:"New York",time:"1 day ago",current:!1}].map((H,be)=>i.jsxs("div",{className:"flex items-center justify-between p-3 lg:p-4 bg-gray-50 rounded-xl",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(nN,{className:"w-5 h-5 text-gray-400"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:H.device}),i.jsxs("p",{className:"text-xs text-gray-500",children:[H.location,"  ",H.time]})]})]}),H.current&&i.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium",style:{background:`${w.green}15`,color:w.green},children:"Current"})]},be))})]})]}),s==="language"&&i.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-5 lg:p-8",children:[i.jsx("h2",{className:"font-serif text-lg lg:text-2xl mb-2",style:{color:w.navy},children:"Language Settings"}),i.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Select your preferred language"}),i.jsx("div",{className:"p-4 rounded-xl mb-6",style:{background:`${w.gold}15`},children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:w.gold},children:i.jsx(ri,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",style:{color:w.navy},children:"Current Language"}),i.jsx("p",{className:"text-sm text-gray-500",children:O})]})]})}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 max-h-[400px] overflow-y-auto",children:Object.entries(t1).map(([H,be])=>i.jsxs("button",{onClick:()=>{localStorage.setItem("saxovault_language",H),window.location.reload()},className:`p-3 rounded-xl text-left text-sm font-medium transition-all ${pe===H?"text-white shadow-lg":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,style:pe===H?{background:w.navy}:{},children:[be,pe===H&&i.jsx(kn,{className:"w-4 h-4 inline ml-2"})]},H))}),i.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl",children:i.jsxs("p",{className:"text-sm text-blue-700",children:[i.jsx(S4,{className:"w-4 h-4 inline mr-2"}),"Language is automatically detected from your browser settings. You can manually change it above."]})})]}),s==="kyc"&&i.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-5 lg:p-8",children:[i.jsx("h2",{className:"font-serif text-lg lg:text-2xl mb-2",style:{color:w.navy},children:"KYC Verification"}),i.jsx("p",{className:"text-gray-500 text-sm mb-6 lg:mb-8",children:"Complete verification to unlock all features"}),h==="verified"?i.jsxs("div",{className:"text-center py-8 lg:py-12",children:[i.jsx("div",{className:"w-20 h-20 lg:w-24 lg:h-24 mx-auto rounded-full flex items-center justify-center mb-4 lg:mb-6",style:{background:`${w.green}20`},children:i.jsx(Je,{className:"w-12 h-12 lg:w-14 lg:h-14",style:{color:w.green}})}),i.jsx("h3",{className:"font-serif text-xl lg:text-2xl mb-2",style:{color:w.navy},children:"Verified"}),i.jsx("p",{className:"text-gray-500 text-sm",children:"Your identity has been verified."})]}):h==="submitted"?i.jsxs("div",{className:"text-center py-8 lg:py-12",children:[i.jsx("div",{className:"w-20 h-20 lg:w-24 lg:h-24 mx-auto rounded-full flex items-center justify-center mb-4 lg:mb-6",style:{background:`${w.gold}20`},children:i.jsx(wa,{className:"w-12 h-12 lg:w-14 lg:h-14",style:{color:w.gold}})}),i.jsx("h3",{className:"font-serif text-xl lg:text-2xl mb-2",style:{color:w.navy},children:"Under Review"}),i.jsx("p",{className:"text-gray-500 text-sm",children:"We're reviewing your documents (1-2 business days)."})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex items-center justify-center mb-6 lg:mb-8",children:[1,2,3].map(H=>i.jsxs(md.Fragment,{children:[i.jsx("div",{className:`w-8 h-8 lg:w-10 lg:h-10 rounded-full flex items-center justify-center font-bold text-sm ${x>=H?"text-white":"bg-gray-200 text-gray-500"}`,style:x>=H?{background:w.navy}:{},children:x>H?i.jsx(kn,{className:"w-4 h-4"}):H}),H<3&&i.jsx("div",{className:`w-12 lg:w-20 h-1 mx-1 lg:mx-2 ${x>H?"bg-green-500":"bg-gray-200"}`})]},H))}),x===1&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold",style:{color:w.navy},children:"Personal Information"}),i.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Full Legal Name"}),i.jsx("input",{type:"text",value:_.fullName,onChange:H=>I({..._,fullName:H.target.value}),placeholder:"As shown on ID",className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Date of Birth"}),i.jsx("input",{type:"date",value:_.dateOfBirth,onChange:H=>I({..._,dateOfBirth:H.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:"ID Number"}),i.jsx("input",{type:"text",value:_.idNumber,onChange:H=>I({..._,idNumber:H.target.value}),placeholder:"Enter your ID number",className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:"ID Type"}),i.jsxs("select",{value:_.idType,onChange:H=>I({..._,idType:H.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"Select ID Type"}),i.jsx("option",{value:"passport",children:"International Passport"}),i.jsx("option",{value:"drivers_license",children:"Driver's License"}),i.jsx("option",{value:"national_id",children:"National ID Card"}),i.jsx("option",{value:"residence_permit",children:"Residence Permit"})]})]})]})]}),x===2&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold",style:{color:w.navy},children:"Upload Documents"}),i.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Take photos of your ID or upload existing images"}),i.jsxs("label",{className:"block cursor-pointer",children:[i.jsx("input",{type:"file",accept:"image/*,application/pdf",capture:"environment",onChange:H=>me(H,"idFront"),className:"hidden"}),i.jsx("div",{className:`border-2 border-dashed rounded-2xl p-6 lg:p-8 text-center hover:border-gray-400 transition-colors ${_.idFront?"border-green-400 bg-green-50":"border-gray-200"}`,children:_.idFront?i.jsxs(i.Fragment,{children:[i.jsx(kn,{className:"w-10 h-10 mx-auto text-green-500 mb-3"}),i.jsx("p",{className:"font-medium text-sm text-green-600",children:"ID Front Uploaded "}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tap to change"})]}):i.jsxs(i.Fragment,{children:[i.jsx(Kn,{className:"w-10 h-10 mx-auto text-gray-400 mb-3"}),i.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:"Upload ID (Front)"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tap to take photo or select file"})]})})]}),i.jsxs("label",{className:"block cursor-pointer",children:[i.jsx("input",{type:"file",accept:"image/*,application/pdf",capture:"environment",onChange:H=>me(H,"idBack"),className:"hidden"}),i.jsx("div",{className:`border-2 border-dashed rounded-2xl p-6 lg:p-8 text-center hover:border-gray-400 transition-colors ${_.idBack?"border-green-400 bg-green-50":"border-gray-200"}`,children:_.idBack?i.jsxs(i.Fragment,{children:[i.jsx(kn,{className:"w-10 h-10 mx-auto text-green-500 mb-3"}),i.jsx("p",{className:"font-medium text-sm text-green-600",children:"ID Back Uploaded "}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tap to change"})]}):i.jsxs(i.Fragment,{children:[i.jsx(Kn,{className:"w-10 h-10 mx-auto text-gray-400 mb-3"}),i.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:"Upload ID (Back)"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tap to take photo or select file"})]})})]})]}),x===3&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold",style:{color:w.navy},children:"Take a Selfie"}),i.jsx("p",{className:"text-gray-500 text-sm",children:"Hold your ID next to your face"}),i.jsxs("label",{className:"block cursor-pointer",children:[i.jsx("input",{type:"file",accept:"image/*",capture:"user",onChange:H=>me(H,"selfie"),className:"hidden"}),i.jsx("div",{className:`border-2 border-dashed rounded-2xl p-8 lg:p-12 text-center hover:border-gray-400 transition-colors ${_.selfie?"border-green-400 bg-green-50":"border-gray-200"}`,children:_.selfie?i.jsxs(i.Fragment,{children:[i.jsx("img",{src:_.selfie,alt:"Selfie preview",className:"w-32 h-32 mx-auto rounded-xl object-cover mb-3"}),i.jsx("p",{className:"font-medium text-sm text-green-600",children:"Selfie Uploaded "}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tap to change"})]}):i.jsxs(i.Fragment,{children:[i.jsx(Im,{className:"w-14 h-14 mx-auto text-gray-400 mb-3"}),i.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:"Take or Upload Selfie"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tap to open camera or select photo"})]})})]})]}),i.jsxs("div",{className:"flex justify-between mt-6 lg:mt-8",children:[x>1&&i.jsx("button",{onClick:()=>S(x-1),className:"px-6 py-2.5 rounded-xl font-medium text-gray-600 hover:bg-gray-100 text-sm",children:"Back"}),i.jsx(F.button,{onClick:()=>x<3?S(x+1):K(),whileHover:{scale:1.02},whileTap:{scale:.98},disabled:b,className:"ml-auto px-6 lg:px-8 py-2.5 lg:py-3 rounded-xl text-white font-semibold text-sm disabled:opacity-50",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:b?"Submitting...":x===3?"Submit KYC":"Continue"})]})]})]}),s==="notifications"&&i.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-5 lg:p-8",children:[i.jsx("h2",{className:"font-serif text-lg lg:text-2xl mb-4 lg:mb-6",style:{color:w.navy},children:"Notifications"}),i.jsx("div",{className:"space-y-4",children:[{title:"Investment Updates",desc:"Portfolio performance alerts",enabled:!0},{title:"New Opportunities",desc:"New investment alerts",enabled:!0},{title:"Payouts",desc:"Payout notifications",enabled:!0},{title:"Referral Bonuses",desc:"Earn alerts from referrals",enabled:!0},{title:"Marketing",desc:"Promotional emails",enabled:!1}].map((H,be)=>i.jsxs("div",{className:"flex items-center justify-between p-3 lg:p-4 bg-gray-50 rounded-xl",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:H.title}),i.jsx("p",{className:"text-xs text-gray-500",children:H.desc})]}),i.jsx("button",{className:`w-11 h-6 lg:w-12 lg:h-7 rounded-full transition-colors ${H.enabled?"":"bg-gray-300"}`,style:H.enabled?{background:w.green}:{},children:i.jsx("div",{className:`w-4 h-4 lg:w-5 lg:h-5 bg-white rounded-full shadow transition-transform ${H.enabled?"translate-x-6":"translate-x-1"}`})})]},be))})]}),i.jsxs(F.button,{onClick:n,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full mt-6 py-3.5 rounded-xl text-red-500 font-semibold bg-red-50 flex items-center justify-center gap-2 lg:hidden",children:[i.jsx(ba,{className:"w-5 h-5"})," Logout"]})]})})}const n1={email:"saxovaultadmin@saxovault.com",password:"SaxoAdmin2024!"},se={getUsers:()=>JSON.parse(localStorage.getItem("saxovault_users")||"[]"),setUsers:t=>localStorage.setItem("saxovault_users",JSON.stringify(t)),fetchUsersFromCloud:async()=>{try{const t=await XM();return t.success?(localStorage.setItem("saxovault_users",JSON.stringify(t.data)),t.data):se.getUsers()}catch(t){return console.error("Error fetching users from cloud:",t),se.getUsers()}},getTransactions:()=>{try{const t=localStorage.getItem("saxovault_transactions"),e=JSON.parse(t||"[]");return Array.isArray(e)?e:[]}catch(t){return console.error("Error parsing transactions:",t),[]}},setTransactions:t=>{const e=Array.isArray(t)?t:[];localStorage.setItem("saxovault_transactions",JSON.stringify(e))},fetchTransactionsFromCloud:async()=>{try{const t=await e6();return t.success?(localStorage.setItem("saxovault_transactions",JSON.stringify(t.data)),t.data):se.getTransactions()}catch(t){return console.error("Error fetching transactions from cloud:",t),se.getTransactions()}},addTransaction:async t=>{var s;console.log(" Adding new transaction:",t.type);const e=Date.now().toString();let n={...t,id:e,localId:e,createdAt:new Date().toISOString(),status:"pending"};try{const r=await ZM(n);r.success&&r.id&&(n.id=r.id,n.firestoreId=r.id,console.log(" Transaction saved to Firestore with ID:",r.id))}catch(r){console.error(" Error saving to Firestore:",r)}try{let r=se.getTransactions();Array.isArray(r)||(console.warn(" Transactions was not an array, resetting..."),r=[]),r.unshift(n),se.setTransactions(r),console.log(" Transaction saved to localStorage")}catch(r){console.error(" Error saving to localStorage:",r);try{se.setTransactions([n])}catch(a){console.error(" Critical: Could not save transaction:",a)}}return se.notifyAdmin({type:t.type,title:`New ${t.type} Request`,message:`$${(s=t.amount)==null?void 0:s.toLocaleString()} ${t.type} from ${t.userEmail||"user"}`,urgent:!0,actionRequired:!0}),n},updateTransaction:async(t,e)=>{console.log(" Updating transaction:",t,e);const s=se.getTransactions().find(l=>l.id===t||l.firestoreId===t),r=(s==null?void 0:s.firestoreId)||(s==null?void 0:s.id)||t;try{await Zw(r,e),console.log(" Transaction updated in Firestore with ID:",r)}catch(l){if(console.error(" Error updating in Firestore:",l),s!=null&&s.id&&s.id!==r)try{await Zw(s.id,e),console.log(" Transaction updated with alternate ID:",s.id)}catch(u){console.error(" Alternate update also failed:",u)}}const o=se.getTransactions().map(l=>l.id===t||l.firestoreId===t?{...l,...e}:l);se.setTransactions(o)},updateUser:async(t,e)=>{try{await _y(t,e),console.log(" User updated in Firestore")}catch(s){console.error(" Error updating user in Firestore:",s)}const n=localStorage.getItem(`user_${t}`);if(n){const s=JSON.parse(n);localStorage.setItem(`user_${t}`,JSON.stringify({...s,...e}))}},getSettings:()=>JSON.parse(localStorage.getItem("saxovault_settings")||JSON.stringify({wallets:{btc:"bc1qzmgg6hw0fttfpczh2whp8f44k497d6pucghk58",eth:"0x83057882eC7B7EE0cBe63C2fE2b8957e7ab69655",usdt:"TLGH9FucAuPNUoQw2XUFEDtCg4FFdJ2jKG"},whatsapp:"+14642395280",email:"support@saxovault.com",siteName:"SaxoVault Capital"})),setSettings:t=>localStorage.setItem("saxovault_settings",JSON.stringify(t)),getNotifications:()=>JSON.parse(localStorage.getItem("saxovault_notifications")||"[]"),addNotification:t=>{const e=se.getNotifications();e.unshift({...t,id:Date.now(),read:!1,createdAt:new Date().toISOString()}),localStorage.setItem("saxovault_notifications",JSON.stringify(e.slice(0,100)))},getAdminNotifications:()=>JSON.parse(localStorage.getItem("saxovault_admin_notifs")||"[]"),notifyAdmin:t=>{const e=se.getAdminNotifications(),n={...t,id:Date.now(),read:!1,createdAt:new Date().toISOString()};if(e.unshift(n),localStorage.setItem("saxovault_admin_notifs",JSON.stringify(e.slice(0,200))),localStorage.getItem("saxovault_admin")==="true")try{const s=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2teleQABMjV4wdvqhBwIPnyV0+TkeEU5Un+13e6ZRxcnOFJsocHn04FGNjBIYZi+4t6QSjE0SGqay+LYglM4M0NTfqrN3tCMaD0wP0pqpcnc3I5kOC9AWGyiwtff");s.volume=.3,s.play().catch(()=>{})}catch{}return n},markAdminNotifRead:t=>{const n=se.getAdminNotifications().map(s=>s.id===t?{...s,read:!0}:s);localStorage.setItem("saxovault_admin_notifs",JSON.stringify(n))},queueEmail:t=>{const e=JSON.parse(localStorage.getItem("saxovault_email_queue")||"[]");e.push({...t,id:Date.now(),status:"queued",createdAt:new Date().toISOString()}),localStorage.setItem("saxovault_email_queue",JSON.stringify(e))},logActivity:(t,e,n)=>{try{let s=JSON.parse(localStorage.getItem("saxovault_activity_logs")||"[]");Array.isArray(s)||(console.warn("Activity logs was not an array, resetting..."),s=[]),s.unshift({id:Date.now(),userId:t,action:e,details:n,ip:"xxx.xxx.xxx.xxx",userAgent:navigator.userAgent,createdAt:new Date().toISOString()}),localStorage.setItem("saxovault_activity_logs",JSON.stringify(s.slice(0,500)))}catch(s){console.error("Error logging activity:",s),localStorage.setItem("saxovault_activity_logs",JSON.stringify([]))}},getActivityLogs:t=>{const e=JSON.parse(localStorage.getItem("saxovault_activity_logs")||"[]");return t?e.filter(n=>n.userId===t):e},getAutoInvestPlans:t=>{const e=JSON.parse(localStorage.getItem("saxovault_autoinvest")||"[]");return t?e.filter(n=>n.userId===t):e},saveAutoInvestPlan:t=>{const e=se.getAutoInvestPlans(),n=e.findIndex(s=>s.id===t.id);n>=0?e[n]=t:e.push({...t,id:Date.now(),createdAt:new Date().toISOString()}),localStorage.setItem("saxovault_autoinvest",JSON.stringify(e))},deleteAutoInvestPlan:t=>{const e=se.getAutoInvestPlans().filter(n=>n.id!==t);localStorage.setItem("saxovault_autoinvest",JSON.stringify(e))}},It={publicKey:"trmaHaGeZzBpjKtaj",serviceId:"service_59y54de",templateId:"template_kskirgx",adminEmail:"saxovault6@gmail.com"};let Qs=!1;try{$u.init(It.publicKey),Qs=!0,console.log(" EmailJS initialized successfully"),console.log(" Admin email:",It.adminEmail)}catch(t){console.error(" EmailJS init failed:",t)}const Te={getAdminEmail:()=>It.adminEmail,isReady:()=>Qs,testEmail:async t=>{if(console.log(" ========== EMAIL TEST START =========="),console.log(" Testing EmailJS with:",t),console.log(" Service ID:",It.serviceId),console.log(" Template ID:",It.templateId),console.log(" Public Key:",It.publicKey),console.log(" EmailJS Initialized:",Qs),!Qs)return console.error(" EmailJS not initialized!"),alert("EmailJS not initialized. Check console for errors."),{success:!1,error:"Not initialized"};try{const e=await $u.send(It.serviceId,It.templateId,{to_email:t,subject:"SaxoVault Test Email",message:`This is a test email from SaxoVault. If you received this, EmailJS is working correctly!

Time: `+new Date().toLocaleString(),from_name:"SaxoVault Capital",reply_to:"support@saxovault.com"});return console.log(" Test email sent successfully!",e),console.log(" ========== EMAIL TEST SUCCESS =========="),alert(" Test email sent! Check your inbox (and spam folder)."),{success:!0,result:e}}catch(e){return console.error(" Test email failed:",e),console.error(" Error details:",{text:e==null?void 0:e.text,message:e==null?void 0:e.message,status:e==null?void 0:e.status,name:e==null?void 0:e.name}),console.log(" ========== EMAIL TEST FAILED =========="),alert(" Test email failed: "+((e==null?void 0:e.text)||(e==null?void 0:e.message)||"Unknown error")+`

Check console for details.`),{success:!1,error:e}}},sendEmail:async(t,e,n,s="notification")=>{if(console.log(" ========== SENDING EMAIL =========="),console.log(" To:",t),console.log(" Subject:",e),console.log(" Type:",s),console.log(" EmailJS Ready:",Qs),!Qs)return console.error(" EmailJS not initialized - cannot send email"),{success:!1,message:"EmailJS not initialized"};if(!t||!e)return console.error(" Missing email or subject"),{success:!1,message:"Missing email or subject"};try{const r={to_email:t,subject:e,message:n,from_name:"SaxoVault Capital",reply_to:"support@saxovault.com"};console.log(" Calling emailjs.send()...");const a=await $u.send(It.serviceId,It.templateId,r);return console.log(" EMAIL SENT SUCCESSFULLY!"),console.log(" Response:",{status:a.status,text:a.text}),se.queueEmail({to:t,subject:e,type:s,status:"sent",createdAt:new Date().toISOString()}),{success:!0,response:a}}catch(r){return console.error(" EMAIL SEND FAILED!"),console.error(" Error:",r),console.error(" Details:",{text:r==null?void 0:r.text,message:r==null?void 0:r.message,status:r==null?void 0:r.status}),se.queueEmail({to:t,subject:e,type:s,status:"failed",error:(r==null?void 0:r.text)||(r==null?void 0:r.message),createdAt:new Date().toISOString()}),{success:!1,error:(r==null?void 0:r.text)||(r==null?void 0:r.message)}}},sendAdminNotification:async(t,e)=>(console.log(" Sending ADMIN notification:",t),await Te.sendEmail(It.adminEmail,t,e,"admin")),sendDepositNotification:async(t,e,n)=>{const s=`Deposit Request - $${e.toLocaleString()} ${n}`,r=`Hello,

Your deposit request has been received!

Amount: $${e.toLocaleString()}
Payment Method: ${n}
Status: Pending Confirmation

Your funds will be credited once confirmed (usually 10-30 minutes).

Thank you,
SaxoVault Capital`,a=await Te.sendEmail(t,s,r,"deposit"),o=` [DEPOSIT] $${e.toLocaleString()} from ${t}`,l=`
       NEW DEPOSIT REQUEST


 User: ${t}
 Amount: $${e.toLocaleString()}
 Method: ${n}
 Time: ${new Date().toLocaleString()}

Action Required: Review in admin panel

`;return await Te.sendAdminNotification(o,l),a},sendWithdrawalNotification:async(t,e,n)=>{const s=`Withdrawal Request - $${e.toLocaleString()}`,r=`Hello,

Your withdrawal request has been submitted.

Amount: $${e.toLocaleString()}
Destination: ${n}
Status: Under Review

Processing time: 24-48 hours after approval.

Thank you,
SaxoVault Capital`,a=await Te.sendEmail(t,s,r,"withdrawal"),o=` [WITHDRAWAL] $${e.toLocaleString()} from ${t}`,l=`
      NEW WITHDRAWAL REQUEST


 User: ${t}
 Amount: $${e.toLocaleString()}
 Wallet: ${n}
 Time: ${new Date().toLocaleString()}

Action Required: Approve/Reject in admin panel

`;return await Te.sendAdminNotification(o,l),a},sendInvestmentNotification:async(t,e,n,s)=>{const r=`Investment Activated - ${e}`,a=`Hello,

Your investment has been activated!

Investment: ${e}
Amount: $${n.toLocaleString()}
Duration: ${s||"As specified"}
Status: Active

You can track your investment in the dashboard.

Thank you,
SaxoVault Capital`,o=await Te.sendEmail(t,r,a,"investment"),l=` [INVESTMENT] $${n.toLocaleString()} - ${e}`,u=`
      NEW INVESTMENT ACTIVATION


 User: ${t}
 Plan: ${e}
 Amount: $${n.toLocaleString()}
 Duration: ${s||"N/A"}
 Time: ${new Date().toLocaleString()}

`;return await Te.sendAdminNotification(l,u),o},sendKYCNotification:async(t,e,n)=>{const s="KYC Verification Submitted",r=`Hello ${e||""},

Your KYC verification documents have been submitted successfully.

Document Type: ${n||"ID Document"}
Status: Under Review

Our team will verify your documents within 24-48 hours.

Thank you,
SaxoVault Capital`,a=await Te.sendEmail(t,s,r,"kyc"),o=` [KYC] New Submission from ${t}`,l=`
        NEW KYC SUBMISSION


 User: ${e||"N/A"}
 Email: ${t}
 Document Type: ${n||"ID Document"}
 Submitted: ${new Date().toLocaleString()}

Action Required: Verify documents in admin panel

`;return await Te.sendAdminNotification(o,l),a},sendNewUserNotification:async(t,e,n)=>{const s=` [NEW USER] ${e||t} just registered`,r=`
         NEW USER REGISTRATION


 Name: ${e||"N/A"}
 Email: ${t}
 Method: ${n||"Email"}
 Time: ${new Date().toLocaleString()}

`;return await Te.sendAdminNotification(s,r)},sendLoginNotification:async(t,e,n)=>{const s=` [LOGIN] ${t} logged in`,r=`User Login Activity

 User: ${e||t}
 Email: ${t}
 Method: ${n||"Email"}
 Time: ${new Date().toLocaleString()}`;return await Te.sendAdminNotification(s,r)},sendReferralNotification:async(t,e)=>{const n="New Referral Signup!",s=`Hello,

Someone signed up using your referral link!

New User: ${e}
Your Bonus: 1% of their deposits

Keep sharing to earn more!

Thank you,
SaxoVault Capital`;return await Te.sendEmail(t,n,s,"referral")},send2FACode:async(t,e)=>{const n=`Security Code: ${e}`,s=`Your SaxoVault verification code:

${e}

This code expires in 5 minutes.
Never share this code with anyone.

SaxoVault Capital`;return await Te.sendEmail(t,n,s,"2fa")},sendBroadcast:async(t,e,n)=>{const s=[];for(const r of t){const a=await Te.sendEmail(r.email,e,n,"broadcast");s.push({email:r.email,...a})}return s},sendStatusUpdate:async(t,e,n,s,r="")=>{console.log(` Sending status update email to: ${t}`),console.log(` Type: ${e}, Status: ${n}, Amount: ${s}`);const a=`SaxoVault - ${e} ${n}`,o=`Hello,

Your ${e.toLowerCase()} has been ${n.toUpperCase()}.

Amount: $${(s==null?void 0:s.toLocaleString())||"N/A"}
Status: ${n.toUpperCase()}
${r?`
Note: ${r}`:""}

If you have any questions, please contact our support team.

Thank you,
SaxoVault Capital
support@saxovault.com`;try{const l=await Te.sendEmail(t,a,o,"status");return console.log(" Status update email result:",l),l}catch(l){throw console.error(" Status update email failed:",l),l}},sendKYCStatusUpdate:async(t,e,n="")=>{const s=e==="verified"||e==="approved",r=s?"KYC Verification Approved ":"KYC Verification Update",a=`Hello,

Your KYC verification has been ${s?"APPROVED":"REJECTED"}.

${s?`Congratulations! Your account is now fully verified. You can now:
 Make unlimited deposits
 Access all investment plans
 Enjoy faster withdrawal processing

Thank you for verifying your identity with SaxoVault Capital.`:`Unfortunately, your KYC submission could not be verified.

${n?`Reason: ${n}`:"Please ensure your documents are clear and match your profile information."}

You can resubmit your documents by going to Profile  KYC Verification.`}

Thank you,
SaxoVault Capital`;return await Te.sendEmail(t,r,a,"kyc")}};typeof window<"u"&&(window.EmailService=Te,window.testEmail=async t=>{if(console.log(" ========== EMAIL TEST START =========="),console.log(" Testing EmailJS with:",t),console.log(" Service ID:",It.serviceId),console.log(" Template ID:",It.templateId),console.log(" Public Key:",It.publicKey),console.log(" EmailJS Ready:",Qs),!Qs)return console.error(" EmailJS not initialized!"),alert("EmailJS not initialized. Check console for errors."),{success:!1,error:"Not initialized"};try{const e=await $u.send(It.serviceId,It.templateId,{to_email:t,subject:"SaxoVault Test Email - "+new Date().toLocaleTimeString(),message:`This is a test email from SaxoVault.

If you received this, EmailJS is working correctly!

Time: `+new Date().toLocaleString(),from_name:"SaxoVault Capital",reply_to:"support@saxovault.com"});return console.log(" Test email sent successfully!",e),console.log(" ========== EMAIL TEST SUCCESS =========="),alert(" Test email sent to "+t+`!

Check your inbox (and spam folder).`),{success:!0,result:e}}catch(e){return console.error(" Test email failed:",e),console.error(" Error details:",{text:e==null?void 0:e.text,message:e==null?void 0:e.message,status:e==null?void 0:e.status,name:e==null?void 0:e.name}),console.log(" ========== EMAIL TEST FAILED =========="),alert(` Test email failed!

Error: `+((e==null?void 0:e.text)||(e==null?void 0:e.message)||"Unknown error")+`

Check console for details.`),{success:!1,error:e}}},console.log(' Email test ready! Run: window.testEmail("your@email.com")'));const Xt={generate2FACode:()=>Math.floor(1e5+Math.random()*9e5).toString(),store2FACode:(t,e)=>{const n=JSON.parse(localStorage.getItem("saxovault_2fa_codes")||"{}");return n[t]={code:e,createdAt:Date.now(),expires:Date.now()+5*60*1e3},localStorage.setItem("saxovault_2fa_codes",JSON.stringify(n)),e},verify2FACode:(t,e)=>{const n=JSON.parse(localStorage.getItem("saxovault_2fa_codes")||"{}"),s=n[t];return s?Date.now()>s.expires?{valid:!1,message:"Code expired"}:s.code!==e?{valid:!1,message:"Invalid code"}:(delete n[t],localStorage.setItem("saxovault_2fa_codes",JSON.stringify(n)),{valid:!0,message:"Verified"}):{valid:!1,message:"No code found"}},send2FACode:async(t,e)=>{console.log(" Sending 2FA code to:",e);const n=Xt.generate2FACode();Xt.store2FACode(t,n);try{const s=await Te.send2FACode(e,n);return console.log(" 2FA code sent successfully:",s),{success:!0,code:n}}catch(s){return console.error(" Failed to send 2FA code:",s),{success:!1,error:s}}},is2FAEnabled:t=>{var n;return((n=JSON.parse(localStorage.getItem("saxovault_user_2fa")||"{}")[t])==null?void 0:n.enabled)||!1},enable2FA:t=>{const e=JSON.parse(localStorage.getItem("saxovault_user_2fa")||"{}");e[t]={enabled:!0,enabledAt:new Date().toISOString()},localStorage.setItem("saxovault_user_2fa",JSON.stringify(e))},disable2FA:t=>{const e=JSON.parse(localStorage.getItem("saxovault_user_2fa")||"{}");e[t]={enabled:!1},localStorage.setItem("saxovault_user_2fa",JSON.stringify(e))}};function A6({onClose:t,user:e}){const[n,s]=R.useState("weekly"),[r,a]=R.useState(100),[o,l]=R.useState(null),[u,d]=R.useState([]),f=JSON.parse(localStorage.getItem("saxovault_investments")||"null")||Xl;R.useEffect(()=>{d(se.getAutoInvestPlans(e==null?void 0:e.uid))},[e]);const h=[{id:"daily",label:"Daily",desc:"Every day"},{id:"weekly",label:"Weekly",desc:"Every Monday"},{id:"biweekly",label:"Bi-Weekly",desc:"Every 2 weeks"},{id:"monthly",label:"Monthly",desc:"1st of each month"}],p=()=>{if(!o||r<50){alert("Please select an investment and enter at least $50");return}const _={userId:e==null?void 0:e.uid,investmentId:o.id,investmentName:o.name,amount:r,frequency:n,status:"active",nextExecution:x(n),totalInvested:0,executionCount:0};se.saveAutoInvestPlan(_),d([...u,_]),l(null),a(100),se.addNotification({type:"autoinvest",message:`Auto-invest plan created: $${r}/${n} into ${o.name}`})},x=_=>{const I=new Date;switch(_){case"daily":return new Date(I.setDate(I.getDate()+1)).toISOString();case"weekly":return new Date(I.setDate(I.getDate()+(7-I.getDay()+1)%7+1)).toISOString();case"biweekly":return new Date(I.setDate(I.getDate()+14)).toISOString();case"monthly":return new Date(I.getFullYear(),I.getMonth()+1,1).toISOString();default:return new Date(I.setDate(I.getDate()+7)).toISOString()}},S=_=>{confirm("Delete this auto-invest plan?")&&(se.deleteAutoInvestPlan(_),d(u.filter(I=>I.id!==_)))};return i.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t,children:i.jsxs(F.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto shadow-2xl",onClick:_=>_.stopPropagation(),children:[i.jsx("div",{className:"p-6 border-b border-gray-100",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"font-serif text-xl",style:{color:w.navy},children:[i.jsx(qu,{className:"w-5 h-5 inline mr-2 text-yellow-500"}),"Auto-Invest Plans"]}),i.jsx("p",{className:"text-sm text-gray-500",children:"Set up recurring investments automatically"})]}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full",children:i.jsx(tn,{className:"w-5 h-5"})})]})}),i.jsxs("div",{className:"p-6",children:[u.length>0&&i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"font-medium text-sm text-gray-700 mb-3",children:"Active Plans"}),i.jsx("div",{className:"space-y-2",children:u.map(_=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:_.investmentName}),i.jsxs("p",{className:"text-xs text-gray-500",children:["$",_.amount,"/",_.frequency]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${_.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:_.status}),i.jsx("button",{onClick:()=>S(_.id),className:"p-1.5 hover:bg-red-100 rounded text-red-500",children:i.jsx(iN,{className:"w-4 h-4"})})]})]},_.id))})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Investment"}),i.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto",children:f.slice(0,8).map(_=>i.jsxs("button",{onClick:()=>l(_),className:`p-3 rounded-xl text-left text-sm transition-all ${(o==null?void 0:o.id)===_.id?"ring-2 bg-blue-50":"bg-gray-50 hover:bg-gray-100"}`,style:(o==null?void 0:o.id)===_.id?{ringColor:w.navy}:{},children:[i.jsx("p",{className:"font-medium truncate",style:{color:w.navy},children:_.name}),i.jsxs("p",{className:"text-xs text-gray-500",children:[_.returns," returns"]})]},_.id))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount per Investment"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 font-medium",children:"$"}),i.jsx("input",{type:"number",value:r,onChange:_=>a(Math.max(50,+_.target.value)),className:"w-full pl-8 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2",style:{"--tw-ring-color":w.navy},min:"50"})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum $50 per investment"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Frequency"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:h.map(_=>i.jsxs("button",{onClick:()=>s(_.id),className:`p-3 rounded-xl text-left transition-all ${n===_.id?"text-white":"bg-gray-50 hover:bg-gray-100"}`,style:n===_.id?{background:w.navy}:{},children:[i.jsx("p",{className:"font-medium text-sm",children:_.label}),i.jsx("p",{className:`text-xs ${n===_.id?"text-white/70":"text-gray-500"}`,children:_.desc})]},_.id))})]}),o&&i.jsxs("div",{className:"p-4 rounded-xl",style:{background:`${w.green}10`},children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"You'll invest"}),i.jsxs("p",{className:"text-2xl font-bold",style:{color:w.navy},children:["$",r," / ",n]}),i.jsxs("p",{className:"text-sm text-gray-500",children:["into ",o.name]})]}),i.jsxs(F.button,{onClick:p,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:!o,className:"w-full py-4 rounded-xl text-white font-semibold disabled:opacity-50",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:[i.jsx(qu,{className:"w-5 h-5 inline mr-2"}),"Create Auto-Invest Plan"]})]})]})]})})}function P6({user:t,onVerify:e,onClose:n,onResend:s}){const[r,a]=R.useState(["","","","","",""]),[o,l]=R.useState(""),[u,d]=R.useState(!1),[f,h]=R.useState(0),p=R.useRef([]);R.useEffect(()=>{var T;(T=p.current[0])==null||T.focus()},[]),R.useEffect(()=>{if(f>0){const T=setTimeout(()=>h(v=>v-1),1e3);return()=>clearTimeout(T)}},[f]);const x=(T,v)=>{var D;if(!/^\d*$/.test(v))return;const b=[...r];b[T]=v.slice(-1),a(b),v&&T<5&&((D=p.current[T+1])==null||D.focus()),b.every(L=>L)&&b.join("").length===6&&_(b.join(""))},S=(T,v)=>{var b;v.key==="Backspace"&&!r[T]&&T>0&&((b=p.current[T-1])==null||b.focus())},_=async T=>{var b;d(!0),l("");const v=Xt.verify2FACode(t==null?void 0:t.uid,T);v.valid?e():(l(v.message),a(["","","","","",""]),(b=p.current[0])==null||b.focus()),d(!1)},I=async()=>{if(!(f>0)){d(!0);try{(await Xt.send2FACode(t==null?void 0:t.uid,t==null?void 0:t.email)).success?(h(60),a(["","","","","",""]),l("")):l("Failed to send code. Please try again.")}catch{l("Failed to send code. Please try again.")}d(!1)}};return i.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:i.jsxs(F.div,{initial:{scale:.9},animate:{scale:1},className:"bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl text-center",children:[i.jsx("div",{className:"w-16 h-16 rounded-full mx-auto mb-4 flex items-center justify-center",style:{background:`${w.navy}10`},children:i.jsx(nN,{className:"w-8 h-8",style:{color:w.navy}})}),i.jsx("h2",{className:"font-serif text-xl mb-2",style:{color:w.navy},children:"Two-Factor Authentication"}),i.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:["Enter the 6-digit code sent to",i.jsx("br",{}),i.jsx("strong",{children:t==null?void 0:t.email})]}),i.jsx("div",{className:"flex justify-center gap-2 mb-6",children:r.map((T,v)=>i.jsx("input",{ref:b=>p.current[v]=b,type:"text",inputMode:"numeric",maxLength:"1",value:T,onChange:b=>x(v,b.target.value),onKeyDown:b=>S(v,b),className:"w-12 h-14 text-center text-2xl font-bold border-2 rounded-xl focus:outline-none transition-all",style:{borderColor:o?"#ef4444":T?w.navy:"#e5e7eb"}},v))}),o&&i.jsxs("p",{className:"text-red-500 text-sm mb-4 flex items-center justify-center gap-1",children:[i.jsx(ia,{className:"w-4 h-4"})," ",o]}),i.jsx("button",{onClick:I,disabled:f>0,className:"text-sm text-gray-500 hover:text-gray-700 disabled:opacity-50 mb-4",children:f>0?`Resend code in ${f}s`:"Resend code"}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(F.button,{onClick:n,whileHover:{scale:1.02},className:"flex-1 py-3 rounded-xl border border-gray-200",children:"Cancel"}),i.jsx(F.button,{onClick:()=>_(r.join("")),whileHover:{scale:1.02},disabled:u||r.some(T=>!T),className:"flex-1 py-3 rounded-xl text-white font-medium disabled:opacity-50",style:{background:w.navy},children:u?"Verifying...":"Verify"})]})]})})}function R6({onLogin:t}){const[e,n]=R.useState(""),[s,r]=R.useState(""),[a,o]=R.useState(""),[l,u]=R.useState(!1),d=f=>{f.preventDefault(),u(!0),o(""),setTimeout(()=>{e===n1.email&&s===n1.password?(localStorage.setItem("saxovault_admin","true"),t()):o("Invalid admin credentials"),u(!1)},1e3)};return i.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:i.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"w-16 h-16 mx-auto rounded-2xl flex items-center justify-center mb-4",style:{background:`linear-gradient(135deg, ${w.gold} 0%, ${w.goldDark} 100%)`},children:i.jsx(vr,{className:"w-8 h-8 text-white"})}),i.jsx("h1",{className:"font-serif text-2xl",style:{color:w.navy},children:"Admin Portal"}),i.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"SaxoVault Capital Management"})]}),a&&i.jsxs("div",{className:"mb-4 p-3 rounded-xl bg-red-50 text-red-600 text-sm flex items-center gap-2",children:[i.jsx(ia,{className:"w-4 h-4"})," ",a]}),i.jsxs("form",{onSubmit:d,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Admin Email"}),i.jsxs("div",{className:"relative",children:[i.jsx(rs,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"email",value:e,onChange:f=>n(f.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"admin@saxovault.com",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(cr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"password",value:s,onChange:f=>r(f.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"",required:!0})]})]}),i.jsx(F.button,{type:"submit",disabled:l,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3.5 rounded-xl text-white font-semibold flex items-center justify-center gap-3",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:l?i.jsx(xn,{className:"w-5 h-5 animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(vr,{className:"w-5 h-5"})," Access Admin Panel"]})})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsx("a",{href:"/",className:"text-sm text-gray-500 hover:underline",children:" Back to Website"})})]})})}function D6({onLogout:t}){var ki,On,Ka;const[e,n]=R.useState("overview"),[s,r]=R.useState([]),[a,o]=R.useState([]),[l,u]=R.useState(se.getSettings()),[d,f]=R.useState(se.getNotifications()),[h,p]=R.useState(null),[x,S]=R.useState(!0),[_,I]=R.useState(()=>{const y=localStorage.getItem("saxovault_website_settings");return y?JSON.parse(y):{siteName:"SaxoVault Capital",tagline:"Premium Investment Solutions",heroTitle:"Invest in Your Future",heroSubtitle:"Professional wealth management with institutional-grade security",minDeposit:500,minWithdrawal:100,withdrawalFee:0,referralBonus:1,maintenanceMode:!1,registrationOpen:!0,kycRequired:!0,twoFactorRequired:!1}}),[T,v]=R.useState(()=>{const y=localStorage.getItem("saxovault_branding_settings");return y?JSON.parse(y):{primaryColor:"#0a1628",secondaryColor:"#1e3a5f",accentColor:"#d4af37",logoUrl:"",faviconUrl:"",footerText:" 2024 SaxoVault Capital. All rights reserved.",socialLinks:{twitter:"",telegram:"",linkedin:"",facebook:""}}}),[b,D]=R.useState(()=>{const y=localStorage.getItem("saxovault_payment_settings");return y?JSON.parse(y):{btcEnabled:!0,btcAddress:"bc1qzmgg6hw0fttfpczh2whp8f44k497d6pucghk58",btcMinDeposit:100,ethEnabled:!0,ethAddress:"0x742d35Cc6634C0532925a3b844Bc9e7595f5bE21",ethMinDeposit:100,usdtEnabled:!0,usdtAddress:"TYDzsYUEpvnYmQk4zGP9sWWcTEd2MiAtW6",usdtNetwork:"TRC-20",usdtMinDeposit:100,bankTransferEnabled:!1,bankName:"",bankAccount:"",bankRouting:""}}),[L,U]=R.useState(()=>{const y=localStorage.getItem("saxovault_platform_config");return y?JSON.parse(y):{maxDailyWithdrawal:5e4,maxSingleWithdrawal:25e3,withdrawalProcessingTime:"24-48 hours",autoApproveDeposits:!1,autoApproveWithdrawals:!1,emailNotifications:!0,smsNotifications:!1,sessionTimeout:30,maxLoginAttempts:5,ipWhitelist:"",blockedCountries:""}}),k=()=>{localStorage.setItem("saxovault_website_settings",JSON.stringify(_)),alert(" Website settings saved!")},N=()=>{localStorage.setItem("saxovault_branding_settings",JSON.stringify(T)),alert(" Branding settings saved!")},E=()=>{localStorage.setItem("saxovault_payment_settings",JSON.stringify(b)),alert(" Payment settings saved!")},C=()=>{localStorage.setItem("saxovault_platform_config",JSON.stringify(L)),alert(" Platform configuration saved!")};R.useEffect(()=>{(async()=>{S(!0);try{const re=await se.fetchUsersFromCloud();r(re);const Re=await se.fetchTransactionsFromCloud();o(Re),console.log(" Admin data loaded from Firestore:",re.length,"users,",Re.length,"transactions")}catch(re){console.error("Error loading data:",re),r(se.getUsers()),o(se.getTransactions())}S(!1)})();const X=n6(re=>{r(re),se.setUsers(re)}),W=t6(re=>{o(re),se.setTransactions(re)});return()=>{X&&X(),W&&W()}},[]);const P=s.length,V=a.filter(y=>y.type==="deposit"&&y.status==="completed").reduce((y,X)=>y+(parseFloat(X.amount)||0),0),A=a.filter(y=>y.type==="deposit"&&y.status==="pending").length,Q=a.filter(y=>y.type==="withdrawal"&&y.status==="pending").length,ae=async(y,X)=>{const W=s.map(re=>re.uid===y?{...re,...X}:re);r(W),await se.updateUser(y,X),se.addNotification({type:"user_update",message:"User updated successfully"}),p(null)},me=async(y,X)=>{const W=a.find(Se=>Se.id===y||Se.firestoreId===y),re={status:X,updatedAt:new Date().toISOString()};if(W&&X==="completed"&&W.type==="investment"){const Se=new Date,je=W.totalDays||30,Ae=new Date(Se);Ae.setDate(Ae.getDate()+je),re.approvalDate=Se.toISOString(),re.maturityDate=Ae.toISOString(),re.countdownStarted=!0,re.countdownEndsAt=Ae.toISOString(),console.log(` Investment ${W.investmentName} approved!`),console.log(`   Countdown started: ${Se.toISOString()}`),console.log(`   Maturity date: ${Ae.toISOString()} (${je} days)`)}const Re=a.map(Se=>Se.id===y||Se.firestoreId===y?{...Se,...re}:Se);if(o(Re),await se.updateTransaction(y,re),W&&X==="completed"&&W.type==="deposit"){const Se=s.find(je=>je.uid===W.userId||je.email===W.userEmail);if(Se){const je=(parseFloat(Se.balance)||0)+parseFloat(W.amount);await se.updateUser(Se.uid,{balance:je}),r(s.map(Ae=>Ae.uid===Se.uid?{...Ae,balance:je}:Ae)),console.log(` User ${Se.email} balance updated to $${je}`)}}if(W&&X==="completed"&&W.type==="withdrawal"){const Se=s.find(je=>je.uid===W.userId||je.email===W.userEmail);if(Se){const je=Math.max(0,(parseFloat(Se.balance)||0)-parseFloat(W.amount));await se.updateUser(Se.uid,{balance:je}),r(s.map(Ae=>Ae.uid===Se.uid?{...Ae,balance:je}:Ae)),console.log(` User ${Se.email} balance updated to $${je} after withdrawal`)}}if(W&&X==="completed"&&W.type==="investment"){const je=JSON.parse(localStorage.getItem(`investments_${W.userId}`)||"[]").map(Ae=>Ae.investmentId===W.investmentId?{...Ae,...re}:Ae);localStorage.setItem(`investments_${W.userId}`,JSON.stringify(je)),console.log(` Investment countdown started for ${W.userEmail}`)}if(se.addNotification({type:"tx_update",message:`Transaction ${X}`}),W&&W.userEmail){const Se=X==="completed"?"Approved":X==="rejected"?"Rejected":X,je=W.type.charAt(0).toUpperCase()+W.type.slice(1);console.log(` Preparing to send ${Se} email to ${W.userEmail}`),console.log(` Transaction type: ${je}, Amount: ${W.amount}`);try{const Ae=await Te.sendStatusUpdate(W.userEmail,je,Se,W.amount,X==="rejected"?"Please contact support if you have questions.":W.type==="investment"?`Your investment is now active. Duration: ${W.totalDays||30} days.`:W.type==="deposit"?"Funds have been credited to your account.":W.type==="withdrawal"?"Funds will be sent to your wallet shortly.":"");console.log(` Status notification sent to ${W.userEmail}:`,Ae),alert(` ${je} ${Se}! Email notification sent to ${W.userEmail}`)}catch(Ae){console.error(" Failed to send status notification:",Ae),alert(` ${je} ${Se}! (Email notification failed - check console)`)}}else console.warn(" No user email found for transaction:",W)},pe=y=>{u(y),se.setSettings(y),se.addNotification({type:"settings_update",message:"Settings updated successfully"}),alert("Settings saved successfully!")},O=JSON.parse(localStorage.getItem("saxovault_tickets")||"[]"),q=O.filter(y=>y.status==="open").length,[ne,ie]=R.useState(()=>{const y=localStorage.getItem("saxovault_investments");return y?JSON.parse(y):Xl}),[K,Ie]=R.useState(null),[H,be]=R.useState(!1),[de,Ce]=R.useState({name:"",category:"Real Estate",type:"real-estate",min:1e3,returns:"10-15%",term:"12 months",desc:"",status:"Funding",progress:0,goal:1e6}),un=y=>{let X;y.id?X=ne.map(W=>W.id===y.id?y:W):(y.id=Date.now(),X=[...ne,y]),ie(X),localStorage.setItem("saxovault_investments",JSON.stringify(X)),se.addNotification({type:"investment",message:y.id?"Investment updated":"Investment added"}),Ie(null),be(!1)},_n=y=>{if(confirm("Are you sure you want to delete this investment?")){const X=ne.filter(W=>W.id!==y);ie(X),localStorage.setItem("saxovault_investments",JSON.stringify(X)),se.addNotification({type:"investment",message:"Investment deleted"})}},[Ln,$t]=R.useState(!1),[Ba,As]=R.useState(!1),[Vt,Ti]=R.useState(null),[Dr,Ei]=R.useState(""),[ji,ot]=R.useState(""),[lt,Vr]=R.useState(""),[za,Ha]=R.useState(""),lh=()=>{if(!Dr||!ji){alert("Please enter both title and message");return}const y={id:Date.now(),type:"broadcast",title:Dr,message:ji,sentAt:new Date().toISOString(),recipients:s.length},X=JSON.parse(localStorage.getItem("saxovault_messages")||"[]");localStorage.setItem("saxovault_messages",JSON.stringify([y,...X]));const W=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}");s.forEach(re=>{W[re.uid]||(W[re.uid]=[]),W[re.uid].unshift({...y,read:!1})}),localStorage.setItem("saxovault_user_notifications",JSON.stringify(W)),se.addNotification({type:"broadcast",message:`Broadcast sent to ${s.length} users`}),Ei(""),ot(""),$t(!1),alert(` Message sent to ${s.length} users!`)},Lr=()=>{if(!lt||!za||!Vt){alert("Please enter both subject and message");return}const y={id:Date.now(),type:"personal",title:lt,message:za,sentAt:new Date().toISOString(),recipient:Vt.email,recipientId:Vt.uid},X=JSON.parse(localStorage.getItem("saxovault_messages")||"[]");localStorage.setItem("saxovault_messages",JSON.stringify([y,...X]));const W=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}");W[Vt.uid]||(W[Vt.uid]=[]),W[Vt.uid].unshift({...y,read:!1}),localStorage.setItem("saxovault_user_notifications",JSON.stringify(W)),se.addNotification({type:"personal_msg",message:`Message sent to ${Vt.email}`}),Vr(""),Ha(""),Ti(null),As(!1),alert(` Message sent to ${Vt.name||Vt.email}!`)},Mn=JSON.parse(localStorage.getItem("saxovault_pending_investments")||"[]"),Zl=Mn.filter(y=>y.status==="pending").length,Wa=async y=>{const X=Mn.map(re=>re.id===y.id?{...re,status:"approved",approvedAt:new Date().toISOString()}:re);localStorage.setItem("saxovault_pending_investments",JSON.stringify(X));const W=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}");W[y.userEmail]||(W[y.userEmail]=[]),W[y.userEmail].unshift({id:Date.now(),type:"investment_approved",title:" Investment Approved!",message:`Your $${y.amount.toLocaleString()} investment in ${y.investmentName} has been approved.`,read:!1,createdAt:new Date().toISOString()}),localStorage.setItem("saxovault_user_notifications",JSON.stringify(W));try{await Te.sendStatusUpdate(y.userEmail,"Investment","Approved",y.amount,`Your investment in ${y.investmentName} is now active. Duration: ${y.term||y.totalDays+" days"}.`),console.log(` Investment approval email sent to ${y.userEmail}`)}catch(re){console.error(" Failed to send approval email:",re)}se.addNotification({type:"investment_approved",message:`Investment approved: $${y.amount.toLocaleString()}`}),alert("Investment approved!"),window.location.reload()},ch=async y=>{if(!confirm("Are you sure you want to reject this investment?"))return;const X=Mn.map(re=>re.id===y.id?{...re,status:"rejected",rejectedAt:new Date().toISOString()}:re);localStorage.setItem("saxovault_pending_investments",JSON.stringify(X));const W=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}");W[y.userEmail]||(W[y.userEmail]=[]),W[y.userEmail].unshift({id:Date.now(),type:"investment_rejected",title:" Investment Rejected",message:`Your $${y.amount.toLocaleString()} investment in ${y.investmentName} was not approved. Please contact support.`,read:!1,createdAt:new Date().toISOString()}),localStorage.setItem("saxovault_user_notifications",JSON.stringify(W));try{await Te.sendStatusUpdate(y.userEmail,"Investment","Rejected",y.amount,"Your investment was not approved. Please contact support if you have questions."),console.log(` Investment rejection email sent to ${y.userEmail}`)}catch(re){console.error(" Failed to send rejection email:",re)}se.addNotification({type:"investment_rejected",message:"Investment rejected"}),alert("Investment rejected."),window.location.reload()},uh=[{id:"overview",name:"Overview",icon:_g},{id:"users",name:"Users",icon:Wu},{id:"transactions",name:"Transactions",icon:K2},{id:"pending",name:"Pending",icon:wa,badge:Zl},{id:"kyc",name:"KYC Verification",icon:vr},{id:"investments",name:"Investments",icon:ii},{id:"tickets",name:"Tickets",icon:sN,badge:q},{id:"website",name:"Website Editor",icon:ri},{id:"branding",name:"Branding",icon:T4},{id:"payments",name:"Payment Methods",icon:_v},{id:"platform",name:"Platform Config",icon:Xc}],Nn=JSON.parse(localStorage.getItem("saxovault_kyc_submissions")||"[]"),qa=Nn.filter(y=>y.status==="submitted"||y.status==="pending").length,Mr=async y=>{const X=Nn.map(re=>re.userId===y.userId?{...re,status:"verified",verifiedAt:new Date().toISOString()}:re);localStorage.setItem("saxovault_kyc_submissions",JSON.stringify(X)),localStorage.setItem(`kyc_${y.userId}`,JSON.stringify({...y,status:"verified",verifiedAt:new Date().toISOString()}));const W=s.find(re=>re.uid===y.userId||re.email===y.userEmail);W&&await se.updateUser(W.uid,{kycStatus:"verified",kycVerifiedAt:new Date().toISOString()});try{await Te.sendKYCStatusUpdate(y.userEmail,"approved"),console.log(` KYC approval email sent to ${y.userEmail}`)}catch(re){console.error(" Failed to send KYC approval email:",re)}se.addNotification({type:"kyc_approved",message:`KYC approved for ${y.userEmail}`}),alert(` KYC approved for ${y.fullName||y.userEmail}`),window.location.reload()},Ga=async(y,X="")=>{const W=X||prompt("Enter rejection reason (optional):")||"Documents could not be verified",re=Nn.map(Re=>Re.userId===y.userId?{...Re,status:"rejected",rejectedAt:new Date().toISOString(),rejectReason:W}:Re);localStorage.setItem("saxovault_kyc_submissions",JSON.stringify(re)),localStorage.setItem(`kyc_${y.userId}`,JSON.stringify({...y,status:"rejected",rejectedAt:new Date().toISOString(),rejectReason:W}));try{await Te.sendKYCStatusUpdate(y.userEmail,"rejected",W),console.log(` KYC rejection email sent to ${y.userEmail}`)}catch(Re){console.error(" Failed to send KYC rejection email:",Re)}se.addNotification({type:"kyc_rejected",message:`KYC rejected for ${y.userEmail}`}),alert(`KYC rejected for ${y.fullName||y.userEmail}`),window.location.reload()};return i.jsxs("div",{className:"min-h-screen",style:{background:w.cream},children:[i.jsxs("div",{className:"bg-white shadow-md px-4 lg:px-6 py-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:`linear-gradient(135deg, ${w.gold} 0%, ${w.goldDark} 100%)`},children:i.jsx(Q2,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"font-serif text-lg lg:text-xl",style:{color:w.navy},children:"Admin Dashboard"}),i.jsx("p",{className:"text-gray-500 text-xs",children:"SaxoVault Capital"})]})]}),i.jsxs(F.button,{onClick:t,whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center gap-2 px-3 lg:px-4 py-2 rounded-xl bg-red-50 text-red-600 hover:bg-red-100 text-sm",children:[i.jsx(ba,{className:"w-4 h-4"})," ",i.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]}),i.jsxs("div",{className:"flex flex-col lg:flex-row",children:[i.jsx("div",{className:"lg:w-64 bg-white shadow-lg lg:min-h-screen",children:i.jsx("div",{className:"flex lg:flex-col overflow-x-auto lg:overflow-x-visible p-2 lg:p-4 gap-2",children:uh.map(y=>i.jsxs(F.button,{onClick:()=>n(y.id),whileTap:{scale:.98},className:`flex items-center gap-2 lg:gap-3 px-3 lg:px-4 py-2 lg:py-3 rounded-xl whitespace-nowrap transition-all ${e===y.id?"shadow-md":"hover:bg-gray-50"}`,style:e===y.id?{background:`${w.navy}10`,color:w.navy}:{color:"#6b7280"},children:[i.jsx(y.icon,{className:"w-4 h-4 lg:w-5 lg:h-5"}),i.jsx("span",{className:"font-medium text-sm",children:y.name}),y.id==="transactions"&&A+Q>0&&i.jsx("span",{className:"ml-auto px-2 py-0.5 rounded-full text-xs bg-red-500 text-white",children:A+Q}),y.id==="kyc"&&qa>0&&i.jsx("span",{className:"ml-auto px-2 py-0.5 rounded-full text-xs bg-yellow-500 text-white",children:qa}),y.id==="tickets"&&q>0&&i.jsx("span",{className:"ml-auto px-2 py-0.5 rounded-full text-xs bg-purple-500 text-white",children:q})]},y.id))})}),i.jsxs("div",{className:"flex-1 p-4 lg:p-6",children:[e==="overview"&&i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:w.navy},children:"Dashboard Overview"}),(()=>{const y=se.getAdminNotifications().filter(X=>X.actionRequired&&!X.read);return y.length===0?null:i.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 border border-red-200 rounded-xl p-4 mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-red-100 flex items-center justify-center",children:i.jsx(lr,{className:"w-5 h-5 text-red-600 animate-pulse"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-red-800",children:"Action Required"}),i.jsxs("p",{className:"text-sm text-red-600",children:[y.length," notification(s) need your attention"]})]})]}),i.jsx("div",{className:"space-y-2",children:y.slice(0,5).map((X,W)=>i.jsxs("div",{className:"flex items-center justify-between bg-white rounded-lg p-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:X.title}),i.jsx("p",{className:"text-xs text-gray-500",children:X.message})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs text-gray-400",children:new Date(X.createdAt).toLocaleTimeString()}),i.jsx("button",{onClick:()=>se.markAdminNotifRead(X.id),className:"p-1 hover:bg-gray-100 rounded",children:i.jsx(kn,{className:"w-4 h-4 text-green-600"})})]})]},W))})]})})(),i.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mb-8",children:[{label:"Total Users",value:P,icon:Wu,color:w.navy},{label:"Total Deposits",value:`$${V.toLocaleString()}`,icon:ms,color:w.green},{label:"Pending Deposits",value:A,icon:wa,color:w.gold},{label:"Pending Withdrawals",value:Q,icon:Kn,color:"#ef4444"}].map((y,X)=>i.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:X*.1},className:"bg-white rounded-xl lg:rounded-2xl p-4 lg:p-6 shadow-lg",children:[i.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 rounded-xl flex items-center justify-center mb-3",style:{background:`${y.color}15`},children:i.jsx(y.icon,{className:"w-5 h-5 lg:w-6 lg:h-6",style:{color:y.color}})}),i.jsx("p",{className:"text-gray-500 text-xs lg:text-sm",children:y.label}),i.jsx("p",{className:"text-xl lg:text-2xl font-bold",style:{color:y.color},children:y.value})]},X))}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsx("h3",{className:"font-serif text-lg mb-4",style:{color:w.navy},children:"Recent Transactions"}),i.jsxs("div",{className:"space-y-3",children:[a.slice(0,5).map((y,X)=>{var W;return i.jsxs("div",{className:"flex items-center justify-between p-3 lg:p-4 rounded-xl bg-gray-50",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-8 h-8 lg:w-10 lg:h-10 rounded-full flex items-center justify-center ${y.type==="deposit"?"bg-green-100":"bg-orange-100"}`,children:y.type==="deposit"?i.jsx(ms,{className:"w-4 h-4 lg:w-5 lg:h-5 text-green-600"}):i.jsx(Kn,{className:"w-4 h-4 lg:w-5 lg:h-5 text-orange-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:y.type==="deposit"?"Deposit":"Withdrawal"}),i.jsx("p",{className:"text-xs text-gray-500",children:y.userEmail})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"font-bold text-sm lg:text-base",children:["$",(W=y.amount)==null?void 0:W.toLocaleString()]}),i.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${y.status==="completed"?"bg-green-100 text-green-700":y.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:y.status})]})]},X)}),a.length===0&&i.jsx("p",{className:"text-center text-gray-500 py-8",children:"No transactions yet"})]})]})]}),e==="users"&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl",style:{color:w.navy},children:"User Management"}),i.jsxs(F.button,{onClick:()=>$t(!0),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-2 px-4 py-2 rounded-xl text-white text-sm font-medium",style:{background:w.navy},children:[i.jsx($o,{className:"w-4 h-4"})," Broadcast Message"]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg overflow-hidden",children:[i.jsx("div",{className:"p-4 border-b border-gray-100",children:i.jsxs("p",{className:"text-gray-500 text-sm",children:[s.length," registered users"]})}),i.jsxs("div",{className:"divide-y divide-gray-100",children:[s.map((y,X)=>{var W,re;return i.jsx("div",{className:`p-4 hover:bg-gray-50 transition-colors ${y.status==="banned"?"bg-red-50":y.status==="suspended"?"bg-yellow-50":""}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"w-10 h-10 lg:w-12 lg:h-12 rounded-full flex items-center justify-center text-white font-bold text-sm relative",style:{background:y.status==="banned"?"#ef4444":y.status==="suspended"?"#f59e0b":`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:[((W=y.name)==null?void 0:W.charAt(0))||((re=y.email)==null?void 0:re.charAt(0))||"U",y.status==="banned"&&i.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-600 rounded-full flex items-center justify-center",children:i.jsx(tn,{className:"w-3 h-3 text-white"})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:y.name||"No Name"}),y.status==="banned"&&i.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-red-100 text-red-700",children:"Banned"}),y.status==="suspended"&&i.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-yellow-100 text-yellow-700",children:"Suspended"})]}),i.jsx("p",{className:"text-xs text-gray-500",children:y.email})]})]}),i.jsxs("div",{className:"flex items-center gap-2 lg:gap-3",children:[i.jsxs("div",{className:"text-right hidden sm:block",children:[i.jsxs("p",{className:"font-bold text-sm",style:{color:w.green},children:["$",(y.balance||0).toLocaleString()]}),i.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${y.kycStatus==="verified"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:y.kycStatus||"pending"})]}),i.jsx(F.button,{onClick:()=>{Ti(y),As(!0)},whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 rounded-lg hover:bg-blue-100",title:"Send Message",children:i.jsx(rs,{className:"w-4 h-4 text-blue-500"})}),i.jsx(F.button,{onClick:()=>p(y),whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 rounded-lg hover:bg-gray-100",title:"Edit User",children:i.jsx(Xc,{className:"w-4 h-4 text-gray-500"})})]})]})},X)}),s.length===0&&i.jsx("p",{className:"text-center text-gray-500 py-12",children:"No users registered yet"})]})]}),i.jsx(gt,{children:h&&i.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>p(null),children:i.jsxs(F.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl",onClick:y=>y.stopPropagation(),children:[i.jsxs("h3",{className:"font-serif text-xl mb-4",style:{color:w.navy},children:["Edit User: ",h.name||h.email]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Balance ($)"}),i.jsx("input",{type:"number",value:h.balance||0,onChange:y=>p({...h,balance:parseFloat(y.target.value)||0}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"KYC Status"}),i.jsxs("select",{value:h.kycStatus||"pending",onChange:y=>p({...h,kycStatus:y.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",children:[i.jsx("option",{value:"pending",children:"Pending"}),i.jsx("option",{value:"verified",children:"Verified"}),i.jsx("option",{value:"rejected",children:"Rejected"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Status"}),i.jsxs("select",{value:h.status||"active",onChange:y=>p({...h,status:y.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",children:[i.jsx("option",{value:"active",children:" Active"}),i.jsx("option",{value:"suspended",children:" Suspended"}),i.jsx("option",{value:"banned",children:" Banned"})]}),h.status==="suspended"&&i.jsx("p",{className:"text-xs text-yellow-600 mt-1",children:"User can't withdraw or invest while suspended"}),h.status==="banned"&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:"User cannot access their account"})]})]}),i.jsxs("div",{className:"flex gap-3 mt-6",children:[i.jsx(F.button,{onClick:()=>p(null),whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl border border-gray-200",children:"Cancel"}),i.jsx(F.button,{onClick:()=>ae(h.uid,h),whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl text-white",style:{background:w.navy},children:"Save Changes"})]})]})})}),i.jsx(gt,{children:Ln&&i.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>$t(!1),children:i.jsxs(F.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-white rounded-2xl p-6 w-full max-w-lg shadow-2xl",onClick:y=>y.stopPropagation(),children:[i.jsx("h3",{className:"font-serif text-xl mb-4",style:{color:w.navy},children:" Broadcast Message to All Users"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message Title"}),i.jsx("input",{type:"text",value:Dr,onChange:y=>Ei(y.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",placeholder:"Important Announcement"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),i.jsx("textarea",{rows:4,value:ji,onChange:y=>ot(y.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-xl resize-none",placeholder:"Enter your message to all users..."})]}),i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-3",children:i.jsxs("p",{className:"text-sm text-blue-700",children:[" This message will be sent to ",i.jsx("strong",{children:s.length})," users"]})})]}),i.jsxs("div",{className:"flex gap-3 mt-6",children:[i.jsx(F.button,{onClick:()=>$t(!1),whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl border border-gray-200",children:"Cancel"}),i.jsxs(F.button,{onClick:lh,whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl text-white flex items-center justify-center gap-2",style:{background:w.navy},children:[i.jsx($o,{className:"w-4 h-4"})," Send to All"]})]})]})})}),i.jsx(gt,{children:Ba&&Vt&&i.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>{As(!1),Ti(null)},children:i.jsxs(F.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-white rounded-2xl p-6 w-full max-w-lg shadow-2xl",onClick:y=>y.stopPropagation(),children:[i.jsxs("h3",{className:"font-serif text-xl mb-4",style:{color:w.navy},children:[" Message to ",Vt.name||Vt.email]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),i.jsx("input",{type:"text",value:lt,onChange:y=>Vr(y.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",placeholder:"Account Update"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),i.jsx("textarea",{rows:4,value:za,onChange:y=>Ha(y.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-xl resize-none",placeholder:"Enter your message..."})]})]}),i.jsxs("div",{className:"flex gap-3 mt-6",children:[i.jsx(F.button,{onClick:()=>{As(!1),Ti(null)},whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl border border-gray-200",children:"Cancel"}),i.jsxs(F.button,{onClick:Lr,whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl text-white flex items-center justify-center gap-2",style:{background:w.green},children:[i.jsx($o,{className:"w-4 h-4"})," Send Message"]})]})]})})})]}),e==="transactions"&&i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:w.navy},children:"Transaction Management"}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg overflow-hidden",children:[i.jsx("div",{className:"p-4 border-b border-gray-100",children:i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("span",{className:"px-3 py-1 rounded-full text-xs bg-yellow-100 text-yellow-700",children:[A," pending deposits"]}),i.jsxs("span",{className:"px-3 py-1 rounded-full text-xs bg-orange-100 text-orange-700",children:[Q," pending withdrawals"]})]})}),i.jsxs("div",{className:"divide-y divide-gray-100",children:[a.map((y,X)=>{var W;return i.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${y.type==="deposit"?"bg-green-100":"bg-orange-100"}`,children:y.type==="deposit"?i.jsx(ms,{className:"w-5 h-5 text-green-600"}):i.jsx(Kn,{className:"w-5 h-5 text-orange-600"})}),i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium text-sm",style:{color:w.navy},children:[y.type==="deposit"?"Deposit":"Withdrawal"," - ",y.crypto]}),i.jsx("p",{className:"text-xs text-gray-500",children:y.userEmail}),i.jsx("p",{className:"text-xs text-gray-400",children:new Date(y.createdAt).toLocaleString()})]})]}),i.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"font-bold",children:["$",(W=y.amount)==null?void 0:W.toLocaleString()]}),i.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${y.status==="completed"?"bg-green-100 text-green-700":y.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:y.status})]}),y.status==="pending"&&i.jsxs("div",{className:"flex gap-2",children:[i.jsx(F.button,{onClick:()=>me(y.id,"completed"),whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 rounded-lg bg-green-100 text-green-600 hover:bg-green-200",children:i.jsx(kn,{className:"w-4 h-4"})}),i.jsx(F.button,{onClick:()=>me(y.id,"rejected"),whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 rounded-lg bg-red-100 text-red-600 hover:bg-red-200",children:i.jsx(tn,{className:"w-4 h-4"})})]})]})]})},X)}),a.length===0&&i.jsx("p",{className:"text-center text-gray-500 py-12",children:"No transactions yet"})]})]})]}),e==="notifications"&&i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:w.navy},children:"Activity Log"}),i.jsx("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg overflow-hidden",children:i.jsxs("div",{className:"divide-y divide-gray-100",children:[d.map((y,X)=>i.jsx("div",{className:`p-4 ${y.read?"":"bg-blue-50"}`,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center flex-shrink-0",children:i.jsx(lr,{className:"w-5 h-5 text-gray-500"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:y.message}),i.jsx("p",{className:"text-xs text-gray-500",children:new Date(y.createdAt).toLocaleString()})]})]})},X)),d.length===0&&i.jsx("p",{className:"text-center text-gray-500 py-12",children:"No activity yet"})]})})]}),e==="pending"&&i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:w.navy},children:"Pending Approvals"}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[i.jsx("div",{className:"p-4 border-b border-gray-100",children:i.jsxs("p",{className:"text-sm text-gray-500",children:[Mn.filter(y=>y.status==="pending").length," pending approvals"]})}),i.jsxs("div",{className:"divide-y divide-gray-100",children:[Mn.filter(y=>y.status==="pending").map((y,X)=>{var W;return i.jsx("div",{className:"p-4 hover:bg-yellow-50 transition-colors",children:i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"px-2 py-0.5 bg-yellow-100 text-yellow-700 rounded-full text-xs font-medium",children:" Pending"}),i.jsx("span",{className:"text-xs text-gray-400",children:new Date(y.createdAt).toLocaleDateString()})]}),i.jsx("p",{className:"font-semibold",style:{color:w.navy},children:y.investmentName}),i.jsx("p",{className:"text-sm text-gray-500",children:y.userEmail}),i.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm",children:[i.jsxs("span",{className:"font-bold text-lg",style:{color:w.green},children:["$",(W=y.amount)==null?void 0:W.toLocaleString()]}),i.jsxs("span",{className:"text-gray-400",children:["via ",y.crypto]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(F.button,{onClick:()=>Wa(y),whileHover:{scale:1.05},className:"px-4 py-2 rounded-lg text-white text-sm font-medium",style:{background:w.green},children:[i.jsx(kn,{className:"w-4 h-4 inline mr-1"})," Approve"]}),i.jsxs(F.button,{onClick:()=>ch(y),whileHover:{scale:1.05},className:"px-4 py-2 rounded-lg bg-red-100 text-red-600 text-sm font-medium",children:[i.jsx(tn,{className:"w-4 h-4 inline mr-1"})," Reject"]})]})]})},X)}),Mn.filter(y=>y.status==="pending").length===0&&i.jsx("p",{className:"text-center text-gray-500 py-12",children:"No pending approvals"})]})]}),i.jsx("h3",{className:"font-serif text-lg mt-8 mb-4",style:{color:w.navy},children:"Recent Decisions"}),i.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:i.jsx("div",{className:"divide-y divide-gray-100",children:Mn.filter(y=>y.status!=="pending").slice(0,10).map((y,X)=>{var W;return i.jsx("div",{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:y.investmentName}),i.jsx("p",{className:"text-xs text-gray-500",children:y.userEmail})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${y.status==="approved"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:y.status==="approved"?" Approved":" Rejected"}),i.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["$",(W=y.amount)==null?void 0:W.toLocaleString()]})]})]})},X)})})})]}),e==="investments"&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl",style:{color:w.navy},children:"Investment Plans"}),i.jsxs(F.button,{onClick:()=>be(!0),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-2 px-4 py-2 rounded-xl text-white text-sm font-medium",style:{background:w.green},children:[i.jsx(C4,{className:"w-4 h-4"})," Add Investment"]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[i.jsx("div",{className:"p-4 border-b border-gray-100",children:i.jsxs("p",{className:"text-sm text-gray-500",children:[ne.length," investment plans"]})}),i.jsx("div",{className:"divide-y divide-gray-100",children:ne.map((y,X)=>{var W;return i.jsx("div",{className:"p-4 hover:bg-gray-50",children:i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-gray-100 flex items-center justify-center flex-shrink-0",children:i.jsx(bg,{className:"w-6 h-6 text-gray-500"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"font-semibold truncate",style:{color:w.navy},children:y.name}),i.jsxs("p",{className:"text-xs text-gray-500",children:[y.category,"  Min $",(W=y.min)==null?void 0:W.toLocaleString()]}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-green-100 text-green-700",children:y.returns}),i.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-blue-100 text-blue-700",children:y.term}),i.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${y.status==="Active"?"bg-green-100 text-green-700":y.status==="Funding"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:y.status})]})]})]}),i.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[i.jsx(F.button,{onClick:()=>Ie(y),whileHover:{scale:1.1},className:"p-2 rounded-lg bg-blue-100 text-blue-600",children:i.jsx(I4,{className:"w-4 h-4"})}),i.jsx(F.button,{onClick:()=>_n(y.id),whileHover:{scale:1.1},className:"p-2 rounded-lg bg-red-100 text-red-600",children:i.jsx(iN,{className:"w-4 h-4"})})]})]})},X)})})]}),i.jsx(gt,{children:(H||K)&&i.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>{be(!1),Ie(null)},children:i.jsxs(F.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-white rounded-2xl p-6 w-full max-w-lg shadow-2xl max-h-[90vh] overflow-y-auto",onClick:y=>y.stopPropagation(),children:[i.jsx("h3",{className:"font-serif text-xl mb-4",style:{color:w.navy},children:K?"Edit Investment":"Add New Investment"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),i.jsx("input",{type:"text",value:(K==null?void 0:K.name)||de.name,onChange:y=>K?Ie({...K,name:y.target.value}):Ce({...de,name:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl",placeholder:"Greenwich Towers"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),i.jsxs("select",{value:(K==null?void 0:K.category)||de.category,onChange:y=>K?Ie({...K,category:y.target.value}):Ce({...de,category:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl",children:[i.jsx("option",{children:"Real Estate"}),i.jsx("option",{children:"Cryptocurrency"}),i.jsx("option",{children:"Stocks & Bonds"}),i.jsx("option",{children:"Precious Metals"}),i.jsx("option",{children:"Investment Plans"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),i.jsxs("select",{value:(K==null?void 0:K.status)||de.status,onChange:y=>K?Ie({...K,status:y.target.value}):Ce({...de,status:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl",children:[i.jsx("option",{children:"Funding"}),i.jsx("option",{children:"Active"}),i.jsx("option",{children:"Open"}),i.jsx("option",{children:"Closed"}),i.jsx("option",{children:"Coming Soon"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Returns (e.g. 12-15%)"}),i.jsx("input",{type:"text",value:(K==null?void 0:K.returns)||de.returns,onChange:y=>K?Ie({...K,returns:y.target.value}):Ce({...de,returns:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl",placeholder:"12-15%"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Term (e.g. 24 months)"}),i.jsx("input",{type:"text",value:(K==null?void 0:K.term)||de.term,onChange:y=>K?Ie({...K,term:y.target.value}):Ce({...de,term:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl",placeholder:"24 months"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Investment ($)"}),i.jsx("input",{type:"number",value:(K==null?void 0:K.min)||de.min,onChange:y=>K?Ie({...K,min:parseInt(y.target.value)}):Ce({...de,min:parseInt(y.target.value)}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Funding Goal ($)"}),i.jsx("input",{type:"number",value:(K==null?void 0:K.goal)||de.goal,onChange:y=>K?Ie({...K,goal:parseInt(y.target.value)}):Ce({...de,goal:parseInt(y.target.value)}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Progress (%)"}),i.jsx("input",{type:"number",min:"0",max:"100",value:(K==null?void 0:K.progress)||de.progress,onChange:y=>K?Ie({...K,progress:parseInt(y.target.value)}):Ce({...de,progress:parseInt(y.target.value)}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),i.jsx("textarea",{rows:3,value:(K==null?void 0:K.desc)||de.desc,onChange:y=>K?Ie({...K,desc:y.target.value}):Ce({...de,desc:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl resize-none",placeholder:"Premium mixed-use development..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image URL (optional)"}),i.jsx("input",{type:"text",value:(K==null?void 0:K.customImg)||"",onChange:y=>K?Ie({...K,customImg:y.target.value}):Ce({...de,customImg:y.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl",placeholder:"https://example.com/image.jpg"})]})]}),i.jsxs("div",{className:"flex gap-3 mt-6",children:[i.jsx(F.button,{onClick:()=>{be(!1),Ie(null)},whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl border border-gray-200",children:"Cancel"}),i.jsx(F.button,{onClick:()=>un(K||de),whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl text-white",style:{background:w.green},children:K?"Save Changes":"Add Investment"})]})]})})})]}),e==="kyc"&&i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:w.navy},children:"KYC Verification"}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg overflow-hidden",children:[i.jsx("div",{className:"p-4 border-b border-gray-100",children:i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("span",{className:"px-3 py-1 rounded-full text-xs bg-yellow-100 text-yellow-700",children:[Nn.filter(y=>y.status==="submitted"||y.status==="pending").length," pending review"]}),i.jsxs("span",{className:"px-3 py-1 rounded-full text-xs bg-green-100 text-green-700",children:[Nn.filter(y=>y.status==="verified").length," verified"]}),i.jsxs("span",{className:"px-3 py-1 rounded-full text-xs bg-red-100 text-red-700",children:[Nn.filter(y=>y.status==="rejected").length," rejected"]})]})}),Nn.length===0?i.jsxs("div",{className:"p-8 text-center",children:[i.jsx(vr,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),i.jsx("p",{className:"text-gray-500",children:"No KYC submissions yet"})]}):i.jsx("div",{className:"divide-y divide-gray-100",children:Nn.map((y,X)=>i.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("span",{className:"font-semibold",style:{color:w.navy},children:y.fullName||"Unknown"}),i.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${y.status==="verified"?"bg-green-100 text-green-700":y.status==="rejected"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:y.status||"pending"})]}),i.jsx("p",{className:"text-sm text-gray-500",children:y.userEmail}),i.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 text-xs text-gray-500",children:[i.jsxs("span",{children:["ID Type: ",y.idType]}),i.jsx("span",{children:""}),i.jsxs("span",{children:["ID #: ",y.idNumber]}),i.jsx("span",{children:""}),i.jsxs("span",{children:["DOB: ",y.dateOfBirth]})]}),i.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Submitted: ",new Date(y.submittedAt).toLocaleString()]})]}),i.jsxs("div",{className:"flex gap-2",children:[y.idFront&&i.jsxs("div",{className:"relative group",children:[i.jsx("img",{src:y.idFront,alt:"ID Front",className:"w-16 h-12 object-cover rounded-lg border cursor-pointer",onClick:()=>window.open(y.idFront,"_blank")}),i.jsx("span",{className:"absolute -bottom-5 left-0 text-[10px] text-gray-500",children:"Front"})]}),y.idBack&&i.jsxs("div",{className:"relative group",children:[i.jsx("img",{src:y.idBack,alt:"ID Back",className:"w-16 h-12 object-cover rounded-lg border cursor-pointer",onClick:()=>window.open(y.idBack,"_blank")}),i.jsx("span",{className:"absolute -bottom-5 left-0 text-[10px] text-gray-500",children:"Back"})]}),y.selfie&&i.jsxs("div",{className:"relative group",children:[i.jsx("img",{src:y.selfie,alt:"Selfie",className:"w-16 h-12 object-cover rounded-lg border cursor-pointer",onClick:()=>window.open(y.selfie,"_blank")}),i.jsx("span",{className:"absolute -bottom-5 left-0 text-[10px] text-gray-500",children:"Selfie"})]})]}),(y.status==="submitted"||y.status==="pending")&&i.jsxs("div",{className:"flex gap-2 flex-shrink-0 mt-4 lg:mt-0",children:[i.jsxs(F.button,{onClick:()=>Mr(y),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-xl text-white text-sm font-medium flex items-center gap-1",style:{background:w.green},children:[i.jsx(kn,{className:"w-4 h-4"})," Approve"]}),i.jsxs(F.button,{onClick:()=>Ga(y),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-xl bg-red-500 text-white text-sm font-medium flex items-center gap-1",children:[i.jsx(tn,{className:"w-4 h-4"})," Reject"]})]}),y.status==="verified"&&i.jsxs("span",{className:"px-4 py-2 rounded-xl bg-green-100 text-green-700 text-sm font-medium flex items-center gap-1",children:[i.jsx(Je,{className:"w-4 h-4"})," Verified"]}),y.status==="rejected"&&i.jsxs("div",{className:"text-right",children:[i.jsx("span",{className:"px-4 py-2 rounded-xl bg-red-100 text-red-700 text-sm font-medium",children:"Rejected"}),y.rejectReason&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:y.rejectReason})]})]})},X))})]})]}),e==="tickets"&&i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:w.navy},children:"Support Tickets"}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg overflow-hidden",children:[i.jsx("div",{className:"p-4 border-b border-gray-100",children:i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("span",{className:"px-3 py-1 rounded-full text-xs bg-purple-100 text-purple-700",children:[q," open tickets"]}),i.jsxs("span",{className:"px-3 py-1 rounded-full text-xs bg-green-100 text-green-700",children:[O.filter(y=>y.status==="closed").length," closed"]})]})}),i.jsxs("div",{className:"divide-y divide-gray-100",children:[O.map((y,X)=>i.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"font-mono text-xs px-2 py-0.5 rounded bg-gray-100",style:{color:w.navy},children:y.id}),i.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${y.priority==="urgent"?"bg-red-100 text-red-700":y.priority==="high"?"bg-orange-100 text-orange-700":y.priority==="medium"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:y.priority}),i.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${y.status==="open"?"bg-purple-100 text-purple-700":y.status==="in-progress"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:y.status})]}),i.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:y.subject}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["From: ",y.name," (",y.email,")"]}),i.jsx("p",{className:"text-xs text-gray-400",children:new Date(y.createdAt).toLocaleString()}),i.jsx("p",{className:"text-sm text-gray-600 mt-2 line-clamp-2",children:y.message})]}),i.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[y.status==="open"&&i.jsxs(i.Fragment,{children:[i.jsx(F.button,{onClick:()=>{const W=O.map(re=>re.id===y.id?{...re,status:"in-progress"}:re);localStorage.setItem("saxovault_tickets",JSON.stringify(W)),window.location.reload()},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-3 py-1.5 rounded-lg bg-blue-100 text-blue-700 text-xs font-medium",children:"In Progress"}),i.jsxs(F.a,{href:`mailto:${y.email}?subject=Re: ${y.subject} [${y.id}]&body=Hi ${y.name},%0D%0A%0D%0AThank you for contacting SaxoVault Capital support.%0D%0A%0D%0A[Your response here]%0D%0A%0D%0ABest regards,%0D%0ASaxoVault Capital Support Team`,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-3 py-1.5 rounded-lg bg-green-100 text-green-700 text-xs font-medium flex items-center gap-1",children:[i.jsx(rs,{className:"w-3 h-3"})," Reply"]})]}),y.status!=="closed"&&i.jsx(F.button,{onClick:()=>{const W=O.map(re=>re.id===y.id?{...re,status:"closed"}:re);localStorage.setItem("saxovault_tickets",JSON.stringify(W)),window.location.reload()},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-3 py-1.5 rounded-lg bg-gray-100 text-gray-700 text-xs font-medium",children:"Close"})]})]})},X)),O.length===0&&i.jsx("p",{className:"text-center text-gray-500 py-12",children:"No tickets yet"})]})]})]}),e==="website"&&i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:w.navy},children:"Website Editor"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:w.navy},children:[i.jsx(ri,{className:"w-5 h-5"})," General Settings"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Site Name"}),i.jsx("input",{type:"text",value:_.siteName,onChange:y=>I({..._,siteName:y.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tagline"}),i.jsx("input",{type:"text",value:_.tagline,onChange:y=>I({..._,tagline:y.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hero Title"}),i.jsx("input",{type:"text",value:_.heroTitle,onChange:y=>I({..._,heroTitle:y.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hero Subtitle"}),i.jsx("textarea",{value:_.heroSubtitle,onChange:y=>I({..._,heroSubtitle:y.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",rows:2})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:w.navy},children:[i.jsx(Am,{className:"w-5 h-5"})," Investment Limits"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Deposit ($)"}),i.jsx("input",{type:"number",value:_.minDeposit,onChange:y=>I({..._,minDeposit:parseInt(y.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Withdrawal ($)"}),i.jsx("input",{type:"number",value:_.minWithdrawal,onChange:y=>I({..._,minWithdrawal:parseInt(y.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Withdrawal Fee (%)"}),i.jsx("input",{type:"number",value:_.withdrawalFee,onChange:y=>I({..._,withdrawalFee:parseFloat(y.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",step:"0.1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Referral Bonus (%)"}),i.jsx("input",{type:"number",value:_.referralBonus,onChange:y=>I({..._,referralBonus:parseFloat(y.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",step:"0.1"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:w.navy},children:[i.jsx(Xc,{className:"w-5 h-5"})," Feature Toggles"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100",children:[i.jsx("input",{type:"checkbox",checked:_.maintenanceMode,onChange:y=>I({..._,maintenanceMode:y.target.checked}),className:"w-5 h-5 rounded"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:"Maintenance Mode"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Disable site for visitors"})]})]}),i.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100",children:[i.jsx("input",{type:"checkbox",checked:_.registrationOpen,onChange:y=>I({..._,registrationOpen:y.target.checked}),className:"w-5 h-5 rounded"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:"Registration Open"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Allow new user signups"})]})]}),i.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100",children:[i.jsx("input",{type:"checkbox",checked:_.kycRequired,onChange:y=>I({..._,kycRequired:y.target.checked}),className:"w-5 h-5 rounded"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:"KYC Required"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Require identity verification"})]})]}),i.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100",children:[i.jsx("input",{type:"checkbox",checked:_.twoFactorRequired,onChange:y=>I({..._,twoFactorRequired:y.target.checked}),className:"w-5 h-5 rounded"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:"2FA Required"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Force two-factor authentication"})]})]})]})]}),i.jsx(F.button,{onClick:k,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 rounded-xl text-white font-semibold",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:"Save Website Settings"})]})]}),e==="branding"&&i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:w.navy},children:"Branding"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:w.navy},children:[i.jsx(k4,{className:"w-5 h-5"})," Brand Colors"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Primary Color"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"color",value:T.primaryColor,onChange:y=>v({...T,primaryColor:y.target.value}),className:"w-12 h-10 rounded cursor-pointer"}),i.jsx("input",{type:"text",value:T.primaryColor,onChange:y=>v({...T,primaryColor:y.target.value}),className:"flex-1 px-4 py-2 border border-gray-200 rounded-xl font-mono text-sm"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Secondary Color"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"color",value:T.secondaryColor,onChange:y=>v({...T,secondaryColor:y.target.value}),className:"w-12 h-10 rounded cursor-pointer"}),i.jsx("input",{type:"text",value:T.secondaryColor,onChange:y=>v({...T,secondaryColor:y.target.value}),className:"flex-1 px-4 py-2 border border-gray-200 rounded-xl font-mono text-sm"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Accent Color (Gold)"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"color",value:T.accentColor,onChange:y=>v({...T,accentColor:y.target.value}),className:"w-12 h-10 rounded cursor-pointer"}),i.jsx("input",{type:"text",value:T.accentColor,onChange:y=>v({...T,accentColor:y.target.value}),className:"flex-1 px-4 py-2 border border-gray-200 rounded-xl font-mono text-sm"})]})]})]}),i.jsxs("div",{className:"mt-4 p-4 rounded-xl",style:{background:T.primaryColor},children:[i.jsx("p",{className:"text-white font-medium",children:"Primary Background Preview"}),i.jsx("p",{className:"text-sm mt-2",style:{color:T.accentColor},children:"Accent Text Color"})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:w.navy},children:[i.jsx(P4,{className:"w-5 h-5"})," Social Links"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Twitter/X URL"}),i.jsx("input",{type:"url",value:T.socialLinks.twitter,onChange:y=>v({...T,socialLinks:{...T.socialLinks,twitter:y.target.value}}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",placeholder:"https://twitter.com/..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telegram URL"}),i.jsx("input",{type:"url",value:T.socialLinks.telegram,onChange:y=>v({...T,socialLinks:{...T.socialLinks,telegram:y.target.value}}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",placeholder:"https://t.me/..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"LinkedIn URL"}),i.jsx("input",{type:"url",value:T.socialLinks.linkedin,onChange:y=>v({...T,socialLinks:{...T.socialLinks,linkedin:y.target.value}}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",placeholder:"https://linkedin.com/..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Facebook URL"}),i.jsx("input",{type:"url",value:T.socialLinks.facebook,onChange:y=>v({...T,socialLinks:{...T.socialLinks,facebook:y.target.value}}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",placeholder:"https://facebook.com/..."})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:w.navy},children:[i.jsx(zu,{className:"w-5 h-5"})," Footer Text"]}),i.jsx("textarea",{value:T.footerText,onChange:y=>v({...T,footerText:y.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",rows:2})]}),i.jsx(F.button,{onClick:N,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 rounded-xl text-white font-semibold",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:"Save Branding Settings"})]})]}),e==="payments"&&i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:w.navy},children:"Payment Methods"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"font-serif text-lg flex items-center gap-2",style:{color:w.navy},children:[i.jsx("span",{className:"text-orange-500",children:""})," Bitcoin (BTC)"]}),i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:b.btcEnabled,onChange:y=>D({...b,btcEnabled:y.target.checked}),className:"w-5 h-5 rounded"}),i.jsx("span",{className:"text-sm font-medium",children:"Enabled"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Wallet Address"}),i.jsx("input",{type:"text",value:b.btcAddress,onChange:y=>D({...b,btcAddress:y.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl font-mono text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Deposit ($)"}),i.jsx("input",{type:"number",value:b.btcMinDeposit,onChange:y=>D({...b,btcMinDeposit:parseInt(y.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"font-serif text-lg flex items-center gap-2",style:{color:w.navy},children:[i.jsx("span",{className:"text-blue-500",children:""})," Ethereum (ETH)"]}),i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:b.ethEnabled,onChange:y=>D({...b,ethEnabled:y.target.checked}),className:"w-5 h-5 rounded"}),i.jsx("span",{className:"text-sm font-medium",children:"Enabled"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Wallet Address"}),i.jsx("input",{type:"text",value:b.ethAddress,onChange:y=>D({...b,ethAddress:y.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl font-mono text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Deposit ($)"}),i.jsx("input",{type:"number",value:b.ethMinDeposit,onChange:y=>D({...b,ethMinDeposit:parseInt(y.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"font-serif text-lg flex items-center gap-2",style:{color:w.navy},children:[i.jsx("span",{className:"text-green-500",children:""})," USDT (Tether)"]}),i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:b.usdtEnabled,onChange:y=>D({...b,usdtEnabled:y.target.checked}),className:"w-5 h-5 rounded"}),i.jsx("span",{className:"text-sm font-medium",children:"Enabled"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Wallet Address"}),i.jsx("input",{type:"text",value:b.usdtAddress,onChange:y=>D({...b,usdtAddress:y.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl font-mono text-sm"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Network"}),i.jsxs("select",{value:b.usdtNetwork,onChange:y=>D({...b,usdtNetwork:y.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",children:[i.jsx("option",{value:"TRC-20",children:"TRC-20 (Tron)"}),i.jsx("option",{value:"ERC-20",children:"ERC-20 (Ethereum)"}),i.jsx("option",{value:"BEP-20",children:"BEP-20 (BSC)"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Deposit ($)"}),i.jsx("input",{type:"number",value:b.usdtMinDeposit,onChange:y=>D({...b,usdtMinDeposit:parseInt(y.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"font-serif text-lg flex items-center gap-2",style:{color:w.navy},children:[i.jsx(v4,{className:"w-5 h-5"})," Bank Transfer"]}),i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:b.bankTransferEnabled,onChange:y=>D({...b,bankTransferEnabled:y.target.checked}),className:"w-5 h-5 rounded"}),i.jsx("span",{className:"text-sm font-medium",children:"Enabled"})]})]}),b.bankTransferEnabled&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bank Name"}),i.jsx("input",{type:"text",value:b.bankName,onChange:y=>D({...b,bankName:y.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Number"}),i.jsx("input",{type:"text",value:b.bankAccount,onChange:y=>D({...b,bankAccount:y.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Routing Number"}),i.jsx("input",{type:"text",value:b.bankRouting,onChange:y=>D({...b,bankRouting:y.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]})]})]}),i.jsx(F.button,{onClick:E,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 rounded-xl text-white font-semibold",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:"Save Payment Settings"})]})]}),e==="platform"&&i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:w.navy},children:"Platform Configuration"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:w.navy},children:[i.jsx(Am,{className:"w-5 h-5"})," Withdrawal Limits"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Daily Withdrawal ($)"}),i.jsx("input",{type:"number",value:L.maxDailyWithdrawal,onChange:y=>U({...L,maxDailyWithdrawal:parseInt(y.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Single Withdrawal ($)"}),i.jsx("input",{type:"number",value:L.maxSingleWithdrawal,onChange:y=>U({...L,maxSingleWithdrawal:parseInt(y.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Processing Time"}),i.jsx("input",{type:"text",value:L.withdrawalProcessingTime,onChange:y=>U({...L,withdrawalProcessingTime:y.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:w.navy},children:[i.jsx(qu,{className:"w-5 h-5"})," Automation"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100",children:[i.jsx("input",{type:"checkbox",checked:L.autoApproveDeposits,onChange:y=>U({...L,autoApproveDeposits:y.target.checked}),className:"w-5 h-5 rounded"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:"Auto-Approve Deposits"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Automatically approve all deposits"})]})]}),i.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100",children:[i.jsx("input",{type:"checkbox",checked:L.autoApproveWithdrawals,onChange:y=>U({...L,autoApproveWithdrawals:y.target.checked}),className:"w-5 h-5 rounded"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:"Auto-Approve Withdrawals"}),i.jsx("p",{className:"text-xs text-gray-500 text-red-500",children:" Use with caution"})]})]}),i.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100",children:[i.jsx("input",{type:"checkbox",checked:L.emailNotifications,onChange:y=>U({...L,emailNotifications:y.target.checked}),className:"w-5 h-5 rounded"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:"Email Notifications"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Send email alerts for transactions"})]})]}),i.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100",children:[i.jsx("input",{type:"checkbox",checked:L.smsNotifications,onChange:y=>U({...L,smsNotifications:y.target.checked}),className:"w-5 h-5 rounded"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:"SMS Notifications"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Send SMS alerts (requires setup)"})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:w.navy},children:[i.jsx(aa,{className:"w-5 h-5"})," Security Settings"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Session Timeout (minutes)"}),i.jsx("input",{type:"number",value:L.sessionTimeout,onChange:y=>U({...L,sessionTimeout:parseInt(y.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Login Attempts"}),i.jsx("input",{type:"number",value:L.maxLoginAttempts,onChange:y=>U({...L,maxLoginAttempts:parseInt(y.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"IP Whitelist (comma separated)"}),i.jsx("input",{type:"text",value:L.ipWhitelist,onChange:y=>U({...L,ipWhitelist:y.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",placeholder:"Leave empty to allow all IPs"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blocked Countries (comma separated)"}),i.jsx("input",{type:"text",value:L.blockedCountries,onChange:y=>U({...L,blockedCountries:y.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",placeholder:"e.g., US, UK, CN"})]})]})]}),i.jsx(F.button,{onClick:C,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 rounded-xl text-white font-semibold",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:"Save Platform Configuration"})]})]}),e==="settings"&&i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:w.navy},children:"Platform Settings"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:w.navy},children:[i.jsx(_v,{className:"w-5 h-5"})," Deposit Wallet Addresses"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bitcoin (BTC)"}),i.jsx("input",{type:"text",value:((ki=l.wallets)==null?void 0:ki.btc)||"",onChange:y=>u({...l,wallets:{...l.wallets,btc:y.target.value}}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl font-mono text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ethereum (ETH)"}),i.jsx("input",{type:"text",value:((On=l.wallets)==null?void 0:On.eth)||"",onChange:y=>u({...l,wallets:{...l.wallets,eth:y.target.value}}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl font-mono text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"USDT (TRC-20)"}),i.jsx("input",{type:"text",value:((Ka=l.wallets)==null?void 0:Ka.usdt)||"",onChange:y=>u({...l,wallets:{...l.wallets,usdt:y.target.value}}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl font-mono text-sm"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:w.navy},children:[i.jsx(tN,{className:"w-5 h-5"})," Contact Settings"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"WhatsApp Number"}),i.jsx("input",{type:"text",value:l.whatsapp||"",onChange:y=>u({...l,whatsapp:y.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",placeholder:"+1234567890"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Support Email"}),i.jsx("input",{type:"email",value:l.email||"",onChange:y=>u({...l,email:y.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:w.navy},children:[i.jsx(ri,{className:"w-5 h-5"})," Site Settings"]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Site Name"}),i.jsx("input",{type:"text",value:l.siteName||"",onChange:y=>u({...l,siteName:y.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]})]}),i.jsx(F.button,{onClick:()=>pe(l),whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 rounded-xl text-white font-semibold",style:{background:`linear-gradient(135deg, ${w.green} 0%, ${w.greenDark} 100%)`},children:"Save All Settings"})]})]})]})]})]})}function V6(){const[t,e]=R.useState(!1),[n,s]=R.useState(!1),[r,a]=R.useState(!1),[o,l]=R.useState(!1),[u,d]=R.useState("home"),[f,h]=R.useState(null),[p,x]=R.useState(!1),[S,_]=R.useState({name:"",email:"",phone:"",address:"",balance:0,profileImage:null}),I=(L,U)=>{const k=JSON.parse(localStorage.getItem("saxovault_activity_logs")||"{}");k[U]||(k[U]=[]),k[U].unshift({type:L,timestamp:new Date().toISOString(),ip:"User IP",device:navigator.userAgent.includes("Mobile")?"Mobile Device":"Desktop Browser"}),k[U]=k[U].slice(0,50),localStorage.setItem("saxovault_activity_logs",JSON.stringify(k))};R.useEffect(()=>{(window.location.pathname==="/admin"||window.location.hash==="#admin")&&a(!0),localStorage.getItem("saxovault_admin")==="true"&&(s(!0),a(!0))},[]);const T=L=>{if(L){_({name:L.name||"",email:L.email||"",phone:L.phone||"",country:L.country||"",balance:L.balance||0,profileImage:L.profileImage||null}),I("login",L.email);const U=se.getUsers();if(!U.find(E=>E.email===L.email)&&(U.push({...L,uid:L.uid||Date.now().toString(),createdAt:new Date().toISOString(),balance:0,totalDeposited:0,totalWithdrawn:0,totalEarnings:0,activeInvestments:0,referralEarnings:0,referralCount:0,onboardingComplete:!1}),se.setUsers(U),l(!0),se.notifyAdmin({type:"new_user",title:" New User Registration",message:`${L.name||"New user"} (${L.email}) just registered`,urgent:!0,actionRequired:!1}),L.referralCode)){const E=U.find(C=>C.referralCode===L.referralCode||C.uid===L.referralCode);if(E){Te.sendReferralNotification(E.email,L.name||L.email);const C=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}");C[E.uid]||(C[E.uid]=[]),C[E.uid].unshift({id:Date.now(),type:"referral",title:" New Referral!",message:`${L.name||"Someone"} signed up using your referral link!`,read:!1,createdAt:new Date().toISOString()}),localStorage.setItem("saxovault_user_notifications",JSON.stringify(C)),se.notifyAdmin({type:"referral",title:" New Referral Signup",message:`${L.email} signed up via ${E.email}'s referral`,urgent:!1,actionRequired:!1})}}localStorage.setItem("saxovault_current_user",JSON.stringify(L))}e(!0)},v=async()=>{try{S.email&&I("logout",S.email),await i6()}catch{}e(!1),_({name:"",email:"",phone:"",address:"",balance:0,profileImage:null}),localStorage.removeItem("saxovault_current_user")},b=()=>{localStorage.removeItem("saxovault_admin"),s(!1),a(!1)};if(r&&!n)return i.jsx(R6,{onLogin:()=>s(!0)});if(n)return i.jsx(D6,{onLogout:b});if(!t)return i.jsx(m6,{onLogin:T});const D=L=>h(L);return i.jsxs("div",{className:"min-h-screen",style:{background:w.cream},children:[i.jsx(gt,{children:o&&i.jsx(d6,{onComplete:()=>l(!1)})}),i.jsx(p6,{activePage:u,onNavigate:d,user:S,onLogout:v}),i.jsxs(gt,{children:[f&&!p&&i.jsx(b6,{investment:f,onClose:()=>h(null),onInvest:()=>x(!0)}),p&&f&&i.jsx(_6,{investment:f,onClose:()=>{x(!1),h(null)},balance:S.balance})]}),i.jsxs(gt,{mode:"wait",children:[u==="home"&&i.jsx(v6,{onNavigate:d,onSelectInvestment:D},"home"),u==="investments"&&i.jsx(w6,{onSelectInvestment:D},"investments"),u==="dashboard"&&i.jsx(N6,{user:S,onNavigate:d},"dashboard"),u==="history"&&i.jsx(S6,{user:S},"history"),u==="notifications"&&i.jsx(T6,{user:S},"notifications"),u==="activity"&&i.jsx(E6,{user:S},"activity"),u==="referral"&&i.jsx(k6,{user:S},"referral"),u==="calculator"&&i.jsx(I6,{},"calculator"),u==="profile"&&i.jsx(C6,{user:S,setUser:_,onLogout:v},"profile")]}),i.jsx(g6,{activePage:u,onNavigate:d}),i.jsx(y6,{})]})}Nf.createRoot(document.getElementById("root")).render(i.jsx(md.StrictMode,{children:i.jsx(V6,{})}));
