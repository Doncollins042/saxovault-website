(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function dE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var t1={exports:{}},sd={},n1={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yl=Symbol.for("react.element"),hE=Symbol.for("react.portal"),fE=Symbol.for("react.fragment"),mE=Symbol.for("react.strict_mode"),pE=Symbol.for("react.profiler"),gE=Symbol.for("react.provider"),yE=Symbol.for("react.context"),xE=Symbol.for("react.forward_ref"),vE=Symbol.for("react.suspense"),wE=Symbol.for("react.memo"),_E=Symbol.for("react.lazy"),ax=Symbol.iterator;function bE(t){return t===null||typeof t!="object"?null:(t=ax&&t[ax]||t["@@iterator"],typeof t=="function"?t:null)}var s1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},r1=Object.assign,i1={};function _a(t,e,n){this.props=t,this.context=e,this.refs=i1,this.updater=n||s1}_a.prototype.isReactComponent={};_a.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_a.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function a1(){}a1.prototype=_a.prototype;function Ym(t,e,n){this.props=t,this.context=e,this.refs=i1,this.updater=n||s1}var Jm=Ym.prototype=new a1;Jm.constructor=Ym;r1(Jm,_a.prototype);Jm.isPureReactComponent=!0;var ox=Array.isArray,o1=Object.prototype.hasOwnProperty,Xm={current:null},l1={key:!0,ref:!0,__self:!0,__source:!0};function c1(t,e,n){var s,r={},i=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)o1.call(e,s)&&!l1.hasOwnProperty(s)&&(r[s]=e[s]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var u=Array(l),d=0;d<l;d++)u[d]=arguments[d+2];r.children=u}if(t&&t.defaultProps)for(s in l=t.defaultProps,l)r[s]===void 0&&(r[s]=l[s]);return{$$typeof:yl,type:t,key:i,ref:o,props:r,_owner:Xm.current}}function NE(t,e){return{$$typeof:yl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Zm(t){return typeof t=="object"&&t!==null&&t.$$typeof===yl}function SE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var lx=/\/+/g;function ph(t,e){return typeof t=="object"&&t!==null&&t.key!=null?SE(""+t.key):e.toString(36)}function Ac(t,e,n,s,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case yl:case hE:o=!0}}if(o)return o=t,r=r(o),t=s===""?"."+ph(o,0):s,ox(r)?(n="",t!=null&&(n=t.replace(lx,"$&/")+"/"),Ac(r,e,n,"",function(d){return d})):r!=null&&(Zm(r)&&(r=NE(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(lx,"$&/")+"/")+t)),e.push(r)),1;if(o=0,s=s===""?".":s+":",ox(t))for(var l=0;l<t.length;l++){i=t[l];var u=s+ph(i,l);o+=Ac(i,e,n,u,r)}else if(u=bE(t),typeof u=="function")for(t=u.call(t),l=0;!(i=t.next()).done;)i=i.value,u=s+ph(i,l++),o+=Ac(i,e,n,u,r);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function sc(t,e,n){if(t==null)return t;var s=[],r=0;return Ac(t,s,"","",function(i){return e.call(n,i,r++)}),s}function TE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Lt={current:null},Cc={transition:null},EE={ReactCurrentDispatcher:Lt,ReactCurrentBatchConfig:Cc,ReactCurrentOwner:Xm};function u1(){throw Error("act(...) is not supported in production builds of React.")}pe.Children={map:sc,forEach:function(t,e,n){sc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return sc(t,function(){e++}),e},toArray:function(t){return sc(t,function(e){return e})||[]},only:function(t){if(!Zm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};pe.Component=_a;pe.Fragment=fE;pe.Profiler=pE;pe.PureComponent=Ym;pe.StrictMode=mE;pe.Suspense=vE;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EE;pe.act=u1;pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=r1({},t.props),r=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Xm.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)o1.call(e,u)&&!l1.hasOwnProperty(u)&&(s[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)s.children=n;else if(1<u){l=Array(u);for(var d=0;d<u;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:yl,type:t.type,key:r,ref:i,props:s,_owner:o}};pe.createContext=function(t){return t={$$typeof:yE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:gE,_context:t},t.Consumer=t};pe.createElement=c1;pe.createFactory=function(t){var e=c1.bind(null,t);return e.type=t,e};pe.createRef=function(){return{current:null}};pe.forwardRef=function(t){return{$$typeof:xE,render:t}};pe.isValidElement=Zm;pe.lazy=function(t){return{$$typeof:_E,_payload:{_status:-1,_result:t},_init:TE}};pe.memo=function(t,e){return{$$typeof:wE,type:t,compare:e===void 0?null:e}};pe.startTransition=function(t){var e=Cc.transition;Cc.transition={};try{t()}finally{Cc.transition=e}};pe.unstable_act=u1;pe.useCallback=function(t,e){return Lt.current.useCallback(t,e)};pe.useContext=function(t){return Lt.current.useContext(t)};pe.useDebugValue=function(){};pe.useDeferredValue=function(t){return Lt.current.useDeferredValue(t)};pe.useEffect=function(t,e){return Lt.current.useEffect(t,e)};pe.useId=function(){return Lt.current.useId()};pe.useImperativeHandle=function(t,e,n){return Lt.current.useImperativeHandle(t,e,n)};pe.useInsertionEffect=function(t,e){return Lt.current.useInsertionEffect(t,e)};pe.useLayoutEffect=function(t,e){return Lt.current.useLayoutEffect(t,e)};pe.useMemo=function(t,e){return Lt.current.useMemo(t,e)};pe.useReducer=function(t,e,n){return Lt.current.useReducer(t,e,n)};pe.useRef=function(t){return Lt.current.useRef(t)};pe.useState=function(t){return Lt.current.useState(t)};pe.useSyncExternalStore=function(t,e,n){return Lt.current.useSyncExternalStore(t,e,n)};pe.useTransition=function(){return Lt.current.useTransition()};pe.version="18.3.1";n1.exports=pe;var R=n1.exports;const rd=dE(R);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IE=R,jE=Symbol.for("react.element"),kE=Symbol.for("react.fragment"),AE=Object.prototype.hasOwnProperty,CE=IE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,PE={key:!0,ref:!0,__self:!0,__source:!0};function d1(t,e,n){var s,r={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)AE.call(e,s)&&!PE.hasOwnProperty(s)&&(r[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:jE,type:t,key:i,ref:o,props:r,_owner:CE.current}}sd.Fragment=kE;sd.jsx=d1;sd.jsxs=d1;t1.exports=sd;var a=t1.exports,ff={},h1={exports:{}},rn={},f1={exports:{}},m1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,q){var oe=O.length;O.push(q);e:for(;0<oe;){var B=oe-1>>>1,se=O[B];if(0<r(se,q))O[B]=q,O[oe]=se,oe=B;else break e}}function n(O){return O.length===0?null:O[0]}function s(O){if(O.length===0)return null;var q=O[0],oe=O.pop();if(oe!==q){O[0]=oe;e:for(var B=0,se=O.length,lt=se>>>1;B<lt;){var Le=2*(B+1)-1,Gt=O[Le],We=Le+1,Ot=O[We];if(0>r(Gt,oe))We<se&&0>r(Ot,Gt)?(O[B]=Ot,O[We]=oe,B=We):(O[B]=Gt,O[Le]=oe,B=Le);else if(We<se&&0>r(Ot,oe))O[B]=Ot,O[We]=oe,B=We;else break e}}return q}function r(O,q){var oe=O.sortIndex-q.sortIndex;return oe!==0?oe:O.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],d=[],f=1,h=null,p=3,y=!1,b=!1,I=!1,A=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(O){for(var q=n(d);q!==null;){if(q.callback===null)s(d);else if(q.startTime<=O)s(d),q.sortIndex=q.expirationTime,e(u,q);else break;q=n(d)}}function V(O){if(I=!1,_(O),!b)if(n(u)!==null)b=!0,ue(L);else{var q=n(d);q!==null&&fe(V,q.startTime-O)}}function L(O,q){b=!1,I&&(I=!1,E(w),w=-1),y=!0;var oe=p;try{for(_(q),h=n(u);h!==null&&(!(h.expirationTime>q)||O&&!P());){var B=h.callback;if(typeof B=="function"){h.callback=null,p=h.priorityLevel;var se=B(h.expirationTime<=q);q=t.unstable_now(),typeof se=="function"?h.callback=se:h===n(u)&&s(u),_(q)}else s(u);h=n(u)}if(h!==null)var lt=!0;else{var Le=n(d);Le!==null&&fe(V,Le.startTime-q),lt=!1}return lt}finally{h=null,p=oe,y=!1}}var F=!1,j=null,w=-1,N=5,S=-1;function P(){return!(t.unstable_now()-S<N)}function D(){if(j!==null){var O=t.unstable_now();S=O;var q=!0;try{q=j(!0,O)}finally{q?C():(F=!1,j=null)}}else F=!1}var C;if(typeof x=="function")C=function(){x(D)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,J=W.port2;W.port1.onmessage=D,C=function(){J.postMessage(null)}}else C=function(){A(D,0)};function ue(O){j=O,F||(F=!0,C())}function fe(O,q){w=A(function(){O(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){b||y||(b=!0,ue(L))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(O){switch(p){case 1:case 2:case 3:var q=3;break;default:q=p}var oe=p;p=q;try{return O()}finally{p=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,q){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var oe=p;p=O;try{return q()}finally{p=oe}},t.unstable_scheduleCallback=function(O,q,oe){var B=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?B+oe:B):oe=B,O){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=oe+se,O={id:f++,callback:q,priorityLevel:O,startTime:oe,expirationTime:se,sortIndex:-1},oe>B?(O.sortIndex=oe,e(d,O),n(u)===null&&O===n(d)&&(I?(E(w),w=-1):I=!0,fe(V,oe-B))):(O.sortIndex=se,e(u,O),b||y||(b=!0,ue(L))),O},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(O){var q=p;return function(){var oe=p;p=q;try{return O.apply(this,arguments)}finally{p=oe}}}})(m1);f1.exports=m1;var RE=f1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DE=R,nn=RE;function G(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p1=new Set,Uo={};function hi(t,e){Zi(t,e),Zi(t+"Capture",e)}function Zi(t,e){for(Uo[t]=e,t=0;t<e.length;t++)p1.add(e[t])}var fs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mf=Object.prototype.hasOwnProperty,VE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cx={},ux={};function LE(t){return mf.call(ux,t)?!0:mf.call(cx,t)?!1:VE.test(t)?ux[t]=!0:(cx[t]=!0,!1)}function ME(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function OE(t,e,n,s){if(e===null||typeof e>"u"||ME(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Mt(t,e,n,s,r,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){wt[t]=new Mt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];wt[e]=new Mt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){wt[t]=new Mt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){wt[t]=new Mt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){wt[t]=new Mt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){wt[t]=new Mt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){wt[t]=new Mt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){wt[t]=new Mt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){wt[t]=new Mt(t,5,!1,t.toLowerCase(),null,!1,!1)});var ep=/[\-:]([a-z])/g;function tp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ep,tp);wt[e]=new Mt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ep,tp);wt[e]=new Mt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ep,tp);wt[e]=new Mt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){wt[t]=new Mt(t,1,!1,t.toLowerCase(),null,!1,!1)});wt.xlinkHref=new Mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){wt[t]=new Mt(t,1,!1,t.toLowerCase(),null,!0,!0)});function np(t,e,n,s){var r=wt.hasOwnProperty(e)?wt[e]:null;(r!==null?r.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(OE(e,n,r,s)&&(n=null),s||r===null?LE(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,s=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var bs=DE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rc=Symbol.for("react.element"),Ei=Symbol.for("react.portal"),Ii=Symbol.for("react.fragment"),sp=Symbol.for("react.strict_mode"),pf=Symbol.for("react.profiler"),g1=Symbol.for("react.provider"),y1=Symbol.for("react.context"),rp=Symbol.for("react.forward_ref"),gf=Symbol.for("react.suspense"),yf=Symbol.for("react.suspense_list"),ip=Symbol.for("react.memo"),Ls=Symbol.for("react.lazy"),x1=Symbol.for("react.offscreen"),dx=Symbol.iterator;function Ja(t){return t===null||typeof t!="object"?null:(t=dx&&t[dx]||t["@@iterator"],typeof t=="function"?t:null)}var Ue=Object.assign,gh;function oo(t){if(gh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);gh=e&&e[1]||""}return`
`+gh+t}var yh=!1;function xh(t,e){if(!t||yh)return"";yh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var s=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){s=d}t.call(e.prototype)}else{try{throw Error()}catch(d){s=d}t()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var r=d.stack.split(`
`),i=s.stack.split(`
`),o=r.length-1,l=i.length-1;1<=o&&0<=l&&r[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(r[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||r[o]!==i[l]){var u=`
`+r[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{yh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?oo(t):""}function FE(t){switch(t.tag){case 5:return oo(t.type);case 16:return oo("Lazy");case 13:return oo("Suspense");case 19:return oo("SuspenseList");case 0:case 2:case 15:return t=xh(t.type,!1),t;case 11:return t=xh(t.type.render,!1),t;case 1:return t=xh(t.type,!0),t;default:return""}}function xf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ii:return"Fragment";case Ei:return"Portal";case pf:return"Profiler";case sp:return"StrictMode";case gf:return"Suspense";case yf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case y1:return(t.displayName||"Context")+".Consumer";case g1:return(t._context.displayName||"Context")+".Provider";case rp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ip:return e=t.displayName||null,e!==null?e:xf(t.type)||"Memo";case Ls:e=t._payload,t=t._init;try{return xf(t(e))}catch{}}return null}function UE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xf(e);case 8:return e===sp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function dr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function v1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $E(t){var e=v1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ic(t){t._valueTracker||(t._valueTracker=$E(t))}function w1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=v1(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function tu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function vf(t,e){var n=e.checked;return Ue({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function hx(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=dr(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function _1(t,e){e=e.checked,e!=null&&np(t,"checked",e,!1)}function wf(t,e){_1(t,e);var n=dr(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_f(t,e.type,n):e.hasOwnProperty("defaultValue")&&_f(t,e.type,dr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function fx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function _f(t,e,n){(e!=="number"||tu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var lo=Array.isArray;function Bi(t,e,n,s){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&s&&(t[n].defaultSelected=!0)}else{for(n=""+dr(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,s&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function bf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return Ue({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function mx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(G(92));if(lo(n)){if(1<n.length)throw Error(G(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:dr(n)}}function b1(t,e){var n=dr(e.value),s=dr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function px(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function N1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?N1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ac,S1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ac=ac||document.createElement("div"),ac.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ac.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $o(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var vo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},BE=["Webkit","ms","Moz","O"];Object.keys(vo).forEach(function(t){BE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vo[e]=vo[t]})});function T1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||vo.hasOwnProperty(t)&&vo[t]?(""+e).trim():e+"px"}function E1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=T1(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,r):t[n]=r}}var zE=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sf(t,e){if(e){if(zE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function Tf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ef=null;function ap(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var If=null,zi=null,Hi=null;function gx(t){if(t=wl(t)){if(typeof If!="function")throw Error(G(280));var e=t.stateNode;e&&(e=cd(e),If(t.stateNode,t.type,e))}}function I1(t){zi?Hi?Hi.push(t):Hi=[t]:zi=t}function j1(){if(zi){var t=zi,e=Hi;if(Hi=zi=null,gx(t),e)for(t=0;t<e.length;t++)gx(e[t])}}function k1(t,e){return t(e)}function A1(){}var vh=!1;function C1(t,e,n){if(vh)return t(e,n);vh=!0;try{return k1(t,e,n)}finally{vh=!1,(zi!==null||Hi!==null)&&(A1(),j1())}}function Bo(t,e){var n=t.stateNode;if(n===null)return null;var s=cd(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(G(231,e,typeof n));return n}var jf=!1;if(fs)try{var Xa={};Object.defineProperty(Xa,"passive",{get:function(){jf=!0}}),window.addEventListener("test",Xa,Xa),window.removeEventListener("test",Xa,Xa)}catch{jf=!1}function HE(t,e,n,s,r,i,o,l,u){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(f){this.onError(f)}}var wo=!1,nu=null,su=!1,kf=null,WE={onError:function(t){wo=!0,nu=t}};function qE(t,e,n,s,r,i,o,l,u){wo=!1,nu=null,HE.apply(WE,arguments)}function GE(t,e,n,s,r,i,o,l,u){if(qE.apply(this,arguments),wo){if(wo){var d=nu;wo=!1,nu=null}else throw Error(G(198));su||(su=!0,kf=d)}}function fi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function P1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function yx(t){if(fi(t)!==t)throw Error(G(188))}function KE(t){var e=t.alternate;if(!e){if(e=fi(t),e===null)throw Error(G(188));return e!==t?null:t}for(var n=t,s=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return yx(r),t;if(i===s)return yx(r),e;i=i.sibling}throw Error(G(188))}if(n.return!==s.return)n=r,s=i;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,s=i;break}if(l===s){o=!0,s=r,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,s=r;break}if(l===s){o=!0,s=i,n=r;break}l=l.sibling}if(!o)throw Error(G(189))}}if(n.alternate!==s)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?t:e}function R1(t){return t=KE(t),t!==null?D1(t):null}function D1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=D1(t);if(e!==null)return e;t=t.sibling}return null}var V1=nn.unstable_scheduleCallback,xx=nn.unstable_cancelCallback,QE=nn.unstable_shouldYield,YE=nn.unstable_requestPaint,Ke=nn.unstable_now,JE=nn.unstable_getCurrentPriorityLevel,op=nn.unstable_ImmediatePriority,L1=nn.unstable_UserBlockingPriority,ru=nn.unstable_NormalPriority,XE=nn.unstable_LowPriority,M1=nn.unstable_IdlePriority,id=null,Fn=null;function ZE(t){if(Fn&&typeof Fn.onCommitFiberRoot=="function")try{Fn.onCommitFiberRoot(id,t,void 0,(t.current.flags&128)===128)}catch{}}var Tn=Math.clz32?Math.clz32:nI,eI=Math.log,tI=Math.LN2;function nI(t){return t>>>=0,t===0?32:31-(eI(t)/tI|0)|0}var oc=64,lc=4194304;function co(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function iu(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,r=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~r;l!==0?s=co(l):(i&=o,i!==0&&(s=co(i)))}else o=n&~r,o!==0?s=co(o):i!==0&&(s=co(i));if(s===0)return 0;if(e!==0&&e!==s&&!(e&r)&&(r=s&-s,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-Tn(e),r=1<<n,s|=t[n],e&=~r;return s}function sI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rI(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Tn(i),l=1<<o,u=r[o];u===-1?(!(l&n)||l&s)&&(r[o]=sI(l,e)):u<=e&&(t.expiredLanes|=l),i&=~l}}function Af(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function O1(){var t=oc;return oc<<=1,!(oc&4194240)&&(oc=64),t}function wh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function xl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Tn(e),t[e]=n}function iI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Tn(n),i=1<<r;e[r]=0,s[r]=-1,t[r]=-1,n&=~i}}function lp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-Tn(n),r=1<<s;r&e|t[s]&e&&(t[s]|=e),n&=~r}}var Ne=0;function F1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var U1,cp,$1,B1,z1,Cf=!1,cc=[],Ks=null,Qs=null,Ys=null,zo=new Map,Ho=new Map,Fs=[],aI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vx(t,e){switch(t){case"focusin":case"focusout":Ks=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":zo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ho.delete(e.pointerId)}}function Za(t,e,n,s,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},e!==null&&(e=wl(e),e!==null&&cp(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function oI(t,e,n,s,r){switch(e){case"focusin":return Ks=Za(Ks,t,e,n,s,r),!0;case"dragenter":return Qs=Za(Qs,t,e,n,s,r),!0;case"mouseover":return Ys=Za(Ys,t,e,n,s,r),!0;case"pointerover":var i=r.pointerId;return zo.set(i,Za(zo.get(i)||null,t,e,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,Ho.set(i,Za(Ho.get(i)||null,t,e,n,s,r)),!0}return!1}function H1(t){var e=zr(t.target);if(e!==null){var n=fi(e);if(n!==null){if(e=n.tag,e===13){if(e=P1(n),e!==null){t.blockedOn=e,z1(t.priority,function(){$1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Pf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);Ef=s,n.target.dispatchEvent(s),Ef=null}else return e=wl(n),e!==null&&cp(e),t.blockedOn=n,!1;e.shift()}return!0}function wx(t,e,n){Pc(t)&&n.delete(e)}function lI(){Cf=!1,Ks!==null&&Pc(Ks)&&(Ks=null),Qs!==null&&Pc(Qs)&&(Qs=null),Ys!==null&&Pc(Ys)&&(Ys=null),zo.forEach(wx),Ho.forEach(wx)}function eo(t,e){t.blockedOn===e&&(t.blockedOn=null,Cf||(Cf=!0,nn.unstable_scheduleCallback(nn.unstable_NormalPriority,lI)))}function Wo(t){function e(r){return eo(r,t)}if(0<cc.length){eo(cc[0],t);for(var n=1;n<cc.length;n++){var s=cc[n];s.blockedOn===t&&(s.blockedOn=null)}}for(Ks!==null&&eo(Ks,t),Qs!==null&&eo(Qs,t),Ys!==null&&eo(Ys,t),zo.forEach(e),Ho.forEach(e),n=0;n<Fs.length;n++)s=Fs[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<Fs.length&&(n=Fs[0],n.blockedOn===null);)H1(n),n.blockedOn===null&&Fs.shift()}var Wi=bs.ReactCurrentBatchConfig,au=!0;function cI(t,e,n,s){var r=Ne,i=Wi.transition;Wi.transition=null;try{Ne=1,up(t,e,n,s)}finally{Ne=r,Wi.transition=i}}function uI(t,e,n,s){var r=Ne,i=Wi.transition;Wi.transition=null;try{Ne=4,up(t,e,n,s)}finally{Ne=r,Wi.transition=i}}function up(t,e,n,s){if(au){var r=Pf(t,e,n,s);if(r===null)Ah(t,e,s,ou,n),vx(t,s);else if(oI(r,t,e,n,s))s.stopPropagation();else if(vx(t,s),e&4&&-1<aI.indexOf(t)){for(;r!==null;){var i=wl(r);if(i!==null&&U1(i),i=Pf(t,e,n,s),i===null&&Ah(t,e,s,ou,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else Ah(t,e,s,null,n)}}var ou=null;function Pf(t,e,n,s){if(ou=null,t=ap(s),t=zr(t),t!==null)if(e=fi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=P1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ou=t,null}function W1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(JE()){case op:return 1;case L1:return 4;case ru:case XE:return 16;case M1:return 536870912;default:return 16}default:return 16}}var Ws=null,dp=null,Rc=null;function q1(){if(Rc)return Rc;var t,e=dp,n=e.length,s,r="value"in Ws?Ws.value:Ws.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(s=1;s<=o&&e[n-s]===r[i-s];s++);return Rc=r.slice(t,1<s?1-s:void 0)}function Dc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function uc(){return!0}function _x(){return!1}function an(t){function e(n,s,r,i,o){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?uc:_x,this.isPropagationStopped=_x,this}return Ue(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=uc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=uc)},persist:function(){},isPersistent:uc}),e}var ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hp=an(ba),vl=Ue({},ba,{view:0,detail:0}),dI=an(vl),_h,bh,to,ad=Ue({},vl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==to&&(to&&t.type==="mousemove"?(_h=t.screenX-to.screenX,bh=t.screenY-to.screenY):bh=_h=0,to=t),_h)},movementY:function(t){return"movementY"in t?t.movementY:bh}}),bx=an(ad),hI=Ue({},ad,{dataTransfer:0}),fI=an(hI),mI=Ue({},vl,{relatedTarget:0}),Nh=an(mI),pI=Ue({},ba,{animationName:0,elapsedTime:0,pseudoElement:0}),gI=an(pI),yI=Ue({},ba,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xI=an(yI),vI=Ue({},ba,{data:0}),Nx=an(vI),wI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_I={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=bI[t])?!!e[t]:!1}function fp(){return NI}var SI=Ue({},vl,{key:function(t){if(t.key){var e=wI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Dc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_I[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fp,charCode:function(t){return t.type==="keypress"?Dc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Dc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),TI=an(SI),EI=Ue({},ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sx=an(EI),II=Ue({},vl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fp}),jI=an(II),kI=Ue({},ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),AI=an(kI),CI=Ue({},ad,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),PI=an(CI),RI=[9,13,27,32],mp=fs&&"CompositionEvent"in window,_o=null;fs&&"documentMode"in document&&(_o=document.documentMode);var DI=fs&&"TextEvent"in window&&!_o,G1=fs&&(!mp||_o&&8<_o&&11>=_o),Tx=" ",Ex=!1;function K1(t,e){switch(t){case"keyup":return RI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Q1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ji=!1;function VI(t,e){switch(t){case"compositionend":return Q1(e);case"keypress":return e.which!==32?null:(Ex=!0,Tx);case"textInput":return t=e.data,t===Tx&&Ex?null:t;default:return null}}function LI(t,e){if(ji)return t==="compositionend"||!mp&&K1(t,e)?(t=q1(),Rc=dp=Ws=null,ji=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return G1&&e.locale!=="ko"?null:e.data;default:return null}}var MI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ix(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!MI[t.type]:e==="textarea"}function Y1(t,e,n,s){I1(s),e=lu(e,"onChange"),0<e.length&&(n=new hp("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var bo=null,qo=null;function OI(t){o_(t,0)}function od(t){var e=Ci(t);if(w1(e))return t}function FI(t,e){if(t==="change")return e}var J1=!1;if(fs){var Sh;if(fs){var Th="oninput"in document;if(!Th){var jx=document.createElement("div");jx.setAttribute("oninput","return;"),Th=typeof jx.oninput=="function"}Sh=Th}else Sh=!1;J1=Sh&&(!document.documentMode||9<document.documentMode)}function kx(){bo&&(bo.detachEvent("onpropertychange",X1),qo=bo=null)}function X1(t){if(t.propertyName==="value"&&od(qo)){var e=[];Y1(e,qo,t,ap(t)),C1(OI,e)}}function UI(t,e,n){t==="focusin"?(kx(),bo=e,qo=n,bo.attachEvent("onpropertychange",X1)):t==="focusout"&&kx()}function $I(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return od(qo)}function BI(t,e){if(t==="click")return od(e)}function zI(t,e){if(t==="input"||t==="change")return od(e)}function HI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kn=typeof Object.is=="function"?Object.is:HI;function Go(t,e){if(kn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!mf.call(e,r)||!kn(t[r],e[r]))return!1}return!0}function Ax(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Cx(t,e){var n=Ax(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ax(n)}}function Z1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Z1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function e_(){for(var t=window,e=tu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=tu(t.document)}return e}function pp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function WI(t){var e=e_(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Z1(n.ownerDocument.documentElement,n)){if(s!==null&&pp(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,i=Math.min(s.start,r);s=s.end===void 0?i:Math.min(s.end,r),!t.extend&&i>s&&(r=s,s=i,i=r),r=Cx(n,i);var o=Cx(n,s);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),i>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var qI=fs&&"documentMode"in document&&11>=document.documentMode,ki=null,Rf=null,No=null,Df=!1;function Px(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Df||ki==null||ki!==tu(s)||(s=ki,"selectionStart"in s&&pp(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),No&&Go(No,s)||(No=s,s=lu(Rf,"onSelect"),0<s.length&&(e=new hp("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=ki)))}function dc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ai={animationend:dc("Animation","AnimationEnd"),animationiteration:dc("Animation","AnimationIteration"),animationstart:dc("Animation","AnimationStart"),transitionend:dc("Transition","TransitionEnd")},Eh={},t_={};fs&&(t_=document.createElement("div").style,"AnimationEvent"in window||(delete Ai.animationend.animation,delete Ai.animationiteration.animation,delete Ai.animationstart.animation),"TransitionEvent"in window||delete Ai.transitionend.transition);function ld(t){if(Eh[t])return Eh[t];if(!Ai[t])return t;var e=Ai[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in t_)return Eh[t]=e[n];return t}var n_=ld("animationend"),s_=ld("animationiteration"),r_=ld("animationstart"),i_=ld("transitionend"),a_=new Map,Rx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function br(t,e){a_.set(t,e),hi(e,[t])}for(var Ih=0;Ih<Rx.length;Ih++){var jh=Rx[Ih],GI=jh.toLowerCase(),KI=jh[0].toUpperCase()+jh.slice(1);br(GI,"on"+KI)}br(n_,"onAnimationEnd");br(s_,"onAnimationIteration");br(r_,"onAnimationStart");br("dblclick","onDoubleClick");br("focusin","onFocus");br("focusout","onBlur");br(i_,"onTransitionEnd");Zi("onMouseEnter",["mouseout","mouseover"]);Zi("onMouseLeave",["mouseout","mouseover"]);Zi("onPointerEnter",["pointerout","pointerover"]);Zi("onPointerLeave",["pointerout","pointerover"]);hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hi("onBeforeInput",["compositionend","keypress","textInput","paste"]);hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QI=new Set("cancel close invalid load scroll toggle".split(" ").concat(uo));function Dx(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,GE(s,e,void 0,t),t.currentTarget=null}function o_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],r=s.event;s=s.listeners;e:{var i=void 0;if(e)for(var o=s.length-1;0<=o;o--){var l=s[o],u=l.instance,d=l.currentTarget;if(l=l.listener,u!==i&&r.isPropagationStopped())break e;Dx(r,l,d),i=u}else for(o=0;o<s.length;o++){if(l=s[o],u=l.instance,d=l.currentTarget,l=l.listener,u!==i&&r.isPropagationStopped())break e;Dx(r,l,d),i=u}}}if(su)throw t=kf,su=!1,kf=null,t}function Ae(t,e){var n=e[Ff];n===void 0&&(n=e[Ff]=new Set);var s=t+"__bubble";n.has(s)||(l_(e,t,2,!1),n.add(s))}function kh(t,e,n){var s=0;e&&(s|=4),l_(n,t,s,e)}var hc="_reactListening"+Math.random().toString(36).slice(2);function Ko(t){if(!t[hc]){t[hc]=!0,p1.forEach(function(n){n!=="selectionchange"&&(QI.has(n)||kh(n,!1,t),kh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hc]||(e[hc]=!0,kh("selectionchange",!1,e))}}function l_(t,e,n,s){switch(W1(e)){case 1:var r=cI;break;case 4:r=uI;break;default:r=up}n=r.bind(null,e,n,t),r=void 0,!jf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Ah(t,e,n,s,r){var i=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(o===4)for(o=s.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===r||u.nodeType===8&&u.parentNode===r))return;o=o.return}for(;l!==null;){if(o=zr(l),o===null)return;if(u=o.tag,u===5||u===6){s=i=o;continue e}l=l.parentNode}}s=s.return}C1(function(){var d=i,f=ap(n),h=[];e:{var p=a_.get(t);if(p!==void 0){var y=hp,b=t;switch(t){case"keypress":if(Dc(n)===0)break e;case"keydown":case"keyup":y=TI;break;case"focusin":b="focus",y=Nh;break;case"focusout":b="blur",y=Nh;break;case"beforeblur":case"afterblur":y=Nh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=bx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=fI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=jI;break;case n_:case s_:case r_:y=gI;break;case i_:y=AI;break;case"scroll":y=dI;break;case"wheel":y=PI;break;case"copy":case"cut":case"paste":y=xI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Sx}var I=(e&4)!==0,A=!I&&t==="scroll",E=I?p!==null?p+"Capture":null:p;I=[];for(var x=d,_;x!==null;){_=x;var V=_.stateNode;if(_.tag===5&&V!==null&&(_=V,E!==null&&(V=Bo(x,E),V!=null&&I.push(Qo(x,V,_)))),A)break;x=x.return}0<I.length&&(p=new y(p,b,null,n,f),h.push({event:p,listeners:I}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==Ef&&(b=n.relatedTarget||n.fromElement)&&(zr(b)||b[ms]))break e;if((y||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,y?(b=n.relatedTarget||n.toElement,y=d,b=b?zr(b):null,b!==null&&(A=fi(b),b!==A||b.tag!==5&&b.tag!==6)&&(b=null)):(y=null,b=d),y!==b)){if(I=bx,V="onMouseLeave",E="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(I=Sx,V="onPointerLeave",E="onPointerEnter",x="pointer"),A=y==null?p:Ci(y),_=b==null?p:Ci(b),p=new I(V,x+"leave",y,n,f),p.target=A,p.relatedTarget=_,V=null,zr(f)===d&&(I=new I(E,x+"enter",b,n,f),I.target=_,I.relatedTarget=A,V=I),A=V,y&&b)t:{for(I=y,E=b,x=0,_=I;_;_=_i(_))x++;for(_=0,V=E;V;V=_i(V))_++;for(;0<x-_;)I=_i(I),x--;for(;0<_-x;)E=_i(E),_--;for(;x--;){if(I===E||E!==null&&I===E.alternate)break t;I=_i(I),E=_i(E)}I=null}else I=null;y!==null&&Vx(h,p,y,I,!1),b!==null&&A!==null&&Vx(h,A,b,I,!0)}}e:{if(p=d?Ci(d):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var L=FI;else if(Ix(p))if(J1)L=zI;else{L=$I;var F=UI}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(L=BI);if(L&&(L=L(t,d))){Y1(h,L,n,f);break e}F&&F(t,p,d),t==="focusout"&&(F=p._wrapperState)&&F.controlled&&p.type==="number"&&_f(p,"number",p.value)}switch(F=d?Ci(d):window,t){case"focusin":(Ix(F)||F.contentEditable==="true")&&(ki=F,Rf=d,No=null);break;case"focusout":No=Rf=ki=null;break;case"mousedown":Df=!0;break;case"contextmenu":case"mouseup":case"dragend":Df=!1,Px(h,n,f);break;case"selectionchange":if(qI)break;case"keydown":case"keyup":Px(h,n,f)}var j;if(mp)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else ji?K1(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(G1&&n.locale!=="ko"&&(ji||w!=="onCompositionStart"?w==="onCompositionEnd"&&ji&&(j=q1()):(Ws=f,dp="value"in Ws?Ws.value:Ws.textContent,ji=!0)),F=lu(d,w),0<F.length&&(w=new Nx(w,t,null,n,f),h.push({event:w,listeners:F}),j?w.data=j:(j=Q1(n),j!==null&&(w.data=j)))),(j=DI?VI(t,n):LI(t,n))&&(d=lu(d,"onBeforeInput"),0<d.length&&(f=new Nx("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:d}),f.data=j))}o_(h,e)})}function Qo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function lu(t,e){for(var n=e+"Capture",s=[];t!==null;){var r=t,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=Bo(t,n),i!=null&&s.unshift(Qo(t,i,r)),i=Bo(t,e),i!=null&&s.push(Qo(t,i,r))),t=t.return}return s}function _i(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Vx(t,e,n,s,r){for(var i=e._reactName,o=[];n!==null&&n!==s;){var l=n,u=l.alternate,d=l.stateNode;if(u!==null&&u===s)break;l.tag===5&&d!==null&&(l=d,r?(u=Bo(n,i),u!=null&&o.unshift(Qo(n,u,l))):r||(u=Bo(n,i),u!=null&&o.push(Qo(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var YI=/\r\n?/g,JI=/\u0000|\uFFFD/g;function Lx(t){return(typeof t=="string"?t:""+t).replace(YI,`
`).replace(JI,"")}function fc(t,e,n){if(e=Lx(e),Lx(t)!==e&&n)throw Error(G(425))}function cu(){}var Vf=null,Lf=null;function Mf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Of=typeof setTimeout=="function"?setTimeout:void 0,XI=typeof clearTimeout=="function"?clearTimeout:void 0,Mx=typeof Promise=="function"?Promise:void 0,ZI=typeof queueMicrotask=="function"?queueMicrotask:typeof Mx<"u"?function(t){return Mx.resolve(null).then(t).catch(ej)}:Of;function ej(t){setTimeout(function(){throw t})}function Ch(t,e){var n=e,s=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){t.removeChild(r),Wo(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);Wo(e)}function Js(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ox(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Na=Math.random().toString(36).slice(2),On="__reactFiber$"+Na,Yo="__reactProps$"+Na,ms="__reactContainer$"+Na,Ff="__reactEvents$"+Na,tj="__reactListeners$"+Na,nj="__reactHandles$"+Na;function zr(t){var e=t[On];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ms]||n[On]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ox(t);t!==null;){if(n=t[On])return n;t=Ox(t)}return e}t=n,n=t.parentNode}return null}function wl(t){return t=t[On]||t[ms],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ci(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function cd(t){return t[Yo]||null}var Uf=[],Pi=-1;function Nr(t){return{current:t}}function Re(t){0>Pi||(t.current=Uf[Pi],Uf[Pi]=null,Pi--)}function Ie(t,e){Pi++,Uf[Pi]=t.current,t.current=e}var hr={},At=Nr(hr),zt=Nr(!1),ti=hr;function ea(t,e){var n=t.type.contextTypes;if(!n)return hr;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=e[i];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Ht(t){return t=t.childContextTypes,t!=null}function uu(){Re(zt),Re(At)}function Fx(t,e,n){if(At.current!==hr)throw Error(G(168));Ie(At,e),Ie(zt,n)}function c_(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in e))throw Error(G(108,UE(t)||"Unknown",r));return Ue({},n,s)}function du(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hr,ti=At.current,Ie(At,t),Ie(zt,zt.current),!0}function Ux(t,e,n){var s=t.stateNode;if(!s)throw Error(G(169));n?(t=c_(t,e,ti),s.__reactInternalMemoizedMergedChildContext=t,Re(zt),Re(At),Ie(At,t)):Re(zt),Ie(zt,n)}var Zn=null,ud=!1,Ph=!1;function u_(t){Zn===null?Zn=[t]:Zn.push(t)}function sj(t){ud=!0,u_(t)}function Sr(){if(!Ph&&Zn!==null){Ph=!0;var t=0,e=Ne;try{var n=Zn;for(Ne=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}Zn=null,ud=!1}catch(r){throw Zn!==null&&(Zn=Zn.slice(t+1)),V1(op,Sr),r}finally{Ne=e,Ph=!1}}return null}var Ri=[],Di=0,hu=null,fu=0,un=[],dn=0,ni=null,ns=1,ss="";function Mr(t,e){Ri[Di++]=fu,Ri[Di++]=hu,hu=t,fu=e}function d_(t,e,n){un[dn++]=ns,un[dn++]=ss,un[dn++]=ni,ni=t;var s=ns;t=ss;var r=32-Tn(s)-1;s&=~(1<<r),n+=1;var i=32-Tn(e)+r;if(30<i){var o=r-r%5;i=(s&(1<<o)-1).toString(32),s>>=o,r-=o,ns=1<<32-Tn(e)+r|n<<r|s,ss=i+t}else ns=1<<i|n<<r|s,ss=t}function gp(t){t.return!==null&&(Mr(t,1),d_(t,1,0))}function yp(t){for(;t===hu;)hu=Ri[--Di],Ri[Di]=null,fu=Ri[--Di],Ri[Di]=null;for(;t===ni;)ni=un[--dn],un[dn]=null,ss=un[--dn],un[dn]=null,ns=un[--dn],un[dn]=null}var en=null,Xt=null,Ve=!1,Nn=null;function h_(t,e){var n=fn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $x(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,en=t,Xt=Js(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,en=t,Xt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ni!==null?{id:ns,overflow:ss}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=fn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,en=t,Xt=null,!0):!1;default:return!1}}function $f(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Bf(t){if(Ve){var e=Xt;if(e){var n=e;if(!$x(t,e)){if($f(t))throw Error(G(418));e=Js(n.nextSibling);var s=en;e&&$x(t,e)?h_(s,n):(t.flags=t.flags&-4097|2,Ve=!1,en=t)}}else{if($f(t))throw Error(G(418));t.flags=t.flags&-4097|2,Ve=!1,en=t}}}function Bx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;en=t}function mc(t){if(t!==en)return!1;if(!Ve)return Bx(t),Ve=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Mf(t.type,t.memoizedProps)),e&&(e=Xt)){if($f(t))throw f_(),Error(G(418));for(;e;)h_(t,e),e=Js(e.nextSibling)}if(Bx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Xt=Js(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Xt=null}}else Xt=en?Js(t.stateNode.nextSibling):null;return!0}function f_(){for(var t=Xt;t;)t=Js(t.nextSibling)}function ta(){Xt=en=null,Ve=!1}function xp(t){Nn===null?Nn=[t]:Nn.push(t)}var rj=bs.ReactCurrentBatchConfig;function no(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var s=n.stateNode}if(!s)throw Error(G(147,t));var r=s,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=r.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,t))}return t}function pc(t,e){throw t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function zx(t){var e=t._init;return e(t._payload)}function m_(t){function e(E,x){if(t){var _=E.deletions;_===null?(E.deletions=[x],E.flags|=16):_.push(x)}}function n(E,x){if(!t)return null;for(;x!==null;)e(E,x),x=x.sibling;return null}function s(E,x){for(E=new Map;x!==null;)x.key!==null?E.set(x.key,x):E.set(x.index,x),x=x.sibling;return E}function r(E,x){return E=tr(E,x),E.index=0,E.sibling=null,E}function i(E,x,_){return E.index=_,t?(_=E.alternate,_!==null?(_=_.index,_<x?(E.flags|=2,x):_):(E.flags|=2,x)):(E.flags|=1048576,x)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function l(E,x,_,V){return x===null||x.tag!==6?(x=Fh(_,E.mode,V),x.return=E,x):(x=r(x,_),x.return=E,x)}function u(E,x,_,V){var L=_.type;return L===Ii?f(E,x,_.props.children,V,_.key):x!==null&&(x.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Ls&&zx(L)===x.type)?(V=r(x,_.props),V.ref=no(E,x,_),V.return=E,V):(V=$c(_.type,_.key,_.props,null,E.mode,V),V.ref=no(E,x,_),V.return=E,V)}function d(E,x,_,V){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=Uh(_,E.mode,V),x.return=E,x):(x=r(x,_.children||[]),x.return=E,x)}function f(E,x,_,V,L){return x===null||x.tag!==7?(x=Yr(_,E.mode,V,L),x.return=E,x):(x=r(x,_),x.return=E,x)}function h(E,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Fh(""+x,E.mode,_),x.return=E,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case rc:return _=$c(x.type,x.key,x.props,null,E.mode,_),_.ref=no(E,null,x),_.return=E,_;case Ei:return x=Uh(x,E.mode,_),x.return=E,x;case Ls:var V=x._init;return h(E,V(x._payload),_)}if(lo(x)||Ja(x))return x=Yr(x,E.mode,_,null),x.return=E,x;pc(E,x)}return null}function p(E,x,_,V){var L=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return L!==null?null:l(E,x,""+_,V);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case rc:return _.key===L?u(E,x,_,V):null;case Ei:return _.key===L?d(E,x,_,V):null;case Ls:return L=_._init,p(E,x,L(_._payload),V)}if(lo(_)||Ja(_))return L!==null?null:f(E,x,_,V,null);pc(E,_)}return null}function y(E,x,_,V,L){if(typeof V=="string"&&V!==""||typeof V=="number")return E=E.get(_)||null,l(x,E,""+V,L);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case rc:return E=E.get(V.key===null?_:V.key)||null,u(x,E,V,L);case Ei:return E=E.get(V.key===null?_:V.key)||null,d(x,E,V,L);case Ls:var F=V._init;return y(E,x,_,F(V._payload),L)}if(lo(V)||Ja(V))return E=E.get(_)||null,f(x,E,V,L,null);pc(x,V)}return null}function b(E,x,_,V){for(var L=null,F=null,j=x,w=x=0,N=null;j!==null&&w<_.length;w++){j.index>w?(N=j,j=null):N=j.sibling;var S=p(E,j,_[w],V);if(S===null){j===null&&(j=N);break}t&&j&&S.alternate===null&&e(E,j),x=i(S,x,w),F===null?L=S:F.sibling=S,F=S,j=N}if(w===_.length)return n(E,j),Ve&&Mr(E,w),L;if(j===null){for(;w<_.length;w++)j=h(E,_[w],V),j!==null&&(x=i(j,x,w),F===null?L=j:F.sibling=j,F=j);return Ve&&Mr(E,w),L}for(j=s(E,j);w<_.length;w++)N=y(j,E,w,_[w],V),N!==null&&(t&&N.alternate!==null&&j.delete(N.key===null?w:N.key),x=i(N,x,w),F===null?L=N:F.sibling=N,F=N);return t&&j.forEach(function(P){return e(E,P)}),Ve&&Mr(E,w),L}function I(E,x,_,V){var L=Ja(_);if(typeof L!="function")throw Error(G(150));if(_=L.call(_),_==null)throw Error(G(151));for(var F=L=null,j=x,w=x=0,N=null,S=_.next();j!==null&&!S.done;w++,S=_.next()){j.index>w?(N=j,j=null):N=j.sibling;var P=p(E,j,S.value,V);if(P===null){j===null&&(j=N);break}t&&j&&P.alternate===null&&e(E,j),x=i(P,x,w),F===null?L=P:F.sibling=P,F=P,j=N}if(S.done)return n(E,j),Ve&&Mr(E,w),L;if(j===null){for(;!S.done;w++,S=_.next())S=h(E,S.value,V),S!==null&&(x=i(S,x,w),F===null?L=S:F.sibling=S,F=S);return Ve&&Mr(E,w),L}for(j=s(E,j);!S.done;w++,S=_.next())S=y(j,E,w,S.value,V),S!==null&&(t&&S.alternate!==null&&j.delete(S.key===null?w:S.key),x=i(S,x,w),F===null?L=S:F.sibling=S,F=S);return t&&j.forEach(function(D){return e(E,D)}),Ve&&Mr(E,w),L}function A(E,x,_,V){if(typeof _=="object"&&_!==null&&_.type===Ii&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case rc:e:{for(var L=_.key,F=x;F!==null;){if(F.key===L){if(L=_.type,L===Ii){if(F.tag===7){n(E,F.sibling),x=r(F,_.props.children),x.return=E,E=x;break e}}else if(F.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Ls&&zx(L)===F.type){n(E,F.sibling),x=r(F,_.props),x.ref=no(E,F,_),x.return=E,E=x;break e}n(E,F);break}else e(E,F);F=F.sibling}_.type===Ii?(x=Yr(_.props.children,E.mode,V,_.key),x.return=E,E=x):(V=$c(_.type,_.key,_.props,null,E.mode,V),V.ref=no(E,x,_),V.return=E,E=V)}return o(E);case Ei:e:{for(F=_.key;x!==null;){if(x.key===F)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){n(E,x.sibling),x=r(x,_.children||[]),x.return=E,E=x;break e}else{n(E,x);break}else e(E,x);x=x.sibling}x=Uh(_,E.mode,V),x.return=E,E=x}return o(E);case Ls:return F=_._init,A(E,x,F(_._payload),V)}if(lo(_))return b(E,x,_,V);if(Ja(_))return I(E,x,_,V);pc(E,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,x!==null&&x.tag===6?(n(E,x.sibling),x=r(x,_),x.return=E,E=x):(n(E,x),x=Fh(_,E.mode,V),x.return=E,E=x),o(E)):n(E,x)}return A}var na=m_(!0),p_=m_(!1),mu=Nr(null),pu=null,Vi=null,vp=null;function wp(){vp=Vi=pu=null}function _p(t){var e=mu.current;Re(mu),t._currentValue=e}function zf(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function qi(t,e){pu=t,vp=Vi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Bt=!0),t.firstContext=null)}function yn(t){var e=t._currentValue;if(vp!==t)if(t={context:t,memoizedValue:e,next:null},Vi===null){if(pu===null)throw Error(G(308));Vi=t,pu.dependencies={lanes:0,firstContext:t}}else Vi=Vi.next=t;return e}var Hr=null;function bp(t){Hr===null?Hr=[t]:Hr.push(t)}function g_(t,e,n,s){var r=e.interleaved;return r===null?(n.next=n,bp(e)):(n.next=r.next,r.next=n),e.interleaved=n,ps(t,s)}function ps(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ms=!1;function Np(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function y_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function os(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xs(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,we&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,ps(t,n)}return r=s.interleaved,r===null?(e.next=e,bp(s)):(e.next=r.next,r.next=e),s.interleaved=e,ps(t,n)}function Vc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,lp(t,n)}}function Hx(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function gu(t,e,n,s){var r=t.updateQueue;Ms=!1;var i=r.firstBaseUpdate,o=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var u=l,d=u.next;u.next=null,o===null?i=d:o.next=d,o=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=d:l.next=d,f.lastBaseUpdate=u))}if(i!==null){var h=r.baseState;o=0,f=d=u=null,l=i;do{var p=l.lane,y=l.eventTime;if((s&p)===p){f!==null&&(f=f.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=t,I=l;switch(p=e,y=n,I.tag){case 1:if(b=I.payload,typeof b=="function"){h=b.call(y,h,p);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=I.payload,p=typeof b=="function"?b.call(y,h,p):b,p==null)break e;h=Ue({},h,p);break e;case 2:Ms=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=r.effects,p===null?r.effects=[l]:p.push(l))}else y={eventTime:y,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(d=f=y,u=h):f=f.next=y,o|=p;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;p=l,l=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(f===null&&(u=h),r.baseState=u,r.firstBaseUpdate=d,r.lastBaseUpdate=f,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);ri|=o,t.lanes=o,t.memoizedState=h}}function Wx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(G(191,r));r.call(s)}}}var _l={},Un=Nr(_l),Jo=Nr(_l),Xo=Nr(_l);function Wr(t){if(t===_l)throw Error(G(174));return t}function Sp(t,e){switch(Ie(Xo,e),Ie(Jo,t),Ie(Un,_l),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Nf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Nf(e,t)}Re(Un),Ie(Un,e)}function sa(){Re(Un),Re(Jo),Re(Xo)}function x_(t){Wr(Xo.current);var e=Wr(Un.current),n=Nf(e,t.type);e!==n&&(Ie(Jo,t),Ie(Un,n))}function Tp(t){Jo.current===t&&(Re(Un),Re(Jo))}var Me=Nr(0);function yu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Rh=[];function Ep(){for(var t=0;t<Rh.length;t++)Rh[t]._workInProgressVersionPrimary=null;Rh.length=0}var Lc=bs.ReactCurrentDispatcher,Dh=bs.ReactCurrentBatchConfig,si=0,Fe=null,it=null,ht=null,xu=!1,So=!1,Zo=0,ij=0;function bt(){throw Error(G(321))}function Ip(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!kn(t[n],e[n]))return!1;return!0}function jp(t,e,n,s,r,i){if(si=i,Fe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Lc.current=t===null||t.memoizedState===null?cj:uj,t=n(s,r),So){i=0;do{if(So=!1,Zo=0,25<=i)throw Error(G(301));i+=1,ht=it=null,e.updateQueue=null,Lc.current=dj,t=n(s,r)}while(So)}if(Lc.current=vu,e=it!==null&&it.next!==null,si=0,ht=it=Fe=null,xu=!1,e)throw Error(G(300));return t}function kp(){var t=Zo!==0;return Zo=0,t}function Ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Fe.memoizedState=ht=t:ht=ht.next=t,ht}function xn(){if(it===null){var t=Fe.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var e=ht===null?Fe.memoizedState:ht.next;if(e!==null)ht=e,it=t;else{if(t===null)throw Error(G(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},ht===null?Fe.memoizedState=ht=t:ht=ht.next=t}return ht}function el(t,e){return typeof e=="function"?e(t):e}function Vh(t){var e=xn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var s=it,r=s.baseQueue,i=n.pending;if(i!==null){if(r!==null){var o=r.next;r.next=i.next,i.next=o}s.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,s=s.baseState;var l=o=null,u=null,d=i;do{var f=d.lane;if((si&f)===f)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:t(s,d.action);else{var h={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(l=u=h,o=s):u=u.next=h,Fe.lanes|=f,ri|=f}d=d.next}while(d!==null&&d!==i);u===null?o=s:u.next=l,kn(s,e.memoizedState)||(Bt=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=u,n.lastRenderedState=s}if(t=n.interleaved,t!==null){r=t;do i=r.lane,Fe.lanes|=i,ri|=i,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Lh(t){var e=xn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var s=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do i=t(i,o.action),o=o.next;while(o!==r);kn(i,e.memoizedState)||(Bt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,s]}function v_(){}function w_(t,e){var n=Fe,s=xn(),r=e(),i=!kn(s.memoizedState,r);if(i&&(s.memoizedState=r,Bt=!0),s=s.queue,Ap(N_.bind(null,n,s,t),[t]),s.getSnapshot!==e||i||ht!==null&&ht.memoizedState.tag&1){if(n.flags|=2048,tl(9,b_.bind(null,n,s,r,e),void 0,null),mt===null)throw Error(G(349));si&30||__(n,e,r)}return r}function __(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function b_(t,e,n,s){e.value=n,e.getSnapshot=s,S_(e)&&T_(t)}function N_(t,e,n){return n(function(){S_(e)&&T_(t)})}function S_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!kn(t,n)}catch{return!0}}function T_(t){var e=ps(t,1);e!==null&&En(e,t,1,-1)}function qx(t){var e=Ln();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:el,lastRenderedState:t},e.queue=t,t=t.dispatch=lj.bind(null,Fe,t),[e.memoizedState,t]}function tl(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function E_(){return xn().memoizedState}function Mc(t,e,n,s){var r=Ln();Fe.flags|=t,r.memoizedState=tl(1|e,n,void 0,s===void 0?null:s)}function dd(t,e,n,s){var r=xn();s=s===void 0?null:s;var i=void 0;if(it!==null){var o=it.memoizedState;if(i=o.destroy,s!==null&&Ip(s,o.deps)){r.memoizedState=tl(e,n,i,s);return}}Fe.flags|=t,r.memoizedState=tl(1|e,n,i,s)}function Gx(t,e){return Mc(8390656,8,t,e)}function Ap(t,e){return dd(2048,8,t,e)}function I_(t,e){return dd(4,2,t,e)}function j_(t,e){return dd(4,4,t,e)}function k_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function A_(t,e,n){return n=n!=null?n.concat([t]):null,dd(4,4,k_.bind(null,e,t),n)}function Cp(){}function C_(t,e){var n=xn();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Ip(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function P_(t,e){var n=xn();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Ip(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function R_(t,e,n){return si&21?(kn(n,e)||(n=O1(),Fe.lanes|=n,ri|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Bt=!0),t.memoizedState=n)}function aj(t,e){var n=Ne;Ne=n!==0&&4>n?n:4,t(!0);var s=Dh.transition;Dh.transition={};try{t(!1),e()}finally{Ne=n,Dh.transition=s}}function D_(){return xn().memoizedState}function oj(t,e,n){var s=er(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},V_(t))L_(e,n);else if(n=g_(t,e,n,s),n!==null){var r=Vt();En(n,t,s,r),M_(n,e,s)}}function lj(t,e,n){var s=er(t),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(V_(t))L_(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(r.hasEagerState=!0,r.eagerState=l,kn(l,o)){var u=e.interleaved;u===null?(r.next=r,bp(e)):(r.next=u.next,u.next=r),e.interleaved=r;return}}catch{}finally{}n=g_(t,e,r,s),n!==null&&(r=Vt(),En(n,t,s,r),M_(n,e,s))}}function V_(t){var e=t.alternate;return t===Fe||e!==null&&e===Fe}function L_(t,e){So=xu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function M_(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,lp(t,n)}}var vu={readContext:yn,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},cj={readContext:yn,useCallback:function(t,e){return Ln().memoizedState=[t,e===void 0?null:e],t},useContext:yn,useEffect:Gx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Mc(4194308,4,k_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Mc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Mc(4,2,t,e)},useMemo:function(t,e){var n=Ln();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=Ln();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=oj.bind(null,Fe,t),[s.memoizedState,t]},useRef:function(t){var e=Ln();return t={current:t},e.memoizedState=t},useState:qx,useDebugValue:Cp,useDeferredValue:function(t){return Ln().memoizedState=t},useTransition:function(){var t=qx(!1),e=t[0];return t=aj.bind(null,t[1]),Ln().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=Fe,r=Ln();if(Ve){if(n===void 0)throw Error(G(407));n=n()}else{if(n=e(),mt===null)throw Error(G(349));si&30||__(s,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,Gx(N_.bind(null,s,i,t),[t]),s.flags|=2048,tl(9,b_.bind(null,s,i,n,e),void 0,null),n},useId:function(){var t=Ln(),e=mt.identifierPrefix;if(Ve){var n=ss,s=ns;n=(s&~(1<<32-Tn(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=Zo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ij++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},uj={readContext:yn,useCallback:C_,useContext:yn,useEffect:Ap,useImperativeHandle:A_,useInsertionEffect:I_,useLayoutEffect:j_,useMemo:P_,useReducer:Vh,useRef:E_,useState:function(){return Vh(el)},useDebugValue:Cp,useDeferredValue:function(t){var e=xn();return R_(e,it.memoizedState,t)},useTransition:function(){var t=Vh(el)[0],e=xn().memoizedState;return[t,e]},useMutableSource:v_,useSyncExternalStore:w_,useId:D_,unstable_isNewReconciler:!1},dj={readContext:yn,useCallback:C_,useContext:yn,useEffect:Ap,useImperativeHandle:A_,useInsertionEffect:I_,useLayoutEffect:j_,useMemo:P_,useReducer:Lh,useRef:E_,useState:function(){return Lh(el)},useDebugValue:Cp,useDeferredValue:function(t){var e=xn();return it===null?e.memoizedState=t:R_(e,it.memoizedState,t)},useTransition:function(){var t=Lh(el)[0],e=xn().memoizedState;return[t,e]},useMutableSource:v_,useSyncExternalStore:w_,useId:D_,unstable_isNewReconciler:!1};function _n(t,e){if(t&&t.defaultProps){e=Ue({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Hf(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:Ue({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var hd={isMounted:function(t){return(t=t._reactInternals)?fi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=Vt(),r=er(t),i=os(s,r);i.payload=e,n!=null&&(i.callback=n),e=Xs(t,i,r),e!==null&&(En(e,t,r,s),Vc(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=Vt(),r=er(t),i=os(s,r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Xs(t,i,r),e!==null&&(En(e,t,r,s),Vc(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Vt(),s=er(t),r=os(n,s);r.tag=2,e!=null&&(r.callback=e),e=Xs(t,r,s),e!==null&&(En(e,t,s,n),Vc(e,t,s))}};function Kx(t,e,n,s,r,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,i,o):e.prototype&&e.prototype.isPureReactComponent?!Go(n,s)||!Go(r,i):!0}function O_(t,e,n){var s=!1,r=hr,i=e.contextType;return typeof i=="object"&&i!==null?i=yn(i):(r=Ht(e)?ti:At.current,s=e.contextTypes,i=(s=s!=null)?ea(t,r):hr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=hd,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=i),e}function Qx(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&hd.enqueueReplaceState(e,e.state,null)}function Wf(t,e,n,s){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Np(t);var i=e.contextType;typeof i=="object"&&i!==null?r.context=yn(i):(i=Ht(e)?ti:At.current,r.context=ea(t,i)),r.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Hf(t,e,i,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&hd.enqueueReplaceState(r,r.state,null),gu(t,n,r,s),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function ra(t,e){try{var n="",s=e;do n+=FE(s),s=s.return;while(s);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:r,digest:null}}function Mh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function qf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var hj=typeof WeakMap=="function"?WeakMap:Map;function F_(t,e,n){n=os(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){_u||(_u=!0,nm=s),qf(t,e)},n}function U_(t,e,n){n=os(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var r=e.value;n.payload=function(){return s(r)},n.callback=function(){qf(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){qf(t,e),typeof s!="function"&&(Zs===null?Zs=new Set([this]):Zs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Yx(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new hj;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(n)||(r.add(n),t=Ej.bind(null,t,e,n),e.then(t,t))}function Jx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Xx(t,e,n,s,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=os(-1,1),e.tag=2,Xs(n,e,1))),n.lanes|=1),t)}var fj=bs.ReactCurrentOwner,Bt=!1;function Dt(t,e,n,s){e.child=t===null?p_(e,null,n,s):na(e,t.child,n,s)}function Zx(t,e,n,s,r){n=n.render;var i=e.ref;return qi(e,r),s=jp(t,e,n,s,i,r),n=kp(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,gs(t,e,r)):(Ve&&n&&gp(e),e.flags|=1,Dt(t,e,s,r),e.child)}function e0(t,e,n,s,r){if(t===null){var i=n.type;return typeof i=="function"&&!Fp(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,$_(t,e,i,s,r)):(t=$c(n.type,null,s,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&r)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Go,n(o,s)&&t.ref===e.ref)return gs(t,e,r)}return e.flags|=1,t=tr(i,s),t.ref=e.ref,t.return=e,e.child=t}function $_(t,e,n,s,r){if(t!==null){var i=t.memoizedProps;if(Go(i,s)&&t.ref===e.ref)if(Bt=!1,e.pendingProps=s=i,(t.lanes&r)!==0)t.flags&131072&&(Bt=!0);else return e.lanes=t.lanes,gs(t,e,r)}return Gf(t,e,n,s,r)}function B_(t,e,n){var s=e.pendingProps,r=s.children,i=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(Mi,Qt),Qt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ie(Mi,Qt),Qt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,Ie(Mi,Qt),Qt|=s}else i!==null?(s=i.baseLanes|n,e.memoizedState=null):s=n,Ie(Mi,Qt),Qt|=s;return Dt(t,e,r,n),e.child}function z_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Gf(t,e,n,s,r){var i=Ht(n)?ti:At.current;return i=ea(e,i),qi(e,r),n=jp(t,e,n,s,i,r),s=kp(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,gs(t,e,r)):(Ve&&s&&gp(e),e.flags|=1,Dt(t,e,n,r),e.child)}function t0(t,e,n,s,r){if(Ht(n)){var i=!0;du(e)}else i=!1;if(qi(e,r),e.stateNode===null)Oc(t,e),O_(e,n,s),Wf(e,n,s,r),s=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=yn(d):(d=Ht(n)?ti:At.current,d=ea(e,d));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||u!==d)&&Qx(e,o,s,d),Ms=!1;var p=e.memoizedState;o.state=p,gu(e,s,o,r),u=e.memoizedState,l!==s||p!==u||zt.current||Ms?(typeof f=="function"&&(Hf(e,n,f,s),u=e.memoizedState),(l=Ms||Kx(e,n,l,s,p,u,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=u),o.props=s,o.state=u,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,y_(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:_n(e.type,l),o.props=d,h=e.pendingProps,p=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=yn(u):(u=Ht(n)?ti:At.current,u=ea(e,u));var y=n.getDerivedStateFromProps;(f=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||p!==u)&&Qx(e,o,s,u),Ms=!1,p=e.memoizedState,o.state=p,gu(e,s,o,r);var b=e.memoizedState;l!==h||p!==b||zt.current||Ms?(typeof y=="function"&&(Hf(e,n,y,s),b=e.memoizedState),(d=Ms||Kx(e,n,d,s,p,b,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,b,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,b,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=b),o.props=s,o.state=b,o.context=u,s=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),s=!1)}return Kf(t,e,n,s,i,r)}function Kf(t,e,n,s,r,i){z_(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return r&&Ux(e,n,!1),gs(t,e,i);s=e.stateNode,fj.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=na(e,t.child,null,i),e.child=na(e,null,l,i)):Dt(t,e,l,i),e.memoizedState=s.state,r&&Ux(e,n,!0),e.child}function H_(t){var e=t.stateNode;e.pendingContext?Fx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Fx(t,e.context,!1),Sp(t,e.containerInfo)}function n0(t,e,n,s,r){return ta(),xp(r),e.flags|=256,Dt(t,e,n,s),e.child}var Qf={dehydrated:null,treeContext:null,retryLane:0};function Yf(t){return{baseLanes:t,cachePool:null,transitions:null}}function W_(t,e,n){var s=e.pendingProps,r=Me.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(r&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Ie(Me,r&1),t===null)return Bf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,i?(s=e.mode,i=e.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=pd(o,s,0,null),t=Yr(t,s,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Yf(n),e.memoizedState=Qf,t):Pp(e,o));if(r=t.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return mj(t,e,o,s,l,r,n);if(i){i=s.fallback,o=e.mode,r=t.child,l=r.sibling;var u={mode:"hidden",children:s.children};return!(o&1)&&e.child!==r?(s=e.child,s.childLanes=0,s.pendingProps=u,e.deletions=null):(s=tr(r,u),s.subtreeFlags=r.subtreeFlags&14680064),l!==null?i=tr(l,i):(i=Yr(i,o,n,null),i.flags|=2),i.return=e,s.return=e,s.sibling=i,e.child=s,s=i,i=e.child,o=t.child.memoizedState,o=o===null?Yf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Qf,s}return i=t.child,t=i.sibling,s=tr(i,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function Pp(t,e){return e=pd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function gc(t,e,n,s){return s!==null&&xp(s),na(e,t.child,null,n),t=Pp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function mj(t,e,n,s,r,i,o){if(n)return e.flags&256?(e.flags&=-257,s=Mh(Error(G(422))),gc(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=s.fallback,r=e.mode,s=pd({mode:"visible",children:s.children},r,0,null),i=Yr(i,r,o,null),i.flags|=2,s.return=e,i.return=e,s.sibling=i,e.child=s,e.mode&1&&na(e,t.child,null,o),e.child.memoizedState=Yf(o),e.memoizedState=Qf,i);if(!(e.mode&1))return gc(t,e,o,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(G(419)),s=Mh(i,s,void 0),gc(t,e,o,s)}if(l=(o&t.childLanes)!==0,Bt||l){if(s=mt,s!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|o)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,ps(t,r),En(s,t,r,-1))}return Op(),s=Mh(Error(G(421))),gc(t,e,o,s)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=Ij.bind(null,t),r._reactRetry=e,null):(t=i.treeContext,Xt=Js(r.nextSibling),en=e,Ve=!0,Nn=null,t!==null&&(un[dn++]=ns,un[dn++]=ss,un[dn++]=ni,ns=t.id,ss=t.overflow,ni=e),e=Pp(e,s.children),e.flags|=4096,e)}function s0(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),zf(t.return,e,n)}function Oh(t,e,n,s,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function q_(t,e,n){var s=e.pendingProps,r=s.revealOrder,i=s.tail;if(Dt(t,e,s.children,n),s=Me.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&s0(t,n,e);else if(t.tag===19)s0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(Ie(Me,s),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&yu(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Oh(e,!1,r,n,i);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&yu(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Oh(e,!0,n,null,i);break;case"together":Oh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Oc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function gs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ri|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,n=tr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=tr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function pj(t,e,n){switch(e.tag){case 3:H_(e),ta();break;case 5:x_(e);break;case 1:Ht(e.type)&&du(e);break;case 4:Sp(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,r=e.memoizedProps.value;Ie(mu,s._currentValue),s._currentValue=r;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(Ie(Me,Me.current&1),e.flags|=128,null):n&e.child.childLanes?W_(t,e,n):(Ie(Me,Me.current&1),t=gs(t,e,n),t!==null?t.sibling:null);Ie(Me,Me.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return q_(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ie(Me,Me.current),s)break;return null;case 22:case 23:return e.lanes=0,B_(t,e,n)}return gs(t,e,n)}var G_,Jf,K_,Q_;G_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Jf=function(){};K_=function(t,e,n,s){var r=t.memoizedProps;if(r!==s){t=e.stateNode,Wr(Un.current);var i=null;switch(n){case"input":r=vf(t,r),s=vf(t,s),i=[];break;case"select":r=Ue({},r,{value:void 0}),s=Ue({},s,{value:void 0}),i=[];break;case"textarea":r=bf(t,r),s=bf(t,s),i=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=cu)}Sf(n,s);var o;n=null;for(d in r)if(!s.hasOwnProperty(d)&&r.hasOwnProperty(d)&&r[d]!=null)if(d==="style"){var l=r[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Uo.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var u=s[d];if(l=r!=null?r[d]:void 0,s.hasOwnProperty(d)&&u!==l&&(u!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Uo.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&Ae("scroll",t),i||l===u||(i=[])):(i=i||[]).push(d,u))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};Q_=function(t,e,n,s){n!==s&&(e.flags|=4)};function so(t,e){if(!Ve)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Nt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function gj(t,e,n){var s=e.pendingProps;switch(yp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(e),null;case 1:return Ht(e.type)&&uu(),Nt(e),null;case 3:return s=e.stateNode,sa(),Re(zt),Re(At),Ep(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(mc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Nn!==null&&(im(Nn),Nn=null))),Jf(t,e),Nt(e),null;case 5:Tp(e);var r=Wr(Xo.current);if(n=e.type,t!==null&&e.stateNode!=null)K_(t,e,n,s,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(G(166));return Nt(e),null}if(t=Wr(Un.current),mc(e)){s=e.stateNode,n=e.type;var i=e.memoizedProps;switch(s[On]=e,s[Yo]=i,t=(e.mode&1)!==0,n){case"dialog":Ae("cancel",s),Ae("close",s);break;case"iframe":case"object":case"embed":Ae("load",s);break;case"video":case"audio":for(r=0;r<uo.length;r++)Ae(uo[r],s);break;case"source":Ae("error",s);break;case"img":case"image":case"link":Ae("error",s),Ae("load",s);break;case"details":Ae("toggle",s);break;case"input":hx(s,i),Ae("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},Ae("invalid",s);break;case"textarea":mx(s,i),Ae("invalid",s)}Sf(n,i),r=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&fc(s.textContent,l,t),r=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&fc(s.textContent,l,t),r=["children",""+l]):Uo.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ae("scroll",s)}switch(n){case"input":ic(s),fx(s,i,!0);break;case"textarea":ic(s),px(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=cu)}s=r,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=N1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(n,{is:s.is}):(t=o.createElement(n),n==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,n),t[On]=e,t[Yo]=s,G_(t,e,!1,!1),e.stateNode=t;e:{switch(o=Tf(n,s),n){case"dialog":Ae("cancel",t),Ae("close",t),r=s;break;case"iframe":case"object":case"embed":Ae("load",t),r=s;break;case"video":case"audio":for(r=0;r<uo.length;r++)Ae(uo[r],t);r=s;break;case"source":Ae("error",t),r=s;break;case"img":case"image":case"link":Ae("error",t),Ae("load",t),r=s;break;case"details":Ae("toggle",t),r=s;break;case"input":hx(t,s),r=vf(t,s),Ae("invalid",t);break;case"option":r=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},r=Ue({},s,{value:void 0}),Ae("invalid",t);break;case"textarea":mx(t,s),r=bf(t,s),Ae("invalid",t);break;default:r=s}Sf(n,r),l=r;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?E1(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&S1(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&$o(t,u):typeof u=="number"&&$o(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Uo.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Ae("scroll",t):u!=null&&np(t,i,u,o))}switch(n){case"input":ic(t),fx(t,s,!1);break;case"textarea":ic(t),px(t);break;case"option":s.value!=null&&t.setAttribute("value",""+dr(s.value));break;case"select":t.multiple=!!s.multiple,i=s.value,i!=null?Bi(t,!!s.multiple,i,!1):s.defaultValue!=null&&Bi(t,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=cu)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nt(e),null;case 6:if(t&&e.stateNode!=null)Q_(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(G(166));if(n=Wr(Xo.current),Wr(Un.current),mc(e)){if(s=e.stateNode,n=e.memoizedProps,s[On]=e,(i=s.nodeValue!==n)&&(t=en,t!==null))switch(t.tag){case 3:fc(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&fc(s.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[On]=e,e.stateNode=s}return Nt(e),null;case 13:if(Re(Me),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ve&&Xt!==null&&e.mode&1&&!(e.flags&128))f_(),ta(),e.flags|=98560,i=!1;else if(i=mc(e),s!==null&&s.dehydrated!==null){if(t===null){if(!i)throw Error(G(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(G(317));i[On]=e}else ta(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nt(e),i=!1}else Nn!==null&&(im(Nn),Nn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||Me.current&1?at===0&&(at=3):Op())),e.updateQueue!==null&&(e.flags|=4),Nt(e),null);case 4:return sa(),Jf(t,e),t===null&&Ko(e.stateNode.containerInfo),Nt(e),null;case 10:return _p(e.type._context),Nt(e),null;case 17:return Ht(e.type)&&uu(),Nt(e),null;case 19:if(Re(Me),i=e.memoizedState,i===null)return Nt(e),null;if(s=(e.flags&128)!==0,o=i.rendering,o===null)if(s)so(i,!1);else{if(at!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=yu(t),o!==null){for(e.flags|=128,so(i,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)i=n,t=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ie(Me,Me.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ke()>ia&&(e.flags|=128,s=!0,so(i,!1),e.lanes=4194304)}else{if(!s)if(t=yu(o),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),so(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ve)return Nt(e),null}else 2*Ke()-i.renderingStartTime>ia&&n!==1073741824&&(e.flags|=128,s=!0,so(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ke(),e.sibling=null,n=Me.current,Ie(Me,s?n&1|2:n&1),e):(Nt(e),null);case 22:case 23:return Mp(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?Qt&1073741824&&(Nt(e),e.subtreeFlags&6&&(e.flags|=8192)):Nt(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function yj(t,e){switch(yp(e),e.tag){case 1:return Ht(e.type)&&uu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return sa(),Re(zt),Re(At),Ep(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Tp(e),null;case 13:if(Re(Me),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));ta()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Re(Me),null;case 4:return sa(),null;case 10:return _p(e.type._context),null;case 22:case 23:return Mp(),null;case 24:return null;default:return null}}var yc=!1,jt=!1,xj=typeof WeakSet=="function"?WeakSet:Set,ee=null;function Li(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){ze(t,e,s)}else n.current=null}function Xf(t,e,n){try{n()}catch(s){ze(t,e,s)}}var r0=!1;function vj(t,e){if(Vf=au,t=e_(),pp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,d=0,f=0,h=t,p=null;t:for(;;){for(var y;h!==n||r!==0&&h.nodeType!==3||(l=o+r),h!==i||s!==0&&h.nodeType!==3||(u=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)p=h,h=y;for(;;){if(h===t)break t;if(p===n&&++d===r&&(l=o),p===i&&++f===s&&(u=o),(y=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=y}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lf={focusedElem:t,selectionRange:n},au=!1,ee=e;ee!==null;)if(e=ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ee=t;else for(;ee!==null;){e=ee;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var I=b.memoizedProps,A=b.memoizedState,E=e.stateNode,x=E.getSnapshotBeforeUpdate(e.elementType===e.type?I:_n(e.type,I),A);E.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(V){ze(e,e.return,V)}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}return b=r0,r0=!1,b}function To(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var i=r.destroy;r.destroy=void 0,i!==void 0&&Xf(e,n,i)}r=r.next}while(r!==s)}}function fd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function Zf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Y_(t){var e=t.alternate;e!==null&&(t.alternate=null,Y_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[On],delete e[Yo],delete e[Ff],delete e[tj],delete e[nj])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function J_(t){return t.tag===5||t.tag===3||t.tag===4}function i0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||J_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function em(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=cu));else if(s!==4&&(t=t.child,t!==null))for(em(t,e,n),t=t.sibling;t!==null;)em(t,e,n),t=t.sibling}function tm(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(tm(t,e,n),t=t.sibling;t!==null;)tm(t,e,n),t=t.sibling}var pt=null,bn=!1;function Rs(t,e,n){for(n=n.child;n!==null;)X_(t,e,n),n=n.sibling}function X_(t,e,n){if(Fn&&typeof Fn.onCommitFiberUnmount=="function")try{Fn.onCommitFiberUnmount(id,n)}catch{}switch(n.tag){case 5:jt||Li(n,e);case 6:var s=pt,r=bn;pt=null,Rs(t,e,n),pt=s,bn=r,pt!==null&&(bn?(t=pt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):pt.removeChild(n.stateNode));break;case 18:pt!==null&&(bn?(t=pt,n=n.stateNode,t.nodeType===8?Ch(t.parentNode,n):t.nodeType===1&&Ch(t,n),Wo(t)):Ch(pt,n.stateNode));break;case 4:s=pt,r=bn,pt=n.stateNode.containerInfo,bn=!0,Rs(t,e,n),pt=s,bn=r;break;case 0:case 11:case 14:case 15:if(!jt&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var i=r,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Xf(n,e,o),r=r.next}while(r!==s)}Rs(t,e,n);break;case 1:if(!jt&&(Li(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){ze(n,e,l)}Rs(t,e,n);break;case 21:Rs(t,e,n);break;case 22:n.mode&1?(jt=(s=jt)||n.memoizedState!==null,Rs(t,e,n),jt=s):Rs(t,e,n);break;default:Rs(t,e,n)}}function a0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new xj),e.forEach(function(s){var r=jj.bind(null,t,s);n.has(s)||(n.add(s),s.then(r,r))})}}function wn(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:pt=l.stateNode,bn=!1;break e;case 3:pt=l.stateNode.containerInfo,bn=!0;break e;case 4:pt=l.stateNode.containerInfo,bn=!0;break e}l=l.return}if(pt===null)throw Error(G(160));X_(i,o,r),pt=null,bn=!1;var u=r.alternate;u!==null&&(u.return=null),r.return=null}catch(d){ze(r,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Z_(e,t),e=e.sibling}function Z_(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wn(e,t),Vn(t),s&4){try{To(3,t,t.return),fd(3,t)}catch(I){ze(t,t.return,I)}try{To(5,t,t.return)}catch(I){ze(t,t.return,I)}}break;case 1:wn(e,t),Vn(t),s&512&&n!==null&&Li(n,n.return);break;case 5:if(wn(e,t),Vn(t),s&512&&n!==null&&Li(n,n.return),t.flags&32){var r=t.stateNode;try{$o(r,"")}catch(I){ze(t,t.return,I)}}if(s&4&&(r=t.stateNode,r!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&_1(r,i),Tf(l,o);var d=Tf(l,i);for(o=0;o<u.length;o+=2){var f=u[o],h=u[o+1];f==="style"?E1(r,h):f==="dangerouslySetInnerHTML"?S1(r,h):f==="children"?$o(r,h):np(r,f,h,d)}switch(l){case"input":wf(r,i);break;case"textarea":b1(r,i);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Bi(r,!!i.multiple,y,!1):p!==!!i.multiple&&(i.defaultValue!=null?Bi(r,!!i.multiple,i.defaultValue,!0):Bi(r,!!i.multiple,i.multiple?[]:"",!1))}r[Yo]=i}catch(I){ze(t,t.return,I)}}break;case 6:if(wn(e,t),Vn(t),s&4){if(t.stateNode===null)throw Error(G(162));r=t.stateNode,i=t.memoizedProps;try{r.nodeValue=i}catch(I){ze(t,t.return,I)}}break;case 3:if(wn(e,t),Vn(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Wo(e.containerInfo)}catch(I){ze(t,t.return,I)}break;case 4:wn(e,t),Vn(t);break;case 13:wn(e,t),Vn(t),r=t.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(Vp=Ke())),s&4&&a0(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(jt=(d=jt)||f,wn(e,t),jt=d):wn(e,t),Vn(t),s&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(ee=t,f=t.child;f!==null;){for(h=ee=f;ee!==null;){switch(p=ee,y=p.child,p.tag){case 0:case 11:case 14:case 15:To(4,p,p.return);break;case 1:Li(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){s=p,n=p.return;try{e=s,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(I){ze(s,n,I)}}break;case 5:Li(p,p.return);break;case 22:if(p.memoizedState!==null){l0(h);continue}}y!==null?(y.return=p,ee=y):l0(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{r=h.stateNode,d?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=T1("display",o))}catch(I){ze(t,t.return,I)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(I){ze(t,t.return,I)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:wn(e,t),Vn(t),s&4&&a0(t);break;case 21:break;default:wn(e,t),Vn(t)}}function Vn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(J_(n)){var s=n;break e}n=n.return}throw Error(G(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&($o(r,""),s.flags&=-33);var i=i0(t);tm(t,i,r);break;case 3:case 4:var o=s.stateNode.containerInfo,l=i0(t);em(t,l,o);break;default:throw Error(G(161))}}catch(u){ze(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function wj(t,e,n){ee=t,eb(t)}function eb(t,e,n){for(var s=(t.mode&1)!==0;ee!==null;){var r=ee,i=r.child;if(r.tag===22&&s){var o=r.memoizedState!==null||yc;if(!o){var l=r.alternate,u=l!==null&&l.memoizedState!==null||jt;l=yc;var d=jt;if(yc=o,(jt=u)&&!d)for(ee=r;ee!==null;)o=ee,u=o.child,o.tag===22&&o.memoizedState!==null?c0(r):u!==null?(u.return=o,ee=u):c0(r);for(;i!==null;)ee=i,eb(i),i=i.sibling;ee=r,yc=l,jt=d}o0(t)}else r.subtreeFlags&8772&&i!==null?(i.return=r,ee=i):o0(t)}}function o0(t){for(;ee!==null;){var e=ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:jt||fd(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!jt)if(n===null)s.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:_n(e.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Wx(e,i,s);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Wx(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Wo(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}jt||e.flags&512&&Zf(e)}catch(p){ze(e,e.return,p)}}if(e===t){ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,ee=n;break}ee=e.return}}function l0(t){for(;ee!==null;){var e=ee;if(e===t){ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ee=n;break}ee=e.return}}function c0(t){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{fd(4,e)}catch(u){ze(e,n,u)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var r=e.return;try{s.componentDidMount()}catch(u){ze(e,r,u)}}var i=e.return;try{Zf(e)}catch(u){ze(e,i,u)}break;case 5:var o=e.return;try{Zf(e)}catch(u){ze(e,o,u)}}}catch(u){ze(e,e.return,u)}if(e===t){ee=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ee=l;break}ee=e.return}}var _j=Math.ceil,wu=bs.ReactCurrentDispatcher,Rp=bs.ReactCurrentOwner,mn=bs.ReactCurrentBatchConfig,we=0,mt=null,Ze=null,vt=0,Qt=0,Mi=Nr(0),at=0,nl=null,ri=0,md=0,Dp=0,Eo=null,Ut=null,Vp=0,ia=1/0,Xn=null,_u=!1,nm=null,Zs=null,xc=!1,qs=null,bu=0,Io=0,sm=null,Fc=-1,Uc=0;function Vt(){return we&6?Ke():Fc!==-1?Fc:Fc=Ke()}function er(t){return t.mode&1?we&2&&vt!==0?vt&-vt:rj.transition!==null?(Uc===0&&(Uc=O1()),Uc):(t=Ne,t!==0||(t=window.event,t=t===void 0?16:W1(t.type)),t):1}function En(t,e,n,s){if(50<Io)throw Io=0,sm=null,Error(G(185));xl(t,n,s),(!(we&2)||t!==mt)&&(t===mt&&(!(we&2)&&(md|=n),at===4&&Us(t,vt)),Wt(t,s),n===1&&we===0&&!(e.mode&1)&&(ia=Ke()+500,ud&&Sr()))}function Wt(t,e){var n=t.callbackNode;rI(t,e);var s=iu(t,t===mt?vt:0);if(s===0)n!==null&&xx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&xx(n),e===1)t.tag===0?sj(u0.bind(null,t)):u_(u0.bind(null,t)),ZI(function(){!(we&6)&&Sr()}),n=null;else{switch(F1(s)){case 1:n=op;break;case 4:n=L1;break;case 16:n=ru;break;case 536870912:n=M1;break;default:n=ru}n=lb(n,tb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function tb(t,e){if(Fc=-1,Uc=0,we&6)throw Error(G(327));var n=t.callbackNode;if(Gi()&&t.callbackNode!==n)return null;var s=iu(t,t===mt?vt:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=Nu(t,s);else{e=s;var r=we;we|=2;var i=sb();(mt!==t||vt!==e)&&(Xn=null,ia=Ke()+500,Qr(t,e));do try{Sj();break}catch(l){nb(t,l)}while(!0);wp(),wu.current=i,we=r,Ze!==null?e=0:(mt=null,vt=0,e=at)}if(e!==0){if(e===2&&(r=Af(t),r!==0&&(s=r,e=rm(t,r))),e===1)throw n=nl,Qr(t,0),Us(t,s),Wt(t,Ke()),n;if(e===6)Us(t,s);else{if(r=t.current.alternate,!(s&30)&&!bj(r)&&(e=Nu(t,s),e===2&&(i=Af(t),i!==0&&(s=i,e=rm(t,i))),e===1))throw n=nl,Qr(t,0),Us(t,s),Wt(t,Ke()),n;switch(t.finishedWork=r,t.finishedLanes=s,e){case 0:case 1:throw Error(G(345));case 2:Or(t,Ut,Xn);break;case 3:if(Us(t,s),(s&130023424)===s&&(e=Vp+500-Ke(),10<e)){if(iu(t,0)!==0)break;if(r=t.suspendedLanes,(r&s)!==s){Vt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Of(Or.bind(null,t,Ut,Xn),e);break}Or(t,Ut,Xn);break;case 4:if(Us(t,s),(s&4194240)===s)break;for(e=t.eventTimes,r=-1;0<s;){var o=31-Tn(s);i=1<<o,o=e[o],o>r&&(r=o),s&=~i}if(s=r,s=Ke()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*_j(s/1960))-s,10<s){t.timeoutHandle=Of(Or.bind(null,t,Ut,Xn),s);break}Or(t,Ut,Xn);break;case 5:Or(t,Ut,Xn);break;default:throw Error(G(329))}}}return Wt(t,Ke()),t.callbackNode===n?tb.bind(null,t):null}function rm(t,e){var n=Eo;return t.current.memoizedState.isDehydrated&&(Qr(t,e).flags|=256),t=Nu(t,e),t!==2&&(e=Ut,Ut=n,e!==null&&im(e)),t}function im(t){Ut===null?Ut=t:Ut.push.apply(Ut,t)}function bj(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!kn(i(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Us(t,e){for(e&=~Dp,e&=~md,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Tn(e),s=1<<n;t[n]=-1,e&=~s}}function u0(t){if(we&6)throw Error(G(327));Gi();var e=iu(t,0);if(!(e&1))return Wt(t,Ke()),null;var n=Nu(t,e);if(t.tag!==0&&n===2){var s=Af(t);s!==0&&(e=s,n=rm(t,s))}if(n===1)throw n=nl,Qr(t,0),Us(t,e),Wt(t,Ke()),n;if(n===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Or(t,Ut,Xn),Wt(t,Ke()),null}function Lp(t,e){var n=we;we|=1;try{return t(e)}finally{we=n,we===0&&(ia=Ke()+500,ud&&Sr())}}function ii(t){qs!==null&&qs.tag===0&&!(we&6)&&Gi();var e=we;we|=1;var n=mn.transition,s=Ne;try{if(mn.transition=null,Ne=1,t)return t()}finally{Ne=s,mn.transition=n,we=e,!(we&6)&&Sr()}}function Mp(){Qt=Mi.current,Re(Mi)}function Qr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,XI(n)),Ze!==null)for(n=Ze.return;n!==null;){var s=n;switch(yp(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&uu();break;case 3:sa(),Re(zt),Re(At),Ep();break;case 5:Tp(s);break;case 4:sa();break;case 13:Re(Me);break;case 19:Re(Me);break;case 10:_p(s.type._context);break;case 22:case 23:Mp()}n=n.return}if(mt=t,Ze=t=tr(t.current,null),vt=Qt=e,at=0,nl=null,Dp=md=ri=0,Ut=Eo=null,Hr!==null){for(e=0;e<Hr.length;e++)if(n=Hr[e],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,i=n.pending;if(i!==null){var o=i.next;i.next=r,s.next=o}n.pending=s}Hr=null}return t}function nb(t,e){do{var n=Ze;try{if(wp(),Lc.current=vu,xu){for(var s=Fe.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}xu=!1}if(si=0,ht=it=Fe=null,So=!1,Zo=0,Rp.current=null,n===null||n.return===null){at=1,nl=e,Ze=null;break}e:{var i=t,o=n.return,l=n,u=e;if(e=vt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,f=l,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=Jx(o);if(y!==null){y.flags&=-257,Xx(y,o,l,i,e),y.mode&1&&Yx(i,d,e),e=y,u=d;var b=e.updateQueue;if(b===null){var I=new Set;I.add(u),e.updateQueue=I}else b.add(u);break e}else{if(!(e&1)){Yx(i,d,e),Op();break e}u=Error(G(426))}}else if(Ve&&l.mode&1){var A=Jx(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),Xx(A,o,l,i,e),xp(ra(u,l));break e}}i=u=ra(u,l),at!==4&&(at=2),Eo===null?Eo=[i]:Eo.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var E=F_(i,u,e);Hx(i,E);break e;case 1:l=u;var x=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Zs===null||!Zs.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var V=U_(i,l,e);Hx(i,V);break e}}i=i.return}while(i!==null)}ib(n)}catch(L){e=L,Ze===n&&n!==null&&(Ze=n=n.return);continue}break}while(!0)}function sb(){var t=wu.current;return wu.current=vu,t===null?vu:t}function Op(){(at===0||at===3||at===2)&&(at=4),mt===null||!(ri&268435455)&&!(md&268435455)||Us(mt,vt)}function Nu(t,e){var n=we;we|=2;var s=sb();(mt!==t||vt!==e)&&(Xn=null,Qr(t,e));do try{Nj();break}catch(r){nb(t,r)}while(!0);if(wp(),we=n,wu.current=s,Ze!==null)throw Error(G(261));return mt=null,vt=0,at}function Nj(){for(;Ze!==null;)rb(Ze)}function Sj(){for(;Ze!==null&&!QE();)rb(Ze)}function rb(t){var e=ob(t.alternate,t,Qt);t.memoizedProps=t.pendingProps,e===null?ib(t):Ze=e,Rp.current=null}function ib(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=yj(n,e),n!==null){n.flags&=32767,Ze=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{at=6,Ze=null;return}}else if(n=gj(n,e,Qt),n!==null){Ze=n;return}if(e=e.sibling,e!==null){Ze=e;return}Ze=e=t}while(e!==null);at===0&&(at=5)}function Or(t,e,n){var s=Ne,r=mn.transition;try{mn.transition=null,Ne=1,Tj(t,e,n,s)}finally{mn.transition=r,Ne=s}return null}function Tj(t,e,n,s){do Gi();while(qs!==null);if(we&6)throw Error(G(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(iI(t,i),t===mt&&(Ze=mt=null,vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xc||(xc=!0,lb(ru,function(){return Gi(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=mn.transition,mn.transition=null;var o=Ne;Ne=1;var l=we;we|=4,Rp.current=null,vj(t,n),Z_(n,t),WI(Lf),au=!!Vf,Lf=Vf=null,t.current=n,wj(n),YE(),we=l,Ne=o,mn.transition=i}else t.current=n;if(xc&&(xc=!1,qs=t,bu=r),i=t.pendingLanes,i===0&&(Zs=null),ZE(n.stateNode),Wt(t,Ke()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(_u)throw _u=!1,t=nm,nm=null,t;return bu&1&&t.tag!==0&&Gi(),i=t.pendingLanes,i&1?t===sm?Io++:(Io=0,sm=t):Io=0,Sr(),null}function Gi(){if(qs!==null){var t=F1(bu),e=mn.transition,n=Ne;try{if(mn.transition=null,Ne=16>t?16:t,qs===null)var s=!1;else{if(t=qs,qs=null,bu=0,we&6)throw Error(G(331));var r=we;for(we|=4,ee=t.current;ee!==null;){var i=ee,o=i.child;if(ee.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var d=l[u];for(ee=d;ee!==null;){var f=ee;switch(f.tag){case 0:case 11:case 15:To(8,f,i)}var h=f.child;if(h!==null)h.return=f,ee=h;else for(;ee!==null;){f=ee;var p=f.sibling,y=f.return;if(Y_(f),f===d){ee=null;break}if(p!==null){p.return=y,ee=p;break}ee=y}}}var b=i.alternate;if(b!==null){var I=b.child;if(I!==null){b.child=null;do{var A=I.sibling;I.sibling=null,I=A}while(I!==null)}}ee=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ee=o;else e:for(;ee!==null;){if(i=ee,i.flags&2048)switch(i.tag){case 0:case 11:case 15:To(9,i,i.return)}var E=i.sibling;if(E!==null){E.return=i.return,ee=E;break e}ee=i.return}}var x=t.current;for(ee=x;ee!==null;){o=ee;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,ee=_;else e:for(o=x;ee!==null;){if(l=ee,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:fd(9,l)}}catch(L){ze(l,l.return,L)}if(l===o){ee=null;break e}var V=l.sibling;if(V!==null){V.return=l.return,ee=V;break e}ee=l.return}}if(we=r,Sr(),Fn&&typeof Fn.onPostCommitFiberRoot=="function")try{Fn.onPostCommitFiberRoot(id,t)}catch{}s=!0}return s}finally{Ne=n,mn.transition=e}}return!1}function d0(t,e,n){e=ra(n,e),e=F_(t,e,1),t=Xs(t,e,1),e=Vt(),t!==null&&(xl(t,1,e),Wt(t,e))}function ze(t,e,n){if(t.tag===3)d0(t,t,n);else for(;e!==null;){if(e.tag===3){d0(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Zs===null||!Zs.has(s))){t=ra(n,t),t=U_(e,t,1),e=Xs(e,t,1),t=Vt(),e!==null&&(xl(e,1,t),Wt(e,t));break}}e=e.return}}function Ej(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=Vt(),t.pingedLanes|=t.suspendedLanes&n,mt===t&&(vt&n)===n&&(at===4||at===3&&(vt&130023424)===vt&&500>Ke()-Vp?Qr(t,0):Dp|=n),Wt(t,e)}function ab(t,e){e===0&&(t.mode&1?(e=lc,lc<<=1,!(lc&130023424)&&(lc=4194304)):e=1);var n=Vt();t=ps(t,e),t!==null&&(xl(t,e,n),Wt(t,n))}function Ij(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ab(t,n)}function jj(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(G(314))}s!==null&&s.delete(e),ab(t,n)}var ob;ob=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||zt.current)Bt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Bt=!1,pj(t,e,n);Bt=!!(t.flags&131072)}else Bt=!1,Ve&&e.flags&1048576&&d_(e,fu,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;Oc(t,e),t=e.pendingProps;var r=ea(e,At.current);qi(e,n),r=jp(null,e,s,t,r,n);var i=kp();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ht(s)?(i=!0,du(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Np(e),r.updater=hd,e.stateNode=r,r._reactInternals=e,Wf(e,s,t,n),e=Kf(null,e,s,!0,i,n)):(e.tag=0,Ve&&i&&gp(e),Dt(null,e,r,n),e=e.child),e;case 16:s=e.elementType;e:{switch(Oc(t,e),t=e.pendingProps,r=s._init,s=r(s._payload),e.type=s,r=e.tag=Aj(s),t=_n(s,t),r){case 0:e=Gf(null,e,s,t,n);break e;case 1:e=t0(null,e,s,t,n);break e;case 11:e=Zx(null,e,s,t,n);break e;case 14:e=e0(null,e,s,_n(s.type,t),n);break e}throw Error(G(306,s,""))}return e;case 0:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:_n(s,r),Gf(t,e,s,r,n);case 1:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:_n(s,r),t0(t,e,s,r,n);case 3:e:{if(H_(e),t===null)throw Error(G(387));s=e.pendingProps,i=e.memoizedState,r=i.element,y_(t,e),gu(e,s,null,n);var o=e.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=ra(Error(G(423)),e),e=n0(t,e,s,n,r);break e}else if(s!==r){r=ra(Error(G(424)),e),e=n0(t,e,s,n,r);break e}else for(Xt=Js(e.stateNode.containerInfo.firstChild),en=e,Ve=!0,Nn=null,n=p_(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ta(),s===r){e=gs(t,e,n);break e}Dt(t,e,s,n)}e=e.child}return e;case 5:return x_(e),t===null&&Bf(e),s=e.type,r=e.pendingProps,i=t!==null?t.memoizedProps:null,o=r.children,Mf(s,r)?o=null:i!==null&&Mf(s,i)&&(e.flags|=32),z_(t,e),Dt(t,e,o,n),e.child;case 6:return t===null&&Bf(e),null;case 13:return W_(t,e,n);case 4:return Sp(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=na(e,null,s,n):Dt(t,e,s,n),e.child;case 11:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:_n(s,r),Zx(t,e,s,r,n);case 7:return Dt(t,e,e.pendingProps,n),e.child;case 8:return Dt(t,e,e.pendingProps.children,n),e.child;case 12:return Dt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,r=e.pendingProps,i=e.memoizedProps,o=r.value,Ie(mu,s._currentValue),s._currentValue=o,i!==null)if(kn(i.value,o)){if(i.children===r.children&&!zt.current){e=gs(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var u=l.firstContext;u!==null;){if(u.context===s){if(i.tag===1){u=os(-1,n&-n),u.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?u.next=u:(u.next=f.next,f.next=u),d.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),zf(i.return,n,e),l.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(G(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),zf(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Dt(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,s=e.pendingProps.children,qi(e,n),r=yn(r),s=s(r),e.flags|=1,Dt(t,e,s,n),e.child;case 14:return s=e.type,r=_n(s,e.pendingProps),r=_n(s.type,r),e0(t,e,s,r,n);case 15:return $_(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:_n(s,r),Oc(t,e),e.tag=1,Ht(s)?(t=!0,du(e)):t=!1,qi(e,n),O_(e,s,r),Wf(e,s,r,n),Kf(null,e,s,!0,t,n);case 19:return q_(t,e,n);case 22:return B_(t,e,n)}throw Error(G(156,e.tag))};function lb(t,e){return V1(t,e)}function kj(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,e,n,s){return new kj(t,e,n,s)}function Fp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Aj(t){if(typeof t=="function")return Fp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===rp)return 11;if(t===ip)return 14}return 2}function tr(t,e){var n=t.alternate;return n===null?(n=fn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function $c(t,e,n,s,r,i){var o=2;if(s=t,typeof t=="function")Fp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ii:return Yr(n.children,r,i,e);case sp:o=8,r|=8;break;case pf:return t=fn(12,n,e,r|2),t.elementType=pf,t.lanes=i,t;case gf:return t=fn(13,n,e,r),t.elementType=gf,t.lanes=i,t;case yf:return t=fn(19,n,e,r),t.elementType=yf,t.lanes=i,t;case x1:return pd(n,r,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case g1:o=10;break e;case y1:o=9;break e;case rp:o=11;break e;case ip:o=14;break e;case Ls:o=16,s=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return e=fn(o,n,e,r),e.elementType=t,e.type=s,e.lanes=i,e}function Yr(t,e,n,s){return t=fn(7,t,s,e),t.lanes=n,t}function pd(t,e,n,s){return t=fn(22,t,s,e),t.elementType=x1,t.lanes=n,t.stateNode={isHidden:!1},t}function Fh(t,e,n){return t=fn(6,t,null,e),t.lanes=n,t}function Uh(t,e,n){return e=fn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Cj(t,e,n,s,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wh(0),this.expirationTimes=wh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wh(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Up(t,e,n,s,r,i,o,l,u){return t=new Cj(t,e,n,l,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=fn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Np(i),t}function Pj(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ei,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function cb(t){if(!t)return hr;t=t._reactInternals;e:{if(fi(t)!==t||t.tag!==1)throw Error(G(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ht(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(t.tag===1){var n=t.type;if(Ht(n))return c_(t,n,e)}return e}function ub(t,e,n,s,r,i,o,l,u){return t=Up(n,s,!0,t,r,i,o,l,u),t.context=cb(null),n=t.current,s=Vt(),r=er(n),i=os(s,r),i.callback=e??null,Xs(n,i,r),t.current.lanes=r,xl(t,r,s),Wt(t,s),t}function gd(t,e,n,s){var r=e.current,i=Vt(),o=er(r);return n=cb(n),e.context===null?e.context=n:e.pendingContext=n,e=os(i,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=Xs(r,e,o),t!==null&&(En(t,r,o,i),Vc(t,r,o)),o}function Su(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function h0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function $p(t,e){h0(t,e),(t=t.alternate)&&h0(t,e)}function Rj(){return null}var db=typeof reportError=="function"?reportError:function(t){console.error(t)};function Bp(t){this._internalRoot=t}yd.prototype.render=Bp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));gd(t,e,null,null)};yd.prototype.unmount=Bp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ii(function(){gd(null,t,null,null)}),e[ms]=null}};function yd(t){this._internalRoot=t}yd.prototype.unstable_scheduleHydration=function(t){if(t){var e=B1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Fs.length&&e!==0&&e<Fs[n].priority;n++);Fs.splice(n,0,t),n===0&&H1(t)}};function zp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function xd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function f0(){}function Dj(t,e,n,s,r){if(r){if(typeof s=="function"){var i=s;s=function(){var d=Su(o);i.call(d)}}var o=ub(e,s,t,0,null,!1,!1,"",f0);return t._reactRootContainer=o,t[ms]=o.current,Ko(t.nodeType===8?t.parentNode:t),ii(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof s=="function"){var l=s;s=function(){var d=Su(u);l.call(d)}}var u=Up(t,0,!1,null,null,!1,!1,"",f0);return t._reactRootContainer=u,t[ms]=u.current,Ko(t.nodeType===8?t.parentNode:t),ii(function(){gd(e,u,n,s)}),u}function vd(t,e,n,s,r){var i=n._reactRootContainer;if(i){var o=i;if(typeof r=="function"){var l=r;r=function(){var u=Su(o);l.call(u)}}gd(e,o,t,r)}else o=Dj(n,e,t,r,s);return Su(o)}U1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=co(e.pendingLanes);n!==0&&(lp(e,n|1),Wt(e,Ke()),!(we&6)&&(ia=Ke()+500,Sr()))}break;case 13:ii(function(){var s=ps(t,1);if(s!==null){var r=Vt();En(s,t,1,r)}}),$p(t,1)}};cp=function(t){if(t.tag===13){var e=ps(t,134217728);if(e!==null){var n=Vt();En(e,t,134217728,n)}$p(t,134217728)}};$1=function(t){if(t.tag===13){var e=er(t),n=ps(t,e);if(n!==null){var s=Vt();En(n,t,e,s)}$p(t,e)}};B1=function(){return Ne};z1=function(t,e){var n=Ne;try{return Ne=t,e()}finally{Ne=n}};If=function(t,e,n){switch(e){case"input":if(wf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var r=cd(s);if(!r)throw Error(G(90));w1(s),wf(s,r)}}}break;case"textarea":b1(t,n);break;case"select":e=n.value,e!=null&&Bi(t,!!n.multiple,e,!1)}};k1=Lp;A1=ii;var Vj={usingClientEntryPoint:!1,Events:[wl,Ci,cd,I1,j1,Lp]},ro={findFiberByHostInstance:zr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Lj={bundleType:ro.bundleType,version:ro.version,rendererPackageName:ro.rendererPackageName,rendererConfig:ro.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=R1(t),t===null?null:t.stateNode},findFiberByHostInstance:ro.findFiberByHostInstance||Rj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{id=vc.inject(Lj),Fn=vc}catch{}}rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vj;rn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zp(e))throw Error(G(200));return Pj(t,e,null,n)};rn.createRoot=function(t,e){if(!zp(t))throw Error(G(299));var n=!1,s="",r=db;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Up(t,1,!1,null,null,n,!1,s,r),t[ms]=e.current,Ko(t.nodeType===8?t.parentNode:t),new Bp(e)};rn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=R1(e),t=t===null?null:t.stateNode,t};rn.flushSync=function(t){return ii(t)};rn.hydrate=function(t,e,n){if(!xd(e))throw Error(G(200));return vd(null,t,e,!0,n)};rn.hydrateRoot=function(t,e,n){if(!zp(t))throw Error(G(405));var s=n!=null&&n.hydratedSources||null,r=!1,i="",o=db;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ub(e,null,t,1,n??null,r,!1,i,o),t[ms]=e.current,Ko(t),s)for(t=0;t<s.length;t++)n=s[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new yd(e)};rn.render=function(t,e,n){if(!xd(e))throw Error(G(200));return vd(null,t,e,!1,n)};rn.unmountComponentAtNode=function(t){if(!xd(t))throw Error(G(40));return t._reactRootContainer?(ii(function(){vd(null,null,t,!1,function(){t._reactRootContainer=null,t[ms]=null})}),!0):!1};rn.unstable_batchedUpdates=Lp;rn.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!xd(n))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return vd(t,e,n,!1,s)};rn.version="18.3.1-next-f1338f8080-20240426";function hb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hb)}catch(t){console.error(t)}}hb(),h1.exports=rn;var Mj=h1.exports,m0=Mj;ff.createRoot=m0.createRoot,ff.hydrateRoot=m0.hydrateRoot;const fb=R.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),wd=R.createContext({}),_d=R.createContext(null),bd=typeof document<"u",Hp=bd?R.useLayoutEffect:R.useEffect,mb=R.createContext({strict:!1}),Wp=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Oj="framerAppearId",pb="data-"+Wp(Oj);function Fj(t,e,n,s){const{visualElement:r}=R.useContext(wd),i=R.useContext(mb),o=R.useContext(_d),l=R.useContext(fb).reducedMotion,u=R.useRef();s=s||i.renderer,!u.current&&s&&(u.current=s(t,{visualState:e,parent:r,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const d=u.current;R.useInsertionEffect(()=>{d&&d.update(n,o)});const f=R.useRef(!!(n[pb]&&!window.HandoffComplete));return Hp(()=>{d&&(d.render(),f.current&&d.animationState&&d.animationState.animateChanges())}),R.useEffect(()=>{d&&(d.updateFeatures(),!f.current&&d.animationState&&d.animationState.animateChanges(),f.current&&(f.current=!1,window.HandoffComplete=!0))}),d}function Oi(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Uj(t,e,n){return R.useCallback(s=>{s&&t.mount&&t.mount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Oi(n)&&(n.current=s))},[e])}function sl(t){return typeof t=="string"||Array.isArray(t)}function Nd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const qp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Gp=["initial",...qp];function Sd(t){return Nd(t.animate)||Gp.some(e=>sl(t[e]))}function gb(t){return!!(Sd(t)||t.variants)}function $j(t,e){if(Sd(t)){const{initial:n,animate:s}=t;return{initial:n===!1||sl(n)?n:void 0,animate:sl(s)?s:void 0}}return t.inherit!==!1?e:{}}function Bj(t){const{initial:e,animate:n}=$j(t,R.useContext(wd));return R.useMemo(()=>({initial:e,animate:n}),[p0(e),p0(n)])}function p0(t){return Array.isArray(t)?t.join(" "):t}const g0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},rl={};for(const t in g0)rl[t]={isEnabled:e=>g0[t].some(n=>!!e[n])};function zj(t){for(const e in t)rl[e]={...rl[e],...t[e]}}const Kp=R.createContext({}),yb=R.createContext({}),Hj=Symbol.for("motionComponentSymbol");function Wj({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:r}){t&&zj(t);function i(l,u){let d;const f={...R.useContext(fb),...l,layoutId:qj(l)},{isStatic:h}=f,p=Bj(l),y=s(l,h);if(!h&&bd){p.visualElement=Fj(r,y,f,e);const b=R.useContext(yb),I=R.useContext(mb).strict;p.visualElement&&(d=p.visualElement.loadFeatures(f,I,t,b))}return R.createElement(wd.Provider,{value:p},d&&p.visualElement?R.createElement(d,{visualElement:p.visualElement,...f}):null,n(r,l,Uj(y,p.visualElement,u),y,h,p.visualElement))}const o=R.forwardRef(i);return o[Hj]=r,o}function qj({layoutId:t}){const e=R.useContext(Kp).id;return e&&t!==void 0?e+"-"+t:t}function Gj(t){function e(s,r={}){return Wj(t(s,r))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(s,r)=>(n.has(r)||n.set(r,e(r)),n.get(r))})}const Kj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Qp(t){return typeof t!="string"||t.includes("-")?!1:!!(Kj.indexOf(t)>-1||/[A-Z]/.test(t))}const Tu={};function Qj(t){Object.assign(Tu,t)}const bl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],mi=new Set(bl);function xb(t,{layout:e,layoutId:n}){return mi.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Tu[t]||t==="opacity")}const qt=t=>!!(t&&t.getVelocity),Yj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Jj=bl.length;function Xj(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},s,r){let i="";for(let o=0;o<Jj;o++){const l=bl[o];if(t[l]!==void 0){const u=Yj[l]||l;i+=`${u}(${t[l]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),r?i=r(t,s?"":i):n&&s&&(i="none"),i}const vb=t=>e=>typeof e=="string"&&e.startsWith(t),wb=vb("--"),am=vb("var(--"),Zj=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,ek=(t,e)=>e&&typeof t=="number"?e.transform(t):t,fr=(t,e,n)=>Math.min(Math.max(n,t),e),pi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},jo={...pi,transform:t=>fr(0,1,t)},wc={...pi,default:1},ko=t=>Math.round(t*1e5)/1e5,Td=/(-)?([\d]*\.?[\d])+/g,_b=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,tk=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Nl(t){return typeof t=="string"}const Sl=t=>({test:e=>Nl(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Vs=Sl("deg"),$n=Sl("%"),le=Sl("px"),nk=Sl("vh"),sk=Sl("vw"),y0={...$n,parse:t=>$n.parse(t)/100,transform:t=>$n.transform(t*100)},x0={...pi,transform:Math.round},bb={borderWidth:le,borderTopWidth:le,borderRightWidth:le,borderBottomWidth:le,borderLeftWidth:le,borderRadius:le,radius:le,borderTopLeftRadius:le,borderTopRightRadius:le,borderBottomRightRadius:le,borderBottomLeftRadius:le,width:le,maxWidth:le,height:le,maxHeight:le,size:le,top:le,right:le,bottom:le,left:le,padding:le,paddingTop:le,paddingRight:le,paddingBottom:le,paddingLeft:le,margin:le,marginTop:le,marginRight:le,marginBottom:le,marginLeft:le,rotate:Vs,rotateX:Vs,rotateY:Vs,rotateZ:Vs,scale:wc,scaleX:wc,scaleY:wc,scaleZ:wc,skew:Vs,skewX:Vs,skewY:Vs,distance:le,translateX:le,translateY:le,translateZ:le,x:le,y:le,z:le,perspective:le,transformPerspective:le,opacity:jo,originX:y0,originY:y0,originZ:le,zIndex:x0,fillOpacity:jo,strokeOpacity:jo,numOctaves:x0};function Yp(t,e,n,s){const{style:r,vars:i,transform:o,transformOrigin:l}=t;let u=!1,d=!1,f=!0;for(const h in e){const p=e[h];if(wb(h)){i[h]=p;continue}const y=bb[h],b=ek(p,y);if(mi.has(h)){if(u=!0,o[h]=b,!f)continue;p!==(y.default||0)&&(f=!1)}else h.startsWith("origin")?(d=!0,l[h]=b):r[h]=b}if(e.transform||(u||s?r.transform=Xj(t.transform,n,f,s):r.transform&&(r.transform="none")),d){const{originX:h="50%",originY:p="50%",originZ:y=0}=l;r.transformOrigin=`${h} ${p} ${y}`}}const Jp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Nb(t,e,n){for(const s in e)!qt(e[s])&&!xb(s,n)&&(t[s]=e[s])}function rk({transformTemplate:t},e,n){return R.useMemo(()=>{const s=Jp();return Yp(s,e,{enableHardwareAcceleration:!n},t),Object.assign({},s.vars,s.style)},[e])}function ik(t,e,n){const s=t.style||{},r={};return Nb(r,s,t),Object.assign(r,rk(t,e,n)),t.transformValues?t.transformValues(r):r}function ak(t,e,n){const s={},r=ik(t,e,n);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=r,s}const ok=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Eu(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||ok.has(t)}let Sb=t=>!Eu(t);function lk(t){t&&(Sb=e=>e.startsWith("on")?!Eu(e):t(e))}try{lk(require("@emotion/is-prop-valid").default)}catch{}function ck(t,e,n){const s={};for(const r in t)r==="values"&&typeof t.values=="object"||(Sb(r)||n===!0&&Eu(r)||!e&&!Eu(r)||t.draggable&&r.startsWith("onDrag"))&&(s[r]=t[r]);return s}function v0(t,e,n){return typeof t=="string"?t:le.transform(e+n*t)}function uk(t,e,n){const s=v0(e,t.x,t.width),r=v0(n,t.y,t.height);return`${s} ${r}`}const dk={offset:"stroke-dashoffset",array:"stroke-dasharray"},hk={offset:"strokeDashoffset",array:"strokeDasharray"};function fk(t,e,n=1,s=0,r=!0){t.pathLength=1;const i=r?dk:hk;t[i.offset]=le.transform(-s);const o=le.transform(e),l=le.transform(n);t[i.array]=`${o} ${l}`}function Xp(t,{attrX:e,attrY:n,attrScale:s,originX:r,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:u=0,...d},f,h,p){if(Yp(t,d,f,p),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:b,dimensions:I}=t;y.transform&&(I&&(b.transform=y.transform),delete y.transform),I&&(r!==void 0||i!==void 0||b.transform)&&(b.transformOrigin=uk(I,r!==void 0?r:.5,i!==void 0?i:.5)),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),s!==void 0&&(y.scale=s),o!==void 0&&fk(y,o,l,u,!1)}const Tb=()=>({...Jp(),attrs:{}}),Zp=t=>typeof t=="string"&&t.toLowerCase()==="svg";function mk(t,e,n,s){const r=R.useMemo(()=>{const i=Tb();return Xp(i,e,{enableHardwareAcceleration:!1},Zp(s),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};Nb(i,t.style,t),r.style={...i,...r.style}}return r}function pk(t=!1){return(n,s,r,{latestValues:i},o)=>{const u=(Qp(n)?mk:ak)(s,i,o,n),f={...ck(s,typeof n=="string",t),...u,ref:r},{children:h}=s,p=R.useMemo(()=>qt(h)?h.get():h,[h]);return R.createElement(n,{...f,children:p})}}function Eb(t,{style:e,vars:n},s,r){Object.assign(t.style,e,r&&r.getProjectionStyles(s));for(const i in n)t.style.setProperty(i,n[i])}const Ib=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jb(t,e,n,s){Eb(t,e,void 0,s);for(const r in e.attrs)t.setAttribute(Ib.has(r)?r:Wp(r),e.attrs[r])}function eg(t,e){const{style:n}=t,s={};for(const r in n)(qt(n[r])||e.style&&qt(e.style[r])||xb(r,t))&&(s[r]=n[r]);return s}function kb(t,e){const n=eg(t,e);for(const s in t)if(qt(t[s])||qt(e[s])){const r=bl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[r]=t[s]}return n}function tg(t,e,n,s={},r={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,s,r)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,s,r)),e}function Ab(t){const e=R.useRef(null);return e.current===null&&(e.current=t()),e.current}const Iu=t=>Array.isArray(t),gk=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),yk=t=>Iu(t)?t[t.length-1]||0:t;function Bc(t){const e=qt(t)?t.get():t;return gk(e)?e.toValue():e}function xk({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},s,r,i){const o={latestValues:vk(s,r,i,t),renderState:e()};return n&&(o.mount=l=>n(s,l,o)),o}const Cb=t=>(e,n)=>{const s=R.useContext(wd),r=R.useContext(_d),i=()=>xk(t,e,s,r);return n?i():Ab(i)};function vk(t,e,n,s){const r={},i=s(t,{});for(const p in i)r[p]=Bc(i[p]);let{initial:o,animate:l}=t;const u=Sd(t),d=gb(t);e&&d&&!u&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const h=f?l:o;return h&&typeof h!="boolean"&&!Nd(h)&&(Array.isArray(h)?h:[h]).forEach(y=>{const b=tg(t,y);if(!b)return;const{transitionEnd:I,transition:A,...E}=b;for(const x in E){let _=E[x];if(Array.isArray(_)){const V=f?_.length-1:0;_=_[V]}_!==null&&(r[x]=_)}for(const x in I)r[x]=I[x]}),r}const Qe=t=>t;class w0{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function wk(t){let e=new w0,n=new w0,s=0,r=!1,i=!1;const o=new WeakSet,l={schedule:(u,d=!1,f=!1)=>{const h=f&&r,p=h?e:n;return d&&o.add(u),p.add(u)&&h&&r&&(s=e.order.length),u},cancel:u=>{n.remove(u),o.delete(u)},process:u=>{if(r){i=!0;return}if(r=!0,[e,n]=[n,e],n.clear(),s=e.order.length,s)for(let d=0;d<s;d++){const f=e.order[d];f(u),o.has(f)&&(l.schedule(f),t())}r=!1,i&&(i=!1,l.process(u))}};return l}const _c=["prepare","read","update","preRender","render","postRender"],_k=40;function bk(t,e){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=_c.reduce((h,p)=>(h[p]=wk(()=>n=!0),h),{}),o=h=>i[h].process(r),l=()=>{const h=performance.now();n=!1,r.delta=s?1e3/60:Math.max(Math.min(h-r.timestamp,_k),1),r.timestamp=h,r.isProcessing=!0,_c.forEach(o),r.isProcessing=!1,n&&e&&(s=!1,t(l))},u=()=>{n=!0,s=!0,r.isProcessing||t(l)};return{schedule:_c.reduce((h,p)=>{const y=i[p];return h[p]=(b,I=!1,A=!1)=>(n||u(),y.schedule(b,I,A)),h},{}),cancel:h=>_c.forEach(p=>i[p].cancel(h)),state:r,steps:i}}const{schedule:je,cancel:ys,state:Tt,steps:$h}=bk(typeof requestAnimationFrame<"u"?requestAnimationFrame:Qe,!0),Nk={useVisualState:Cb({scrapeMotionValuesFromProps:kb,createRenderState:Tb,onMount:(t,e,{renderState:n,latestValues:s})=>{je.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),je.render(()=>{Xp(n,s,{enableHardwareAcceleration:!1},Zp(e.tagName),t.transformTemplate),jb(e,n)})}})},Sk={useVisualState:Cb({scrapeMotionValuesFromProps:eg,createRenderState:Jp})};function Tk(t,{forwardMotionProps:e=!1},n,s){return{...Qp(t)?Nk:Sk,preloadedFeatures:n,useRender:pk(e),createVisualElement:s,Component:t}}function rs(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}const Pb=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Ed(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const Ek=t=>e=>Pb(e)&&t(e,Ed(e));function ls(t,e,n,s){return rs(t,e,Ek(n),s)}const Ik=(t,e)=>n=>e(t(n)),nr=(...t)=>t.reduce(Ik);function Rb(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const _0=Rb("dragHorizontal"),b0=Rb("dragVertical");function Db(t){let e=!1;if(t==="y")e=b0();else if(t==="x")e=_0();else{const n=_0(),s=b0();n&&s?e=()=>{n(),s()}:(n&&n(),s&&s())}return e}function Vb(){const t=Db(!0);return t?(t(),!1):!0}class Tr{constructor(e){this.isMounted=!1,this.node=e}update(){}}function N0(t,e){const n="pointer"+(e?"enter":"leave"),s="onHover"+(e?"Start":"End"),r=(i,o)=>{if(i.pointerType==="touch"||Vb())return;const l=t.getProps();t.animationState&&l.whileHover&&t.animationState.setActive("whileHover",e),l[s]&&je.update(()=>l[s](i,o))};return ls(t.current,n,r,{passive:!t.getProps()[s]})}class jk extends Tr{mount(){this.unmount=nr(N0(this.node,!0),N0(this.node,!1))}unmount(){}}class kk extends Tr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=nr(rs(this.node.current,"focus",()=>this.onFocus()),rs(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Lb=(t,e)=>e?t===e?!0:Lb(t,e.parentElement):!1;function Bh(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Ed(n))}class Ak extends Tr{constructor(){super(...arguments),this.removeStartListeners=Qe,this.removeEndListeners=Qe,this.removeAccessibleListeners=Qe,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const s=this.node.getProps(),i=ls(window,"pointerup",(l,u)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:f,globalTapTarget:h}=this.node.getProps();je.update(()=>{!h&&!Lb(this.node.current,l.target)?f&&f(l,u):d&&d(l,u)})},{passive:!(s.onTap||s.onPointerUp)}),o=ls(window,"pointercancel",(l,u)=>this.cancelPress(l,u),{passive:!(s.onTapCancel||s.onPointerCancel)});this.removeEndListeners=nr(i,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||Bh("up",(u,d)=>{const{onTap:f}=this.node.getProps();f&&je.update(()=>f(u,d))})};this.removeEndListeners(),this.removeEndListeners=rs(this.node.current,"keyup",o),Bh("down",(l,u)=>{this.startPress(l,u)})},n=rs(this.node.current,"keydown",e),s=()=>{this.isPressing&&Bh("cancel",(i,o)=>this.cancelPress(i,o))},r=rs(this.node.current,"blur",s);this.removeAccessibleListeners=nr(n,r)}}startPress(e,n){this.isPressing=!0;const{onTapStart:s,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),s&&je.update(()=>s(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Vb()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:s}=this.node.getProps();s&&je.update(()=>s(e,n))}mount(){const e=this.node.getProps(),n=ls(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),s=rs(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=nr(n,s)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const om=new WeakMap,zh=new WeakMap,Ck=t=>{const e=om.get(t.target);e&&e(t)},Pk=t=>{t.forEach(Ck)};function Rk({root:t,...e}){const n=t||document;zh.has(n)||zh.set(n,{});const s=zh.get(n),r=JSON.stringify(e);return s[r]||(s[r]=new IntersectionObserver(Pk,{root:t,...e})),s[r]}function Dk(t,e,n){const s=Rk(e);return om.set(t,n),s.observe(t),()=>{om.delete(t),s.unobserve(t)}}const Vk={some:0,all:1};class Lk extends Tr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:Vk[r]},l=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:h}=this.node.getProps(),p=d?f:h;p&&p(u)};return Dk(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Mk(e,n))&&this.startObserver()}unmount(){}}function Mk({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Ok={inView:{Feature:Lk},tap:{Feature:Ak},focus:{Feature:kk},hover:{Feature:jk}};function Mb(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}function Fk(t){const e={};return t.values.forEach((n,s)=>e[s]=n.get()),e}function Uk(t){const e={};return t.values.forEach((n,s)=>e[s]=n.getVelocity()),e}function Id(t,e,n){const s=t.getProps();return tg(s,e,n!==void 0?n:s.custom,Fk(t),Uk(t))}let ng=Qe;const Jr=t=>t*1e3,cs=t=>t/1e3,$k={current:!1},Ob=t=>Array.isArray(t)&&typeof t[0]=="number";function Fb(t){return!!(!t||typeof t=="string"&&Ub[t]||Ob(t)||Array.isArray(t)&&t.every(Fb))}const ho=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,Ub={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ho([0,.65,.55,1]),circOut:ho([.55,0,1,.45]),backIn:ho([.31,.01,.66,-.59]),backOut:ho([.33,1.53,.69,.99])};function $b(t){if(t)return Ob(t)?ho(t):Array.isArray(t)?t.map($b):Ub[t]}function Bk(t,e,n,{delay:s=0,duration:r,repeat:i=0,repeatType:o="loop",ease:l,times:u}={}){const d={[e]:n};u&&(d.offset=u);const f=$b(l);return Array.isArray(f)&&(d.easing=f),t.animate(d,{delay:s,duration:r,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function zk(t,{repeat:e,repeatType:n="loop"}){const s=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[s]}const Bb=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Hk=1e-7,Wk=12;function qk(t,e,n,s,r){let i,o,l=0;do o=e+(n-e)/2,i=Bb(o,s,r)-t,i>0?n=o:e=o;while(Math.abs(i)>Hk&&++l<Wk);return o}function Tl(t,e,n,s){if(t===e&&n===s)return Qe;const r=i=>qk(i,0,1,t,n);return i=>i===0||i===1?i:Bb(r(i),e,s)}const Gk=Tl(.42,0,1,1),Kk=Tl(0,0,.58,1),zb=Tl(.42,0,.58,1),Qk=t=>Array.isArray(t)&&typeof t[0]!="number",Hb=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Wb=t=>e=>1-t(1-e),sg=t=>1-Math.sin(Math.acos(t)),qb=Wb(sg),Yk=Hb(sg),Gb=Tl(.33,1.53,.69,.99),rg=Wb(Gb),Jk=Hb(rg),Xk=t=>(t*=2)<1?.5*rg(t):.5*(2-Math.pow(2,-10*(t-1))),Zk={linear:Qe,easeIn:Gk,easeInOut:zb,easeOut:Kk,circIn:sg,circInOut:Yk,circOut:qb,backIn:rg,backInOut:Jk,backOut:Gb,anticipate:Xk},S0=t=>{if(Array.isArray(t)){ng(t.length===4);const[e,n,s,r]=t;return Tl(e,n,s,r)}else if(typeof t=="string")return Zk[t];return t},ig=(t,e)=>n=>!!(Nl(n)&&tk.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),Kb=(t,e,n)=>s=>{if(!Nl(s))return s;const[r,i,o,l]=s.match(Td);return{[t]:parseFloat(r),[e]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},eA=t=>fr(0,255,t),Hh={...pi,transform:t=>Math.round(eA(t))},qr={test:ig("rgb","red"),parse:Kb("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Hh.transform(t)+", "+Hh.transform(e)+", "+Hh.transform(n)+", "+ko(jo.transform(s))+")"};function tA(t){let e="",n="",s="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,s+=s,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const lm={test:ig("#"),parse:tA,transform:qr.transform},Fi={test:ig("hsl","hue"),parse:Kb("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+$n.transform(ko(e))+", "+$n.transform(ko(n))+", "+ko(jo.transform(s))+")"},Rt={test:t=>qr.test(t)||lm.test(t)||Fi.test(t),parse:t=>qr.test(t)?qr.parse(t):Fi.test(t)?Fi.parse(t):lm.parse(t),transform:t=>Nl(t)?t:t.hasOwnProperty("red")?qr.transform(t):Fi.transform(t)},Oe=(t,e,n)=>-n*t+n*e+t;function Wh(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function nA({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let r=0,i=0,o=0;if(!e)r=i=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,u=2*n-l;r=Wh(u,l,t+1/3),i=Wh(u,l,t),o=Wh(u,l,t-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:s}}const qh=(t,e,n)=>{const s=t*t;return Math.sqrt(Math.max(0,n*(e*e-s)+s))},sA=[lm,qr,Fi],rA=t=>sA.find(e=>e.test(t));function T0(t){const e=rA(t);let n=e.parse(t);return e===Fi&&(n=nA(n)),n}const Qb=(t,e)=>{const n=T0(t),s=T0(e),r={...n};return i=>(r.red=qh(n.red,s.red,i),r.green=qh(n.green,s.green,i),r.blue=qh(n.blue,s.blue,i),r.alpha=Oe(n.alpha,s.alpha,i),qr.transform(r))};function iA(t){var e,n;return isNaN(t)&&Nl(t)&&(((e=t.match(Td))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(_b))===null||n===void 0?void 0:n.length)||0)>0}const Yb={regex:Zj,countKey:"Vars",token:"${v}",parse:Qe},Jb={regex:_b,countKey:"Colors",token:"${c}",parse:Rt.parse},Xb={regex:Td,countKey:"Numbers",token:"${n}",parse:pi.parse};function Gh(t,{regex:e,countKey:n,token:s,parse:r}){const i=t.tokenised.match(e);i&&(t["num"+n]=i.length,t.tokenised=t.tokenised.replace(e,s),t.values.push(...i.map(r)))}function ju(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Gh(n,Yb),Gh(n,Jb),Gh(n,Xb),n}function Zb(t){return ju(t).values}function e2(t){const{values:e,numColors:n,numVars:s,tokenised:r}=ju(t),i=e.length;return o=>{let l=r;for(let u=0;u<i;u++)u<s?l=l.replace(Yb.token,o[u]):u<s+n?l=l.replace(Jb.token,Rt.transform(o[u])):l=l.replace(Xb.token,ko(o[u]));return l}}const aA=t=>typeof t=="number"?0:t;function oA(t){const e=Zb(t);return e2(t)(e.map(aA))}const mr={test:iA,parse:Zb,createTransformer:e2,getAnimatableNone:oA},t2=(t,e)=>n=>`${n>0?e:t}`;function n2(t,e){return typeof t=="number"?n=>Oe(t,e,n):Rt.test(t)?Qb(t,e):t.startsWith("var(")?t2(t,e):r2(t,e)}const s2=(t,e)=>{const n=[...t],s=n.length,r=t.map((i,o)=>n2(i,e[o]));return i=>{for(let o=0;o<s;o++)n[o]=r[o](i);return n}},lA=(t,e)=>{const n={...t,...e},s={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(s[r]=n2(t[r],e[r]));return r=>{for(const i in s)n[i]=s[i](r);return n}},r2=(t,e)=>{const n=mr.createTransformer(e),s=ju(t),r=ju(e);return s.numVars===r.numVars&&s.numColors===r.numColors&&s.numNumbers>=r.numNumbers?nr(s2(s.values,r.values),n):t2(t,e)},il=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s},E0=(t,e)=>n=>Oe(t,e,n);function cA(t){return typeof t=="number"?E0:typeof t=="string"?Rt.test(t)?Qb:r2:Array.isArray(t)?s2:typeof t=="object"?lA:E0}function uA(t,e,n){const s=[],r=n||cA(t[0]),i=t.length-1;for(let o=0;o<i;o++){let l=r(t[o],t[o+1]);if(e){const u=Array.isArray(e)?e[o]||Qe:e;l=nr(u,l)}s.push(l)}return s}function i2(t,e,{clamp:n=!0,ease:s,mixer:r}={}){const i=t.length;if(ng(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=uA(e,s,r),l=o.length,u=d=>{let f=0;if(l>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const h=il(t[f],t[f+1],d);return o[f](h)};return n?d=>u(fr(t[0],t[i-1],d)):u}function dA(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const r=il(0,e,s);t.push(Oe(n,1,r))}}function hA(t){const e=[0];return dA(e,t.length-1),e}function fA(t,e){return t.map(n=>n*e)}function mA(t,e){return t.map(()=>e||zb).splice(0,t.length-1)}function ku({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const r=Qk(s)?s.map(S0):S0(s),i={done:!1,value:e[0]},o=fA(n&&n.length===e.length?n:hA(e),t),l=i2(o,e,{ease:Array.isArray(r)?r:mA(e,r)});return{calculatedDuration:t,next:u=>(i.value=l(u),i.done=u>=t,i)}}function a2(t,e){return e?t*(1e3/e):0}const pA=5;function o2(t,e,n){const s=Math.max(e-pA,0);return a2(n-t(s),e-s)}const Kh=.001,gA=.01,yA=10,xA=.05,vA=1;function wA({duration:t=800,bounce:e=.25,velocity:n=0,mass:s=1}){let r,i,o=1-e;o=fr(xA,vA,o),t=fr(gA,yA,cs(t)),o<1?(r=d=>{const f=d*o,h=f*t,p=f-n,y=cm(d,o),b=Math.exp(-h);return Kh-p/y*b},i=d=>{const h=d*o*t,p=h*n+n,y=Math.pow(o,2)*Math.pow(d,2)*t,b=Math.exp(-h),I=cm(Math.pow(d,2),o);return(-r(d)+Kh>0?-1:1)*((p-y)*b)/I}):(r=d=>{const f=Math.exp(-d*t),h=(d-n)*t+1;return-Kh+f*h},i=d=>{const f=Math.exp(-d*t),h=(n-d)*(t*t);return f*h});const l=5/t,u=bA(r,i,l);if(t=Jr(t),isNaN(u))return{stiffness:100,damping:10,duration:t};{const d=Math.pow(u,2)*s;return{stiffness:d,damping:o*2*Math.sqrt(s*d),duration:t}}}const _A=12;function bA(t,e,n){let s=n;for(let r=1;r<_A;r++)s=s-t(s)/e(s);return s}function cm(t,e){return t*Math.sqrt(1-e*e)}const NA=["duration","bounce"],SA=["stiffness","damping","mass"];function I0(t,e){return e.some(n=>t[n]!==void 0)}function TA(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!I0(t,SA)&&I0(t,NA)){const n=wA(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function l2({keyframes:t,restDelta:e,restSpeed:n,...s}){const r=t[0],i=t[t.length-1],o={done:!1,value:r},{stiffness:l,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:p}=TA({...s,velocity:-cs(s.velocity||0)}),y=h||0,b=u/(2*Math.sqrt(l*d)),I=i-r,A=cs(Math.sqrt(l/d)),E=Math.abs(I)<5;n||(n=E?.01:2),e||(e=E?.005:.5);let x;if(b<1){const _=cm(A,b);x=V=>{const L=Math.exp(-b*A*V);return i-L*((y+b*A*I)/_*Math.sin(_*V)+I*Math.cos(_*V))}}else if(b===1)x=_=>i-Math.exp(-A*_)*(I+(y+A*I)*_);else{const _=A*Math.sqrt(b*b-1);x=V=>{const L=Math.exp(-b*A*V),F=Math.min(_*V,300);return i-L*((y+b*A*I)*Math.sinh(F)+_*I*Math.cosh(F))/_}}return{calculatedDuration:p&&f||null,next:_=>{const V=x(_);if(p)o.done=_>=f;else{let L=y;_!==0&&(b<1?L=o2(x,_,V):L=0);const F=Math.abs(L)<=n,j=Math.abs(i-V)<=e;o.done=F&&j}return o.value=o.done?i:V,o}}}function j0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:u,restDelta:d=.5,restSpeed:f}){const h=t[0],p={done:!1,value:h},y=w=>l!==void 0&&w<l||u!==void 0&&w>u,b=w=>l===void 0?u:u===void 0||Math.abs(l-w)<Math.abs(u-w)?l:u;let I=n*e;const A=h+I,E=o===void 0?A:o(A);E!==A&&(I=E-h);const x=w=>-I*Math.exp(-w/s),_=w=>E+x(w),V=w=>{const N=x(w),S=_(w);p.done=Math.abs(N)<=d,p.value=p.done?E:S};let L,F;const j=w=>{y(p.value)&&(L=w,F=l2({keyframes:[p.value,b(p.value)],velocity:o2(_,w,p.value),damping:r,stiffness:i,restDelta:d,restSpeed:f}))};return j(0),{calculatedDuration:null,next:w=>{let N=!1;return!F&&L===void 0&&(N=!0,V(w),j(w)),L!==void 0&&w>L?F.next(w-L):(!N&&V(w),p)}}}const EA=t=>{const e=({timestamp:n})=>t(n);return{start:()=>je.update(e,!0),stop:()=>ys(e),now:()=>Tt.isProcessing?Tt.timestamp:performance.now()}},k0=2e4;function A0(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<k0;)e+=n,s=t.next(e);return e>=k0?1/0:e}const IA={decay:j0,inertia:j0,tween:ku,keyframes:ku,spring:l2};function Au({autoplay:t=!0,delay:e=0,driver:n=EA,keyframes:s,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",onPlay:u,onStop:d,onComplete:f,onUpdate:h,...p}){let y=1,b=!1,I,A;const E=()=>{A=new Promise(B=>{I=B})};E();let x;const _=IA[r]||ku;let V;_!==ku&&typeof s[0]!="number"&&(V=i2([0,100],s,{clamp:!1}),s=[0,100]);const L=_({...p,keyframes:s});let F;l==="mirror"&&(F=_({...p,keyframes:[...s].reverse(),velocity:-(p.velocity||0)}));let j="idle",w=null,N=null,S=null;L.calculatedDuration===null&&i&&(L.calculatedDuration=A0(L));const{calculatedDuration:P}=L;let D=1/0,C=1/0;P!==null&&(D=P+o,C=D*(i+1)-o);let W=0;const J=B=>{if(N===null)return;y>0&&(N=Math.min(N,B)),y<0&&(N=Math.min(B-C/y,N)),w!==null?W=w:W=Math.round(B-N)*y;const se=W-e*(y>=0?1:-1),lt=y>=0?se<0:se>C;W=Math.max(se,0),j==="finished"&&w===null&&(W=C);let Le=W,Gt=L;if(i){const Jn=Math.min(W,C)/D;let Cn=Math.floor(Jn),on=Jn%1;!on&&Jn>=1&&(on=1),on===1&&Cn--,Cn=Math.min(Cn,i+1),!!(Cn%2)&&(l==="reverse"?(on=1-on,o&&(on-=o/D)):l==="mirror"&&(Gt=F)),Le=fr(0,1,on)*D}const We=lt?{done:!1,value:s[0]}:Gt.next(Le);V&&(We.value=V(We.value));let{done:Ot}=We;!lt&&P!==null&&(Ot=y>=0?W>=C:W<=0);const Yn=w===null&&(j==="finished"||j==="running"&&Ot);return h&&h(We.value),Yn&&O(),We},ue=()=>{x&&x.stop(),x=void 0},fe=()=>{j="idle",ue(),I(),E(),N=S=null},O=()=>{j="finished",f&&f(),ue(),I()},q=()=>{if(b)return;x||(x=n(J));const B=x.now();u&&u(),w!==null?N=B-w:(!N||j==="finished")&&(N=B),j==="finished"&&E(),S=N,w=null,j="running",x.start()};t&&q();const oe={then(B,se){return A.then(B,se)},get time(){return cs(W)},set time(B){B=Jr(B),W=B,w!==null||!x||y===0?w=B:N=x.now()-B/y},get duration(){const B=L.calculatedDuration===null?A0(L):L.calculatedDuration;return cs(B)},get speed(){return y},set speed(B){B===y||!x||(y=B,oe.time=cs(W))},get state(){return j},play:q,pause:()=>{j="paused",w=W},stop:()=>{b=!0,j!=="idle"&&(j="idle",d&&d(),fe())},cancel:()=>{S!==null&&J(S),fe()},complete:()=>{j="finished"},sample:B=>(N=0,J(B))};return oe}function jA(t){let e;return()=>(e===void 0&&(e=t()),e)}const kA=jA(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),AA=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),bc=10,CA=2e4,PA=(t,e)=>e.type==="spring"||t==="backgroundColor"||!Fb(e.ease);function RA(t,e,{onUpdate:n,onComplete:s,...r}){if(!(kA()&&AA.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0&&r.type!=="inertia"))return!1;let o=!1,l,u,d=!1;const f=()=>{u=new Promise(_=>{l=_})};f();let{keyframes:h,duration:p=300,ease:y,times:b}=r;if(PA(e,r)){const _=Au({...r,repeat:0,delay:0});let V={done:!1,value:h[0]};const L=[];let F=0;for(;!V.done&&F<CA;)V=_.sample(F),L.push(V.value),F+=bc;b=void 0,h=L,p=F-bc,y="linear"}const I=Bk(t.owner.current,e,h,{...r,duration:p,ease:y,times:b}),A=()=>{d=!1,I.cancel()},E=()=>{d=!0,je.update(A),l(),f()};return I.onfinish=()=>{d||(t.set(zk(h,r)),s&&s(),E())},{then(_,V){return u.then(_,V)},attachTimeline(_){return I.timeline=_,I.onfinish=null,Qe},get time(){return cs(I.currentTime||0)},set time(_){I.currentTime=Jr(_)},get speed(){return I.playbackRate},set speed(_){I.playbackRate=_},get duration(){return cs(p)},play:()=>{o||(I.play(),ys(A))},pause:()=>I.pause(),stop:()=>{if(o=!0,I.playState==="idle")return;const{currentTime:_}=I;if(_){const V=Au({...r,autoplay:!1});t.setWithVelocity(V.sample(_-bc).value,V.sample(_).value,bc)}E()},complete:()=>{d||I.finish()},cancel:E}}function DA({keyframes:t,delay:e,onUpdate:n,onComplete:s}){const r=()=>(n&&n(t[t.length-1]),s&&s(),{time:0,speed:1,duration:0,play:Qe,pause:Qe,stop:Qe,then:i=>(i(),Promise.resolve()),cancel:Qe,complete:Qe});return e?Au({keyframes:[0,1],duration:0,delay:e,onComplete:r}):r()}const VA={type:"spring",stiffness:500,damping:25,restSpeed:10},LA=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),MA={type:"keyframes",duration:.8},OA={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},FA=(t,{keyframes:e})=>e.length>2?MA:mi.has(t)?t.startsWith("scale")?LA(e[1]):VA:OA,um=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(mr.test(e)||e==="0")&&!e.startsWith("url(")),UA=new Set(["brightness","contrast","saturate","opacity"]);function $A(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Td)||[];if(!s)return t;const r=n.replace(s,"");let i=UA.has(e)?1:0;return s!==n&&(i*=100),e+"("+i+r+")"}const BA=/([a-z-]*)\(.*?\)/g,dm={...mr,getAnimatableNone:t=>{const e=t.match(BA);return e?e.map($A).join(" "):t}},zA={...bb,color:Rt,backgroundColor:Rt,outlineColor:Rt,fill:Rt,stroke:Rt,borderColor:Rt,borderTopColor:Rt,borderRightColor:Rt,borderBottomColor:Rt,borderLeftColor:Rt,filter:dm,WebkitFilter:dm},ag=t=>zA[t];function c2(t,e){let n=ag(t);return n!==dm&&(n=mr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const u2=t=>/^0[^.\s]+$/.test(t);function HA(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||u2(t)}function WA(t,e,n,s){const r=um(e,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=s.from!==void 0?s.from:t.get();let l;const u=[];for(let d=0;d<i.length;d++)i[d]===null&&(i[d]=d===0?o:i[d-1]),HA(i[d])&&u.push(d),typeof i[d]=="string"&&i[d]!=="none"&&i[d]!=="0"&&(l=i[d]);if(r&&u.length&&l)for(let d=0;d<u.length;d++){const f=u[d];i[f]=c2(e,l)}return i}function qA({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:i,repeatType:o,repeatDelay:l,from:u,elapsed:d,...f}){return!!Object.keys(f).length}function og(t,e){return t[e]||t.default||t}const GA={skipAnimations:!1},lg=(t,e,n,s={})=>r=>{const i=og(s,t)||{},o=i.delay||s.delay||0;let{elapsed:l=0}=s;l=l-Jr(o);const u=WA(e,t,n,i),d=u[0],f=u[u.length-1],h=um(t,d),p=um(t,f);let y={keyframes:u,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-l,onUpdate:b=>{e.set(b),i.onUpdate&&i.onUpdate(b)},onComplete:()=>{r(),i.onComplete&&i.onComplete()}};if(qA(i)||(y={...y,...FA(t,y)}),y.duration&&(y.duration=Jr(y.duration)),y.repeatDelay&&(y.repeatDelay=Jr(y.repeatDelay)),!h||!p||$k.current||i.type===!1||GA.skipAnimations)return DA(y);if(!s.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const b=RA(e,t,y);if(b)return b}return Au(y)};function Cu(t){return!!(qt(t)&&t.add)}const d2=t=>/^\-?\d*\.?\d+$/.test(t);function cg(t,e){t.indexOf(e)===-1&&t.push(e)}function ug(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class dg{constructor(){this.subscriptions=[]}add(e){return cg(this.subscriptions,e),()=>ug(this.subscriptions,e)}notify(e,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,s);else for(let i=0;i<r;i++){const o=this.subscriptions[i];o&&o(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const KA=t=>!isNaN(parseFloat(t));class QA{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(s,r=!0)=>{this.prev=this.current,this.current=s;const{delta:i,timestamp:o}=Tt;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,je.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>je.postRender(this.velocityCheck),this.velocityCheck=({timestamp:s})=>{s!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=KA(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new dg);const s=this.events[e].add(n);return e==="change"?()=>{s(),je.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=e,this.timeDelta=s}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?a2(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function aa(t,e){return new QA(t,e)}const h2=t=>e=>e.test(t),YA={test:t=>t==="auto",parse:t=>t},f2=[pi,le,$n,Vs,sk,nk,YA],io=t=>f2.find(h2(t)),JA=[...f2,Rt,mr],XA=t=>JA.find(h2(t));function ZA(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,aa(n))}function eC(t,e){const n=Id(t,e);let{transitionEnd:s={},transition:r={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...s};for(const o in i){const l=yk(i[o]);ZA(t,o,l)}}function tC(t,e,n){var s,r;const i=Object.keys(e).filter(l=>!t.hasValue(l)),o=i.length;if(o)for(let l=0;l<o;l++){const u=i[l],d=e[u];let f=null;Array.isArray(d)&&(f=d[0]),f===null&&(f=(r=(s=n[u])!==null&&s!==void 0?s:t.readValue(u))!==null&&r!==void 0?r:e[u]),f!=null&&(typeof f=="string"&&(d2(f)||u2(f))?f=parseFloat(f):!XA(f)&&mr.test(d)&&(f=c2(u,d)),t.addValue(u,aa(f,{owner:t})),n[u]===void 0&&(n[u]=f),f!==null&&t.setBaseTarget(u,f))}}function nC(t,e){return e?(e[t]||e.default||e).from:void 0}function sC(t,e,n){const s={};for(const r in t){const i=nC(r,e);if(i!==void 0)s[r]=i;else{const o=n.getValue(r);o&&(s[r]=o.get())}}return s}function rC({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function iC(t,e){const n=t.get();if(Array.isArray(e)){for(let s=0;s<e.length;s++)if(e[s]!==n)return!0}else return n!==e}function m2(t,e,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...l}=t.makeTargetAnimatable(e);const u=t.getValue("willChange");s&&(i=s);const d=[],f=r&&t.animationState&&t.animationState.getState()[r];for(const h in l){const p=t.getValue(h),y=l[h];if(!p||y===void 0||f&&rC(f,h))continue;const b={delay:n,elapsed:0,...og(i||{},h)};if(window.HandoffAppearAnimations){const E=t.getProps()[pb];if(E){const x=window.HandoffAppearAnimations(E,h,p,je);x!==null&&(b.elapsed=x,b.isHandoff=!0)}}let I=!b.isHandoff&&!iC(p,y);if(b.type==="spring"&&(p.getVelocity()||b.velocity)&&(I=!1),p.animation&&(I=!1),I)continue;p.start(lg(h,p,y,t.shouldReduceMotion&&mi.has(h)?{type:!1}:b));const A=p.animation;Cu(u)&&(u.add(h),A.then(()=>u.remove(h))),d.push(A)}return o&&Promise.all(d).then(()=>{o&&eC(t,o)}),d}function hm(t,e,n={}){const s=Id(t,e,n.custom);let{transition:r=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const i=s?()=>Promise.all(m2(t,s,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=r;return aC(t,e,d+u,f,h,n)}:()=>Promise.resolve(),{when:l}=r;if(l){const[u,d]=l==="beforeChildren"?[i,o]:[o,i];return u().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function aC(t,e,n=0,s=0,r=1,i){const o=[],l=(t.variantChildren.size-1)*s,u=r===1?(d=0)=>d*s:(d=0)=>l-d*s;return Array.from(t.variantChildren).sort(oC).forEach((d,f)=>{d.notify("AnimationStart",e),o.push(hm(d,e,{...i,delay:n+u(f)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(o)}function oC(t,e){return t.sortNodePosition(e)}function lC(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const r=e.map(i=>hm(t,i,n));s=Promise.all(r)}else if(typeof e=="string")s=hm(t,e,n);else{const r=typeof e=="function"?Id(t,e,n.custom):e;s=Promise.all(m2(t,r,n))}return s.then(()=>t.notify("AnimationComplete",e))}const cC=[...qp].reverse(),uC=qp.length;function dC(t){return e=>Promise.all(e.map(({animation:n,options:s})=>lC(t,n,s)))}function hC(t){let e=dC(t);const n=mC();let s=!0;const r=(u,d)=>{const f=Id(t,d);if(f){const{transition:h,transitionEnd:p,...y}=f;u={...u,...y,...p}}return u};function i(u){e=u(t)}function o(u,d){const f=t.getProps(),h=t.getVariantContext(!0)||{},p=[],y=new Set;let b={},I=1/0;for(let E=0;E<uC;E++){const x=cC[E],_=n[x],V=f[x]!==void 0?f[x]:h[x],L=sl(V),F=x===d?_.isActive:null;F===!1&&(I=E);let j=V===h[x]&&V!==f[x]&&L;if(j&&s&&t.manuallyAnimateOnMount&&(j=!1),_.protectedKeys={...b},!_.isActive&&F===null||!V&&!_.prevProp||Nd(V)||typeof V=="boolean")continue;let N=fC(_.prevProp,V)||x===d&&_.isActive&&!j&&L||E>I&&L,S=!1;const P=Array.isArray(V)?V:[V];let D=P.reduce(r,{});F===!1&&(D={});const{prevResolvedValues:C={}}=_,W={...C,...D},J=ue=>{N=!0,y.has(ue)&&(S=!0,y.delete(ue)),_.needsAnimating[ue]=!0};for(const ue in W){const fe=D[ue],O=C[ue];if(b.hasOwnProperty(ue))continue;let q=!1;Iu(fe)&&Iu(O)?q=!Mb(fe,O):q=fe!==O,q?fe!==void 0?J(ue):y.add(ue):fe!==void 0&&y.has(ue)?J(ue):_.protectedKeys[ue]=!0}_.prevProp=V,_.prevResolvedValues=D,_.isActive&&(b={...b,...D}),s&&t.blockInitialAnimation&&(N=!1),N&&(!j||S)&&p.push(...P.map(ue=>({animation:ue,options:{type:x,...u}})))}if(y.size){const E={};y.forEach(x=>{const _=t.getBaseTarget(x);_!==void 0&&(E[x]=_)}),p.push({animation:E})}let A=!!p.length;return s&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(A=!1),s=!1,A?e(p):Promise.resolve()}function l(u,d,f){var h;if(n[u].isActive===d)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(y=>{var b;return(b=y.animationState)===null||b===void 0?void 0:b.setActive(u,d)}),n[u].isActive=d;const p=o(f,u);for(const y in n)n[y].protectedKeys={};return p}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n}}function fC(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Mb(e,t):!1}function Lr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function mC(){return{animate:Lr(!0),whileInView:Lr(),whileHover:Lr(),whileTap:Lr(),whileDrag:Lr(),whileFocus:Lr(),exit:Lr()}}class pC extends Tr{constructor(e){super(e),e.animationState||(e.animationState=hC(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Nd(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let gC=0;class yC extends Tr{constructor(){super(...arguments),this.id=gC++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e,{custom:s??this.node.getProps().custom});n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const xC={animation:{Feature:pC},exit:{Feature:yC}},C0=(t,e)=>Math.abs(t-e);function vC(t,e){const n=C0(t.x,e.x),s=C0(t.y,e.y);return Math.sqrt(n**2+s**2)}class p2{constructor(e,n,{transformPagePoint:s,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Yh(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,y=vC(h.offset,{x:0,y:0})>=3;if(!p&&!y)return;const{point:b}=h,{timestamp:I}=Tt;this.history.push({...b,timestamp:I});const{onStart:A,onMove:E}=this.handlers;p||(A&&A(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Qh(p,this.transformPagePoint),je.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:y,onSessionEnd:b,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Yh(h.type==="pointercancel"?this.lastMoveEventInfo:Qh(p,this.transformPagePoint),this.history);this.startEvent&&y&&y(h,A),b&&b(h,A)},!Pb(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=s,this.contextWindow=r||window;const o=Ed(e),l=Qh(o,this.transformPagePoint),{point:u}=l,{timestamp:d}=Tt;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=n;f&&f(e,Yh(l,this.history)),this.removeListeners=nr(ls(this.contextWindow,"pointermove",this.handlePointerMove),ls(this.contextWindow,"pointerup",this.handlePointerUp),ls(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ys(this.updatePoint)}}function Qh(t,e){return e?{point:e(t.point)}:t}function P0(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Yh({point:t},e){return{point:t,delta:P0(t,g2(e)),offset:P0(t,wC(e)),velocity:_C(e,.1)}}function wC(t){return t[0]}function g2(t){return t[t.length-1]}function _C(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const r=g2(t);for(;n>=0&&(s=t[n],!(r.timestamp-s.timestamp>Jr(e)));)n--;if(!s)return{x:0,y:0};const i=cs(r.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const o={x:(r.x-s.x)/i,y:(r.y-s.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function sn(t){return t.max-t.min}function fm(t,e=0,n=.01){return Math.abs(t-e)<=n}function R0(t,e,n,s=.5){t.origin=s,t.originPoint=Oe(e.min,e.max,t.origin),t.scale=sn(n)/sn(e),(fm(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Oe(n.min,n.max,t.origin)-t.originPoint,(fm(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Ao(t,e,n,s){R0(t.x,e.x,n.x,s?s.originX:void 0),R0(t.y,e.y,n.y,s?s.originY:void 0)}function D0(t,e,n){t.min=n.min+e.min,t.max=t.min+sn(e)}function bC(t,e,n){D0(t.x,e.x,n.x),D0(t.y,e.y,n.y)}function V0(t,e,n){t.min=e.min-n.min,t.max=t.min+sn(e)}function Co(t,e,n){V0(t.x,e.x,n.x),V0(t.y,e.y,n.y)}function NC(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Oe(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Oe(n,t,s.max):Math.min(t,n)),t}function L0(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function SC(t,{top:e,left:n,bottom:s,right:r}){return{x:L0(t.x,n,r),y:L0(t.y,e,s)}}function M0(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function TC(t,e){return{x:M0(t.x,e.x),y:M0(t.y,e.y)}}function EC(t,e){let n=.5;const s=sn(t),r=sn(e);return r>s?n=il(e.min,e.max-s,t.min):s>r&&(n=il(t.min,t.max-r,e.min)),fr(0,1,n)}function IC(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const mm=.35;function jC(t=mm){return t===!1?t=0:t===!0&&(t=mm),{x:O0(t,"left","right"),y:O0(t,"top","bottom")}}function O0(t,e,n){return{min:F0(t,e),max:F0(t,n)}}function F0(t,e){return typeof t=="number"?t:t[e]||0}const U0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ui=()=>({x:U0(),y:U0()}),$0=()=>({min:0,max:0}),Je=()=>({x:$0(),y:$0()});function cn(t){return[t("x"),t("y")]}function y2({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function kC({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function AC(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Jh(t){return t===void 0||t===1}function pm({scale:t,scaleX:e,scaleY:n}){return!Jh(t)||!Jh(e)||!Jh(n)}function Fr(t){return pm(t)||x2(t)||t.z||t.rotate||t.rotateX||t.rotateY}function x2(t){return B0(t.x)||B0(t.y)}function B0(t){return t&&t!=="0%"}function Pu(t,e,n){const s=t-n,r=e*s;return n+r}function z0(t,e,n,s,r){return r!==void 0&&(t=Pu(t,r,s)),Pu(t,n,s)+e}function gm(t,e=0,n=1,s,r){t.min=z0(t.min,e,n,s,r),t.max=z0(t.max,e,n,s,r)}function v2(t,{x:e,y:n}){gm(t.x,e.translate,e.scale,e.originPoint),gm(t.y,n.translate,n.scale,n.originPoint)}function CC(t,e,n,s=!1){const r=n.length;if(!r)return;e.x=e.y=1;let i,o;for(let l=0;l<r;l++){i=n[l],o=i.projectionDelta;const u=i.instance;u&&u.style&&u.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&$i(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,v2(t,o)),s&&Fr(i.latestValues)&&$i(t,i.latestValues))}e.x=H0(e.x),e.y=H0(e.y)}function H0(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Os(t,e){t.min=t.min+e,t.max=t.max+e}function W0(t,e,[n,s,r]){const i=e[r]!==void 0?e[r]:.5,o=Oe(t.min,t.max,i);gm(t,e[n],e[s],o,e.scale)}const PC=["x","scaleX","originX"],RC=["y","scaleY","originY"];function $i(t,e){W0(t.x,e,PC),W0(t.y,e,RC)}function w2(t,e){return y2(AC(t.getBoundingClientRect(),e))}function DC(t,e,n){const s=w2(t,n),{scroll:r}=e;return r&&(Os(s.x,r.offset.x),Os(s.y,r.offset.y)),s}const _2=({current:t})=>t?t.ownerDocument.defaultView:null,VC=new WeakMap;class LC{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Je(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ed(f,"page").point)},i=(f,h)=>{const{drag:p,dragPropagation:y,onDragStart:b}=this.getProps();if(p&&!y&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Db(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),cn(A=>{let E=this.getAxisMotionValue(A).get()||0;if($n.test(E)){const{projection:x}=this.visualElement;if(x&&x.layout){const _=x.layout.layoutBox[A];_&&(E=sn(_)*(parseFloat(E)/100))}}this.originPoint[A]=E}),b&&je.update(()=>b(f,h),!1,!0);const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},o=(f,h)=>{const{dragPropagation:p,dragDirectionLock:y,onDirectionLock:b,onDrag:I}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:A}=h;if(y&&this.currentDirection===null){this.currentDirection=MC(A),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",h.point,A),this.updateAxis("y",h.point,A),this.visualElement.render(),I&&I(f,h)},l=(f,h)=>this.stop(f,h),u=()=>cn(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new p2(e,{onSessionStart:r,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:_2(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&je.update(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:r}=this.getProps();if(!s||!Nc(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(o=NC(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&Oi(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=SC(r.layoutBox,n):this.constraints=!1,this.elastic=jC(s),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&cn(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=IC(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Oi(e))return!1;const s=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=DC(s,r.root,this.visualElement.getTransformPagePoint());let o=TC(r.layout.layoutBox,i);if(n){const l=n(kC(o));this.hasMutatedConstraints=!!l,l&&(o=y2(l))}return o}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},d=cn(f=>{if(!Nc(f,n,this.currentDirection))return;let h=u&&u[f]||{};o&&(h={min:0,max:0});const p=r?200:1e6,y=r?40:1e7,b={type:"inertia",velocity:s?e[f]:0,bounceStiffness:p,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(f,b)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return s.start(lg(e,s,0,n))}stopAnimation(){cn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){cn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){cn(n=>{const{drag:s}=this.getProps();if(!Nc(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:l}=r.layout.layoutBox[n];i.set(e[n]-Oe(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Oi(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};cn(o=>{const l=this.getAxisMotionValue(o);if(l){const u=l.get();r[o]=EC({min:u,max:u},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),cn(o=>{if(!Nc(o,e,null))return;const l=this.getAxisMotionValue(o),{min:u,max:d}=this.constraints[o];l.set(Oe(u,d,r[o]))})}addListeners(){if(!this.visualElement.current)return;VC.set(this.visualElement,this);const e=this.visualElement.current,n=ls(e,"pointerdown",u=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(u)}),s=()=>{const{dragConstraints:u}=this.getProps();Oi(u)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),s();const o=rs(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(cn(f=>{const h=this.getAxisMotionValue(f);h&&(this.originPoint[f]+=u[f].translate,h.set(h.get()+u[f].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=mm,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Nc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function MC(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class OC extends Tr{constructor(e){super(e),this.removeGroupControls=Qe,this.removeListeners=Qe,this.controls=new LC(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Qe}unmount(){this.removeGroupControls(),this.removeListeners()}}const q0=t=>(e,n)=>{t&&je.update(()=>t(e,n))};class FC extends Tr{constructor(){super(...arguments),this.removePointerDownListener=Qe}onPointerDown(e){this.session=new p2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:q0(e),onStart:q0(n),onMove:s,onEnd:(i,o)=>{delete this.session,r&&je.update(()=>r(i,o))}}}mount(){this.removePointerDownListener=ls(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function UC(){const t=R.useContext(_d);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:s}=t,r=R.useId();return R.useEffect(()=>s(r),[]),!e&&n?[!1,()=>n&&n(r)]:[!0]}const zc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function G0(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ao={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(le.test(t))t=parseFloat(t);else return t;const n=G0(t,e.target.x),s=G0(t,e.target.y);return`${n}% ${s}%`}},$C={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,r=mr.parse(t);if(r.length>5)return s;const i=mr.createTransformer(t),o=typeof r[0]!="number"?1:0,l=n.x.scale*e.x,u=n.y.scale*e.y;r[0+o]/=l,r[1+o]/=u;const d=Oe(l,u,.5);return typeof r[2+o]=="number"&&(r[2+o]/=d),typeof r[3+o]=="number"&&(r[3+o]/=d),i(r)}};class BC extends rd.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:i}=e;Qj(zC),i&&(n.group&&n.group.add(i),s&&s.register&&r&&s.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),zc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:r,isPresent:i}=this.props,o=s.projection;return o&&(o.isPresent=i,r||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||je.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function b2(t){const[e,n]=UC(),s=R.useContext(Kp);return rd.createElement(BC,{...t,layoutGroup:s,switchLayoutGroup:R.useContext(yb),isPresent:e,safeToRemove:n})}const zC={borderRadius:{...ao,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ao,borderTopRightRadius:ao,borderBottomLeftRadius:ao,borderBottomRightRadius:ao,boxShadow:$C},N2=["TopLeft","TopRight","BottomLeft","BottomRight"],HC=N2.length,K0=t=>typeof t=="string"?parseFloat(t):t,Q0=t=>typeof t=="number"||le.test(t);function WC(t,e,n,s,r,i){r?(t.opacity=Oe(0,n.opacity!==void 0?n.opacity:1,qC(s)),t.opacityExit=Oe(e.opacity!==void 0?e.opacity:1,0,GC(s))):i&&(t.opacity=Oe(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let o=0;o<HC;o++){const l=`border${N2[o]}Radius`;let u=Y0(e,l),d=Y0(n,l);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||Q0(u)===Q0(d)?(t[l]=Math.max(Oe(K0(u),K0(d),s),0),($n.test(d)||$n.test(u))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=Oe(e.rotate||0,n.rotate||0,s))}function Y0(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const qC=S2(0,.5,qb),GC=S2(.5,.95,Qe);function S2(t,e,n){return s=>s<t?0:s>e?1:n(il(t,e,s))}function J0(t,e){t.min=e.min,t.max=e.max}function ln(t,e){J0(t.x,e.x),J0(t.y,e.y)}function X0(t,e,n,s,r){return t-=e,t=Pu(t,1/n,s),r!==void 0&&(t=Pu(t,1/r,s)),t}function KC(t,e=0,n=1,s=.5,r,i=t,o=t){if($n.test(e)&&(e=parseFloat(e),e=Oe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Oe(i.min,i.max,s);t===i&&(l-=e),t.min=X0(t.min,e,n,l,r),t.max=X0(t.max,e,n,l,r)}function Z0(t,e,[n,s,r],i,o){KC(t,e[n],e[s],e[r],e.scale,i,o)}const QC=["x","scaleX","originX"],YC=["y","scaleY","originY"];function ev(t,e,n,s){Z0(t.x,e,QC,n?n.x:void 0,s?s.x:void 0),Z0(t.y,e,YC,n?n.y:void 0,s?s.y:void 0)}function tv(t){return t.translate===0&&t.scale===1}function T2(t){return tv(t.x)&&tv(t.y)}function JC(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function E2(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function nv(t){return sn(t.x)/sn(t.y)}class XC{constructor(){this.members=[]}add(e){cg(this.members,e),e.scheduleRender()}remove(e){if(ug(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const i=this.members[r];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function sv(t,e,n){let s="";const r=t.x.translate/e.x,i=t.y.translate/e.y;if((r||i)&&(s=`translate3d(${r}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:u,rotateX:d,rotateY:f}=n;u&&(s+=`rotate(${u}deg) `),d&&(s+=`rotateX(${d}deg) `),f&&(s+=`rotateY(${f}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(s+=`scale(${o}, ${l})`),s||"none"}const ZC=(t,e)=>t.depth-e.depth;class eP{constructor(){this.children=[],this.isDirty=!1}add(e){cg(this.children,e),this.isDirty=!0}remove(e){ug(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ZC),this.isDirty=!1,this.children.forEach(e)}}function tP(t,e){const n=performance.now(),s=({timestamp:r})=>{const i=r-n;i>=e&&(ys(s),t(i-e))};return je.read(s,!0),()=>ys(s)}function nP(t){window.MotionDebug&&window.MotionDebug.record(t)}function sP(t){return t instanceof SVGElement&&t.tagName!=="svg"}function rP(t,e,n){const s=qt(t)?t:aa(t);return s.start(lg("",s,e,n)),s.animation}const rv=["","X","Y","Z"],iP={visibility:"hidden"},iv=1e3;let aP=0;const Ur={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function I2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(o={},l=e==null?void 0:e()){this.id=aP++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ur.totalNodes=Ur.resolvedTargetDeltas=Ur.recalculatedProjection=0,this.nodes.forEach(cP),this.nodes.forEach(mP),this.nodes.forEach(pP),this.nodes.forEach(uP),nP(Ur)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new eP)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new dg),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const u=this.eventHandlers.get(o);u&&u.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=sP(o),this.instance=o;const{layoutId:u,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||u)&&(this.isLayoutDirty=!0),t){let h;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=tP(p,250),zc.hasAnimatedSinceResize&&(zc.hasAnimatedSinceResize=!1,this.nodes.forEach(ov))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:y,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||f.getDefaultTransition()||wP,{onLayoutAnimationStart:A,onLayoutAnimationComplete:E}=f.getProps(),x=!this.targetLayout||!E2(this.targetLayout,b)||y,_=!p&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||p&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,_);const V={...og(I,"layout"),onPlay:A,onComplete:E};(f.shouldReduceMotion||this.options.layoutRoot)&&(V.delay=0,V.type=!1),this.startAnimation(V)}else p||ov(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ys(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(gP),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const h=this.path[f];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(av);return}this.isUpdating||this.nodes.forEach(hP),this.isUpdating=!1,this.nodes.forEach(fP),this.nodes.forEach(oP),this.nodes.forEach(lP),this.clearAllSnapshots();const l=performance.now();Tt.delta=fr(0,1e3/60,l-Tt.timestamp),Tt.timestamp=l,Tt.isProcessing=!0,$h.update.process(Tt),$h.preRender.process(Tt),$h.render.process(Tt),Tt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(dP),this.sharedNodes.forEach(yP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,je.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){je.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Je(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:s(this.instance),offset:n(this.instance)})}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!T2(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;o&&(l||Fr(this.latestValues)||f)&&(r(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return o&&(u=this.removeTransform(u)),_P(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Je();const l=o.measureViewportBox(),{scroll:u}=this.root;return u&&(Os(l.x,u.offset.x),Os(l.y,u.offset.y)),l}removeElementScroll(o){const l=Je();ln(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;if(d!==this.root&&f&&h.layoutScroll){if(f.isRoot){ln(l,o);const{scroll:p}=this.root;p&&(Os(l.x,-p.offset.x),Os(l.y,-p.offset.y))}Os(l.x,f.offset.x),Os(l.y,f.offset.y)}}return l}applyTransform(o,l=!1){const u=Je();ln(u,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&$i(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Fr(f.latestValues)&&$i(u,f.latestValues)}return Fr(this.latestValues)&&$i(u,this.latestValues),u}removeTransform(o){const l=Je();ln(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!Fr(d.latestValues))continue;pm(d.latestValues)&&d.updateSnapshot();const f=Je(),h=d.measurePageBox();ln(f,h),ev(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return Fr(this.latestValues)&&ev(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Tt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=Tt.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Je(),this.relativeTargetOrigin=Je(),Co(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),ln(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Je(),this.targetWithTransforms=Je()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),bC(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ln(this.target,this.layout.layoutBox),v2(this.target,this.targetDelta)):ln(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Je(),this.relativeTargetOrigin=Je(),Co(this.relativeTargetOrigin,this.target,y.target),ln(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ur.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||pm(this.parent.latestValues)||x2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Tt.timestamp&&(d=!1),d)return;const{layout:f,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||h))return;ln(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,y=this.treeScale.y;CC(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:b}=l;if(!b){this.projectionTransform&&(this.projectionDelta=Ui(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ui(),this.projectionDeltaWithTransform=Ui());const I=this.projectionTransform;Ao(this.projectionDelta,this.layoutCorrected,b,this.latestValues),this.projectionTransform=sv(this.projectionDelta,this.treeScale),(this.projectionTransform!==I||this.treeScale.x!==p||this.treeScale.y!==y)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b)),Ur.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const u=this.snapshot,d=u?u.latestValues:{},f={...this.latestValues},h=Ui();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=Je(),y=u?u.source:void 0,b=this.layout?this.layout.source:void 0,I=y!==b,A=this.getStack(),E=!A||A.members.length<=1,x=!!(I&&!E&&this.options.crossfade===!0&&!this.path.some(vP));this.animationProgress=0;let _;this.mixTargetDelta=V=>{const L=V/1e3;lv(h.x,o.x,L),lv(h.y,o.y,L),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Co(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),xP(this.relativeTarget,this.relativeTargetOrigin,p,L),_&&JC(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Je()),ln(_,this.relativeTarget)),I&&(this.animationValues=f,WC(f,d,this.latestValues,L,x,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ys(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=je.update(()=>{zc.hasAnimatedSinceResize=!0,this.currentAnimation=rP(0,iv,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(iv),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:u,layout:d,latestValues:f}=o;if(!(!l||!u||!d)){if(this!==o&&this.layout&&d&&j2(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||Je();const h=sn(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+h;const p=sn(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+p}ln(l,u),$i(l,f),Ao(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new XC),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:u}=o;if((u.rotate||u.rotateX||u.rotateY||u.rotateZ)&&(l=!0),!l)return;const d={};for(let f=0;f<rv.length;f++){const h="rotate"+rv[f];u[h]&&(d[h]=u[h],o.setStaticValue(h,0))}o.render();for(const f in d)o.setStaticValue(f,d[f]);o.scheduleRender()}getProjectionStyles(o){var l,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return iP;const d={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Bc(o==null?void 0:o.pointerEvents)||"",d.transform=f?f(this.latestValues,""):"none",d;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const I={};return this.options.layoutId&&(I.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,I.pointerEvents=Bc(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Fr(this.latestValues)&&(I.transform=f?f({},""):"none",this.hasProjected=!1),I}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),d.transform=sv(this.projectionDeltaWithTransform,this.treeScale,p),f&&(d.transform=f(p,d.transform));const{x:y,y:b}=this.projectionDelta;d.transformOrigin=`${y.origin*100}% ${b.origin*100}% 0`,h.animationValues?d.opacity=h===this?(u=(l=p.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:d.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const I in Tu){if(p[I]===void 0)continue;const{correct:A,applyTo:E}=Tu[I],x=d.transform==="none"?p[I]:A(p[I],h);if(E){const _=E.length;for(let V=0;V<_;V++)d[E[V]]=x}else d[I]=x}return this.options.layoutId&&(d.pointerEvents=h===this?Bc(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(av),this.root.sharedNodes.clear()}}}function oP(t){t.updateLayout()}function lP(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?cn(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],y=sn(p);p.min=s[h].min,p.max=p.min+y}):j2(i,n.layoutBox,s)&&cn(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],y=sn(s[h]);p.max=p.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+y)});const l=Ui();Ao(l,s,n.layoutBox);const u=Ui();o?Ao(u,t.applyTransform(r,!0),n.measuredBox):Ao(u,s,n.layoutBox);const d=!T2(l);let f=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:y}=h;if(p&&y){const b=Je();Co(b,n.layoutBox,p.layoutBox);const I=Je();Co(I,s,y.layoutBox),E2(b,I)||(f=!0),h.options.layoutRoot&&(t.relativeTarget=I,t.relativeTargetOrigin=b,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:f})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function cP(t){Ur.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function uP(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function dP(t){t.clearSnapshot()}function av(t){t.clearMeasurements()}function hP(t){t.isLayoutDirty=!1}function fP(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ov(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function mP(t){t.resolveTargetDelta()}function pP(t){t.calcProjection()}function gP(t){t.resetRotation()}function yP(t){t.removeLeadSnapshot()}function lv(t,e,n){t.translate=Oe(e.translate,0,n),t.scale=Oe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function cv(t,e,n,s){t.min=Oe(e.min,n.min,s),t.max=Oe(e.max,n.max,s)}function xP(t,e,n,s){cv(t.x,e.x,n.x,s),cv(t.y,e.y,n.y,s)}function vP(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const wP={duration:.45,ease:[.4,0,.1,1]},uv=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),dv=uv("applewebkit/")&&!uv("chrome/")?Math.round:Qe;function hv(t){t.min=dv(t.min),t.max=dv(t.max)}function _P(t){hv(t.x),hv(t.y)}function j2(t,e,n){return t==="position"||t==="preserve-aspect"&&!fm(nv(e),nv(n),.2)}const bP=I2({attachResizeListener:(t,e)=>rs(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Xh={current:void 0},k2=I2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Xh.current){const t=new bP({});t.mount(window),t.setOptions({layoutScroll:!0}),Xh.current=t}return Xh.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),NP={pan:{Feature:FC},drag:{Feature:OC,ProjectionNode:k2,MeasureLayout:b2}},SP=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function TP(t){const e=SP.exec(t);if(!e)return[,];const[,n,s]=e;return[n,s]}function ym(t,e,n=1){const[s,r]=TP(t);if(!s)return;const i=window.getComputedStyle(e).getPropertyValue(s);if(i){const o=i.trim();return d2(o)?parseFloat(o):o}else return am(r)?ym(r,e,n+1):r}function EP(t,{...e},n){const s=t.current;if(!(s instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(r=>{const i=r.get();if(!am(i))return;const o=ym(i,s);o&&r.set(o)});for(const r in e){const i=e[r];if(!am(i))continue;const o=ym(i,s);o&&(e[r]=o,n||(n={}),n[r]===void 0&&(n[r]=i))}return{target:e,transitionEnd:n}}const IP=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),A2=t=>IP.has(t),jP=t=>Object.keys(t).some(A2),fv=t=>t===pi||t===le,mv=(t,e)=>parseFloat(t.split(", ")[e]),pv=(t,e)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const r=s.match(/^matrix3d\((.+)\)$/);if(r)return mv(r[1],e);{const i=s.match(/^matrix\((.+)\)$/);return i?mv(i[1],t):0}},kP=new Set(["x","y","z"]),AP=bl.filter(t=>!kP.has(t));function CP(t){const e=[];return AP.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const oa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:pv(4,13),y:pv(5,14)};oa.translateX=oa.x;oa.translateY=oa.y;const PP=(t,e,n)=>{const s=e.measureViewportBox(),r=e.current,i=getComputedStyle(r),{display:o}=i,l={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(d=>{l[d]=oa[d](s,i)}),e.render();const u=e.measureViewportBox();return n.forEach(d=>{const f=e.getValue(d);f&&f.jump(l[d]),t[d]=oa[d](u,i)}),t},RP=(t,e,n={},s={})=>{e={...e},s={...s};const r=Object.keys(e).filter(A2);let i=[],o=!1;const l=[];if(r.forEach(u=>{const d=t.getValue(u);if(!t.hasValue(u))return;let f=n[u],h=io(f);const p=e[u];let y;if(Iu(p)){const b=p.length,I=p[0]===null?1:0;f=p[I],h=io(f);for(let A=I;A<b&&p[A]!==null;A++)y?ng(io(p[A])===y):y=io(p[A])}else y=io(p);if(h!==y)if(fv(h)&&fv(y)){const b=d.get();typeof b=="string"&&d.set(parseFloat(b)),typeof p=="string"?e[u]=parseFloat(p):Array.isArray(p)&&y===le&&(e[u]=p.map(parseFloat))}else h!=null&&h.transform&&(y!=null&&y.transform)&&(f===0||p===0)?f===0?d.set(y.transform(f)):e[u]=h.transform(p):(o||(i=CP(t),o=!0),l.push(u),s[u]=s[u]!==void 0?s[u]:e[u],d.jump(p))}),l.length){const u=l.indexOf("height")>=0?window.pageYOffset:null,d=PP(e,t,l);return i.length&&i.forEach(([f,h])=>{t.getValue(f).set(h)}),t.render(),bd&&u!==null&&window.scrollTo({top:u}),{target:d,transitionEnd:s}}else return{target:e,transitionEnd:s}};function DP(t,e,n,s){return jP(e)?RP(t,e,n,s):{target:e,transitionEnd:s}}const VP=(t,e,n,s)=>{const r=EP(t,e,s);return e=r.target,s=r.transitionEnd,DP(t,e,n,s)},xm={current:null},C2={current:!1};function LP(){if(C2.current=!0,!!bd)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>xm.current=t.matches;t.addListener(e),e()}else xm.current=!1}function MP(t,e,n){const{willChange:s}=e;for(const r in e){const i=e[r],o=n[r];if(qt(i))t.addValue(r,i),Cu(s)&&s.add(r);else if(qt(o))t.addValue(r,aa(i,{owner:t})),Cu(s)&&s.remove(r);else if(o!==i)if(t.hasValue(r)){const l=t.getValue(r);!l.hasAnimated&&l.set(i)}else{const l=t.getStaticValue(r);t.addValue(r,aa(l!==void 0?l:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const gv=new WeakMap,P2=Object.keys(rl),OP=P2.length,yv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],FP=Gp.length;class UP{constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:r,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>je.render(this.render,!1,!0);const{latestValues:l,renderState:u}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.isControllingVariants=Sd(n),this.isVariantNode=gb(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{});for(const h in f){const p=f[h];l[h]!==void 0&&qt(p)&&(p.set(l[h],!1),Cu(d)&&d.add(h))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,gv.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),C2.current||LP(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){gv.delete(this.current),this.projection&&this.projection.unmount(),ys(this.notifyUpdate),ys(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const s=mi.has(e),r=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&je.update(this.notifyUpdate,!1,!0),s&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},s,r,i){let o,l;for(let u=0;u<OP;u++){const d=P2[u],{isEnabled:f,Feature:h,ProjectionNode:p,MeasureLayout:y}=rl[d];p&&(o=p),f(n)&&(!this.features[d]&&h&&(this.features[d]=new h(this)),y&&(l=y))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:u,layout:d,drag:f,dragConstraints:h,layoutScroll:p,layoutRoot:y}=n;this.projection.setOptions({layoutId:u,layout:d,alwaysMeasureLayout:!!f||h&&Oi(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:y})}return l}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Je()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<yv.length;s++){const r=yv[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i=e["on"+r];i&&(this.propEventSubscriptions[r]=this.on(r,i))}this.prevMotionValues=MP(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const s=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const n={};for(let s=0;s<FP;s++){const r=Gp[s],i=this.props[r];(sl(i)||i===!1)&&(n[r]=i)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=aa(n,{owner:this}),this.addValue(e,s)),s}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:s}=this.props,r=typeof s=="string"||typeof s=="object"?(n=tg(this.props,s))===null||n===void 0?void 0:n[e]:void 0;if(s&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!qt(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new dg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class R2 extends UP{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...s},{transformValues:r},i){let o=sC(s,e||{},this);if(r&&(n&&(n=r(n)),s&&(s=r(s)),o&&(o=r(o))),i){tC(this,s,o);const l=VP(this,s,o,n);n=l.transitionEnd,s=l.target}return{transition:e,transitionEnd:n,...s}}}function $P(t){return window.getComputedStyle(t)}class BP extends R2{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(mi.has(n)){const s=ag(n);return s&&s.default||0}else{const s=$P(e),r=(wb(n)?s.getPropertyValue(n):s[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return w2(e,n)}build(e,n,s,r){Yp(e,n,s,r.transformTemplate)}scrapeMotionValuesFromProps(e,n){return eg(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;qt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,s,r){Eb(e,n,s,r)}}class zP extends R2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(mi.has(n)){const s=ag(n);return s&&s.default||0}return n=Ib.has(n)?n:Wp(n),e.getAttribute(n)}measureInstanceViewportBox(){return Je()}scrapeMotionValuesFromProps(e,n){return kb(e,n)}build(e,n,s,r){Xp(e,n,s,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,s,r){jb(e,n,s,r)}mount(e){this.isSVGTag=Zp(e.tagName),super.mount(e)}}const HP=(t,e)=>Qp(t)?new zP(e,{enableHardwareAcceleration:!1}):new BP(e,{enableHardwareAcceleration:!0}),WP={layout:{ProjectionNode:k2,MeasureLayout:b2}},qP={...xC,...Ok,...NP,...WP},$=Gj((t,e)=>Tk(t,e,qP,HP));function D2(){const t=R.useRef(!1);return Hp(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function GP(){const t=D2(),[e,n]=R.useState(0),s=R.useCallback(()=>{t.current&&n(e+1)},[e]);return[R.useCallback(()=>je.postRender(s),[s]),e]}class KP extends R.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function QP({children:t,isPresent:e}){const n=R.useId(),s=R.useRef(null),r=R.useRef({width:0,height:0,top:0,left:0});return R.useInsertionEffect(()=>{const{width:i,height:o,top:l,left:u}=r.current;if(e||!s.current||!i||!o)return;s.current.dataset.motionPopId=n;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),R.createElement(KP,{isPresent:e,childRef:s,sizeRef:r},R.cloneElement(t,{ref:s}))}const Zh=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:i,mode:o})=>{const l=Ab(YP),u=R.useId(),d=R.useMemo(()=>({id:u,initial:e,isPresent:n,custom:r,onExitComplete:f=>{l.set(f,!0);for(const h of l.values())if(!h)return;s&&s()},register:f=>(l.set(f,!1),()=>l.delete(f))}),i?void 0:[n]);return R.useMemo(()=>{l.forEach((f,h)=>l.set(h,!1))},[n]),R.useEffect(()=>{!n&&!l.size&&s&&s()},[n]),o==="popLayout"&&(t=R.createElement(QP,{isPresent:n},t)),R.createElement(_d.Provider,{value:d},t)};function YP(){return new Map}function JP(t){return R.useEffect(()=>()=>t(),[])}const $r=t=>t.key||"";function XP(t,e){t.forEach(n=>{const s=$r(n);e.set(s,n)})}function ZP(t){const e=[];return R.Children.forEach(t,n=>{R.isValidElement(n)&&e.push(n)}),e}const ft=({children:t,custom:e,initial:n=!0,onExitComplete:s,exitBeforeEnter:r,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const l=R.useContext(Kp).forceRender||GP()[0],u=D2(),d=ZP(t);let f=d;const h=R.useRef(new Map).current,p=R.useRef(f),y=R.useRef(new Map).current,b=R.useRef(!0);if(Hp(()=>{b.current=!1,XP(d,y),p.current=f}),JP(()=>{b.current=!0,y.clear(),h.clear()}),b.current)return R.createElement(R.Fragment,null,f.map(x=>R.createElement(Zh,{key:$r(x),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:o},x)));f=[...f];const I=p.current.map($r),A=d.map($r),E=I.length;for(let x=0;x<E;x++){const _=I[x];A.indexOf(_)===-1&&!h.has(_)&&h.set(_,void 0)}return o==="wait"&&h.size&&(f=[]),h.forEach((x,_)=>{if(A.indexOf(_)!==-1)return;const V=y.get(_);if(!V)return;const L=I.indexOf(_);let F=x;if(!F){const j=()=>{h.delete(_);const w=Array.from(y.keys()).filter(N=>!A.includes(N));if(w.forEach(N=>y.delete(N)),p.current=d.filter(N=>{const S=$r(N);return S===_||w.includes(S)}),!h.size){if(u.current===!1)return;l(),s&&s()}};F=R.createElement(Zh,{key:$r(V),isPresent:!1,onExitComplete:j,custom:e,presenceAffectsLayout:i,mode:o},V),h.set(_,F)}f.splice(L,0,F)}),f=f.map(x=>{const _=x.key;return h.has(_)?x:R.createElement(Zh,{key:$r(x),isPresent:!0,presenceAffectsLayout:i,mode:o},x)}),R.createElement(R.Fragment,null,h.size?f:f.map(x=>R.cloneElement(x)))};class El{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const eR=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},yt={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:eR()},hg=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},tR=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=hg(t);yt.publicKey=n.publicKey,yt.blockHeadless=n.blockHeadless,yt.storageProvider=n.storageProvider,yt.blockList=n.blockList,yt.limitRate=n.limitRate,yt.origin=n.origin||e},V2=async(t,e,n={})=>{const s=await fetch(yt.origin+t,{method:"POST",headers:n,body:e}),r=await s.text(),i=new El(s.status,r);if(s.ok)return i;throw i},L2=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},nR=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},M2=t=>t.webdriver||!t.languages||t.languages.length===0,O2=()=>new El(451,"Unavailable For Headless Browser"),sR=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},rR=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},iR=(t,e)=>t instanceof FormData?t.get(e):t[e],F2=(t,e)=>{if(rR(t))return!1;sR(t.list,t.watchVariable);const n=iR(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},U2=()=>new El(403,"Forbidden"),aR=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},oR=async(t,e,n)=>{const s=Number(await n.get(t)||0);return e-Date.now()+s},$2=async(t,e,n)=>{if(!e.throttle||!n)return!1;aR(e.throttle,e.id);const s=e.id||t;return await oR(s,e.throttle,n)>0?!0:(await n.set(s,Date.now().toString()),!1)},B2=()=>new El(429,"Too Many Requests"),lR=async(t,e,n,s)=>{const r=hg(s),i=r.publicKey||yt.publicKey,o=r.blockHeadless||yt.blockHeadless,l=r.storageProvider||yt.storageProvider,u={...yt.blockList,...r.blockList},d={...yt.limitRate,...r.limitRate};return o&&M2(navigator)?Promise.reject(O2()):(L2(i,t,e),nR(n),n&&F2(u,n)?Promise.reject(U2()):await $2(location.pathname,d,l)?Promise.reject(B2()):V2("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:i,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},cR=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},uR=t=>typeof t=="string"?document.querySelector(t):t,dR=async(t,e,n,s)=>{const r=hg(s),i=r.publicKey||yt.publicKey,o=r.blockHeadless||yt.blockHeadless,l=yt.storageProvider||r.storageProvider,u={...yt.blockList,...r.blockList},d={...yt.limitRate,...r.limitRate};if(o&&M2(navigator))return Promise.reject(O2());const f=uR(n);L2(i,t,e),cR(f);const h=new FormData(f);return F2(u,h)?Promise.reject(U2()):await $2(location.pathname,d,l)?Promise.reject(B2()):(h.append("lib_version","4.4.1"),h.append("service_id",t),h.append("template_id",e),h.append("user_id",i),V2("/api/v1.0/email/send-form",h))},Ru={init:tR,send:lR,sendForm:dR,EmailJSResponseStatus:El};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Z=(t,e)=>{const n=R.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:u,...d},f)=>R.createElement("svg",{ref:f,...hR,width:r,height:r,stroke:s,strokeWidth:o?Number(i)*24/Number(r):i,className:["lucide",`lucide-${fR(t)}`,l].join(" "),...d},[...e.map(([h,p])=>R.createElement(h,p)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=Z("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=Z("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=Z("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=Z("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=Z("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=Z("BadgeDollarSign",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=Z("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=Z("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=Z("Bitcoin",[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=Z("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=Z("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=Z("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=Z("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=Z("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=Z("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=Z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=Z("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=Z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=Z("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=Z("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=Z("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=Z("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=Z("DownloadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m8 17 4 4 4-4",key:"1ul180"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=Z("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=Z("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=Z("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=Z("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=Z("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=Z("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=Z("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=Z("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=Z("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=Z("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=Z("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=Z("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=Z("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=Z("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=Z("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=Z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=Z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=Z("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=Z("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=Z("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=Z("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=Z("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=Z("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=Z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=Z("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=Z("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=Z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=Z("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=Z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=Z("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=Z("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=Z("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=Z("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=Z("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=Z("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=Z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=Z("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=Z("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=Z("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=Z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=Z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=Z("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=Z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=Z("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),CR=()=>{};var _v={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},PR=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],o=t[n++],l=t[n++],u=((r&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(u>>10)),e[s++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return e.join("")},iN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],o=r+1<t.length,l=o?t[r+1]:0,u=r+2<t.length,d=u?t[r+2]:0,f=i>>2,h=(i&3)<<4|l>>4;let p=(l&15)<<2|d>>6,y=d&63;u||(y=64,o||(p=64)),s.push(n[f],n[h],n[p],n[y])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):PR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const d=r<t.length?n[t.charAt(r)]:64;++r;const h=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||l==null||d==null||h==null)throw new RR;const p=i<<2|l>>4;if(s.push(p),d!==64){const y=l<<4&240|d>>2;if(s.push(y),h!==64){const b=d<<6&192|h;s.push(b)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class RR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DR=function(t){const e=rN(t);return iN.encodeByteArray(e,!0)},Mu=function(t){return DR(t).replace(/\./g,"")},aN=function(t){try{return iN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=()=>VR().__FIREBASE_DEFAULTS__,MR=()=>{if(typeof process>"u"||typeof _v>"u")return;const t=_v.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},OR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&aN(t[1]);return e&&JSON.parse(e)},jd=()=>{try{return CR()||LR()||MR()||OR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},oN=t=>{var e,n;return(n=(e=jd())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},FR=t=>{const e=oN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},lN=()=>{var t;return(t=jd())==null?void 0:t.config},cN=t=>{var e;return(e=jd())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function uN(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Mu(JSON.stringify(n)),Mu(JSON.stringify(o)),""].join(".")}const Do={};function BR(){const t={prod:[],emulator:[]};for(const e of Object.keys(Do))Do[e]?t.emulator.push(e):t.prod.push(e);return t}function zR(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let bv=!1;function dN(t,e){if(typeof window>"u"||typeof document>"u"||!Sa(window.location.host)||Do[t]===e||Do[t]||bv)return;Do[t]=e;function n(p){return`__firebase__banner__${p}`}const s="__firebase__banner",i=BR().prod.length>0;function o(){const p=document.getElementById(s);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function u(p,y){p.setAttribute("width","24"),p.setAttribute("id",y),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function d(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{bv=!0,o()},p}function f(p,y){p.setAttribute("id",y),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){const p=zR(s),y=n("text"),b=document.getElementById(y)||document.createElement("span"),I=n("learnmore"),A=document.getElementById(I)||document.createElement("a"),E=n("preprendIcon"),x=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const _=p.element;l(_),f(A,I);const V=d();u(x,E),_.append(x,b,A,V),document.body.appendChild(_)}i?(b.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}function WR(){var e;const t=(e=jd())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function KR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QR(){const t=Ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function YR(){return!WR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JR(){try{return typeof indexedDB=="object"}catch{return!1}}function XR(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;e(((i=r.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR="FirebaseError";class Ns extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=ZR,Object.setPrototypeOf(this,Ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Al.prototype.create)}}class Al{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?e4(i,s):"Error",l=`${this.serviceName}: ${o} (${r}).`;return new Ns(r,l,s)}}function e4(t,e){return t.replace(t4,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const t4=/\{\$([^}]+)}/g;function n4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ai(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],o=e[r];if(Nv(i)&&Nv(o)){if(!ai(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function Nv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function fo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[r,i]=s.split("=");e[decodeURIComponent(r)]=decodeURIComponent(i)}}),e}function mo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function s4(t,e){const n=new r4(t,e);return n.subscribe.bind(n)}class r4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let r;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");i4(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:s},r.next===void 0&&(r.next=ef),r.error===void 0&&(r.error=ef),r.complete===void 0&&(r.complete=ef);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function i4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ef(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(t){return t&&t._delegate?t._delegate:t}class oi{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new UR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(l4(e))try{this.getOrInitializeService({instanceIdentifier:Br})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=Br){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Br){return this.instances.has(e)}getOptions(e=Br){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);s===l&&o.resolve(r)}return r}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(s)??new Set;r.add(e),this.onInitCallbacks.set(s,r);const i=this.instances.get(s);return i&&e(i,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:o4(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Br){return this.component?this.component.multipleInstances?e:Br:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function o4(t){return t===Br?void 0:t}function l4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new a4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ge||(ge={}));const u4={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},d4=ge.INFO,h4={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},f4=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=h4[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pg{constructor(e){this.name=e,this._logLevel=d4,this._logHandler=f4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?u4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}const m4=(t,e)=>e.some(n=>t instanceof n);let Sv,Tv;function p4(){return Sv||(Sv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function g4(){return Tv||(Tv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hN=new WeakMap,Sm=new WeakMap,fN=new WeakMap,tf=new WeakMap,gg=new WeakMap;function y4(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ar(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&hN.set(n,t)}).catch(()=>{}),gg.set(e,t),e}function x4(t){if(Sm.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Sm.set(t,e)}let Tm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Sm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ar(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function v4(t){Tm=t(Tm)}function w4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(nf(this),e,...n);return fN.set(s,e.sort?e.sort():[e]),ar(s)}:g4().includes(t)?function(...e){return t.apply(nf(this),e),ar(hN.get(this))}:function(...e){return ar(t.apply(nf(this),e))}}function _4(t){return typeof t=="function"?w4(t):(t instanceof IDBTransaction&&x4(t),m4(t,p4())?new Proxy(t,Tm):t)}function ar(t){if(t instanceof IDBRequest)return y4(t);if(tf.has(t))return tf.get(t);const e=_4(t);return e!==t&&(tf.set(t,e),gg.set(e,t)),e}const nf=t=>gg.get(t);function b4(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),l=ar(o);return s&&o.addEventListener("upgradeneeded",u=>{s(ar(o.result),u.oldVersion,u.newVersion,ar(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{i&&u.addEventListener("close",()=>i()),r&&u.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const N4=["get","getKey","getAll","getAllKeys","count"],S4=["put","add","delete","clear"],sf=new Map;function Ev(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(sf.get(e))return sf.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=S4.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||N4.includes(n)))return;const i=async function(o,...l){const u=this.transaction(o,r?"readwrite":"readonly");let d=u.store;return s&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),r&&u.done]))[0]};return sf.set(e,i),i}v4(t=>({...t,get:(e,n,s)=>Ev(e,n)||t.get(e,n,s),has:(e,n)=>!!Ev(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(E4(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function E4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Em="@firebase/app",Iv="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new pg("@firebase/app"),I4="@firebase/app-compat",j4="@firebase/analytics-compat",k4="@firebase/analytics",A4="@firebase/app-check-compat",C4="@firebase/app-check",P4="@firebase/auth",R4="@firebase/auth-compat",D4="@firebase/database",V4="@firebase/data-connect",L4="@firebase/database-compat",M4="@firebase/functions",O4="@firebase/functions-compat",F4="@firebase/installations",U4="@firebase/installations-compat",$4="@firebase/messaging",B4="@firebase/messaging-compat",z4="@firebase/performance",H4="@firebase/performance-compat",W4="@firebase/remote-config",q4="@firebase/remote-config-compat",G4="@firebase/storage",K4="@firebase/storage-compat",Q4="@firebase/firestore",Y4="@firebase/ai",J4="@firebase/firestore-compat",X4="firebase",Z4="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="[DEFAULT]",e5={[Em]:"fire-core",[I4]:"fire-core-compat",[k4]:"fire-analytics",[j4]:"fire-analytics-compat",[C4]:"fire-app-check",[A4]:"fire-app-check-compat",[P4]:"fire-auth",[R4]:"fire-auth-compat",[D4]:"fire-rtdb",[V4]:"fire-data-connect",[L4]:"fire-rtdb-compat",[M4]:"fire-fn",[O4]:"fire-fn-compat",[F4]:"fire-iid",[U4]:"fire-iid-compat",[$4]:"fire-fcm",[B4]:"fire-fcm-compat",[z4]:"fire-perf",[H4]:"fire-perf-compat",[W4]:"fire-rc",[q4]:"fire-rc-compat",[G4]:"fire-gcs",[K4]:"fire-gcs-compat",[Q4]:"fire-fst",[J4]:"fire-fst-compat",[Y4]:"fire-vertex","fire-js":"fire-js",[X4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou=new Map,t5=new Map,jm=new Map;function jv(t,e){try{t.container.addComponent(e)}catch(n){xs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ha(t){const e=t.name;if(jm.has(e))return xs.debug(`There were multiple attempts to register component ${e}.`),!1;jm.set(e,t);for(const n of Ou.values())jv(n,t);for(const n of t5.values())jv(n,t);return!0}function yg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Jt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},or=new Al("app","Firebase",n5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new oi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw or.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=Z4;function mN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Im,automaticDataCollectionEnabled:!0,...e},r=s.name;if(typeof r!="string"||!r)throw or.create("bad-app-name",{appName:String(r)});if(n||(n=lN()),!n)throw or.create("no-options");const i=Ou.get(r);if(i){if(ai(n,i.options)&&ai(s,i.config))return i;throw or.create("duplicate-app",{appName:r})}const o=new c4(r);for(const u of jm.values())o.addComponent(u);const l=new s5(n,s,o);return Ou.set(r,l),l}function pN(t=Im){const e=Ou.get(t);if(!e&&t===Im&&lN())return mN();if(!e)throw or.create("no-app",{appName:t});return e}function lr(t,e,n){let s=e5[t]??t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),i=e.match(/\s|\//);if(r||i){const o=[`Unable to register library "${s}" with version "${e}":`];r&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xs.warn(o.join(" "));return}ha(new oi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5="firebase-heartbeat-database",i5=1,ol="firebase-heartbeat-store";let rf=null;function gN(){return rf||(rf=b4(r5,i5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ol)}catch(n){console.warn(n)}}}}).catch(t=>{throw or.create("idb-open",{originalErrorMessage:t.message})})),rf}async function a5(t){try{const n=(await gN()).transaction(ol),s=await n.objectStore(ol).get(yN(t));return await n.done,s}catch(e){if(e instanceof Ns)xs.warn(e.message);else{const n=or.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xs.warn(n.message)}}}async function kv(t,e){try{const s=(await gN()).transaction(ol,"readwrite");await s.objectStore(ol).put(e,yN(t)),await s.done}catch(n){if(n instanceof Ns)xs.warn(n.message);else{const s=or.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xs.warn(s.message)}}}function yN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5=1024,l5=30;class c5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new d5(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Av();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats.length>l5){const o=h5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){xs.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Av(),{heartbeatsToSend:s,unsentEntries:r}=u5(this._heartbeatsCache.heartbeats),i=Mu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return xs.warn(n),""}}}function Av(){return new Date().toISOString().substring(0,10)}function u5(t,e=o5){const n=[];let s=t.slice();for(const r of t){const i=n.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),Cv(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Cv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class d5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JR()?XR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await a5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return kv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return kv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Cv(t){return Mu(JSON.stringify({version:2,heartbeats:t})).length}function h5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f5(t){ha(new oi("platform-logger",e=>new T4(e),"PRIVATE")),ha(new oi("heartbeat",e=>new c5(e),"PRIVATE")),lr(Em,Iv,t),lr(Em,Iv,"esm2020"),lr("fire-js","")}f5("");var m5="firebase",p5="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lr(m5,p5,"app");function xN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const g5=xN,vN=new Al("auth","Firebase",xN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu=new pg("@firebase/auth");function y5(t,...e){Fu.logLevel<=ge.WARN&&Fu.warn(`Auth (${Ta}): ${t}`,...e)}function Wc(t,...e){Fu.logLevel<=ge.ERROR&&Fu.error(`Auth (${Ta}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(t,...e){throw vg(t,...e)}function In(t,...e){return vg(t,...e)}function xg(t,e,n){const s={...g5(),[e]:n};return new Al("auth","Firebase",s).create(e,{appName:t.name})}function ds(t){return xg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function x5(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&vn(t,"argument-error"),xg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vg(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return vN.create(t,...e)}function ae(t,e,...n){if(!t)throw vg(e,...n)}function is(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Wc(e),new Error(e)}function vs(t,e){t||is(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function v5(){return Pv()==="http:"||Pv()==="https:"}function Pv(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(v5()||GR()||"connection"in navigator)?navigator.onLine:!0}function _5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,n){this.shortDelay=e,this.longDelay=n,vs(n>e,"Short delay should be less than long delay!"),this.isMobile=HR()||KR()}get(){return w5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(t,e){vs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],S5=new Pl(3e4,6e4);function Ss(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Qn(t,e,n,s,r={}){return _N(t,r,async()=>{let i={},o={};s&&(e==="GET"?o=s:i={body:JSON.stringify(s)});const l=Cl({key:t.config.apiKey,...o}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:u,...i};return qR()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Sa(t.emulatorConfig.host)&&(d.credentials="include"),wN.fetch()(await bN(t,t.config.apiHost,n,l),d)})}async function _N(t,e,n){t._canInitEmulator=!1;const s={...b5,...e};try{const r=new E5(t),i=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Sc(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[u,d]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sc(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Sc(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Sc(t,"user-disabled",o);const f=s[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw xg(t,f,d);vn(t,f)}}catch(r){if(r instanceof Ns)throw r;vn(t,"network-request-failed",{message:String(r)})}}async function Rl(t,e,n,s,r={}){const i=await Qn(t,e,n,s,r);return"mfaPendingCredential"in i&&vn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function bN(t,e,n,s){const r=`${e}${n}?${s}`,i=t,o=i.config.emulator?wg(t.config,r):`${t.config.apiScheme}://${r}`;return N5.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function T5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class E5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(In(this.auth,"network-request-failed")),S5.get())})}}function Sc(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=In(t,e,s);return r.customData._tokenResponse=n,r}function Rv(t){return t!==void 0&&t.enterprise!==void 0}class I5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return T5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function j5(t,e){return Qn(t,"GET","/v2/recaptchaConfig",Ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k5(t,e){return Qn(t,"POST","/v1/accounts:delete",e)}async function Uu(t,e){return Qn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function A5(t,e=!1){const n=nt(t),s=await n.getIdToken(e),r=_g(s);ae(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const i=typeof r.firebase=="object"?r.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:r,token:s,authTime:Vo(af(r.auth_time)),issuedAtTime:Vo(af(r.iat)),expirationTime:Vo(af(r.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function af(t){return Number(t)*1e3}function _g(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Wc("JWT malformed, contained fewer than 3 sections"),null;try{const r=aN(n);return r?JSON.parse(r):(Wc("Failed to decode base64 JWT payload"),null)}catch(r){return Wc("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function Dv(t){const e=_g(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fa(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ns&&C5(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function C5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vo(this.lastLoginAt),this.creationTime=Vo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $u(t){var h;const e=t.auth,n=await t.getIdToken(),s=await fa(t,Uu(e,{idToken:n}));ae(s==null?void 0:s.users.length,e,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const i=(h=r.providerUserInfo)!=null&&h.length?NN(r.providerUserInfo):[],o=D5(t.providerData,i),l=t.isAnonymous,u=!(t.email&&r.passwordHash)&&!(o!=null&&o.length),d=l?u:!1,f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Am(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function R5(t){const e=nt(t);await $u(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function D5(t,e){return[...t.filter(s=>!e.some(r=>r.providerId===s.providerId)),...e]}function NN(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V5(t,e){const n=await _N(t,{},async()=>{const s=Cl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:i}=t.config,o=await bN(t,r,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:s};return t.emulatorConfig&&Sa(t.emulatorConfig.host)&&(u.credentials="include"),wN.fetch()(o,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function L5(t,e){return Qn(t,"POST","/v2/accounts:revokeToken",Ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Dv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ae(e.length!==0,"internal-error");const n=Dv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:r,expiresIn:i}=await V5(e,n);this.updateTokensAndExpiration(s,r,Number(i))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:r,expirationTime:i}=n,o=new Qi;return s&&(ae(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),r&&(ae(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),i&&(ae(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qi,this.toJSON())}_performRefresh(){return is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Sn{constructor({uid:e,auth:n,stsTokenManager:s,...r}){this.providerId="firebase",this.proactiveRefresh=new P5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Am(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await fa(this,this.stsTokenManager.getToken(this.auth,e));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return A5(this,e)}reload(){return R5(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Sn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await $u(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jt(this.auth.app))return Promise.reject(ds(this.auth));const e=await this.getIdToken();return await fa(this,k5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,r=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,d=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:h,emailVerified:p,isAnonymous:y,providerData:b,stsTokenManager:I}=n;ae(h&&I,e,"internal-error");const A=Qi.fromJSON(this.name,I);ae(typeof h=="string",e,"internal-error"),Ds(s,e.name),Ds(r,e.name),ae(typeof p=="boolean",e,"internal-error"),ae(typeof y=="boolean",e,"internal-error"),Ds(i,e.name),Ds(o,e.name),Ds(l,e.name),Ds(u,e.name),Ds(d,e.name),Ds(f,e.name);const E=new Sn({uid:h,auth:e,email:r,emailVerified:p,displayName:s,isAnonymous:y,photoURL:o,phoneNumber:i,tenantId:l,stsTokenManager:A,createdAt:d,lastLoginAt:f});return b&&Array.isArray(b)&&(E.providerData=b.map(x=>({...x}))),u&&(E._redirectEventId=u),E}static async _fromIdTokenResponse(e,n,s=!1){const r=new Qi;r.updateFromServerResponse(n);const i=new Sn({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await $u(i),i}static async _fromGetAccountInfoResponse(e,n,s){const r=n.users[0];ae(r.localId!==void 0,"internal-error");const i=r.providerUserInfo!==void 0?NN(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(i!=null&&i.length),l=new Qi;l.updateFromIdToken(s);const u=new Sn({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Am(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv=new Map;function as(t){vs(t instanceof Function,"Expected a class definition");let e=Vv.get(t);return e?(vs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Vv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}SN.type="NONE";const Lv=SN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(t,e,n){return`firebase:${t}:${e}:${n}`}class Yi{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:r,name:i}=this.auth;this.fullUserKey=qc(this.userKey,r.apiKey,i),this.fullPersistenceKey=qc("persistence",r.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Uu(this.auth,{idToken:e}).catch(()=>{});return n?Sn._fromGetAccountInfoResponse(this.auth,n,e):null}return Sn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Yi(as(Lv),e,s);const r=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=r[0]||as(Lv);const o=qc(s,e.config.apiKey,e.name);let l=null;for(const d of n)try{const f=await d._get(o);if(f){let h;if(typeof f=="string"){const p=await Uu(e,{idToken:f}).catch(()=>{});if(!p)break;h=await Sn._fromGetAccountInfoResponse(e,p,f)}else h=Sn._fromJSON(e,f);d!==i&&(l=h),i=d;break}}catch{}const u=r.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new Yi(i,e,s):(i=u[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new Yi(i,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AN(e))return"Blackberry";if(CN(e))return"Webos";if(EN(e))return"Safari";if((e.includes("chrome/")||IN(e))&&!e.includes("edge/"))return"Chrome";if(kN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function TN(t=Ct()){return/firefox\//i.test(t)}function EN(t=Ct()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IN(t=Ct()){return/crios\//i.test(t)}function jN(t=Ct()){return/iemobile/i.test(t)}function kN(t=Ct()){return/android/i.test(t)}function AN(t=Ct()){return/blackberry/i.test(t)}function CN(t=Ct()){return/webos/i.test(t)}function bg(t=Ct()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function M5(t=Ct()){var e;return bg(t)&&!!((e=window.navigator)!=null&&e.standalone)}function O5(){return QR()&&document.documentMode===10}function PN(t=Ct()){return bg(t)||kN(t)||CN(t)||AN(t)||/windows phone/i.test(t)||jN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(t,e=[]){let n;switch(t){case"Browser":n=Mv(Ct());break;case"Worker":n=`${Mv(Ct())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ta}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=i=>new Promise((o,l)=>{try{const u=e(i);o(u)}catch(u){l(u)}});s.onAbort=n,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U5(t,e={}){return Qn(t,"GET","/v2/passwordPolicy",Ss(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5=6;class B5{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??$5,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let r=0;r<e.length;r++)s=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e,n,s,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ov(this),this.idTokenSubscription=new Ov(this),this.beforeStateQueue=new F5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=as(n)),this._initializationPromise=this.queue(async()=>{var s,r,i;if(!this._deleted&&(this.persistenceManager=await Yi.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Uu(this,{idToken:e}),s=await Sn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Jt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,l=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(s=u.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await $u(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jt(this.app))return Promise.reject(ds(this));const n=e?nt(e):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jt(this.app)?Promise.reject(ds(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jt(this.app)?Promise.reject(ds(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(as(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await U5(this),n=new B5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Al("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await L5(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&as(e)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=await Yi.create(this,[as(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,r){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,s,r);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(Jt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&y5(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ts(t){return nt(t)}class Ov{constructor(e){this.auth=e,this.observer=null,this.addObserver=s4(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function H5(t){kd=t}function DN(t){return kd.loadJS(t)}function W5(){return kd.recaptchaEnterpriseScript}function q5(){return kd.gapiScript}function G5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class K5{constructor(){this.enterprise=new Q5}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Q5{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Y5="recaptcha-enterprise",VN="NO_RECAPTCHA";class J5{constructor(e){this.type=Y5,this.auth=Ts(e)}async verify(e="verify",n=!1){async function s(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,l)=>{j5(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new I5(u);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(u=>{l(u)})})}function r(i,o,l){const u=window.grecaptcha;Rv(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(VN)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new K5().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{s(this.auth).then(l=>{if(!n&&Rv(window.grecaptcha))r(l,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=W5();u.length!==0&&(u+=l),DN(u).then(()=>{r(l,i,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function Fv(t,e,n,s=!1,r=!1){const i=new J5(t);let o;if(r)o=VN;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return s?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Bu(t,e,n,s,r){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Fv(t,e,n,n==="getOobCode");return s(t,o)}else return s(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Fv(t,e,n,n==="getOobCode");return s(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X5(t,e){const n=yg(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(ai(i,e??{}))return r;vn(r,"already-initialized")}return n.initialize({options:e})}function Z5(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(as);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function eD(t,e,n){const s=Ts(t);ae(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const r=!1,i=LN(e),{host:o,port:l}=tD(e),u=l===null?"":`:${l}`,d={url:`${i}//${o}${u}/`},f=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!s._canInitEmulator){ae(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ae(ai(d,s.config.emulator)&&ai(f,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=d,s.emulatorConfig=f,s.settings.appVerificationDisabledForTesting=!0,Sa(o)?(uN(`${i}//${o}${u}`),dN("Auth",!0)):nD()}function LN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function tD(t){const e=LN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const i=r[1];return{host:i,port:Uv(s.substr(i.length+1))}}else{const[i,o]=s.split(":");return{host:i,port:Uv(o)}}}function Uv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function nD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return is("not implemented")}_getIdTokenResponse(e){return is("not implemented")}_linkToIdToken(e,n){return is("not implemented")}_getReauthenticationResolver(e){return is("not implemented")}}async function sD(t,e){return Qn(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rD(t,e){return Rl(t,"POST","/v1/accounts:signInWithPassword",Ss(t,e))}async function MN(t,e){return Qn(t,"POST","/v1/accounts:sendOobCode",Ss(t,e))}async function iD(t,e){return MN(t,e)}async function aD(t,e){return MN(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oD(t,e){return Rl(t,"POST","/v1/accounts:signInWithEmailLink",Ss(t,e))}async function lD(t,e){return Rl(t,"POST","/v1/accounts:signInWithEmailLink",Ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll extends Ng{constructor(e,n,s,r=null){super("password",s),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new ll(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new ll(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bu(e,n,"signInWithPassword",rD);case"emailLink":return oD(e,{email:this._email,oobCode:this._password});default:vn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bu(e,s,"signUpPassword",sD);case"emailLink":return lD(e,{idToken:n,email:this._email,oobCode:this._password});default:vn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ji(t,e){return Rl(t,"POST","/v1/accounts:signInWithIdp",Ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD="http://localhost";class li extends Ng{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new li(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:r,...i}=n;if(!s||!r)return null;const o=new li(s,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ji(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ji(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ji(e,n)}buildRequest(){const e={requestUri:cD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Cl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function dD(t){const e=fo(mo(t)).link,n=e?fo(mo(e)).deep_link_id:null,s=fo(mo(t)).deep_link_id;return(s?fo(mo(s)).link:null)||s||n||e||t}class Sg{constructor(e){const n=fo(mo(e)),s=n.apiKey??null,r=n.oobCode??null,i=uD(n.mode??null);ae(s&&r&&i,"argument-error"),this.apiKey=s,this.operation=i,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=dD(e);try{return new Sg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(){this.providerId=Ea.PROVIDER_ID}static credential(e,n){return ll._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Sg.parseLink(n);return ae(s,"argument-error"),ll._fromEmailAndCode(e,s.code,s.tenantId)}}Ea.PROVIDER_ID="password";Ea.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ea.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl extends Tg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends Dl{constructor(){super("facebook.com")}static credential(e){return li._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $s.credential(e.oauthAccessToken)}catch{return null}}}$s.FACEBOOK_SIGN_IN_METHOD="facebook.com";$s.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Dl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return li._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ts.credential(n,s)}catch{return null}}}ts.GOOGLE_SIGN_IN_METHOD="google.com";ts.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Dl{constructor(){super("github.com")}static credential(e){return li._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bs.credential(e.oauthAccessToken)}catch{return null}}}Bs.GITHUB_SIGN_IN_METHOD="github.com";Bs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends Dl{constructor(){super("twitter.com")}static credential(e,n){return li._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return zs.credential(n,s)}catch{return null}}}zs.TWITTER_SIGN_IN_METHOD="twitter.com";zs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hD(t,e){return Rl(t,"POST","/v1/accounts:signUp",Ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,r=!1){const i=await Sn._fromIdTokenResponse(e,s,r),o=$v(s);return new ci({user:i,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const r=$v(s);return new ci({user:e,providerId:r,_tokenResponse:s,operationType:n})}}function $v(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends Ns{constructor(e,n,s,r){super(n.code,n.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,zu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,r){return new zu(e,n,s,r)}}function ON(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?zu._fromErrorAndOperation(t,i,e,s):i})}async function fD(t,e,n=!1){const s=await fa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ci._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mD(t,e,n=!1){const{auth:s}=t;if(Jt(s.app))return Promise.reject(ds(s));const r="reauthenticate";try{const i=await fa(t,ON(s,r,e,t),n);ae(i.idToken,s,"internal-error");const o=_g(i.idToken);ae(o,s,"internal-error");const{sub:l}=o;return ae(t.uid===l,s,"user-mismatch"),ci._forOperation(t,r,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&vn(s,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FN(t,e,n=!1){if(Jt(t.app))return Promise.reject(ds(t));const s="signIn",r=await ON(t,s,e),i=await ci._fromIdTokenResponse(t,s,r);return n||await t._updateCurrentUser(i.user),i}async function pD(t,e){return FN(Ts(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(t,e,n){var s;ae(((s=n.url)==null?void 0:s.length)>0,t,"invalid-continue-uri"),ae(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),ae(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ae(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ae(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UN(t){const e=Ts(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function yD(t,e,n){const s=Ts(t);await Bu(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",aD)}async function xD(t,e,n){if(Jt(t.app))return Promise.reject(ds(t));const s=Ts(t),o=await Bu(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hD).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&UN(t),u}),l=await ci._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(l.user),l}function vD(t,e,n){return Jt(t.app)?Promise.reject(ds(t)):pD(nt(t),Ea.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&UN(t),s})}async function $N(t,e){const n=nt(t),r={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&gD(n.auth,r,e);const{email:i}=await iD(n.auth,r);i!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wD(t,e){return Qn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _D(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=nt(t),i={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await fa(s,wD(s.auth,i));s.displayName=o.displayName||null,s.photoURL=o.photoUrl||null;const l=s.providerData.find(({providerId:u})=>u==="password");l&&(l.displayName=s.displayName,l.photoURL=s.photoURL),await s._updateTokensIfNecessary(o)}function bD(t,e,n,s){return nt(t).onIdTokenChanged(e,n,s)}function ND(t,e,n){return nt(t).beforeAuthStateChanged(e,n)}function BN(t){return nt(t).signOut()}const Hu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hu,"1"),this.storage.removeItem(Hu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=1e3,TD=10;class HN extends zN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),r=this.localCache[n];s!==r&&e(n,r,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const s=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},i=this.storage.getItem(s);O5()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,TD):r()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},SD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}HN.type="LOCAL";const ED=HN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN extends zN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}WN.type="SESSION";const qN=WN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const s=new Ad(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:r,data:i}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const l=Array.from(o).map(async d=>d(n.origin,i)),u=await ID(l);n.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ad.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((l,u)=>{const d=Eg("",20);r.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},s);o={messageChannel:r,onMessage(h){const p=h;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(f),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(p.data.response);break;default:clearTimeout(f),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(){return window}function kD(t){zn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(){return typeof zn().WorkerGlobalScope<"u"&&typeof zn().importScripts=="function"}async function AD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function PD(){return GN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN="firebaseLocalStorageDb",RD=1,Wu="firebaseLocalStorage",QN="fbase_key";class Vl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Cd(t,e){return t.transaction([Wu],e?"readwrite":"readonly").objectStore(Wu)}function DD(){const t=indexedDB.deleteDatabase(KN);return new Vl(t).toPromise()}function Cm(){const t=indexedDB.open(KN,RD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Wu,{keyPath:QN})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Wu)?e(s):(s.close(),await DD(),e(await Cm()))})})}async function Bv(t,e,n){const s=Cd(t,!0).put({[QN]:e,value:n});return new Vl(s).toPromise()}async function VD(t,e){const n=Cd(t,!1).get(e),s=await new Vl(n).toPromise();return s===void 0?null:s.value}function zv(t,e){const n=Cd(t,!0).delete(e);return new Vl(n).toPromise()}const LD=800,MD=3;class YN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>MD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ad._getInstance(PD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await AD(),!this.activeServiceWorker)return;this.sender=new jD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||CD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cm();return await Bv(e,Hu,"1"),await zv(e,Hu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Bv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>VD(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>zv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const i=Cd(r,!1).getAll();return new Vl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:r,value:i}of e)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YN.type="LOCAL";const OD=YN;new Pl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(t,e){return e?as(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig extends Ng{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ji(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ji(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ji(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function FD(t){return FN(t.auth,new Ig(t),t.bypassAuthState)}function UD(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),mD(n,new Ig(t),t.bypassAuthState)}async function $D(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),fD(n,new Ig(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,n,s,r,i=!1){this.auth=e,this.resolver=s,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:r,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:s,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return FD;case"linkViaPopup":case"linkViaRedirect":return $D;case"reauthViaPopup":case"reauthViaRedirect":return UD;default:vn(this.auth,"internal-error")}}resolve(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=new Pl(2e3,1e4);async function zD(t,e,n){if(Jt(t.app))return Promise.reject(In(t,"operation-not-supported-in-this-environment"));const s=Ts(t);x5(t,e,Tg);const r=JN(s,n);return new Gr(s,"signInViaPopup",e,r).executeNotNull()}class Gr extends XN{constructor(e,n,s,r,i){super(e,n,r,i),this.provider=s,this.authWindow=null,this.pollId=null,Gr.currentPopupAction&&Gr.currentPopupAction.cancel(),Gr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ae(e,this.auth,"internal-error"),e}async onExecution(){vs(this.filter.length===1,"Popup operations only handle one event");const e=Eg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(In(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(In(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(In(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,BD.get())};e()}}Gr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD="pendingRedirect",Gc=new Map;class WD extends XN{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Gc.get(this.auth._key());if(!e){try{const s=await qD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Gc.set(this.auth._key(),e)}return this.bypassAuthState||Gc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qD(t,e){const n=QD(e),s=KD(t);if(!await s._isAvailable())return!1;const r=await s._get(n)==="true";return await s._remove(n),r}function GD(t,e){Gc.set(t._key(),e)}function KD(t){return as(t._redirectPersistence)}function QD(t){return qc(HD,t.config.apiKey,t.name)}async function YD(t,e,n=!1){if(Jt(t.app))return Promise.reject(ds(t));const s=Ts(t),r=JN(s,e),o=await new WD(s,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=10*60*1e3;class XD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ZD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!ZN(e)){const r=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(In(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JD&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hv(e))}saveEventToCache(e){this.cachedEventUids.add(Hv(e)),this.lastProcessedEventTime=Date.now()}}function Hv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ZN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ZD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e3(t,e={}){return Qn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,n3=/^https?/;async function s3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await e3(t);for(const n of e)try{if(r3(n))return}catch{}vn(t,"unauthorized-domain")}function r3(t){const e=km(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!n3.test(n))return!1;if(t3.test(t))return s===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3=new Pl(3e4,6e4);function Wv(){const t=zn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function a3(t){return new Promise((e,n)=>{var r,i,o;function s(){Wv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Wv(),n(In(t,"network-request-failed"))},timeout:i3.get()})}if((i=(r=zn().gapi)==null?void 0:r.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=zn().gapi)!=null&&o.load)s();else{const l=G5("iframefcb");return zn()[l]=()=>{gapi.load?s():n(In(t,"network-request-failed"))},DN(`${q5()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Kc=null,e})}let Kc=null;function o3(t){return Kc=Kc||a3(t),Kc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3=new Pl(5e3,15e3),c3="__/auth/iframe",u3="emulator/auth/iframe",d3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},h3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function f3(t){const e=t.config;ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?wg(e,u3):`https://${t.config.authDomain}/${c3}`,s={apiKey:e.apiKey,appName:t.name,v:Ta},r=h3.get(t.config.apiHost);r&&(s.eid=r);const i=t._getFrameworks();return i.length&&(s.fw=i.join(",")),`${n}?${Cl(s).slice(1)}`}async function m3(t){const e=await o3(t),n=zn().gapi;return ae(n,t,"internal-error"),e.open({where:document.body,url:f3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:d3,dontclear:!0},s=>new Promise(async(r,i)=>{await s.restyle({setHideOnLeave:!1});const o=In(t,"network-request-failed"),l=zn().setTimeout(()=>{i(o)},l3.get());function u(){zn().clearTimeout(l),r(s)}s.ping(u).then(u,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},g3=500,y3=600,x3="_blank",v3="http://localhost";class qv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function w3(t,e,n,s=g3,r=y3){const i=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let l="";const u={...p3,width:s.toString(),height:r.toString(),top:i,left:o},d=Ct().toLowerCase();n&&(l=IN(d)?x3:n),TN(d)&&(e=e||v3,u.scrollbars="yes");const f=Object.entries(u).reduce((p,[y,b])=>`${p}${y}=${b},`,"");if(M5(d)&&l!=="_self")return _3(e||"",l),new qv(null);const h=window.open(e||"",l,f);ae(h,t,"popup-blocked");try{h.focus()}catch{}return new qv(h)}function _3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3="__/auth/handler",N3="emulator/auth/handler",S3=encodeURIComponent("fac");async function Gv(t,e,n,s,r,i){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Ta,eventId:r};if(e instanceof Tg){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",n4(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries({}))o[f]=h}if(e instanceof Dl){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await t._getAppCheckToken(),d=u?`#${S3}=${encodeURIComponent(u)}`:"";return`${T3(t)}?${Cl(l).slice(1)}${d}`}function T3({config:t}){return t.emulator?wg(t,N3):`https://${t.authDomain}/${b3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of="webStorageSupport";class E3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qN,this._completeRedirectFn=YD,this._overrideRedirectResult=GD}async _openPopup(e,n,s,r){var o;vs((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await Gv(e,n,s,km(),r);return w3(e,i,Eg())}async _openRedirect(e,n,s,r){await this._originValidation(e);const i=await Gv(e,n,s,km(),r);return kD(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:i}=this.eventManagers[n];return r?Promise.resolve(r):(vs(i,"If manager is not set, promise should be"),i)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await m3(e),s=new XD(e);return n.register("authEvent",r=>(ae(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:s.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(of,{type:of},r=>{var o;const i=(o=r==null?void 0:r[0])==null?void 0:o[of];i!==void 0&&n(!!i),vn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=s3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return PN()||EN()||bg()}}const I3=E3;var Kv="@firebase/auth",Qv="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function A3(t){ha(new oi("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=s.options;ae(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RN(t)},d=new z5(s,r,i,u);return Z5(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ha(new oi("auth-internal",e=>{const n=Ts(e.getProvider("auth").getImmediate());return(s=>new j3(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),lr(Kv,Qv,k3(t)),lr(Kv,Qv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3=5*60,P3=cN("authIdTokenMaxAge")||C3;let Yv=null;const R3=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>P3)return;const r=n==null?void 0:n.token;Yv!==r&&(Yv=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function D3(t=pN()){const e=yg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=X5(t,{popupRedirectResolver:I3,persistence:[OD,ED,qN]}),s=cN("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(s,location.origin);if(location.origin===i.origin){const o=R3(i.toString());ND(n,o,()=>o(n.currentUser)),bD(n,l=>o(l))}}const r=oN("auth");return r&&eD(n,`http://${r}`),n}function V3(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}H5({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=r=>{const i=In("internal-error");i.customData=r,n(i)},s.type="text/javascript",s.charset="UTF-8",V3().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});A3("Browser");var Jv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cr,eS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,w){function N(){}N.prototype=w.prototype,j.F=w.prototype,j.prototype=new N,j.prototype.constructor=j,j.D=function(S,P,D){for(var C=Array(arguments.length-2),W=2;W<arguments.length;W++)C[W-2]=arguments[W];return w.prototype[P].apply(S,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(j,w,N){N||(N=0);const S=Array(16);if(typeof w=="string")for(var P=0;P<16;++P)S[P]=w.charCodeAt(N++)|w.charCodeAt(N++)<<8|w.charCodeAt(N++)<<16|w.charCodeAt(N++)<<24;else for(P=0;P<16;++P)S[P]=w[N++]|w[N++]<<8|w[N++]<<16|w[N++]<<24;w=j.g[0],N=j.g[1],P=j.g[2];let D=j.g[3],C;C=w+(D^N&(P^D))+S[0]+3614090360&4294967295,w=N+(C<<7&4294967295|C>>>25),C=D+(P^w&(N^P))+S[1]+3905402710&4294967295,D=w+(C<<12&4294967295|C>>>20),C=P+(N^D&(w^N))+S[2]+606105819&4294967295,P=D+(C<<17&4294967295|C>>>15),C=N+(w^P&(D^w))+S[3]+3250441966&4294967295,N=P+(C<<22&4294967295|C>>>10),C=w+(D^N&(P^D))+S[4]+4118548399&4294967295,w=N+(C<<7&4294967295|C>>>25),C=D+(P^w&(N^P))+S[5]+1200080426&4294967295,D=w+(C<<12&4294967295|C>>>20),C=P+(N^D&(w^N))+S[6]+2821735955&4294967295,P=D+(C<<17&4294967295|C>>>15),C=N+(w^P&(D^w))+S[7]+4249261313&4294967295,N=P+(C<<22&4294967295|C>>>10),C=w+(D^N&(P^D))+S[8]+1770035416&4294967295,w=N+(C<<7&4294967295|C>>>25),C=D+(P^w&(N^P))+S[9]+2336552879&4294967295,D=w+(C<<12&4294967295|C>>>20),C=P+(N^D&(w^N))+S[10]+4294925233&4294967295,P=D+(C<<17&4294967295|C>>>15),C=N+(w^P&(D^w))+S[11]+2304563134&4294967295,N=P+(C<<22&4294967295|C>>>10),C=w+(D^N&(P^D))+S[12]+1804603682&4294967295,w=N+(C<<7&4294967295|C>>>25),C=D+(P^w&(N^P))+S[13]+4254626195&4294967295,D=w+(C<<12&4294967295|C>>>20),C=P+(N^D&(w^N))+S[14]+2792965006&4294967295,P=D+(C<<17&4294967295|C>>>15),C=N+(w^P&(D^w))+S[15]+1236535329&4294967295,N=P+(C<<22&4294967295|C>>>10),C=w+(P^D&(N^P))+S[1]+4129170786&4294967295,w=N+(C<<5&4294967295|C>>>27),C=D+(N^P&(w^N))+S[6]+3225465664&4294967295,D=w+(C<<9&4294967295|C>>>23),C=P+(w^N&(D^w))+S[11]+643717713&4294967295,P=D+(C<<14&4294967295|C>>>18),C=N+(D^w&(P^D))+S[0]+3921069994&4294967295,N=P+(C<<20&4294967295|C>>>12),C=w+(P^D&(N^P))+S[5]+3593408605&4294967295,w=N+(C<<5&4294967295|C>>>27),C=D+(N^P&(w^N))+S[10]+38016083&4294967295,D=w+(C<<9&4294967295|C>>>23),C=P+(w^N&(D^w))+S[15]+3634488961&4294967295,P=D+(C<<14&4294967295|C>>>18),C=N+(D^w&(P^D))+S[4]+3889429448&4294967295,N=P+(C<<20&4294967295|C>>>12),C=w+(P^D&(N^P))+S[9]+568446438&4294967295,w=N+(C<<5&4294967295|C>>>27),C=D+(N^P&(w^N))+S[14]+3275163606&4294967295,D=w+(C<<9&4294967295|C>>>23),C=P+(w^N&(D^w))+S[3]+4107603335&4294967295,P=D+(C<<14&4294967295|C>>>18),C=N+(D^w&(P^D))+S[8]+1163531501&4294967295,N=P+(C<<20&4294967295|C>>>12),C=w+(P^D&(N^P))+S[13]+2850285829&4294967295,w=N+(C<<5&4294967295|C>>>27),C=D+(N^P&(w^N))+S[2]+4243563512&4294967295,D=w+(C<<9&4294967295|C>>>23),C=P+(w^N&(D^w))+S[7]+1735328473&4294967295,P=D+(C<<14&4294967295|C>>>18),C=N+(D^w&(P^D))+S[12]+2368359562&4294967295,N=P+(C<<20&4294967295|C>>>12),C=w+(N^P^D)+S[5]+4294588738&4294967295,w=N+(C<<4&4294967295|C>>>28),C=D+(w^N^P)+S[8]+2272392833&4294967295,D=w+(C<<11&4294967295|C>>>21),C=P+(D^w^N)+S[11]+1839030562&4294967295,P=D+(C<<16&4294967295|C>>>16),C=N+(P^D^w)+S[14]+4259657740&4294967295,N=P+(C<<23&4294967295|C>>>9),C=w+(N^P^D)+S[1]+2763975236&4294967295,w=N+(C<<4&4294967295|C>>>28),C=D+(w^N^P)+S[4]+1272893353&4294967295,D=w+(C<<11&4294967295|C>>>21),C=P+(D^w^N)+S[7]+4139469664&4294967295,P=D+(C<<16&4294967295|C>>>16),C=N+(P^D^w)+S[10]+3200236656&4294967295,N=P+(C<<23&4294967295|C>>>9),C=w+(N^P^D)+S[13]+681279174&4294967295,w=N+(C<<4&4294967295|C>>>28),C=D+(w^N^P)+S[0]+3936430074&4294967295,D=w+(C<<11&4294967295|C>>>21),C=P+(D^w^N)+S[3]+3572445317&4294967295,P=D+(C<<16&4294967295|C>>>16),C=N+(P^D^w)+S[6]+76029189&4294967295,N=P+(C<<23&4294967295|C>>>9),C=w+(N^P^D)+S[9]+3654602809&4294967295,w=N+(C<<4&4294967295|C>>>28),C=D+(w^N^P)+S[12]+3873151461&4294967295,D=w+(C<<11&4294967295|C>>>21),C=P+(D^w^N)+S[15]+530742520&4294967295,P=D+(C<<16&4294967295|C>>>16),C=N+(P^D^w)+S[2]+3299628645&4294967295,N=P+(C<<23&4294967295|C>>>9),C=w+(P^(N|~D))+S[0]+4096336452&4294967295,w=N+(C<<6&4294967295|C>>>26),C=D+(N^(w|~P))+S[7]+1126891415&4294967295,D=w+(C<<10&4294967295|C>>>22),C=P+(w^(D|~N))+S[14]+2878612391&4294967295,P=D+(C<<15&4294967295|C>>>17),C=N+(D^(P|~w))+S[5]+4237533241&4294967295,N=P+(C<<21&4294967295|C>>>11),C=w+(P^(N|~D))+S[12]+1700485571&4294967295,w=N+(C<<6&4294967295|C>>>26),C=D+(N^(w|~P))+S[3]+2399980690&4294967295,D=w+(C<<10&4294967295|C>>>22),C=P+(w^(D|~N))+S[10]+4293915773&4294967295,P=D+(C<<15&4294967295|C>>>17),C=N+(D^(P|~w))+S[1]+2240044497&4294967295,N=P+(C<<21&4294967295|C>>>11),C=w+(P^(N|~D))+S[8]+1873313359&4294967295,w=N+(C<<6&4294967295|C>>>26),C=D+(N^(w|~P))+S[15]+4264355552&4294967295,D=w+(C<<10&4294967295|C>>>22),C=P+(w^(D|~N))+S[6]+2734768916&4294967295,P=D+(C<<15&4294967295|C>>>17),C=N+(D^(P|~w))+S[13]+1309151649&4294967295,N=P+(C<<21&4294967295|C>>>11),C=w+(P^(N|~D))+S[4]+4149444226&4294967295,w=N+(C<<6&4294967295|C>>>26),C=D+(N^(w|~P))+S[11]+3174756917&4294967295,D=w+(C<<10&4294967295|C>>>22),C=P+(w^(D|~N))+S[2]+718787259&4294967295,P=D+(C<<15&4294967295|C>>>17),C=N+(D^(P|~w))+S[9]+3951481745&4294967295,j.g[0]=j.g[0]+w&4294967295,j.g[1]=j.g[1]+(P+(C<<21&4294967295|C>>>11))&4294967295,j.g[2]=j.g[2]+P&4294967295,j.g[3]=j.g[3]+D&4294967295}s.prototype.v=function(j,w){w===void 0&&(w=j.length);const N=w-this.blockSize,S=this.C;let P=this.h,D=0;for(;D<w;){if(P==0)for(;D<=N;)r(this,j,D),D+=this.blockSize;if(typeof j=="string"){for(;D<w;)if(S[P++]=j.charCodeAt(D++),P==this.blockSize){r(this,S),P=0;break}}else for(;D<w;)if(S[P++]=j[D++],P==this.blockSize){r(this,S),P=0;break}}this.h=P,this.o+=w},s.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var w=1;w<j.length-8;++w)j[w]=0;w=this.o*8;for(var N=j.length-8;N<j.length;++N)j[N]=w&255,w/=256;for(this.v(j),j=Array(16),w=0,N=0;N<4;++N)for(let S=0;S<32;S+=8)j[w++]=this.g[N]>>>S&255;return j};function i(j,w){var N=l;return Object.prototype.hasOwnProperty.call(N,j)?N[j]:N[j]=w(j)}function o(j,w){this.h=w;const N=[];let S=!0;for(let P=j.length-1;P>=0;P--){const D=j[P]|0;S&&D==w||(N[P]=D,S=!1)}this.g=N}var l={};function u(j){return-128<=j&&j<128?i(j,function(w){return new o([w|0],w<0?-1:0)}):new o([j|0],j<0?-1:0)}function d(j){if(isNaN(j)||!isFinite(j))return h;if(j<0)return A(d(-j));const w=[];let N=1;for(let S=0;j>=N;S++)w[S]=j/N|0,N*=4294967296;return new o(w,0)}function f(j,w){if(j.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(j.charAt(0)=="-")return A(f(j.substring(1),w));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=d(Math.pow(w,8));let S=h;for(let D=0;D<j.length;D+=8){var P=Math.min(8,j.length-D);const C=parseInt(j.substring(D,D+P),w);P<8?(P=d(Math.pow(w,P)),S=S.j(P).add(d(C))):(S=S.j(N),S=S.add(d(C)))}return S}var h=u(0),p=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(I(this))return-A(this).m();let j=0,w=1;for(let N=0;N<this.g.length;N++){const S=this.i(N);j+=(S>=0?S:4294967296+S)*w,w*=4294967296}return j},t.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(b(this))return"0";if(I(this))return"-"+A(this).toString(j);const w=d(Math.pow(j,6));var N=this;let S="";for(;;){const P=V(N,w).g;N=E(N,P.j(w));let D=((N.g.length>0?N.g[0]:N.h)>>>0).toString(j);if(N=P,b(N))return D+S;for(;D.length<6;)D="0"+D;S=D+S}},t.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function b(j){if(j.h!=0)return!1;for(let w=0;w<j.g.length;w++)if(j.g[w]!=0)return!1;return!0}function I(j){return j.h==-1}t.l=function(j){return j=E(this,j),I(j)?-1:b(j)?0:1};function A(j){const w=j.g.length,N=[];for(let S=0;S<w;S++)N[S]=~j.g[S];return new o(N,~j.h).add(p)}t.abs=function(){return I(this)?A(this):this},t.add=function(j){const w=Math.max(this.g.length,j.g.length),N=[];let S=0;for(let P=0;P<=w;P++){let D=S+(this.i(P)&65535)+(j.i(P)&65535),C=(D>>>16)+(this.i(P)>>>16)+(j.i(P)>>>16);S=C>>>16,D&=65535,C&=65535,N[P]=C<<16|D}return new o(N,N[N.length-1]&-2147483648?-1:0)};function E(j,w){return j.add(A(w))}t.j=function(j){if(b(this)||b(j))return h;if(I(this))return I(j)?A(this).j(A(j)):A(A(this).j(j));if(I(j))return A(this.j(A(j)));if(this.l(y)<0&&j.l(y)<0)return d(this.m()*j.m());const w=this.g.length+j.g.length,N=[];for(var S=0;S<2*w;S++)N[S]=0;for(S=0;S<this.g.length;S++)for(let P=0;P<j.g.length;P++){const D=this.i(S)>>>16,C=this.i(S)&65535,W=j.i(P)>>>16,J=j.i(P)&65535;N[2*S+2*P]+=C*J,x(N,2*S+2*P),N[2*S+2*P+1]+=D*J,x(N,2*S+2*P+1),N[2*S+2*P+1]+=C*W,x(N,2*S+2*P+1),N[2*S+2*P+2]+=D*W,x(N,2*S+2*P+2)}for(j=0;j<w;j++)N[j]=N[2*j+1]<<16|N[2*j];for(j=w;j<2*w;j++)N[j]=0;return new o(N,0)};function x(j,w){for(;(j[w]&65535)!=j[w];)j[w+1]+=j[w]>>>16,j[w]&=65535,w++}function _(j,w){this.g=j,this.h=w}function V(j,w){if(b(w))throw Error("division by zero");if(b(j))return new _(h,h);if(I(j))return w=V(A(j),w),new _(A(w.g),A(w.h));if(I(w))return w=V(j,A(w)),new _(A(w.g),w.h);if(j.g.length>30){if(I(j)||I(w))throw Error("slowDivide_ only works with positive integers.");for(var N=p,S=w;S.l(j)<=0;)N=L(N),S=L(S);var P=F(N,1),D=F(S,1);for(S=F(S,2),N=F(N,2);!b(S);){var C=D.add(S);C.l(j)<=0&&(P=P.add(N),D=C),S=F(S,1),N=F(N,1)}return w=E(j,P.j(w)),new _(P,w)}for(P=h;j.l(w)>=0;){for(N=Math.max(1,Math.floor(j.m()/w.m())),S=Math.ceil(Math.log(N)/Math.LN2),S=S<=48?1:Math.pow(2,S-48),D=d(N),C=D.j(w);I(C)||C.l(j)>0;)N-=S,D=d(N),C=D.j(w);b(D)&&(D=p),P=P.add(D),j=E(j,C)}return new _(P,j)}t.B=function(j){return V(this,j).h},t.and=function(j){const w=Math.max(this.g.length,j.g.length),N=[];for(let S=0;S<w;S++)N[S]=this.i(S)&j.i(S);return new o(N,this.h&j.h)},t.or=function(j){const w=Math.max(this.g.length,j.g.length),N=[];for(let S=0;S<w;S++)N[S]=this.i(S)|j.i(S);return new o(N,this.h|j.h)},t.xor=function(j){const w=Math.max(this.g.length,j.g.length),N=[];for(let S=0;S<w;S++)N[S]=this.i(S)^j.i(S);return new o(N,this.h^j.h)};function L(j){const w=j.g.length+1,N=[];for(let S=0;S<w;S++)N[S]=j.i(S)<<1|j.i(S-1)>>>31;return new o(N,j.h)}function F(j,w){const N=w>>5;w%=32;const S=j.g.length-N,P=[];for(let D=0;D<S;D++)P[D]=w>0?j.i(D+N)>>>w|j.i(D+N+1)<<32-w:j.i(D+N);return new o(P,j.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,eS=s,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,cr=o}).apply(typeof Jv<"u"?Jv:typeof self<"u"?self:typeof window<"u"?window:{});var Tc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tS,po,nS,Qc,Pm,sS,rS,iS;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tc=="object"&&Tc];for(var m=0;m<c.length;++m){var g=c[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=n(this);function r(c,m){if(m)e:{var g=s;c=c.split(".");for(var T=0;T<c.length-1;T++){var M=c[T];if(!(M in g))break e;g=g[M]}c=c[c.length-1],T=g[c],m=m(T),m!=T&&m!=null&&e(g,c,{configurable:!0,writable:!0,value:m})}}r("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(c){return c||function(m){var g=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&g.push([T,m[T]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function l(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function u(c,m,g){return c.call.apply(c.bind,arguments)}function d(c,m,g){return d=u,d.apply(null,arguments)}function f(c,m){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function h(c,m){function g(){}g.prototype=m.prototype,c.Z=m.prototype,c.prototype=new g,c.prototype.constructor=c,c.Ob=function(T,M,U){for(var Q=Array(arguments.length-2),me=2;me<arguments.length;me++)Q[me-2]=arguments[me];return m.prototype[M].apply(T,Q)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function y(c){const m=c.length;if(m>0){const g=Array(m);for(let T=0;T<m;T++)g[T]=c[T];return g}return[]}function b(c,m){for(let T=1;T<arguments.length;T++){const M=arguments[T];var g=typeof M;if(g=g!="object"?g:M?Array.isArray(M)?"array":g:"null",g=="array"||g=="object"&&typeof M.length=="number"){g=c.length||0;const U=M.length||0;c.length=g+U;for(let Q=0;Q<U;Q++)c[g+Q]=M[Q]}else c.push(M)}}class I{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function A(c){o.setTimeout(()=>{throw c},0)}function E(){var c=j;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class x{constructor(){this.h=this.g=null}add(m,g){const T=_.get();T.set(m,g),this.h?this.h.next=T:this.g=T,this.h=T}}var _=new I(()=>new V,c=>c.reset());class V{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let L,F=!1,j=new x,w=()=>{const c=Promise.resolve(void 0);L=()=>{c.then(N)}};function N(){for(var c;c=E();){try{c.h.call(c.g)}catch(g){A(g)}var m=_;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}F=!1}function S(){this.u=this.u,this.C=this.C}S.prototype.u=!1,S.prototype.dispose=function(){this.u||(this.u=!0,this.N())},S.prototype[Symbol.dispose]=function(){this.dispose()},S.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const g=()=>{};o.addEventListener("test",g,m),o.removeEventListener("test",g,m)}catch{}return c}();function C(c){return/^[\s\xa0]*$/.test(c)}function W(c,m){P.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}h(W,P),W.prototype.init=function(c,m){const g=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(g=="mouseover"?m=c.fromElement:g=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&W.Z.h.call(this)},W.prototype.h=function(){W.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var J="closure_listenable_"+(Math.random()*1e6|0),ue=0;function fe(c,m,g,T,M){this.listener=c,this.proxy=null,this.src=m,this.type=g,this.capture=!!T,this.ha=M,this.key=++ue,this.da=this.fa=!1}function O(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function q(c,m,g){for(const T in c)m.call(g,c[T],T,c)}function oe(c,m){for(const g in c)m.call(void 0,c[g],g,c)}function B(c){const m={};for(const g in c)m[g]=c[g];return m}const se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(c,m){let g,T;for(let M=1;M<arguments.length;M++){T=arguments[M];for(g in T)c[g]=T[g];for(let U=0;U<se.length;U++)g=se[U],Object.prototype.hasOwnProperty.call(T,g)&&(c[g]=T[g])}}function Le(c){this.src=c,this.g={},this.h=0}Le.prototype.add=function(c,m,g,T,M){const U=c.toString();c=this.g[U],c||(c=this.g[U]=[],this.h++);const Q=We(c,m,T,M);return Q>-1?(m=c[Q],g||(m.fa=!1)):(m=new fe(m,this.src,U,!!T,M),m.fa=g,c.push(m)),m};function Gt(c,m){const g=m.type;if(g in c.g){var T=c.g[g],M=Array.prototype.indexOf.call(T,m,void 0),U;(U=M>=0)&&Array.prototype.splice.call(T,M,1),U&&(O(m),c.g[g].length==0&&(delete c.g[g],c.h--))}}function We(c,m,g,T){for(let M=0;M<c.length;++M){const U=c[M];if(!U.da&&U.listener==m&&U.capture==!!g&&U.ha==T)return M}return-1}var Ot="closure_lm_"+(Math.random()*1e6|0),Yn={};function Jn(c,m,g,T,M){if(Array.isArray(m)){for(let U=0;U<m.length;U++)Jn(c,m[U],g,T,M);return null}return g=Wl(g),c&&c[J]?c.J(m,g,l(T)?!!T.capture:!1,M):Cn(c,m,g,!1,T,M)}function Cn(c,m,g,T,M,U){if(!m)throw Error("Invalid event type");const Q=l(M)?!!M.capture:!!M;let me=Da(c);if(me||(c[Ot]=me=new Le(c)),g=me.add(m,g,T,Q,U),g.proxy)return g;if(T=on(),g.proxy=T,T.src=c,T.listener=g,c.addEventListener)D||(M=Q),M===void 0&&(M=!1),c.addEventListener(m.toString(),T,M);else if(c.attachEvent)c.attachEvent(Pn(m.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function on(){function c(g){return m.call(c.src,c.listener,g)}const m=Xd;return c}function Pa(c,m,g,T,M){if(Array.isArray(m))for(var U=0;U<m.length;U++)Pa(c,m[U],g,T,M);else T=l(T)?!!T.capture:!!T,g=Wl(g),c&&c[J]?(c=c.i,U=String(m).toString(),U in c.g&&(m=c.g[U],g=We(m,g,T,M),g>-1&&(O(m[g]),Array.prototype.splice.call(m,g,1),m.length==0&&(delete c.g[U],c.h--)))):c&&(c=Da(c))&&(m=c.g[m.toString()],c=-1,m&&(c=We(m,g,T,M)),(g=c>-1?m[c]:null)&&Ra(g))}function Ra(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[J])Gt(m.i,c);else{var g=c.type,T=c.proxy;m.removeEventListener?m.removeEventListener(g,T,c.capture):m.detachEvent?m.detachEvent(Pn(g),T):m.addListener&&m.removeListener&&m.removeListener(T),(g=Da(m))?(Gt(g,c),g.h==0&&(g.src=null,m[Ot]=null)):O(c)}}}function Pn(c){return c in Yn?Yn[c]:Yn[c]="on"+c}function Xd(c,m){if(c.da)c=!0;else{m=new W(m,this);const g=c.listener,T=c.ha||c.src;c.fa&&Ra(c),c=g.call(T,m)}return c}function Da(c){return c=c[Ot],c instanceof Le?c:null}var Va="__closure_events_fn_"+(Math.random()*1e9>>>0);function Wl(c){return typeof c=="function"?c:(c[Va]||(c[Va]=function(m){return c.handleEvent(m)}),c[Va])}function st(){S.call(this),this.i=new Le(this),this.M=this,this.G=null}h(st,S),st.prototype[J]=!0,st.prototype.removeEventListener=function(c,m,g,T){Pa(this,c,m,g,T)};function ct(c,m){var g,T=c.G;if(T)for(g=[];T;T=T.G)g.push(T);if(c=c.M,T=m.type||m,typeof m=="string")m=new P(m,c);else if(m instanceof P)m.target=m.target||c;else{var M=m;m=new P(T,c),lt(m,M)}M=!0;let U,Q;if(g)for(Q=g.length-1;Q>=0;Q--)U=m.g=g[Q],M=kr(U,T,!0,m)&&M;if(U=m.g=c,M=kr(U,T,!0,m)&&M,M=kr(U,T,!1,m)&&M,g)for(Q=0;Q<g.length;Q++)U=m.g=g[Q],M=kr(U,T,!1,m)&&M}st.prototype.N=function(){if(st.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const g=c.g[m];for(let T=0;T<g.length;T++)O(g[T]);delete c.g[m],c.h--}}this.G=null},st.prototype.J=function(c,m,g,T){return this.i.add(String(c),m,!1,g,T)},st.prototype.K=function(c,m,g,T){return this.i.add(String(c),m,!0,g,T)};function kr(c,m,g,T){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let M=!0;for(let U=0;U<m.length;++U){const Q=m[U];if(Q&&!Q.da&&Q.capture==g){const me=Q.listener,rt=Q.ha||Q.src;Q.fa&&Gt(c.i,Q),M=me.call(rt,T)!==!1&&M}}return M&&!T.defaultPrevented}function k(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=d(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:o.setTimeout(c,m||0)}function te(c){c.g=k(()=>{c.g=null,c.i&&(c.i=!1,te(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class K extends S{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:te(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function re(c){S.call(this),this.h=c,this.g={}}h(re,S);var Ar=[];function be(c){q(c.g,function(m,g){this.g.hasOwnProperty(g)&&Ra(m)},c),c.g={}}re.prototype.N=function(){re.Z.N.call(this),be(this)},re.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var De=o.JSON.stringify,qe=o.JSON.parse,BT=class{stringify(c){return o.JSON.stringify(c,void 0)}parse(c){return o.JSON.parse(c,void 0)}};function py(){}function gy(){}var La={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Zd(){P.call(this,"d")}h(Zd,P);function eh(){P.call(this,"c")}h(eh,P);var Cr={},yy=null;function ql(){return yy=yy||new st}Cr.Ia="serverreachability";function xy(c){P.call(this,Cr.Ia,c)}h(xy,P);function Ma(c){const m=ql();ct(m,new xy(m))}Cr.STAT_EVENT="statevent";function vy(c,m){P.call(this,Cr.STAT_EVENT,c),this.stat=m}h(vy,P);function Pt(c){const m=ql();ct(m,new vy(m,c))}Cr.Ja="timingevent";function wy(c,m){P.call(this,Cr.Ja,c),this.size=m}h(wy,P);function Oa(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){c()},m)}function Fa(){this.g=!0}Fa.prototype.ua=function(){this.g=!1};function zT(c,m,g,T,M,U){c.info(function(){if(c.g)if(U){var Q="",me=U.split("&");for(let Se=0;Se<me.length;Se++){var rt=me[Se].split("=");if(rt.length>1){const ut=rt[0];rt=rt[1];const Dn=ut.split("_");Q=Dn.length>=2&&Dn[1]=="type"?Q+(ut+"="+rt+"&"):Q+(ut+"=redacted&")}}}else Q=null;else Q=U;return"XMLHTTP REQ ("+T+") [attempt "+M+"]: "+m+`
`+g+`
`+Q})}function HT(c,m,g,T,M,U,Q){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+M+"]: "+m+`
`+g+`
`+U+" "+Q})}function xi(c,m,g,T){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+qT(c,g)+(T?" "+T:"")})}function WT(c,m){c.info(function(){return"TIMEOUT: "+m})}Fa.prototype.info=function(){};function qT(c,m){if(!c.g)return m;if(!m)return null;try{const U=JSON.parse(m);if(U){for(c=0;c<U.length;c++)if(Array.isArray(U[c])){var g=U[c];if(!(g.length<2)){var T=g[1];if(Array.isArray(T)&&!(T.length<1)){var M=T[0];if(M!="noop"&&M!="stop"&&M!="close")for(let Q=1;Q<T.length;Q++)T[Q]=""}}}}return De(U)}catch{return m}}var Gl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},_y={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},by;function th(){}h(th,py),th.prototype.g=function(){return new XMLHttpRequest},by=new th;function Ua(c){return encodeURIComponent(String(c))}function GT(c){var m=1;c=c.split(":");const g=[];for(;m>0&&c.length;)g.push(c.shift()),m--;return c.length&&g.push(c.join(":")),g}function Is(c,m,g,T){this.j=c,this.i=m,this.l=g,this.S=T||1,this.V=new re(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ny}function Ny(){this.i=null,this.g="",this.h=!1}var Sy={},nh={};function sh(c,m,g){c.M=1,c.A=Ql(Rn(m)),c.u=g,c.R=!0,Ty(c,null)}function Ty(c,m){c.F=Date.now(),Kl(c),c.B=Rn(c.A);var g=c.B,T=c.S;Array.isArray(T)||(T=[String(T)]),Oy(g.i,"t",T),c.C=0,g=c.j.L,c.h=new Ny,c.g=nx(c.j,g?m:null,!c.u),c.P>0&&(c.O=new K(d(c.Y,c,c.g),c.P)),m=c.V,g=c.g,T=c.ba;var M="readystatechange";Array.isArray(M)||(M&&(Ar[0]=M.toString()),M=Ar);for(let U=0;U<M.length;U++){const Q=Jn(g,M[U],T||m.handleEvent,!1,m.h||m);if(!Q)break;m.g[Q.key]=Q}m=c.J?B(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),Ma(),zT(c.i,c.v,c.B,c.l,c.S,c.u)}Is.prototype.ba=function(c){c=c.target;const m=this.O;m&&As(c)==3?m.j():this.Y(c)},Is.prototype.Y=function(c){try{if(c==this.g)e:{const me=As(this.g),rt=this.g.ya(),Se=this.g.ca();if(!(me<3)&&(me!=3||this.g&&(this.h.h||this.g.la()||Wy(this.g)))){this.K||me!=4||rt==7||(rt==8||Se<=0?Ma(3):Ma(2)),rh(this);var m=this.g.ca();this.X=m;var g=KT(this);if(this.o=m==200,HT(this.i,this.v,this.B,this.l,this.S,me,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,M=this.g;if((T=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(T)){var U=T;break t}}U=null}if(c=U)xi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ih(this,c);else{this.o=!1,this.m=3,Pt(12),Pr(this),$a(this);break e}}if(this.R){c=!0;let ut;for(;!this.K&&this.C<g.length;)if(ut=QT(this,g),ut==nh){me==4&&(this.m=4,Pt(14),c=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==Sy){this.m=4,Pt(15),xi(this.i,this.l,g,"[Invalid Chunk]"),c=!1;break}else xi(this.i,this.l,ut,null),ih(this,ut);if(Ey(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),me!=4||g.length!=0||this.h.h||(this.m=1,Pt(16),c=!1),this.o=this.o&&c,!c)xi(this.i,this.l,g,"[Invalid Chunked Response]"),Pr(this),$a(this);else if(g.length>0&&!this.W){this.W=!0;var Q=this.j;Q.g==this&&Q.aa&&!Q.P&&(Q.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),fh(Q),Q.P=!0,Pt(11))}}else xi(this.i,this.l,g,null),ih(this,g);me==4&&Pr(this),this.o&&!this.K&&(me==4?Xy(this.j,this):(this.o=!1,Kl(this)))}else cE(this.g),m==400&&g.indexOf("Unknown SID")>0?(this.m=3,Pt(12)):(this.m=0,Pt(13)),Pr(this),$a(this)}}}catch{}finally{}};function KT(c){if(!Ey(c))return c.g.la();const m=Wy(c.g);if(m==="")return"";let g="";const T=m.length,M=As(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Pr(c),$a(c),"";c.h.i=new o.TextDecoder}for(let U=0;U<T;U++)c.h.h=!0,g+=c.h.i.decode(m[U],{stream:!(M&&U==T-1)});return m.length=0,c.h.g+=g,c.C=0,c.h.g}function Ey(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function QT(c,m){var g=c.C,T=m.indexOf(`
`,g);return T==-1?nh:(g=Number(m.substring(g,T)),isNaN(g)?Sy:(T+=1,T+g>m.length?nh:(m=m.slice(T,T+g),c.C=T+g,m)))}Is.prototype.cancel=function(){this.K=!0,Pr(this)};function Kl(c){c.T=Date.now()+c.H,Iy(c,c.H)}function Iy(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Oa(d(c.aa,c),m)}function rh(c){c.D&&(o.clearTimeout(c.D),c.D=null)}Is.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(WT(this.i,this.B),this.M!=2&&(Ma(),Pt(17)),Pr(this),this.m=2,$a(this)):Iy(this,this.T-c)};function $a(c){c.j.I==0||c.K||Xy(c.j,c)}function Pr(c){rh(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,be(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function ih(c,m){try{var g=c.j;if(g.I!=0&&(g.g==c||ah(g.h,c))){if(!c.L&&ah(g.h,c)&&g.I==3){try{var T=g.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var M=T;if(M[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<c.F)ec(g),Xl(g);else break e;hh(g),Pt(18)}}else g.xa=M[1],0<g.xa-g.K&&M[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=Oa(d(g.Va,g),6e3));Ay(g.h)<=1&&g.ta&&(g.ta=void 0)}else Dr(g,11)}else if((c.L||g.g==c)&&ec(g),!C(m))for(M=g.Ba.g.parse(m),m=0;m<M.length;m++){let Se=M[m];const ut=Se[0];if(!(ut<=g.K))if(g.K=ut,Se=Se[1],g.I==2)if(Se[0]=="c"){g.M=Se[1],g.ba=Se[2];const Dn=Se[3];Dn!=null&&(g.ka=Dn,g.j.info("VER="+g.ka));const Vr=Se[4];Vr!=null&&(g.za=Vr,g.j.info("SVER="+g.za));const Cs=Se[5];Cs!=null&&typeof Cs=="number"&&Cs>0&&(T=1.5*Cs,g.O=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const Ps=c.g;if(Ps){const nc=Ps.g?Ps.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nc){var U=T.h;U.g||nc.indexOf("spdy")==-1&&nc.indexOf("quic")==-1&&nc.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(oh(U,U.h),U.h=null))}if(T.G){const mh=Ps.g?Ps.g.getResponseHeader("X-HTTP-Session-Id"):null;mh&&(T.wa=mh,ke(T.J,T.G,mh))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-c.F,g.j.info("Handshake RTT: "+g.T+"ms")),T=g;var Q=c;if(T.na=tx(T,T.L?T.ba:null,T.W),Q.L){Cy(T.h,Q);var me=Q,rt=T.O;rt&&(me.H=rt),me.D&&(rh(me),Kl(me)),T.g=Q}else Yy(T);g.i.length>0&&Zl(g)}else Se[0]!="stop"&&Se[0]!="close"||Dr(g,7);else g.I==3&&(Se[0]=="stop"||Se[0]=="close"?Se[0]=="stop"?Dr(g,7):dh(g):Se[0]!="noop"&&g.l&&g.l.qa(Se),g.A=0)}}Ma(4)}catch{}}var YT=class{constructor(c,m){this.g=c,this.map=m}};function jy(c){this.l=c||10,o.PerformanceNavigationTiming?(c=o.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ky(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ay(c){return c.h?1:c.g?c.g.size:0}function ah(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function oh(c,m){c.g?c.g.add(m):c.h=m}function Cy(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}jy.prototype.cancel=function(){if(this.i=Py(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Py(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const g of c.g.values())m=m.concat(g.G);return m}return y(c.i)}var Ry=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function JT(c,m){if(c){c=c.split("&");for(let g=0;g<c.length;g++){const T=c[g].indexOf("=");let M,U=null;T>=0?(M=c[g].substring(0,T),U=c[g].substring(T+1)):M=c[g],m(M,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function js(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof js?(this.l=c.l,Ba(this,c.j),this.o=c.o,this.g=c.g,za(this,c.u),this.h=c.h,lh(this,Fy(c.i)),this.m=c.m):c&&(m=String(c).match(Ry))?(this.l=!1,Ba(this,m[1]||"",!0),this.o=Ha(m[2]||""),this.g=Ha(m[3]||"",!0),za(this,m[4]),this.h=Ha(m[5]||"",!0),lh(this,m[6]||"",!0),this.m=Ha(m[7]||"")):(this.l=!1,this.i=new qa(null,this.l))}js.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(Wa(m,Dy,!0),":");var g=this.g;return(g||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Wa(m,Dy,!0),"@"),c.push(Ua(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&c.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(Wa(g,g.charAt(0)=="/"?eE:ZT,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",Wa(g,nE)),c.join("")},js.prototype.resolve=function(c){const m=Rn(this);let g=!!c.j;g?Ba(m,c.j):g=!!c.o,g?m.o=c.o:g=!!c.g,g?m.g=c.g:g=c.u!=null;var T=c.h;if(g)za(m,c.u);else if(g=!!c.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var M=m.h.lastIndexOf("/");M!=-1&&(T=m.h.slice(0,M+1)+T)}if(M=T,M==".."||M==".")T="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){T=M.lastIndexOf("/",0)==0,M=M.split("/");const U=[];for(let Q=0;Q<M.length;){const me=M[Q++];me=="."?T&&Q==M.length&&U.push(""):me==".."?((U.length>1||U.length==1&&U[0]!="")&&U.pop(),T&&Q==M.length&&U.push("")):(U.push(me),T=!0)}T=U.join("/")}else T=M}return g?m.h=T:g=c.i.toString()!=="",g?lh(m,Fy(c.i)):g=!!c.m,g&&(m.m=c.m),m};function Rn(c){return new js(c)}function Ba(c,m,g){c.j=g?Ha(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function za(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function lh(c,m,g){m instanceof qa?(c.i=m,sE(c.i,c.l)):(g||(m=Wa(m,tE)),c.i=new qa(m,c.l))}function ke(c,m,g){c.i.set(m,g)}function Ql(c){return ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ha(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Wa(c,m,g){return typeof c=="string"?(c=encodeURI(c).replace(m,XT),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function XT(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Dy=/[#\/\?@]/g,ZT=/[#\?:]/g,eE=/[#\?]/g,tE=/[#\?@]/g,nE=/#/g;function qa(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function Rr(c){c.g||(c.g=new Map,c.h=0,c.i&&JT(c.i,function(m,g){c.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}t=qa.prototype,t.add=function(c,m){Rr(this),this.i=null,c=vi(this,c);let g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(m),this.h+=1,this};function Vy(c,m){Rr(c),m=vi(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Ly(c,m){return Rr(c),m=vi(c,m),c.g.has(m)}t.forEach=function(c,m){Rr(this),this.g.forEach(function(g,T){g.forEach(function(M){c.call(m,M,T,this)},this)},this)};function My(c,m){Rr(c);let g=[];if(typeof m=="string")Ly(c,m)&&(g=g.concat(c.g.get(vi(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)g=g.concat(c[m]);return g}t.set=function(c,m){return Rr(this),this.i=null,c=vi(this,c),Ly(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=My(this,c),c.length>0?String(c[0]):m):m};function Oy(c,m,g){Vy(c,m),g.length>0&&(c.i=null,c.g.set(vi(c,m),y(g)),c.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var g=m[T];const M=Ua(g);g=My(this,g);for(let U=0;U<g.length;U++){let Q=M;g[U]!==""&&(Q+="="+Ua(g[U])),c.push(Q)}}return this.i=c.join("&")};function Fy(c){const m=new qa;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function vi(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function sE(c,m){m&&!c.j&&(Rr(c),c.i=null,c.g.forEach(function(g,T){const M=T.toLowerCase();T!=M&&(Vy(this,T),Oy(this,M,g))},c)),c.j=m}function rE(c,m){const g=new Fa;if(o.Image){const T=new Image;T.onload=f(ks,g,"TestLoadImage: loaded",!0,m,T),T.onerror=f(ks,g,"TestLoadImage: error",!1,m,T),T.onabort=f(ks,g,"TestLoadImage: abort",!1,m,T),T.ontimeout=f(ks,g,"TestLoadImage: timeout",!1,m,T),o.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else m(!1)}function iE(c,m){const g=new Fa,T=new AbortController,M=setTimeout(()=>{T.abort(),ks(g,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:T.signal}).then(U=>{clearTimeout(M),U.ok?ks(g,"TestPingServer: ok",!0,m):ks(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(M),ks(g,"TestPingServer: error",!1,m)})}function ks(c,m,g,T,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),T(g)}catch{}}function aE(){this.g=new BT}function ch(c){this.i=c.Sb||null,this.h=c.ab||!1}h(ch,py),ch.prototype.g=function(){return new Yl(this.i,this.h)};function Yl(c,m){st.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(Yl,st),t=Yl.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Ka(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||o).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ga(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ka(this)),this.g&&(this.readyState=3,Ka(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Uy(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Uy(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Ga(this):Ka(this),this.readyState==3&&Uy(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,Ga(this))},t.Na=function(c){this.g&&(this.response=c,Ga(this))},t.ga=function(){this.g&&Ga(this)};function Ga(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Ka(c)}t.setRequestHeader=function(c,m){this.A.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=m.next();return c.join(`\r
`)};function Ka(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Yl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function $y(c){let m="";return q(c,function(g,T){m+=T,m+=":",m+=g,m+=`\r
`}),m}function uh(c,m,g){e:{for(T in g){var T=!1;break e}T=!0}T||(g=$y(g),typeof c=="string"?g!=null&&Ua(g):ke(c,m,g))}function Be(c){st.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(Be,st);var oE=/^https?$/i,lE=["POST","PUT"];t=Be.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,m,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():by.g(),this.g.onreadystatechange=p(d(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(U){By(this,U);return}if(c=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var M in T)g.set(M,T[M]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const U of T.keys())g.set(U,T.get(U));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(U=>U.toLowerCase()=="content-type"),M=o.FormData&&c instanceof o.FormData,!(Array.prototype.indexOf.call(lE,m,void 0)>=0)||T||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,Q]of g)this.g.setRequestHeader(U,Q);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(U){By(this,U)}};function By(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,zy(c),Jl(c)}function zy(c){c.A||(c.A=!0,ct(c,"complete"),ct(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,ct(this,"complete"),ct(this,"abort"),Jl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jl(this,!0)),Be.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Hy(this):this.Xa())},t.Xa=function(){Hy(this)};function Hy(c){if(c.h&&typeof i<"u"){if(c.v&&As(c)==4)setTimeout(c.Ca.bind(c),0);else if(ct(c,"readystatechange"),As(c)==4){c.h=!1;try{const U=c.ca();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var g;if(!(g=m)){var T;if(T=U===0){let Q=String(c.D).match(Ry)[1]||null;!Q&&o.self&&o.self.location&&(Q=o.self.location.protocol.slice(0,-1)),T=!oE.test(Q?Q.toLowerCase():"")}g=T}if(g)ct(c,"complete"),ct(c,"success");else{c.o=6;try{var M=As(c)>2?c.g.statusText:""}catch{M=""}c.l=M+" ["+c.ca()+"]",zy(c)}}finally{Jl(c)}}}}function Jl(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const g=c.g;c.g=null,m||ct(c,"ready");try{g.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function As(c){return c.g?c.g.readyState:0}t.ca=function(){try{return As(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),qe(m)}};function Wy(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function cE(c){const m={};c=(c.g&&As(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(C(c[T]))continue;var g=GT(c[T]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const U=m[M]||[];m[M]=U,U.push(g)}oe(m,function(T){return T.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qa(c,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||m}function qy(c){this.za=0,this.i=[],this.j=new Fa,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Qa("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Qa("baseRetryDelayMs",5e3,c),this.Za=Qa("retryDelaySeedMs",1e4,c),this.Ta=Qa("forwardChannelMaxRetries",2,c),this.va=Qa("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new jy(c&&c.concurrentRequestLimit),this.Ba=new aE,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=qy.prototype,t.ka=8,t.I=1,t.connect=function(c,m,g,T){Pt(0),this.W=c,this.H=m||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.J=tx(this,null,this.W),Zl(this)};function dh(c){if(Gy(c),c.I==3){var m=c.V++,g=Rn(c.J);if(ke(g,"SID",c.M),ke(g,"RID",m),ke(g,"TYPE","terminate"),Ya(c,g),m=new Is(c,c.j,m),m.M=2,m.A=Ql(Rn(g)),g=!1,o.navigator&&o.navigator.sendBeacon)try{g=o.navigator.sendBeacon(m.A.toString(),"")}catch{}!g&&o.Image&&(new Image().src=m.A,g=!0),g||(m.g=nx(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Kl(m)}ex(c)}function Xl(c){c.g&&(fh(c),c.g.cancel(),c.g=null)}function Gy(c){Xl(c),c.v&&(o.clearTimeout(c.v),c.v=null),ec(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&o.clearTimeout(c.m),c.m=null)}function Zl(c){if(!ky(c.h)&&!c.m){c.m=!0;var m=c.Ea;L||w(),F||(L(),F=!0),j.add(m,c),c.D=0}}function uE(c,m){return Ay(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Oa(d(c.Ea,c,m),Zy(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const M=new Is(this,this.j,c);let U=this.o;if(this.U&&(U?(U=B(U),lt(U,this.U)):U=this.U),this.u!==null||this.R||(M.J=U,U=null),this.S)e:{for(var m=0,g=0;g<this.i.length;g++){t:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=g;break e}if(m===4096||g===this.i.length-1){m=g+1;break e}}m=1e3}else m=1e3;m=Qy(this,M,m),g=Rn(this.J),ke(g,"RID",c),ke(g,"CVER",22),this.G&&ke(g,"X-HTTP-Session-Id",this.G),Ya(this,g),U&&(this.R?m="headers="+Ua($y(U))+"&"+m:this.u&&uh(g,this.u,U)),oh(this.h,M),this.Ra&&ke(g,"TYPE","init"),this.S?(ke(g,"$req",m),ke(g,"SID","null"),M.U=!0,sh(M,g,null)):sh(M,g,m),this.I=2}}else this.I==3&&(c?Ky(this,c):this.i.length==0||ky(this.h)||Ky(this))};function Ky(c,m){var g;m?g=m.l:g=c.V++;const T=Rn(c.J);ke(T,"SID",c.M),ke(T,"RID",g),ke(T,"AID",c.K),Ya(c,T),c.u&&c.o&&uh(T,c.u,c.o),g=new Is(c,c.j,g,c.D+1),c.u===null&&(g.J=c.o),m&&(c.i=m.G.concat(c.i)),m=Qy(c,g,1e3),g.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),oh(c.h,g),sh(g,T,m)}function Ya(c,m){c.H&&q(c.H,function(g,T){ke(m,T,g)}),c.l&&q({},function(g,T){ke(m,T,g)})}function Qy(c,m,g){g=Math.min(c.i.length,g);const T=c.l?d(c.l.Ka,c.l,c):null;e:{var M=c.i;let me=-1;for(;;){const rt=["count="+g];me==-1?g>0?(me=M[0].g,rt.push("ofs="+me)):me=0:rt.push("ofs="+me);let Se=!0;for(let ut=0;ut<g;ut++){var U=M[ut].g;const Dn=M[ut].map;if(U-=me,U<0)me=Math.max(0,M[ut].g-100),Se=!1;else try{U="req"+U+"_"||"";try{var Q=Dn instanceof Map?Dn:Object.entries(Dn);for(const[Vr,Cs]of Q){let Ps=Cs;l(Cs)&&(Ps=De(Cs)),rt.push(U+Vr+"="+encodeURIComponent(Ps))}}catch(Vr){throw rt.push(U+"type="+encodeURIComponent("_badmap")),Vr}}catch{T&&T(Dn)}}if(Se){Q=rt.join("&");break e}}Q=void 0}return c=c.i.splice(0,g),m.G=c,Q}function Yy(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;L||w(),F||(L(),F=!0),j.add(m,c),c.A=0}}function hh(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Oa(d(c.Da,c),Zy(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,Jy(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Oa(d(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Pt(10),Xl(this),Jy(this))};function fh(c){c.B!=null&&(o.clearTimeout(c.B),c.B=null)}function Jy(c){c.g=new Is(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=Rn(c.na);ke(m,"RID","rpc"),ke(m,"SID",c.M),ke(m,"AID",c.K),ke(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&ke(m,"TO",c.ia),ke(m,"TYPE","xmlhttp"),Ya(c,m),c.u&&c.o&&uh(m,c.u,c.o),c.O&&(c.g.H=c.O);var g=c.g;c=c.ba,g.M=1,g.A=Ql(Rn(m)),g.u=null,g.R=!0,Ty(g,c)}t.Va=function(){this.C!=null&&(this.C=null,Xl(this),hh(this),Pt(19))};function ec(c){c.C!=null&&(o.clearTimeout(c.C),c.C=null)}function Xy(c,m){var g=null;if(c.g==m){ec(c),fh(c),c.g=null;var T=2}else if(ah(c.h,m))g=m.G,Cy(c.h,m),T=1;else return;if(c.I!=0){if(m.o)if(T==1){g=m.u?m.u.length:0,m=Date.now()-m.F;var M=c.D;T=ql(),ct(T,new wy(T,g)),Zl(c)}else Yy(c);else if(M=m.m,M==3||M==0&&m.X>0||!(T==1&&uE(c,m)||T==2&&hh(c)))switch(g&&g.length>0&&(m=c.h,m.i=m.i.concat(g)),M){case 1:Dr(c,5);break;case 4:Dr(c,10);break;case 3:Dr(c,6);break;default:Dr(c,2)}}}function Zy(c,m){let g=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(g*=2),g*m}function Dr(c,m){if(c.j.info("Error code "+m),m==2){var g=d(c.bb,c),T=c.Ua;const M=!T;T=new js(T||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Ba(T,"https"),Ql(T),M?rE(T.toString(),g):iE(T.toString(),g)}else Pt(2);c.I=0,c.l&&c.l.pa(m),ex(c),Gy(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function ex(c){if(c.I=0,c.ja=[],c.l){const m=Py(c.h);(m.length!=0||c.i.length!=0)&&(b(c.ja,m),b(c.ja,c.i),c.h.i.length=0,y(c.i),c.i.length=0),c.l.oa()}}function tx(c,m,g){var T=g instanceof js?Rn(g):new js(g);if(T.g!="")m&&(T.g=m+"."+T.g),za(T,T.u);else{var M=o.location;T=M.protocol,m=m?m+"."+M.hostname:M.hostname,M=+M.port;const U=new js(null);T&&Ba(U,T),m&&(U.g=m),M&&za(U,M),g&&(U.h=g),T=U}return g=c.G,m=c.wa,g&&m&&ke(T,g,m),ke(T,"VER",c.ka),Ya(c,T),T}function nx(c,m,g){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Be(new ch({ab:g})):new Be(c.ma),m.Fa(c.L),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function sx(){}t=sx.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function tc(){}tc.prototype.g=function(c,m){return new Kt(c,m)};function Kt(c,m){st.call(this),this.g=new qy(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!C(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new wi(this)}h(Kt,st),Kt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Kt.prototype.close=function(){dh(this.g)},Kt.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.v&&(g={},g.__data__=De(c),c=g);m.i.push(new YT(m.Ya++,c)),m.I==3&&Zl(m)},Kt.prototype.N=function(){this.g.l=null,delete this.j,dh(this.g),delete this.g,Kt.Z.N.call(this)};function rx(c){Zd.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const g in m){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}h(rx,Zd);function ix(){eh.call(this),this.status=1}h(ix,eh);function wi(c){this.g=c}h(wi,sx),wi.prototype.ra=function(){ct(this.g,"a")},wi.prototype.qa=function(c){ct(this.g,new rx(c))},wi.prototype.pa=function(c){ct(this.g,new ix)},wi.prototype.oa=function(){ct(this.g,"b")},tc.prototype.createWebChannel=tc.prototype.g,Kt.prototype.send=Kt.prototype.o,Kt.prototype.open=Kt.prototype.m,Kt.prototype.close=Kt.prototype.close,iS=function(){return new tc},rS=function(){return ql()},sS=Cr,Pm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Gl.NO_ERROR=0,Gl.TIMEOUT=8,Gl.HTTP_ERROR=6,Qc=Gl,_y.COMPLETE="complete",nS=_y,gy.EventType=La,La.OPEN="a",La.CLOSE="b",La.ERROR="c",La.MESSAGE="d",st.prototype.listen=st.prototype.J,po=gy,Be.prototype.listenOnce=Be.prototype.K,Be.prototype.getLastError=Be.prototype.Ha,Be.prototype.getLastErrorCode=Be.prototype.ya,Be.prototype.getStatus=Be.prototype.ca,Be.prototype.getResponseJson=Be.prototype.La,Be.prototype.getResponseText=Be.prototype.la,Be.prototype.send=Be.prototype.ea,Be.prototype.setWithCredentials=Be.prototype.Fa,tS=Be}).apply(typeof Tc<"u"?Tc:typeof self<"u"?self:typeof window<"u"?window:{});const Xv="@firebase/firestore",Zv="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}It.UNAUTHENTICATED=new It(null),It.GOOGLE_CREDENTIALS=new It("google-credentials-uid"),It.FIRST_PARTY=new It("first-party-uid"),It.MOCK_USER=new It("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ia="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui=new pg("@firebase/firestore");function bi(){return ui.logLevel}function X(t,...e){if(ui.logLevel<=ge.DEBUG){const n=e.map(jg);ui.debug(`Firestore (${Ia}): ${t}`,...n)}}function ws(t,...e){if(ui.logLevel<=ge.ERROR){const n=e.map(jg);ui.error(`Firestore (${Ia}): ${t}`,...n)}}function ma(t,...e){if(ui.logLevel<=ge.WARN){const n=e.map(jg);ui.warn(`Firestore (${Ia}): ${t}`,...n)}}function jg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,aS(t,s,n)}function aS(t,e,n){let s=`FIRESTORE (${Ia}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ws(s),new Error(s)}function _e(t,e,n,s){let r="Unexpected state";typeof n=="string"?r=n:s=n,t||aS(e,r,s)}function he(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Ns{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class L3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(It.UNAUTHENTICATED))}shutdown(){}}class M3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class O3{constructor(e){this.t=e,this.currentUser=It.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_e(this.o===void 0,42304);let s=this.i;const r=u=>this.i!==s?(s=this.i,n(u)):Promise.resolve();let i=new hs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new hs,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},l=u=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new hs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(_e(typeof s.accessToken=="string",31837,{l:s}),new oS(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _e(e===null||typeof e=="string",2055,{h:e}),new It(e)}}class F3{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=It.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class U3{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new F3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(It.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ew{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){_e(this.o===void 0,3512);const s=i=>{i.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>s(i))};const r=i=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?r(i):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ew(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ew(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const r=B3(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=e.charAt(r[i]%62))}return s}}function ye(t,e){return t<e?-1:t>e?1:0}function Rm(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const r=t.charAt(s),i=e.charAt(s);if(r!==i)return lf(r)===lf(i)?ye(r,i):lf(r)?1:-1}return ye(t.length,e.length)}const z3=55296,H3=57343;function lf(t){const e=t.charCodeAt(0);return e>=z3&&e<=H3}function pa(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw="__name__";class Mn{constructor(e,n,s){n===void 0?n=0:n>e.length&&ce(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ce(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Mn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mn?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=Mn.compareSegments(e.get(r),n.get(r));if(i!==0)return i}return ye(e.length,n.length)}static compareSegments(e,n){const s=Mn.isNumericId(e),r=Mn.isNumericId(n);return s&&!r?-1:!s&&r?1:s&&r?Mn.extractNumericId(e).compare(Mn.extractNumericId(n)):Rm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cr.fromString(e.substring(4,e.length-2))}}class Ee extends Mn{construct(e,n,s){return new Ee(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Y(z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new Ee(n)}static emptyPath(){return new Ee([])}}const W3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xt extends Mn{construct(e,n,s){return new xt(e,n,s)}static isValidIdentifier(e){return W3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tw}static keyField(){return new xt([tw])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new Y(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new Y(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Y(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=u,r+=2}else l==="`"?(o=!o,r++):l!=="."||o?(s+=l,r++):(i(),r++)}if(i(),o)throw new Y(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xt(n)}static emptyPath(){return new xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie(Ee.fromString(e))}static fromName(e){return new ie(Ee.fromString(e).popFirst(5))}static empty(){return new ie(Ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ee.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new Ee(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(t,e,n){if(!n)throw new Y(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function q3(t,e,n,s){if(e===!0&&s===!0)throw new Y(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function nw(t){if(!ie.isDocumentKey(t))throw new Y(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function sw(t){if(ie.isDocumentKey(t))throw new Y(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Pd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce(12329,{type:typeof t})}function tn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pd(t);throw new Y(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ll(t,e){if(!cS(t))throw new Y(z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const r=e[s].typeString,i="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const o=t[s];if(r&&typeof o!==r){n=`JSON field '${s}' must be a ${r}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${s}' field to equal '${i.value}'`;break}}if(n)throw new Y(z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw=-62135596800,iw=1e6;class Pe{static now(){return Pe.fromMillis(Date.now())}static fromDate(e){return Pe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*iw);return new Pe(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<rw)throw new Y(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/iw}_compareTo(e){return this.seconds===e.seconds?ye(this.nanoseconds,e.nanoseconds):ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Pe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ll(e,Pe._jsonSchema))return new Pe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-rw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Pe._jsonSchemaVersion="firestore/timestamp/1.0",Pe._jsonSchema={type:tt("string",Pe._jsonSchemaVersion),seconds:tt("number"),nanoseconds:tt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{static fromTimestamp(e){return new de(e)}static min(){return new de(new Pe(0,0))}static max(){return new de(new Pe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=-1;function G3(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=de.fromTimestamp(s===1e9?new Pe(n+1,0):new Pe(n,s));return new pr(r,ie.empty(),e)}function K3(t){return new pr(t.readTime,t.key,cl)}class pr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new pr(de.min(),ie.empty(),cl)}static max(){return new pr(de.max(),ie.empty(),cl)}}function Q3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class J3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ja(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==Y3)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,s)=>{n(e)})}static reject(e){return new H((n,s)=>{s(e)})}static waitFor(e){return new H((n,s)=>{let r=0,i=0,o=!1;e.forEach(l=>{++r,l.next(()=>{++i,o&&i===r&&n()},u=>s(u))}),o=!0,i===r&&n()})}static or(e){let n=H.resolve(!1);for(const s of e)n=n.next(r=>r?H.resolve(r):s());return n}static forEach(e,n){const s=[];return e.forEach((r,i)=>{s.push(n.call(this,r,i))}),this.waitFor(s)}static mapArray(e,n){return new H((s,r)=>{const i=e.length,o=new Array(i);let l=0;for(let u=0;u<i;u++){const d=u;n(e[d]).next(f=>{o[d]=f,++l,l===i&&s(o)},f=>r(f))}})}static doWhile(e,n){return new H((s,r)=>{const i=()=>{e()===!0?n().next(()=>{i()},r):s()};i()})}}function X3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ka(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Rd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag=-1;function Dd(t){return t==null}function qu(t){return t===0&&1/t==-1/0}function Z3(t){return typeof t=="number"&&Number.isInteger(t)&&!qu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="";function eV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=aw(e)),e=tV(t.get(n),e);return aw(e)}function tV(t,e){let n=e;const s=t.length;for(let r=0;r<s;r++){const i=t.charAt(r);switch(i){case"\0":n+="";break;case uS:n+="";break;default:n+=i}}return n}function aw(t){return t+uS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Er(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e,n){this.comparator=e,this.root=n||gt.EMPTY}insert(e,n){return new $e(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gt.BLACK,null,null))}remove(e){return new $e(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ec(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ec(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ec(this.root,e,this.comparator,!0)}}class Ec{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gt{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s??gt.RED,this.left=r??gt.EMPTY,this.right=i??gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new gt(e??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return gt.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ce(27949);return e+(this.isRed()?0:1)}}gt.EMPTY=null,gt.RED=!0,gt.BLACK=!1;gt.EMPTY=new class{constructor(){this.size=0}get key(){throw ce(57766)}get value(){throw ce(16141)}get color(){throw ce(16727)}get left(){throw ce(29726)}get right(){throw ce(36894)}copy(e,n,s,r,i){return this}insert(e,n,s){return new gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.comparator=e,this.data=new $e(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new lw(this.data.getIterator())}getIteratorFrom(e){return new lw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ot(this.comparator);return n.data=e,n}}class lw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.fields=e,e.sort(xt.comparator)}static empty(){return new Zt([])}unionWith(e){let n=new ot(xt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Zt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return pa(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new hS("Invalid base64 string: "+i):i}}(e);return new _t(n)}static fromUint8Array(e){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new _t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_t.EMPTY_BYTE_STRING=new _t("");const nV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gr(t){if(_e(!!t,39018),typeof t=="string"){let e=0;const n=nV.exec(t);if(_e(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ge(t.seconds),nanos:Ge(t.nanos)}}function Ge(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function yr(t){return typeof t=="string"?_t.fromBase64String(t):_t.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS="server_timestamp",mS="__type__",pS="__previous_value__",gS="__local_write_time__";function Cg(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[mS])==null?void 0:s.stringValue)===fS}function Vd(t){const e=t.mapValue.fields[pS];return Cg(e)?Vd(e):e}function ul(t){const e=gr(t.mapValue.fields[gS].timestampValue);return new Pe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e,n,s,r,i,o,l,u,d,f){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=f}}const Gu="(default)";class dl{constructor(e,n){this.projectId=e,this.database=n||Gu}static empty(){return new dl("","")}get isDefaultDatabase(){return this.database===Gu}isEqual(e){return e instanceof dl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="__type__",rV="__max__",Ic={mapValue:{}},xS="__vector__",Ku="value";function xr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Cg(t)?4:aV(t)?9007199254740991:iV(t)?10:11:ce(28295,{value:t})}function Kn(t,e){if(t===e)return!0;const n=xr(t);if(n!==xr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ul(t).isEqual(ul(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=gr(r.timestampValue),l=gr(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return yr(r.bytesValue).isEqual(yr(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ge(r.geoPointValue.latitude)===Ge(i.geoPointValue.latitude)&&Ge(r.geoPointValue.longitude)===Ge(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ge(r.integerValue)===Ge(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=Ge(r.doubleValue),l=Ge(i.doubleValue);return o===l?qu(o)===qu(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return pa(t.arrayValue.values||[],e.arrayValue.values||[],Kn);case 10:case 11:return function(r,i){const o=r.mapValue.fields||{},l=i.mapValue.fields||{};if(ow(o)!==ow(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!Kn(o[u],l[u])))return!1;return!0}(t,e);default:return ce(52216,{left:t})}}function hl(t,e){return(t.values||[]).find(n=>Kn(n,e))!==void 0}function ga(t,e){if(t===e)return 0;const n=xr(t),s=xr(e);if(n!==s)return ye(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ye(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=Ge(i.integerValue||i.doubleValue),u=Ge(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return cw(t.timestampValue,e.timestampValue);case 4:return cw(ul(t),ul(e));case 5:return Rm(t.stringValue,e.stringValue);case 6:return function(i,o){const l=yr(i),u=yr(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),u=o.split("/");for(let d=0;d<l.length&&d<u.length;d++){const f=ye(l[d],u[d]);if(f!==0)return f}return ye(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=ye(Ge(i.latitude),Ge(o.latitude));return l!==0?l:ye(Ge(i.longitude),Ge(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return uw(t.arrayValue,e.arrayValue);case 10:return function(i,o){var p,y,b,I;const l=i.fields||{},u=o.fields||{},d=(p=l[Ku])==null?void 0:p.arrayValue,f=(y=u[Ku])==null?void 0:y.arrayValue,h=ye(((b=d==null?void 0:d.values)==null?void 0:b.length)||0,((I=f==null?void 0:f.values)==null?void 0:I.length)||0);return h!==0?h:uw(d,f)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Ic.mapValue&&o===Ic.mapValue)return 0;if(i===Ic.mapValue)return 1;if(o===Ic.mapValue)return-1;const l=i.fields||{},u=Object.keys(l),d=o.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let h=0;h<u.length&&h<f.length;++h){const p=Rm(u[h],f[h]);if(p!==0)return p;const y=ga(l[u[h]],d[f[h]]);if(y!==0)return y}return ye(u.length,f.length)}(t.mapValue,e.mapValue);default:throw ce(23264,{he:n})}}function cw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ye(t,e);const n=gr(t),s=gr(e),r=ye(n.seconds,s.seconds);return r!==0?r:ye(n.nanos,s.nanos)}function uw(t,e){const n=t.values||[],s=e.values||[];for(let r=0;r<n.length&&r<s.length;++r){const i=ga(n[r],s[r]);if(i)return i}return ye(n.length,s.length)}function ya(t){return Dm(t)}function Dm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=gr(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return yr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",r=!0;for(const i of n.values||[])r?r=!1:s+=",",s+=Dm(i);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let r="{",i=!0;for(const o of s)i?i=!1:r+=",",r+=`${o}:${Dm(n.fields[o])}`;return r+"}"}(t.mapValue):ce(61005,{value:t})}function Yc(t){switch(xr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vd(t);return e?16+Yc(e):16;case 5:return 2*t.stringValue.length;case 6:return yr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((r,i)=>r+Yc(i),0)}(t.arrayValue);case 10:case 11:return function(s){let r=0;return Er(s.fields,(i,o)=>{r+=i.length+Yc(o)}),r}(t.mapValue);default:throw ce(13486,{value:t})}}function dw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Vm(t){return!!t&&"integerValue"in t}function Pg(t){return!!t&&"arrayValue"in t}function hw(t){return!!t&&"nullValue"in t}function fw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Jc(t){return!!t&&"mapValue"in t}function iV(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[yS])==null?void 0:s.stringValue)===xS}function Lo(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Er(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Lo(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Lo(t.arrayValue.values[n]);return e}return{...t}}function aV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===rV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.value=e}static empty(){return new $t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Jc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lo(n)}setAll(e){let n=xt.emptyPath(),s={},r=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,s,r),s={},r=[],n=l.popLast()}o?s[l.lastSegment()]=Lo(o):r.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());Jc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Kn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];Jc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){Er(n,(r,i)=>e[r]=i);for(const r of s)delete e[r]}clone(){return new $t(Lo(this.value))}}function vS(t){const e=[];return Er(t.fields,(n,s)=>{const r=new xt([n]);if(Jc(s)){const i=vS(s.mapValue).fields;if(i.length===0)e.push(r);else for(const o of i)e.push(r.child(o))}else e.push(r)}),new Zt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,n,s,r,i,o,l){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new kt(e,0,de.min(),de.min(),de.min(),$t.empty(),0)}static newFoundDocument(e,n,s,r){return new kt(e,1,n,de.min(),s,r,0)}static newNoDocument(e,n){return new kt(e,2,n,de.min(),de.min(),$t.empty(),0)}static newUnknownDocument(e,n){return new kt(e,3,n,de.min(),de.min(),$t.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,n){this.position=e,this.inclusive=n}}function mw(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const i=e[r],o=t.position[r];if(i.field.isKeyField()?s=ie.comparator(ie.fromName(o.referenceValue),n.key):s=ga(o,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function pw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Kn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n="asc"){this.field=e,this.dir=n}}function oV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{}class et extends wS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new cV(e,n,s):n==="array-contains"?new hV(e,s):n==="in"?new fV(e,s):n==="not-in"?new mV(e,s):n==="array-contains-any"?new pV(e,s):new et(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new uV(e,s):new dV(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ga(n,this.value)):n!==null&&xr(this.value)===xr(n)&&this.matchesComparison(ga(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class An extends wS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new An(e,n)}matches(e){return _S(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _S(t){return t.op==="and"}function bS(t){return lV(t)&&_S(t)}function lV(t){for(const e of t.filters)if(e instanceof An)return!1;return!0}function Lm(t){if(t instanceof et)return t.field.canonicalString()+t.op.toString()+ya(t.value);if(bS(t))return t.filters.map(e=>Lm(e)).join(",");{const e=t.filters.map(n=>Lm(n)).join(",");return`${t.op}(${e})`}}function NS(t,e){return t instanceof et?function(s,r){return r instanceof et&&s.op===r.op&&s.field.isEqual(r.field)&&Kn(s.value,r.value)}(t,e):t instanceof An?function(s,r){return r instanceof An&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce((i,o,l)=>i&&NS(o,r.filters[l]),!0):!1}(t,e):void ce(19439)}function SS(t){return t instanceof et?function(n){return`${n.field.canonicalString()} ${n.op} ${ya(n.value)}`}(t):t instanceof An?function(n){return n.op.toString()+" {"+n.getFilters().map(SS).join(" ,")+"}"}(t):"Filter"}class cV extends et{constructor(e,n,s){super(e,n,s),this.key=ie.fromName(s.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class uV extends et{constructor(e,n){super(e,"in",n),this.keys=TS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class dV extends et{constructor(e,n){super(e,"not-in",n),this.keys=TS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function TS(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(s=>ie.fromName(s.referenceValue))}class hV extends et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Pg(n)&&hl(n.arrayValue,this.value)}}class fV extends et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&hl(this.value.arrayValue,n)}}class mV extends et{constructor(e,n){super(e,"not-in",n)}matches(e){if(hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!hl(this.value.arrayValue,n)}}class pV extends et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Pg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>hl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e,n=null,s=[],r=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=o,this.endAt=l,this.Te=null}}function gw(t,e=null,n=[],s=[],r=null,i=null,o=null){return new gV(t,e,n,s,r,i,o)}function Rg(t){const e=he(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Lm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(i){return i.field.canonicalString()+i.dir}(s)).join(","),Dd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>ya(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>ya(s)).join(",")),e.Te=n}return e.Te}function Dg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!oV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!NS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!pw(t.startAt,e.startAt)&&pw(t.endAt,e.endAt)}function Mm(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n=null,s=[],r=[],i=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function yV(t,e,n,s,r,i,o,l){return new Aa(t,e,n,s,r,i,o,l)}function Ld(t){return new Aa(t)}function yw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ES(t){return t.collectionGroup!==null}function Mo(t){const e=he(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new ot(xt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new fl(i,s))}),n.has(xt.keyField().canonicalString())||e.Ie.push(new fl(xt.keyField(),s))}return e.Ie}function Hn(t){const e=he(t);return e.Ee||(e.Ee=xV(e,Mo(t))),e.Ee}function xV(t,e){if(t.limitType==="F")return gw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const i=r.dir==="desc"?"asc":"desc";return new fl(r.field,i)});const n=t.endAt?new Qu(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Qu(t.startAt.position,t.startAt.inclusive):null;return gw(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Om(t,e){const n=t.filters.concat([e]);return new Aa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Fm(t,e,n){return new Aa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Md(t,e){return Dg(Hn(t),Hn(e))&&t.limitType===e.limitType}function IS(t){return`${Rg(Hn(t))}|lt:${t.limitType}`}function Ni(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(r=>SS(r)).join(", ")}]`),Dd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(r=>ya(r)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(r=>ya(r)).join(",")),`Target(${s})`}(Hn(t))}; limitType=${t.limitType})`}function Od(t,e){return e.isFoundDocument()&&function(s,r){const i=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(i):ie.isDocumentKey(s.path)?s.path.isEqual(i):s.path.isImmediateParentOf(i)}(t,e)&&function(s,r){for(const i of Mo(s))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(s,r){for(const i of s.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(s,r){return!(s.startAt&&!function(o,l,u){const d=mw(o,l,u);return o.inclusive?d<=0:d<0}(s.startAt,Mo(s),r)||s.endAt&&!function(o,l,u){const d=mw(o,l,u);return o.inclusive?d>=0:d>0}(s.endAt,Mo(s),r))}(t,e)}function vV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function jS(t){return(e,n)=>{let s=!1;for(const r of Mo(t)){const i=wV(r,e,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function wV(t,e,n){const s=t.field.isKeyField()?ie.comparator(e.key,n.key):function(i,o,l){const u=o.data.field(i),d=l.data.field(i);return u!==null&&d!==null?ga(u,d):ce(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return ce(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Er(this.inner,(n,s)=>{for(const[r,i]of s)e(r,i)})}isEmpty(){return dS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V=new $e(ie.comparator);function _s(){return _V}const kS=new $e(ie.comparator);function go(...t){let e=kS;for(const n of t)e=e.insert(n.key,n);return e}function AS(t){let e=kS;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Kr(){return Oo()}function CS(){return Oo()}function Oo(){return new gi(t=>t.toString(),(t,e)=>t.isEqual(e))}const bV=new $e(ie.comparator),NV=new ot(ie.comparator);function xe(...t){let e=NV;for(const n of t)e=e.add(n);return e}const SV=new ot(ye);function TV(){return SV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qu(e)?"-0":e}}function PS(t){return{integerValue:""+t}}function EV(t,e){return Z3(e)?PS(e):Vg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(){this._=void 0}}function IV(t,e,n){return t instanceof ml?function(r,i){const o={fields:{[mS]:{stringValue:fS},[gS]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Cg(i)&&(i=Vd(i)),i&&(o.fields[pS]=i),{mapValue:o}}(n,e):t instanceof pl?DS(t,e):t instanceof gl?VS(t,e):function(r,i){const o=RS(r,i),l=xw(o)+xw(r.Ae);return Vm(o)&&Vm(r.Ae)?PS(l):Vg(r.serializer,l)}(t,e)}function jV(t,e,n){return t instanceof pl?DS(t,e):t instanceof gl?VS(t,e):n}function RS(t,e){return t instanceof Yu?function(s){return Vm(s)||function(i){return!!i&&"doubleValue"in i}(s)}(e)?e:{integerValue:0}:null}class ml extends Fd{}class pl extends Fd{constructor(e){super(),this.elements=e}}function DS(t,e){const n=LS(e);for(const s of t.elements)n.some(r=>Kn(r,s))||n.push(s);return{arrayValue:{values:n}}}class gl extends Fd{constructor(e){super(),this.elements=e}}function VS(t,e){let n=LS(e);for(const s of t.elements)n=n.filter(r=>!Kn(r,s));return{arrayValue:{values:n}}}class Yu extends Fd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function xw(t){return Ge(t.integerValue||t.doubleValue)}function LS(t){return Pg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e,n){this.field=e,this.transform=n}}function AV(t,e){return t.field.isEqual(e.field)&&function(s,r){return s instanceof pl&&r instanceof pl||s instanceof gl&&r instanceof gl?pa(s.elements,r.elements,Kn):s instanceof Yu&&r instanceof Yu?Kn(s.Ae,r.Ae):s instanceof ml&&r instanceof ml}(t.transform,e.transform)}class CV{constructor(e,n){this.version=e,this.transformResults=n}}class jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new jn}static exists(e){return new jn(void 0,e)}static updateTime(e){return new jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ud{}function MS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new FS(t.key,jn.none()):new Ml(t.key,t.data,jn.none());{const n=t.data,s=$t.empty();let r=new ot(xt.comparator);for(let i of e.fields)if(!r.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?s.delete(i):s.set(i,o),r=r.add(i)}return new Ir(t.key,s,new Zt(r.toArray()),jn.none())}}function PV(t,e,n){t instanceof Ml?function(r,i,o){const l=r.value.clone(),u=ww(r.fieldTransforms,i,o.transformResults);l.setAll(u),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Ir?function(r,i,o){if(!Xc(r.precondition,i))return void i.convertToUnknownDocument(o.version);const l=ww(r.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(OS(r)),u.setAll(l),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Fo(t,e,n,s){return t instanceof Ml?function(i,o,l,u){if(!Xc(i.precondition,o))return l;const d=i.value.clone(),f=_w(i.fieldTransforms,u,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,s):t instanceof Ir?function(i,o,l,u){if(!Xc(i.precondition,o))return l;const d=_w(i.fieldTransforms,u,o),f=o.data;return f.setAll(OS(i)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,s):function(i,o,l){return Xc(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function RV(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),i=RS(s.transform,r||null);i!=null&&(n===null&&(n=$t.empty()),n.set(s.field,i))}return n||null}function vw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&pa(s,r,(i,o)=>AV(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ml extends Ud{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ir extends Ud{constructor(e,n,s,r,i=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function OS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function ww(t,e,n){const s=new Map;_e(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let r=0;r<n.length;r++){const i=t[r],o=i.transform,l=e.data.field(i.field);s.set(i.field,jV(o,l,n[r]))}return s}function _w(t,e,n){const s=new Map;for(const r of t){const i=r.transform,o=n.data.field(r.field);s.set(r.field,IV(i,o,e))}return s}class FS extends Ud{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DV extends Ud{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&PV(i,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Fo(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Fo(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=CS();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(r.key)?null:l;const u=MS(o,l);u!==null&&s.set(r.key,u),o.isValidDocument()||o.convertToNoDocument(de.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xe())}isEqual(e){return this.batchId===e.batchId&&pa(this.mutations,e.mutations,(n,s)=>vw(n,s))&&pa(this.baseMutations,e.baseMutations,(n,s)=>vw(n,s))}}class Lg{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){_e(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let r=function(){return bV}();const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,s[o].version);return new Lg(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye,ve;function OV(t){switch(t){case z.OK:return ce(64938);case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return ce(15467,{code:t})}}function US(t){if(t===void 0)return ws("GRPC error has no .code"),z.UNKNOWN;switch(t){case Ye.OK:return z.OK;case Ye.CANCELLED:return z.CANCELLED;case Ye.UNKNOWN:return z.UNKNOWN;case Ye.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case Ye.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case Ye.INTERNAL:return z.INTERNAL;case Ye.UNAVAILABLE:return z.UNAVAILABLE;case Ye.UNAUTHENTICATED:return z.UNAUTHENTICATED;case Ye.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case Ye.NOT_FOUND:return z.NOT_FOUND;case Ye.ALREADY_EXISTS:return z.ALREADY_EXISTS;case Ye.PERMISSION_DENIED:return z.PERMISSION_DENIED;case Ye.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case Ye.ABORTED:return z.ABORTED;case Ye.OUT_OF_RANGE:return z.OUT_OF_RANGE;case Ye.UNIMPLEMENTED:return z.UNIMPLEMENTED;case Ye.DATA_LOSS:return z.DATA_LOSS;default:return ce(39323,{code:t})}}(ve=Ye||(Ye={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV=new cr([4294967295,4294967295],0);function bw(t){const e=FV().encode(t),n=new eS;return n.update(e),new Uint8Array(n.digest())}function Nw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new cr([n,s],0),new cr([r,i],0)]}class Mg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new yo(`Invalid padding: ${n}`);if(s<0)throw new yo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new yo(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new yo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=cr.fromNumber(this.ge)}ye(e,n,s){let r=e.add(n.multiply(cr.fromNumber(s)));return r.compare(UV)===1&&(r=new cr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=bw(e),[s,r]=Nw(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(s,r,i);if(!this.we(o))return!1}return!0}static create(e,n,s){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Mg(i,r,n);return s.forEach(l=>o.insert(l)),o}insert(e){if(this.ge===0)return;const n=bw(e),[s,r]=Nw(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(s,r,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class yo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n,s,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,Ol.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new $d(de.min(),r,new $e(ye),_s(),xe())}}class Ol{constructor(e,n,s,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ol(s,n,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,n,s,r){this.be=e,this.removedTargetIds=n,this.key=s,this.De=r}}class $S{constructor(e,n){this.targetId=e,this.Ce=n}}class BS{constructor(e,n,s=_t.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class Sw{constructor(){this.ve=0,this.Fe=Tw(),this.Me=_t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=xe(),n=xe(),s=xe();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:ce(38017,{changeType:i})}}),new Ol(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Tw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,_e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class $V{constructor(e){this.Ge=e,this.ze=new Map,this.je=_s(),this.Je=jc(),this.He=jc(),this.Ye=new $e(ye)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ce(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,r)=>{this.rt(r)&&n(r)})}st(e){const n=e.targetId,s=e.Ce.count,r=this.ot(n);if(r){const i=r.target;if(Mm(i))if(s===0){const o=new ie(i.path);this.et(n,o,kt.newNoDocument(o,de.min()))}else _e(s===1,20013,{expectedCount:s});else{const o=this._t(n);if(o!==s){const l=this.ut(e),u=l?this.ct(l,e,o):1;if(u!==0){this.it(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:r=0},hashCount:i=0}=n;let o,l;try{o=yr(s).toUint8Array()}catch(u){if(u instanceof hS)return ma("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Mg(o,r,i)}catch(u){return ma(u instanceof yo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let r=0;return s.forEach(i=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(n,i,null),r++)}),r}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const l=this.ot(o);if(l){if(i.current&&Mm(l.target)){const u=new ie(l.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,kt.newNoDocument(u,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let s=xe();this.He.forEach((i,o)=>{let l=!0;o.forEachWhile(u=>{const d=this.ot(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(s=s.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const r=new $d(e,n,this.Ye,this.je,s);return this.je=_s(),this.Je=jc(),this.He=jc(),this.Ye=new $e(ye),r}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.Qe(n,1):r.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Sw,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ot(ye),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ot(ye),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Sw),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function jc(){return new $e(ie.comparator)}function Tw(){return new $e(ie.comparator)}const BV={asc:"ASCENDING",desc:"DESCENDING"},zV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HV={and:"AND",or:"OR"};class WV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Um(t,e){return t.useProto3Json||Dd(e)?e:{value:e}}function Ju(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function qV(t,e){return Ju(t,e.toTimestamp())}function Wn(t){return _e(!!t,49232),de.fromTimestamp(function(n){const s=gr(n);return new Pe(s.seconds,s.nanos)}(t))}function Og(t,e){return $m(t,e).canonicalString()}function $m(t,e){const n=function(r){return new Ee(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function HS(t){const e=Ee.fromString(t);return _e(QS(e),10190,{key:e.toString()}),e}function Bm(t,e){return Og(t.databaseId,e.path)}function cf(t,e){const n=HS(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(qS(n))}function WS(t,e){return Og(t.databaseId,e)}function GV(t){const e=HS(t);return e.length===4?Ee.emptyPath():qS(e)}function zm(t){return new Ee(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qS(t){return _e(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Ew(t,e,n){return{name:Bm(t,e),fields:n.value.mapValue.fields}}function KV(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ce(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=function(d,f){return d.useProto3Json?(_e(f===void 0||typeof f=="string",58123),_t.fromBase64String(f||"")):(_e(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),_t.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(d){const f=d.code===void 0?z.UNKNOWN:US(d.code);return new Y(f,d.message||"")}(o);n=new BS(s,r,i,l||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=cf(t,s.document.name),i=Wn(s.document.updateTime),o=s.document.createTime?Wn(s.document.createTime):de.min(),l=new $t({mapValue:{fields:s.document.fields}}),u=kt.newFoundDocument(r,i,o,l),d=s.targetIds||[],f=s.removedTargetIds||[];n=new Zc(d,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=cf(t,s.document),i=s.readTime?Wn(s.readTime):de.min(),o=kt.newNoDocument(r,i),l=s.removedTargetIds||[];n=new Zc([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=cf(t,s.document),i=s.removedTargetIds||[];n=new Zc([],i,r,null)}else{if(!("filter"in e))return ce(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:i}=s,o=new MV(r,i),l=s.targetId;n=new $S(l,o)}}return n}function QV(t,e){let n;if(e instanceof Ml)n={update:Ew(t,e.key,e.value)};else if(e instanceof FS)n={delete:Bm(t,e.key)};else if(e instanceof Ir)n={update:Ew(t,e.key,e.data),updateMask:rL(e.fieldMask)};else{if(!(e instanceof DV))return ce(16599,{Vt:e.type});n={verify:Bm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(i,o){const l=o.transform;if(l instanceof ml)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof pl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof gl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Yu)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw ce(20930,{transform:o.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:qV(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ce(27497)}(t,e.precondition)),n}function YV(t,e){return t&&t.length>0?(_e(e!==void 0,14353),t.map(n=>function(r,i){let o=r.updateTime?Wn(r.updateTime):Wn(i);return o.isEqual(de.min())&&(o=Wn(i)),new CV(o,r.transformResults||[])}(n,e))):[]}function JV(t,e){return{documents:[WS(t,e.path)]}}function XV(t,e){const n={structuredQuery:{}},s=e.path;let r;e.collectionGroup!==null?(r=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=WS(t,r);const i=function(d){if(d.length!==0)return KS(An.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(f=>function(p){return{field:Si(p.field),direction:tL(p.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Um(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:r}}function ZV(t){let e=GV(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){_e(s===1,65062);const f=n.from[0];f.allDescendants?r=f.collectionId:e=e.child(f.collectionId)}let i=[];n.where&&(i=function(h){const p=GS(h);return p instanceof An&&bS(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(b){return new fl(Ti(b.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(h){let p;return p=typeof h=="object"?h.value:h,Dd(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(h){const p=!!h.before,y=h.values||[];return new Qu(y,p)}(n.startAt));let d=null;return n.endAt&&(d=function(h){const p=!h.before,y=h.values||[];return new Qu(y,p)}(n.endAt)),yV(e,r,o,i,l,"F",u,d)}function eL(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function GS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ti(n.unaryFilter.field);return et.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=Ti(n.unaryFilter.field);return et.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ti(n.unaryFilter.field);return et.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ti(n.unaryFilter.field);return et.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ce(61313);default:return ce(60726)}}(t):t.fieldFilter!==void 0?function(n){return et.create(Ti(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ce(58110);default:return ce(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return An.create(n.compositeFilter.filters.map(s=>GS(s)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ce(1026)}}(n.compositeFilter.op))}(t):ce(30097,{filter:t})}function tL(t){return BV[t]}function nL(t){return zV[t]}function sL(t){return HV[t]}function Si(t){return{fieldPath:t.canonicalString()}}function Ti(t){return xt.fromServerFormat(t.fieldPath)}function KS(t){return t instanceof et?function(n){if(n.op==="=="){if(fw(n.value))return{unaryFilter:{field:Si(n.field),op:"IS_NAN"}};if(hw(n.value))return{unaryFilter:{field:Si(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(fw(n.value))return{unaryFilter:{field:Si(n.field),op:"IS_NOT_NAN"}};if(hw(n.value))return{unaryFilter:{field:Si(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Si(n.field),op:nL(n.op),value:n.value}}}(t):t instanceof An?function(n){const s=n.getFilters().map(r=>KS(r));return s.length===1?s[0]:{compositeFilter:{op:sL(n.op),filters:s}}}(t):ce(54877,{filter:t})}function rL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function QS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n,s,r,i=de.min(),o=de.min(),l=_t.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Gs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e){this.yt=e}}function aL(t){const e=ZV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Fm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(){this.Cn=new lL}addToCollectionParentIndex(e,n){return this.Cn.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(pr.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(pr.min())}updateCollectionGroup(e,n,s){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class lL{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new ot(Ee.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new ot(Ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},YS=41943040;class Ft{static withCacheSize(e){return new Ft(e,Ft.DEFAULT_COLLECTION_PERCENTILE,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ft.DEFAULT_COLLECTION_PERCENTILE=10,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ft.DEFAULT=new Ft(YS,Ft.DEFAULT_COLLECTION_PERCENTILE,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ft.DISABLED=new Ft(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new xa(0)}static cr(){return new xa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="LruGarbageCollector",cL=1048576;function kw([t,e],[n,s]){const r=ye(t,n);return r===0?ye(e,s):r}class uL{constructor(e){this.Ir=e,this.buffer=new ot(kw),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();kw(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class dL{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){X(jw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ka(n)?X(jw,"Ignoring IndexedDB error during garbage collection: ",n):await ja(n)}await this.Vr(3e5)})}}class hL{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return H.resolve(Rd.ce);const s=new uL(n);return this.mr.forEachTarget(e,r=>s.Ar(r.sequenceNumber)).next(()=>this.mr.pr(e,r=>s.Ar(r))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(Iw)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Iw):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,r,i,o,l,u,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),r=this.params.maximumSequenceNumbersToCollect):r=h,o=Date.now(),this.nthSequenceNumber(e,r))).next(h=>(s=h,l=Date.now(),this.removeTargets(e,s,n))).next(h=>(i=h,u=Date.now(),this.removeOrphanedDocuments(e,s))).next(h=>(d=Date.now(),bi()<=ge.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${r} in `+(l-o)+`ms
	Removed ${i} targets in `+(u-l)+`ms
	Removed ${h} documents in `+(d-u)+`ms
Total Duration: ${d-f}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:h})))}}function fL(t,e){return new hL(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(){this.changes=new gi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,kt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?H.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(s=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(s!==null&&Fo(s.mutation,r,Zt.empty(),Pe.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,xe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=xe()){const r=Kr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,s).next(i=>{let o=go();return i.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=Kr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,xe()))}populateOverlays(e,n,s){const r=[];return s.forEach(i=>{n.has(i)||r.push(i)}),this.documentOverlayCache.getOverlays(e,r).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,s,r){let i=_s();const o=Oo(),l=function(){return Oo()}();return n.forEach((u,d)=>{const f=s.get(d.key);r.has(d.key)&&(f===void 0||f.mutation instanceof Ir)?i=i.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),Fo(f.mutation,d,f.mutation.getFieldMask(),Pe.now())):o.set(d.key,Zt.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((d,f)=>o.set(d,f)),n.forEach((d,f)=>l.set(d,new pL(f,o.get(d)??null))),l))}recalculateAndSaveOverlays(e,n){const s=Oo();let r=new $e((o,l)=>o-l),i=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const d=n.get(u);if(d===null)return;let f=s.get(u)||Zt.empty();f=l.applyToLocalView(d,f),s.set(u,f);const h=(r.get(l.batchId)||xe()).add(u);r=r.insert(l.batchId,h)})}).next(()=>{const o=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),d=u.key,f=u.value,h=CS();f.forEach(p=>{if(!i.has(p)){const y=MS(n.get(p),s.get(p));y!==null&&h.set(p,y),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,h))}return H.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,r){return function(o){return ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ES(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,r):this.getDocumentsMatchingCollectionQuery(e,n,s,r)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-i.size):H.resolve(Kr());let l=cl,u=i;return o.next(d=>H.forEach(d,(f,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),i.get(f)?H.resolve():this.remoteDocumentCache.getEntry(e,f).next(p=>{u=u.insert(f,p)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,u,d,xe())).next(f=>({batchId:l,changes:AS(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(s=>{let r=go();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,s,r){const i=n.collectionGroup;let o=go();return this.indexManager.getCollectionParents(e,i).next(l=>H.forEach(l,u=>{const d=function(h,p){return new Aa(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,s,r).next(f=>{f.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,s,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,i,r))).next(o=>{i.forEach((u,d)=>{const f=d.getKey();o.get(f)===null&&(o=o.insert(f,kt.newInvalidDocument(f)))});let l=go();return o.forEach((u,d)=>{const f=i.get(u);f!==void 0&&Fo(f.mutation,d,Zt.empty(),Pe.now()),Od(n,d)&&(l=l.insert(u,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return H.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Wn(r.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(r){return{name:r.name,query:aL(r.bundledQuery),readTime:Wn(r.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(){this.overlays=new $e(ie.comparator),this.qr=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Kr();return H.forEach(n,r=>this.getOverlay(e,r).next(i=>{i!==null&&s.set(r,i)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((r,i)=>{this.St(e,n,i)}),H.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.qr.get(s);return r!==void 0&&(r.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(s)),H.resolve()}getOverlaysForCollection(e,n,s){const r=Kr(),i=n.length+1,o=new ie(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&u.largestBatchId>s&&r.set(u.getKey(),u)}return H.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let i=new $e((d,f)=>d-f);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>s){let f=i.get(d.largestBatchId);f===null&&(f=Kr(),i=i.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const l=Kr(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,f)=>l.set(d,f)),!(l.size()>=r)););return H.resolve(l)}St(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const o=this.qr.get(r.largestBatchId).delete(s.key);this.qr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new LV(n,s));let i=this.qr.get(n);i===void 0&&(i=xe(),this.qr.set(n,i)),this.qr.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(){this.sessionToken=_t.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(){this.Qr=new ot(dt.$r),this.Ur=new ot(dt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new dt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new dt(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new ie(new Ee([])),s=new dt(n,e),r=new dt(n,e+1),i=[];return this.Ur.forEachInRange([s,r],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ie(new Ee([])),s=new dt(n,e),r=new dt(n,e+1);let i=xe();return this.Ur.forEachInRange([s,r],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new dt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class dt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ie.comparator(e.key,n.key)||ye(e.Yr,n.Yr)}static Kr(e,n){return ye(e.Yr,n.Yr)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ot(dt.$r)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new VV(i,n,s,r);this.mutationQueue.push(o);for(const l of r)this.Zr=this.Zr.add(new dt(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.ei(s),i=r<0?0:r;return H.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?Ag:this.tr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new dt(n,0),r=new dt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([s,r],o=>{const l=this.Xr(o.Yr);i.push(l)}),H.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new ot(ye);return n.forEach(r=>{const i=new dt(r,0),o=new dt(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],l=>{s=s.add(l.Yr)})}),H.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let i=s;ie.isDocumentKey(i)||(i=i.child(""));const o=new dt(new ie(i),0);let l=new ot(ye);return this.Zr.forEachWhile(u=>{const d=u.key.path;return!!s.isPrefixOf(d)&&(d.length===r&&(l=l.add(u.Yr)),!0)},o),H.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(s=>{const r=this.Xr(s);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){_e(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return H.forEach(n.mutations,r=>{const i=new dt(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new dt(n,0),r=this.Zr.firstAfterOrEqual(s);return H.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e){this.ri=e,this.docs=function(){return new $e(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,o=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return H.resolve(s?s.document.mutableCopy():kt.newInvalidDocument(n))}getEntries(e,n){let s=_s();return n.forEach(r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():kt.newInvalidDocument(r))}),H.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let i=_s();const o=n.path,l=new ie(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:d,value:{document:f}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||Q3(K3(f),s)<=0||(r.has(f.key)||Od(n,f))&&(i=i.insert(f.key,f.mutableCopy()))}return H.resolve(i)}getAllFromCollectionGroup(e,n,s,r){ce(9500)}ii(e,n){return H.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new bL(this)}getSize(e){return H.resolve(this.size)}}class bL extends mL{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(s)}),H.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e){this.persistence=e,this.si=new gi(n=>Rg(n),Dg),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.oi=0,this._i=new Fg,this.targetCount=0,this.ai=xa.ur()}forEachTarget(e,n){return this.si.forEach((s,r)=>n(r)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),H.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new xa(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Pr(n),H.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,s){let r=0;const i=[];return this.si.forEach((o,l)=>{l.sequenceNumber<=n&&s.get(l.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),H.waitFor(i).next(()=>r)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return H.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),H.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach(o=>{i.push(r.markPotentiallyOrphaned(e,o))}),H.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return H.resolve(s)}containsKey(e,n){return H.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,n){this.ui={},this.overlays={},this.ci=new Rd(0),this.li=!1,this.li=!0,this.hi=new vL,this.referenceDelegate=e(this),this.Pi=new NL(this),this.indexManager=new oL,this.remoteDocumentCache=function(r){return new _L(r)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new iL(n),this.Ii=new yL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new wL(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){X("MemoryPersistence","Starting transaction:",e);const r=new SL(this.ci.next());return this.referenceDelegate.Ei(),s(r).next(i=>this.referenceDelegate.di(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}Ai(e,n){return H.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class SL extends J3{constructor(e){super(),this.currentSequenceNumber=e}}class Ug{constructor(e){this.persistence=e,this.Ri=new Fg,this.Vi=null}static mi(e){return new Ug(e)}get fi(){if(this.Vi)return this.Vi;throw ce(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),H.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),H.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(r=>this.fi.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(i=>this.fi.add(i.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.fi,s=>{const r=ie.fromPath(s);return this.gi(e,r).next(i=>{i||n.removeEntry(r,de.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return H.or([()=>H.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Xu{constructor(e,n){this.persistence=e,this.pi=new gi(s=>eV(s.path),(s,r)=>s.isEqual(r)),this.garbageCollector=fL(this,n)}static mi(e,n){return new Xu(e,n)}Ei(){}di(e){return H.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(r=>s+r))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return H.forEach(this.pi,(s,r)=>this.br(e,s,r).next(i=>i?H.resolve():n(r)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,o=>this.br(e,o,n).next(l=>{l||(s++,i.removeEntry(o,de.min()))})).next(()=>i.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),H.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),H.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),H.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Yc(e.data.value)),n}br(e,n,s){return H.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.pi.get(n);return H.resolve(r!==void 0&&r>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=r}static As(e,n){let s=xe(),r=xe();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new $g(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return YR()?8:X3(Ct())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,r){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,r,s).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new TL;return this.Ss(e,n,o).next(l=>{if(i.result=l,this.Vs)return this.bs(e,n,o,l.size)})}).next(()=>i.result)}bs(e,n,s,r){return s.documentReadCount<this.fs?(bi()<=ge.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",Ni(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),H.resolve()):(bi()<=ge.DEBUG&&X("QueryEngine","Query:",Ni(n),"scans",s.documentReadCount,"local documents and returns",r,"documents as results."),s.documentReadCount>this.gs*r?(bi()<=ge.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",Ni(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hn(n))):H.resolve())}ys(e,n){if(yw(n))return H.resolve(null);let s=Hn(n);return this.indexManager.getIndexType(e,s).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Fm(n,null,"F"),s=Hn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(i=>{const o=xe(...i);return this.ps.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,s).next(u=>{const d=this.Ds(n,l);return this.Cs(n,d,o,u.readTime)?this.ys(e,Fm(n,null,"F")):this.vs(e,d,n,u)}))})))}ws(e,n,s,r){return yw(n)||r.isEqual(de.min())?H.resolve(null):this.ps.getDocuments(e,s).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,s,r)?H.resolve(null):(bi()<=ge.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ni(n)),this.vs(e,o,n,G3(r,cl)).next(l=>l))})}Ds(e,n){let s=new ot(jS(e));return n.forEach((r,i)=>{Od(e,i)&&(s=s.add(i))}),s}Cs(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,n,s){return bi()<=ge.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",Ni(n)),this.ps.getDocumentsMatchingQuery(e,n,pr.min(),s)}vs(e,n,s,r){return this.ps.getDocumentsMatchingQuery(e,s,r).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg="LocalStore",IL=3e8;class jL{constructor(e,n,s,r){this.persistence=e,this.Fs=n,this.serializer=r,this.Ms=new $e(ye),this.xs=new gi(i=>Rg(i),Dg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function kL(t,e,n,s){return new jL(t,e,n,s)}async function XS(t,e){const n=he(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(i=>(r=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(i=>{const o=[],l=[];let u=xe();for(const d of r){o.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}for(const d of i){l.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(s,u).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:l}))})})}function AL(t,e){const n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const r=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,u,d,f){const h=d.batch,p=h.keys();let y=H.resolve();return p.forEach(b=>{y=y.next(()=>f.getEntry(u,b)).next(I=>{const A=d.docVersions.get(b);_e(A!==null,48541),I.version.compareTo(A)<0&&(h.applyToRemoteDocument(I,d),I.isValidDocument()&&(I.setReadTime(d.commitVersion),f.addEntry(I)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(u,h))}(n,s,e,i).next(()=>i.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(l){let u=xe();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(u=u.add(l.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(s,r))})}function ZS(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function CL(t,e){const n=he(t),s=e.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const l=[];e.targetChanges.forEach((f,h)=>{const p=r.get(h);if(!p)return;l.push(n.Pi.removeMatchingKeys(i,f.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(i,f.addedDocuments,h)));let y=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?y=y.withResumeToken(_t.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,s)),r=r.insert(h,y),function(I,A,E){return I.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=IL?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(p,y,f)&&l.push(n.Pi.updateTargetData(i,y))});let u=_s(),d=xe();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,f))}),l.push(PL(i,o,e.documentUpdates).next(f=>{u=f.ks,d=f.qs})),!s.isEqual(de.min())){const f=n.Pi.getLastRemoteSnapshotVersion(i).next(h=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,s));l.push(f)}return H.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,d)).next(()=>u)}).then(i=>(n.Ms=r,i))}function PL(t,e,n){let s=xe(),r=xe();return n.forEach(i=>s=s.add(i)),e.getEntries(t,s).next(i=>{let o=_s();return n.forEach((l,u)=>{const d=i.get(l);u.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual(de.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):X(Bg,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",u.version)}),{ks:o,qs:r}})}function RL(t,e){const n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Ag),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function DL(t,e){const n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.Pi.getTargetData(s,e).next(i=>i?(r=i,H.resolve(r)):n.Pi.allocateTargetId(s).next(o=>(r=new Gs(e,o,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.Ms.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function Hm(t,e,n){const s=he(t),r=s.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,o=>s.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!ka(o))throw o;X(Bg,`Failed to update sequence numbers for target ${e}: ${o}`)}s.Ms=s.Ms.remove(e),s.xs.delete(r.target)}function Aw(t,e,n){const s=he(t);let r=de.min(),i=xe();return s.persistence.runTransaction("Execute query","readwrite",o=>function(u,d,f){const h=he(u),p=h.xs.get(f);return p!==void 0?H.resolve(h.Ms.get(p)):h.Pi.getTargetData(d,f)}(s,o,Hn(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(o,l.targetId).next(u=>{i=u})}).next(()=>s.Fs.getDocumentsMatchingQuery(o,e,n?r:de.min(),n?i:xe())).next(l=>(VL(s,vV(e),l),{documents:l,Qs:i})))}function VL(t,e,n){let s=t.Os.get(e)||de.min();n.forEach((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)}),t.Os.set(e,s)}class Cw{constructor(){this.activeTargetIds=TV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LL{constructor(){this.Mo=new Cw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Cw,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="ConnectivityMonitor";class Rw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){X(Pw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){X(Pw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kc=null;function Wm(){return kc===null?kc=function(){return 268435456+Math.round(2147483648*Math.random())}():kc++,"0x"+kc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf="RestConnection",OL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class FL{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${r}`,this.Wo=this.databaseId.database===Gu?`project_id=${s}`:`project_id=${s}&database_id=${r}`}Go(e,n,s,r,i){const o=Wm(),l=this.zo(e,n.toUriEncodedString());X(uf,`Sending RPC '${e}' ${o}:`,l,s);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,r,i);const{host:d}=new URL(l),f=Sa(d);return this.Jo(e,l,u,s,f).then(h=>(X(uf,`Received RPC '${e}' ${o}: `,h),h),h=>{throw ma(uf,`RPC '${e}' ${o} failed with error: `,h,"url: ",l,"request:",s),h})}Ho(e,n,s,r,i,o){return this.Go(e,n,s,r,i)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ia}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>e[i]=r),s&&s.headers.forEach((r,i)=>e[i]=r)}zo(e,n){const s=OL[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const St="WebChannelConnection";class $L extends FL{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,r,i){const o=Wm();return new Promise((l,u)=>{const d=new tS;d.setWithCredentials(!0),d.listenOnce(nS.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Qc.NO_ERROR:const h=d.getResponseJson();X(St,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),l(h);break;case Qc.TIMEOUT:X(St,`RPC '${e}' ${o} timed out`),u(new Y(z.DEADLINE_EXCEEDED,"Request time out"));break;case Qc.HTTP_ERROR:const p=d.getStatus();if(X(St,`RPC '${e}' ${o} failed with status:`,p,"response text:",d.getResponseText()),p>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const b=y==null?void 0:y.error;if(b&&b.status&&b.message){const I=function(E){const x=E.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(x)>=0?x:z.UNKNOWN}(b.status);u(new Y(I,b.message))}else u(new Y(z.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new Y(z.UNAVAILABLE,"Connection failed."));break;default:ce(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{X(St,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(r);X(St,`RPC '${e}' ${o} sending request:`,r),d.send(n,"POST",f,s,15)})}T_(e,n,s){const r=Wm(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=iS(),l=rS(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,s),u.encodeInitMessageHeaders=!0;const f=i.join("");X(St,`Creating RPC '${e}' stream ${r}: ${f}`,u);const h=o.createWebChannel(f,u);this.I_(h);let p=!1,y=!1;const b=new UL({Yo:A=>{y?X(St,`Not sending because RPC '${e}' stream ${r} is closed:`,A):(p||(X(St,`Opening RPC '${e}' stream ${r} transport.`),h.open(),p=!0),X(St,`RPC '${e}' stream ${r} sending:`,A),h.send(A))},Zo:()=>h.close()}),I=(A,E,x)=>{A.listen(E,_=>{try{x(_)}catch(V){setTimeout(()=>{throw V},0)}})};return I(h,po.EventType.OPEN,()=>{y||(X(St,`RPC '${e}' stream ${r} transport opened.`),b.o_())}),I(h,po.EventType.CLOSE,()=>{y||(y=!0,X(St,`RPC '${e}' stream ${r} transport closed`),b.a_(),this.E_(h))}),I(h,po.EventType.ERROR,A=>{y||(y=!0,ma(St,`RPC '${e}' stream ${r} transport errored. Name:`,A.name,"Message:",A.message),b.a_(new Y(z.UNAVAILABLE,"The operation could not be completed")))}),I(h,po.EventType.MESSAGE,A=>{var E;if(!y){const x=A.data[0];_e(!!x,16349);const _=x,V=(_==null?void 0:_.error)||((E=_[0])==null?void 0:E.error);if(V){X(St,`RPC '${e}' stream ${r} received error:`,V);const L=V.status;let F=function(N){const S=Ye[N];if(S!==void 0)return US(S)}(L),j=V.message;F===void 0&&(F=z.INTERNAL,j="Unknown error status: "+L+" with message "+V.message),y=!0,b.a_(new Y(F,j)),h.close()}else X(St,`RPC '${e}' stream ${r} received:`,x),b.u_(x)}}),I(l,sS.STAT_EVENT,A=>{A.stat===Pm.PROXY?X(St,`RPC '${e}' stream ${r} detected buffering proxy`):A.stat===Pm.NOPROXY&&X(St,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{b.__()},0),b}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function df(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(t){return new WV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e,n,s=1e3,r=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-s);r>0&&X("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="PersistentStream";class tT{constructor(e,n,s,r,i,o,l,u){this.Mi=e,this.S_=s,this.b_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new eT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(ws(n.toString()),ws("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.D_===n&&this.G_(s,r)},s=>{e(()=>{const r=new Y(z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(r)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(r=>{s(()=>this.z_(r))}),this.stream.onMessage(r=>{s(()=>++this.F_==1?this.J_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return X(Dw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(X(Dw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BL extends tT{constructor(e,n,s,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=KV(this.serializer,e),s=function(i){if(!("targetChange"in i))return de.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?de.min():o.readTime?Wn(o.readTime):de.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=zm(this.serializer),n.addTarget=function(i,o){let l;const u=o.target;if(l=Mm(u)?{documents:JV(i,u)}:{query:XV(i,u).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=zS(i,o.resumeToken);const d=Um(i,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(de.min())>0){l.readTime=Ju(i,o.snapshotVersion.toTimestamp());const d=Um(i,o.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const s=eL(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=zm(this.serializer),n.removeTarget=e,this.q_(n)}}class zL extends tT{constructor(e,n,s,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return _e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){_e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=YV(e.writeResults,e.commitTime),s=Wn(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=zm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>QV(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{}class WL extends HL{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new Y(z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,$m(n,s),r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Y(z.UNKNOWN,i.toString())})}Ho(e,n,s,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Ho(e,$m(n,s),r,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y(z.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class qL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ws(n),this.aa=!1):X("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di="RemoteStore";class GL{constructor(e,n,s,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{s.enqueueAndForget(async()=>{yi(this)&&(X(di,"Restarting streams for network reachability change."),await async function(u){const d=he(u);d.Ea.add(4),await Fl(d),d.Ra.set("Unknown"),d.Ea.delete(4),await zd(d)}(this))})}),this.Ra=new qL(s,r)}}async function zd(t){if(yi(t))for(const e of t.da)await e(!0)}async function Fl(t){for(const e of t.da)await e(!1)}function nT(t,e){const n=he(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),qg(n)?Wg(n):Ca(n).O_()&&Hg(n,e))}function zg(t,e){const n=he(t),s=Ca(n);n.Ia.delete(e),s.O_()&&sT(n,e),n.Ia.size===0&&(s.O_()?s.L_():yi(n)&&n.Ra.set("Unknown"))}function Hg(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(de.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ca(t).Y_(e)}function sT(t,e){t.Va.Ue(e),Ca(t).Z_(e)}function Wg(t){t.Va=new $V({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ca(t).start(),t.Ra.ua()}function qg(t){return yi(t)&&!Ca(t).x_()&&t.Ia.size>0}function yi(t){return he(t).Ea.size===0}function rT(t){t.Va=void 0}async function KL(t){t.Ra.set("Online")}async function QL(t){t.Ia.forEach((e,n)=>{Hg(t,e)})}async function YL(t,e){rT(t),qg(t)?(t.Ra.ha(e),Wg(t)):t.Ra.set("Unknown")}async function JL(t,e,n){if(t.Ra.set("Online"),e instanceof BS&&e.state===2&&e.cause)try{await async function(r,i){const o=i.cause;for(const l of i.targetIds)r.Ia.has(l)&&(await r.remoteSyncer.rejectListen(l,o),r.Ia.delete(l),r.Va.removeTarget(l))}(t,e)}catch(s){X(di,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Zu(t,s)}else if(e instanceof Zc?t.Va.Ze(e):e instanceof $S?t.Va.st(e):t.Va.tt(e),!n.isEqual(de.min()))try{const s=await ZS(t.localStore);n.compareTo(s)>=0&&await function(i,o){const l=i.Va.Tt(o);return l.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const f=i.Ia.get(d);f&&i.Ia.set(d,f.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,d)=>{const f=i.Ia.get(u);if(!f)return;i.Ia.set(u,f.withResumeToken(_t.EMPTY_BYTE_STRING,f.snapshotVersion)),sT(i,u);const h=new Gs(f.target,u,d,f.sequenceNumber);Hg(i,h)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(s){X(di,"Failed to raise snapshot:",s),await Zu(t,s)}}async function Zu(t,e,n){if(!ka(e))throw e;t.Ea.add(1),await Fl(t),t.Ra.set("Offline"),n||(n=()=>ZS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X(di,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await zd(t)})}function iT(t,e){return e().catch(n=>Zu(t,n,e))}async function Hd(t){const e=he(t),n=vr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ag;for(;XL(e);)try{const r=await RL(e.localStore,s);if(r===null){e.Ta.length===0&&n.L_();break}s=r.batchId,ZL(e,r)}catch(r){await Zu(e,r)}aT(e)&&oT(e)}function XL(t){return yi(t)&&t.Ta.length<10}function ZL(t,e){t.Ta.push(e);const n=vr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function aT(t){return yi(t)&&!vr(t).x_()&&t.Ta.length>0}function oT(t){vr(t).start()}async function eM(t){vr(t).ra()}async function tM(t){const e=vr(t);for(const n of t.Ta)e.ea(n.mutations)}async function nM(t,e,n){const s=t.Ta.shift(),r=Lg.from(s,e,n);await iT(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await Hd(t)}async function sM(t,e){e&&vr(t).X_&&await async function(s,r){if(function(o){return OV(o)&&o!==z.ABORTED}(r.code)){const i=s.Ta.shift();vr(s).B_(),await iT(s,()=>s.remoteSyncer.rejectFailedWrite(i.batchId,r)),await Hd(s)}}(t,e),aT(t)&&oT(t)}async function Vw(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),X(di,"RemoteStore received new credentials");const s=yi(n);n.Ea.add(3),await Fl(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await zd(n)}async function rM(t,e){const n=he(t);e?(n.Ea.delete(2),await zd(n)):e||(n.Ea.add(2),await Fl(n),n.Ra.set("Unknown"))}function Ca(t){return t.ma||(t.ma=function(n,s,r){const i=he(n);return i.sa(),new BL(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Xo:KL.bind(null,t),t_:QL.bind(null,t),r_:YL.bind(null,t),H_:JL.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),qg(t)?Wg(t):t.Ra.set("Unknown")):(await t.ma.stop(),rT(t))})),t.ma}function vr(t){return t.fa||(t.fa=function(n,s,r){const i=he(n);return i.sa(),new zL(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:eM.bind(null,t),r_:sM.bind(null,t),ta:tM.bind(null,t),na:nM.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Hd(t)):(await t.fa.stop(),t.Ta.length>0&&(X(di,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,r,i){const o=Date.now()+s,l=new Gg(e,n,o,r,i);return l.start(s),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kg(t,e){if(ws("AsyncQueue",`${e}: ${t}`),ka(t))return new Y(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{static emptySet(e){return new Xi(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ie.comparator(n.key,s.key):(n,s)=>ie.comparator(n.key,s.key),this.keyedMap=go(),this.sortedSet=new $e(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Xi;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(){this.ga=new $e(ie.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ce(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class va{constructor(e,n,s,r,i,o,l,u,d){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,s,r,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new va(e,n,Xi.emptySet(n),o,s,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Md(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class aM{constructor(){this.queries=Mw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const r=he(n),i=r.queries;r.queries=Mw(),i.forEach((o,l)=>{for(const u of l.Sa)u.onError(s)})})(this,new Y(z.ABORTED,"Firestore shutting down"))}}function Mw(){return new gi(t=>IS(t),Md)}async function Qg(t,e){const n=he(t);let s=3;const r=e.query;let i=n.queries.get(r);i?!i.ba()&&e.Da()&&(s=2):(i=new iM,s=e.Da()?0:1);try{switch(s){case 0:i.wa=await n.onListen(r,!0);break;case 1:i.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const l=Kg(o,`Initialization of query '${Ni(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Jg(n)}async function Yg(t,e){const n=he(t),s=e.query;let r=3;const i=n.queries.get(s);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?r=e.Da()?0:1:!i.ba()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function oM(t,e){const n=he(t);let s=!1;for(const r of e){const i=r.query,o=n.queries.get(i);if(o){for(const l of o.Sa)l.Fa(r)&&(s=!0);o.wa=r}}s&&Jg(n)}function lM(t,e,n){const s=he(t),r=s.queries.get(e);if(r)for(const i of r.Sa)i.onError(n);s.queries.delete(e)}function Jg(t){t.Ca.forEach(e=>{e.next()})}var qm,Ow;(Ow=qm||(qm={})).Ma="default",Ow.Cache="cache";class Xg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new va(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=va.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==qm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e){this.key=e}}class cT{constructor(e){this.key=e}}class cM{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=xe(),this.mutatedKeys=xe(),this.eu=jS(e),this.tu=new Xi(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Lw,r=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((f,h)=>{const p=r.get(f),y=Od(this.query,h)?h:null,b=!!p&&this.mutatedKeys.has(p.key),I=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let A=!1;p&&y?p.data.isEqual(y.data)?b!==I&&(s.track({type:3,doc:y}),A=!0):this.su(p,y)||(s.track({type:2,doc:y}),A=!0,(u&&this.eu(y,u)>0||d&&this.eu(y,d)<0)&&(l=!0)):!p&&y?(s.track({type:0,doc:y}),A=!0):p&&!y&&(s.track({type:1,doc:p}),A=!0,(u||d)&&(l=!0)),A&&(y?(o=o.add(y),i=I?i.add(f):i.delete(f)):(o=o.delete(f),i=i.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),i=i.delete(f.key),s.track({type:1,doc:f})}return{tu:o,iu:s,Cs:l,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((f,h)=>function(y,b){const I=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce(20277,{Rt:A})}};return I(y)-I(b)}(f.type,h.type)||this.eu(f.doc,h.doc)),this.ou(s),r=r??!1;const l=n&&!r?this._u():[],u=this.Xa.size===0&&this.current&&!r?1:0,d=u!==this.Za;return this.Za=u,o.length!==0||d?{snapshot:new va(this.query,e.tu,i,o,e.mutatedKeys,u===0,d,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Lw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=xe(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new cT(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new lT(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=xe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return va.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Zg="SyncEngine";class uM{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class dM{constructor(e){this.key=e,this.hu=!1}}class hM{constructor(e,n,s,r,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new gi(l=>IS(l),Md),this.Iu=new Map,this.Eu=new Set,this.du=new $e(ie.comparator),this.Au=new Map,this.Ru=new Fg,this.Vu={},this.mu=new Map,this.fu=xa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function fM(t,e,n=!0){const s=pT(t);let r;const i=s.Tu.get(e);return i?(s.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.lu()):r=await uT(s,e,n,!0),r}async function mM(t,e){const n=pT(t);await uT(n,e,!0,!1)}async function uT(t,e,n,s){const r=await DL(t.localStore,Hn(e)),i=r.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return s&&(l=await pM(t,e,i,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&nT(t.remoteStore,r),l}async function pM(t,e,n,s,r){t.pu=(h,p,y)=>async function(I,A,E,x){let _=A.view.ru(E);_.Cs&&(_=await Aw(I.localStore,A.query,!1).then(({documents:j})=>A.view.ru(j,_)));const V=x&&x.targetChanges.get(A.targetId),L=x&&x.targetMismatches.get(A.targetId)!=null,F=A.view.applyChanges(_,I.isPrimaryClient,V,L);return Uw(I,A.targetId,F.au),F.snapshot}(t,h,p,y);const i=await Aw(t.localStore,e,!0),o=new cM(e,i.Qs),l=o.ru(i.documents),u=Ol.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),d=o.applyChanges(l,t.isPrimaryClient,u);Uw(t,n,d.au);const f=new uM(e,n,o);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function gM(t,e,n){const s=he(t),r=s.Tu.get(e),i=s.Iu.get(r.targetId);if(i.length>1)return s.Iu.set(r.targetId,i.filter(o=>!Md(o,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await Hm(s.localStore,r.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(r.targetId),n&&zg(s.remoteStore,r.targetId),Gm(s,r.targetId)}).catch(ja)):(Gm(s,r.targetId),await Hm(s.localStore,r.targetId,!0))}async function yM(t,e){const n=he(t),s=n.Tu.get(e),r=n.Iu.get(s.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),zg(n.remoteStore,s.targetId))}async function xM(t,e,n){const s=TM(t);try{const r=await function(o,l){const u=he(o),d=Pe.now(),f=l.reduce((y,b)=>y.add(b.key),xe());let h,p;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let b=_s(),I=xe();return u.Ns.getEntries(y,f).next(A=>{b=A,b.forEach((E,x)=>{x.isValidDocument()||(I=I.add(E))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,b)).next(A=>{h=A;const E=[];for(const x of l){const _=RV(x,h.get(x.key).overlayedDocument);_!=null&&E.push(new Ir(x.key,_,vS(_.value.mapValue),jn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,d,E,l)}).next(A=>{p=A;const E=A.applyToLocalDocumentSet(h,I);return u.documentOverlayCache.saveOverlays(y,A.batchId,E)})}).then(()=>({batchId:p.batchId,changes:AS(h)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),function(o,l,u){let d=o.Vu[o.currentUser.toKey()];d||(d=new $e(ye)),d=d.insert(l,u),o.Vu[o.currentUser.toKey()]=d}(s,r.batchId,n),await Ul(s,r.changes),await Hd(s.remoteStore)}catch(r){const i=Kg(r,"Failed to persist write");n.reject(i)}}async function dT(t,e){const n=he(t);try{const s=await CL(n.localStore,e);e.targetChanges.forEach((r,i)=>{const o=n.Au.get(i);o&&(_e(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?o.hu=!0:r.modifiedDocuments.size>0?_e(o.hu,14607):r.removedDocuments.size>0&&(_e(o.hu,42227),o.hu=!1))}),await Ul(n,s,e)}catch(s){await ja(s)}}function Fw(t,e,n){const s=he(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.Tu.forEach((i,o)=>{const l=o.view.va(e);l.snapshot&&r.push(l.snapshot)}),function(o,l){const u=he(o);u.onlineState=l;let d=!1;u.queries.forEach((f,h)=>{for(const p of h.Sa)p.va(l)&&(d=!0)}),d&&Jg(u)}(s.eventManager,e),r.length&&s.Pu.H_(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function vM(t,e,n){const s=he(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.Au.get(e),i=r&&r.key;if(i){let o=new $e(ie.comparator);o=o.insert(i,kt.newNoDocument(i,de.min()));const l=xe().add(i),u=new $d(de.min(),new Map,new $e(ye),o,l);await dT(s,u),s.du=s.du.remove(i),s.Au.delete(e),ey(s)}else await Hm(s.localStore,e,!1).then(()=>Gm(s,e,n)).catch(ja)}async function wM(t,e){const n=he(t),s=e.batch.batchId;try{const r=await AL(n.localStore,e);fT(n,s,null),hT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ul(n,r)}catch(r){await ja(r)}}async function _M(t,e,n){const s=he(t);try{const r=await function(o,l){const u=he(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return u.mutationQueue.lookupMutationBatch(d,l).next(h=>(_e(h!==null,37113),f=h.keys(),u.mutationQueue.removeMutationBatch(d,h))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>u.localDocuments.getDocuments(d,f))})}(s.localStore,e);fT(s,e,n),hT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ul(s,r)}catch(r){await ja(r)}}function hT(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function fT(t,e,n){const s=he(t);let r=s.Vu[s.currentUser.toKey()];if(r){const i=r.get(e);i&&(n?i.reject(n):i.resolve(),r=r.remove(e)),s.Vu[s.currentUser.toKey()]=r}}function Gm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(s=>{t.Ru.containsKey(s)||mT(t,s)})}function mT(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(zg(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),ey(t))}function Uw(t,e,n){for(const s of n)s instanceof lT?(t.Ru.addReference(s.key,e),bM(t,s)):s instanceof cT?(X(Zg,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||mT(t,s.key)):ce(19791,{wu:s})}function bM(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(X(Zg,"New document in limbo: "+n),t.Eu.add(s),ey(t))}function ey(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ie(Ee.fromString(e)),s=t.fu.next();t.Au.set(s,new dM(n)),t.du=t.du.insert(n,s),nT(t.remoteStore,new Gs(Hn(Ld(n.path)),s,"TargetPurposeLimboResolution",Rd.ce))}}async function Ul(t,e,n){const s=he(t),r=[],i=[],o=[];s.Tu.isEmpty()||(s.Tu.forEach((l,u)=>{o.push(s.pu(u,e,n).then(d=>{var f;if((d||n)&&s.isPrimaryClient){const h=d?!d.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:f.current;s.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(d){r.push(d);const h=$g.As(u.targetId,d);i.push(h)}}))}),await Promise.all(o),s.Pu.H_(r),await async function(u,d){const f=he(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>H.forEach(d,p=>H.forEach(p.Es,y=>f.persistence.referenceDelegate.addReference(h,p.targetId,y)).next(()=>H.forEach(p.ds,y=>f.persistence.referenceDelegate.removeReference(h,p.targetId,y)))))}catch(h){if(!ka(h))throw h;X(Bg,"Failed to update sequence numbers: "+h)}for(const h of d){const p=h.targetId;if(!h.fromCache){const y=f.Ms.get(p),b=y.snapshotVersion,I=y.withLastLimboFreeSnapshotVersion(b);f.Ms=f.Ms.insert(p,I)}}}(s.localStore,i))}async function NM(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){X(Zg,"User change. New user:",e.toKey());const s=await XS(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(l=>{l.forEach(u=>{u.reject(new Y(z.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ul(n,s.Ls)}}function SM(t,e){const n=he(t),s=n.Au.get(e);if(s&&s.hu)return xe().add(s.key);{let r=xe();const i=n.Iu.get(e);if(!i)return r;for(const o of i){const l=n.Tu.get(o);r=r.unionWith(l.view.nu)}return r}}function pT(t){const e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vM.bind(null,e),e.Pu.H_=oM.bind(null,e.eventManager),e.Pu.yu=lM.bind(null,e.eventManager),e}function TM(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_M.bind(null,e),e}class ed{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return kL(this.persistence,new EL,e.initialUser,this.serializer)}Cu(e){return new JS(Ug.mi,this.serializer)}Du(e){return new LL}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ed.provider={build:()=>new ed};class EM extends ed{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){_e(this.persistence.referenceDelegate instanceof Xu,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new dL(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ft.withCacheSize(this.cacheSizeBytes):Ft.DEFAULT;return new JS(s=>Xu.mi(s,n),this.serializer)}}class Km{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Fw(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=NM.bind(null,this.syncEngine),await rM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new aM}()}createDatastore(e){const n=Bd(e.databaseInfo.databaseId),s=function(i){return new $L(i)}(e.databaseInfo);return function(i,o,l,u){return new WL(i,o,l,u)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,r,i,o,l){return new GL(s,r,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Fw(this.syncEngine,n,0),function(){return Rw.v()?new Rw:new ML}())}createSyncEngine(e,n){return function(r,i,o,l,u,d,f){const h=new hM(r,i,o,l,u,d);return f&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const i=he(r);X(di,"RemoteStore shutting down."),i.Ea.add(5),await Fl(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Km.provider={build:()=>new Km};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ws("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr="FirestoreClient";class IM{constructor(e,n,s,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=It.UNAUTHENTICATED,this.clientId=kg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(s,async o=>{X(wr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(s,o=>(X(wr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Kg(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function hf(t,e){t.asyncQueue.verifyOperationInProgress(),X(wr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async r=>{s.isEqual(r)||(await XS(e.localStore,r),s=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function $w(t,e){t.asyncQueue.verifyOperationInProgress();const n=await jM(t);X(wr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>Vw(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,r)=>Vw(e.remoteStore,r)),t._onlineComponents=e}async function jM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X(wr,"Using user provided OfflineComponentProvider");try{await hf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===z.FAILED_PRECONDITION||r.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;ma("Error using user provided cache. Falling back to memory cache: "+n),await hf(t,new ed)}}else X(wr,"Using default OfflineComponentProvider"),await hf(t,new EM(void 0));return t._offlineComponents}async function gT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X(wr,"Using user provided OnlineComponentProvider"),await $w(t,t._uninitializedComponentsProvider._online)):(X(wr,"Using default OnlineComponentProvider"),await $w(t,new Km))),t._onlineComponents}function kM(t){return gT(t).then(e=>e.syncEngine)}async function td(t){const e=await gT(t),n=e.eventManager;return n.onListen=fM.bind(null,e.syncEngine),n.onUnlisten=gM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=mM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=yM.bind(null,e.syncEngine),n}function AM(t,e,n={}){const s=new hs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,u,d){const f=new ty({next:p=>{f.Nu(),o.enqueueAndForget(()=>Yg(i,h));const y=p.docs.has(l);!y&&p.fromCache?d.reject(new Y(z.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&u&&u.source==="server"?d.reject(new Y(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),h=new Xg(Ld(l.path),f,{includeMetadataChanges:!0,qa:!0});return Qg(i,h)}(await td(t),t.asyncQueue,e,n,s)),s.promise}function CM(t,e,n={}){const s=new hs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,u,d){const f=new ty({next:p=>{f.Nu(),o.enqueueAndForget(()=>Yg(i,h)),p.fromCache&&u.source==="server"?d.reject(new Y(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),h=new Xg(l,f,{includeMetadataChanges:!0,qa:!0});return Qg(i,h)}(await td(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="firestore.googleapis.com",zw=!0;class Hw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Y(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xT,this.ssl=zw}else this.host=e.host,this.ssl=e.ssl??zw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=YS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cL)throw new Y(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}q3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yT(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Y(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Y(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Y(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,r){return s.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wd{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new L3;switch(s.type){case"firstParty":return new U3(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Y(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Bw.get(n);s&&(X("ComponentProvider","Removing Datastore"),Bw.delete(n),s.terminate())}(this),Promise.resolve()}}function PM(t,e,n,s={}){var d;t=tn(t,Wd);const r=Sa(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;r&&(uN(`https://${l}`),dN("Firestore",!0)),i.host!==xT&&i.host!==l&&ma("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:l,ssl:r,emulatorOptions:s};if(!ai(u,o)&&(t._setSettings(u),s.mockUserToken)){let f,h;if(typeof s.mockUserToken=="string")f=s.mockUserToken,h=It.MOCK_USER;else{f=$R(s.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const p=s.mockUserToken.sub||s.mockUserToken.user_id;if(!p)throw new Y(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new It(p)}t._authCredentials=new M3(new oS(f,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new jr(this.firestore,e,this._query)}}class He{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new He(this.firestore,e,this._key)}toJSON(){return{type:He._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Ll(n,He._jsonSchema))return new He(e,s||null,new ie(Ee.fromString(n.referencePath)))}}He._jsonSchemaVersion="firestore/documentReference/1.0",He._jsonSchema={type:tt("string",He._jsonSchemaVersion),referencePath:tt("string")};class ur extends jr{constructor(e,n,s){super(e,n,Ld(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new He(this.firestore,null,new ie(e))}withConverter(e){return new ur(this.firestore,e,this._path)}}function $l(t,e,...n){if(t=nt(t),lS("collection","path",e),t instanceof Wd){const s=Ee.fromString(e,...n);return sw(s),new ur(t,null,s)}{if(!(t instanceof He||t instanceof ur))throw new Y(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Ee.fromString(e,...n));return sw(s),new ur(t.firestore,null,s)}}function Bl(t,e,...n){if(t=nt(t),arguments.length===1&&(e=kg.newId()),lS("doc","path",e),t instanceof Wd){const s=Ee.fromString(e,...n);return nw(s),new He(t,null,new ie(s))}{if(!(t instanceof He||t instanceof ur))throw new Y(z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Ee.fromString(e,...n));return nw(s),new He(t.firestore,t instanceof ur?t.converter:null,new ie(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="AsyncQueue";class qw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new eT(this,"async_queue_retry"),this._c=()=>{const s=df();s&&X(Ww,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=df();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=df();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new hs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ka(e))throw e;X(Ww,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,ws("INTERNAL UNHANDLED ERROR: ",Gw(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=Gg.createAndSchedule(this,e,n,s,i=>this.hc(i));return this.tc.push(r),r}uc(){this.nc&&ce(47125,{Pc:Gw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Gw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(t){return function(n,s){if(typeof n!="object"||n===null)return!1;const r=n;for(const i of s)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class _r extends Wd{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new qw,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qw(e),this._firestoreClient=void 0,await e}}}function RM(t,e){const n=typeof t=="object"?t:pN(),s=typeof t=="string"?t:Gu,r=yg(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const i=FR("firestore");i&&PM(r,...i)}return r}function qd(t){if(t._terminated)throw new Y(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||DM(t),t._firestoreClient}function DM(t){var s,r,i;const e=t._freezeSettings(),n=function(l,u,d,f){return new sV(l,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,yT(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((s=t._app)==null?void 0:s.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(r=e.localCache)!=null&&r._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new IM(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hn(_t.fromBase64String(e))}catch(n){throw new Y(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new hn(_t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ll(e,hn._jsonSchema))return hn.fromBase64String(e.bytes)}}hn._jsonSchemaVersion="firestore/bytes/1.0",hn._jsonSchema={type:tt("string",hn._jsonSchemaVersion),bytes:tt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ye(this._lat,e._lat)||ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qn._jsonSchemaVersion}}static fromJSON(e){if(Ll(e,qn._jsonSchema))return new qn(e.latitude,e.longitude)}}qn._jsonSchemaVersion="firestore/geoPoint/1.0",qn._jsonSchema={type:tt("string",qn._jsonSchemaVersion),latitude:tt("number"),longitude:tt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,r){if(s.length!==r.length)return!1;for(let i=0;i<s.length;++i)if(s[i]!==r[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Gn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ll(e,Gn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Gn(e.vectorValues);throw new Y(z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gn._jsonSchemaVersion="firestore/vectorValue/1.0",Gn._jsonSchema={type:tt("string",Gn._jsonSchemaVersion),vectorValues:tt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM=/^__.*__$/;class LM{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ir(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ml(e,this.data,n,this.fieldTransforms)}}class vT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ir(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function wT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce(40011,{Ac:t})}}class ny{constructor(e,n,s,r,i,o){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ny({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var r;const n=(r=this.path)==null?void 0:r.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var r;const n=(r=this.path)==null?void 0:r.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return nd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(wT(this.Ac)&&VM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class MM{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Bd(e)}Cc(e,n,s,r=!1){return new ny({Ac:e,methodName:n,Dc:s,path:xt.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qd(t){const e=t._freezeSettings(),n=Bd(t._databaseId);return new MM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function _T(t,e,n,s,r,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,r);ry("Data must be an object, but it was:",o,s);const l=bT(s,o);let u,d;if(i.merge)u=new Zt(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const f=[];for(const h of i.mergeFields){const p=Qm(e,h,n);if(!o.contains(p))throw new Y(z.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);ST(f,p)||f.push(p)}u=new Zt(f),d=o.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,d=o.fieldTransforms;return new LM(new $t(l),u,d)}class Yd extends Kd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yd}}class sy extends Kd{_toFieldTransform(e){return new kV(e.path,new ml)}isEqual(e){return e instanceof sy}}function OM(t,e,n,s){const r=t.Cc(1,e,n);ry("Data must be an object, but it was:",r,s);const i=[],o=$t.empty();Er(s,(u,d)=>{const f=iy(e,u,n);d=nt(d);const h=r.yc(f);if(d instanceof Yd)i.push(f);else{const p=zl(d,h);p!=null&&(i.push(f),o.set(f,p))}});const l=new Zt(i);return new vT(o,l,r.fieldTransforms)}function FM(t,e,n,s,r,i){const o=t.Cc(1,e,n),l=[Qm(e,s,n)],u=[r];if(i.length%2!=0)throw new Y(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)l.push(Qm(e,i[p])),u.push(i[p+1]);const d=[],f=$t.empty();for(let p=l.length-1;p>=0;--p)if(!ST(d,l[p])){const y=l[p];let b=u[p];b=nt(b);const I=o.yc(y);if(b instanceof Yd)d.push(y);else{const A=zl(b,I);A!=null&&(d.push(y),f.set(y,A))}}const h=new Zt(d);return new vT(f,h,o.fieldTransforms)}function UM(t,e,n,s=!1){return zl(n,t.Cc(s?4:3,e))}function zl(t,e){if(NT(t=nt(t)))return ry("Unsupported field value:",e,t),bT(t,e);if(t instanceof Kd)return function(s,r){if(!wT(r.Ac))throw r.Sc(`${s._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${s._methodName}() is not currently supported inside arrays`);const i=s._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,r){const i=[];let o=0;for(const l of s){let u=zl(l,r.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(s,r){if((s=nt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return EV(r.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const i=Pe.fromDate(s);return{timestampValue:Ju(r.serializer,i)}}if(s instanceof Pe){const i=new Pe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ju(r.serializer,i)}}if(s instanceof qn)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof hn)return{bytesValue:zS(r.serializer,s._byteString)};if(s instanceof He){const i=r.databaseId,o=s.firestore._databaseId;if(!o.isEqual(i))throw r.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Og(s.firestore._databaseId||r.databaseId,s._key.path)}}if(s instanceof Gn)return function(o,l){return{mapValue:{fields:{[yS]:{stringValue:xS},[Ku]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw l.Sc("VectorValues must only contain numeric values.");return Vg(l.serializer,d)})}}}}}}(s,r);throw r.Sc(`Unsupported field value: ${Pd(s)}`)}(t,e)}function bT(t,e){const n={};return dS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Er(t,(s,r)=>{const i=zl(r,e.mc(s));i!=null&&(n[s]=i)}),{mapValue:{fields:n}}}function NT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Pe||t instanceof qn||t instanceof hn||t instanceof He||t instanceof Kd||t instanceof Gn)}function ry(t,e,n){if(!NT(n)||!cS(n)){const s=Pd(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function Qm(t,e,n){if((e=nt(e))instanceof Gd)return e._internalPath;if(typeof e=="string")return iy(t,e);throw nd("Field path arguments must be of type string or ",t,!1,void 0,n)}const $M=new RegExp("[~\\*/\\[\\]]");function iy(t,e,n){if(e.search($M)>=0)throw nd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gd(...e.split("."))._internalPath}catch{throw nd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function nd(t,e,n,s,r){const i=s&&!s.isEmpty(),o=r!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${s}`),o&&(u+=` in document ${r}`),u+=")"),new Y(z.INVALID_ARGUMENT,l+t+u)}function ST(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new He(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ay("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BM extends TT{data(){return super.data()}}function ay(t,e){return typeof e=="string"?iy(t,e):e instanceof Gd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oy{}class IT extends oy{}function jT(t,e,...n){let s=[];e instanceof oy&&s.push(e),s=s.concat(n),function(i){const o=i.filter(u=>u instanceof cy).length,l=i.filter(u=>u instanceof ly).length;if(o>1||o>0&&l>0)throw new Y(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const r of s)t=r._apply(t);return t}class ly extends IT{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new ly(e,n,s)}_apply(e){const n=this._parse(e);return AT(e._query,n),new jr(e.firestore,e.converter,Om(e._query,n))}_parse(e){const n=Qd(e.firestore);return function(i,o,l,u,d,f,h){let p;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Y(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){Yw(h,f);const b=[];for(const I of h)b.push(Qw(u,i,I));p={arrayValue:{values:b}}}else p=Qw(u,i,h)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||Yw(h,f),p=UM(l,o,h,f==="in"||f==="not-in");return et.create(d,f,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class cy extends oy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new cy(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:An.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let o=r;const l=i.getFlattenedFilters();for(const u of l)AT(o,u),o=Om(o,u)}(e._query,n),new jr(e.firestore,e.converter,Om(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class uy extends IT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new uy(e,n)}_apply(e){const n=function(r,i,o){if(r.startAt!==null)throw new Y(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Y(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fl(i,o)}(e._query,this._field,this._direction);return new jr(e.firestore,e.converter,function(r,i){const o=r.explicitOrderBy.concat([i]);return new Aa(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function kT(t,e="asc"){const n=e,s=ay("orderBy",t);return uy._create(s,n)}function Qw(t,e,n){if(typeof(n=nt(n))=="string"){if(n==="")throw new Y(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ES(e)&&n.indexOf("/")!==-1)throw new Y(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Ee.fromString(n));if(!ie.isDocumentKey(s))throw new Y(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return dw(t,new ie(s))}if(n instanceof He)return dw(t,n._key);throw new Y(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pd(n)}.`)}function Yw(t,e){if(!Array.isArray(t)||t.length===0)throw new Y(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AT(t,e){const n=function(r,i){for(const o of r)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Y(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Y(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class zM{convertValue(e,n="none"){switch(xr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(yr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Er(e,(r,i)=>{s[r]=this.convertValue(i,n)}),s}convertVectorValue(e){var s,r,i;const n=(i=(r=(s=e.fields)==null?void 0:s[Ku].arrayValue)==null?void 0:r.values)==null?void 0:i.map(o=>Ge(o.doubleValue));return new Gn(n)}convertGeoPoint(e){return new qn(Ge(e.latitude),Ge(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Vd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ul(e));default:return null}}convertTimestamp(e){const n=gr(e);return new Pe(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ee.fromString(e);_e(QS(s),9688,{name:e});const r=new dl(s.get(1),s.get(3)),i=new ie(s.popFirst(5));return r.isEqual(n)||ws(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class xo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zr extends TT{constructor(e,n,s,r,i,o){super(e,n,s,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new eu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(ay("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Zr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Zr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zr._jsonSchema={type:tt("string",Zr._jsonSchemaVersion),bundleSource:tt("string","DocumentSnapshot"),bundleName:tt("string"),bundle:tt("string")};class eu extends Zr{data(e={}){return super.data(e)}}class ei{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new xo(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new eu(this._firestore,this._userDataWriter,s.key,s,new xo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(l=>{const u=new eu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new xo(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const u=new eu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new xo(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,f=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:HM(l.type),doc:u,oldIndex:d,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ei._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=kg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],r=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),s.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),r.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function HM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(t){t=tn(t,He);const e=tn(t.firestore,_r);return AM(qd(e),t._key).then(n=>VT(e,t,n))}ei._jsonSchemaVersion="firestore/querySnapshot/1.0",ei._jsonSchema={type:tt("string",ei._jsonSchemaVersion),bundleSource:tt("string","QuerySnapshot"),bundleName:tt("string"),bundle:tt("string")};class dy extends zM{constructor(e){super(),this.firestore=e}convertBytes(e){return new hn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new He(this.firestore,null,n)}}function PT(t){t=tn(t,jr);const e=tn(t.firestore,_r),n=qd(e),s=new dy(e);return ET(t._query),CM(n,t._query).then(r=>new ei(e,s,t,r))}function qM(t,e,n){t=tn(t,He);const s=tn(t.firestore,_r),r=CT(t.converter,e,n);return hy(s,[_T(Qd(s),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,jn.none())])}function RT(t,e,n,...s){t=tn(t,He);const r=tn(t.firestore,_r),i=Qd(r);let o;return o=typeof(e=nt(e))=="string"||e instanceof Gd?FM(i,"updateDoc",t._key,e,n,s):OM(i,"updateDoc",t._key,e),hy(r,[o.toMutation(t._key,jn.exists(!0))])}function GM(t,e){const n=tn(t.firestore,_r),s=Bl(t),r=CT(t.converter,e);return hy(n,[_T(Qd(t.firestore),"addDoc",s._key,r,t.converter!==null,{}).toMutation(s._key,jn.exists(!1))]).then(()=>s)}function DT(t,...e){var u,d,f;t=nt(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Kw(e[s])||(n=e[s++]);const r={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Kw(e[s])){const h=e[s];e[s]=(u=h.next)==null?void 0:u.bind(h),e[s+1]=(d=h.error)==null?void 0:d.bind(h),e[s+2]=(f=h.complete)==null?void 0:f.bind(h)}let i,o,l;if(t instanceof He)o=tn(t.firestore,_r),l=Ld(t._key.path),i={next:h=>{e[s]&&e[s](VT(o,t,h))},error:e[s+1],complete:e[s+2]};else{const h=tn(t,jr);o=tn(h.firestore,_r),l=h._query;const p=new dy(o);i={next:y=>{e[s]&&e[s](new ei(o,p,h,y))},error:e[s+1],complete:e[s+2]},ET(t._query)}return function(p,y,b,I){const A=new ty(I),E=new Xg(y,A,b);return p.asyncQueue.enqueueAndForget(async()=>Qg(await td(p),E)),()=>{A.Nu(),p.asyncQueue.enqueueAndForget(async()=>Yg(await td(p),E))}}(qd(o),l,r,i)}function hy(t,e){return function(s,r){const i=new hs;return s.asyncQueue.enqueueAndForget(async()=>xM(await kM(s),r,i)),i.promise}(qd(t),e)}function VT(t,e,n){const s=n.docs.get(e._key),r=new dy(t);return new Zr(t,r,e._key,s,new xo(n.hasPendingWrites,n.fromCache),e.converter)}function Jd(){return new sy("serverTimestamp")}(function(e,n=!0){(function(r){Ia=r})(Ta),ha(new oi("firestore",(s,{instanceIdentifier:r,options:i})=>{const o=s.getProvider("app").getImmediate(),l=new _r(new O3(s.getProvider("auth-internal")),new $3(o,s.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Y(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dl(d.options.projectId,f)}(o,r),o);return i={useFetchStreams:n,...i},l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),lr(Xv,Zv,e),lr(Xv,Zv,"esm2020")})();const KM={apiKey:"AIzaSyA4oe_gqt8NOWC6VCEfJYbznsVQuoyIJC4",authDomain:"saxovault-d94c5.firebaseapp.com",projectId:"saxovault-d94c5",storageBucket:"saxovault-d94c5.firebasestorage.app",messagingSenderId:"61739859282",appId:"1:61739859282:web:e33555e56540b7aee20e8b",measurementId:"G-RC1Y2MJJVS"},LT=mN(KM),wa=D3(LT),Es=RM(LT),MT=new ts;MT.setCustomParameters({prompt:"select_account"});const fy=async t=>{try{return await qM(Bl(Es,"users",t.uid),{...t,updatedAt:Jd()},{merge:!0}),console.log(" User saved to Firestore:",t.email),{success:!0}}catch(e){return console.error(" Error saving user to Firestore:",e),{success:!1,error:e.message}}},OT=async t=>{try{const e=Bl(Es,"users",t),n=await WM(e);return n.exists()?{success:!0,data:n.data()}:{success:!1,error:"User not found"}}catch(e){return console.error(" Error getting user from Firestore:",e),{success:!1,error:e.message}}},QM=async()=>{try{const t=await PT($l(Es,"users")),e=[];return t.forEach(n=>{e.push({id:n.id,...n.data()})}),console.log(" Fetched",e.length,"users from Firestore"),{success:!0,data:e}}catch(t){return console.error(" Error getting users from Firestore:",t),{success:!1,error:t.message}}},my=async(t,e)=>{try{return await RT(Bl(Es,"users",t),{...e,updatedAt:Jd()}),console.log(" User updated in Firestore"),{success:!0}}catch(n){return console.error(" Error updating user in Firestore:",n),{success:!1,error:n.message}}},YM=async t=>{try{const e=await GM($l(Es,"transactions"),{...t,createdAt:Jd(),status:t.status||"pending"});return console.log(" Transaction added to Firestore:",e.id),{success:!0,id:e.id}}catch(e){return console.error(" Error adding transaction to Firestore:",e),{success:!1,error:e.message}}},JM=async()=>{try{const t=jT($l(Es,"transactions"),kT("createdAt","desc")),e=await PT(t),n=[];return e.forEach(s=>{var i,o,l;const r=s.data();n.push({id:s.id,...r,createdAt:((l=(o=(i=r.createdAt)==null?void 0:i.toDate)==null?void 0:o.call(i))==null?void 0:l.toISOString())||r.createdAt})}),console.log(" Fetched",n.length,"transactions from Firestore"),{success:!0,data:n}}catch(t){return console.error(" Error getting transactions from Firestore:",t),{success:!1,error:t.message}}},Jw=async(t,e)=>{try{return await RT(Bl(Es,"transactions",t),{...e,updatedAt:Jd()}),console.log(" Transaction updated in Firestore"),{success:!0}}catch(n){return console.error(" Error updating transaction in Firestore:",n),{success:!1,error:n.message}}},XM=t=>{const e=jT($l(Es,"transactions"),kT("createdAt","desc"));return DT(e,n=>{const s=[];n.forEach(r=>{var o,l,u;const i=r.data();s.push({id:r.id,...i,createdAt:((u=(l=(o=i.createdAt)==null?void 0:o.toDate)==null?void 0:l.call(o))==null?void 0:u.toISOString())||i.createdAt})}),t(s)})},ZM=t=>DT($l(Es,"users"),e=>{const n=[];e.forEach(s=>{n.push({id:s.id,...s.data()})}),t(n)}),e6=async()=>{try{const e=(await zD(wa,MT)).user,n=await OT(e.uid);let s,r=!1;return!n.success||!n.data?(r=!0,s={uid:e.uid,email:e.email,name:e.displayName||"",phone:"",country:"",referralCode:"",createdAt:new Date().toISOString(),balance:0,signInMethod:"google",photoURL:e.photoURL||""},await fy(s),localStorage.setItem(`user_${e.uid}`,JSON.stringify(s))):(s=n.data,e.photoURL&&e.photoURL!==s.photoURL&&(s.photoURL=e.photoURL,await my(e.uid,{photoURL:e.photoURL})),localStorage.setItem(`user_${e.uid}`,JSON.stringify(s))),{success:!0,user:e,userData:s,isNewUser:r}}catch(t){let e="Google sign-in failed. Please try again.";switch(t.code){case"auth/popup-closed-by-user":e="Sign-in popup was closed. Please try again.";break;case"auth/popup-blocked":e="Popup was blocked. Please allow popups for this site.";break;case"auth/cancelled-popup-request":e="Sign-in was cancelled.";break;case"auth/account-exists-with-different-credential":e="An account already exists with this email using a different sign-in method.";break;default:e=t.message}return{success:!1,error:e}}},t6=async(t,e,n)=>{try{const r=(await xD(wa,t,e)).user;await _D(r,{displayName:n.name||""}),await $N(r,{url:window.location.origin,handleCodeInApp:!1});const i={uid:r.uid,email:t,name:n.name||"",phone:n.phone||"",country:n.country||"",referralCode:n.referralCode||"",createdAt:new Date().toISOString(),balance:0,signInMethod:"email",emailVerified:!1};try{await fy(i),console.log(" User saved to Firestore")}catch(o){console.error(" Firestore save failed, will retry on login:",o)}return localStorage.setItem(`user_${r.uid}`,JSON.stringify(i)),{success:!0,user:r,message:"Verification email sent! Please check your inbox."}}catch(s){let r="Registration failed. Please try again.";switch(s.code){case"auth/email-already-in-use":r='This email is already registered. Please login instead. If you cannot login, use "Forgot Password" to reset.';break;case"auth/weak-password":r="Password is too weak. Please use at least 8 characters with uppercase, lowercase, number, and symbol.";break;case"auth/invalid-email":r="Please enter a valid email address.";break;default:r=s.message}return{success:!1,error:r}}},Xw=async(t,e)=>{try{const s=(await vD(wa,t,e)).user;if(!s.emailVerified)return await $N(s),await BN(wa),{success:!1,needsVerification:!0,error:"Please verify your email first. A new verification link has been sent."};let r;const i=await OT(s.uid);if(i.success&&i.data)r=i.data,r.emailVerified||(r.emailVerified=!0,await my(s.uid,{emailVerified:!0}));else{const o=localStorage.getItem(`user_${s.uid}`);o?r=JSON.parse(o):r={uid:s.uid,email:s.email,name:s.displayName||"",balance:0,emailVerified:!0},await fy(r)}return localStorage.setItem(`user_${s.uid}`,JSON.stringify(r)),{success:!0,user:s,userData:r}}catch(n){let s="Login failed. Please try again.";switch(n.code){case"auth/user-not-found":s="No account found with this email.";break;case"auth/wrong-password":s="Incorrect password. Please try again.";break;case"auth/invalid-email":s="Please enter a valid email address.";break;case"auth/too-many-requests":s="Too many failed attempts. Please try again later.";break;case"auth/invalid-credential":s="Invalid email or password.";break;default:s=n.message}return{success:!1,error:s}}},n6=async()=>{try{return await BN(wa),{success:!0}}catch(t){return{success:!1,error:t.message}}},s6=async t=>{try{return await yD(wa,t),{success:!0,message:"Password reset email sent! Check your inbox."}}catch(e){let n="Failed to send reset email.";switch(e.code){case"auth/user-not-found":n="No account found with this email.";break;case"auth/invalid-email":n="Please enter a valid email address.";break;default:n=e.message}return{success:!1,error:n}}};R.createContext();const r6={navy:"#0a1628",navyLight:"#1a2d4a",gold:"#D4AF37",goldDark:"#b8962e",green:"#0FAF76",greenDark:"#0d9962",cream:"#faf8f5"};let v=r6;const i6={en:{welcome:"Welcome",dashboard:"Dashboard",investments:"Investments",deposit:"Deposit",withdraw:"Withdraw",balance:"Balance",pending:"Pending",approved:"Approved",home:"Home",profile:"Profile",settings:"Settings",logout:"Logout",login:"Login",register:"Register",email:"Email",password:"Password",name:"Name",phone:"Phone",submit:"Submit",cancel:"Cancel",confirm:"Confirm",amount:"Amount",history:"History",notifications:"Notifications",referral:"Referral",calculator:"Calculator",investNow:"Invest Now",minInvestment:"Min Investment",returns:"Returns",duration:"Duration",status:"Status",copyAddress:"Copy Address",paymentPending:"Payment Pending",transactionHistory:"Transaction History",noTransactions:"No transactions yet",securityTips:"Security Tips",activityLog:"Activity Log",viewAll:"View All",search:"Search",filter:"Filter",export:"Export",support:"Support",help:"Help",about:"About",terms:"Terms",privacy:"Privacy",contact:"Contact",language:"Language",darkMode:"Dark Mode",lightMode:"Light Mode"},es:{welcome:"Bienvenido",dashboard:"Panel",investments:"Inversiones",deposit:"Depositar",withdraw:"Retirar",balance:"Saldo",pending:"Pendiente",approved:"Aprobado",home:"Inicio",profile:"Perfil",settings:"Ajustes",logout:"Cerrar sesin",login:"Iniciar sesin",register:"Registrarse",email:"Correo",password:"Contrasea",name:"Nombre",phone:"Telfono",submit:"Enviar",cancel:"Cancelar",confirm:"Confirmar",amount:"Cantidad",history:"Historial",notifications:"Notificaciones",referral:"Referidos",calculator:"Calculadora",investNow:"Invertir Ahora",minInvestment:"Inversin Mnima",returns:"Retornos",duration:"Duracin",status:"Estado",copyAddress:"Copiar Direccin",paymentPending:"Pago Pendiente",transactionHistory:"Historial de Transacciones",noTransactions:"Sin transacciones",securityTips:"Consejos de Seguridad",activityLog:"Registro de Actividad",viewAll:"Ver Todo",search:"Buscar",filter:"Filtrar",export:"Exportar",support:"Soporte",help:"Ayuda",about:"Acerca de",terms:"Trminos",privacy:"Privacidad",contact:"Contacto",language:"Idioma",darkMode:"Modo Oscuro",lightMode:"Modo Claro"},fr:{welcome:"Bienvenue",dashboard:"Tableau de bord",investments:"Investissements",deposit:"Dpt",withdraw:"Retirer",balance:"Solde",pending:"En attente",approved:"Approuv",home:"Accueil",profile:"Profil",settings:"Paramtres",logout:"Dconnexion",login:"Connexion",register:"S'inscrire",email:"E-mail",password:"Mot de passe",name:"Nom",phone:"Tlphone",submit:"Soumettre",cancel:"Annuler",confirm:"Confirmer",amount:"Montant",history:"Historique",notifications:"Notifications",referral:"Parrainage",calculator:"Calculatrice",investNow:"Investir Maintenant",minInvestment:"Investissement Min",returns:"Rendements",duration:"Dure",status:"Statut",copyAddress:"Copier l'adresse",paymentPending:"Paiement en attente",transactionHistory:"Historique des transactions",noTransactions:"Aucune transaction",securityTips:"Conseils de scurit",activityLog:"Journal d'activit",viewAll:"Voir tout",search:"Rechercher",filter:"Filtrer",export:"Exporter",support:"Support",help:"Aide",about:" propos",terms:"Conditions",privacy:"Confidentialit",contact:"Contact",language:"Langue",darkMode:"Mode sombre",lightMode:"Mode clair"},de:{welcome:"Willkommen",dashboard:"bersicht",investments:"Investitionen",deposit:"Einzahlung",withdraw:"Auszahlung",balance:"Guthaben",pending:"Ausstehend",approved:"Genehmigt",home:"Startseite",profile:"Profil",settings:"Einstellungen",logout:"Abmelden",login:"Anmelden",register:"Registrieren",email:"E-Mail",password:"Passwort",name:"Name",phone:"Telefon",submit:"Absenden",cancel:"Abbrechen",confirm:"Besttigen",amount:"Betrag",history:"Verlauf",notifications:"Benachrichtigungen",referral:"Empfehlung",calculator:"Rechner",investNow:"Jetzt investieren",minInvestment:"Mindestanlage",returns:"Rendite",duration:"Laufzeit",status:"Status",copyAddress:"Adresse kopieren"},pt:{welcome:"Bem-vindo",dashboard:"Painel",investments:"Investimentos",deposit:"Depsito",withdraw:"Saque",balance:"Saldo",pending:"Pendente",approved:"Aprovado",home:"Incio",profile:"Perfil",settings:"Configuraes",logout:"Sair",login:"Entrar",register:"Cadastrar",email:"E-mail",password:"Senha",name:"Nome",phone:"Telefone",submit:"Enviar",cancel:"Cancelar",confirm:"Confirmar",amount:"Valor",history:"Histrico",notifications:"Notificaes",referral:"Indicao",calculator:"Calculadora",investNow:"Investir Agora"},it:{welcome:"Benvenuto",dashboard:"Pannello",investments:"Investimenti",deposit:"Deposito",withdraw:"Prelievo",balance:"Saldo",pending:"In attesa",approved:"Approvato",home:"Home",profile:"Profilo",settings:"Impostazioni",logout:"Esci",login:"Accedi",register:"Registrati",email:"Email",password:"Password",name:"Nome",phone:"Telefono",submit:"Invia",cancel:"Annulla",confirm:"Conferma",amount:"Importo",history:"Cronologia",investNow:"Investi Ora",minInvestment:"Investimento Minimo",returns:"Rendimenti",duration:"Durata"},nl:{welcome:"Welkom",dashboard:"Dashboard",investments:"Investeringen",deposit:"Storting",withdraw:"Opname",balance:"Saldo",pending:"In behandeling",approved:"Goedgekeurd",home:"Home",profile:"Profiel",settings:"Instellingen",logout:"Uitloggen",login:"Inloggen",register:"Registreren",investNow:"Nu Investeren"},ru:{welcome:" ",dashboard:"",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",email:". ",password:"",name:"",phone:"",submit:"",cancel:"",confirm:"",amount:"",history:"",investNow:"",minInvestment:". ",returns:"",duration:""},zh:{welcome:"",dashboard:"",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",email:"",password:"",name:"",phone:"",submit:"",cancel:"",confirm:"",amount:"",history:"",investNow:"",minInvestment:"",returns:"",duration:"",notifications:""},ja:{welcome:"",dashboard:"",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",email:"",password:"",name:"",phone:"",submit:"",cancel:"",confirm:"",amount:"",history:"",investNow:"",minInvestment:"",returns:"",duration:""},ko:{welcome:"",dashboard:"",investments:"",deposit:"",withdraw:"",balance:"",pending:" ",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",email:"",password:"",name:"",phone:"",submit:"",cancel:"",confirm:"",amount:"",history:"",investNow:" ",minInvestment:" ",returns:"",duration:""},ar:{welcome:"",dashboard:" ",investments:"",deposit:"",withdraw:"",balance:"",pending:" ",approved:" ",home:"",profile:" ",settings:"",logout:" ",login:" ",register:"",email:" ",password:" ",name:"",phone:"",submit:"",cancel:"",confirm:"",amount:"",history:"",investNow:" ",minInvestment:"  ",returns:"",duration:""},hi:{welcome:" ",dashboard:"",investments:"",deposit:"",withdraw:"",balance:" ",pending:"",approved:"",home:"",profile:"",settings:"",logout:" ",login:" ",register:"",email:"",password:"",name:"",phone:"",submit:" ",cancel:" ",confirm:" ",amount:"",history:"",investNow:"  ",minInvestment:" ",returns:"",duration:""},tr:{welcome:"Ho geldiniz",dashboard:"Kontrol Paneli",investments:"Yatrmlar",deposit:"Para Yatr",withdraw:"Para ek",balance:"Bakiye",pending:"Beklemede",approved:"Onayland",home:"Ana Sayfa",profile:"Profil",settings:"Ayarlar",logout:"k",login:"Giri",register:"Kayt Ol",email:"E-posta",password:"ifre",name:"Ad",phone:"Telefon",submit:"Gnder",cancel:"ptal",confirm:"Onayla",amount:"Tutar",history:"Gemi",investNow:"imdi Yatrm Yap",minInvestment:"Min Yatrm",returns:"Getiri",duration:"Sre"},pl:{welcome:"Witamy",dashboard:"Panel",investments:"Inwestycje",deposit:"Wpata",withdraw:"Wypata",balance:"Saldo",pending:"Oczekujce",approved:"Zatwierdzone",home:"Strona gwna",profile:"Profil",settings:"Ustawienia",logout:"Wyloguj",login:"Zaloguj",register:"Zarejestruj",investNow:"Inwestuj Teraz"},vi:{welcome:"Cho mng",dashboard:"Bng iu khin",investments:"u t",deposit:"Np tin",withdraw:"Rt tin",balance:"S d",pending:"ang ch",approved:" duyt",home:"Trang ch",profile:"H s",settings:"Ci t",logout:"ng xut",login:"ng nhp",register:"ng k",investNow:"u t ngay"},th:{welcome:"",dashboard:"",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",investNow:""},id:{welcome:"Selamat datang",dashboard:"Dasbor",investments:"Investasi",deposit:"Setor",withdraw:"Tarik",balance:"Saldo",pending:"Tertunda",approved:"Disetujui",home:"Beranda",profile:"Profil",settings:"Pengaturan",logout:"Keluar",login:"Masuk",register:"Daftar",investNow:"Investasi Sekarang"},ms:{welcome:"Selamat datang",dashboard:"Papan pemuka",investments:"Pelaburan",deposit:"Deposit",withdraw:"Pengeluaran",balance:"Baki",pending:"Menunggu",approved:"Diluluskan",home:"Laman utama",profile:"Profil",settings:"Tetapan",logout:"Log keluar",login:"Log masuk",register:"Daftar",investNow:"Labur Sekarang"},tl:{welcome:"Maligayang pagdating",dashboard:"Dashboard",investments:"Mga Pamumuhunan",deposit:"Deposito",withdraw:"Withdraw",balance:"Balanse",pending:"Nakabinbin",approved:"Aprubado",home:"Home",profile:"Profile",settings:"Settings",logout:"Mag-logout",login:"Mag-login",register:"Mag-register",investNow:"Mamuhunan Ngayon"},el:{welcome:" ",dashboard:" ",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",investNow:" "},cs:{welcome:"Vtejte",dashboard:"Pehled",investments:"Investice",deposit:"Vklad",withdraw:"Vbr",balance:"Zstatek",pending:"ekajc",approved:"Schvleno",home:"Dom",profile:"Profil",settings:"Nastaven",logout:"Odhlsit",login:"Pihlsit",register:"Registrace",investNow:"Investovat nyn"},sv:{welcome:"Vlkommen",dashboard:"Instrumentpanel",investments:"Investeringar",deposit:"Insttning",withdraw:"Uttag",balance:"Saldo",pending:"Vntande",approved:"Godknd",home:"Hem",profile:"Profil",settings:"Instllningar",logout:"Logga ut",login:"Logga in",register:"Registrera",investNow:"Investera Nu"},no:{welcome:"Velkommen",dashboard:"Kontrollpanel",investments:"Investeringer",deposit:"Innskudd",withdraw:"Uttak",balance:"Saldo",pending:"Venter",approved:"Godkjent",home:"Hjem",profile:"Profil",settings:"Innstillinger",logout:"Logg ut",login:"Logg inn",register:"Registrer",investNow:"Invester N"},da:{welcome:"Velkommen",dashboard:"Kontrolpanel",investments:"Investeringer",deposit:"Indbetaling",withdraw:"Udbetaling",balance:"Saldo",pending:"Afventer",approved:"Godkendt",home:"Hjem",profile:"Profil",settings:"Indstillinger",logout:"Log ud",login:"Log ind",register:"Registrer",investNow:"Invester Nu"},fi:{welcome:"Tervetuloa",dashboard:"Hallintapaneeli",investments:"Sijoitukset",deposit:"Talletus",withdraw:"Nosto",balance:"Saldo",pending:"Odottaa",approved:"Hyvksytty",home:"Etusivu",profile:"Profiili",settings:"Asetukset",logout:"Kirjaudu ulos",login:"Kirjaudu",register:"Rekisteridy",investNow:"Sijoita Nyt"},he:{welcome:" ",dashboard:" ",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",investNow:" "},uk:{welcome:" ",dashboard:"",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",investNow:" "},ro:{welcome:"Bun venit",dashboard:"Panou",investments:"Investiii",deposit:"Depunere",withdraw:"Retragere",balance:"Sold",pending:"n ateptare",approved:"Aprobat",home:"Acas",profile:"Profil",settings:"Setri",logout:"Deconectare",login:"Conectare",register:"nregistrare",investNow:"Investete Acum"},hu:{welcome:"dvzljk",dashboard:"Irnytpult",investments:"Befektetsek",deposit:"Befizets",withdraw:"Kifizets",balance:"Egyenleg",pending:"Fggben",approved:"Jvhagyott",home:"Foldal",profile:"Profil",settings:"Belltsok",logout:"Kijelentkezs",login:"Bejelentkezs",register:"Regisztrci",investNow:"Befektets Most"},bn:{welcome:"",dashboard:"",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",investNow:"  "},sw:{welcome:"Karibu",dashboard:"Dashibodi",investments:"Uwekezaji",deposit:"Amana",withdraw:"Kutoa",balance:"Salio",pending:"Inasubiri",approved:"Imeidhinishwa",home:"Nyumbani",profile:"Wasifu",settings:"Mipangilio",logout:"Ondoka",login:"Ingia",register:"Jisajili",investNow:"Wekeza Sasa"},yo:{welcome:" kb",dashboard:"Pnl",investments:"dkw",deposit:"fipam",withdraw:"mkr",balance:"yk",pending:" dr",approved:"Ti fws",home:"Il",profile:"ksl",settings:"t",investNow:"e dkw by"},ha:{welcome:"Barka da zuwa",dashboard:"Dashboard",investments:"Saka hannun jari",deposit:"Ajiya",withdraw:"Cire kui",balance:"Ragowar kui",pending:"Ana jira",approved:"An amince",home:"Gida",profile:"Bayani",settings:"Saiti",investNow:"Saka hannun jari yanzu"},ig:{welcome:"Nn",dashboard:"Dashboard",investments:"Ntinye ego",deposit:"Tinyere ego",withdraw:"Wepu ego",balance:"Ego fdr",pending:"Na-echere",approved:"Kwadoro",home:"l",profile:"Profal",settings:"Ntala",investNow:"Tinye ego ugbu a"}},Zw={en:"English",es:"Espaol",fr:"Franais",de:"Deutsch",pt:"Portugus",it:"Italiano",nl:"Nederlands",ru:"",zh:"",ja:"",ko:"",ar:"",hi:"",tr:"Trke",pl:"Polski",vi:"Ting Vit",th:"",id:"Bahasa Indonesia",ms:"Bahasa Melayu",tl:"Filipino",el:"",cs:"etina",sv:"Svenska",no:"Norsk",da:"Dansk",fi:"Suomi",he:"",uk:"",ro:"Romn",hu:"Magyar",bn:"",sw:"Kiswahili",yo:"Yorb",ha:"Hausa",ig:"Igbo"},a6=()=>{const e=(navigator.language||navigator.userLanguage).split("-")[0].toLowerCase();return i6[e]?e:"en"},o6=()=>localStorage.getItem("saxovault_language")||a6(),FT=()=>a.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3 py-4",children:[a.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-gray-100 rounded-lg",children:[a.jsx(da,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-xs text-gray-600",children:"256-bit SSL"})]}),a.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-gray-100 rounded-lg",children:[a.jsx(ir,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{className:"text-xs text-gray-600",children:"Bank-Level Security"})]}),a.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-gray-100 rounded-lg",children:[a.jsx(pR,{className:"w-4 h-4 text-yellow-600"}),a.jsx("span",{className:"text-xs text-gray-600",children:"Licensed"})]})]});function l6({onComplete:t}){const[e,n]=R.useState(0),s=[{title:"Welcome to SaxoVault! ",description:"Your journey to smart investing starts here. Let us show you around.",icon:""},{title:"Explore Investments",description:"Browse our curated investment opportunities across real estate, crypto, stocks, and more.",icon:""},{title:"Easy Deposits",description:"Fund your account instantly using Bitcoin, Ethereum, or USDT cryptocurrency.",icon:""},{title:"Track Your Portfolio",description:"Monitor your investments, returns, and transaction history from your dashboard.",icon:""},{title:"Secure & Trusted",description:"Your investments are protected with bank-level security and 24/7 support.",icon:""}],r=()=>{if(e<s.length-1)n(e+1);else{const o=JSON.parse(localStorage.getItem("saxovault_current_user")||"{}");o.uid&&localStorage.setItem(`saxovault_onboarding_${o.uid}`,"true"),localStorage.setItem("saxovault_onboarding_complete","true"),t()}},i=()=>{const o=JSON.parse(localStorage.getItem("saxovault_current_user")||"{}");o.uid&&localStorage.setItem(`saxovault_onboarding_${o.uid}`,"true"),localStorage.setItem("saxovault_onboarding_complete","true"),t()};return a.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:a.jsxs($.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl p-6 max-w-md w-full text-center shadow-2xl",children:[a.jsx("div",{className:"flex gap-1 mb-6 justify-center",children:s.map((o,l)=>a.jsx("div",{className:`h-1 rounded-full transition-all ${l<=e?"w-8":"w-4"}`,style:{background:l<=e?v.gold:"#e5e7eb"}},l))}),a.jsx("div",{className:"text-5xl mb-4",children:s[e].icon}),a.jsx("h2",{className:"font-serif text-xl mb-2",style:{color:v.navy},children:s[e].title}),a.jsx("p",{className:"text-gray-500 text-sm mb-6",children:s[e].description}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:i,className:"flex-1 py-3 rounded-xl text-gray-500 text-sm hover:bg-gray-100",children:"Skip"}),a.jsx($.button,{onClick:r,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 py-3 rounded-xl text-white text-sm font-medium",style:{background:`linear-gradient(135deg, ${v.navy} 0%, ${v.navyLight} 100%)`},children:e===s.length-1?"Let's Go!":"Next"})]})]})})}const Ce={hero:"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?w=1920&q=80",realEstate1:"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?w=800&q=80",realEstate2:"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=800&q=80",realEstate3:"https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=800&q=80",crypto1:"https://images.unsplash.com/photo-1518546305927-5a555bb7020d?w=800&q=80",crypto2:"https://images.unsplash.com/photo-1621761191319-c6fb62004040?w=800&q=80",crypto3:"https://images.unsplash.com/photo-1516245834210-c4c142787335?w=800&q=80",stocks1:"https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?w=800&q=80",stocks2:"https://images.unsplash.com/photo-1590283603385-17ffb3a7f29f?w=800&q=80",stocks3:"https://images.unsplash.com/photo-1642790106117-e829e14a795f?w=800&q=80",gold1:"https://images.unsplash.com/photo-1610375461246-83df859d849d?w=800&q=80",gold2:"https://images.unsplash.com/photo-1624365168968-f283d506c6b6?w=800&q=80",plans1:"https://images.unsplash.com/photo-1554224155-6726b3ff858f?w=800&q=80",plans2:"https://images.unsplash.com/photo-1579621970563-ebec7560ff3e?w=800&q=80",plans3:"https://images.unsplash.com/photo-1553729459-efe14ef6055d?w=800&q=80"},Hl=[{id:100,name:"Starter Trial",category:"Trial Plan",type:"crypto",min:500,max:500,returns:"5%",term:"5 days",desc:"Experience our platform with a $500 trial investment. Earn 1% daily profit for 5 days. Access your daily profits anytime - withdraw accumulated earnings while your capital works. Principal returned after plan completion. Limited to one trial per account.",progress:98,goal:5e5,img:Ce.crypto1,features:["1% Daily Profit","5-Day Duration","Withdraw Daily Profits","Capital Protected","One Per Account"],investors:24853,rating:5,status:"Active",payoutSchedule:"Daily Access",dailyRate:1,totalDays:5,isTestPlan:!0,onePerUser:!0,allowDailyWithdraw:!0},{id:5,name:"Crypto Starter",category:"Cryptocurrency",type:"crypto",min:1e3,max:14999,returns:"8-12%",term:"30 days",desc:"Begin your crypto journey with our entry-level fund. Diversified portfolio of Bitcoin, Ethereum, and top-performing altcoins managed by our expert trading team. Daily profit tracking available.",progress:94,goal:5e6,img:Ce.crypto1,features:["Daily Profit Access","BTC & ETH Core","Professional Management","Weekly Reports"],investors:12458,rating:4.8,status:"Active",payoutSchedule:"Daily Access",dailyRate:.33,totalDays:30,allowDailyWithdraw:!0},{id:6,name:"Crypto Growth",category:"Cryptocurrency",type:"crypto",min:15e3,max:29999,returns:"12-18%",term:"45 days",desc:"Accelerate your returns with our growth-focused crypto fund. Strategic allocation across top 20 cryptocurrencies with active rebalancing and DeFi yield optimization strategies.",progress:91,goal:1e7,img:Ce.crypto2,features:["Daily Profit Access","Top 20 Cryptos","Active Rebalancing","Bi-Weekly Updates"],investors:6234,rating:4.8,status:"Active",payoutSchedule:"Daily Access",dailyRate:.33,totalDays:45,allowDailyWithdraw:!0},{id:7,name:"Crypto Pro",category:"Cryptocurrency",type:"crypto",min:3e4,max:49999,returns:"18-25%",term:"60 days",desc:"Professional-grade crypto investment with advanced DeFi strategies. Access yield farming, liquidity pools, and arbitrage opportunities. Dedicated support and priority execution included.",progress:87,goal:15e6,img:Ce.crypto3,features:["Daily Profit Access","DeFi Strategies","Yield Farming","Priority Support"],investors:3876,rating:4.9,status:"Active",payoutSchedule:"Daily Access",dailyRate:.35,totalDays:60,allowDailyWithdraw:!0},{id:17,name:"Crypto Elite",category:"Cryptocurrency",type:"crypto",min:5e4,max:99999,returns:"25-35%",term:"90 days",desc:"Elite tier for serious investors. Combines algorithmic trading, market-making strategies, and exclusive pre-listing access. Personal account manager and custom reporting included.",progress:78,goal:25e6,img:Ce.crypto1,features:["Daily Profit Access","Algo Trading","Pre-Listing Access","Personal Manager"],investors:1567,rating:4.9,status:"Active",payoutSchedule:"Daily Access",dailyRate:.33,totalDays:90,allowDailyWithdraw:!0},{id:18,name:"Crypto Premium",category:"Cryptocurrency",type:"crypto",min:1e5,max:249999,returns:"35-48%",term:"120 days",desc:"Premium crypto fund with institutional-grade strategies. OTC deals, venture investments, and maximum yield optimization. White-glove service with 24/7 dedicated support.",progress:68,goal:5e7,img:Ce.crypto2,features:["Daily Profit Access","OTC Deals","Venture Access","24/7 VIP Support"],investors:487,rating:5,status:"Active",payoutSchedule:"Daily Access",dailyRate:.33,totalDays:120,allowDailyWithdraw:!0},{id:19,name:"Crypto Institutional",category:"Cryptocurrency",type:"crypto",min:25e4,returns:"48-65%",term:"180 days",desc:"Institutional-grade crypto portfolio for high-net-worth clients. Bespoke investment strategies, direct trader access, and comprehensive wealth management. Insurance-backed principal protection.",progress:55,goal:1e8,img:Ce.crypto3,features:["Daily Profit Access","Bespoke Strategy","Direct Trader Access","Insurance Backed"],investors:156,rating:5,status:"Active",payoutSchedule:"Daily Access",dailyRate:.3,totalDays:180,allowDailyWithdraw:!0},{id:1,name:"Metro Prime REIT",category:"Real Estate",type:"real-estate",min:25e3,returns:"18-25%",term:"12 months",desc:"Premium commercial real estate portfolio featuring Class-A properties in major metropolitan areas. Stable rental income combined with capital appreciation. Quarterly dividend distributions.",progress:76,goal:25e6,img:Ce.realEstate1,features:["Class-A Properties","Quarterly Dividends","Capital Appreciation","Tax Benefits"],investors:892,rating:4.9,status:"Active",dailyRate:.058,totalDays:365},{id:2,name:"Luxury Residences Fund",category:"Real Estate",type:"real-estate",min:25e3,returns:"22-30%",term:"18 months",desc:"Exclusive luxury residential developments in prime global locations. Benefit from property appreciation and rental yields in high-demand markets. Professional property management included.",progress:65,goal:35e6,img:Ce.realEstate2,features:["Luxury Properties","Prime Locations","High Appreciation","Professional Mgmt"],investors:567,rating:4.8,status:"Active",dailyRate:.048,totalDays:540},{id:3,name:"Commercial Portfolio",category:"Real Estate",type:"real-estate",min:5e4,returns:"28-38%",term:"24 months",desc:"Diversified commercial real estate including office buildings, retail centers, and industrial properties. Long-term leases provide stable, predictable returns with upside potential.",progress:52,goal:75e6,img:Ce.realEstate3,features:["Diversified Assets","Long-Term Leases","Stable Income","Capital Growth"],investors:324,rating:4.7,status:"Funding",dailyRate:.045,totalDays:730},{id:8,name:"Dividend Champions",category:"Stocks & Bonds",type:"stocks",min:5e3,returns:"12-18%",term:"12 months",desc:"Curated portfolio of dividend-paying stocks with proven track records. Focus on companies with 25+ years of consecutive dividend increases. Reliable quarterly income stream.",img:Ce.stocks1,features:["Quarterly Dividends","Blue Chip Quality","25+ Year Track Record","Steady Income"],investors:3456,rating:4.9,status:"Open",dailyRate:.042,totalDays:365},{id:9,name:"Tech Leaders Fund",category:"Stocks & Bonds",type:"stocks",min:5e3,returns:"18-28%",term:"12 months",desc:"Growth-focused portfolio targeting technology sector leaders in AI, cloud computing, semiconductors, and emerging tech. Higher growth potential with active management.",img:Ce.stocks2,features:["AI & Tech Focus","Growth Oriented","Active Management","Monthly Updates"],investors:2134,rating:4.7,status:"Open",dailyRate:.065,totalDays:365},{id:10,name:"Global Bond Fund",category:"Stocks & Bonds",type:"stocks",min:1e4,returns:"8-12%",term:"12 months",desc:"Investment-grade corporate and government bonds from global markets. Capital preservation focus with steady income. Lower volatility suitable for conservative investors.",img:Ce.stocks3,features:["Capital Preservation","Monthly Income","Investment Grade","Low Volatility"],investors:1876,rating:4.9,status:"Open",dailyRate:.028,totalDays:365},{id:11,name:"Gold Reserve Fund",category:"Precious Metals",type:"metals",min:5e3,returns:"10-15%",term:"6 months",desc:"Strategic gold investment combining physical holdings and gold mining equities. Inflation hedge with exposure to precious metals market movements and safe-haven demand.",progress:87,goal:15e6,img:Ce.gold1,features:["Inflation Hedge","Physical + Miners","Safe Haven","Quarterly Reports"],investors:2678,rating:4.8,status:"Active",dailyRate:.07,totalDays:180},{id:12,name:"Precious Metals Mix",category:"Precious Metals",type:"metals",min:1e4,returns:"15-22%",term:"12 months",desc:"Diversified precious metals portfolio including gold, silver, platinum, and palladium. Benefit from industrial demand and safe-haven status across multiple metals markets.",progress:72,goal:2e7,img:Ce.gold2,features:["Multi-Metal Exposure","Industrial Demand","Diversified","Quarterly Payouts"],investors:1534,rating:4.7,status:"Active",dailyRate:.052,totalDays:365},{id:14,name:"Conservative Growth",category:"Balanced",type:"plans",min:2500,returns:"10-15%",term:"6 months",desc:"Balanced allocation across stable assets for steady growth. Perfect for investors seeking consistent returns with minimized risk. Capital protection focus with monthly distributions.",img:Ce.plans1,features:["Capital Protected","Monthly Payouts","Low Volatility","Beginner Friendly"],investors:5678,rating:4.9,status:"Open",dailyRate:.07,totalDays:180},{id:15,name:"Balanced Wealth",category:"Balanced",type:"plans",min:1e4,returns:"18-25%",term:"12 months",desc:"Dynamic portfolio balancing growth and income across multiple asset classes. Quarterly rebalancing optimizes returns while managing risk. Ideal for medium-term wealth building.",img:Ce.plans2,features:["Multi-Asset Mix","Quarterly Rebalance","Growth + Income","Tax Efficient"],investors:3421,rating:4.8,status:"Open",dailyRate:.06,totalDays:365},{id:16,name:"Maximum Growth",category:"Balanced",type:"plans",min:25e3,returns:"28-40%",term:"12 months",desc:"Aggressive growth strategy targeting maximum returns through high-conviction positions in crypto, tech stocks, and emerging opportunities. For experienced investors with higher risk tolerance.",img:Ce.plans3,features:["Max Growth Focus","High Conviction","Active Trading","Weekly Updates"],investors:1234,rating:4.7,status:"Open",dailyRate:.095,totalDays:365}],c6=[{id:"all",name:"All",icon:ca,count:Hl.length},{id:"crypto",name:"Crypto",icon:H2,count:6},{id:"real-estate",name:"Real Estate",icon:fg,count:3},{id:"stocks",name:"Stocks & Bonds",icon:z2,count:3},{id:"metals",name:"Metals",icon:Y2,count:2},{id:"plans",name:"Portfolios",icon:yR,count:3}];function u6({onLogin:t,setMessage:e,setLoading:n,loading:s}){const[r,i]=R.useState(!1),o=async()=>{i(!0),e({type:"",text:""});try{const l=await e6();l.success?(l.isNewUser&&Te.sendNewUserNotification(l.userData.email,l.userData.name,"Google").catch(console.error),t(l.userData)):e({type:"error",text:l.error})}catch{e({type:"error",text:"Google sign-in failed. Please try again."})}finally{i(!1)}};return a.jsx($.button,{type:"button",onClick:o,disabled:s||r,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3.5 rounded-xl font-semibold flex items-center justify-center gap-3 border-2 border-gray-200 bg-white hover:bg-gray-50 disabled:opacity-70 transition-all",children:r?a.jsx(pn,{className:"w-5 h-5 animate-spin text-gray-600"}):a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[a.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),a.jsx("span",{style:{color:v.navy},children:"Continue with Google"})]})})}function d6({onLogin:t}){const[e,n]=R.useState("login"),[s,r]=R.useState(!1),[i,o]=R.useState(1),[l,u]=R.useState({name:"",email:"",phone:"",password:"",confirmPassword:"",referralCode:"",country:""}),[d,f]=R.useState(!1),[h,p]=R.useState({}),[y,b]=R.useState({type:"",text:""}),I=[{name:"Afghanistan",code:"+93",flag:""},{name:"Albania",code:"+355",flag:""},{name:"Algeria",code:"+213",flag:""},{name:"Argentina",code:"+54",flag:""},{name:"Australia",code:"+61",flag:""},{name:"Austria",code:"+43",flag:""},{name:"Bangladesh",code:"+880",flag:""},{name:"Belgium",code:"+32",flag:""},{name:"Brazil",code:"+55",flag:""},{name:"Canada",code:"+1",flag:""},{name:"Chile",code:"+56",flag:""},{name:"China",code:"+86",flag:""},{name:"Colombia",code:"+57",flag:""},{name:"Czech Republic",code:"+420",flag:""},{name:"Denmark",code:"+45",flag:""},{name:"Egypt",code:"+20",flag:""},{name:"Ethiopia",code:"+251",flag:""},{name:"Finland",code:"+358",flag:""},{name:"France",code:"+33",flag:""},{name:"Germany",code:"+49",flag:""},{name:"Ghana",code:"+233",flag:""},{name:"Greece",code:"+30",flag:""},{name:"Hong Kong",code:"+852",flag:""},{name:"Hungary",code:"+36",flag:""},{name:"India",code:"+91",flag:""},{name:"Indonesia",code:"+62",flag:""},{name:"Ireland",code:"+353",flag:""},{name:"Israel",code:"+972",flag:""},{name:"Italy",code:"+39",flag:""},{name:"Japan",code:"+81",flag:""},{name:"Kenya",code:"+254",flag:""},{name:"Malaysia",code:"+60",flag:""},{name:"Mexico",code:"+52",flag:""},{name:"Morocco",code:"+212",flag:""},{name:"Nepal",code:"+977",flag:""},{name:"Netherlands",code:"+31",flag:""},{name:"New Zealand",code:"+64",flag:""},{name:"Nigeria",code:"+234",flag:""},{name:"Norway",code:"+47",flag:""},{name:"Pakistan",code:"+92",flag:""},{name:"Peru",code:"+51",flag:""},{name:"Philippines",code:"+63",flag:""},{name:"Poland",code:"+48",flag:""},{name:"Portugal",code:"+351",flag:""},{name:"Romania",code:"+40",flag:""},{name:"Russia",code:"+7",flag:""},{name:"Saudi Arabia",code:"+966",flag:""},{name:"Singapore",code:"+65",flag:""},{name:"South Africa",code:"+27",flag:""},{name:"South Korea",code:"+82",flag:""},{name:"Spain",code:"+34",flag:""},{name:"Sri Lanka",code:"+94",flag:""},{name:"Sweden",code:"+46",flag:""},{name:"Switzerland",code:"+41",flag:""},{name:"Taiwan",code:"+886",flag:""},{name:"Tanzania",code:"+255",flag:""},{name:"Thailand",code:"+66",flag:""},{name:"Turkey",code:"+90",flag:""},{name:"UAE",code:"+971",flag:""},{name:"Uganda",code:"+256",flag:""},{name:"Ukraine",code:"+380",flag:""},{name:"United Kingdom",code:"+44",flag:""},{name:"United States",code:"+1",flag:""},{name:"Vietnam",code:"+84",flag:""},{name:"Zimbabwe",code:"+263",flag:""}],A=I.find(O=>O.name===l.country)||null,[E,x]=R.useState(!1),[_,V]=R.useState(""),[L,F]=R.useState({score:0,checks:{}}),j=O=>{const q={minLength:O.length>=8,hasUppercase:/[A-Z]/.test(O),hasLowercase:/[a-z]/.test(O),hasNumber:/[0-9]/.test(O),hasSymbol:/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(O)};return{score:Object.values(q).filter(Boolean).length,checks:q}};R.useEffect(()=>{e==="register"&&F(j(l.password))},[l.password,e]);const w=O=>O===0?{label:"",color:"#gray"}:O<=2?{label:"Weak",color:"#ef4444"}:O<=3?{label:"Fair",color:"#f59e0b"}:O<=4?{label:"Good",color:"#3b82f6"}:{label:"Strong",color:"#10b981"},N=()=>{const O={};return e==="register"&&(l.name.trim()||(O.name="Full name is required"),l.country||(O.country="Please select your country"),l.password!==l.confirmPassword&&(O.confirmPassword="Passwords do not match"),l.password.length<8?O.password="Password must be at least 8 characters":L.checks.hasUppercase?L.checks.hasLowercase?L.checks.hasNumber?L.checks.hasSymbol||(O.password="Password must include a symbol (!@#$%^&*)"):O.password="Password must include a number":O.password="Password must include a lowercase letter":O.password="Password must include an uppercase letter"),(!l.email.includes("@")||!l.email.includes("."))&&(O.email="Please enter a valid email address"),l.password||(O.password="Password is required"),p(O),Object.keys(O).length===0},[S,P]=R.useState(!1),[D,C]=R.useState(null),W=async O=>{if(O.preventDefault(),!!N()){if(f(!0),b({type:"",text:""}),e==="register"){const q=await t6(l.email,l.password,{name:l.name,phone:A?`${A.code} ${l.phone}`:l.phone,country:l.country,referralCode:l.referralCode});q.success?(o(2),b({type:"success",text:q.message}),Te.sendNewUserNotification(l.email,l.name,"Email").catch(console.error)):b({type:"error",text:q.error})}else{const q=await Xw(l.email,l.password);if(q.success){if(Yt.is2FAEnabled(q.userData.uid)){C(q.userData),console.log(" Sending 2FA code to:",q.userData.email),(await Yt.send2FACode(q.userData.uid,q.userData.email)).success?console.log(" 2FA code sent successfully"):console.error(" Failed to send 2FA code"),P(!0),f(!1);return}t(q.userData)}else q.needsVerification?(o(2),b({type:"warning",text:q.error})):b({type:"error",text:q.error})}f(!1)}},J=()=>{P(!1),D&&(t(D),C(null))},ue=async O=>{if(O.preventDefault(),!_.includes("@")){b({type:"error",text:"Please enter a valid email address"});return}f(!0);const q=await s6(_);q.success?(b({type:"success",text:q.message}),x(!1),V("")):b({type:"error",text:q.error}),f(!1)},fe=async()=>{f(!0),(await Xw(l.email,l.password)).needsVerification&&b({type:"success",text:"Verification email sent! Please check your inbox."}),f(!1)};return i===2?a.jsxs("div",{className:"min-h-screen flex flex-col lg:flex-row",style:{background:v.cream},children:[a.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden",style:{background:`linear-gradient(135deg, ${v.navy} 0%, ${v.navyLight} 100%)`},children:[a.jsx("div",{className:"absolute inset-0",children:a.jsx("img",{src:Ce.hero,alt:"",className:"w-full h-full object-cover opacity-20"})}),a.jsxs("div",{className:"relative z-10 flex flex-col justify-center items-center p-16 text-center",children:[a.jsx($.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring"},className:"mb-8",children:a.jsxs("svg",{viewBox:"0 0 50 55",className:"w-20 h-20 lg:w-24 lg:h-24",children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"authLogoGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:"#d4a853"}),a.jsx("stop",{offset:"50%",stopColor:"#f4d078"}),a.jsx("stop",{offset:"100%",stopColor:"#d4a853"})]})}),a.jsx("path",{d:"M25 0 L50 8 L50 30 C50 42 38 50 25 55 C12 50 0 42 0 30 L0 8 Z",fill:"rgba(255,255,255,0.15)"}),a.jsx("path",{d:"M25 5 L45 12 L45 29 C45 39 35 46 25 50 C15 46 5 39 5 29 L5 12 Z",fill:"none",stroke:"url(#authLogoGold)",strokeWidth:"2"}),a.jsx("text",{x:"25",y:"36",fontFamily:"Georgia, serif",fontSize:"26",fontWeight:"bold",fill:"url(#authLogoGold)",textAnchor:"middle",children:"S"})]})}),a.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[a.jsx("h1",{className:"font-serif text-4xl lg:text-5xl text-white",children:"SAXO"}),a.jsx("h1",{className:"font-serif text-4xl lg:text-5xl",style:{color:v.gold},children:"VAULT"})]}),a.jsx("p",{className:"text-lg tracking-[0.3em] uppercase text-white/70",children:"Capital"})]})]}),a.jsx("div",{className:"flex-1 flex items-center justify-center p-6 lg:p-16",children:a.jsxs($.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[a.jsxs("div",{className:"lg:hidden text-center mb-8",children:[a.jsx("div",{className:"w-14 h-14 mx-auto mb-3",children:a.jsxs("svg",{viewBox:"0 0 50 55",className:"w-full h-full",children:[a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:"authMobileGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:"#d4a853"}),a.jsx("stop",{offset:"50%",stopColor:"#f4d078"}),a.jsx("stop",{offset:"100%",stopColor:"#d4a853"})]}),a.jsxs("linearGradient",{id:"authMobileNavy",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:"#1a2d4a"}),a.jsx("stop",{offset:"100%",stopColor:"#0a1628"})]})]}),a.jsx("path",{d:"M25 0 L50 8 L50 30 C50 42 38 50 25 55 C12 50 0 42 0 30 L0 8 Z",fill:"url(#authMobileNavy)"}),a.jsx("path",{d:"M25 5 L45 12 L45 29 C45 39 35 46 25 50 C15 46 5 39 5 29 L5 12 Z",fill:"none",stroke:"url(#authMobileGold)",strokeWidth:"1.5"}),a.jsx("text",{x:"25",y:"35",fontFamily:"Georgia, serif",fontSize:"24",fontWeight:"bold",fill:"url(#authMobileGold)",textAnchor:"middle",children:"S"})]})}),a.jsxs("div",{className:"flex items-baseline justify-center gap-1",children:[a.jsx("span",{className:"font-serif text-xl",style:{color:v.navy},children:"SAXO"}),a.jsx("span",{className:"font-serif text-xl",style:{color:v.gold},children:"VAULT"})]})]}),a.jsxs("div",{className:"text-center mb-8",children:[a.jsx($.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2},className:"w-16 h-16 lg:w-20 lg:h-20 mx-auto rounded-full flex items-center justify-center mb-4",style:{background:`${v.green}15`},children:a.jsx(es,{className:"w-8 h-8 lg:w-10 lg:h-10",style:{color:v.green}})}),a.jsx("h2",{className:"font-serif text-2xl lg:text-3xl mb-2",style:{color:v.navy},children:"Check Your Email!"}),a.jsx("p",{className:"text-gray-500 text-sm lg:text-base mb-2",children:"We've sent a verification link to:"}),a.jsx("p",{className:"font-semibold",style:{color:v.navy},children:l.email})]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-6",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx(es,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-blue-800 text-sm font-medium",children:"Verification Required"}),a.jsx("p",{className:"text-blue-600 text-xs mt-1",children:"Click the link in your email to verify your account. Check your spam folder if you don't see it."})]})]})}),y.text&&a.jsxs($.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`mb-4 p-3 rounded-xl text-sm flex items-center gap-2 ${y.type==="success"?"bg-green-50 text-green-700 border border-green-200":y.type==="warning"?"bg-yellow-50 text-yellow-700 border border-yellow-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[y.type==="success"?a.jsx(Xe,{className:"w-4 h-4"}):a.jsx(Ki,{className:"w-4 h-4"}),y.text]}),a.jsx($.button,{onClick:fe,disabled:d,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3.5 lg:py-4 rounded-xl font-semibold text-base lg:text-lg flex items-center justify-center gap-3 border-2 mb-4",style:{borderColor:v.navy,color:v.navy},children:d?a.jsx(pn,{className:"w-5 h-5 animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(es,{className:"w-5 h-5"})," Resend Verification Email"]})}),a.jsx($.button,{onClick:()=>{o(1),n("login")},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3.5 lg:py-4 rounded-xl text-white font-semibold text-base lg:text-lg flex items-center justify-center gap-3",style:{background:`linear-gradient(135deg, ${v.navy} 0%, ${v.navyLight} 100%)`},children:"Back to Login"}),a.jsx("p",{className:"text-center text-gray-500 text-xs mt-6",children:"Already verified? Go back to login and sign in."})]})})]}):E?a.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",style:{background:v.cream},children:a.jsxs($.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"w-full max-w-md bg-white rounded-2xl shadow-xl p-6 lg:p-8",children:[a.jsxs("button",{onClick:()=>x(!1),className:"mb-4 flex items-center gap-2 text-gray-500 hover:text-gray-700",children:[a.jsx(Il,{className:"w-4 h-4"})," Back to Login"]}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"w-16 h-16 mx-auto rounded-full flex items-center justify-center mb-4",style:{background:`${v.gold}15`},children:a.jsx(Vu,{className:"w-8 h-8",style:{color:v.gold}})}),a.jsx("h2",{className:"font-serif text-2xl mb-2",style:{color:v.navy},children:"Reset Password"}),a.jsx("p",{className:"text-gray-500 text-sm",children:"Enter your email to receive a reset link"})]}),y.text&&a.jsxs($.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`mb-4 p-3 rounded-xl text-sm flex items-center gap-2 ${y.type==="success"?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:[y.type==="success"?a.jsx(Xe,{className:"w-4 h-4"}):a.jsx(Ki,{className:"w-4 h-4"}),y.text]}),a.jsxs("form",{onSubmit:ue,children:[a.jsxs("div",{className:"relative mb-4",children:[a.jsx(es,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"email",value:_,onChange:O=>V(O.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email"})]}),a.jsx($.button,{type:"submit",disabled:d,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3.5 rounded-xl text-white font-semibold flex items-center justify-center gap-3",style:{background:`linear-gradient(135deg, ${v.navy} 0%, ${v.navyLight} 100%)`},children:d?a.jsx(pn,{className:"w-5 h-5 animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(Po,{className:"w-5 h-5"})," Send Reset Link"]})})]})]})}):a.jsxs(a.Fragment,{children:[a.jsx(ft,{children:S&&D&&a.jsx(k6,{user:D,onVerify:J,onClose:()=>P(!1),onResend:async()=>(await Yt.send2FACode(D.uid,D.email)).success})}),a.jsxs("div",{className:"min-h-screen flex flex-col lg:flex-row",style:{background:v.cream},children:[a.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden",style:{background:`linear-gradient(135deg, ${v.navy} 0%, ${v.navyLight} 100%)`},children:[a.jsx("div",{className:"absolute inset-0",children:a.jsx("img",{src:Ce.hero,alt:"",className:"w-full h-full object-cover opacity-20"})}),a.jsxs("div",{className:"relative z-10 flex flex-col justify-center items-center p-16 text-center",children:[a.jsx($.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",duration:.8},className:"mb-8",children:a.jsxs("svg",{viewBox:"0 0 50 55",className:"w-24 h-24",children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"regLogoGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:"#d4a853"}),a.jsx("stop",{offset:"50%",stopColor:"#f4d078"}),a.jsx("stop",{offset:"100%",stopColor:"#d4a853"})]})}),a.jsx("path",{d:"M25 0 L50 8 L50 30 C50 42 38 50 25 55 C12 50 0 42 0 30 L0 8 Z",fill:"rgba(255,255,255,0.15)"}),a.jsx("path",{d:"M25 5 L45 12 L45 29 C45 39 35 46 25 50 C15 46 5 39 5 29 L5 12 Z",fill:"none",stroke:"url(#regLogoGold)",strokeWidth:"2"}),a.jsx("text",{x:"25",y:"36",fontFamily:"Georgia, serif",fontSize:"26",fontWeight:"bold",fill:"url(#regLogoGold)",textAnchor:"middle",children:"S"})]})}),a.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[a.jsx("h1",{className:"font-serif text-5xl text-white",children:"SAXO"}),a.jsx("h1",{className:"font-serif text-5xl",style:{color:v.gold},children:"VAULT"})]}),a.jsx("p",{className:"text-lg tracking-[0.3em] uppercase text-white/70",children:"Capital"}),a.jsx("p",{className:"text-white/60 text-lg max-w-md mt-4",children:"Access curated Real Estate, Cryptocurrency, Stocks, and Precious Metals investments."}),a.jsx("div",{className:"mt-12 space-y-4 text-left max-w-sm",children:["Institutional-grade investments","Professional asset management","Refer & earn bonus rewards"].map((O,q)=>a.jsxs($.div,{initial:{x:-30,opacity:0},animate:{x:0,opacity:1},transition:{delay:.3+q*.1},className:"flex items-center gap-3 text-white/80",children:[a.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{background:`${v.gold}30`},children:a.jsx(rr,{className:"w-4 h-4",style:{color:v.gold}})}),O]},q))})]})]}),a.jsx("div",{className:"flex-1 flex items-center justify-center p-6 lg:p-16",children:a.jsxs($.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[a.jsxs("div",{className:"lg:hidden text-center mb-8",children:[a.jsx("div",{className:"w-14 h-14 mx-auto mb-3",children:a.jsxs("svg",{viewBox:"0 0 50 55",className:"w-full h-full",children:[a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:"regMobileGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:"#d4a853"}),a.jsx("stop",{offset:"50%",stopColor:"#f4d078"}),a.jsx("stop",{offset:"100%",stopColor:"#d4a853"})]}),a.jsxs("linearGradient",{id:"regMobileNavy",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:"#1a2d4a"}),a.jsx("stop",{offset:"100%",stopColor:"#0a1628"})]})]}),a.jsx("path",{d:"M25 0 L50 8 L50 30 C50 42 38 50 25 55 C12 50 0 42 0 30 L0 8 Z",fill:"url(#regMobileNavy)"}),a.jsx("path",{d:"M25 5 L45 12 L45 29 C45 39 35 46 25 50 C15 46 5 39 5 29 L5 12 Z",fill:"none",stroke:"url(#regMobileGold)",strokeWidth:"1.5"}),a.jsx("text",{x:"25",y:"35",fontFamily:"Georgia, serif",fontSize:"24",fontWeight:"bold",fill:"url(#regMobileGold)",textAnchor:"middle",children:"S"})]})}),a.jsxs("div",{className:"flex items-baseline justify-center gap-1",children:[a.jsx("span",{className:"font-serif text-xl",style:{color:v.navy},children:"SAXO"}),a.jsx("span",{className:"font-serif text-xl",style:{color:v.gold},children:"VAULT"})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"font-serif text-2xl lg:text-3xl mb-2",style:{color:v.navy},children:e==="login"?"Welcome Back":"Create Account"}),a.jsx("p",{className:"text-gray-500 text-sm lg:text-base",children:e==="login"?"Sign in to access your investments":"Start your investment journey today"})]}),y.text&&a.jsxs($.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`mb-4 p-3 rounded-xl text-sm flex items-center gap-2 ${y.type==="success"?"bg-green-50 text-green-700 border border-green-200":y.type==="warning"?"bg-yellow-50 text-yellow-700 border border-yellow-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[y.type==="success"?a.jsx(Xe,{className:"w-4 h-4"}):a.jsx(Ki,{className:"w-4 h-4"}),y.text]}),a.jsx("div",{className:"flex mb-6 bg-gray-100 rounded-xl p-1.5",children:["login","register"].map(O=>a.jsx("button",{onClick:()=>{n(O),p({}),b({type:"",text:""})},className:`flex-1 py-2.5 lg:py-3 rounded-lg font-medium text-sm lg:text-base transition-all ${e===O?"bg-white shadow-md":"text-gray-500"}`,style:e===O?{color:v.navy}:{},children:O==="login"?"Sign In":"Register"},O))}),a.jsxs("form",{onSubmit:W,className:"space-y-4",children:[a.jsx(ft,{mode:"wait",children:e==="register"&&a.jsxs($.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Full Name"}),a.jsxs("div",{className:"relative",children:[a.jsx(kl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",value:l.name,onChange:O=>u({...l,name:O.target.value}),className:`w-full pl-12 pr-4 py-3 border rounded-xl focus:outline-none ${h.name?"border-red-500":"border-gray-200"}`,placeholder:"John Doe"})]}),h.name&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.name})]},"name")}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(es,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"email",value:l.email,onChange:O=>u({...l,email:O.target.value}),className:`w-full pl-12 pr-4 py-3 border rounded-xl focus:outline-none ${h.email?"border-red-500":"border-gray-200"}`,placeholder:"john@example.com"})]}),h.email&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.email})]}),a.jsx(ft,{mode:"wait",children:e==="register"&&a.jsxs(a.Fragment,{children:[a.jsxs($.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Country"}),a.jsxs("div",{className:"relative",children:[a.jsx(ca,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsxs("select",{value:l.country,onChange:O=>u({...l,country:O.target.value}),className:`w-full pl-12 pr-4 py-3 border rounded-xl focus:outline-none appearance-none bg-white ${h.country?"border-red-500":"border-gray-200"}`,children:[a.jsx("option",{value:"",children:"Select your country"}),I.map(O=>a.jsxs("option",{value:O.name,children:[O.flag," ",O.name," (",O.code,")"]},O.name))]}),a.jsx(W2,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"})]}),h.country&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.country})]},"country"),a.jsxs($.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Phone Number"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("div",{className:"relative w-24 flex-shrink-0",children:a.jsx("div",{className:"w-full px-3 py-3 border border-gray-200 rounded-xl bg-gray-50 text-sm font-medium flex items-center justify-center gap-1",style:{color:v.navy},children:A?a.jsxs(a.Fragment,{children:[A.flag," ",A.code]}):a.jsx("span",{className:"text-gray-400",children:"Code"})})}),a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Z2,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"tel",value:l.phone,onChange:O=>u({...l,phone:O.target.value.replace(/\D/g,"")}),className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none",placeholder:"Phone number",maxLength:"15"})]})]}),A&&l.phone&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Full number: ",A.code," ",l.phone]})]},"phone")]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(ir,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:s?"text":"password",value:l.password,onChange:O=>u({...l,password:O.target.value}),className:`w-full pl-12 pr-14 py-3 border rounded-xl focus:outline-none ${h.password?"border-red-500":"border-gray-200"}`,placeholder:"Create a strong password"}),a.jsx("button",{type:"button",onClick:()=>r(!s),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400",children:s?a.jsx(K2,{className:"w-5 h-5"}):a.jsx(Q2,{className:"w-5 h-5"})})]}),h.password&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.password}),e==="register"&&l.password&&a.jsxs("div",{className:"mt-2",children:[a.jsx("div",{className:"flex gap-1 mb-2",children:[1,2,3,4,5].map(O=>a.jsx("div",{className:"h-1.5 flex-1 rounded-full transition-all duration-300",style:{background:L.score>=O?w(L.score).color:"#e5e7eb"}},O))}),a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-xs font-medium",style:{color:w(L.score).color},children:w(L.score).label}),a.jsxs("span",{className:"text-xs text-gray-400",children:[L.score,"/5 requirements met"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-1 text-xs",children:[a.jsxs("div",{className:`flex items-center gap-1 ${L.checks.minLength?"text-green-600":"text-gray-400"}`,children:[L.checks.minLength?a.jsx(Xe,{className:"w-3 h-3"}):a.jsx("div",{className:"w-3 h-3 rounded-full border border-current"}),a.jsx("span",{children:"8+ characters"})]}),a.jsxs("div",{className:`flex items-center gap-1 ${L.checks.hasUppercase?"text-green-600":"text-gray-400"}`,children:[L.checks.hasUppercase?a.jsx(Xe,{className:"w-3 h-3"}):a.jsx("div",{className:"w-3 h-3 rounded-full border border-current"}),a.jsx("span",{children:"Uppercase (A-Z)"})]}),a.jsxs("div",{className:`flex items-center gap-1 ${L.checks.hasLowercase?"text-green-600":"text-gray-400"}`,children:[L.checks.hasLowercase?a.jsx(Xe,{className:"w-3 h-3"}):a.jsx("div",{className:"w-3 h-3 rounded-full border border-current"}),a.jsx("span",{children:"Lowercase (a-z)"})]}),a.jsxs("div",{className:`flex items-center gap-1 ${L.checks.hasNumber?"text-green-600":"text-gray-400"}`,children:[L.checks.hasNumber?a.jsx(Xe,{className:"w-3 h-3"}):a.jsx("div",{className:"w-3 h-3 rounded-full border border-current"}),a.jsx("span",{children:"Number (0-9)"})]}),a.jsxs("div",{className:`flex items-center gap-1 col-span-2 ${L.checks.hasSymbol?"text-green-600":"text-gray-400"}`,children:[L.checks.hasSymbol?a.jsx(Xe,{className:"w-3 h-3"}):a.jsx("div",{className:"w-3 h-3 rounded-full border border-current"}),a.jsx("span",{children:"Symbol (!@#$%^&*)"})]})]})]})]}),a.jsx(ft,{mode:"wait",children:e==="register"&&a.jsxs(a.Fragment,{children:[a.jsxs($.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Confirm Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(ir,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:s?"text":"password",value:l.confirmPassword,onChange:O=>u({...l,confirmPassword:O.target.value}),className:`w-full pl-12 pr-4 py-3 border rounded-xl focus:outline-none ${h.confirmPassword?"border-red-500":"border-gray-200"}`,placeholder:""})]}),h.confirmPassword&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.confirmPassword})]},"confirm"),a.jsxs($.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Referral Code (Optional)"}),a.jsxs("div",{className:"relative",children:[a.jsx(jl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",value:l.referralCode,onChange:O=>u({...l,referralCode:O.target.value}),className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none",placeholder:"Enter referral code"})]})]},"referral")]})}),e==="login"&&a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{type:"button",onClick:()=>x(!0),className:"text-sm font-medium hover:underline",style:{color:v.navy},children:"Forgot Password?"})}),a.jsx($.button,{type:"submit",disabled:d,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3.5 rounded-xl text-white font-semibold flex items-center justify-center gap-3 shadow-lg disabled:opacity-70",style:{background:`linear-gradient(135deg, ${v.navy} 0%, ${v.navyLight} 100%)`},children:d?a.jsx(pn,{className:"w-5 h-5 animate-spin"}):a.jsxs(a.Fragment,{children:[e==="login"?"Sign In":"Create Account"," ",a.jsx(Du,{className:"w-5 h-5"})]})})]}),a.jsxs("div",{className:"flex items-center gap-4 my-6",children:[a.jsx("div",{className:"flex-1 h-px bg-gray-200"}),a.jsx("span",{className:"text-sm text-gray-400",children:"or continue with"}),a.jsx("div",{className:"flex-1 h-px bg-gray-200"})]}),a.jsx(u6,{onLogin:t,setMessage:b,setLoading:f,loading:d}),a.jsxs("div",{className:"mt-6 flex flex-wrap items-center gap-4 text-sm text-gray-500",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ro,{className:"w-4 h-4",style:{color:v.green}}),a.jsx("span",{children:"Bank-level Security"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ir,{className:"w-4 h-4",style:{color:v.green}}),a.jsx("span",{children:"256-bit SSL"})]})]})]})})]})]})}function h6({activePage:t,onNavigate:e,user:n,onLogout:s}){const[r,i]=R.useState(!1),[o,l]=R.useState(!1),[u,d]=R.useState(!1),[f,h]=R.useState(!1);R.useEffect(()=>{const b=()=>i(window.scrollY>20);return window.addEventListener("scroll",b),()=>window.removeEventListener("scroll",b)},[]);const p=[{id:"home",label:"Home",icon:X2},{id:"investments",label:"Investments",icon:Xr},{id:"dashboard",label:"Dashboard",icon:mg},{id:"deposit",label:"Deposit",icon:us,isAction:!0,color:"#10b981"},{id:"withdraw",label:"Withdraw",icon:Bn,isAction:!0,color:"#f59e0b"},{id:"referral",label:"Referral",icon:jl},{id:"calculator",label:"Calculator",icon:xR}],y=b=>{b==="deposit"?d(!0):b==="withdraw"?h(!0):e(b),l(!1)};return a.jsxs(a.Fragment,{children:[a.jsx($.nav,{initial:{y:-100},animate:{y:0},className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${r||t!=="home"?"bg-white/95 backdrop-blur-md shadow-lg":"bg-transparent"}`,children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 lg:px-6 py-3 lg:py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs($.div,{whileHover:{scale:1.02},className:"flex items-center gap-2 lg:gap-3 cursor-pointer",onClick:()=>e("home"),children:[a.jsx("div",{className:"relative w-10 h-10 lg:w-11 lg:h-11",children:a.jsxs("svg",{viewBox:"0 0 50 55",className:"w-full h-full",children:[a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:"logoGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:"#d4a853"}),a.jsx("stop",{offset:"50%",stopColor:"#f4d078"}),a.jsx("stop",{offset:"100%",stopColor:"#d4a853"})]}),a.jsxs("linearGradient",{id:"logoNavy",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:"#1a2d4a"}),a.jsx("stop",{offset:"100%",stopColor:"#0a1628"})]})]}),a.jsx("path",{d:"M25 0 L50 8 L50 30 C50 42 38 50 25 55 C12 50 0 42 0 30 L0 8 Z",fill:"url(#logoNavy)"}),a.jsx("path",{d:"M25 5 L45 12 L45 29 C45 39 35 46 25 50 C15 46 5 39 5 29 L5 12 Z",fill:"none",stroke:"url(#logoGold)",strokeWidth:"1.5"}),a.jsx("text",{x:"25",y:"35",fontFamily:"Georgia, serif",fontSize:"24",fontWeight:"bold",fill:"url(#logoGold)",textAnchor:"middle",children:"S"})]})}),a.jsxs("div",{className:"hidden sm:block",children:[a.jsxs("div",{className:"flex items-baseline gap-1",children:[a.jsx("span",{className:"font-serif text-lg lg:text-xl font-semibold",style:{color:r||t!=="home"?v.navy:"white"},children:"SAXO"}),a.jsx("span",{className:"font-serif text-lg lg:text-xl font-semibold",style:{color:v.gold},children:"VAULT"})]}),a.jsx("p",{className:"text-[10px] tracking-[0.2em] uppercase",style:{color:r||t!=="home"?"#6b7280":"rgba(255,255,255,0.7)"},children:"Capital"})]})]}),a.jsx("div",{className:"hidden lg:flex items-center gap-1",children:p.map(b=>a.jsxs($.button,{onClick:()=>y(b.id),whileHover:{scale:1.05},whileTap:{scale:.98},className:`flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium transition-all ${b.isAction||t===b.id?"text-white shadow-lg":r||t!=="home"?"text-gray-600 hover:bg-gray-100":"text-white/80 hover:text-white hover:bg-white/10"}`,style:b.isAction?{background:b.color}:t===b.id?{background:`linear-gradient(135deg, ${v.navy} 0%, ${v.navyLight} 100%)`}:{},children:[a.jsx(b.icon,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:b.label})]},b.id))}),a.jsxs("div",{className:"flex items-center gap-2 lg:gap-3",children:[a.jsxs($.button,{whileHover:{scale:1.05},whileTap:{scale:.98},onClick:()=>e("notifications"),className:`relative p-2 rounded-xl transition-all ${r||t!=="home"?"hover:bg-gray-100":"hover:bg-white/10"}`,children:[a.jsx(sr,{className:`w-5 h-5 ${r||t!=="home"?"text-gray-600":"text-white"}`}),(()=>{const I=(JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}")[n.uid]||[]).filter(A=>!A.read).length;return I>0?a.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center text-xs text-white font-bold",children:I>9?"9+":I}):null})()]}),a.jsxs($.button,{whileHover:{scale:1.05},whileTap:{scale:.98},onClick:()=>e("profile"),className:"flex items-center gap-2 px-2 lg:px-4 py-2 rounded-xl transition-all",children:[a.jsx("div",{className:"w-8 h-8 lg:w-9 lg:h-9 rounded-full flex items-center justify-center text-sm font-bold text-white overflow-hidden",style:{background:`linear-gradient(135deg, ${v.gold} 0%, ${v.goldDark} 100%)`},children:n.profileImage?a.jsx("img",{src:n.profileImage,alt:"",className:"w-full h-full object-cover"}):n.name.charAt(0)}),a.jsx("span",{className:`text-sm font-medium hidden md:block ${r||t!=="home"?"text-gray-700":"text-white"}`,children:n.name.split(" ")[0]})]}),a.jsx("button",{onClick:s,className:"hidden lg:flex p-2.5 rounded-xl text-red-500 hover:bg-red-50 transition-all",children:a.jsx(ua,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>l(!o),className:"lg:hidden p-2 rounded-xl",style:{color:r||t!=="home"?v.navy:"white"},children:a.jsx(ER,{className:"w-6 h-6"})})]})]})})}),a.jsx(ft,{children:o&&a.jsxs(a.Fragment,{children:[a.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>l(!1),className:"fixed inset-0 bg-black/50 z-50 lg:hidden"}),a.jsx($.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"tween"},className:"fixed top-0 right-0 bottom-0 w-72 bg-white z-50 shadow-2xl lg:hidden",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-9 h-9",children:a.jsxs("svg",{viewBox:"0 0 50 55",className:"w-full h-full",children:[a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:"mobileLogoGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:"#d4a853"}),a.jsx("stop",{offset:"50%",stopColor:"#f4d078"}),a.jsx("stop",{offset:"100%",stopColor:"#d4a853"})]}),a.jsxs("linearGradient",{id:"mobileLogoNavy",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:"#1a2d4a"}),a.jsx("stop",{offset:"100%",stopColor:"#0a1628"})]})]}),a.jsx("path",{d:"M25 0 L50 8 L50 30 C50 42 38 50 25 55 C12 50 0 42 0 30 L0 8 Z",fill:"url(#mobileLogoNavy)"}),a.jsx("path",{d:"M25 5 L45 12 L45 29 C45 39 35 46 25 50 C15 46 5 39 5 29 L5 12 Z",fill:"none",stroke:"url(#mobileLogoGold)",strokeWidth:"1.5"}),a.jsx("text",{x:"25",y:"35",fontFamily:"Georgia, serif",fontSize:"24",fontWeight:"bold",fill:"url(#mobileLogoGold)",textAnchor:"middle",children:"S"})]})}),a.jsxs("div",{children:[a.jsx("span",{className:"font-serif text-sm",style:{color:v.navy},children:"SAXO"}),a.jsx("span",{className:"font-serif text-sm",style:{color:v.gold},children:"VAULT"})]})]}),a.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:a.jsx(gn,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"space-y-2",children:p.map(b=>a.jsxs("button",{onClick:()=>y(b.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all ${b.isAction||t===b.id?"text-white":"text-gray-600 hover:bg-gray-100"}`,style:b.isAction?{background:b.color}:t===b.id?{background:`linear-gradient(135deg, ${v.navy} 0%, ${v.navyLight} 100%)`}:{},children:[a.jsx(b.icon,{className:"w-5 h-5"}),b.label]},b.id))}),a.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-100 space-y-2",children:[a.jsxs("button",{onClick:()=>{e("profile"),l(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-600 hover:bg-gray-100",children:[a.jsx(bm,{className:"w-5 h-5"})," Profile & Settings"]}),a.jsxs("button",{onClick:s,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-red-500 hover:bg-red-50",children:[a.jsx(ua,{className:"w-5 h-5"})," Logout"]})]})]})})]})}),a.jsxs(ft,{children:[u&&a.jsx(UT,{onClose:()=>d(!1)}),f&&a.jsx($T,{onClose:()=>h(!1),balance:n.balance})]})]})}function f6({activePage:t,onNavigate:e}){const n=[{id:"home",label:"Home",icon:X2},{id:"investments",label:"Invest",icon:Xr},{id:"dashboard",label:"Portfolio",icon:mg},{id:"referral",label:"Referral",icon:jl},{id:"profile",label:"Profile",icon:kl}];return a.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-40 lg:hidden",children:a.jsx("div",{className:"flex items-center justify-around py-2",children:n.map(s=>a.jsxs("button",{onClick:()=>e(s.id),className:`flex flex-col items-center gap-1 px-3 py-2 rounded-xl transition-all ${t===s.id?"text-white":"text-gray-500"}`,style:t===s.id?{background:`linear-gradient(135deg, ${v.navy} 0%, ${v.navyLight} 100%)`}:{},children:[a.jsx(s.icon,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs font-medium",children:s.label})]},s.id))})})}function m6(){const[t,e]=R.useState(!1),[n,s]=R.useState("options"),[r,i]=R.useState({name:"",email:"",category:"",priority:"medium",subject:"",message:""}),[o,l]=R.useState(!1),[u,d]=R.useState(""),[f,h]=R.useState(!1),p=async y=>{y.preventDefault(),h(!0);const b="TKT-"+Math.random().toString(36).substr(2,9).toUpperCase(),I=JSON.parse(localStorage.getItem("saxovault_tickets")||"[]"),A={id:b,name:r.name,email:r.email,category:r.category,priority:r.priority,subject:r.subject,message:r.message,status:"open",createdAt:new Date().toISOString()};I.unshift(A),localStorage.setItem("saxovault_tickets",JSON.stringify(I)),ne.addNotification({type:"ticket",message:`New ticket from ${r.name}: ${r.subject}`,ticketId:b}),`${b}${r.name}${r.email}${r.category}${r.priority}${r.message}`,d(b),l(!0),h(!1),setTimeout(()=>{l(!1),i({name:"",email:"",category:"",priority:"medium",subject:"",message:""}),s("options")},5e3)};return a.jsxs(a.Fragment,{children:[a.jsx($.button,{onClick:()=>e(!t),whileHover:{scale:1.1},whileTap:{scale:.9},className:"fixed bottom-20 lg:bottom-8 right-4 lg:right-8 w-14 h-14 lg:w-16 lg:h-16 rounded-full shadow-2xl flex items-center justify-center text-white z-40",style:{background:`linear-gradient(135deg, ${v.green} 0%, ${v.greenDark} 100%)`},children:a.jsx(ft,{mode:"wait",children:t?a.jsx($.div,{initial:{rotate:-90},animate:{rotate:0},children:a.jsx(gn,{className:"w-6 h-6"})},"x"):a.jsx($.div,{initial:{rotate:90},animate:{rotate:0},children:a.jsx(Hc,{className:"w-6 h-6"})},"msg")})}),a.jsx(ft,{children:t&&a.jsxs(a.Fragment,{children:[a.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>e(!1),className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40"}),a.jsxs($.div,{initial:{opacity:0,y:100,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:100,scale:.8},className:"fixed bottom-36 lg:bottom-28 right-4 lg:right-8 w-[calc(100%-2rem)] sm:w-96 bg-white rounded-2xl shadow-2xl z-50 overflow-hidden max-h-[70vh] overflow-y-auto",children:[a.jsx("div",{className:"p-5 lg:p-6",style:{background:`linear-gradient(135deg, ${v.navy} 0%, ${v.navyLight} 100%)`},children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{background:`${v.gold}30`},children:a.jsx(Hc,{className:"w-6 h-6",style:{color:v.gold}})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-serif text-lg lg:text-xl text-white",children:"Need Help?"}),a.jsx("p",{className:"text-white/60 text-sm",children:"Choose how to reach us"})]})]})}),n==="options"&&a.jsxs("div",{className:"p-5 lg:p-6 space-y-4",children:[a.jsxs($.a,{href:"https://wa.me/14642395280?text=Hello! I need assistance with my SaxoVault account.",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-4 p-4 bg-gradient-to-r from-green-50 to-green-100 rounded-xl hover:shadow-lg transition-all border border-green-200",children:[a.jsx("div",{className:"w-14 h-14 rounded-xl flex items-center justify-center bg-green-500 shadow-lg",children:a.jsx(Hc,{className:"w-7 h-7 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-semibold text-green-800 text-lg",children:"WhatsApp"}),a.jsx("p",{className:"text-sm text-green-600",children:"Chat instantly  24/7 Available"})]}),a.jsx(wm,{className:"w-6 h-6 text-green-500"})]}),a.jsxs($.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>s("ticket"),className:"w-full flex items-center gap-4 p-4 bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl hover:shadow-lg transition-all border border-blue-200",children:[a.jsx("div",{className:"w-14 h-14 rounded-xl flex items-center justify-center bg-blue-500 shadow-lg",children:a.jsx(tN,{className:"w-7 h-7 text-white"})}),a.jsxs("div",{className:"flex-1 text-left",children:[a.jsx("p",{className:"font-semibold text-blue-800 text-lg",children:"Submit a Ticket"}),a.jsx("p",{className:"text-sm text-blue-600",children:"Email support  Response within 24hrs"})]}),a.jsx(wm,{className:"w-6 h-6 text-blue-500"})]}),a.jsx("div",{className:"pt-3 mt-2 border-t border-gray-100 text-center",children:a.jsxs("p",{className:"text-xs text-gray-400",children:["We typically respond within ",a.jsx("span",{className:"font-semibold text-gray-600",children:"5 minutes"})," on WhatsApp"]})})]}),n==="ticket"&&a.jsx("div",{className:"p-5 lg:p-6",children:o?a.jsxs($.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center py-6",children:[a.jsx("div",{className:"w-16 h-16 mx-auto rounded-full flex items-center justify-center mb-4",style:{background:`${v.green}20`},children:a.jsx(Xe,{className:"w-8 h-8",style:{color:v.green}})}),a.jsx("h4",{className:"font-semibold text-lg",style:{color:v.navy},children:"Ticket Submitted!"}),a.jsx("p",{className:"text-gray-500 text-sm mt-2 mb-4",children:"Your ticket ID is:"}),a.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-100 rounded-lg",children:[a.jsx("span",{className:"font-mono font-bold",style:{color:v.navy},children:u}),a.jsx("button",{onClick:()=>navigator.clipboard.writeText(u),children:a.jsx(al,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})})]}),a.jsx("p",{className:"text-xs text-gray-400 mt-4",children:"We'll respond within 24 hours"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>s("options"),className:"flex items-center gap-2 text-gray-500 hover:text-gray-700 mb-4",children:[a.jsx(Il,{className:"w-4 h-4"})," Back"]}),a.jsx("h4",{className:"font-semibold mb-4",style:{color:v.navy},children:"Submit Support Ticket"}),a.jsxs("form",{onSubmit:p,className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Name *"}),a.jsx("input",{type:"text",value:r.name,onChange:y=>i({...r,name:y.target.value}),required:!0,className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Email *"}),a.jsx("input",{type:"email",value:r.email,onChange:y=>i({...r,email:y.target.value}),required:!0,className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Category *"}),a.jsxs("select",{value:r.category,onChange:y=>i({...r,category:y.target.value}),required:!0,className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[a.jsx("option",{value:"",children:"Select"}),a.jsx("option",{value:"investment",children:"Investment"}),a.jsx("option",{value:"withdrawal",children:"Withdrawal"}),a.jsx("option",{value:"deposit",children:"Deposit"}),a.jsx("option",{value:"account",children:"Account"}),a.jsx("option",{value:"kyc",children:"KYC"}),a.jsx("option",{value:"referral",children:"Referral"}),a.jsx("option",{value:"other",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Priority"}),a.jsxs("select",{value:r.priority,onChange:y=>i({...r,priority:y.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[a.jsx("option",{value:"low",children:"Low"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"high",children:"High"}),a.jsx("option",{value:"urgent",children:"Urgent"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Subject *"}),a.jsx("input",{type:"text",value:r.subject,onChange:y=>i({...r,subject:y.target.value}),required:!0,className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Brief description of your issue"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Message *"}),a.jsx("textarea",{value:r.message,onChange:y=>i({...r,message:y.target.value}),rows:4,required:!0,className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 resize-none",placeholder:"Please describe your issue in detail..."})]}),a.jsxs($.button,{type:"submit",disabled:f,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 rounded-lg text-white font-medium flex items-center justify-center gap-2 disabled:opacity-70",style:{background:`linear-gradient(135deg, ${v.green} 0%, ${v.greenDark} 100%)`},children:[f?a.jsx(pn,{className:"w-4 h-4 animate-spin"}):a.jsx(Po,{className:"w-4 h-4"}),f?"Submitting...":"Submit Ticket"]})]})]})})]})]})})]})}function p6({onViewDocument:t}){const[e,n]=R.useState(!1),s=[{title:"White Paper",desc:"Investment philosophy, technology infrastructure, and growth roadmap",icon:_m,pages:"42 pages",color:v.gold},{title:"Terms of Service",desc:"Platform usage terms, account management, and service agreements",icon:Ro,pages:"28 pages",color:"#3b82f6"},{title:"Privacy Policy",desc:"Data collection, protection, GDPR & CCPA compliance procedures",icon:ir,pages:"18 pages",color:"#10b981"},{title:"Risk Disclosure",desc:"Investment risks, market volatility, and important warnings",icon:sr,pages:"24 pages",color:"#ef4444"},{title:"AML/KYC Policy",desc:"Anti-Money Laundering and identity verification procedures",icon:da,pages:"16 pages",color:"#8b5cf6"},{title:"Investment Guide",desc:"Portfolio strategies, asset allocation, and payout structures",icon:AR,pages:"32 pages",color:"#f59e0b"},{title:"Fee Schedule",desc:"Complete breakdown of all fees, charges, and commissions",icon:vR,pages:"8 pages",color:"#06b6d4"},{title:"FAQ & Support",desc:"Frequently asked questions and comprehensive support guide",icon:bR,pages:"36 pages",color:"#ec4899"}];return a.jsxs($.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"bg-white/5 backdrop-blur-md rounded-2xl lg:rounded-3xl border border-white/10 overflow-hidden",children:[a.jsxs($.button,{onClick:()=>n(!e),className:"w-full p-5 lg:p-6 flex items-center justify-between hover:bg-white/5 transition-all",whileTap:{scale:.99},children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx($.div,{animate:{rotateY:e?180:0},transition:{duration:.3},className:"w-14 h-14 lg:w-16 lg:h-16 rounded-2xl flex items-center justify-center",style:{background:`linear-gradient(135deg, ${v.gold}40 0%, ${v.gold}20 100%)`},children:a.jsx(_m,{className:"w-7 h-7 lg:w-8 lg:h-8",style:{color:v.gold}})}),a.jsxs("div",{className:"text-left",children:[a.jsx("h3",{className:"font-serif text-lg lg:text-xl text-white mb-1",children:"Legal Documents & Policies"}),a.jsxs("p",{className:"text-white/50 text-sm",children:[s.length," documents available"]})]})]}),a.jsx($.div,{animate:{rotate:e?180:0},transition:{duration:.3},className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center",children:a.jsx(W2,{className:"w-5 h-5 text-white/70"})})]}),a.jsx(ft,{children:e&&a.jsx($.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},children:a.jsxs("div",{className:"px-4 lg:px-6 pb-5 lg:pb-6",children:[a.jsx("div",{className:"h-px bg-white/10 mb-4"}),a.jsx("div",{className:"space-y-2",children:s.map((r,i)=>a.jsxs($.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:i*.05},onClick:()=>t(r.title),className:"w-full flex items-center gap-4 p-3 lg:p-4 rounded-xl hover:bg-white/10 transition-all group text-left",children:[a.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 rounded-xl flex items-center justify-center flex-shrink-0",style:{background:`${r.color}20`},children:a.jsx(r.icon,{className:"w-5 h-5 lg:w-6 lg:h-6",style:{color:r.color}})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[a.jsx("h4",{className:"font-medium text-white group-hover:text-yellow-400 transition-colors text-sm lg:text-base",children:r.title}),a.jsx("span",{className:"px-2 py-0.5 rounded-full bg-white/10 text-white/50 text-xs hidden sm:inline",children:"PDF"})]}),a.jsx("p",{className:"text-white/40 text-xs lg:text-sm truncate",children:r.desc})]}),a.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[a.jsx("span",{className:"text-white/30 text-xs hidden sm:inline",children:r.pages}),a.jsx("div",{className:"w-8 h-8 rounded-full bg-white/5 flex items-center justify-center group-hover:bg-white/10 transition-all",children:a.jsx(Du,{className:"w-4 h-4 text-white/50 group-hover:text-yellow-400 transition-colors"})})]})]},i))}),a.jsx("div",{className:"mt-4 pt-4 border-t border-white/10",children:a.jsx("p",{className:"text-white/40 text-xs text-center",children:"All documents are available for viewing. Click any document to read the full content."})})]})})})]})}function g6({onNavigate:t,onSelectInvestment:e}){const[n,s]=R.useState(null),r=JSON.parse(localStorage.getItem("saxovault_investments")||"null")||Hl,i=o=>{s(o)};return a.jsxs("div",{className:"min-h-screen",style:{background:v.cream},children:[a.jsx(ft,{children:n&&a.jsx(S6,{document:n,onClose:()=>s(null)})}),a.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0",children:[a.jsx("img",{src:Ce.hero,alt:"",className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0",style:{background:`linear-gradient(135deg, ${v.navy}ee 0%, ${v.navyLight}dd 50%, ${v.navy}ee 100%)`}})]}),a.jsx("div",{className:"relative z-10 max-w-6xl mx-auto px-4 lg:px-6 text-center pt-24 lg:pt-20",children:a.jsxs($.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[a.jsxs("div",{className:"inline-flex items-center gap-2 px-4 lg:px-6 py-2 lg:py-3 rounded-full bg-white/10 backdrop-blur-md border border-white/20 mb-6 lg:mb-8",children:[a.jsx(G2,{className:"w-4 h-4 lg:w-5 lg:h-5",style:{color:v.gold}}),a.jsx("span",{style:{color:v.gold},className:"text-xs lg:text-sm tracking-wide",children:"Institutional-Grade Investment Platform"})]}),a.jsxs("h1",{className:"font-serif text-4xl sm:text-5xl lg:text-7xl text-white mb-4 lg:mb-6 leading-tight",children:["Your Gateway to",a.jsx("br",{}),a.jsx("span",{style:{color:v.gold},children:"Diversified Investments"})]}),a.jsx("p",{className:"text-base lg:text-xl text-white/80 mb-3 lg:mb-4 max-w-3xl mx-auto px-4",children:"Access curated Real Estate, Cryptocurrency, Stock & Bond Portfolios, and Precious Metals."}),a.jsx("p",{className:"text-white/60 mb-8 lg:mb-12 text-sm lg:text-base",children:"All with clear targets, defined timelines, and professional management."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 lg:gap-4 justify-center px-4",children:[a.jsxs($.button,{onClick:()=>t("investments"),whileHover:{scale:1.05},whileTap:{scale:.98},className:"px-8 lg:px-10 py-3.5 lg:py-4 rounded-xl text-white font-semibold text-base lg:text-lg shadow-2xl flex items-center justify-center gap-3",style:{background:`linear-gradient(135deg, ${v.gold} 0%, ${v.goldDark} 100%)`},children:["Explore Opportunities ",a.jsx(Du,{className:"w-5 h-5"})]}),a.jsxs($.button,{onClick:()=>t("referral"),whileHover:{scale:1.05},whileTap:{scale:.98},className:"px-8 lg:px-10 py-3.5 lg:py-4 rounded-xl font-semibold text-base lg:text-lg border-2 border-white/30 text-white hover:bg-white/10 flex items-center justify-center gap-3",children:[a.jsx(jl,{className:"w-5 h-5"})," Referral Program"]})]})]})})]}),a.jsx("section",{className:"py-16 lg:py-20 px-4 lg:px-6",style:{background:v.cream},children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-12 lg:mb-16",children:[a.jsx("h2",{className:"font-serif text-3xl lg:text-4xl mb-3 lg:mb-4",style:{color:v.navy},children:"Investment Verticals"}),a.jsx("p",{className:"text-gray-600 text-sm lg:text-base",children:"Four distinct pathways to building wealth."})]}),a.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:[{title:"Real Estate",desc:"Development funding & income properties",icon:fg,color:"#3b82f6",img:Ce.realEstate1},{title:"Cryptocurrency",desc:"Managed crypto portfolios",icon:H2,color:"#f59e0b",img:Ce.crypto1},{title:"Stocks & Bonds",desc:"Curated market portfolios",icon:z2,color:"#10b981",img:Ce.stocks1},{title:"Precious Metals",desc:"Gold, silver & platinum",icon:Y2,color:"#D4AF37",img:Ce.gold1}].map((o,l)=>a.jsxs($.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:l*.1},whileHover:{y:-5},onClick:()=>t("investments"),className:"group cursor-pointer bg-white rounded-xl lg:rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all",children:[a.jsxs("div",{className:"relative h-28 lg:h-48 overflow-hidden",children:[a.jsx("img",{src:o.img,alt:o.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),a.jsx("div",{className:"absolute inset-0",style:{background:`linear-gradient(to top, ${o.color}cc, transparent)`}}),a.jsx("div",{className:"absolute top-2 lg:top-4 left-2 lg:left-4 w-8 h-8 lg:w-12 lg:h-12 rounded-lg lg:rounded-xl bg-white/20 backdrop-blur flex items-center justify-center",children:a.jsx(o.icon,{className:"w-4 h-4 lg:w-6 lg:h-6 text-white"})})]}),a.jsxs("div",{className:"p-3 lg:p-6",children:[a.jsx("h3",{className:"font-serif text-sm lg:text-xl mb-1 lg:mb-2",style:{color:v.navy},children:o.title}),a.jsx("p",{className:"text-gray-600 text-xs lg:text-sm hidden sm:block",children:o.desc})]})]},l))})]})}),a.jsx("section",{className:"py-16 lg:py-20 px-4 lg:px-6 bg-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8 lg:mb-12",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"font-serif text-2xl lg:text-4xl mb-1 lg:mb-2",style:{color:v.navy},children:"Featured Opportunities"}),a.jsx("p",{className:"text-gray-600 text-sm lg:text-base",children:"Top-performing investments"})]}),a.jsxs($.button,{onClick:()=>t("investments"),whileHover:{scale:1.05},className:"px-4 lg:px-6 py-2 lg:py-3 rounded-xl font-medium text-sm flex items-center gap-2",style:{background:`${v.navy}10`,color:v.navy},children:["View All ",a.jsx(Du,{className:"w-4 h-4"})]})]}),a.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6",children:r.slice(0,6).map((o,l)=>a.jsxs($.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:l*.1},onClick:()=>e(o),className:"bg-white rounded-xl lg:rounded-2xl border border-gray-100 overflow-hidden hover:shadow-xl transition-all cursor-pointer group",children:[a.jsxs("div",{className:"relative h-36 lg:h-48",children:[a.jsx("img",{src:o.img,alt:o.name,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),a.jsx("div",{className:"absolute top-3 right-3 px-2 py-1 rounded-full text-xs font-medium text-white",style:{background:o.status==="Active"?v.green:v.gold},children:o.status}),a.jsxs("div",{className:"absolute bottom-3 left-3",children:[a.jsx("p",{className:"text-white/80 text-xs",children:o.category}),a.jsx("h3",{className:"font-serif text-base lg:text-xl text-white",children:o.name})]})]}),a.jsxs("div",{className:"p-4 lg:p-5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xl lg:text-2xl font-bold",style:{color:v.green},children:o.returns}),a.jsx("p",{className:"text-xs text-gray-500",children:"Target Return"})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-base lg:text-lg font-bold",style:{color:v.navy},children:["$",o.min.toLocaleString()]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Min Investment"})]})]}),o.progress&&a.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full",style:{width:`${o.progress}%`,background:`linear-gradient(90deg, ${v.green} 0%, ${v.gold} 100%)`}})})]})]},o.id))})]})}),a.jsx("section",{className:"py-16 lg:py-20 px-4 lg:px-6",style:{background:`linear-gradient(135deg, ${v.navy} 0%, ${v.navyLight} 100%)`},children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-8 lg:mb-10",children:[a.jsxs($.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/10 backdrop-blur mb-4",children:[a.jsx(_m,{className:"w-4 h-4",style:{color:v.gold}}),a.jsx("span",{style:{color:v.gold},className:"text-sm",children:"Legal & Compliance"})]}),a.jsx("h2",{className:"font-serif text-3xl lg:text-4xl text-white mb-3",children:"Required Documents"}),a.jsx("p",{className:"text-white/60 max-w-2xl mx-auto text-sm lg:text-base",children:"Transparency is at the core of our operations. Review our comprehensive documentation below."})]}),a.jsx(p6,{onViewDocument:i})]})}),a.jsx("footer",{className:"py-8 lg:py-12 px-4 lg:px-6",style:{background:v.navy},children:a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8",children:a.jsxs("svg",{viewBox:"0 0 50 55",className:"w-full h-full",children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"footerGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:"#d4a853"}),a.jsx("stop",{offset:"50%",stopColor:"#f4d078"}),a.jsx("stop",{offset:"100%",stopColor:"#d4a853"})]})}),a.jsx("path",{d:"M25 0 L50 8 L50 30 C50 42 38 50 25 55 C12 50 0 42 0 30 L0 8 Z",fill:"rgba(255,255,255,0.1)"}),a.jsx("path",{d:"M25 5 L45 12 L45 29 C45 39 35 46 25 50 C15 46 5 39 5 29 L5 12 Z",fill:"none",stroke:"url(#footerGold)",strokeWidth:"1.5"}),a.jsx("text",{x:"25",y:"35",fontFamily:"Georgia, serif",fontSize:"24",fontWeight:"bold",fill:"url(#footerGold)",textAnchor:"middle",children:"S"})]})}),a.jsxs("div",{className:"flex items-baseline gap-1",children:[a.jsx("span",{className:"font-serif text-white text-sm lg:text-base",children:"SAXO"}),a.jsx("span",{className:"font-serif text-sm lg:text-base",style:{color:v.gold},children:"VAULT"})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 lg:gap-6 text-white/60 text-xs lg:text-sm",children:[a.jsx("span",{children:" 2024 SaxoVault Capital"}),a.jsx("span",{children:"Privacy Policy"}),a.jsx("span",{children:"Terms of Service"})]})]})})})]})}function y6({onSelectInvestment:t}){const[e,n]=R.useState("all"),[s,r]=R.useState(""),[i,o]=R.useState("grid"),u=(JSON.parse(localStorage.getItem("saxovault_investments")||"null")||Hl).filter(d=>(e==="all"||d.type===e)&&d.name.toLowerCase().includes(s.toLowerCase()));return a.jsx("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:v.cream},children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-6",children:[a.jsxs("div",{className:"mb-6 lg:mb-8",children:[a.jsx("h1",{className:"font-serif text-2xl lg:text-3xl mb-1",style:{color:v.navy},children:"Investment Opportunities"}),a.jsx("p",{className:"text-gray-500 text-sm",children:"Explore our curated selection across multiple asset classes."})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(xv,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",value:s,onChange:d=>r(d.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Search investments..."})]}),a.jsx("div",{className:"flex gap-2 overflow-x-auto",children:c6.map(d=>a.jsxs("button",{onClick:()=>n(d.id),className:`flex items-center gap-1.5 px-3 py-2 rounded-lg whitespace-nowrap text-sm transition-all ${e===d.id?"text-white shadow":"bg-gray-50 text-gray-600 hover:bg-gray-100"}`,style:e===d.id?{background:v.navy}:{},children:[a.jsx(d.icon,{className:"w-4 h-4"}),d.name]},d.id))})]})}),a.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:[u.length," investments found"]}),a.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6",children:u.map((d,f)=>{var h,p;return a.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:f*.03},onClick:()=>t(d),className:"bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-xl transition-all cursor-pointer border border-gray-100 group",children:[a.jsxs("div",{className:"relative h-44 lg:h-48",children:[a.jsx("img",{src:d.img||d.customImg,alt:d.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent"}),a.jsx("div",{className:"absolute top-3 right-3",children:a.jsx("span",{className:"px-2.5 py-1 rounded-full text-xs font-medium text-white backdrop-blur-sm",style:{background:d.status==="Active"?"rgba(16,185,129,0.9)":d.status==="Open"?"rgba(10,22,40,0.9)":"rgba(212,175,55,0.9)"},children:d.status})}),a.jsxs("div",{className:"absolute bottom-3 left-4 right-4",children:[a.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide mb-1",children:d.category}),a.jsx("h3",{className:"font-serif text-white text-xl leading-tight",children:d.name})]})]}),a.jsxs("div",{className:"p-5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b border-gray-100",children:[a.jsxs("div",{className:"text-center flex-1",children:[a.jsx("p",{className:"text-base font-bold",style:{color:v.green},children:d.returns}),a.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:"Returns"})]}),a.jsx("div",{className:"w-px h-10 bg-gray-100"}),a.jsxs("div",{className:"text-center flex-1",children:[a.jsx("p",{className:"text-base font-bold",style:{color:v.navy},children:d.min>=1e3?`$${(d.min/1e3).toFixed(d.min%1e3===0?0:1)}K`:`$${d.min}`}),a.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:"Minimum"})]}),a.jsx("div",{className:"w-px h-10 bg-gray-100"}),a.jsxs("div",{className:"text-center flex-1",children:[a.jsx("p",{className:"text-base font-bold",style:{color:v.gold},children:((h=d.term)==null?void 0:h.split(" ")[0])||"12"}),a.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:(p=d.term)!=null&&p.includes("day")?"Days":"Months"})]})]}),a.jsx("p",{className:"text-sm text-gray-500 mb-4 line-clamp-2",children:d.desc||"Premium investment opportunity with professional management and strong projected returns."}),d.progress!==void 0&&a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex justify-between text-xs mb-1.5",children:[a.jsxs("span",{className:"text-gray-600 font-medium",children:[d.progress,"% funded"]}),a.jsxs("span",{className:"text-gray-400",children:["$",(d.progress/100*(d.goal||1e6)/1e3).toFixed(0),"K raised"]})]}),a.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:a.jsx($.div,{initial:{width:0},animate:{width:`${d.progress}%`},transition:{duration:1,delay:f*.1},className:"h-full rounded-full",style:{background:`linear-gradient(90deg, ${v.green}, ${v.gold})`}})})]}),a.jsxs("button",{className:"w-full py-3 rounded-xl text-sm font-semibold text-white transition-all hover:shadow-lg group-hover:scale-[1.02]",style:{background:`linear-gradient(135deg, ${v.navy} 0%, ${v.navyLight} 100%)`},children:["View Details",a.jsx(wm,{className:"w-4 h-4 inline ml-1"})]})]})]},d.id)})}),u.length===0&&a.jsxs("div",{className:"text-center py-16",children:[a.jsx(xv,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"No investments found matching your criteria."})]})]})})}function x6({investment:t,onClose:e,onInvest:n}){var s,r,i;return t?a.jsxs($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-white z-50 overflow-y-auto",children:[a.jsx("div",{className:"sticky top-0 bg-white/95 backdrop-blur-sm border-b border-gray-100 z-10",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-3 flex items-center justify-between",children:[a.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[a.jsx(Il,{className:"w-5 h-5"})," Back"]}),a.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium text-white",style:{background:t.status==="Active"?v.green:v.gold},children:t.status})]})}),a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[a.jsxs("div",{className:"relative h-48 lg:h-64 rounded-2xl overflow-hidden mb-6",children:[a.jsx("img",{src:t.img||t.customImg,alt:t.name,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"}),a.jsxs("div",{className:"absolute bottom-4 left-4",children:[a.jsx("span",{className:"px-2 py-1 rounded bg-white/20 backdrop-blur text-white text-xs mb-2 inline-block",children:t.category}),a.jsx("h1",{className:"font-serif text-2xl lg:text-3xl text-white",children:t.name})]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[a.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 text-center",children:[a.jsx("p",{className:"text-xl lg:text-2xl font-bold",style:{color:v.green},children:t.returns}),a.jsx("p",{className:"text-xs text-gray-500",children:"Returns"})]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 text-center",children:[a.jsx("p",{className:"text-xl lg:text-2xl font-bold",style:{color:v.navy},children:t.min>=1e3?`$${t.min/1e3}K`:`$${t.min}`}),a.jsx("p",{className:"text-xs text-gray-500",children:"Min"})]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 text-center",children:[a.jsx("p",{className:"text-xl lg:text-2xl font-bold",style:{color:v.gold},children:((s=t.term)==null?void 0:s.split(" ")[0])||"12"}),a.jsx("p",{className:"text-xs text-gray-500",children:(r=t.term)!=null&&r.includes("month")?"Months":"Term"})]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 text-center",children:[a.jsx("p",{className:"text-xl lg:text-2xl font-bold text-gray-700",children:t.investors||"50+"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Investors"})]})]}),t.progress!==void 0&&a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-6",children:[a.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[a.jsx("span",{className:"font-medium",style:{color:v.navy},children:"Funding Progress"}),a.jsxs("span",{className:"font-bold",children:[t.progress,"%"]})]}),a.jsx("div",{className:"h-3 bg-gray-200 rounded-full overflow-hidden mb-2",children:a.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${t.progress}%`,background:`linear-gradient(90deg, ${v.green}, ${v.gold})`}})}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[a.jsxs("span",{children:["$",(t.progress/100*(t.goal||1e6)).toLocaleString()," raised"]}),a.jsxs("span",{children:["Goal: $",(t.goal||1e6).toLocaleString()]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"font-semibold text-lg mb-2",style:{color:v.navy},children:"About This Investment"}),a.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:t.desc||"A premium investment opportunity with strong projected returns and professional management. This carefully vetted opportunity offers investors exposure to a high-growth sector with risk-managed strategies."})]}),t.features&&t.features.length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"font-semibold text-lg mb-3",style:{color:v.navy},children:"Key Features"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:t.features.map((o,l)=>a.jsxs("div",{className:"flex items-center gap-2 p-2.5 bg-gray-50 rounded-lg",children:[a.jsx(rr,{className:"w-4 h-4 text-green-600 flex-shrink-0"}),a.jsx("span",{className:"text-sm text-gray-700",children:o})]},l))})]}),a.jsx("div",{className:"mb-6",children:a.jsx(FT,{})}),a.jsxs("div",{className:"sticky bottom-0 bg-white pt-4 pb-6 -mx-4 px-4 border-t border-gray-100 lg:relative lg:border-0 lg:pt-0 lg:pb-0 lg:mx-0 lg:px-0",children:[a.jsxs($.button,{onClick:n,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-4 rounded-xl text-white font-semibold text-lg shadow-xl",style:{background:`linear-gradient(135deg, ${v.navy} 0%, ${v.navyLight} 100%)`},children:["Invest Now - Min $",(i=t.min)==null?void 0:i.toLocaleString()]}),a.jsx("p",{className:"text-center text-xs text-gray-400 mt-2",children:"Secure  Instant Confirmation  24/7 Support"})]})]})]}):null}function v6({investment:t,onClose:e,balance:n}){const[s,r]=R.useState(1),[i,o]=R.useState(t.min),[l,u]=R.useState("BTC"),[d,f]=R.useState(1800),[h,p]=R.useState(!1),[y,b]=R.useState(!1),[I,A]=R.useState(!1),E=JSON.parse(localStorage.getItem("saxovault_current_user")||"{}");R.useEffect(()=>{if(t.isTestPlan&&t.onePerUser){const W=JSON.parse(localStorage.getItem(`investments_${E.uid}`)||"[]"),J=ne.getTransactions().filter(fe=>fe.userId===E.uid),ue=W.some(fe=>fe.investmentId===100||fe.investmentName==="Test Plan")||J.some(fe=>fe.investmentId===100||fe.investmentName==="Test Plan");b(ue)}},[t,E.uid]);const _=JSON.parse(localStorage.getItem("saxovault_settings")||"{}").wallets||{BTC:"bc1qzmgg6hw0fttfpczh2whp8f44k497d6pucghk58",ETH:"0x83057882eC7B7EE0cBe63C2fE2b8957e7ab69655",USDT:"TLGH9FucAuPNUoQw2XUFEDtCg4FFdJ2jKG"},V=[{id:"BTC",name:"Bitcoin",icon:"",color:"#f7931a"},{id:"ETH",name:"Ethereum",icon:"",color:"#627eea"},{id:"USDT",name:"USDT (TRC-20)",icon:"",color:"#26a17b"}],F=(()=>{if(t.dailyRate&&t.totalDays)return t.dailyRate/100*t.totalDays;const J=(t.returns||"12%").match(/(\d+)/);return J?parseFloat(J[1])/100:.12})(),j=t.dailyRate?i*t.dailyRate/100:i*F/(t.totalDays||30),w=i*F,N=i+w;R.useEffect(()=>{if(s===2&&d>0){const W=setInterval(()=>f(J=>J-1),1e3);return()=>clearInterval(W)}},[s,d]);const S=W=>{const J=Math.floor(W/60),ue=W%60;return`${J.toString().padStart(2,"0")}:${ue.toString().padStart(2,"0")}`},P=W=>{navigator.clipboard.writeText(W),p(!0),setTimeout(()=>p(!1),2e3)},D=()=>{const W=_[l],J=parseFloat(i);let ue=null,fe="";const O=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);if(l==="BTC"){const q=(J/95e3).toFixed(8);ue=`bitcoin:${W}?amount=${q}&label=SaxoVault%20Investment`,fe="Bitcoin"}else if(l==="ETH"){const q=Math.floor(J/3500*1e18);ue=`ethereum:${W}@1?value=${q}`,fe="Ethereum"}else l==="USDT"&&(O?ue=`trust://send?asset=trc20_TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t&address=${W}&amount=${J}`:ue=`tronlink://send?to=${W}&amount=${J}`,fe="USDT (TRC-20)");if(navigator.clipboard.writeText(W).then(()=>{console.log(" Address copied to clipboard")}).catch(q=>{console.error("Could not copy address:",q)}),ue)if(O)window.location.href=ue,setTimeout(()=>{confirm(`If your wallet didn't open automatically:

1. Open your ${fe} wallet app
2. Tap "Send" or "Transfer"
3. Paste this address (already copied):

${W.substring(0,20)}...${W.substring(W.length-10)}

Amount: $${J.toLocaleString()} USD

Tap OK to copy address again.`)&&navigator.clipboard.writeText(W)},2500);else{const q=window.open(ue,"_blank");setTimeout(()=>{(!q||q.closed)&&alert(`To send ${fe}:

1. Open your wallet app or extension
2. Click "Send"
3. Paste this address (already copied):

${W}

Amount: $${J.toLocaleString()} USD`)},1500)}else alert(`Address copied to clipboard!

Open your ${l} wallet and paste:

${W}

Amount: $${J.toLocaleString()} USD`)},C=async()=>{var W;console.log(" Starting investment submission..."),A(!0);try{const J=JSON.parse(localStorage.getItem("saxovault_current_user")||"{}");if(!J.email||!J.uid){alert("Please login to continue"),A(!1);return}const ue=(W=t.term)==null?void 0:W.match(/(\d+)/);let fe=t.totalDays||30;if(ue){const se=parseInt(ue[1]);t.term.includes("month")?fe=se*30:t.term.includes("day")?fe=se:t.term.includes("year")&&(fe=se*365)}const O=new Date;O.setDate(O.getDate()+fe);const q={type:"investment",investmentId:t.id,investmentName:t.name,category:t.category,amount:parseFloat(i),crypto:l,walletAddress:_[l],returnRate:(F*100).toFixed(1)+"%",dailyRate:t.dailyRate||F*100/fe,dailyProfit:parseFloat(j.toFixed(2)),expectedReturn:parseFloat(w.toFixed(2)),totalReturn:parseFloat(N.toFixed(2)),term:t.term,totalDays:fe,maturityDate:O.toISOString(),userEmail:J.email,userId:J.uid,userName:J.name||"User",isTestPlan:t.isTestPlan||!1,payoutSchedule:t.payoutSchedule||"End of Term",approvalDate:null,countdownStarted:!1};console.log(" Investment data:",q);const oe=await ne.addTransaction(q);console.log(" Investment saved to storage:",oe);const B=JSON.parse(localStorage.getItem(`investments_${J.uid}`)||"[]");B.push({...q,id:oe.id,firestoreId:oe.firestoreId,status:"pending",createdAt:new Date().toISOString()}),localStorage.setItem(`investments_${J.uid}`,JSON.stringify(B)),console.log(" Sending email notifications..."),Te.sendInvestmentNotification(J.email,t.name,i,t.term).then(se=>{console.log(" Investment email sent:",se)}).catch(se=>{console.error(" Investment email failed:",se)}),ne.logActivity(J.uid,"investment_request",{investment:t.name,amount:i,crypto:l,expectedReturn:w,dailyProfit:j}),console.log(" Investment submission complete!"),A(!1),r(3)}catch(J){console.error(" Investment submission error:",J),alert("Error submitting investment. Please try again. Error: "+J.message),A(!1)}};return a.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-end lg:items-center justify-center p-0 lg:p-4",onClick:e,children:a.jsx($.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"tween"},className:"bg-white rounded-t-3xl lg:rounded-3xl w-full lg:max-w-lg shadow-2xl max-h-[90vh] overflow-y-auto",onClick:W=>W.stopPropagation(),children:a.jsxs("div",{className:"p-5 lg:p-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"font-serif text-xl lg:text-2xl",style:{color:v.navy},children:s===1?"Investment Amount":s===2?"Make Payment":" Pending Approval"}),a.jsx("p",{className:"text-sm text-gray-500",children:t.name})]}),a.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:a.jsx(gn,{className:"w-5 h-5"})})]}),s===1&&a.jsxs("div",{children:[t.isTestPlan&&y&&a.jsxs("div",{className:"mb-4 p-4 rounded-xl bg-red-50 border border-red-200",children:[a.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[a.jsx(Ki,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:"One Per Account"})]}),a.jsx("p",{className:"text-red-600 text-sm mt-1",children:"You have already invested in the Test Plan. This plan is limited to one investment per account."})]}),t.isTestPlan&&!y&&a.jsxs("div",{className:"mb-4 p-4 rounded-xl bg-green-50 border border-green-200",children:[a.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[a.jsx(Xe,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:"Test Plan - Perfect for Beginners!"})]}),a.jsx("p",{className:"text-green-600 text-sm mt-1",children:"Earn 1% daily for 5 days. Fixed $500 investment. One per account."})]}),a.jsx("label",{className:"block font-medium text-gray-700 mb-2 text-sm",children:"Investment Amount (USD)"}),a.jsxs("div",{className:"relative mb-4",children:[a.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-2xl font-bold text-gray-400",children:"$"}),a.jsx("input",{type:"number",value:t.isTestPlan?t.min:i,onChange:W=>!t.isTestPlan&&o(Math.max(t.min,Math.min(t.max||1e6,+W.target.value))),className:"w-full pl-12 pr-4 py-4 text-2xl font-bold border-2 rounded-xl text-center focus:outline-none",style:{borderColor:v.gold},readOnly:t.isTestPlan})]}),a.jsx("p",{className:"text-xs text-gray-500 mb-4",children:t.isTestPlan?"Fixed amount: $500":`Minimum: $${t.min.toLocaleString()}`}),!t.isTestPlan&&a.jsx("div",{className:"flex gap-2 mb-6",children:[1,2,5,10].map(W=>{const J=t.min*W,ue=J>=1e3?`$${J/1e3}K`:`$${J}`;return a.jsx("button",{onClick:()=>o(J),className:`flex-1 py-2.5 rounded-xl text-sm font-medium border-2 transition-all ${i===J?"text-white":"border-gray-200"}`,style:i===J?{background:v.navy,borderColor:v.navy}:{},children:ue},W)})}),a.jsx("label",{className:"block font-medium text-gray-700 mb-2 text-sm",children:"Select Cryptocurrency"}),a.jsx("div",{className:"space-y-2 mb-6",children:V.map(W=>a.jsxs("button",{onClick:()=>u(W.id),className:`w-full flex items-center gap-3 p-4 rounded-xl border-2 transition-all ${l===W.id?"shadow-lg":"border-gray-200"}`,style:l===W.id?{borderColor:W.color,background:`${W.color}10`}:{},children:[a.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center text-white text-xl font-bold",style:{background:W.color},children:W.icon}),a.jsx("div",{className:"text-left flex-1",children:a.jsx("p",{className:"font-semibold",style:{color:v.navy},children:W.name})}),l===W.id&&a.jsx(Xe,{className:"w-5 h-5",style:{color:W.color}})]},W.id))}),a.jsxs("div",{className:"p-4 rounded-2xl mb-4",style:{background:`${v.green}10`},children:[t.dailyRate&&a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{className:"text-gray-600 text-sm",children:"Daily Profit"}),a.jsxs("span",{className:"font-bold",style:{color:v.green},children:[t.dailyRate,"% ($",j.toLocaleString(void 0,{maximumFractionDigits:2}),"/day)"]})]}),a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{className:"text-gray-600 text-sm",children:"Duration"}),a.jsx("span",{className:"font-bold",style:{color:v.navy},children:t.term})]}),a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{className:"text-gray-600 text-sm",children:"Total Profit"}),a.jsxs("span",{className:"font-bold",style:{color:v.green},children:["+$",w.toLocaleString(void 0,{maximumFractionDigits:2})]})]}),a.jsxs("div",{className:"flex justify-between border-t border-green-200 pt-2 mt-2",children:[a.jsx("span",{className:"text-gray-600 text-sm",children:"Total Payout"}),a.jsxs("span",{className:"font-bold text-lg",style:{color:v.navy},children:["$",(i+w).toLocaleString(void 0,{maximumFractionDigits:2})]})]})]}),a.jsx(FT,{}),a.jsx($.button,{onClick:()=>r(2),whileHover:{scale:1.02},whileTap:{scale:.98},disabled:t.isTestPlan&&y,className:"w-full py-4 rounded-xl text-white font-semibold mt-4 disabled:opacity-50 disabled:cursor-not-allowed",style:{background:`linear-gradient(135deg, ${v.navy} 0%, ${v.navyLight} 100%)`},children:t.isTestPlan&&y?"Already Invested in Test Plan":"Continue to Payment"})]}),s===2&&a.jsxs("div",{children:[a.jsxs("div",{className:"text-center mb-6 p-4 rounded-2xl",style:{background:d<300?"#fef2f2":`${v.gold}10`},children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Payment expires in"}),a.jsxs("p",{className:`text-3xl font-mono font-bold ${d<300?"text-red-500":""}`,style:{color:d>=300?v.navy:void 0},children:[a.jsx(nN,{className:"w-6 h-6 inline mr-2"}),S(d)]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4 mb-4",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Amount to invest"}),a.jsxs("p",{className:"text-2xl font-bold",style:{color:v.navy},children:["$",i.toLocaleString()," USD"]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Pay equivalent in ",l]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["Send ",l," to this address:"]}),a.jsxs("div",{className:"bg-gray-900 rounded-xl p-4",children:[a.jsxs("p",{className:"text-xs text-gray-400 mb-2 text-center",children:[l," Wallet Address"]}),a.jsx("p",{className:"font-mono text-sm text-white break-all text-center mb-3",children:_[l]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx($.button,{onClick:()=>P(_[l]),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 py-2.5 rounded-lg text-sm font-medium flex items-center justify-center gap-2",style:{background:h?v.green:v.gold,color:"white"},children:h?a.jsxs(a.Fragment,{children:[a.jsx(Xe,{className:"w-4 h-4"})," Copied!"]}):a.jsxs(a.Fragment,{children:[a.jsx(al,{className:"w-4 h-4"})," Copy Address"]})}),a.jsxs($.button,{onClick:D,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 py-2.5 rounded-lg text-sm font-medium flex items-center justify-center gap-2 bg-blue-500 text-white",children:[a.jsx(_R,{className:"w-4 h-4"})," Open Wallet"]})]})]})]}),a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-32 h-32 bg-gray-100 rounded-xl flex items-center justify-center",children:a.jsx(kR,{className:"w-16 h-16 text-gray-400"})})}),a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-3 mb-4",children:a.jsxs("p",{className:"text-xs text-yellow-800",children:[" Only send ",l," to this address. Sending any other cryptocurrency may result in permanent loss."]})}),a.jsx($.button,{onClick:C,whileHover:{scale:I?1:1.02},whileTap:{scale:I?1:.98},disabled:I,className:"w-full py-4 rounded-xl text-white font-semibold flex items-center justify-center gap-2 disabled:opacity-70",style:{background:`linear-gradient(135deg, ${v.green} 0%, ${v.greenDark} 100%)`},children:I?a.jsxs(a.Fragment,{children:[a.jsx(pn,{className:"w-5 h-5 animate-spin"}),"Processing..."]}):"I've Made the Payment"})]}),s===3&&a.jsxs("div",{className:"text-center py-6",children:[a.jsx($.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring"},className:"w-20 h-20 mx-auto rounded-full flex items-center justify-center mb-4",style:{background:`${v.gold}20`},children:a.jsx(la,{className:"w-10 h-10",style:{color:v.gold}})}),a.jsx("h3",{className:"font-serif text-xl mb-2",style:{color:v.navy},children:"Investment Pending"}),a.jsxs("p",{className:"text-gray-500 text-sm mb-6",children:["Your investment of ",a.jsxs("strong",{children:["$",i.toLocaleString()]})," in ",a.jsx("strong",{children:t.name})," is being reviewed."]}),a.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4 text-left space-y-3 mb-6",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Status"}),a.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 rounded-full text-xs font-medium",children:" Pending Approval"})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Amount"}),a.jsxs("span",{className:"font-bold",children:["$",i.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Payment Method"}),a.jsx("span",{className:"font-bold",children:l})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Expected Return"}),a.jsxs("span",{className:"font-bold",style:{color:v.green},children:["+$",w.toLocaleString(void 0,{maximumFractionDigits:0})]})]})]}),a.jsx("p",{className:"text-xs text-gray-400 mb-4",children:"You will be notified once your investment is approved. This usually takes 1-24 hours."}),a.jsx($.button,{onClick:e,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-4 rounded-xl text-white font-semibold",style:{background:`linear-gradient(135deg, ${v.navy} 0%, ${v.navyLight} 100%)`},children:"Done"})]})]})})})}function w6({user:t,onNavigate:e}){const[n,s]=R.useState(!1),[r,i]=R.useState(!1),[o,l]=R.useState(!1),[u,d]=R.useState([]),[f,h]=R.useState(t);R.useEffect(()=>{const x=async()=>{try{const V=await ne.fetchTransactionsFromCloud();d(V);const F=(await ne.fetchUsersFromCloud()).find(j=>j.uid===t.uid);F&&(h(F),localStorage.setItem(`user_${t.uid}`,JSON.stringify(F)),localStorage.setItem("saxovault_current_user",JSON.stringify(F)))}catch{console.log("Using cached data"),d(ne.getTransactions())}};x();const _=setInterval(x,3e4);return()=>clearInterval(_)},[t.uid]),JSON.parse(localStorage.getItem("saxovault_investments")||"null");const p=u.filter(x=>x.userId===t.uid&&x.type==="investment"&&(x.status==="approved"||x.status==="completed")),y=p.length>0?p.map(x=>{let _=.1;x.returnRate&&(typeof x.returnRate=="string"?_=parseFloat(x.returnRate)/100:x.returnRate<1?_=x.returnRate:_=x.returnRate/100);let V=0,L=0,F=!1,j=0;if(x.countdownStarted&&x.maturityDate){const w=new Date,N=new Date(x.maturityDate),S=x.approvalDate?new Date(x.approvalDate):w,P=N-S,D=N-w;D>0?(F=!0,V=Math.floor(D/(1e3*60*60*24)),L=Math.floor(D%(1e3*60*60*24)/(1e3*60*60)),j=Math.round((P-D)/P*100)):j=100}return{id:x.id,name:x.investmentName||"Investment",type:x.category||x.investmentType||"Mixed",invested:x.amount||0,current:(x.amount||0)+(x.expectedReturn||x.amount*_),returns:_*100,expectedReturn:x.expectedReturn||x.amount*_,dailyProfit:x.dailyProfit||x.amount*(x.dailyRate||1)/100,dailyRate:x.dailyRate||0,term:x.term,totalDays:x.totalDays,maturityDate:x.maturityDate,approvalDate:x.approvalDate,countdownActive:F,daysRemaining:V,hoursRemaining:L,progressPercent:j,status:x.status,color:"#3b82f6"}}):[],b=y.reduce((x,_)=>x+_.invested,0),I=y.reduce((x,_)=>x+_.current,0),A=I-b,E=f.balance||0;return a.jsxs("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:v.cream},children:[a.jsxs("div",{className:"max-w-6xl mx-auto px-4 lg:px-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{children:[a.jsx("h1",{className:"font-serif text-xl lg:text-2xl",style:{color:v.navy},children:"Dashboard"}),a.jsxs("p",{className:"text-gray-500 text-sm",children:["Welcome back, ",f.name||"Investor"]})]})}),a.jsx($.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"rounded-2xl p-5 lg:p-6 mb-6 text-white",style:{background:`linear-gradient(135deg, ${v.navy} 0%, ${v.navyLight} 100%)`},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-white/60 text-sm mb-1",children:"Available Balance"}),a.jsxs("p",{className:"text-3xl lg:text-4xl font-bold",children:["$",E.toLocaleString()]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs($.button,{onClick:()=>s(!0),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-xl text-sm font-medium",style:{background:v.green,color:"white"},children:[a.jsx(us,{className:"w-4 h-4 inline mr-1"})," Deposit"]}),a.jsxs($.button,{onClick:()=>i(!0),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-xl text-sm font-medium bg-white/20 text-white",children:[a.jsx(Bn,{className:"w-4 h-4 inline mr-1"})," Withdraw"]})]})]})}),a.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[a.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[a.jsx("p",{className:"text-gray-500 text-xs mb-1",children:"Portfolio"}),a.jsxs("p",{className:"text-lg font-bold",style:{color:v.navy},children:["$",I.toLocaleString()]})]}),a.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[a.jsx("p",{className:"text-gray-500 text-xs mb-1",children:"Invested"}),a.jsxs("p",{className:"text-lg font-bold",style:{color:v.gold},children:["$",b.toLocaleString()]})]}),a.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[a.jsx("p",{className:"text-gray-500 text-xs mb-1",children:"Returns"}),a.jsxs("p",{className:"text-lg font-bold",style:{color:v.green},children:[A>=0?"+":"","$",A.toLocaleString()]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden mb-6",children:[a.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[a.jsx("h2",{className:"font-medium",style:{color:v.navy},children:"My Investments"}),a.jsx("button",{onClick:()=>e("investments"),className:"text-sm",style:{color:v.gold},children:"View All"})]}),y.length>0?a.jsx("div",{className:"divide-y divide-gray-50",children:y.map((x,_)=>{var V,L;return a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{background:`${x.color}15`},children:a.jsx(Xr,{className:"w-5 h-5",style:{color:x.color}})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",style:{color:v.navy},children:x.name}),a.jsxs("p",{className:"text-xs text-gray-400",children:[x.type,"  ",x.term]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-sm",style:{color:v.navy},children:["$",x.current.toLocaleString(void 0,{maximumFractionDigits:2})]}),a.jsxs("p",{className:"text-xs text-green-600",children:["+$",(V=x.expectedReturn)==null?void 0:V.toLocaleString(void 0,{maximumFractionDigits:2})]})]})]}),x.countdownActive?a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nN,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{className:"text-xs font-medium text-blue-600",children:"Time Remaining"})]}),a.jsxs("span",{className:"text-sm font-bold",style:{color:v.navy},children:[x.daysRemaining,"d ",x.hoursRemaining,"h"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"h-2 rounded-full transition-all duration-500",style:{width:`${x.progressPercent}%`,background:`linear-gradient(90deg, ${v.green} 0%, ${v.gold} 100%)`}})}),a.jsxs("div",{className:"flex justify-between mt-1",children:[a.jsxs("span",{className:"text-xs text-gray-500",children:[x.progressPercent,"% complete"]}),x.dailyRate>0&&a.jsxs("span",{className:"text-xs text-green-600",children:["+$",(L=x.dailyProfit)==null?void 0:L.toFixed(2),"/day"]})]})]}):x.status==="pending"?a.jsxs("div",{className:"bg-yellow-50 rounded-lg p-3 flex items-center gap-2",children:[a.jsx(la,{className:"w-4 h-4 text-yellow-600"}),a.jsx("span",{className:"text-xs text-yellow-700",children:"Awaiting approval - countdown starts after approval"})]}):x.progressPercent>=100?a.jsxs("div",{className:"bg-green-50 rounded-lg p-3 flex items-center gap-2",children:[a.jsx(Xe,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-xs text-green-700",children:"Completed! Payout ready"})]}):null]},_)})}):a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mx-auto mb-4",children:a.jsx(Xr,{className:"w-8 h-8 text-gray-400"})}),a.jsx("p",{className:"text-gray-500 font-medium mb-2",children:"No investments yet"}),a.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Start your investment journey today"}),a.jsx($.button,{onClick:()=>e("investments"),whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-6 py-2 rounded-lg text-white text-sm font-medium",style:{background:v.gold},children:"Browse Investments"})]})]}),a.jsx("div",{className:"grid grid-cols-4 gap-3",children:[{icon:Xr,label:"Invest",color:v.navy,action:()=>e("investments")},{icon:Nm,label:"Auto-Invest",color:"#f59e0b",action:()=>l(!0)},{icon:J2,label:"History",color:"#8b5cf6",action:()=>e("history")},{icon:kl,label:"Profile",color:v.green,action:()=>e("profile")}].map((x,_)=>a.jsxs($.button,{onClick:x.action,whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-white rounded-xl p-4 shadow-sm flex flex-col items-center gap-2",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{background:`${x.color}15`},children:a.jsx(x.icon,{className:"w-5 h-5",style:{color:x.color}})}),a.jsx("span",{className:"text-xs font-medium text-gray-600",children:x.label})]},_))})]}),a.jsxs(ft,{children:[n&&a.jsx(UT,{onClose:()=>s(!1)}),r&&a.jsx($T,{onClose:()=>i(!1),balance:E}),o&&a.jsx(j6,{onClose:()=>l(!1),user:t})]})]})}function _6({user:t}){const[e,n]=R.useState("all"),[s,r]=R.useState("all"),i=ne.getTransactions().filter(p=>p.userId===(t==null?void 0:t.uid)||p.userEmail===(t==null?void 0:t.email)),o=JSON.parse(localStorage.getItem("saxovault_pending_investments")||"[]").filter(p=>p.userEmail===(t==null?void 0:t.email)),u=[...i.map(p=>({...p,category:p.type})),...o.map(p=>({id:p.id,type:"investment",category:"investment",amount:p.amount,status:p.status,name:p.investmentName,crypto:p.crypto,createdAt:p.createdAt}))].sort((p,y)=>new Date(y.createdAt)-new Date(p.createdAt)).filter(p=>e==="all"||p.category===e),d=p=>{switch(p){case"completed":case"approved":return"bg-green-100 text-green-700";case"pending":return"bg-yellow-100 text-yellow-700";case"rejected":case"failed":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},f=p=>{switch(p){case"deposit":return a.jsx(us,{className:"w-5 h-5 text-green-600"});case"withdrawal":return a.jsx(Bn,{className:"w-5 h-5 text-orange-600"});case"investment":return a.jsx(Xr,{className:"w-5 h-5 text-blue-600"});default:return a.jsx(q2,{className:"w-5 h-5 text-gray-600"})}},h=()=>{const p=[["Date","Type","Amount","Status","Details"].join(","),...u.map(A=>[new Date(A.createdAt).toLocaleDateString(),A.type,A.amount,A.status,A.name||A.crypto||""].join(","))].join(`
`),y=new Blob([p],{type:"text/csv"}),b=URL.createObjectURL(y),I=document.createElement("a");I.href=b,I.download=`saxovault_transactions_${new Date().toISOString().split("T")[0]}.csv`,I.click()};return a.jsx("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:v.cream},children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 lg:px-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"font-serif text-xl lg:text-2xl",style:{color:v.navy},children:"Transaction History"}),a.jsxs("p",{className:"text-gray-500 text-sm",children:[u.length," transactions"]})]}),a.jsxs($.button,{onClick:h,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-medium",style:{background:v.navy,color:"white"},children:[a.jsx(wR,{className:"w-4 h-4"})," Export"]})]}),a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm mb-6",children:a.jsx("div",{className:"flex gap-2 overflow-x-auto",children:[{id:"all",label:"All"},{id:"deposit",label:"Deposits"},{id:"withdrawal",label:"Withdrawals"},{id:"investment",label:"Investments"}].map(p=>a.jsx("button",{onClick:()=>n(p.id),className:`px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all ${e===p.id?"text-white":"bg-gray-100 text-gray-600"}`,style:e===p.id?{background:v.navy}:{},children:p.label},p.id))})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:u.length>0?a.jsx("div",{className:"divide-y divide-gray-100",children:u.map((p,y)=>{var b;return a.jsx($.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:y*.03},className:"p-4 hover:bg-gray-50 transition-colors",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-gray-100 flex items-center justify-center",children:f(p.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("p",{className:"font-medium",style:{color:v.navy},children:p.type.charAt(0).toUpperCase()+p.type.slice(1)}),a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${d(p.status)}`,children:p.status})]}),a.jsxs("p",{className:"text-sm text-gray-500 truncate",children:[p.name||p.crypto||"Transaction","  ",new Date(p.createdAt).toLocaleDateString()]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:`font-bold ${p.type==="withdrawal"?"text-orange-600":"text-green-600"}`,children:[p.type==="withdrawal"?"-":"+","$",(b=p.amount)==null?void 0:b.toLocaleString()]}),a.jsx("p",{className:"text-xs text-gray-400",children:new Date(p.createdAt).toLocaleTimeString()})]})]})},y)})}):a.jsxs("div",{className:"text-center py-16",children:[a.jsx(J2,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"No transactions yet"})]})})]})})}function b6({user:t}){const[e,n]=R.useState([]);R.useEffect(()=>{const o=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}"),l=JSON.parse(localStorage.getItem("saxovault_broadcasts")||"[]"),u=[...o[t==null?void 0:t.email]||[],...l.map(d=>({...d,type:"broadcast",title:d.title,message:d.message}))].sort((d,f)=>new Date(f.createdAt)-new Date(d.createdAt));n(u)},[t]);const s=o=>{const l=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}");l[t==null?void 0:t.email]&&(l[t.email]=l[t.email].map(u=>u.id===o?{...u,read:!0}:u),localStorage.setItem("saxovault_user_notifications",JSON.stringify(l)),n(u=>u.map(d=>d.id===o?{...d,read:!0}:d)))},r=o=>{switch(o){case"investment_approved":return a.jsx(Xe,{className:"w-5 h-5 text-green-600"});case"investment_rejected":return a.jsx(gn,{className:"w-5 h-5 text-red-600"});case"deposit_confirmed":return a.jsx(us,{className:"w-5 h-5 text-green-600"});case"withdrawal_processed":return a.jsx(Bn,{className:"w-5 h-5 text-orange-600"});case"broadcast":return a.jsx(sr,{className:"w-5 h-5 text-blue-600"});default:return a.jsx(sr,{className:"w-5 h-5 text-gray-600"})}},i=e.filter(o=>!o.read).length;return a.jsx("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:v.cream},children:a.jsxs("div",{className:"max-w-2xl mx-auto px-4 lg:px-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"font-serif text-xl lg:text-2xl",style:{color:v.navy},children:"Notifications"}),a.jsxs("p",{className:"text-gray-500 text-sm",children:[i," unread"]})]}),i>0&&a.jsx("button",{onClick:()=>{const o=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}");o[t==null?void 0:t.email]&&(o[t.email]=o[t.email].map(l=>({...l,read:!0})),localStorage.setItem("saxovault_user_notifications",JSON.stringify(o)),n(l=>l.map(u=>({...u,read:!0}))))},className:"text-sm font-medium",style:{color:v.gold},children:"Mark all as read"})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:e.length>0?a.jsx("div",{className:"divide-y divide-gray-100",children:e.map((o,l)=>a.jsx($.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:l*.03},onClick:()=>s(o.id),className:`p-4 cursor-pointer transition-colors ${o.read?"bg-white":"bg-blue-50"} hover:bg-gray-50`,children:a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center flex-shrink-0",children:r(o.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("p",{className:"font-medium text-sm",style:{color:v.navy},children:o.title}),!o.read&&a.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500"})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:o.message}),a.jsx("p",{className:"text-xs text-gray-400",children:new Date(o.createdAt).toLocaleString()})]})]})},l))}):a.jsxs("div",{className:"text-center py-16",children:[a.jsx(sr,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"No notifications yet"})]})})]})})}function N6({user:t}){const[e,n]=R.useState([]);return R.useEffect(()=>{const s=JSON.parse(localStorage.getItem("saxovault_activity_logs")||"{}");n(s[t==null?void 0:t.email]||[])},[t]),a.jsx("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:v.cream},children:a.jsxs("div",{className:"max-w-2xl mx-auto px-4 lg:px-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"font-serif text-xl lg:text-2xl",style:{color:v.navy},children:"Activity Log"}),a.jsx("p",{className:"text-gray-500 text-sm",children:"Your recent account activity"})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:e.length>0?a.jsx("div",{className:"divide-y divide-gray-100",children:e.map((s,r)=>a.jsx("div",{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${s.type==="login"?"bg-green-100":s.type==="logout"?"bg-gray-100":s.type==="password_change"?"bg-yellow-100":"bg-blue-100"}`,children:[s.type==="login"&&a.jsx(ua,{className:"w-5 h-5 text-green-600 rotate-180"}),s.type==="logout"&&a.jsx(ua,{className:"w-5 h-5 text-gray-600"}),s.type==="password_change"&&a.jsx(Vu,{className:"w-5 h-5 text-yellow-600"}),s.type==="profile_update"&&a.jsx(kl,{className:"w-5 h-5 text-blue-600"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-sm",style:{color:v.navy},children:s.type==="login"?"Signed in":s.type==="logout"?"Signed out":s.type==="password_change"?"Password changed":"Profile updated"}),a.jsx("p",{className:"text-xs text-gray-500",children:new Date(s.timestamp).toLocaleString()})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-gray-400",children:s.ip||"Unknown IP"}),a.jsx("p",{className:"text-xs text-gray-400",children:s.device||"Unknown Device"})]})]})},r))}):a.jsxs("div",{className:"text-center py-16",children:[a.jsx(mR,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"No activity recorded yet"})]})}),a.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-xl",children:[a.jsxs("h3",{className:"font-medium text-blue-800 mb-2 flex items-center gap-2",children:[a.jsx(da,{className:"w-5 h-5"})," Security Tips"]}),a.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[a.jsx("li",{children:" Review your activity regularly for suspicious logins"}),a.jsx("li",{children:" Enable two-factor authentication for extra security"}),a.jsx("li",{children:" Never share your password with anyone"})]})]})]})})}function UT({onClose:t}){const[e,n]=R.useState(1),[s,r]=R.useState(""),[i,o]=R.useState(null),[l,u]=R.useState(!1),[d,f]=R.useState(1800),[h,p]=R.useState(""),[y,b]=R.useState(null),[I,A]=R.useState(!1),[E,x]=R.useState(!1),_=R.useRef(null),V=[{id:"btc",name:"Bitcoin",symbol:"BTC",icon:"",color:"#f7931a",address:"bc1qzmgg6hw0fttfpczh2whp8f44k497d6pucghk58",network:"Bitcoin"},{id:"eth",name:"Ethereum",symbol:"ETH",icon:"",color:"#627eea",address:"0x83057882eC7B7EE0cBe63C2fE2b8957e7ab69655",network:"ERC-20"},{id:"usdt",name:"Tether",symbol:"USDT",icon:"",color:"#26a17b",address:"TLGH9FucAuPNUoQw2XUFEDtCg4FFdJ2jKG",network:"TRC-20"},{id:"usdc",name:"USD Coin",symbol:"USDC",icon:"$",color:"#2775ca",address:"0x83057882eC7B7EE0cBe63C2fE2b8957e7ab69655",network:"ERC-20"},{id:"bnb",name:"BNB",symbol:"BNB",icon:"B",color:"#f3ba2f",address:"0x83057882eC7B7EE0cBe63C2fE2b8957e7ab69655",network:"BEP-20"}];R.useEffect(()=>{if(e===2&&d>0){const N=setInterval(()=>f(S=>S-1),1e3);return()=>clearInterval(N)}},[e,d]);const L=N=>`${Math.floor(N/60).toString().padStart(2,"0")}:${(N%60).toString().padStart(2,"0")}`,F=N=>{navigator.clipboard.writeText(N),u(!0),setTimeout(()=>u(!1),2e3)},j=N=>{var P;const S=(P=N.target.files)==null?void 0:P[0];if(S){if(S.size>5*1024*1024){alert("File too large. Max 5MB.");return}A(!0);const D=new FileReader;D.onload=()=>{b(D.result),A(!1)},D.readAsDataURL(S)}},w=async()=>{if(!h&&!y){alert("Please provide transaction hash or payment proof.");return}x(!0),console.log(" Starting deposit submission...");try{const N=JSON.parse(localStorage.getItem("saxovault_current_user")||"{}");if(!N.email||!N.uid){alert("Please login to continue"),x(!1);return}const S={type:"deposit",amount:parseFloat(s),crypto:i.symbol,network:i.network,txHash:h||null,proofImage:y?"uploaded":null,userEmail:N.email,userId:N.uid,userName:N.name||"User"};console.log(" Deposit data:",S);const P=await ne.addTransaction(S);console.log(" Deposit saved:",P),console.log(" Sending deposit email notification...");try{const D=await Te.sendDepositNotification(N.email,parseFloat(s),i.symbol);console.log(" Deposit email sent:",D)}catch(D){console.error(" Deposit email failed:",D)}x(!1),n(4),console.log(" Deposit submission complete!")}catch(N){console.error(" Deposit submission error:",N),alert("Error submitting deposit. Please try again."),x(!1)}};return a.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t,children:a.jsxs($.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-2xl w-full max-w-md shadow-xl overflow-hidden",onClick:N=>N.stopPropagation(),children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",style:{background:v.navy},children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(us,{className:"w-5 h-5 text-white"}),a.jsx("span",{className:"text-white font-medium",children:"Deposit Funds"})]}),a.jsx("button",{onClick:t,className:"text-white/70 hover:text-white",children:a.jsx(gn,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"px-6 py-3 bg-gray-50 border-b border-gray-100",children:[a.jsx("div",{className:"flex gap-2",children:[1,2,3,4].map(N=>a.jsx("div",{className:`h-1 flex-1 rounded-full ${e>=N?"bg-blue-500":"bg-gray-200"}`},N))}),a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Step ",e," of 4: ",e===1?"Select Amount":e===2?"Send Payment":e===3?"Confirm Payment":"Complete"]})]}),a.jsxs("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:[e===1&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Payment Method"}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:V.map(N=>a.jsxs("button",{onClick:()=>o(N),className:`p-3 rounded-lg border-2 text-center transition-all ${(i==null?void 0:i.id)===N.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx("span",{className:"text-lg",children:N.icon}),a.jsx("p",{className:"text-xs font-medium mt-1",children:N.symbol})]},N.id))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Amount (USD)"}),a.jsx("input",{type:"number",value:s,onChange:N=>r(N.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"Enter amount",min:"10"}),a.jsx("div",{className:"flex gap-2 mt-2",children:[100,500,1e3,5e3].map(N=>a.jsxs("button",{onClick:()=>r(N.toString()),className:"flex-1 py-1.5 text-xs border border-gray-200 rounded hover:bg-gray-50",children:["$",N.toLocaleString()]},N))})]}),a.jsx("button",{onClick:()=>i&&s>=10&&n(2),disabled:!i||!s||parseFloat(s)<10,className:"w-full py-3 rounded-lg text-white font-medium disabled:opacity-50 transition-all",style:{background:v.navy},children:"Continue"})]}),e===2&&i&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center p-3 bg-amber-50 rounded-lg border border-amber-200",children:[a.jsx("p",{className:"text-sm text-amber-700",children:"Complete payment within"}),a.jsx("p",{className:"text-2xl font-mono font-bold text-amber-800",children:L(d)})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Amount"}),a.jsxs("span",{className:"font-semibold",children:["$",parseFloat(s).toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Network"}),a.jsx("span",{className:"text-sm font-medium",children:i.network})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:["Send ",i.symbol," to:"]}),a.jsx("div",{className:"p-3 bg-gray-900 rounded-lg",children:a.jsx("p",{className:"font-mono text-xs text-gray-300 break-all text-center",children:i.address})}),a.jsx("button",{onClick:()=>F(i.address),className:"w-full mt-2 py-2 text-sm border border-gray-200 rounded-lg hover:bg-gray-50 flex items-center justify-center gap-2",children:l?a.jsxs(a.Fragment,{children:[a.jsx(Xe,{className:"w-4 h-4 text-green-500"})," Copied!"]}):a.jsxs(a.Fragment,{children:[a.jsx(al,{className:"w-4 h-4"})," Copy Address"]})})]}),a.jsxs("p",{className:"text-xs text-gray-500 text-center",children:[" Only send ",i.symbol," via ",i.network,". Wrong network = lost funds."]}),a.jsx("button",{onClick:()=>n(3),className:"w-full py-3 rounded-lg text-white font-medium",style:{background:v.navy},children:"I've Sent Payment"})]}),e===3&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("button",{onClick:()=>n(2),className:"text-sm text-gray-500 hover:text-gray-700 flex items-center gap-1",children:[a.jsx(Il,{className:"w-4 h-4"})," Back"]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Transaction Hash (Recommended)"}),a.jsx("input",{type:"text",value:h,onChange:N=>p(N.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-blue-500 font-mono text-sm",placeholder:"0x... or txid..."})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex-1 h-px bg-gray-200"}),a.jsx("span",{className:"text-xs text-gray-400",children:"OR"}),a.jsx("div",{className:"flex-1 h-px bg-gray-200"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Upload Proof of Payment"}),a.jsx("input",{ref:_,type:"file",accept:"image/*",onChange:j,className:"hidden"}),y?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:y,alt:"Proof",className:"w-full h-32 object-cover rounded-lg"}),a.jsx("button",{onClick:()=>b(null),className:"absolute top-2 right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center",children:a.jsx(gn,{className:"w-3 h-3"})})]}):a.jsx("button",{onClick:()=>{var N;return(N=_.current)==null?void 0:N.click()},className:"w-full p-6 border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 text-center",children:I?a.jsx(pn,{className:"w-6 h-6 mx-auto animate-spin text-gray-400"}):a.jsxs(a.Fragment,{children:[a.jsx(vm,{className:"w-6 h-6 mx-auto text-gray-400 mb-2"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Click to upload screenshot"})]})})]}),a.jsx("div",{className:"p-3 bg-gray-50 rounded-lg text-sm",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Verification"}),a.jsx("span",{className:h||y?"text-green-600":"text-amber-600",children:h&&y?" Both provided":h?" Hash provided":y?" Proof uploaded":" Required"})]})}),a.jsx("button",{onClick:w,disabled:!h&&!y||E,className:"w-full py-3 rounded-lg text-white font-medium disabled:opacity-50 flex items-center justify-center gap-2",style:{background:v.navy},children:E?a.jsxs(a.Fragment,{children:[a.jsx(pn,{className:"w-4 h-4 animate-spin"})," Processing..."]}):"Submit for Verification"})]}),e===4&&a.jsxs("div",{className:"text-center py-6",children:[a.jsx("div",{className:"w-16 h-16 mx-auto rounded-full bg-green-100 flex items-center justify-center mb-4",children:a.jsx(Xe,{className:"w-8 h-8 text-green-500"})}),a.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:v.navy},children:"Deposit Submitted"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Your deposit is pending verification. You'll be notified once approved."}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg text-sm text-left mb-4",children:[a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{className:"text-gray-500",children:"Amount"}),a.jsxs("span",{className:"font-medium",children:["$",parseFloat(s).toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{className:"text-gray-500",children:"Method"}),a.jsx("span",{className:"font-medium",children:i==null?void 0:i.symbol})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Status"}),a.jsx("span",{className:"text-amber-600 font-medium",children:"Pending Approval"})]})]}),a.jsx("button",{onClick:t,className:"w-full py-3 rounded-lg font-medium border border-gray-200 hover:bg-gray-50",children:"Done"})]})]})]})})}function $T({onClose:t,balance:e}){const[n,s]=R.useState(1),[r,i]=R.useState(""),[o,l]=R.useState(null),[u,d]=R.useState(""),[f,h]=R.useState(!1),p=[{id:"btc",name:"Bitcoin",symbol:"BTC",icon:"",network:"Bitcoin",minWithdraw:50},{id:"eth",name:"Ethereum",symbol:"ETH",icon:"",network:"ERC-20",minWithdraw:50},{id:"usdt",name:"Tether",symbol:"USDT",icon:"",network:"TRC-20",minWithdraw:20},{id:"usdc",name:"USD Coin",symbol:"USDC",icon:"$",network:"ERC-20",minWithdraw:20},{id:"bnb",name:"BNB",symbol:"BNB",icon:"B",network:"BEP-20",minWithdraw:30}],y=r&&parseFloat(r)>=((o==null?void 0:o.minWithdraw)||0)&&parseFloat(r)<=e,b=u.length>=26,I=async()=>{if(!(!y||!b)){h(!0),console.log(" Starting withdrawal submission...");try{const A=JSON.parse(localStorage.getItem("saxovault_current_user")||"{}");if(!A.email||!A.uid){alert("Please login to continue"),h(!1);return}const E={type:"withdrawal",amount:parseFloat(r),crypto:o.symbol,network:o.network,walletAddress:u,userEmail:A.email,userId:A.uid,userName:A.name||"User"};console.log(" Withdrawal data:",E);const x=await ne.addTransaction(E);console.log(" Withdrawal saved:",x),console.log(" Sending withdrawal email...");try{const _=await Te.sendWithdrawalNotification(A.email,parseFloat(r),u);console.log(" Withdrawal email sent:",_)}catch(_){console.error(" Withdrawal email failed:",_)}h(!1),s(3),console.log(" Withdrawal submission complete!")}catch(A){console.error(" Withdrawal submission error:",A),alert("Error submitting withdrawal. Please try again."),h(!1)}}};return a.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t,children:a.jsxs($.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-2xl w-full max-w-md shadow-xl overflow-hidden",onClick:A=>A.stopPropagation(),children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",style:{background:v.navy},children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Bn,{className:"w-5 h-5 text-white"}),a.jsxs("div",{children:[a.jsx("span",{className:"text-white font-medium",children:"Withdraw Funds"}),a.jsxs("p",{className:"text-white/60 text-xs",children:["Balance: $",e.toLocaleString()]})]})]}),a.jsx("button",{onClick:t,className:"text-white/70 hover:text-white",children:a.jsx(gn,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"px-6 py-3 bg-gray-50 border-b border-gray-100",children:[a.jsx("div",{className:"flex gap-2",children:[1,2,3].map(A=>a.jsx("div",{className:`h-1 flex-1 rounded-full ${n>=A?"bg-blue-500":"bg-gray-200"}`},A))}),a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Step ",n," of 3: ",n===1?"Enter Details":n===2?"Confirm":"Complete"]})]}),a.jsxs("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:[n===1&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Withdrawal Method"}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:p.map(A=>a.jsxs("button",{onClick:()=>l(A),className:`p-3 rounded-lg border-2 text-center transition-all ${(o==null?void 0:o.id)===A.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx("span",{className:"text-lg",children:A.icon}),a.jsx("p",{className:"text-xs font-medium mt-1",children:A.symbol})]},A.id))}),o&&a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Min: $",o.minWithdraw,"  Network: ",o.network]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Amount (USD)"}),a.jsx("input",{type:"number",value:r,onChange:A=>i(A.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"Enter amount",max:e}),a.jsx("div",{className:"flex gap-2 mt-2",children:[25,50,75,100].map(A=>a.jsxs("button",{onClick:()=>i(Math.floor(e*A/100).toString()),className:"flex-1 py-1.5 text-xs border border-gray-200 rounded hover:bg-gray-50",children:[A,"%"]},A))}),r&&parseFloat(r)>e&&a.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Insufficient balance"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Wallet Address"}),a.jsx("input",{type:"text",value:u,onChange:A=>d(A.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-blue-500 font-mono text-sm",placeholder:"Enter your wallet address"})]}),a.jsx("button",{onClick:()=>s(2),disabled:!y||!b||!o,className:"w-full py-3 rounded-lg text-white font-medium disabled:opacity-50",style:{background:v.navy},children:"Continue"})]}),n===2&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("button",{onClick:()=>s(1),className:"text-sm text-gray-500 hover:text-gray-700 flex items-center gap-1",children:[a.jsx(Il,{className:"w-4 h-4"})," Back"]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Amount"}),a.jsxs("span",{className:"font-semibold",children:["$",parseFloat(r).toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Method"}),a.jsxs("span",{className:"font-medium",children:[o==null?void 0:o.symbol," (",o==null?void 0:o.network,")"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Fee"}),a.jsx("span",{className:"text-sm",children:"Network fee applies"})]}),a.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Destination"}),a.jsx("p",{className:"font-mono text-xs break-all",children:u})]})]}),a.jsx("div",{className:"p-3 bg-amber-50 rounded-lg border border-amber-200",children:a.jsx("p",{className:"text-xs text-amber-700",children:" Please verify the address is correct. Withdrawals to wrong addresses cannot be recovered."})}),a.jsx("button",{onClick:I,disabled:f,className:"w-full py-3 rounded-lg text-white font-medium disabled:opacity-50 flex items-center justify-center gap-2",style:{background:v.navy},children:f?a.jsxs(a.Fragment,{children:[a.jsx(pn,{className:"w-4 h-4 animate-spin"})," Processing..."]}):"Confirm Withdrawal"})]}),n===3&&a.jsxs("div",{className:"text-center py-6",children:[a.jsx("div",{className:"w-16 h-16 mx-auto rounded-full bg-blue-100 flex items-center justify-center mb-4",children:a.jsx(la,{className:"w-8 h-8 text-blue-500"})}),a.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:v.navy},children:"Withdrawal Submitted"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Your withdrawal is under review. Processing time: 24-48 hours."}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg text-sm text-left mb-4",children:[a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{className:"text-gray-500",children:"Amount"}),a.jsxs("span",{className:"font-medium",children:["$",parseFloat(r).toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{className:"text-gray-500",children:"Method"}),a.jsx("span",{className:"font-medium",children:o==null?void 0:o.symbol})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Status"}),a.jsx("span",{className:"text-amber-600 font-medium",children:"Under Review"})]})]}),a.jsx("button",{onClick:t,className:"w-full py-3 rounded-lg font-medium border border-gray-200 hover:bg-gray-50",children:"Done"})]})]})]})})}function S6({document:t,onClose:e}){const n={"White Paper":{title:"SaxoVault Capital White Paper",version:"Version 2.1 | January 2024",sections:[{title:"Executive Summary",content:`SaxoVault Capital is a premier institutional-grade investment platform designed to democratize access to high-yield investment opportunities traditionally reserved for accredited investors and financial institutions.

Our platform leverages cutting-edge technology, rigorous due diligence processes, and diversified asset allocation strategies to deliver consistent, risk-adjusted returns across multiple asset classes including Real Estate, Cryptocurrency, Stocks & Bonds, and Precious Metals.

Founded in 2019, SaxoVault Capital has grown to manage over $600 million in assets under management (AUM), serving more than 12,000 investors across 45+ countries.`},{title:"1. Introduction & Vision",content:`1.1 Mission Statement
To provide retail and institutional investors with secure, transparent, and profitable investment opportunities through innovative technology and expert portfolio management.

1.2 Core Values
 Transparency: Full disclosure of investment strategies, risks, and performance
 Security: Bank-level encryption and multi-layer authentication
 Accessibility: Institutional-grade investments with retail-friendly minimums
 Education: Comprehensive investor resources and market insights

1.3 Platform Overview
SaxoVault Capital offers curated opportunities across four primary asset verticals: Real Estate, Cryptocurrency & Digital Assets, Stocks & Fixed Income, and Precious Metals.`},{title:"2. Investment Philosophy",content:`2.1 Diversification Strategy
Our portfolio construction emphasizes strategic diversification across asset classes, geographies, and investment horizons to mitigate concentration risk.

2.2 Due Diligence Framework
Every investment undergoes a rigorous 5-stage vetting process:
 Stage 1: Initial Screening & Market Analysis
 Stage 2: Financial Modeling & Stress Testing
 Stage 3: Legal & Regulatory Compliance Review
 Stage 4: Third-Party Audit & Verification
 Stage 5: Investment Committee Approval

2.3 Risk Management
We employ sophisticated risk management including position sizing limits, stop-loss mechanisms, and real-time monitoring. Maximum exposure to any single investment is capped at 15% of total AUM.`},{title:"3. Asset Allocation",content:`Real Estate (35%): Development funding and income properties
Cryptocurrency (25%): Blue-chip holdings and DeFi strategies
Stocks & Bonds (25%): Dividend aristocrats and growth ETFs
Precious Metals (15%): Gold, silver, and platinum exposure`},{title:"4. Technology & Security",content:` 256-bit SSL/TLS encryption
 Multi-factor authentication (MFA)
 Cold storage for 95% of digital assets
 SOC 2 Type II certified data centers
 Regular penetration testing and security audits
 Smart contract integration for transparent transactions`},{title:"5. Regulatory Compliance",content:"SaxoVault Capital maintains appropriate licenses and adheres to AML/KYC procedures. We implement robust Anti-Money Laundering and Know Your Customer procedures with segregated client accounts and independent custodian relationships."},{title:"6. Fee Structure",content:`Management Fee: 1.5% annually
Performance Fee: 20% of profits above 8% hurdle
Deposit Fee: 0% (no deposit fees)
Withdrawal Fee: Network fees only for cryptocurrency`}]},"Terms of Service":{title:"Terms of Service",version:"Last Updated: December 2024",sections:[{title:"1. Agreement to Terms",content:"By accessing SaxoVault Capital, you agree to these Terms. If you do not agree, you may not use the Platform. We may modify these Terms at any time."},{title:"2. Eligibility",content:"You must be 18+ years old, have legal capacity to contract, not be in a prohibited jurisdiction, complete KYC verification, and provide accurate information."},{title:"3. Account Security",content:"You are responsible for maintaining credential confidentiality. Notify us immediately of unauthorized access. One account per person."},{title:"4. Investment Services",content:"We provide access to curated investment opportunities as an intermediary. All investments carry risk. Past performance does not guarantee future results."},{title:"5. Deposits & Withdrawals",content:"We accept cryptocurrency deposits. Withdrawals are processed within 24-48 hours. Large withdrawals may require additional verification."},{title:"6. Prohibited Activities",content:"No money laundering, market manipulation, fraud, unauthorized bots, security circumvention, impersonation, or illegal activity."},{title:"7. Limitation of Liability",content:"SaxoVault Capital is not liable for indirect, incidental, or consequential damages. Total liability is limited to fees paid in the preceding 12 months."}]},"Privacy Policy":{title:"Privacy Policy",version:"GDPR & CCPA Compliant | December 2024",sections:[{title:"1. Information We Collect",content:"Identity info (name, DOB, ID), contact info (email, phone, address), financial info (wallet addresses), verification documents, device info, and usage data."},{title:"2. How We Use Information",content:"Verify identity, process transactions, communicate about your account, comply with regulations, improve services, and detect security threats."},{title:"3. Data Sharing",content:"We share with service providers, regulatory authorities, and professional advisors. We do NOT sell your personal information."},{title:"4. Data Security",content:"256-bit encryption, multi-factor authentication, regular audits, employee access controls, and SOC 2 certified data centers."},{title:"5. Your Rights",content:"Access, rectification, erasure, restriction, portability, and objection rights. Contact privacy@saxobankcapital.com to exercise."},{title:"6. Data Retention",content:"We retain data as long as necessary for services and legal compliance. After account closure, certain data is retained for up to 7 years."}]},"Risk Disclosure":{title:"Risk Disclosure Statement",version:"Required Reading | All Investors",sections:[{title:"IMPORTANT WARNING",content:"Investing involves risk including possible loss of principal. Values can go down as well as up. This does not disclose all risks. Consult a financial advisor."},{title:"1. Market Risk",content:"Values fluctuate based on economic events, political developments, and market sentiment."},{title:"2. Real Estate Risks",content:"Property values may decline, projects may face delays, rental income affected by vacancies, regulatory changes, environmental issues."},{title:"3. Cryptocurrency Risks",content:"Extreme volatility, regulatory uncertainty, security risks, technology vulnerabilities, market manipulation, no intrinsic value."},{title:"4. Stock & Bond Risks",content:"Equity risk, credit risk, sector concentration, currency fluctuations, dividend reductions."},{title:"5. Precious Metals Risks",content:"Price volatility, no income generation, storage costs, industrial demand cycles."},{title:"Acknowledgment",content:"By investing, you acknowledge reading this disclosure, understanding risks, accepting potential losses, and conducting your own due diligence."}]},"AML/KYC Policy":{title:"Anti-Money Laundering & KYC Policy",version:"FATF Compliant | December 2024",sections:[{title:"1. Policy Statement",content:"SaxoVault Capital is committed to highest AML/CTF standards, adhering to FATF recommendations and applicable laws."},{title:"2. Customer Identification",content:"Required: Government photo ID, proof of address (within 90 days), selfie verification. Enhanced due diligence for high-value transactions and PEPs."},{title:"3. Ongoing Monitoring",content:"Transaction monitoring, periodic reviews, sanctions screening, automated alerts for unusual activity."},{title:"4. Suspicious Activity",content:"We file SARs and CTRs as required, cooperate with law enforcement, and maintain records for 5+ years."},{title:"5. Prohibited Activities",content:"Money laundering, terrorist financing, sanctioned transactions, structuring, false identities, illegal proceeds."},{title:"6. Sanctions Compliance",content:"We screen against OFAC, UN, EU, and other sanctions lists. Transactions with sanctioned parties are blocked and reported."}]},"Investment Guide":{title:"Investment Guidelines & Handbook",version:"Investor Reference | 2024",sections:[{title:"1. Getting Started",content:"Register  Complete KYC  Enable 2FA  Fund account  Browse investments. Account levels: Basic (<$25K), Premium ($25K-$100K), Elite ($100K+)."},{title:"2. Investment Categories",content:"Real Estate: $10K-$50K min, 12-36 months, 7-22% target. Crypto: $2.5K-$10K min, 6-12 months, 15-40% target. Stocks: $3K-$10K min, 12 months, 5-20% target. Metals: $2.5K-$15K min, 12-24 months, 8-18% target."},{title:"3. Portfolio Strategies",content:"Conservative: 50% bonds, 30% RE income, 15% metals, 5% crypto. Balanced: 35% RE, 25% stocks, 25% crypto, 15% metals. Aggressive: 40% crypto, 30% growth stocks, 20% RE dev, 10% altcoins."},{title:"4. Payouts",content:"Methods: Cryptocurrency or reinvestment. Schedule: Monthly, quarterly, or at maturity. Compound option available."},{title:"5. Withdrawals",content:"Crypto: 24-48 hours. Large (>$50K): 3-5 days. Daily limit: $100K (Elite: $500K)."}]},"Fee Schedule":{title:"Fee Schedule",version:"Effective January 2024",sections:[{title:"Account Fees",content:"Opening: FREE. Maintenance: FREE. Closure: FREE. Inactivity (12+ months): $25/month."},{title:"Deposit Fees",content:"All cryptocurrency deposits: FREE. Network fees paid by sender."},{title:"Withdrawal Fees",content:"Network fees only. Express processing (4 hours): 0.1% of amount."},{title:"Management Fees",content:"1.5% annually (0.375% quarterly). Performance fee: 20% of profits above 8% hurdle."},{title:"Early Redemption",content:"0-30 days: 5%. 31-90 days: 3%. 91-180 days: 1%. 180+ days: No penalty."},{title:"Elite Discounts",content:"25% off management fees, free express withdrawals, dedicated account manager."}]},"FAQ & Support":{title:"Frequently Asked Questions",version:"Updated December 2024",sections:[{title:"Account",content:`Q: How to register? A: Click Register, enter details, complete KYC.
Q: Verification time? A: 24-48 hours standard, 4 hours express.
Q: Multiple accounts? A: No, one per person.`},{title:"Deposits",content:`Q: Which cryptos? A: BTC, ETH, USDT, USDC, BNB, LTC.
Q: Minimum? A: No account minimum. Each investment has its own.
Q: How long? A: 10-30 minutes after confirmation.`},{title:"Investments",content:`Q: Minimum investment? A: $2,500 - $50,000 depending on opportunity.
Q: Early withdrawal? A: May incur penalties per terms.
Q: When payouts? A: Monthly, quarterly, or at maturity.`},{title:"Withdrawals",content:`Q: Processing time? A: 24-48 hours standard.
Q: Limits? A: $100K daily ($500K for Elite).
Q: Delayed? A: Contact support if >72 hours.`},{title:"Contact Support",content:`WhatsApp: +1 (464) 239-5280 (24/7)
Live Chat: Available on website
Email: support@saxovault.com
Response: Under 24 hours`}]}},s=n[t]||n["White Paper"];return a.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e,children:a.jsxs($.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-2xl lg:rounded-3xl w-full max-w-4xl max-h-[90vh] overflow-hidden shadow-2xl",onClick:r=>r.stopPropagation(),children:[a.jsxs("div",{className:"p-5 lg:p-6 border-b border-gray-100 flex items-center justify-between sticky top-0 bg-white z-10",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"font-serif text-xl lg:text-2xl",style:{color:v.navy},children:s.title}),a.jsx("p",{className:"text-gray-500 text-sm",children:s.version})]}),a.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:a.jsx(gn,{className:"w-6 h-6",style:{color:v.navy}})})]}),a.jsxs("div",{className:"p-5 lg:p-8 overflow-y-auto max-h-[calc(90vh-100px)]",children:[a.jsx("div",{className:"space-y-8",children:s.sections.map((r,i)=>a.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i*.05},children:[a.jsx("h3",{className:"font-serif text-lg lg:text-xl mb-3 pb-2 border-b border-gray-100",style:{color:v.navy},children:r.title}),a.jsx("div",{className:"text-gray-600 text-sm lg:text-base leading-relaxed whitespace-pre-line",children:r.content})]},i))}),a.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-100 flex flex-col sm:flex-row gap-3",children:[a.jsxs($.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 py-3 rounded-xl font-medium flex items-center justify-center gap-2",style:{background:`${v.navy}10`,color:v.navy},children:[a.jsx(us,{className:"w-4 h-4"})," Download PDF"]}),a.jsx($.button,{onClick:e,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 py-3 rounded-xl text-white font-medium",style:{background:v.navy},children:"Close"})]})]})]})})}function T6({user:t}){const e=R.useMemo(()=>{const h=localStorage.getItem(`saxovault_referral_code_${t.uid}`);if(h)return h;const p="SAXO"+(t.name||"USER").split(" ")[0].toUpperCase().slice(0,4)+Math.random().toString(36).substr(2,4).toUpperCase();return localStorage.setItem(`saxovault_referral_code_${t.uid}`,p),p},[t.uid,t.name]),n=`https://saxovault.com/ref/${e}`,[s,r]=R.useState(!1),i=h=>{navigator.clipboard.writeText(h),r(!0),setTimeout(()=>r(!1),2e3)},l=ne.getUsers().filter(h=>h.referredBy===t.uid||h.referralCode===e).map(h=>{var I;const y=ne.getTransactions().filter(A=>A.userId===h.uid&&A.type==="deposit"&&(A.status==="approved"||A.status==="completed")).reduce((A,E)=>A+(E.amount||0),0),b=y*.01;return{name:h.name?h.name.split(" ")[0]+" "+(((I=h.name.split(" ")[1])==null?void 0:I[0])||"")+".":"User",date:h.createdAt||new Date().toISOString(),deposits:y,bonus:b,status:y>0?"Active":"Pending"}}),u=l.reduce((h,p)=>h+p.bonus,0),d=l.length,f=l.filter(h=>h.status==="Active").length;return a.jsx("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:v.cream},children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 lg:px-6",children:[a.jsxs("div",{className:"text-center mb-8 lg:mb-12",children:[a.jsx($.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring"},className:"w-16 h-16 lg:w-20 lg:h-20 mx-auto rounded-2xl flex items-center justify-center mb-4",style:{background:`linear-gradient(135deg, ${v.gold} 0%, ${v.goldDark} 100%)`},children:a.jsx(jl,{className:"w-8 h-8 lg:w-10 lg:h-10 text-white"})}),a.jsx("h1",{className:"font-serif text-2xl lg:text-4xl mb-2",style:{color:v.navy},children:"Referral Program"}),a.jsx("p",{className:"text-gray-600 text-sm lg:text-base max-w-lg mx-auto",children:"Earn rewards when your friends invest. Get 1% bonus on every deposit your referrals make!"})]}),l.length>0?a.jsx("div",{className:"grid grid-cols-3 gap-3 lg:gap-6 mb-6 lg:mb-8",children:[{label:"Total Earnings",value:`$${u.toLocaleString()}`,icon:gR,color:v.green},{label:"Total Referrals",value:d,icon:Lu,color:v.navy},{label:"Active Referrals",value:f,icon:vv,color:v.gold}].map((h,p)=>a.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:p*.1},className:"bg-white rounded-xl lg:rounded-2xl p-4 lg:p-6 shadow-lg text-center",children:[a.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 rounded-xl flex items-center justify-center mx-auto mb-2 lg:mb-3",style:{background:`${h.color}15`},children:a.jsx(h.icon,{className:"w-5 h-5 lg:w-6 lg:h-6",style:{color:h.color}})}),a.jsx("p",{className:"text-xl lg:text-3xl font-bold",style:{color:h.color},children:h.value}),a.jsx("p",{className:"text-xs lg:text-sm text-gray-500",children:h.label})]},p))}):a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl p-6 lg:p-8 mb-6 lg:mb-8 text-center border border-blue-100",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-white shadow-md flex items-center justify-center mx-auto mb-4",children:a.jsx(vv,{className:"w-8 h-8 text-blue-500"})}),a.jsx("h3",{className:"font-semibold text-lg mb-2",style:{color:v.navy},children:"Start Earning Today!"}),a.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Share your referral link with friends and earn 1% bonus on every deposit they make."}),a.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[a.jsx("span",{className:"px-3 py-1 bg-white rounded-full text-gray-500",children:"No referrals yet"}),a.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full",children:"$0 earned"})]})]}),a.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-5 lg:p-8 mb-6 lg:mb-8",children:[a.jsx("h2",{className:"font-serif text-lg lg:text-xl mb-4 lg:mb-6",style:{color:v.navy},children:"Your Referral Details"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-500 mb-2",children:"Referral Code"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex-1 px-4 py-3 lg:py-4 bg-gray-50 rounded-xl font-mono font-bold text-lg lg:text-xl text-center",style:{color:v.navy},children:e}),a.jsx($.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>i(e),className:"p-3 lg:p-4 rounded-xl text-white",style:{background:s?v.green:v.navy},children:s?a.jsx(rr,{className:"w-5 h-5"}):a.jsx(al,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-500 mb-2",children:"Referral Link"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex-1 px-4 py-3 bg-gray-50 rounded-xl text-sm text-gray-600 truncate",children:n}),a.jsx($.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>i(n),className:"p-3 rounded-xl",style:{background:`${v.gold}15`,color:v.gold},children:a.jsx(TR,{className:"w-5 h-5"})})]})]})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[a.jsx("h3",{className:"font-medium mb-3",style:{color:v.navy},children:"Share via"}),a.jsx("div",{className:"flex gap-3",children:[{name:"WhatsApp",color:"#25D366",icon:Hc},{name:"Email",color:"#EA4335",icon:es},{name:"Copy Link",color:v.navy,icon:al}].map((h,p)=>a.jsxs($.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>h.name==="Copy Link"?i(n):null,className:"flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-white text-sm font-medium",style:{background:h.color},children:[a.jsx(h.icon,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:h.name})]},p))})]})]}),a.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-5 lg:p-8 mb-6 lg:mb-8",children:[a.jsx("h2",{className:"font-serif text-lg lg:text-xl mb-4 lg:mb-6",style:{color:v.navy},children:"How It Works"}),a.jsx("div",{className:"grid sm:grid-cols-3 gap-4 lg:gap-6",children:[{step:"1",title:"Share Your Link",desc:"Send your unique referral link to friends and family"},{step:"2",title:"They Sign Up",desc:"When they register using your link or code"},{step:"3",title:"Earn Rewards",desc:"Get 1% bonus on every deposit they make!"}].map((h,p)=>a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 rounded-full flex items-center justify-center mx-auto mb-3 text-white font-bold",style:{background:`linear-gradient(135deg, ${v.gold} 0%, ${v.goldDark} 100%)`},children:h.step}),a.jsx("h3",{className:"font-semibold text-sm lg:text-base mb-1",style:{color:v.navy},children:h.title}),a.jsx("p",{className:"text-gray-500 text-xs lg:text-sm",children:h.desc})]},p))})]}),a.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg overflow-hidden",children:[a.jsx("div",{className:"p-4 lg:p-6 border-b border-gray-100",children:a.jsx("h2",{className:"font-serif text-lg lg:text-xl",style:{color:v.navy},children:"Your Referrals"})}),l.length>0?a.jsx("div",{className:"divide-y divide-gray-100",children:l.map((h,p)=>a.jsxs("div",{className:"p-4 lg:p-5 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-bold",style:{background:`linear-gradient(135deg, ${v.navy} 0%, ${v.navyLight} 100%)`},children:h.name.charAt(0)}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm lg:text-base",style:{color:v.navy},children:h.name}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Joined ",h.date]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-sm lg:text-base",style:{color:v.green},children:["+$",h.bonus]}),a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${h.status==="Active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:h.status})]})]},p))}):a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Lu,{className:"w-12 h-12 mx-auto text-gray-300 mb-3"}),a.jsx("p",{className:"text-gray-500",children:"No referrals yet. Share your link to get started!"})]})]})]})})}function E6(){const[t,e]=R.useState(25e3),[n,s]=R.useState(12),[r,i]=R.useState(24),o=t*Math.pow(1+n/100/12,r),l=o-t;return a.jsx("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:v.cream},children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 lg:px-6",children:[a.jsxs("div",{className:"text-center mb-8 lg:mb-12",children:[a.jsx("h1",{className:"font-serif text-2xl lg:text-4xl mb-2",style:{color:v.navy},children:"Investment Calculator"}),a.jsx("p",{className:"text-gray-600 text-sm lg:text-base",children:"Project your potential returns."})]}),a.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 lg:gap-8",children:[a.jsxs("div",{className:"bg-white rounded-2xl lg:rounded-3xl p-5 lg:p-8 shadow-xl",children:[a.jsx("h2",{className:"font-serif text-lg lg:text-xl mb-4 lg:mb-6",style:{color:v.navy},children:"Parameters"}),a.jsxs("div",{className:"space-y-5 lg:space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block font-medium text-gray-700 mb-2 text-sm lg:text-base",children:"Initial Investment"}),a.jsx("input",{type:"number",value:t,onChange:u=>e(+u.target.value),className:"w-full px-4 py-3 lg:py-4 text-xl font-bold border-2 border-gray-200 rounded-xl text-center focus:outline-none"}),a.jsx("div",{className:"flex gap-2 mt-2",children:[1e4,25e3,5e4,1e5].map(u=>a.jsxs("button",{onClick:()=>e(u),className:`flex-1 py-2 rounded-lg text-xs font-medium border ${t===u?"text-white":"border-gray-200"}`,style:t===u?{background:v.navy}:{},children:["$",u/1e3,"K"]},u))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block font-medium text-gray-700 mb-2 text-sm lg:text-base",children:"Annual Return (%)"}),a.jsx("input",{type:"number",value:n,onChange:u=>s(+u.target.value),className:"w-full px-4 py-3 lg:py-4 text-xl font-bold border-2 border-gray-200 rounded-xl text-center focus:outline-none"}),a.jsx("div",{className:"flex gap-2 mt-2",children:[8,12,15,20].map(u=>a.jsxs("button",{onClick:()=>s(u),className:`flex-1 py-2 rounded-lg text-xs font-medium border ${n===u?"text-white":"border-gray-200"}`,style:n===u?{background:v.navy}:{},children:[u,"%"]},u))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block font-medium text-gray-700 mb-2 text-sm lg:text-base",children:"Period (Months)"}),a.jsx("input",{type:"number",value:r,onChange:u=>i(+u.target.value),className:"w-full px-4 py-3 lg:py-4 text-xl font-bold border-2 border-gray-200 rounded-xl text-center focus:outline-none"}),a.jsx("div",{className:"flex gap-2 mt-2",children:[12,24,36,60].map(u=>a.jsxs("button",{onClick:()=>i(u),className:`flex-1 py-2 rounded-lg text-xs font-medium border ${r===u?"text-white":"border-gray-200"}`,style:r===u?{background:v.navy}:{},children:[u,"mo"]},u))})]})]})]}),a.jsxs("div",{className:"rounded-2xl lg:rounded-3xl p-5 lg:p-8 text-white shadow-xl",style:{background:`linear-gradient(135deg, ${v.navy} 0%, ${v.navyLight} 100%)`},children:[a.jsx("h2",{className:"font-serif text-lg lg:text-xl mb-6 lg:mb-8",style:{color:v.gold},children:"Projected Returns"}),a.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-white/60 text-xs lg:text-sm mb-1",children:"Final Value"}),a.jsxs("p",{className:"font-serif text-4xl lg:text-5xl font-bold",children:["$",o.toLocaleString(void 0,{maximumFractionDigits:0})]})]}),a.jsx("div",{className:"h-px bg-white/20"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 lg:gap-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-white/60 text-xs lg:text-sm mb-1",children:"Total Return"}),a.jsxs("p",{className:"text-xl lg:text-2xl font-bold",style:{color:v.gold},children:["+$",l.toLocaleString(void 0,{maximumFractionDigits:0})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white/60 text-xs lg:text-sm mb-1",children:"Return %"}),a.jsxs("p",{className:"text-xl lg:text-2xl font-bold",style:{color:v.green},children:["+",(l/t*100).toFixed(1),"%"]})]})]}),a.jsxs("div",{className:"p-4 rounded-xl bg-white/10",children:[a.jsx("p",{className:"text-white/60 text-xs lg:text-sm mb-2",children:"Summary"}),a.jsxs("p",{className:"text-xs lg:text-sm",children:[a.jsxs("span",{className:"font-bold",children:["$",t.toLocaleString()]})," at ",a.jsxs("span",{className:"font-bold",children:[n,"%"]})," for ",a.jsxs("span",{className:"font-bold",children:[r," months"]})," = ",a.jsxs("span",{className:"font-bold",style:{color:v.gold},children:["$",o.toLocaleString(void 0,{maximumFractionDigits:0})]})]})]})]})]})]}),a.jsx("p",{className:"text-center text-xs lg:text-sm text-gray-500 mt-6 lg:mt-8",children:"* Estimates only. Actual returns may vary."})]})})}function I6({user:t,setUser:e,onLogout:n}){const[s,r]=R.useState("profile"),[i,o]=R.useState({name:t.name,email:t.email,phone:t.phone,address:t.address}),[l,u]=R.useState({current:"",new:"",confirm:""}),[d,f]=R.useState({current:!1,new:!1,confirm:!1}),[h,p]=R.useState("pending"),[y,b]=R.useState(1),[I,A]=R.useState(!1),[E,x]=R.useState(!1),[_,V]=R.useState(!1),[L,F]=R.useState(()=>Yt.is2FAEnabled(t==null?void 0:t.uid)),[j,w]=R.useState(!1),[N,S]=R.useState(""),[P,D]=R.useState(!1),C=R.useRef(null),W=o6(),J=Zw[W]||"English",ue=()=>{e({...t,...i}),A(!0),setTimeout(()=>A(!1),3e3)},fe=()=>{if(l.new!==l.confirm){alert("New passwords do not match!");return}if(l.new.length<8){alert("Password must be at least 8 characters!");return}A(!0),u({current:"",new:"",confirm:""}),setTimeout(()=>A(!1),3e3)},O=B=>{var lt;const se=(lt=B.target.files)==null?void 0:lt[0];if(se){x(!0);const Le=new FileReader;Le.onload=()=>{setTimeout(()=>{e({...t,profileImage:Le.result}),x(!1)},1500)},Le.readAsDataURL(se)}},q=()=>{p("submitted"),Te.sendKYCNotification(t.email,t.name,"ID Document").catch(console.error),setTimeout(()=>p("verified"),3e3)},oe=[{id:"profile",label:"Profile",icon:kl},{id:"security",label:"Security",icon:Ro},{id:"language",label:"Language",icon:ca},{id:"kyc",label:"KYC",icon:da},{id:"notifications",label:"Alerts",icon:sr}];return a.jsx("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:v.cream},children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 lg:px-6",children:[a.jsx("div",{className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl overflow-hidden mb-6",children:a.jsxs("div",{className:"p-6 lg:p-8 text-center",style:{background:`linear-gradient(135deg, ${v.navy} 0%, ${v.navyLight} 100%)`},children:[a.jsxs("div",{className:"relative inline-block",children:[a.jsx("div",{className:"w-20 h-20 lg:w-24 lg:h-24 mx-auto rounded-full flex items-center justify-center text-3xl lg:text-4xl font-bold text-white overflow-hidden",style:{background:`linear-gradient(135deg, ${v.gold} 0%, ${v.goldDark} 100%)`},children:t.profileImage?a.jsx("img",{src:t.profileImage,alt:"",className:"w-full h-full object-cover"}):t.name.charAt(0)}),a.jsx("button",{onClick:()=>{var B;return(B=C.current)==null?void 0:B.click()},className:"absolute bottom-0 right-0 w-8 h-8 rounded-full bg-white shadow-lg flex items-center justify-center",children:E?a.jsx(pn,{className:"w-4 h-4 animate-spin",style:{color:v.navy}}):a.jsx(vm,{className:"w-4 h-4",style:{color:v.navy}})}),a.jsx("input",{ref:C,type:"file",accept:"image/*",onChange:O,className:"hidden"})]}),a.jsx("h2",{className:"text-xl lg:text-2xl font-serif text-white mt-3",children:t.name}),a.jsx("p",{className:"text-white/60 text-sm",children:t.email}),a.jsxs("div",{className:"inline-flex items-center gap-2 mt-2 px-3 py-1 rounded-full",style:{background:`${v.green}30`},children:[a.jsx(Xe,{className:"w-3.5 h-3.5",style:{color:v.green}}),a.jsx("span",{style:{color:v.green},className:"text-xs font-medium",children:"Verified Investor"})]})]})}),a.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2 -mx-4 px-4 lg:mx-0 lg:px-0",children:oe.map(B=>a.jsxs("button",{onClick:()=>r(B.id),className:`flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium text-sm whitespace-nowrap transition-all ${s===B.id?"text-white shadow-lg":"bg-white text-gray-600"}`,style:s===B.id?{background:`linear-gradient(135deg, ${v.navy} 0%, ${v.navyLight} 100%)`}:{},children:[a.jsx(B.icon,{className:"w-4 h-4"}),B.label]},B.id))}),s==="profile"&&a.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-5 lg:p-8",children:[a.jsx("h2",{className:"font-serif text-lg lg:text-2xl mb-4 lg:mb-6",style:{color:v.navy},children:"Profile Information"}),a.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 lg:gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-700 mb-1.5 lg:mb-2",children:"Full Name"}),a.jsx("input",{type:"text",value:i.name,onChange:B=>o({...i,name:B.target.value}),className:"w-full px-4 py-2.5 lg:py-3 border border-gray-200 rounded-xl focus:outline-none text-sm lg:text-base"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-700 mb-1.5 lg:mb-2",children:"Email Address"}),a.jsx("input",{type:"email",value:i.email,onChange:B=>o({...i,email:B.target.value}),className:"w-full px-4 py-2.5 lg:py-3 border border-gray-200 rounded-xl focus:outline-none text-sm lg:text-base"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-700 mb-1.5 lg:mb-2",children:"Phone Number"}),a.jsx("input",{type:"tel",value:i.phone,onChange:B=>o({...i,phone:B.target.value}),className:"w-full px-4 py-2.5 lg:py-3 border border-gray-200 rounded-xl focus:outline-none text-sm lg:text-base"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-700 mb-1.5 lg:mb-2",children:"Address"}),a.jsx("input",{type:"text",value:i.address,onChange:B=>o({...i,address:B.target.value}),className:"w-full px-4 py-2.5 lg:py-3 border border-gray-200 rounded-xl focus:outline-none text-sm lg:text-base"})]})]}),a.jsx($.button,{onClick:ue,whileHover:{scale:1.02},whileTap:{scale:.98},className:"mt-6 px-6 lg:px-8 py-2.5 lg:py-3 rounded-xl text-white font-semibold flex items-center gap-2 text-sm lg:text-base",style:{background:`linear-gradient(135deg, ${v.navy} 0%, ${v.navyLight} 100%)`},children:I?a.jsxs(a.Fragment,{children:[a.jsx(Xe,{className:"w-4 h-4 lg:w-5 lg:h-5"})," Saved!"]}):a.jsx(a.Fragment,{children:"Save Changes"})})]}),s==="security"&&a.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-5 lg:p-8",children:[a.jsx("h2",{className:"font-serif text-lg lg:text-2xl mb-4 lg:mb-6",style:{color:v.navy},children:"Change Password"}),a.jsx("div",{className:"space-y-4 max-w-md",children:[{key:"current",label:"Current Password",icon:ir},{key:"new",label:"New Password",icon:Vu},{key:"confirm",label:"Confirm New Password",icon:Vu}].map(B=>a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-700 mb-1.5 lg:mb-2",children:B.label}),a.jsxs("div",{className:"relative",children:[a.jsx(B.icon,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 lg:w-5 lg:h-5 text-gray-400"}),a.jsx("input",{type:d[B.key]?"text":"password",value:l[B.key],onChange:se=>u({...l,[B.key]:se.target.value}),className:"w-full pl-11 lg:pl-12 pr-12 py-2.5 lg:py-3 border border-gray-200 rounded-xl focus:outline-none text-sm lg:text-base",placeholder:""}),a.jsx("button",{onClick:()=>f({...d,[B.key]:!d[B.key]}),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400",children:d[B.key]?a.jsx(K2,{className:"w-4 h-4 lg:w-5 lg:h-5"}):a.jsx(Q2,{className:"w-4 h-4 lg:w-5 lg:h-5"})})]})]},B.key))}),a.jsx($.button,{onClick:fe,whileHover:{scale:1.02},whileTap:{scale:.98},className:"mt-6 px-6 lg:px-8 py-2.5 lg:py-3 rounded-xl text-white font-semibold flex items-center gap-2 text-sm lg:text-base",style:{background:`linear-gradient(135deg, ${v.navy} 0%, ${v.navyLight} 100%)`},children:I?a.jsxs(a.Fragment,{children:[a.jsx(Xe,{className:"w-4 h-4 lg:w-5 lg:h-5"})," Updated!"]}):a.jsxs(a.Fragment,{children:[a.jsx(ir,{className:"w-4 h-4 lg:w-5 lg:h-5"})," Update Password"]})})]}),a.jsxs("div",{className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-5 lg:p-8",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"font-serif text-lg lg:text-xl mb-1 lg:mb-2",style:{color:v.navy},children:"Two-Factor Authentication"}),a.jsx("p",{className:"text-gray-500 text-xs lg:text-sm",children:"Extra security layer for your account"})]}),a.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${L?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:L?" Enabled":"Disabled"})]}),L?a.jsxs($.button,{onClick:()=>{confirm("Are you sure you want to disable 2FA?")&&(Yt.disable2FA(t==null?void 0:t.uid),F(!1))},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 rounded-xl font-medium flex items-center justify-center gap-2 bg-red-50 text-red-600",children:[a.jsx(Ro,{className:"w-4 h-4"})," Disable 2FA"]}):a.jsx("div",{children:j?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:["A verification code has been sent to ",a.jsx("strong",{children:t==null?void 0:t.email})]}),a.jsx("input",{type:"text",value:N,onChange:B=>S(B.target.value.replace(/\D/g,"").slice(0,6)),className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-center text-2xl font-mono tracking-widest",placeholder:"000000",maxLength:"6"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>w(!1),className:"flex-1 py-2.5 rounded-xl border border-gray-200 text-sm",children:"Cancel"}),a.jsx($.button,{onClick:()=>{const B=Yt.verify2FACode(t==null?void 0:t.uid,N);B.valid?(Yt.enable2FA(t==null?void 0:t.uid),F(!0),w(!1),S(""),alert(" Two-Factor Authentication enabled!")):alert(" "+B.message)},whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl text-white text-sm font-medium",style:{background:v.green},children:P?"Verifying...":"Verify & Enable"})]}),a.jsx("button",{onClick:async()=>{D(!0);const B=await Yt.send2FACode(t==null?void 0:t.uid,t==null?void 0:t.email);D(!1),B.success?alert(" New code sent!"):alert(" Failed to resend code.")},className:"w-full text-sm text-blue-600 hover:underline",disabled:P,children:"Didn't receive code? Resend"})]}):a.jsx($.button,{onClick:async()=>{D(!0);try{(await Yt.send2FACode(t==null?void 0:t.uid,t==null?void 0:t.email)).success?w(!0):alert(" Failed to send verification code. Please try again.")}catch{alert(" Failed to send verification code. Please try again.")}D(!1)},whileHover:{scale:1.02},whileTap:{scale:.98},disabled:P,className:"w-full py-3 rounded-xl font-medium flex items-center justify-center gap-2 disabled:opacity-50",style:{background:`${v.green}15`,color:v.green},children:P?a.jsxs(a.Fragment,{children:[a.jsx(pn,{className:"w-4 h-4 animate-spin"})," Sending Code..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ro,{className:"w-4 h-4"})," Enable 2FA"]})})})]}),a.jsxs("div",{className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-5 lg:p-8",children:[a.jsx("h2",{className:"font-serif text-lg lg:text-xl mb-4 lg:mb-6",style:{color:v.navy},children:"Login Activity"}),a.jsx("div",{className:"space-y-3",children:[{device:"Chrome on Windows",location:"New York",time:"Now",current:!0},{device:"Safari on iPhone",location:"New York",time:"1 day ago",current:!1}].map((B,se)=>a.jsxs("div",{className:"flex items-center justify-between p-3 lg:p-4 bg-gray-50 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(eN,{className:"w-5 h-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",style:{color:v.navy},children:B.device}),a.jsxs("p",{className:"text-xs text-gray-500",children:[B.location,"  ",B.time]})]})]}),B.current&&a.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium",style:{background:`${v.green}15`,color:v.green},children:"Current"})]},se))})]})]}),s==="language"&&a.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-5 lg:p-8",children:[a.jsx("h2",{className:"font-serif text-lg lg:text-2xl mb-2",style:{color:v.navy},children:"Language Settings"}),a.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Select your preferred language"}),a.jsx("div",{className:"p-4 rounded-xl mb-6",style:{background:`${v.gold}15`},children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:v.gold},children:a.jsx(ca,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",style:{color:v.navy},children:"Current Language"}),a.jsx("p",{className:"text-sm text-gray-500",children:J})]})]})}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 max-h-[400px] overflow-y-auto",children:Object.entries(Zw).map(([B,se])=>a.jsxs("button",{onClick:()=>{localStorage.setItem("saxovault_language",B),window.location.reload()},className:`p-3 rounded-xl text-left text-sm font-medium transition-all ${W===B?"text-white shadow-lg":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,style:W===B?{background:v.navy}:{},children:[se,W===B&&a.jsx(rr,{className:"w-4 h-4 inline ml-2"})]},B))}),a.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl",children:a.jsxs("p",{className:"text-sm text-blue-700",children:[a.jsx(NR,{className:"w-4 h-4 inline mr-2"}),"Language is automatically detected from your browser settings. You can manually change it above."]})})]}),s==="kyc"&&a.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-5 lg:p-8",children:[a.jsx("h2",{className:"font-serif text-lg lg:text-2xl mb-2",style:{color:v.navy},children:"KYC Verification"}),a.jsx("p",{className:"text-gray-500 text-sm mb-6 lg:mb-8",children:"Complete verification to unlock all features"}),h==="verified"?a.jsxs("div",{className:"text-center py-8 lg:py-12",children:[a.jsx("div",{className:"w-20 h-20 lg:w-24 lg:h-24 mx-auto rounded-full flex items-center justify-center mb-4 lg:mb-6",style:{background:`${v.green}20`},children:a.jsx(Xe,{className:"w-12 h-12 lg:w-14 lg:h-14",style:{color:v.green}})}),a.jsx("h3",{className:"font-serif text-xl lg:text-2xl mb-2",style:{color:v.navy},children:"Verified"}),a.jsx("p",{className:"text-gray-500 text-sm",children:"Your identity has been verified."})]}):h==="submitted"?a.jsxs("div",{className:"text-center py-8 lg:py-12",children:[a.jsx("div",{className:"w-20 h-20 lg:w-24 lg:h-24 mx-auto rounded-full flex items-center justify-center mb-4 lg:mb-6",style:{background:`${v.gold}20`},children:a.jsx(la,{className:"w-12 h-12 lg:w-14 lg:h-14",style:{color:v.gold}})}),a.jsx("h3",{className:"font-serif text-xl lg:text-2xl mb-2",style:{color:v.navy},children:"Under Review"}),a.jsx("p",{className:"text-gray-500 text-sm",children:"We're reviewing your documents (1-2 business days)."})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex items-center justify-center mb-6 lg:mb-8",children:[1,2,3].map(B=>a.jsxs(rd.Fragment,{children:[a.jsx("div",{className:`w-8 h-8 lg:w-10 lg:h-10 rounded-full flex items-center justify-center font-bold text-sm ${y>=B?"text-white":"bg-gray-200 text-gray-500"}`,style:y>=B?{background:v.navy}:{},children:y>B?a.jsx(rr,{className:"w-4 h-4"}):B}),B<3&&a.jsx("div",{className:`w-12 lg:w-20 h-1 mx-1 lg:mx-2 ${y>B?"bg-green-500":"bg-gray-200"}`})]},B))}),y===1&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold",style:{color:v.navy},children:"Personal Information"}),a.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Full Legal Name"}),a.jsx("input",{type:"text",defaultValue:t.name,placeholder:"As shown on ID",className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Date of Birth"}),a.jsx("input",{type:"date",className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:"ID Number"}),a.jsx("input",{type:"text",placeholder:"Enter your ID number",className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:"ID Type"}),a.jsxs("select",{className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Select ID Type"}),a.jsx("option",{value:"passport",children:"International Passport"}),a.jsx("option",{value:"drivers_license",children:"Driver's License"}),a.jsx("option",{value:"national_id",children:"National ID Card"}),a.jsx("option",{value:"residence_permit",children:"Residence Permit"})]})]})]})]}),y===2&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold",style:{color:v.navy},children:"Upload Documents"}),a.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-2xl p-6 lg:p-8 text-center cursor-pointer hover:border-gray-300",children:[a.jsx(Bn,{className:"w-10 h-10 mx-auto text-gray-400 mb-3"}),a.jsx("p",{className:"font-medium text-sm",style:{color:v.navy},children:"Upload ID (Front)"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG or PDF"})]}),a.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-2xl p-6 lg:p-8 text-center cursor-pointer hover:border-gray-300",children:[a.jsx(Bn,{className:"w-10 h-10 mx-auto text-gray-400 mb-3"}),a.jsx("p",{className:"font-medium text-sm",style:{color:v.navy},children:"Upload ID (Back)"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG or PDF"})]})]}),y===3&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold",style:{color:v.navy},children:"Take a Selfie"}),a.jsx("p",{className:"text-gray-500 text-sm",children:"Hold your ID next to your face"}),a.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-2xl p-8 lg:p-12 text-center cursor-pointer hover:border-gray-300",children:[a.jsx(vm,{className:"w-14 h-14 mx-auto text-gray-400 mb-3"}),a.jsx("p",{className:"font-medium text-sm",style:{color:v.navy},children:"Take or Upload Selfie"})]})]}),a.jsxs("div",{className:"flex justify-between mt-6 lg:mt-8",children:[y>1&&a.jsx("button",{onClick:()=>b(y-1),className:"px-6 py-2.5 rounded-xl font-medium text-gray-600 hover:bg-gray-100 text-sm",children:"Back"}),a.jsx($.button,{onClick:()=>y<3?b(y+1):q(),whileHover:{scale:1.02},whileTap:{scale:.98},className:"ml-auto px-6 lg:px-8 py-2.5 lg:py-3 rounded-xl text-white font-semibold text-sm",style:{background:`linear-gradient(135deg, ${v.navy} 0%, ${v.navyLight} 100%)`},children:y===3?"Submit":"Continue"})]})]})]}),s==="notifications"&&a.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-5 lg:p-8",children:[a.jsx("h2",{className:"font-serif text-lg lg:text-2xl mb-4 lg:mb-6",style:{color:v.navy},children:"Notifications"}),a.jsx("div",{className:"space-y-4",children:[{title:"Investment Updates",desc:"Portfolio performance alerts",enabled:!0},{title:"New Opportunities",desc:"New investment alerts",enabled:!0},{title:"Payouts",desc:"Payout notifications",enabled:!0},{title:"Referral Bonuses",desc:"Earn alerts from referrals",enabled:!0},{title:"Marketing",desc:"Promotional emails",enabled:!1}].map((B,se)=>a.jsxs("div",{className:"flex items-center justify-between p-3 lg:p-4 bg-gray-50 rounded-xl",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",style:{color:v.navy},children:B.title}),a.jsx("p",{className:"text-xs text-gray-500",children:B.desc})]}),a.jsx("button",{className:`w-11 h-6 lg:w-12 lg:h-7 rounded-full transition-colors ${B.enabled?"":"bg-gray-300"}`,style:B.enabled?{background:v.green}:{},children:a.jsx("div",{className:`w-4 h-4 lg:w-5 lg:h-5 bg-white rounded-full shadow transition-transform ${B.enabled?"translate-x-6":"translate-x-1"}`})})]},se))})]}),a.jsxs($.button,{onClick:n,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full mt-6 py-3.5 rounded-xl text-red-500 font-semibold bg-red-50 flex items-center justify-center gap-2 lg:hidden",children:[a.jsx(ua,{className:"w-5 h-5"})," Logout"]})]})})}const e1={email:"saxovaultadmin@saxovault.com",password:"SaxoAdmin2024!"},ne={getUsers:()=>JSON.parse(localStorage.getItem("saxovault_users")||"[]"),setUsers:t=>localStorage.setItem("saxovault_users",JSON.stringify(t)),fetchUsersFromCloud:async()=>{try{const t=await QM();return t.success?(localStorage.setItem("saxovault_users",JSON.stringify(t.data)),t.data):ne.getUsers()}catch(t){return console.error("Error fetching users from cloud:",t),ne.getUsers()}},getTransactions:()=>{try{const t=localStorage.getItem("saxovault_transactions"),e=JSON.parse(t||"[]");return Array.isArray(e)?e:[]}catch(t){return console.error("Error parsing transactions:",t),[]}},setTransactions:t=>{const e=Array.isArray(t)?t:[];localStorage.setItem("saxovault_transactions",JSON.stringify(e))},fetchTransactionsFromCloud:async()=>{try{const t=await JM();return t.success?(localStorage.setItem("saxovault_transactions",JSON.stringify(t.data)),t.data):ne.getTransactions()}catch(t){return console.error("Error fetching transactions from cloud:",t),ne.getTransactions()}},addTransaction:async t=>{var s;console.log(" Adding new transaction:",t.type);const e=Date.now().toString();let n={...t,id:e,localId:e,createdAt:new Date().toISOString(),status:"pending"};try{const r=await YM(n);r.success&&r.id&&(n.id=r.id,n.firestoreId=r.id,console.log(" Transaction saved to Firestore with ID:",r.id))}catch(r){console.error(" Error saving to Firestore:",r)}try{let r=ne.getTransactions();Array.isArray(r)||(console.warn(" Transactions was not an array, resetting..."),r=[]),r.unshift(n),ne.setTransactions(r),console.log(" Transaction saved to localStorage")}catch(r){console.error(" Error saving to localStorage:",r);try{ne.setTransactions([n])}catch(i){console.error(" Critical: Could not save transaction:",i)}}return ne.notifyAdmin({type:t.type,title:`New ${t.type} Request`,message:`$${(s=t.amount)==null?void 0:s.toLocaleString()} ${t.type} from ${t.userEmail||"user"}`,urgent:!0,actionRequired:!0}),n},updateTransaction:async(t,e)=>{console.log(" Updating transaction:",t,e);const s=ne.getTransactions().find(l=>l.id===t||l.firestoreId===t),r=(s==null?void 0:s.firestoreId)||(s==null?void 0:s.id)||t;try{await Jw(r,e),console.log(" Transaction updated in Firestore with ID:",r)}catch(l){if(console.error(" Error updating in Firestore:",l),s!=null&&s.id&&s.id!==r)try{await Jw(s.id,e),console.log(" Transaction updated with alternate ID:",s.id)}catch(u){console.error(" Alternate update also failed:",u)}}const o=ne.getTransactions().map(l=>l.id===t||l.firestoreId===t?{...l,...e}:l);ne.setTransactions(o)},updateUser:async(t,e)=>{try{await my(t,e),console.log(" User updated in Firestore")}catch(s){console.error(" Error updating user in Firestore:",s)}const n=localStorage.getItem(`user_${t}`);if(n){const s=JSON.parse(n);localStorage.setItem(`user_${t}`,JSON.stringify({...s,...e}))}},getSettings:()=>JSON.parse(localStorage.getItem("saxovault_settings")||JSON.stringify({wallets:{btc:"bc1qzmgg6hw0fttfpczh2whp8f44k497d6pucghk58",eth:"0x83057882eC7B7EE0cBe63C2fE2b8957e7ab69655",usdt:"TLGH9FucAuPNUoQw2XUFEDtCg4FFdJ2jKG"},whatsapp:"+14642395280",email:"support@saxovault.com",siteName:"SaxoVault Capital"})),setSettings:t=>localStorage.setItem("saxovault_settings",JSON.stringify(t)),getNotifications:()=>JSON.parse(localStorage.getItem("saxovault_notifications")||"[]"),addNotification:t=>{const e=ne.getNotifications();e.unshift({...t,id:Date.now(),read:!1,createdAt:new Date().toISOString()}),localStorage.setItem("saxovault_notifications",JSON.stringify(e.slice(0,100)))},getAdminNotifications:()=>JSON.parse(localStorage.getItem("saxovault_admin_notifs")||"[]"),notifyAdmin:t=>{const e=ne.getAdminNotifications(),n={...t,id:Date.now(),read:!1,createdAt:new Date().toISOString()};if(e.unshift(n),localStorage.setItem("saxovault_admin_notifs",JSON.stringify(e.slice(0,200))),localStorage.getItem("saxovault_admin")==="true")try{const s=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2teleQABMjV4wdvqhBwIPnyV0+TkeEU5Un+13e6ZRxcnOFJsocHn04FGNjBIYZi+4t6QSjE0SGqay+LYglM4M0NTfqrN3tCMaD0wP0pqpcnc3I5kOC9AWGyiwtff");s.volume=.3,s.play().catch(()=>{})}catch{}return n},markAdminNotifRead:t=>{const n=ne.getAdminNotifications().map(s=>s.id===t?{...s,read:!0}:s);localStorage.setItem("saxovault_admin_notifs",JSON.stringify(n))},queueEmail:t=>{const e=JSON.parse(localStorage.getItem("saxovault_email_queue")||"[]");e.push({...t,id:Date.now(),status:"queued",createdAt:new Date().toISOString()}),localStorage.setItem("saxovault_email_queue",JSON.stringify(e))},logActivity:(t,e,n)=>{const s=JSON.parse(localStorage.getItem("saxovault_activity_logs")||"[]");s.unshift({id:Date.now(),userId:t,action:e,details:n,ip:"xxx.xxx.xxx.xxx",userAgent:navigator.userAgent,createdAt:new Date().toISOString()}),localStorage.setItem("saxovault_activity_logs",JSON.stringify(s.slice(0,500)))},getActivityLogs:t=>{const e=JSON.parse(localStorage.getItem("saxovault_activity_logs")||"[]");return t?e.filter(n=>n.userId===t):e},getAutoInvestPlans:t=>{const e=JSON.parse(localStorage.getItem("saxovault_autoinvest")||"[]");return t?e.filter(n=>n.userId===t):e},saveAutoInvestPlan:t=>{const e=ne.getAutoInvestPlans(),n=e.findIndex(s=>s.id===t.id);n>=0?e[n]=t:e.push({...t,id:Date.now(),createdAt:new Date().toISOString()}),localStorage.setItem("saxovault_autoinvest",JSON.stringify(e))},deleteAutoInvestPlan:t=>{const e=ne.getAutoInvestPlans().filter(n=>n.id!==t);localStorage.setItem("saxovault_autoinvest",JSON.stringify(e))}},Et={publicKey:"trmaHaGeZzBpjKtaj",serviceId:"service_ibr21lg",templateId:"template_kskirgx",adminEmail:"saxovault6@gmail.com"};let Hs=!1;try{Ru.init(Et.publicKey),Hs=!0,console.log(" EmailJS initialized successfully"),console.log(" Admin email:",Et.adminEmail)}catch(t){console.error(" EmailJS init failed:",t)}const Te={getAdminEmail:()=>Et.adminEmail,isReady:()=>Hs,testEmail:async t=>{if(console.log(" ========== EMAIL TEST START =========="),console.log(" Testing EmailJS with:",t),console.log(" Service ID:",Et.serviceId),console.log(" Template ID:",Et.templateId),console.log(" Public Key:",Et.publicKey),console.log(" EmailJS Initialized:",Hs),!Hs)return console.error(" EmailJS not initialized!"),alert("EmailJS not initialized. Check console for errors."),{success:!1,error:"Not initialized"};try{const e=await Ru.send(Et.serviceId,Et.templateId,{to_email:t,subject:"SaxoVault Test Email",message:`This is a test email from SaxoVault. If you received this, EmailJS is working correctly!

Time: `+new Date().toLocaleString(),from_name:"SaxoVault Capital",reply_to:"support@saxovault.com"});return console.log(" Test email sent successfully!",e),console.log(" ========== EMAIL TEST SUCCESS =========="),alert(" Test email sent! Check your inbox (and spam folder)."),{success:!0,result:e}}catch(e){return console.error(" Test email failed:",e),console.error(" Error details:",{text:e==null?void 0:e.text,message:e==null?void 0:e.message,status:e==null?void 0:e.status,name:e==null?void 0:e.name}),console.log(" ========== EMAIL TEST FAILED =========="),alert(" Test email failed: "+((e==null?void 0:e.text)||(e==null?void 0:e.message)||"Unknown error")+`

Check console for details.`),{success:!1,error:e}}},sendEmail:async(t,e,n,s="notification")=>{if(console.log(" ========== SENDING EMAIL =========="),console.log(" To:",t),console.log(" Subject:",e),console.log(" Type:",s),console.log(" EmailJS Ready:",Hs),!Hs)return console.error(" EmailJS not initialized - cannot send email"),{success:!1,message:"EmailJS not initialized"};if(!t||!e)return console.error(" Missing email or subject"),{success:!1,message:"Missing email or subject"};try{const r={to_email:t,subject:e,message:n,from_name:"SaxoVault Capital",reply_to:"support@saxovault.com"};console.log(" Calling emailjs.send()...");const i=await Ru.send(Et.serviceId,Et.templateId,r);return console.log(" EMAIL SENT SUCCESSFULLY!"),console.log(" Response:",{status:i.status,text:i.text}),ne.queueEmail({to:t,subject:e,type:s,status:"sent",createdAt:new Date().toISOString()}),{success:!0,response:i}}catch(r){return console.error(" EMAIL SEND FAILED!"),console.error(" Error:",r),console.error(" Details:",{text:r==null?void 0:r.text,message:r==null?void 0:r.message,status:r==null?void 0:r.status}),ne.queueEmail({to:t,subject:e,type:s,status:"failed",error:(r==null?void 0:r.text)||(r==null?void 0:r.message),createdAt:new Date().toISOString()}),{success:!1,error:(r==null?void 0:r.text)||(r==null?void 0:r.message)}}},sendAdminNotification:async(t,e)=>(console.log(" Sending ADMIN notification:",t),await Te.sendEmail(Et.adminEmail,t,e,"admin")),sendDepositNotification:async(t,e,n)=>{const s=`Deposit Request - $${e.toLocaleString()} ${n}`,r=`Hello,

Your deposit request has been received!

Amount: $${e.toLocaleString()}
Payment Method: ${n}
Status: Pending Confirmation

Your funds will be credited once confirmed (usually 10-30 minutes).

Thank you,
SaxoVault Capital`,i=await Te.sendEmail(t,s,r,"deposit"),o=` [DEPOSIT] $${e.toLocaleString()} from ${t}`,l=`
       NEW DEPOSIT REQUEST


 User: ${t}
 Amount: $${e.toLocaleString()}
 Method: ${n}
 Time: ${new Date().toLocaleString()}

Action Required: Review in admin panel

`;return await Te.sendAdminNotification(o,l),i},sendWithdrawalNotification:async(t,e,n)=>{const s=`Withdrawal Request - $${e.toLocaleString()}`,r=`Hello,

Your withdrawal request has been submitted.

Amount: $${e.toLocaleString()}
Destination: ${n}
Status: Under Review

Processing time: 24-48 hours after approval.

Thank you,
SaxoVault Capital`,i=await Te.sendEmail(t,s,r,"withdrawal"),o=` [WITHDRAWAL] $${e.toLocaleString()} from ${t}`,l=`
      NEW WITHDRAWAL REQUEST


 User: ${t}
 Amount: $${e.toLocaleString()}
 Wallet: ${n}
 Time: ${new Date().toLocaleString()}

Action Required: Approve/Reject in admin panel

`;return await Te.sendAdminNotification(o,l),i},sendInvestmentNotification:async(t,e,n,s)=>{const r=`Investment Activated - ${e}`,i=`Hello,

Your investment has been activated!

Investment: ${e}
Amount: $${n.toLocaleString()}
Duration: ${s||"As specified"}
Status: Active

You can track your investment in the dashboard.

Thank you,
SaxoVault Capital`,o=await Te.sendEmail(t,r,i,"investment"),l=` [INVESTMENT] $${n.toLocaleString()} - ${e}`,u=`
      NEW INVESTMENT ACTIVATION


 User: ${t}
 Plan: ${e}
 Amount: $${n.toLocaleString()}
 Duration: ${s||"N/A"}
 Time: ${new Date().toLocaleString()}

`;return await Te.sendAdminNotification(l,u),o},sendKYCNotification:async(t,e,n)=>{const s="KYC Verification Submitted",r=`Hello ${e||""},

Your KYC verification documents have been submitted successfully.

Document Type: ${n||"ID Document"}
Status: Under Review

Our team will verify your documents within 24-48 hours.

Thank you,
SaxoVault Capital`,i=await Te.sendEmail(t,s,r,"kyc"),o=` [KYC] New Submission from ${t}`,l=`
        NEW KYC SUBMISSION


 User: ${e||"N/A"}
 Email: ${t}
 Document Type: ${n||"ID Document"}
 Submitted: ${new Date().toLocaleString()}

Action Required: Verify documents in admin panel

`;return await Te.sendAdminNotification(o,l),i},sendNewUserNotification:async(t,e,n)=>{const s=` [NEW USER] ${e||t} just registered`,r=`
         NEW USER REGISTRATION


 Name: ${e||"N/A"}
 Email: ${t}
 Method: ${n||"Email"}
 Time: ${new Date().toLocaleString()}

`;return await Te.sendAdminNotification(s,r)},sendLoginNotification:async(t,e,n)=>{const s=` [LOGIN] ${t} logged in`,r=`User Login Activity

 User: ${e||t}
 Email: ${t}
 Method: ${n||"Email"}
 Time: ${new Date().toLocaleString()}`;return await Te.sendAdminNotification(s,r)},sendReferralNotification:async(t,e)=>{const n="New Referral Signup!",s=`Hello,

Someone signed up using your referral link!

New User: ${e}
Your Bonus: 1% of their deposits

Keep sharing to earn more!

Thank you,
SaxoVault Capital`;return await Te.sendEmail(t,n,s,"referral")},send2FACode:async(t,e)=>{const n=`Security Code: ${e}`,s=`Your SaxoVault verification code:

${e}

This code expires in 5 minutes.
Never share this code with anyone.

SaxoVault Capital`;return await Te.sendEmail(t,n,s,"2fa")},sendBroadcast:async(t,e,n)=>{const s=[];for(const r of t){const i=await Te.sendEmail(r.email,e,n,"broadcast");s.push({email:r.email,...i})}return s},sendStatusUpdate:async(t,e,n,s,r="")=>{const i=`${e} ${n}`,o=`Hello,

Your ${e} has been ${n}.

Amount: $${(s==null?void 0:s.toLocaleString())||"N/A"}
Status: ${n.toUpperCase()}
${r?`Note: ${r}`:""}

Thank you,
SaxoVault Capital`;return await Te.sendEmail(t,i,o,"status")}};typeof window<"u"&&(window.EmailService=Te,window.testEmail=async t=>{if(console.log(" ========== EMAIL TEST START =========="),console.log(" Testing EmailJS with:",t),console.log(" Service ID:",Et.serviceId),console.log(" Template ID:",Et.templateId),console.log(" Public Key:",Et.publicKey),console.log(" EmailJS Ready:",Hs),!Hs)return console.error(" EmailJS not initialized!"),alert("EmailJS not initialized. Check console for errors."),{success:!1,error:"Not initialized"};try{const e=await Ru.send(Et.serviceId,Et.templateId,{to_email:t,subject:"SaxoVault Test Email - "+new Date().toLocaleTimeString(),message:`This is a test email from SaxoVault.

If you received this, EmailJS is working correctly!

Time: `+new Date().toLocaleString(),from_name:"SaxoVault Capital",reply_to:"support@saxovault.com"});return console.log(" Test email sent successfully!",e),console.log(" ========== EMAIL TEST SUCCESS =========="),alert(" Test email sent to "+t+`!

Check your inbox (and spam folder).`),{success:!0,result:e}}catch(e){return console.error(" Test email failed:",e),console.error(" Error details:",{text:e==null?void 0:e.text,message:e==null?void 0:e.message,status:e==null?void 0:e.status,name:e==null?void 0:e.name}),console.log(" ========== EMAIL TEST FAILED =========="),alert(` Test email failed!

Error: `+((e==null?void 0:e.text)||(e==null?void 0:e.message)||"Unknown error")+`

Check console for details.`),{success:!1,error:e}}},console.log(' Email test ready! Run: window.testEmail("your@email.com")'));const Yt={generate2FACode:()=>Math.floor(1e5+Math.random()*9e5).toString(),store2FACode:(t,e)=>{const n=JSON.parse(localStorage.getItem("saxovault_2fa_codes")||"{}");return n[t]={code:e,createdAt:Date.now(),expires:Date.now()+5*60*1e3},localStorage.setItem("saxovault_2fa_codes",JSON.stringify(n)),e},verify2FACode:(t,e)=>{const n=JSON.parse(localStorage.getItem("saxovault_2fa_codes")||"{}"),s=n[t];return s?Date.now()>s.expires?{valid:!1,message:"Code expired"}:s.code!==e?{valid:!1,message:"Invalid code"}:(delete n[t],localStorage.setItem("saxovault_2fa_codes",JSON.stringify(n)),{valid:!0,message:"Verified"}):{valid:!1,message:"No code found"}},send2FACode:async(t,e)=>{console.log(" Sending 2FA code to:",e);const n=Yt.generate2FACode();Yt.store2FACode(t,n);try{const s=await Te.send2FACode(e,n);return console.log(" 2FA code sent successfully:",s),{success:!0,code:n}}catch(s){return console.error(" Failed to send 2FA code:",s),{success:!1,error:s}}},is2FAEnabled:t=>{var n;return((n=JSON.parse(localStorage.getItem("saxovault_user_2fa")||"{}")[t])==null?void 0:n.enabled)||!1},enable2FA:t=>{const e=JSON.parse(localStorage.getItem("saxovault_user_2fa")||"{}");e[t]={enabled:!0,enabledAt:new Date().toISOString()},localStorage.setItem("saxovault_user_2fa",JSON.stringify(e))},disable2FA:t=>{const e=JSON.parse(localStorage.getItem("saxovault_user_2fa")||"{}");e[t]={enabled:!1},localStorage.setItem("saxovault_user_2fa",JSON.stringify(e))}};function j6({onClose:t,user:e}){const[n,s]=R.useState("weekly"),[r,i]=R.useState(100),[o,l]=R.useState(null),[u,d]=R.useState([]),f=JSON.parse(localStorage.getItem("saxovault_investments")||"null")||Hl;R.useEffect(()=>{d(ne.getAutoInvestPlans(e==null?void 0:e.uid))},[e]);const h=[{id:"daily",label:"Daily",desc:"Every day"},{id:"weekly",label:"Weekly",desc:"Every Monday"},{id:"biweekly",label:"Bi-Weekly",desc:"Every 2 weeks"},{id:"monthly",label:"Monthly",desc:"1st of each month"}],p=()=>{if(!o||r<50){alert("Please select an investment and enter at least $50");return}const I={userId:e==null?void 0:e.uid,investmentId:o.id,investmentName:o.name,amount:r,frequency:n,status:"active",nextExecution:y(n),totalInvested:0,executionCount:0};ne.saveAutoInvestPlan(I),d([...u,I]),l(null),i(100),ne.addNotification({type:"autoinvest",message:`Auto-invest plan created: $${r}/${n} into ${o.name}`})},y=I=>{const A=new Date;switch(I){case"daily":return new Date(A.setDate(A.getDate()+1)).toISOString();case"weekly":return new Date(A.setDate(A.getDate()+(7-A.getDay()+1)%7+1)).toISOString();case"biweekly":return new Date(A.setDate(A.getDate()+14)).toISOString();case"monthly":return new Date(A.getFullYear(),A.getMonth()+1,1).toISOString();default:return new Date(A.setDate(A.getDate()+7)).toISOString()}},b=I=>{confirm("Delete this auto-invest plan?")&&(ne.deleteAutoInvestPlan(I),d(u.filter(A=>A.id!==I)))};return a.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t,children:a.jsxs($.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto shadow-2xl",onClick:I=>I.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b border-gray-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"font-serif text-xl",style:{color:v.navy},children:[a.jsx(Nm,{className:"w-5 h-5 inline mr-2 text-yellow-500"}),"Auto-Invest Plans"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Set up recurring investments automatically"})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full",children:a.jsx(gn,{className:"w-5 h-5"})})]})}),a.jsxs("div",{className:"p-6",children:[u.length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"font-medium text-sm text-gray-700 mb-3",children:"Active Plans"}),a.jsx("div",{className:"space-y-2",children:u.map(I=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",style:{color:v.navy},children:I.investmentName}),a.jsxs("p",{className:"text-xs text-gray-500",children:["$",I.amount,"/",I.frequency]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${I.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:I.status}),a.jsx("button",{onClick:()=>b(I.id),className:"p-1.5 hover:bg-red-100 rounded text-red-500",children:a.jsx(sN,{className:"w-4 h-4"})})]})]},I.id))})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Investment"}),a.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto",children:f.slice(0,8).map(I=>a.jsxs("button",{onClick:()=>l(I),className:`p-3 rounded-xl text-left text-sm transition-all ${(o==null?void 0:o.id)===I.id?"ring-2 bg-blue-50":"bg-gray-50 hover:bg-gray-100"}`,style:(o==null?void 0:o.id)===I.id?{ringColor:v.navy}:{},children:[a.jsx("p",{className:"font-medium truncate",style:{color:v.navy},children:I.name}),a.jsxs("p",{className:"text-xs text-gray-500",children:[I.returns," returns"]})]},I.id))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount per Investment"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 font-medium",children:"$"}),a.jsx("input",{type:"number",value:r,onChange:I=>i(Math.max(50,+I.target.value)),className:"w-full pl-8 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2",style:{"--tw-ring-color":v.navy},min:"50"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum $50 per investment"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Frequency"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:h.map(I=>a.jsxs("button",{onClick:()=>s(I.id),className:`p-3 rounded-xl text-left transition-all ${n===I.id?"text-white":"bg-gray-50 hover:bg-gray-100"}`,style:n===I.id?{background:v.navy}:{},children:[a.jsx("p",{className:"font-medium text-sm",children:I.label}),a.jsx("p",{className:`text-xs ${n===I.id?"text-white/70":"text-gray-500"}`,children:I.desc})]},I.id))})]}),o&&a.jsxs("div",{className:"p-4 rounded-xl",style:{background:`${v.green}10`},children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"You'll invest"}),a.jsxs("p",{className:"text-2xl font-bold",style:{color:v.navy},children:["$",r," / ",n]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["into ",o.name]})]}),a.jsxs($.button,{onClick:p,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:!o,className:"w-full py-4 rounded-xl text-white font-semibold disabled:opacity-50",style:{background:`linear-gradient(135deg, ${v.navy} 0%, ${v.navyLight} 100%)`},children:[a.jsx(Nm,{className:"w-5 h-5 inline mr-2"}),"Create Auto-Invest Plan"]})]})]})]})})}function k6({user:t,onVerify:e,onClose:n,onResend:s}){const[r,i]=R.useState(["","","","","",""]),[o,l]=R.useState(""),[u,d]=R.useState(!1),[f,h]=R.useState(0),p=R.useRef([]);R.useEffect(()=>{var E;(E=p.current[0])==null||E.focus()},[]),R.useEffect(()=>{if(f>0){const E=setTimeout(()=>h(x=>x-1),1e3);return()=>clearTimeout(E)}},[f]);const y=(E,x)=>{var V;if(!/^\d*$/.test(x))return;const _=[...r];_[E]=x.slice(-1),i(_),x&&E<5&&((V=p.current[E+1])==null||V.focus()),_.every(L=>L)&&_.join("").length===6&&I(_.join(""))},b=(E,x)=>{var _;x.key==="Backspace"&&!r[E]&&E>0&&((_=p.current[E-1])==null||_.focus())},I=async E=>{var _;d(!0),l("");const x=Yt.verify2FACode(t==null?void 0:t.uid,E);x.valid?e():(l(x.message),i(["","","","","",""]),(_=p.current[0])==null||_.focus()),d(!1)},A=async()=>{if(!(f>0)){d(!0);try{(await Yt.send2FACode(t==null?void 0:t.uid,t==null?void 0:t.email)).success?(h(60),i(["","","","","",""]),l("")):l("Failed to send code. Please try again.")}catch{l("Failed to send code. Please try again.")}d(!1)}};return a.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs($.div,{initial:{scale:.9},animate:{scale:1},className:"bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl text-center",children:[a.jsx("div",{className:"w-16 h-16 rounded-full mx-auto mb-4 flex items-center justify-center",style:{background:`${v.navy}10`},children:a.jsx(eN,{className:"w-8 h-8",style:{color:v.navy}})}),a.jsx("h2",{className:"font-serif text-xl mb-2",style:{color:v.navy},children:"Two-Factor Authentication"}),a.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:["Enter the 6-digit code sent to",a.jsx("br",{}),a.jsx("strong",{children:t==null?void 0:t.email})]}),a.jsx("div",{className:"flex justify-center gap-2 mb-6",children:r.map((E,x)=>a.jsx("input",{ref:_=>p.current[x]=_,type:"text",inputMode:"numeric",maxLength:"1",value:E,onChange:_=>y(x,_.target.value),onKeyDown:_=>b(x,_),className:"w-12 h-14 text-center text-2xl font-bold border-2 rounded-xl focus:outline-none transition-all",style:{borderColor:o?"#ef4444":E?v.navy:"#e5e7eb"}},x))}),o&&a.jsxs("p",{className:"text-red-500 text-sm mb-4 flex items-center justify-center gap-1",children:[a.jsx(Ki,{className:"w-4 h-4"})," ",o]}),a.jsx("button",{onClick:A,disabled:f>0,className:"text-sm text-gray-500 hover:text-gray-700 disabled:opacity-50 mb-4",children:f>0?`Resend code in ${f}s`:"Resend code"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx($.button,{onClick:n,whileHover:{scale:1.02},className:"flex-1 py-3 rounded-xl border border-gray-200",children:"Cancel"}),a.jsx($.button,{onClick:()=>I(r.join("")),whileHover:{scale:1.02},disabled:u||r.some(E=>!E),className:"flex-1 py-3 rounded-xl text-white font-medium disabled:opacity-50",style:{background:v.navy},children:u?"Verifying...":"Verify"})]})]})})}function A6({onLogin:t}){const[e,n]=R.useState(""),[s,r]=R.useState(""),[i,o]=R.useState(""),[l,u]=R.useState(!1),d=f=>{f.preventDefault(),u(!0),o(""),setTimeout(()=>{e===e1.email&&s===e1.password?(localStorage.setItem("saxovault_admin","true"),t()):o("Invalid admin credentials"),u(!1)},1e3)};return a.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",style:{background:`linear-gradient(135deg, ${v.navy} 0%, ${v.navyLight} 100%)`},children:a.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"w-16 h-16 mx-auto rounded-2xl flex items-center justify-center mb-4",style:{background:`linear-gradient(135deg, ${v.gold} 0%, ${v.goldDark} 100%)`},children:a.jsx(da,{className:"w-8 h-8 text-white"})}),a.jsx("h1",{className:"font-serif text-2xl",style:{color:v.navy},children:"Admin Portal"}),a.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"SaxoVault Capital Management"})]}),i&&a.jsxs("div",{className:"mb-4 p-3 rounded-xl bg-red-50 text-red-600 text-sm flex items-center gap-2",children:[a.jsx(Ki,{className:"w-4 h-4"})," ",i]}),a.jsxs("form",{onSubmit:d,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Admin Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(es,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"email",value:e,onChange:f=>n(f.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"admin@saxovault.com",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(ir,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"password",value:s,onChange:f=>r(f.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"",required:!0})]})]}),a.jsx($.button,{type:"submit",disabled:l,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3.5 rounded-xl text-white font-semibold flex items-center justify-center gap-3",style:{background:`linear-gradient(135deg, ${v.navy} 0%, ${v.navyLight} 100%)`},children:l?a.jsx(pn,{className:"w-5 h-5 animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(da,{className:"w-5 h-5"})," Access Admin Panel"]})})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("a",{href:"/",className:"text-sm text-gray-500 hover:underline",children:" Back to Website"})})]})})}function C6({onLogout:t}){var st,ct,kr;const[e,n]=R.useState("overview"),[s,r]=R.useState([]),[i,o]=R.useState([]),[l,u]=R.useState(ne.getSettings()),[d,f]=R.useState(ne.getNotifications()),[h,p]=R.useState(null),[y,b]=R.useState(!0);R.useEffect(()=>{(async()=>{b(!0);try{const re=await ne.fetchUsersFromCloud();r(re);const Ar=await ne.fetchTransactionsFromCloud();o(Ar),console.log(" Admin data loaded from Firestore:",re.length,"users,",Ar.length,"transactions")}catch(re){console.error("Error loading data:",re),r(ne.getUsers()),o(ne.getTransactions())}b(!1)})();const te=ZM(re=>{r(re),ne.setUsers(re)}),K=XM(re=>{o(re),ne.setTransactions(re)});return()=>{te&&te(),K&&K()}},[]);const I=s.length,A=i.filter(k=>k.type==="deposit"&&k.status==="completed").reduce((k,te)=>k+(parseFloat(te.amount)||0),0),E=i.filter(k=>k.type==="deposit"&&k.status==="pending").length,x=i.filter(k=>k.type==="withdrawal"&&k.status==="pending").length,_=async(k,te)=>{const K=s.map(re=>re.uid===k?{...re,...te}:re);r(K),await ne.updateUser(k,te),ne.addNotification({type:"user_update",message:"User updated successfully"}),p(null)},V=async(k,te)=>{const K=i.find(be=>be.id===k||be.firestoreId===k),re={status:te,updatedAt:new Date().toISOString()};if(K&&te==="completed"&&K.type==="investment"){const be=new Date,De=K.totalDays||30,qe=new Date(be);qe.setDate(qe.getDate()+De),re.approvalDate=be.toISOString(),re.maturityDate=qe.toISOString(),re.countdownStarted=!0,re.countdownEndsAt=qe.toISOString(),console.log(` Investment ${K.investmentName} approved!`),console.log(`   Countdown started: ${be.toISOString()}`),console.log(`   Maturity date: ${qe.toISOString()} (${De} days)`)}const Ar=i.map(be=>be.id===k||be.firestoreId===k?{...be,...re}:be);if(o(Ar),await ne.updateTransaction(k,re),K&&te==="completed"&&K.type==="deposit"){const be=s.find(De=>De.uid===K.userId||De.email===K.userEmail);if(be){const De=(parseFloat(be.balance)||0)+parseFloat(K.amount);await ne.updateUser(be.uid,{balance:De}),r(s.map(qe=>qe.uid===be.uid?{...qe,balance:De}:qe)),console.log(` User ${be.email} balance updated to $${De}`)}}if(K&&te==="completed"&&K.type==="withdrawal"){const be=s.find(De=>De.uid===K.userId||De.email===K.userEmail);if(be){const De=Math.max(0,(parseFloat(be.balance)||0)-parseFloat(K.amount));await ne.updateUser(be.uid,{balance:De}),r(s.map(qe=>qe.uid===be.uid?{...qe,balance:De}:qe)),console.log(` User ${be.email} balance updated to $${De} after withdrawal`)}}if(K&&te==="completed"&&K.type==="investment"){const De=JSON.parse(localStorage.getItem(`investments_${K.userId}`)||"[]").map(qe=>qe.investmentId===K.investmentId?{...qe,...re}:qe);localStorage.setItem(`investments_${K.userId}`,JSON.stringify(De)),console.log(` Investment countdown started for ${K.userEmail}`)}if(ne.addNotification({type:"tx_update",message:`Transaction ${te}`}),K&&K.userEmail){const be=te==="completed"?"Approved":te==="rejected"?"Rejected":te,De=K.type.charAt(0).toUpperCase()+K.type.slice(1);try{await Te.sendStatusUpdate(K.userEmail,De,be,K.amount,te==="rejected"?"Please contact support if you have questions.":K.type==="investment"?`Your investment is now active. Duration: ${K.totalDays||30} days.`:K.type==="deposit"?"Funds have been credited to your account.":K.type==="withdrawal"?"Funds will be sent to your wallet shortly.":""),console.log(` Status notification sent to ${K.userEmail}`)}catch(qe){console.error(" Failed to send status notification:",qe)}}},L=k=>{u(k),ne.setSettings(k),ne.addNotification({type:"settings_update",message:"Settings updated successfully"}),alert("Settings saved successfully!")},F=JSON.parse(localStorage.getItem("saxovault_tickets")||"[]"),j=F.filter(k=>k.status==="open").length,[w,N]=R.useState(()=>{const k=localStorage.getItem("saxovault_investments");return k?JSON.parse(k):Hl}),[S,P]=R.useState(null),[D,C]=R.useState(!1),[W,J]=R.useState({name:"",category:"Real Estate",type:"real-estate",min:1e3,returns:"10-15%",term:"12 months",desc:"",status:"Funding",progress:0,goal:1e6}),ue=k=>{let te;k.id?te=w.map(K=>K.id===k.id?k:K):(k.id=Date.now(),te=[...w,k]),N(te),localStorage.setItem("saxovault_investments",JSON.stringify(te)),ne.addNotification({type:"investment",message:k.id?"Investment updated":"Investment added"}),P(null),C(!1)},fe=k=>{if(confirm("Are you sure you want to delete this investment?")){const te=w.filter(K=>K.id!==k);N(te),localStorage.setItem("saxovault_investments",JSON.stringify(te)),ne.addNotification({type:"investment",message:"Investment deleted"})}},[O,q]=R.useState(!1),[oe,B]=R.useState(!1),[se,lt]=R.useState(null),[Le,Gt]=R.useState(""),[We,Ot]=R.useState(""),[Yn,Jn]=R.useState(""),[Cn,on]=R.useState(""),Pa=()=>{if(!Le||!We){alert("Please enter both title and message");return}const k={id:Date.now(),type:"broadcast",title:Le,message:We,sentAt:new Date().toISOString(),recipients:s.length},te=JSON.parse(localStorage.getItem("saxovault_messages")||"[]");localStorage.setItem("saxovault_messages",JSON.stringify([k,...te]));const K=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}");s.forEach(re=>{K[re.uid]||(K[re.uid]=[]),K[re.uid].unshift({...k,read:!1})}),localStorage.setItem("saxovault_user_notifications",JSON.stringify(K)),ne.addNotification({type:"broadcast",message:`Broadcast sent to ${s.length} users`}),Gt(""),Ot(""),q(!1),alert(` Message sent to ${s.length} users!`)},Ra=()=>{if(!Yn||!Cn||!se){alert("Please enter both subject and message");return}const k={id:Date.now(),type:"personal",title:Yn,message:Cn,sentAt:new Date().toISOString(),recipient:se.email,recipientId:se.uid},te=JSON.parse(localStorage.getItem("saxovault_messages")||"[]");localStorage.setItem("saxovault_messages",JSON.stringify([k,...te]));const K=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}");K[se.uid]||(K[se.uid]=[]),K[se.uid].unshift({...k,read:!1}),localStorage.setItem("saxovault_user_notifications",JSON.stringify(K)),ne.addNotification({type:"personal_msg",message:`Message sent to ${se.email}`}),Jn(""),on(""),lt(null),B(!1),alert(` Message sent to ${se.name||se.email}!`)},Pn=JSON.parse(localStorage.getItem("saxovault_pending_investments")||"[]"),Xd=Pn.filter(k=>k.status==="pending").length,Da=async k=>{const te=Pn.map(re=>re.id===k.id?{...re,status:"approved",approvedAt:new Date().toISOString()}:re);localStorage.setItem("saxovault_pending_investments",JSON.stringify(te));const K=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}");K[k.userEmail]||(K[k.userEmail]=[]),K[k.userEmail].unshift({id:Date.now(),type:"investment_approved",title:" Investment Approved!",message:`Your $${k.amount.toLocaleString()} investment in ${k.investmentName} has been approved.`,read:!1,createdAt:new Date().toISOString()}),localStorage.setItem("saxovault_user_notifications",JSON.stringify(K));try{await Te.sendStatusUpdate(k.userEmail,"Investment","Approved",k.amount,`Your investment in ${k.investmentName} is now active. Duration: ${k.term||k.totalDays+" days"}.`),console.log(` Investment approval email sent to ${k.userEmail}`)}catch(re){console.error(" Failed to send approval email:",re)}ne.addNotification({type:"investment_approved",message:`Investment approved: $${k.amount.toLocaleString()}`}),alert("Investment approved!"),window.location.reload()},Va=async k=>{if(!confirm("Are you sure you want to reject this investment?"))return;const te=Pn.map(re=>re.id===k.id?{...re,status:"rejected",rejectedAt:new Date().toISOString()}:re);localStorage.setItem("saxovault_pending_investments",JSON.stringify(te));const K=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}");K[k.userEmail]||(K[k.userEmail]=[]),K[k.userEmail].unshift({id:Date.now(),type:"investment_rejected",title:" Investment Rejected",message:`Your $${k.amount.toLocaleString()} investment in ${k.investmentName} was not approved. Please contact support.`,read:!1,createdAt:new Date().toISOString()}),localStorage.setItem("saxovault_user_notifications",JSON.stringify(K));try{await Te.sendStatusUpdate(k.userEmail,"Investment","Rejected",k.amount,"Your investment was not approved. Please contact support if you have questions."),console.log(` Investment rejection email sent to ${k.userEmail}`)}catch(re){console.error(" Failed to send rejection email:",re)}ne.addNotification({type:"investment_rejected",message:"Investment rejected"}),alert("Investment rejected."),window.location.reload()},Wl=[{id:"overview",name:"Overview",icon:mg},{id:"users",name:"Users",icon:Lu},{id:"transactions",name:"Transactions",icon:q2},{id:"pending",name:"Pending",icon:la,badge:Xd},{id:"investments",name:"Investments",icon:Xr},{id:"tickets",name:"Tickets",icon:tN,badge:j},{id:"website",name:"Website Editor",icon:ca},{id:"branding",name:"Branding",icon:SR},{id:"payments",name:"Payment Methods",icon:wv},{id:"platform",name:"Platform Config",icon:bm}];return a.jsxs("div",{className:"min-h-screen",style:{background:v.cream},children:[a.jsxs("div",{className:"bg-white shadow-md px-4 lg:px-6 py-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:`linear-gradient(135deg, ${v.gold} 0%, ${v.goldDark} 100%)`},children:a.jsx(G2,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"font-serif text-lg lg:text-xl",style:{color:v.navy},children:"Admin Dashboard"}),a.jsx("p",{className:"text-gray-500 text-xs",children:"SaxoVault Capital"})]})]}),a.jsxs($.button,{onClick:t,whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center gap-2 px-3 lg:px-4 py-2 rounded-xl bg-red-50 text-red-600 hover:bg-red-100 text-sm",children:[a.jsx(ua,{className:"w-4 h-4"})," ",a.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]}),a.jsxs("div",{className:"flex flex-col lg:flex-row",children:[a.jsx("div",{className:"lg:w-64 bg-white shadow-lg lg:min-h-screen",children:a.jsx("div",{className:"flex lg:flex-col overflow-x-auto lg:overflow-x-visible p-2 lg:p-4 gap-2",children:Wl.map(k=>a.jsxs($.button,{onClick:()=>n(k.id),whileTap:{scale:.98},className:`flex items-center gap-2 lg:gap-3 px-3 lg:px-4 py-2 lg:py-3 rounded-xl whitespace-nowrap transition-all ${e===k.id?"shadow-md":"hover:bg-gray-50"}`,style:e===k.id?{background:`${v.navy}10`,color:v.navy}:{color:"#6b7280"},children:[a.jsx(k.icon,{className:"w-4 h-4 lg:w-5 lg:h-5"}),a.jsx("span",{className:"font-medium text-sm",children:k.name}),k.id==="transactions"&&E+x>0&&a.jsx("span",{className:"ml-auto px-2 py-0.5 rounded-full text-xs bg-red-500 text-white",children:E+x}),k.id==="tickets"&&j>0&&a.jsx("span",{className:"ml-auto px-2 py-0.5 rounded-full text-xs bg-purple-500 text-white",children:j})]},k.id))})}),a.jsxs("div",{className:"flex-1 p-4 lg:p-6",children:[e==="overview"&&a.jsxs("div",{children:[a.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:v.navy},children:"Dashboard Overview"}),(()=>{const k=ne.getAdminNotifications().filter(te=>te.actionRequired&&!te.read);return k.length===0?null:a.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 border border-red-200 rounded-xl p-4 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-red-100 flex items-center justify-center",children:a.jsx(sr,{className:"w-5 h-5 text-red-600 animate-pulse"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-red-800",children:"Action Required"}),a.jsxs("p",{className:"text-sm text-red-600",children:[k.length," notification(s) need your attention"]})]})]}),a.jsx("div",{className:"space-y-2",children:k.slice(0,5).map((te,K)=>a.jsxs("div",{className:"flex items-center justify-between bg-white rounded-lg p-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",style:{color:v.navy},children:te.title}),a.jsx("p",{className:"text-xs text-gray-500",children:te.message})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-gray-400",children:new Date(te.createdAt).toLocaleTimeString()}),a.jsx("button",{onClick:()=>ne.markAdminNotifRead(te.id),className:"p-1 hover:bg-gray-100 rounded",children:a.jsx(rr,{className:"w-4 h-4 text-green-600"})})]})]},K))})]})})(),a.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mb-8",children:[{label:"Total Users",value:I,icon:Lu,color:v.navy},{label:"Total Deposits",value:`$${A.toLocaleString()}`,icon:us,color:v.green},{label:"Pending Deposits",value:E,icon:la,color:v.gold},{label:"Pending Withdrawals",value:x,icon:Bn,color:"#ef4444"}].map((k,te)=>a.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:te*.1},className:"bg-white rounded-xl lg:rounded-2xl p-4 lg:p-6 shadow-lg",children:[a.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 rounded-xl flex items-center justify-center mb-3",style:{background:`${k.color}15`},children:a.jsx(k.icon,{className:"w-5 h-5 lg:w-6 lg:h-6",style:{color:k.color}})}),a.jsx("p",{className:"text-gray-500 text-xs lg:text-sm",children:k.label}),a.jsx("p",{className:"text-xl lg:text-2xl font-bold",style:{color:k.color},children:k.value})]},te))}),a.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[a.jsx("h3",{className:"font-serif text-lg mb-4",style:{color:v.navy},children:"Recent Transactions"}),a.jsxs("div",{className:"space-y-3",children:[i.slice(0,5).map((k,te)=>{var K;return a.jsxs("div",{className:"flex items-center justify-between p-3 lg:p-4 rounded-xl bg-gray-50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-8 h-8 lg:w-10 lg:h-10 rounded-full flex items-center justify-center ${k.type==="deposit"?"bg-green-100":"bg-orange-100"}`,children:k.type==="deposit"?a.jsx(us,{className:"w-4 h-4 lg:w-5 lg:h-5 text-green-600"}):a.jsx(Bn,{className:"w-4 h-4 lg:w-5 lg:h-5 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",style:{color:v.navy},children:k.type==="deposit"?"Deposit":"Withdrawal"}),a.jsx("p",{className:"text-xs text-gray-500",children:k.userEmail})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-sm lg:text-base",children:["$",(K=k.amount)==null?void 0:K.toLocaleString()]}),a.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${k.status==="completed"?"bg-green-100 text-green-700":k.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:k.status})]})]},te)}),i.length===0&&a.jsx("p",{className:"text-center text-gray-500 py-8",children:"No transactions yet"})]})]})]}),e==="users"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"font-serif text-xl lg:text-2xl",style:{color:v.navy},children:"User Management"}),a.jsxs($.button,{onClick:()=>q(!0),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-2 px-4 py-2 rounded-xl text-white text-sm font-medium",style:{background:v.navy},children:[a.jsx(Po,{className:"w-4 h-4"})," Broadcast Message"]})]}),a.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg overflow-hidden",children:[a.jsx("div",{className:"p-4 border-b border-gray-100",children:a.jsxs("p",{className:"text-gray-500 text-sm",children:[s.length," registered users"]})}),a.jsxs("div",{className:"divide-y divide-gray-100",children:[s.map((k,te)=>{var K,re;return a.jsx("div",{className:`p-4 hover:bg-gray-50 transition-colors ${k.status==="banned"?"bg-red-50":k.status==="suspended"?"bg-yellow-50":""}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"w-10 h-10 lg:w-12 lg:h-12 rounded-full flex items-center justify-center text-white font-bold text-sm relative",style:{background:k.status==="banned"?"#ef4444":k.status==="suspended"?"#f59e0b":`linear-gradient(135deg, ${v.navy} 0%, ${v.navyLight} 100%)`},children:[((K=k.name)==null?void 0:K.charAt(0))||((re=k.email)==null?void 0:re.charAt(0))||"U",k.status==="banned"&&a.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-600 rounded-full flex items-center justify-center",children:a.jsx(gn,{className:"w-3 h-3 text-white"})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"font-medium text-sm",style:{color:v.navy},children:k.name||"No Name"}),k.status==="banned"&&a.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-red-100 text-red-700",children:"Banned"}),k.status==="suspended"&&a.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-yellow-100 text-yellow-700",children:"Suspended"})]}),a.jsx("p",{className:"text-xs text-gray-500",children:k.email})]})]}),a.jsxs("div",{className:"flex items-center gap-2 lg:gap-3",children:[a.jsxs("div",{className:"text-right hidden sm:block",children:[a.jsxs("p",{className:"font-bold text-sm",style:{color:v.green},children:["$",(k.balance||0).toLocaleString()]}),a.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${k.kycStatus==="verified"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:k.kycStatus||"pending"})]}),a.jsx($.button,{onClick:()=>{lt(k),B(!0)},whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 rounded-lg hover:bg-blue-100",title:"Send Message",children:a.jsx(es,{className:"w-4 h-4 text-blue-500"})}),a.jsx($.button,{onClick:()=>p(k),whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 rounded-lg hover:bg-gray-100",title:"Edit User",children:a.jsx(bm,{className:"w-4 h-4 text-gray-500"})})]})]})},te)}),s.length===0&&a.jsx("p",{className:"text-center text-gray-500 py-12",children:"No users registered yet"})]})]}),a.jsx(ft,{children:h&&a.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>p(null),children:a.jsxs($.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl",onClick:k=>k.stopPropagation(),children:[a.jsxs("h3",{className:"font-serif text-xl mb-4",style:{color:v.navy},children:["Edit User: ",h.name||h.email]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Balance ($)"}),a.jsx("input",{type:"number",value:h.balance||0,onChange:k=>p({...h,balance:parseFloat(k.target.value)||0}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"KYC Status"}),a.jsxs("select",{value:h.kycStatus||"pending",onChange:k=>p({...h,kycStatus:k.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",children:[a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"verified",children:"Verified"}),a.jsx("option",{value:"rejected",children:"Rejected"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Status"}),a.jsxs("select",{value:h.status||"active",onChange:k=>p({...h,status:k.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",children:[a.jsx("option",{value:"active",children:" Active"}),a.jsx("option",{value:"suspended",children:" Suspended"}),a.jsx("option",{value:"banned",children:" Banned"})]}),h.status==="suspended"&&a.jsx("p",{className:"text-xs text-yellow-600 mt-1",children:"User can't withdraw or invest while suspended"}),h.status==="banned"&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:"User cannot access their account"})]})]}),a.jsxs("div",{className:"flex gap-3 mt-6",children:[a.jsx($.button,{onClick:()=>p(null),whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl border border-gray-200",children:"Cancel"}),a.jsx($.button,{onClick:()=>_(h.uid,h),whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl text-white",style:{background:v.navy},children:"Save Changes"})]})]})})}),a.jsx(ft,{children:O&&a.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>q(!1),children:a.jsxs($.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-white rounded-2xl p-6 w-full max-w-lg shadow-2xl",onClick:k=>k.stopPropagation(),children:[a.jsx("h3",{className:"font-serif text-xl mb-4",style:{color:v.navy},children:" Broadcast Message to All Users"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message Title"}),a.jsx("input",{type:"text",value:Le,onChange:k=>Gt(k.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",placeholder:"Important Announcement"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),a.jsx("textarea",{rows:4,value:We,onChange:k=>Ot(k.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-xl resize-none",placeholder:"Enter your message to all users..."})]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-3",children:a.jsxs("p",{className:"text-sm text-blue-700",children:[" This message will be sent to ",a.jsx("strong",{children:s.length})," users"]})})]}),a.jsxs("div",{className:"flex gap-3 mt-6",children:[a.jsx($.button,{onClick:()=>q(!1),whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl border border-gray-200",children:"Cancel"}),a.jsxs($.button,{onClick:Pa,whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl text-white flex items-center justify-center gap-2",style:{background:v.navy},children:[a.jsx(Po,{className:"w-4 h-4"})," Send to All"]})]})]})})}),a.jsx(ft,{children:oe&&se&&a.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>{B(!1),lt(null)},children:a.jsxs($.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-white rounded-2xl p-6 w-full max-w-lg shadow-2xl",onClick:k=>k.stopPropagation(),children:[a.jsxs("h3",{className:"font-serif text-xl mb-4",style:{color:v.navy},children:[" Message to ",se.name||se.email]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),a.jsx("input",{type:"text",value:Yn,onChange:k=>Jn(k.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",placeholder:"Account Update"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),a.jsx("textarea",{rows:4,value:Cn,onChange:k=>on(k.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-xl resize-none",placeholder:"Enter your message..."})]})]}),a.jsxs("div",{className:"flex gap-3 mt-6",children:[a.jsx($.button,{onClick:()=>{B(!1),lt(null)},whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl border border-gray-200",children:"Cancel"}),a.jsxs($.button,{onClick:Ra,whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl text-white flex items-center justify-center gap-2",style:{background:v.green},children:[a.jsx(Po,{className:"w-4 h-4"})," Send Message"]})]})]})})})]}),e==="transactions"&&a.jsxs("div",{children:[a.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:v.navy},children:"Transaction Management"}),a.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg overflow-hidden",children:[a.jsx("div",{className:"p-4 border-b border-gray-100",children:a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("span",{className:"px-3 py-1 rounded-full text-xs bg-yellow-100 text-yellow-700",children:[E," pending deposits"]}),a.jsxs("span",{className:"px-3 py-1 rounded-full text-xs bg-orange-100 text-orange-700",children:[x," pending withdrawals"]})]})}),a.jsxs("div",{className:"divide-y divide-gray-100",children:[i.map((k,te)=>{var K;return a.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${k.type==="deposit"?"bg-green-100":"bg-orange-100"}`,children:k.type==="deposit"?a.jsx(us,{className:"w-5 h-5 text-green-600"}):a.jsx(Bn,{className:"w-5 h-5 text-orange-600"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium text-sm",style:{color:v.navy},children:[k.type==="deposit"?"Deposit":"Withdrawal"," - ",k.crypto]}),a.jsx("p",{className:"text-xs text-gray-500",children:k.userEmail}),a.jsx("p",{className:"text-xs text-gray-400",children:new Date(k.createdAt).toLocaleString()})]})]}),a.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold",children:["$",(K=k.amount)==null?void 0:K.toLocaleString()]}),a.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${k.status==="completed"?"bg-green-100 text-green-700":k.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:k.status})]}),k.status==="pending"&&a.jsxs("div",{className:"flex gap-2",children:[a.jsx($.button,{onClick:()=>V(k.id,"completed"),whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 rounded-lg bg-green-100 text-green-600 hover:bg-green-200",children:a.jsx(rr,{className:"w-4 h-4"})}),a.jsx($.button,{onClick:()=>V(k.id,"rejected"),whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 rounded-lg bg-red-100 text-red-600 hover:bg-red-200",children:a.jsx(gn,{className:"w-4 h-4"})})]})]})]})},te)}),i.length===0&&a.jsx("p",{className:"text-center text-gray-500 py-12",children:"No transactions yet"})]})]})]}),e==="notifications"&&a.jsxs("div",{children:[a.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:v.navy},children:"Activity Log"}),a.jsx("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg overflow-hidden",children:a.jsxs("div",{className:"divide-y divide-gray-100",children:[d.map((k,te)=>a.jsx("div",{className:`p-4 ${k.read?"":"bg-blue-50"}`,children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center flex-shrink-0",children:a.jsx(sr,{className:"w-5 h-5 text-gray-500"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-sm",style:{color:v.navy},children:k.message}),a.jsx("p",{className:"text-xs text-gray-500",children:new Date(k.createdAt).toLocaleString()})]})]})},te)),d.length===0&&a.jsx("p",{className:"text-center text-gray-500 py-12",children:"No activity yet"})]})})]}),e==="pending"&&a.jsxs("div",{children:[a.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:v.navy},children:"Pending Approvals"}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[a.jsx("div",{className:"p-4 border-b border-gray-100",children:a.jsxs("p",{className:"text-sm text-gray-500",children:[Pn.filter(k=>k.status==="pending").length," pending approvals"]})}),a.jsxs("div",{className:"divide-y divide-gray-100",children:[Pn.filter(k=>k.status==="pending").map((k,te)=>{var K;return a.jsx("div",{className:"p-4 hover:bg-yellow-50 transition-colors",children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"px-2 py-0.5 bg-yellow-100 text-yellow-700 rounded-full text-xs font-medium",children:" Pending"}),a.jsx("span",{className:"text-xs text-gray-400",children:new Date(k.createdAt).toLocaleDateString()})]}),a.jsx("p",{className:"font-semibold",style:{color:v.navy},children:k.investmentName}),a.jsx("p",{className:"text-sm text-gray-500",children:k.userEmail}),a.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm",children:[a.jsxs("span",{className:"font-bold text-lg",style:{color:v.green},children:["$",(K=k.amount)==null?void 0:K.toLocaleString()]}),a.jsxs("span",{className:"text-gray-400",children:["via ",k.crypto]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs($.button,{onClick:()=>Da(k),whileHover:{scale:1.05},className:"px-4 py-2 rounded-lg text-white text-sm font-medium",style:{background:v.green},children:[a.jsx(rr,{className:"w-4 h-4 inline mr-1"})," Approve"]}),a.jsxs($.button,{onClick:()=>Va(k),whileHover:{scale:1.05},className:"px-4 py-2 rounded-lg bg-red-100 text-red-600 text-sm font-medium",children:[a.jsx(gn,{className:"w-4 h-4 inline mr-1"})," Reject"]})]})]})},te)}),Pn.filter(k=>k.status==="pending").length===0&&a.jsx("p",{className:"text-center text-gray-500 py-12",children:"No pending approvals"})]})]}),a.jsx("h3",{className:"font-serif text-lg mt-8 mb-4",style:{color:v.navy},children:"Recent Decisions"}),a.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:a.jsx("div",{className:"divide-y divide-gray-100",children:Pn.filter(k=>k.status!=="pending").slice(0,10).map((k,te)=>{var K;return a.jsx("div",{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",style:{color:v.navy},children:k.investmentName}),a.jsx("p",{className:"text-xs text-gray-500",children:k.userEmail})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${k.status==="approved"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:k.status==="approved"?" Approved":" Rejected"}),a.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["$",(K=k.amount)==null?void 0:K.toLocaleString()]})]})]})},te)})})})]}),e==="investments"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"font-serif text-xl lg:text-2xl",style:{color:v.navy},children:"Investment Plans"}),a.jsxs($.button,{onClick:()=>C(!0),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-2 px-4 py-2 rounded-xl text-white text-sm font-medium",style:{background:v.green},children:[a.jsx(jR,{className:"w-4 h-4"})," Add Investment"]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[a.jsx("div",{className:"p-4 border-b border-gray-100",children:a.jsxs("p",{className:"text-sm text-gray-500",children:[w.length," investment plans"]})}),a.jsx("div",{className:"divide-y divide-gray-100",children:w.map((k,te)=>{var K;return a.jsx("div",{className:"p-4 hover:bg-gray-50",children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-gray-100 flex items-center justify-center flex-shrink-0",children:a.jsx(fg,{className:"w-6 h-6 text-gray-500"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"font-semibold truncate",style:{color:v.navy},children:k.name}),a.jsxs("p",{className:"text-xs text-gray-500",children:[k.category,"  Min $",(K=k.min)==null?void 0:K.toLocaleString()]}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-green-100 text-green-700",children:k.returns}),a.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-blue-100 text-blue-700",children:k.term}),a.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${k.status==="Active"?"bg-green-100 text-green-700":k.status==="Funding"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:k.status})]})]})]}),a.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[a.jsx($.button,{onClick:()=>P(k),whileHover:{scale:1.1},className:"p-2 rounded-lg bg-blue-100 text-blue-600",children:a.jsx(IR,{className:"w-4 h-4"})}),a.jsx($.button,{onClick:()=>fe(k.id),whileHover:{scale:1.1},className:"p-2 rounded-lg bg-red-100 text-red-600",children:a.jsx(sN,{className:"w-4 h-4"})})]})]})},te)})})]}),a.jsx(ft,{children:(D||S)&&a.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>{C(!1),P(null)},children:a.jsxs($.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-white rounded-2xl p-6 w-full max-w-lg shadow-2xl max-h-[90vh] overflow-y-auto",onClick:k=>k.stopPropagation(),children:[a.jsx("h3",{className:"font-serif text-xl mb-4",style:{color:v.navy},children:S?"Edit Investment":"Add New Investment"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),a.jsx("input",{type:"text",value:(S==null?void 0:S.name)||W.name,onChange:k=>S?P({...S,name:k.target.value}):J({...W,name:k.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl",placeholder:"Greenwich Towers"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),a.jsxs("select",{value:(S==null?void 0:S.category)||W.category,onChange:k=>S?P({...S,category:k.target.value}):J({...W,category:k.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl",children:[a.jsx("option",{children:"Real Estate"}),a.jsx("option",{children:"Cryptocurrency"}),a.jsx("option",{children:"Stocks & Bonds"}),a.jsx("option",{children:"Precious Metals"}),a.jsx("option",{children:"Investment Plans"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{value:(S==null?void 0:S.status)||W.status,onChange:k=>S?P({...S,status:k.target.value}):J({...W,status:k.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl",children:[a.jsx("option",{children:"Funding"}),a.jsx("option",{children:"Active"}),a.jsx("option",{children:"Open"}),a.jsx("option",{children:"Closed"}),a.jsx("option",{children:"Coming Soon"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Returns (e.g. 12-15%)"}),a.jsx("input",{type:"text",value:(S==null?void 0:S.returns)||W.returns,onChange:k=>S?P({...S,returns:k.target.value}):J({...W,returns:k.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl",placeholder:"12-15%"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Term (e.g. 24 months)"}),a.jsx("input",{type:"text",value:(S==null?void 0:S.term)||W.term,onChange:k=>S?P({...S,term:k.target.value}):J({...W,term:k.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl",placeholder:"24 months"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Investment ($)"}),a.jsx("input",{type:"number",value:(S==null?void 0:S.min)||W.min,onChange:k=>S?P({...S,min:parseInt(k.target.value)}):J({...W,min:parseInt(k.target.value)}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Funding Goal ($)"}),a.jsx("input",{type:"number",value:(S==null?void 0:S.goal)||W.goal,onChange:k=>S?P({...S,goal:parseInt(k.target.value)}):J({...W,goal:parseInt(k.target.value)}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Progress (%)"}),a.jsx("input",{type:"number",min:"0",max:"100",value:(S==null?void 0:S.progress)||W.progress,onChange:k=>S?P({...S,progress:parseInt(k.target.value)}):J({...W,progress:parseInt(k.target.value)}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{rows:3,value:(S==null?void 0:S.desc)||W.desc,onChange:k=>S?P({...S,desc:k.target.value}):J({...W,desc:k.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl resize-none",placeholder:"Premium mixed-use development..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image URL (optional)"}),a.jsx("input",{type:"text",value:(S==null?void 0:S.customImg)||"",onChange:k=>S?P({...S,customImg:k.target.value}):J({...W,customImg:k.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl",placeholder:"https://example.com/image.jpg"})]})]}),a.jsxs("div",{className:"flex gap-3 mt-6",children:[a.jsx($.button,{onClick:()=>{C(!1),P(null)},whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl border border-gray-200",children:"Cancel"}),a.jsx($.button,{onClick:()=>ue(S||W),whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl text-white",style:{background:v.green},children:S?"Save Changes":"Add Investment"})]})]})})})]}),e==="tickets"&&a.jsxs("div",{children:[a.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:v.navy},children:"Support Tickets"}),a.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg overflow-hidden",children:[a.jsx("div",{className:"p-4 border-b border-gray-100",children:a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("span",{className:"px-3 py-1 rounded-full text-xs bg-purple-100 text-purple-700",children:[j," open tickets"]}),a.jsxs("span",{className:"px-3 py-1 rounded-full text-xs bg-green-100 text-green-700",children:[F.filter(k=>k.status==="closed").length," closed"]})]})}),a.jsxs("div",{className:"divide-y divide-gray-100",children:[F.map((k,te)=>a.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"font-mono text-xs px-2 py-0.5 rounded bg-gray-100",style:{color:v.navy},children:k.id}),a.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${k.priority==="urgent"?"bg-red-100 text-red-700":k.priority==="high"?"bg-orange-100 text-orange-700":k.priority==="medium"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:k.priority}),a.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${k.status==="open"?"bg-purple-100 text-purple-700":k.status==="in-progress"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:k.status})]}),a.jsx("p",{className:"font-medium text-sm",style:{color:v.navy},children:k.subject}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["From: ",k.name," (",k.email,")"]}),a.jsx("p",{className:"text-xs text-gray-400",children:new Date(k.createdAt).toLocaleString()}),a.jsx("p",{className:"text-sm text-gray-600 mt-2 line-clamp-2",children:k.message})]}),a.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[k.status==="open"&&a.jsxs(a.Fragment,{children:[a.jsx($.button,{onClick:()=>{const K=F.map(re=>re.id===k.id?{...re,status:"in-progress"}:re);localStorage.setItem("saxovault_tickets",JSON.stringify(K)),window.location.reload()},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-3 py-1.5 rounded-lg bg-blue-100 text-blue-700 text-xs font-medium",children:"In Progress"}),a.jsxs($.a,{href:`mailto:${k.email}?subject=Re: ${k.subject} [${k.id}]&body=Hi ${k.name},%0D%0A%0D%0AThank you for contacting SaxoVault Capital support.%0D%0A%0D%0A[Your response here]%0D%0A%0D%0ABest regards,%0D%0ASaxoVault Capital Support Team`,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-3 py-1.5 rounded-lg bg-green-100 text-green-700 text-xs font-medium flex items-center gap-1",children:[a.jsx(es,{className:"w-3 h-3"})," Reply"]})]}),k.status!=="closed"&&a.jsx($.button,{onClick:()=>{const K=F.map(re=>re.id===k.id?{...re,status:"closed"}:re);localStorage.setItem("saxovault_tickets",JSON.stringify(K)),window.location.reload()},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-3 py-1.5 rounded-lg bg-gray-100 text-gray-700 text-xs font-medium",children:"Close"})]})]})},te)),F.length===0&&a.jsx("p",{className:"text-center text-gray-500 py-12",children:"No tickets yet"})]})]})]}),e==="settings"&&a.jsxs("div",{children:[a.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:v.navy},children:"Platform Settings"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[a.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:v.navy},children:[a.jsx(wv,{className:"w-5 h-5"})," Deposit Wallet Addresses"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bitcoin (BTC)"}),a.jsx("input",{type:"text",value:((st=l.wallets)==null?void 0:st.btc)||"",onChange:k=>u({...l,wallets:{...l.wallets,btc:k.target.value}}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl font-mono text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ethereum (ETH)"}),a.jsx("input",{type:"text",value:((ct=l.wallets)==null?void 0:ct.eth)||"",onChange:k=>u({...l,wallets:{...l.wallets,eth:k.target.value}}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl font-mono text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"USDT (TRC-20)"}),a.jsx("input",{type:"text",value:((kr=l.wallets)==null?void 0:kr.usdt)||"",onChange:k=>u({...l,wallets:{...l.wallets,usdt:k.target.value}}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl font-mono text-sm"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[a.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:v.navy},children:[a.jsx(Z2,{className:"w-5 h-5"})," Contact Settings"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"WhatsApp Number"}),a.jsx("input",{type:"text",value:l.whatsapp||"",onChange:k=>u({...l,whatsapp:k.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",placeholder:"+1234567890"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Support Email"}),a.jsx("input",{type:"email",value:l.email||"",onChange:k=>u({...l,email:k.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[a.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:v.navy},children:[a.jsx(ca,{className:"w-5 h-5"})," Site Settings"]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Site Name"}),a.jsx("input",{type:"text",value:l.siteName||"",onChange:k=>u({...l,siteName:k.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]})]}),a.jsx($.button,{onClick:()=>L(l),whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 rounded-xl text-white font-semibold",style:{background:`linear-gradient(135deg, ${v.green} 0%, ${v.greenDark} 100%)`},children:"Save All Settings"})]})]})]})]})]})}function P6(){const[t,e]=R.useState(!1),[n,s]=R.useState(!1),[r,i]=R.useState(!1),[o,l]=R.useState(!1),[u,d]=R.useState("home"),[f,h]=R.useState(null),[p,y]=R.useState(!1),[b,I]=R.useState({name:"",email:"",phone:"",address:"",balance:0,profileImage:null}),A=(L,F)=>{const j=JSON.parse(localStorage.getItem("saxovault_activity_logs")||"{}");j[F]||(j[F]=[]),j[F].unshift({type:L,timestamp:new Date().toISOString(),ip:"User IP",device:navigator.userAgent.includes("Mobile")?"Mobile Device":"Desktop Browser"}),j[F]=j[F].slice(0,50),localStorage.setItem("saxovault_activity_logs",JSON.stringify(j))};R.useEffect(()=>{(window.location.pathname==="/admin"||window.location.hash==="#admin")&&i(!0),localStorage.getItem("saxovault_admin")==="true"&&(s(!0),i(!0))},[]);const E=L=>{if(L){I({name:L.name||"",email:L.email||"",phone:L.phone||"",country:L.country||"",balance:L.balance||0,profileImage:L.profileImage||null}),A("login",L.email);const F=ne.getUsers();if(!F.find(N=>N.email===L.email)&&(F.push({...L,uid:L.uid||Date.now().toString(),createdAt:new Date().toISOString(),balance:0,totalDeposited:0,totalWithdrawn:0,totalEarnings:0,activeInvestments:0,referralEarnings:0,referralCount:0,onboardingComplete:!1}),ne.setUsers(F),l(!0),ne.notifyAdmin({type:"new_user",title:" New User Registration",message:`${L.name||"New user"} (${L.email}) just registered`,urgent:!0,actionRequired:!1}),L.referralCode)){const N=F.find(S=>S.referralCode===L.referralCode||S.uid===L.referralCode);if(N){Te.sendReferralNotification(N.email,L.name||L.email);const S=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}");S[N.uid]||(S[N.uid]=[]),S[N.uid].unshift({id:Date.now(),type:"referral",title:" New Referral!",message:`${L.name||"Someone"} signed up using your referral link!`,read:!1,createdAt:new Date().toISOString()}),localStorage.setItem("saxovault_user_notifications",JSON.stringify(S)),ne.notifyAdmin({type:"referral",title:" New Referral Signup",message:`${L.email} signed up via ${N.email}'s referral`,urgent:!1,actionRequired:!1})}}localStorage.setItem("saxovault_current_user",JSON.stringify(L))}e(!0)},x=async()=>{try{b.email&&A("logout",b.email),await n6()}catch{}e(!1),I({name:"",email:"",phone:"",address:"",balance:0,profileImage:null}),localStorage.removeItem("saxovault_current_user")},_=()=>{localStorage.removeItem("saxovault_admin"),s(!1),i(!1)};if(r&&!n)return a.jsx(A6,{onLogin:()=>s(!0)});if(n)return a.jsx(C6,{onLogout:_});if(!t)return a.jsx(d6,{onLogin:E});const V=L=>h(L);return a.jsxs("div",{className:"min-h-screen",style:{background:v.cream},children:[a.jsx(ft,{children:o&&a.jsx(l6,{onComplete:()=>l(!1)})}),a.jsx(h6,{activePage:u,onNavigate:d,user:b,onLogout:x}),a.jsxs(ft,{children:[f&&!p&&a.jsx(x6,{investment:f,onClose:()=>h(null),onInvest:()=>y(!0)}),p&&f&&a.jsx(v6,{investment:f,onClose:()=>{y(!1),h(null)},balance:b.balance})]}),a.jsxs(ft,{mode:"wait",children:[u==="home"&&a.jsx(g6,{onNavigate:d,onSelectInvestment:V},"home"),u==="investments"&&a.jsx(y6,{onSelectInvestment:V},"investments"),u==="dashboard"&&a.jsx(w6,{user:b,onNavigate:d},"dashboard"),u==="history"&&a.jsx(_6,{user:b},"history"),u==="notifications"&&a.jsx(b6,{user:b},"notifications"),u==="activity"&&a.jsx(N6,{user:b},"activity"),u==="referral"&&a.jsx(T6,{user:b},"referral"),u==="calculator"&&a.jsx(E6,{},"calculator"),u==="profile"&&a.jsx(I6,{user:b,setUser:I,onLogout:x},"profile")]}),a.jsx(f6,{activePage:u,onNavigate:d}),a.jsx(m6,{})]})}ff.createRoot(document.getElementById("root")).render(a.jsx(rd.StrictMode,{children:a.jsx(P6,{})}));
