(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function yE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var l1={exports:{}},hd={},c1={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sl=Symbol.for("react.element"),xE=Symbol.for("react.portal"),vE=Symbol.for("react.fragment"),wE=Symbol.for("react.strict_mode"),bE=Symbol.for("react.profiler"),_E=Symbol.for("react.provider"),NE=Symbol.for("react.context"),SE=Symbol.for("react.forward_ref"),TE=Symbol.for("react.suspense"),EE=Symbol.for("react.memo"),jE=Symbol.for("react.lazy"),hx=Symbol.iterator;function kE(t){return t===null||typeof t!="object"?null:(t=hx&&t[hx]||t["@@iterator"],typeof t=="function"?t:null)}var u1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},d1=Object.assign,h1={};function Pa(t,e,n){this.props=t,this.context=e,this.refs=h1,this.updater=n||u1}Pa.prototype.isReactComponent={};Pa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Pa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function f1(){}f1.prototype=Pa.prototype;function ap(t,e,n){this.props=t,this.context=e,this.refs=h1,this.updater=n||u1}var op=ap.prototype=new f1;op.constructor=ap;d1(op,Pa.prototype);op.isPureReactComponent=!0;var fx=Array.isArray,m1=Object.prototype.hasOwnProperty,lp={current:null},p1={key:!0,ref:!0,__self:!0,__source:!0};function g1(t,e,n){var s,r={},a=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)m1.call(e,s)&&!p1.hasOwnProperty(s)&&(r[s]=e[s]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var u=Array(l),d=0;d<l;d++)u[d]=arguments[d+2];r.children=u}if(t&&t.defaultProps)for(s in l=t.defaultProps,l)r[s]===void 0&&(r[s]=l[s]);return{$$typeof:Sl,type:t,key:a,ref:o,props:r,_owner:lp.current}}function IE(t,e){return{$$typeof:Sl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function cp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Sl}function CE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var mx=/\/+/g;function Th(t,e){return typeof t=="object"&&t!==null&&t.key!=null?CE(""+t.key):e.toString(36)}function Vc(t,e,n,s,r){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Sl:case xE:o=!0}}if(o)return o=t,r=r(o),t=s===""?"."+Th(o,0):s,fx(r)?(n="",t!=null&&(n=t.replace(mx,"$&/")+"/"),Vc(r,e,n,"",function(d){return d})):r!=null&&(cp(r)&&(r=IE(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(mx,"$&/")+"/")+t)),e.push(r)),1;if(o=0,s=s===""?".":s+":",fx(t))for(var l=0;l<t.length;l++){a=t[l];var u=s+Th(a,l);o+=Vc(a,e,n,u,r)}else if(u=kE(t),typeof u=="function")for(t=u.call(t),l=0;!(a=t.next()).done;)a=a.value,u=s+Th(a,l++),o+=Vc(a,e,n,u,r);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function lc(t,e,n){if(t==null)return t;var s=[],r=0;return Vc(t,s,"","",function(a){return e.call(n,a,r++)}),s}function AE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ht={current:null},Lc={transition:null},PE={ReactCurrentDispatcher:Ht,ReactCurrentBatchConfig:Lc,ReactCurrentOwner:lp};function y1(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:lc,forEach:function(t,e,n){lc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return lc(t,function(){e++}),e},toArray:function(t){return lc(t,function(e){return e})||[]},only:function(t){if(!cp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ye.Component=Pa;ye.Fragment=vE;ye.Profiler=bE;ye.PureComponent=ap;ye.StrictMode=wE;ye.Suspense=TE;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PE;ye.act=y1;ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=d1({},t.props),r=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=lp.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)m1.call(e,u)&&!p1.hasOwnProperty(u)&&(s[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)s.children=n;else if(1<u){l=Array(u);for(var d=0;d<u;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:Sl,type:t.type,key:r,ref:a,props:s,_owner:o}};ye.createContext=function(t){return t={$$typeof:NE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:_E,_context:t},t.Consumer=t};ye.createElement=g1;ye.createFactory=function(t){var e=g1.bind(null,t);return e.type=t,e};ye.createRef=function(){return{current:null}};ye.forwardRef=function(t){return{$$typeof:SE,render:t}};ye.isValidElement=cp;ye.lazy=function(t){return{$$typeof:jE,_payload:{_status:-1,_result:t},_init:AE}};ye.memo=function(t,e){return{$$typeof:EE,type:t,compare:e===void 0?null:e}};ye.startTransition=function(t){var e=Lc.transition;Lc.transition={};try{t()}finally{Lc.transition=e}};ye.unstable_act=y1;ye.useCallback=function(t,e){return Ht.current.useCallback(t,e)};ye.useContext=function(t){return Ht.current.useContext(t)};ye.useDebugValue=function(){};ye.useDeferredValue=function(t){return Ht.current.useDeferredValue(t)};ye.useEffect=function(t,e){return Ht.current.useEffect(t,e)};ye.useId=function(){return Ht.current.useId()};ye.useImperativeHandle=function(t,e,n){return Ht.current.useImperativeHandle(t,e,n)};ye.useInsertionEffect=function(t,e){return Ht.current.useInsertionEffect(t,e)};ye.useLayoutEffect=function(t,e){return Ht.current.useLayoutEffect(t,e)};ye.useMemo=function(t,e){return Ht.current.useMemo(t,e)};ye.useReducer=function(t,e,n){return Ht.current.useReducer(t,e,n)};ye.useRef=function(t){return Ht.current.useRef(t)};ye.useState=function(t){return Ht.current.useState(t)};ye.useSyncExternalStore=function(t,e,n){return Ht.current.useSyncExternalStore(t,e,n)};ye.useTransition=function(){return Ht.current.useTransition()};ye.version="18.3.1";c1.exports=ye;var R=c1.exports;const fd=yE(R);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RE=R,DE=Symbol.for("react.element"),VE=Symbol.for("react.fragment"),LE=Object.prototype.hasOwnProperty,ME=RE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,OE={key:!0,ref:!0,__self:!0,__source:!0};function x1(t,e,n){var s,r={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)LE.call(e,s)&&!OE.hasOwnProperty(s)&&(r[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:DE,type:t,key:a,ref:o,props:r,_owner:ME.current}}hd.Fragment=VE;hd.jsx=x1;hd.jsxs=x1;l1.exports=hd;var i=l1.exports,Tf={},v1={exports:{}},fn={},w1={exports:{}},b1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,B){var Z=L.length;L.push(B);e:for(;0<Z;){var ne=Z-1>>>1,G=L[ne];if(0<r(G,B))L[ne]=B,L[Z]=G,Z=ne;else break e}}function n(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var B=L[0],Z=L.pop();if(Z!==B){L[0]=Z;e:for(var ne=0,G=L.length,pe=G>>>1;ne<pe;){var je=2*(ne+1)-1,Me=L[je],O=je+1,ce=L[O];if(0>r(Me,Z))O<G&&0>r(ce,Me)?(L[ne]=ce,L[O]=Z,ne=O):(L[ne]=Me,L[je]=Z,ne=je);else if(O<G&&0>r(ce,Z))L[ne]=ce,L[O]=Z,ne=O;else break e}}return B}function r(L,B){var Z=L.sortIndex-B.sortIndex;return Z!==0?Z:L.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],d=[],f=1,h=null,p=3,v=!1,T=!1,S=!1,I=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var B=n(d);B!==null;){if(B.callback===null)s(d);else if(B.startTime<=L)s(d),B.sortIndex=B.expirationTime,e(u,B);else break;B=n(d)}}function D(L){if(S=!1,b(L),!T)if(n(u)!==null)T=!0,me(M);else{var B=n(d);B!==null&&ze(D,B.startTime-L)}}function M(L,B){T=!1,S&&(S=!1,N(_),_=-1),v=!0;var Z=p;try{for(b(B),h=n(u);h!==null&&(!(h.expirationTime>B)||L&&!P());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,p=h.priorityLevel;var G=ne(h.expirationTime<=B);B=t.unstable_now(),typeof G=="function"?h.callback=G:h===n(u)&&s(u),b(B)}else s(u);h=n(u)}if(h!==null)var pe=!0;else{var je=n(d);je!==null&&ze(D,je.startTime-B),pe=!1}return pe}finally{h=null,p=Z,v=!1}}var z=!1,k=null,_=-1,E=5,A=-1;function P(){return!(t.unstable_now()-A<E)}function V(){if(k!==null){var L=t.unstable_now();A=L;var B=!0;try{B=k(!0,L)}finally{B?C():(z=!1,k=null)}}else z=!1}var C;if(typeof y=="function")C=function(){y(V)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ae=Q.port2;Q.port1.onmessage=V,C=function(){ae.postMessage(null)}}else C=function(){I(V,0)};function me(L){k=L,z||(z=!0,C())}function ze(L,B){_=I(function(){L(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){T||v||(T=!0,me(M))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(L){switch(p){case 1:case 2:case 3:var B=3;break;default:B=p}var Z=p;p=B;try{return L()}finally{p=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,B){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var Z=p;p=L;try{return B()}finally{p=Z}},t.unstable_scheduleCallback=function(L,B,Z){var ne=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ne+Z:ne):Z=ne,L){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=Z+G,L={id:f++,callback:B,priorityLevel:L,startTime:Z,expirationTime:G,sortIndex:-1},Z>ne?(L.sortIndex=Z,e(d,L),n(u)===null&&L===n(d)&&(S?(N(_),_=-1):S=!0,ze(D,Z-ne))):(L.sortIndex=G,e(u,L),T||v||(T=!0,me(M))),L},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(L){var B=p;return function(){var Z=p;p=B;try{return L.apply(this,arguments)}finally{p=Z}}}})(b1);w1.exports=b1;var FE=w1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UE=R,dn=FE;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _1=new Set,Ko={};function Si(t,e){fa(t,e),fa(t+"Capture",e)}function fa(t,e){for(Ko[t]=e,t=0;t<e.length;t++)_1.add(e[t])}var Ss=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ef=Object.prototype.hasOwnProperty,$E=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,px={},gx={};function BE(t){return Ef.call(gx,t)?!0:Ef.call(px,t)?!1:$E.test(t)?gx[t]=!0:(px[t]=!0,!1)}function zE(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function HE(t,e,n,s){if(e===null||typeof e>"u"||zE(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Wt(t,e,n,s,r,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var It={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){It[t]=new Wt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];It[e]=new Wt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){It[t]=new Wt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){It[t]=new Wt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){It[t]=new Wt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){It[t]=new Wt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){It[t]=new Wt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){It[t]=new Wt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){It[t]=new Wt(t,5,!1,t.toLowerCase(),null,!1,!1)});var up=/[\-:]([a-z])/g;function dp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(up,dp);It[e]=new Wt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(up,dp);It[e]=new Wt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(up,dp);It[e]=new Wt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){It[t]=new Wt(t,1,!1,t.toLowerCase(),null,!1,!1)});It.xlinkHref=new Wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){It[t]=new Wt(t,1,!1,t.toLowerCase(),null,!0,!0)});function hp(t,e,n,s){var r=It.hasOwnProperty(e)?It[e]:null;(r!==null?r.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(HE(e,n,r,s)&&(n=null),s||r===null?BE(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,s=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var Rs=UE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cc=Symbol.for("react.element"),Fi=Symbol.for("react.portal"),Ui=Symbol.for("react.fragment"),fp=Symbol.for("react.strict_mode"),jf=Symbol.for("react.profiler"),N1=Symbol.for("react.provider"),S1=Symbol.for("react.context"),mp=Symbol.for("react.forward_ref"),kf=Symbol.for("react.suspense"),If=Symbol.for("react.suspense_list"),pp=Symbol.for("react.memo"),Ks=Symbol.for("react.lazy"),T1=Symbol.for("react.offscreen"),yx=Symbol.iterator;function ao(t){return t===null||typeof t!="object"?null:(t=yx&&t[yx]||t["@@iterator"],typeof t=="function"?t:null)}var Ye=Object.assign,Eh;function yo(t){if(Eh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Eh=e&&e[1]||""}return`
`+Eh+t}var jh=!1;function kh(t,e){if(!t||jh)return"";jh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var s=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){s=d}t.call(e.prototype)}else{try{throw Error()}catch(d){s=d}t()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var r=d.stack.split(`
`),a=s.stack.split(`
`),o=r.length-1,l=a.length-1;1<=o&&0<=l&&r[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(r[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||r[o]!==a[l]){var u=`
`+r[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{jh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?yo(t):""}function WE(t){switch(t.tag){case 5:return yo(t.type);case 16:return yo("Lazy");case 13:return yo("Suspense");case 19:return yo("SuspenseList");case 0:case 2:case 15:return t=kh(t.type,!1),t;case 11:return t=kh(t.type.render,!1),t;case 1:return t=kh(t.type,!0),t;default:return""}}function Cf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ui:return"Fragment";case Fi:return"Portal";case jf:return"Profiler";case fp:return"StrictMode";case kf:return"Suspense";case If:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case S1:return(t.displayName||"Context")+".Consumer";case N1:return(t._context.displayName||"Context")+".Provider";case mp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case pp:return e=t.displayName||null,e!==null?e:Cf(t.type)||"Memo";case Ks:e=t._payload,t=t._init;try{return Cf(t(e))}catch{}}return null}function qE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cf(e);case 8:return e===fp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function br(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function E1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function GE(t){var e=E1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){s=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function uc(t){t._valueTracker||(t._valueTracker=GE(t))}function j1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=E1(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function lu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Af(t,e){var n=e.checked;return Ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function xx(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=br(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function k1(t,e){e=e.checked,e!=null&&hp(t,"checked",e,!1)}function Pf(t,e){k1(t,e);var n=br(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Rf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Rf(t,e.type,br(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function vx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Rf(t,e,n){(e!=="number"||lu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var xo=Array.isArray;function ta(t,e,n,s){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&s&&(t[n].defaultSelected=!0)}else{for(n=""+br(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,s&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Df(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return Ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function wx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(xo(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:br(n)}}function I1(t,e){var n=br(e.value),s=br(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function bx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function C1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?C1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var dc,A1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(dc=dc||document.createElement("div"),dc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=dc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Yo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ko={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KE=["Webkit","ms","Moz","O"];Object.keys(ko).forEach(function(t){KE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ko[e]=ko[t]})});function P1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ko.hasOwnProperty(t)&&ko[t]?(""+e).trim():e+"px"}function R1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=P1(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,r):t[n]=r}}var YE=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lf(t,e){if(e){if(YE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function Mf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Of=null;function gp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ff=null,na=null,sa=null;function _x(t){if(t=jl(t)){if(typeof Ff!="function")throw Error(K(280));var e=t.stateNode;e&&(e=xd(e),Ff(t.stateNode,t.type,e))}}function D1(t){na?sa?sa.push(t):sa=[t]:na=t}function V1(){if(na){var t=na,e=sa;if(sa=na=null,_x(t),e)for(t=0;t<e.length;t++)_x(e[t])}}function L1(t,e){return t(e)}function M1(){}var Ih=!1;function O1(t,e,n){if(Ih)return t(e,n);Ih=!0;try{return L1(t,e,n)}finally{Ih=!1,(na!==null||sa!==null)&&(M1(),V1())}}function Qo(t,e){var n=t.stateNode;if(n===null)return null;var s=xd(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var Uf=!1;if(Ss)try{var oo={};Object.defineProperty(oo,"passive",{get:function(){Uf=!0}}),window.addEventListener("test",oo,oo),window.removeEventListener("test",oo,oo)}catch{Uf=!1}function QE(t,e,n,s,r,a,o,l,u){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(f){this.onError(f)}}var Io=!1,cu=null,uu=!1,$f=null,JE={onError:function(t){Io=!0,cu=t}};function XE(t,e,n,s,r,a,o,l,u){Io=!1,cu=null,QE.apply(JE,arguments)}function ZE(t,e,n,s,r,a,o,l,u){if(XE.apply(this,arguments),Io){if(Io){var d=cu;Io=!1,cu=null}else throw Error(K(198));uu||(uu=!0,$f=d)}}function Ti(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function F1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Nx(t){if(Ti(t)!==t)throw Error(K(188))}function ej(t){var e=t.alternate;if(!e){if(e=Ti(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,s=e;;){var r=n.return;if(r===null)break;var a=r.alternate;if(a===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return Nx(r),t;if(a===s)return Nx(r),e;a=a.sibling}throw Error(K(188))}if(n.return!==s.return)n=r,s=a;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,s=a;break}if(l===s){o=!0,s=r,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,s=r;break}if(l===s){o=!0,s=a,n=r;break}l=l.sibling}if(!o)throw Error(K(189))}}if(n.alternate!==s)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function U1(t){return t=ej(t),t!==null?$1(t):null}function $1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=$1(t);if(e!==null)return e;t=t.sibling}return null}var B1=dn.unstable_scheduleCallback,Sx=dn.unstable_cancelCallback,tj=dn.unstable_shouldYield,nj=dn.unstable_requestPaint,nt=dn.unstable_now,sj=dn.unstable_getCurrentPriorityLevel,yp=dn.unstable_ImmediatePriority,z1=dn.unstable_UserBlockingPriority,du=dn.unstable_NormalPriority,rj=dn.unstable_LowPriority,H1=dn.unstable_IdlePriority,md=null,Jn=null;function ij(t){if(Jn&&typeof Jn.onCommitFiberRoot=="function")try{Jn.onCommitFiberRoot(md,t,void 0,(t.current.flags&128)===128)}catch{}}var Vn=Math.clz32?Math.clz32:lj,aj=Math.log,oj=Math.LN2;function lj(t){return t>>>=0,t===0?32:31-(aj(t)/oj|0)|0}var hc=64,fc=4194304;function vo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function hu(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,r=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~r;l!==0?s=vo(l):(a&=o,a!==0&&(s=vo(a)))}else o=n&~r,o!==0?s=vo(o):a!==0&&(s=vo(a));if(s===0)return 0;if(e!==0&&e!==s&&!(e&r)&&(r=s&-s,a=e&-e,r>=a||r===16&&(a&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-Vn(e),r=1<<n,s|=t[n],e&=~r;return s}function cj(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uj(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Vn(a),l=1<<o,u=r[o];u===-1?(!(l&n)||l&s)&&(r[o]=cj(l,e)):u<=e&&(t.expiredLanes|=l),a&=~l}}function Bf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function W1(){var t=hc;return hc<<=1,!(hc&4194240)&&(hc=64),t}function Ch(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Tl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Vn(e),t[e]=n}function dj(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Vn(n),a=1<<r;e[r]=0,s[r]=-1,t[r]=-1,n&=~a}}function xp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-Vn(n),r=1<<s;r&e|t[s]&e&&(t[s]|=e),n&=~r}}var Ce=0;function q1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var G1,vp,K1,Y1,Q1,zf=!1,mc=[],ar=null,or=null,lr=null,Jo=new Map,Xo=new Map,Js=[],hj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tx(t,e){switch(t){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":Jo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xo.delete(e.pointerId)}}function lo(t,e,n,s,r,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[r]},e!==null&&(e=jl(e),e!==null&&vp(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function fj(t,e,n,s,r){switch(e){case"focusin":return ar=lo(ar,t,e,n,s,r),!0;case"dragenter":return or=lo(or,t,e,n,s,r),!0;case"mouseover":return lr=lo(lr,t,e,n,s,r),!0;case"pointerover":var a=r.pointerId;return Jo.set(a,lo(Jo.get(a)||null,t,e,n,s,r)),!0;case"gotpointercapture":return a=r.pointerId,Xo.set(a,lo(Xo.get(a)||null,t,e,n,s,r)),!0}return!1}function J1(t){var e=ei(t.target);if(e!==null){var n=Ti(e);if(n!==null){if(e=n.tag,e===13){if(e=F1(n),e!==null){t.blockedOn=e,Q1(t.priority,function(){K1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Hf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);Of=s,n.target.dispatchEvent(s),Of=null}else return e=jl(n),e!==null&&vp(e),t.blockedOn=n,!1;e.shift()}return!0}function Ex(t,e,n){Mc(t)&&n.delete(e)}function mj(){zf=!1,ar!==null&&Mc(ar)&&(ar=null),or!==null&&Mc(or)&&(or=null),lr!==null&&Mc(lr)&&(lr=null),Jo.forEach(Ex),Xo.forEach(Ex)}function co(t,e){t.blockedOn===e&&(t.blockedOn=null,zf||(zf=!0,dn.unstable_scheduleCallback(dn.unstable_NormalPriority,mj)))}function Zo(t){function e(r){return co(r,t)}if(0<mc.length){co(mc[0],t);for(var n=1;n<mc.length;n++){var s=mc[n];s.blockedOn===t&&(s.blockedOn=null)}}for(ar!==null&&co(ar,t),or!==null&&co(or,t),lr!==null&&co(lr,t),Jo.forEach(e),Xo.forEach(e),n=0;n<Js.length;n++)s=Js[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<Js.length&&(n=Js[0],n.blockedOn===null);)J1(n),n.blockedOn===null&&Js.shift()}var ra=Rs.ReactCurrentBatchConfig,fu=!0;function pj(t,e,n,s){var r=Ce,a=ra.transition;ra.transition=null;try{Ce=1,wp(t,e,n,s)}finally{Ce=r,ra.transition=a}}function gj(t,e,n,s){var r=Ce,a=ra.transition;ra.transition=null;try{Ce=4,wp(t,e,n,s)}finally{Ce=r,ra.transition=a}}function wp(t,e,n,s){if(fu){var r=Hf(t,e,n,s);if(r===null)Uh(t,e,s,mu,n),Tx(t,s);else if(fj(r,t,e,n,s))s.stopPropagation();else if(Tx(t,s),e&4&&-1<hj.indexOf(t)){for(;r!==null;){var a=jl(r);if(a!==null&&G1(a),a=Hf(t,e,n,s),a===null&&Uh(t,e,s,mu,n),a===r)break;r=a}r!==null&&s.stopPropagation()}else Uh(t,e,s,null,n)}}var mu=null;function Hf(t,e,n,s){if(mu=null,t=gp(s),t=ei(t),t!==null)if(e=Ti(t),e===null)t=null;else if(n=e.tag,n===13){if(t=F1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return mu=t,null}function X1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sj()){case yp:return 1;case z1:return 4;case du:case rj:return 16;case H1:return 536870912;default:return 16}default:return 16}}var sr=null,bp=null,Oc=null;function Z1(){if(Oc)return Oc;var t,e=bp,n=e.length,s,r="value"in sr?sr.value:sr.textContent,a=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(s=1;s<=o&&e[n-s]===r[a-s];s++);return Oc=r.slice(t,1<s?1-s:void 0)}function Fc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function pc(){return!0}function jx(){return!1}function mn(t){function e(n,s,r,a,o){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?pc:jx,this.isPropagationStopped=jx,this}return Ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=pc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=pc)},persist:function(){},isPersistent:pc}),e}var Ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_p=mn(Ra),El=Ye({},Ra,{view:0,detail:0}),yj=mn(El),Ah,Ph,uo,pd=Ye({},El,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Np,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==uo&&(uo&&t.type==="mousemove"?(Ah=t.screenX-uo.screenX,Ph=t.screenY-uo.screenY):Ph=Ah=0,uo=t),Ah)},movementY:function(t){return"movementY"in t?t.movementY:Ph}}),kx=mn(pd),xj=Ye({},pd,{dataTransfer:0}),vj=mn(xj),wj=Ye({},El,{relatedTarget:0}),Rh=mn(wj),bj=Ye({},Ra,{animationName:0,elapsedTime:0,pseudoElement:0}),_j=mn(bj),Nj=Ye({},Ra,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Sj=mn(Nj),Tj=Ye({},Ra,{data:0}),Ix=mn(Tj),Ej={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ij(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=kj[t])?!!e[t]:!1}function Np(){return Ij}var Cj=Ye({},El,{key:function(t){if(t.key){var e=Ej[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Fc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Np,charCode:function(t){return t.type==="keypress"?Fc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Aj=mn(Cj),Pj=Ye({},pd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cx=mn(Pj),Rj=Ye({},El,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Np}),Dj=mn(Rj),Vj=Ye({},Ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lj=mn(Vj),Mj=Ye({},pd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Oj=mn(Mj),Fj=[9,13,27,32],Sp=Ss&&"CompositionEvent"in window,Co=null;Ss&&"documentMode"in document&&(Co=document.documentMode);var Uj=Ss&&"TextEvent"in window&&!Co,eb=Ss&&(!Sp||Co&&8<Co&&11>=Co),Ax=" ",Px=!1;function tb(t,e){switch(t){case"keyup":return Fj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $i=!1;function $j(t,e){switch(t){case"compositionend":return nb(e);case"keypress":return e.which!==32?null:(Px=!0,Ax);case"textInput":return t=e.data,t===Ax&&Px?null:t;default:return null}}function Bj(t,e){if($i)return t==="compositionend"||!Sp&&tb(t,e)?(t=Z1(),Oc=bp=sr=null,$i=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return eb&&e.locale!=="ko"?null:e.data;default:return null}}var zj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!zj[t.type]:e==="textarea"}function sb(t,e,n,s){D1(s),e=pu(e,"onChange"),0<e.length&&(n=new _p("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var Ao=null,el=null;function Hj(t){mb(t,0)}function gd(t){var e=Hi(t);if(j1(e))return t}function Wj(t,e){if(t==="change")return e}var rb=!1;if(Ss){var Dh;if(Ss){var Vh="oninput"in document;if(!Vh){var Dx=document.createElement("div");Dx.setAttribute("oninput","return;"),Vh=typeof Dx.oninput=="function"}Dh=Vh}else Dh=!1;rb=Dh&&(!document.documentMode||9<document.documentMode)}function Vx(){Ao&&(Ao.detachEvent("onpropertychange",ib),el=Ao=null)}function ib(t){if(t.propertyName==="value"&&gd(el)){var e=[];sb(e,el,t,gp(t)),O1(Hj,e)}}function qj(t,e,n){t==="focusin"?(Vx(),Ao=e,el=n,Ao.attachEvent("onpropertychange",ib)):t==="focusout"&&Vx()}function Gj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gd(el)}function Kj(t,e){if(t==="click")return gd(e)}function Yj(t,e){if(t==="input"||t==="change")return gd(e)}function Qj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Fn=typeof Object.is=="function"?Object.is:Qj;function tl(t,e){if(Fn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!Ef.call(e,r)||!Fn(t[r],e[r]))return!1}return!0}function Lx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mx(t,e){var n=Lx(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Lx(n)}}function ab(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ab(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ob(){for(var t=window,e=lu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=lu(t.document)}return e}function Tp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Jj(t){var e=ob(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ab(n.ownerDocument.documentElement,n)){if(s!==null&&Tp(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,a=Math.min(s.start,r);s=s.end===void 0?a:Math.min(s.end,r),!t.extend&&a>s&&(r=s,s=a,a=r),r=Mx(n,a);var o=Mx(n,s);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),a>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Xj=Ss&&"documentMode"in document&&11>=document.documentMode,Bi=null,Wf=null,Po=null,qf=!1;function Ox(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qf||Bi==null||Bi!==lu(s)||(s=Bi,"selectionStart"in s&&Tp(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Po&&tl(Po,s)||(Po=s,s=pu(Wf,"onSelect"),0<s.length&&(e=new _p("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=Bi)))}function gc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zi={animationend:gc("Animation","AnimationEnd"),animationiteration:gc("Animation","AnimationIteration"),animationstart:gc("Animation","AnimationStart"),transitionend:gc("Transition","TransitionEnd")},Lh={},lb={};Ss&&(lb=document.createElement("div").style,"AnimationEvent"in window||(delete zi.animationend.animation,delete zi.animationiteration.animation,delete zi.animationstart.animation),"TransitionEvent"in window||delete zi.transitionend.transition);function yd(t){if(Lh[t])return Lh[t];if(!zi[t])return t;var e=zi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in lb)return Lh[t]=e[n];return t}var cb=yd("animationend"),ub=yd("animationiteration"),db=yd("animationstart"),hb=yd("transitionend"),fb=new Map,Fx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(t,e){fb.set(t,e),Si(e,[t])}for(var Mh=0;Mh<Fx.length;Mh++){var Oh=Fx[Mh],Zj=Oh.toLowerCase(),ek=Oh[0].toUpperCase()+Oh.slice(1);Rr(Zj,"on"+ek)}Rr(cb,"onAnimationEnd");Rr(ub,"onAnimationIteration");Rr(db,"onAnimationStart");Rr("dblclick","onDoubleClick");Rr("focusin","onFocus");Rr("focusout","onBlur");Rr(hb,"onTransitionEnd");fa("onMouseEnter",["mouseout","mouseover"]);fa("onMouseLeave",["mouseout","mouseover"]);fa("onPointerEnter",["pointerout","pointerover"]);fa("onPointerLeave",["pointerout","pointerover"]);Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Si("onBeforeInput",["compositionend","keypress","textInput","paste"]);Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tk=new Set("cancel close invalid load scroll toggle".split(" ").concat(wo));function Ux(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,ZE(s,e,void 0,t),t.currentTarget=null}function mb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],r=s.event;s=s.listeners;e:{var a=void 0;if(e)for(var o=s.length-1;0<=o;o--){var l=s[o],u=l.instance,d=l.currentTarget;if(l=l.listener,u!==a&&r.isPropagationStopped())break e;Ux(r,l,d),a=u}else for(o=0;o<s.length;o++){if(l=s[o],u=l.instance,d=l.currentTarget,l=l.listener,u!==a&&r.isPropagationStopped())break e;Ux(r,l,d),a=u}}}if(uu)throw t=$f,uu=!1,$f=null,t}function Fe(t,e){var n=e[Jf];n===void 0&&(n=e[Jf]=new Set);var s=t+"__bubble";n.has(s)||(pb(e,t,2,!1),n.add(s))}function Fh(t,e,n){var s=0;e&&(s|=4),pb(n,t,s,e)}var yc="_reactListening"+Math.random().toString(36).slice(2);function nl(t){if(!t[yc]){t[yc]=!0,_1.forEach(function(n){n!=="selectionchange"&&(tk.has(n)||Fh(n,!1,t),Fh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[yc]||(e[yc]=!0,Fh("selectionchange",!1,e))}}function pb(t,e,n,s){switch(X1(e)){case 1:var r=pj;break;case 4:r=gj;break;default:r=wp}n=r.bind(null,e,n,t),r=void 0,!Uf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Uh(t,e,n,s,r){var a=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(o===4)for(o=s.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===r||u.nodeType===8&&u.parentNode===r))return;o=o.return}for(;l!==null;){if(o=ei(l),o===null)return;if(u=o.tag,u===5||u===6){s=a=o;continue e}l=l.parentNode}}s=s.return}O1(function(){var d=a,f=gp(n),h=[];e:{var p=fb.get(t);if(p!==void 0){var v=_p,T=t;switch(t){case"keypress":if(Fc(n)===0)break e;case"keydown":case"keyup":v=Aj;break;case"focusin":T="focus",v=Rh;break;case"focusout":T="blur",v=Rh;break;case"beforeblur":case"afterblur":v=Rh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=kx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=vj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Dj;break;case cb:case ub:case db:v=_j;break;case hb:v=Lj;break;case"scroll":v=yj;break;case"wheel":v=Oj;break;case"copy":case"cut":case"paste":v=Sj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Cx}var S=(e&4)!==0,I=!S&&t==="scroll",N=S?p!==null?p+"Capture":null:p;S=[];for(var y=d,b;y!==null;){b=y;var D=b.stateNode;if(b.tag===5&&D!==null&&(b=D,N!==null&&(D=Qo(y,N),D!=null&&S.push(sl(y,D,b)))),I)break;y=y.return}0<S.length&&(p=new v(p,T,null,n,f),h.push({event:p,listeners:S}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&n!==Of&&(T=n.relatedTarget||n.fromElement)&&(ei(T)||T[Ts]))break e;if((v||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,v?(T=n.relatedTarget||n.toElement,v=d,T=T?ei(T):null,T!==null&&(I=Ti(T),T!==I||T.tag!==5&&T.tag!==6)&&(T=null)):(v=null,T=d),v!==T)){if(S=kx,D="onMouseLeave",N="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(S=Cx,D="onPointerLeave",N="onPointerEnter",y="pointer"),I=v==null?p:Hi(v),b=T==null?p:Hi(T),p=new S(D,y+"leave",v,n,f),p.target=I,p.relatedTarget=b,D=null,ei(f)===d&&(S=new S(N,y+"enter",T,n,f),S.target=b,S.relatedTarget=I,D=S),I=D,v&&T)t:{for(S=v,N=T,y=0,b=S;b;b=Di(b))y++;for(b=0,D=N;D;D=Di(D))b++;for(;0<y-b;)S=Di(S),y--;for(;0<b-y;)N=Di(N),b--;for(;y--;){if(S===N||N!==null&&S===N.alternate)break t;S=Di(S),N=Di(N)}S=null}else S=null;v!==null&&$x(h,p,v,S,!1),T!==null&&I!==null&&$x(h,I,T,S,!0)}}e:{if(p=d?Hi(d):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var M=Wj;else if(Rx(p))if(rb)M=Yj;else{M=Gj;var z=qj}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(M=Kj);if(M&&(M=M(t,d))){sb(h,M,n,f);break e}z&&z(t,p,d),t==="focusout"&&(z=p._wrapperState)&&z.controlled&&p.type==="number"&&Rf(p,"number",p.value)}switch(z=d?Hi(d):window,t){case"focusin":(Rx(z)||z.contentEditable==="true")&&(Bi=z,Wf=d,Po=null);break;case"focusout":Po=Wf=Bi=null;break;case"mousedown":qf=!0;break;case"contextmenu":case"mouseup":case"dragend":qf=!1,Ox(h,n,f);break;case"selectionchange":if(Xj)break;case"keydown":case"keyup":Ox(h,n,f)}var k;if(Sp)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else $i?tb(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(eb&&n.locale!=="ko"&&($i||_!=="onCompositionStart"?_==="onCompositionEnd"&&$i&&(k=Z1()):(sr=f,bp="value"in sr?sr.value:sr.textContent,$i=!0)),z=pu(d,_),0<z.length&&(_=new Ix(_,t,null,n,f),h.push({event:_,listeners:z}),k?_.data=k:(k=nb(n),k!==null&&(_.data=k)))),(k=Uj?$j(t,n):Bj(t,n))&&(d=pu(d,"onBeforeInput"),0<d.length&&(f=new Ix("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:d}),f.data=k))}mb(h,e)})}function sl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function pu(t,e){for(var n=e+"Capture",s=[];t!==null;){var r=t,a=r.stateNode;r.tag===5&&a!==null&&(r=a,a=Qo(t,n),a!=null&&s.unshift(sl(t,a,r)),a=Qo(t,e),a!=null&&s.push(sl(t,a,r))),t=t.return}return s}function Di(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $x(t,e,n,s,r){for(var a=e._reactName,o=[];n!==null&&n!==s;){var l=n,u=l.alternate,d=l.stateNode;if(u!==null&&u===s)break;l.tag===5&&d!==null&&(l=d,r?(u=Qo(n,a),u!=null&&o.unshift(sl(n,u,l))):r||(u=Qo(n,a),u!=null&&o.push(sl(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var nk=/\r\n?/g,sk=/\u0000|\uFFFD/g;function Bx(t){return(typeof t=="string"?t:""+t).replace(nk,`
`).replace(sk,"")}function xc(t,e,n){if(e=Bx(e),Bx(t)!==e&&n)throw Error(K(425))}function gu(){}var Gf=null,Kf=null;function Yf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Qf=typeof setTimeout=="function"?setTimeout:void 0,rk=typeof clearTimeout=="function"?clearTimeout:void 0,zx=typeof Promise=="function"?Promise:void 0,ik=typeof queueMicrotask=="function"?queueMicrotask:typeof zx<"u"?function(t){return zx.resolve(null).then(t).catch(ak)}:Qf;function ak(t){setTimeout(function(){throw t})}function $h(t,e){var n=e,s=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){t.removeChild(r),Zo(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);Zo(e)}function cr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Hx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Da=Math.random().toString(36).slice(2),Yn="__reactFiber$"+Da,rl="__reactProps$"+Da,Ts="__reactContainer$"+Da,Jf="__reactEvents$"+Da,ok="__reactListeners$"+Da,lk="__reactHandles$"+Da;function ei(t){var e=t[Yn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ts]||n[Yn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Hx(t);t!==null;){if(n=t[Yn])return n;t=Hx(t)}return e}t=n,n=t.parentNode}return null}function jl(t){return t=t[Yn]||t[Ts],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function xd(t){return t[rl]||null}var Xf=[],Wi=-1;function Dr(t){return{current:t}}function Be(t){0>Wi||(t.current=Xf[Wi],Xf[Wi]=null,Wi--)}function Ve(t,e){Wi++,Xf[Wi]=t.current,t.current=e}var _r={},Ft=Dr(_r),Jt=Dr(!1),hi=_r;function ma(t,e){var n=t.type.contextTypes;if(!n)return _r;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var r={},a;for(a in n)r[a]=e[a];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Xt(t){return t=t.childContextTypes,t!=null}function yu(){Be(Jt),Be(Ft)}function Wx(t,e,n){if(Ft.current!==_r)throw Error(K(168));Ve(Ft,e),Ve(Jt,n)}function gb(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in e))throw Error(K(108,qE(t)||"Unknown",r));return Ye({},n,s)}function xu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||_r,hi=Ft.current,Ve(Ft,t),Ve(Jt,Jt.current),!0}function qx(t,e,n){var s=t.stateNode;if(!s)throw Error(K(169));n?(t=gb(t,e,hi),s.__reactInternalMemoizedMergedChildContext=t,Be(Jt),Be(Ft),Ve(Ft,t)):Be(Jt),Ve(Jt,n)}var cs=null,vd=!1,Bh=!1;function yb(t){cs===null?cs=[t]:cs.push(t)}function ck(t){vd=!0,yb(t)}function Vr(){if(!Bh&&cs!==null){Bh=!0;var t=0,e=Ce;try{var n=cs;for(Ce=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}cs=null,vd=!1}catch(r){throw cs!==null&&(cs=cs.slice(t+1)),B1(yp,Vr),r}finally{Ce=e,Bh=!1}}return null}var qi=[],Gi=0,vu=null,wu=0,yn=[],xn=0,fi=null,ds=1,hs="";function Kr(t,e){qi[Gi++]=wu,qi[Gi++]=vu,vu=t,wu=e}function xb(t,e,n){yn[xn++]=ds,yn[xn++]=hs,yn[xn++]=fi,fi=t;var s=ds;t=hs;var r=32-Vn(s)-1;s&=~(1<<r),n+=1;var a=32-Vn(e)+r;if(30<a){var o=r-r%5;a=(s&(1<<o)-1).toString(32),s>>=o,r-=o,ds=1<<32-Vn(e)+r|n<<r|s,hs=a+t}else ds=1<<a|n<<r|s,hs=t}function Ep(t){t.return!==null&&(Kr(t,1),xb(t,1,0))}function jp(t){for(;t===vu;)vu=qi[--Gi],qi[Gi]=null,wu=qi[--Gi],qi[Gi]=null;for(;t===fi;)fi=yn[--xn],yn[xn]=null,hs=yn[--xn],yn[xn]=null,ds=yn[--xn],yn[xn]=null}var cn=null,on=null,We=!1,Rn=null;function vb(t,e){var n=wn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Gx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,cn=t,on=cr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,cn=t,on=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=fi!==null?{id:ds,overflow:hs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=wn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,cn=t,on=null,!0):!1;default:return!1}}function Zf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function em(t){if(We){var e=on;if(e){var n=e;if(!Gx(t,e)){if(Zf(t))throw Error(K(418));e=cr(n.nextSibling);var s=cn;e&&Gx(t,e)?vb(s,n):(t.flags=t.flags&-4097|2,We=!1,cn=t)}}else{if(Zf(t))throw Error(K(418));t.flags=t.flags&-4097|2,We=!1,cn=t}}}function Kx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;cn=t}function vc(t){if(t!==cn)return!1;if(!We)return Kx(t),We=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Yf(t.type,t.memoizedProps)),e&&(e=on)){if(Zf(t))throw wb(),Error(K(418));for(;e;)vb(t,e),e=cr(e.nextSibling)}if(Kx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){on=cr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}on=null}}else on=cn?cr(t.stateNode.nextSibling):null;return!0}function wb(){for(var t=on;t;)t=cr(t.nextSibling)}function pa(){on=cn=null,We=!1}function kp(t){Rn===null?Rn=[t]:Rn.push(t)}var uk=Rs.ReactCurrentBatchConfig;function ho(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var s=n.stateNode}if(!s)throw Error(K(147,t));var r=s,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=r.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function wc(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Yx(t){var e=t._init;return e(t._payload)}function bb(t){function e(N,y){if(t){var b=N.deletions;b===null?(N.deletions=[y],N.flags|=16):b.push(y)}}function n(N,y){if(!t)return null;for(;y!==null;)e(N,y),y=y.sibling;return null}function s(N,y){for(N=new Map;y!==null;)y.key!==null?N.set(y.key,y):N.set(y.index,y),y=y.sibling;return N}function r(N,y){return N=fr(N,y),N.index=0,N.sibling=null,N}function a(N,y,b){return N.index=b,t?(b=N.alternate,b!==null?(b=b.index,b<y?(N.flags|=2,y):b):(N.flags|=2,y)):(N.flags|=1048576,y)}function o(N){return t&&N.alternate===null&&(N.flags|=2),N}function l(N,y,b,D){return y===null||y.tag!==6?(y=Yh(b,N.mode,D),y.return=N,y):(y=r(y,b),y.return=N,y)}function u(N,y,b,D){var M=b.type;return M===Ui?f(N,y,b.props.children,D,b.key):y!==null&&(y.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ks&&Yx(M)===y.type)?(D=r(y,b.props),D.ref=ho(N,y,b),D.return=N,D):(D=qc(b.type,b.key,b.props,null,N.mode,D),D.ref=ho(N,y,b),D.return=N,D)}function d(N,y,b,D){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Qh(b,N.mode,D),y.return=N,y):(y=r(y,b.children||[]),y.return=N,y)}function f(N,y,b,D,M){return y===null||y.tag!==7?(y=oi(b,N.mode,D,M),y.return=N,y):(y=r(y,b),y.return=N,y)}function h(N,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Yh(""+y,N.mode,b),y.return=N,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case cc:return b=qc(y.type,y.key,y.props,null,N.mode,b),b.ref=ho(N,null,y),b.return=N,b;case Fi:return y=Qh(y,N.mode,b),y.return=N,y;case Ks:var D=y._init;return h(N,D(y._payload),b)}if(xo(y)||ao(y))return y=oi(y,N.mode,b,null),y.return=N,y;wc(N,y)}return null}function p(N,y,b,D){var M=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return M!==null?null:l(N,y,""+b,D);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case cc:return b.key===M?u(N,y,b,D):null;case Fi:return b.key===M?d(N,y,b,D):null;case Ks:return M=b._init,p(N,y,M(b._payload),D)}if(xo(b)||ao(b))return M!==null?null:f(N,y,b,D,null);wc(N,b)}return null}function v(N,y,b,D,M){if(typeof D=="string"&&D!==""||typeof D=="number")return N=N.get(b)||null,l(y,N,""+D,M);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case cc:return N=N.get(D.key===null?b:D.key)||null,u(y,N,D,M);case Fi:return N=N.get(D.key===null?b:D.key)||null,d(y,N,D,M);case Ks:var z=D._init;return v(N,y,b,z(D._payload),M)}if(xo(D)||ao(D))return N=N.get(b)||null,f(y,N,D,M,null);wc(y,D)}return null}function T(N,y,b,D){for(var M=null,z=null,k=y,_=y=0,E=null;k!==null&&_<b.length;_++){k.index>_?(E=k,k=null):E=k.sibling;var A=p(N,k,b[_],D);if(A===null){k===null&&(k=E);break}t&&k&&A.alternate===null&&e(N,k),y=a(A,y,_),z===null?M=A:z.sibling=A,z=A,k=E}if(_===b.length)return n(N,k),We&&Kr(N,_),M;if(k===null){for(;_<b.length;_++)k=h(N,b[_],D),k!==null&&(y=a(k,y,_),z===null?M=k:z.sibling=k,z=k);return We&&Kr(N,_),M}for(k=s(N,k);_<b.length;_++)E=v(k,N,_,b[_],D),E!==null&&(t&&E.alternate!==null&&k.delete(E.key===null?_:E.key),y=a(E,y,_),z===null?M=E:z.sibling=E,z=E);return t&&k.forEach(function(P){return e(N,P)}),We&&Kr(N,_),M}function S(N,y,b,D){var M=ao(b);if(typeof M!="function")throw Error(K(150));if(b=M.call(b),b==null)throw Error(K(151));for(var z=M=null,k=y,_=y=0,E=null,A=b.next();k!==null&&!A.done;_++,A=b.next()){k.index>_?(E=k,k=null):E=k.sibling;var P=p(N,k,A.value,D);if(P===null){k===null&&(k=E);break}t&&k&&P.alternate===null&&e(N,k),y=a(P,y,_),z===null?M=P:z.sibling=P,z=P,k=E}if(A.done)return n(N,k),We&&Kr(N,_),M;if(k===null){for(;!A.done;_++,A=b.next())A=h(N,A.value,D),A!==null&&(y=a(A,y,_),z===null?M=A:z.sibling=A,z=A);return We&&Kr(N,_),M}for(k=s(N,k);!A.done;_++,A=b.next())A=v(k,N,_,A.value,D),A!==null&&(t&&A.alternate!==null&&k.delete(A.key===null?_:A.key),y=a(A,y,_),z===null?M=A:z.sibling=A,z=A);return t&&k.forEach(function(V){return e(N,V)}),We&&Kr(N,_),M}function I(N,y,b,D){if(typeof b=="object"&&b!==null&&b.type===Ui&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case cc:e:{for(var M=b.key,z=y;z!==null;){if(z.key===M){if(M=b.type,M===Ui){if(z.tag===7){n(N,z.sibling),y=r(z,b.props.children),y.return=N,N=y;break e}}else if(z.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ks&&Yx(M)===z.type){n(N,z.sibling),y=r(z,b.props),y.ref=ho(N,z,b),y.return=N,N=y;break e}n(N,z);break}else e(N,z);z=z.sibling}b.type===Ui?(y=oi(b.props.children,N.mode,D,b.key),y.return=N,N=y):(D=qc(b.type,b.key,b.props,null,N.mode,D),D.ref=ho(N,y,b),D.return=N,N=D)}return o(N);case Fi:e:{for(z=b.key;y!==null;){if(y.key===z)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(N,y.sibling),y=r(y,b.children||[]),y.return=N,N=y;break e}else{n(N,y);break}else e(N,y);y=y.sibling}y=Qh(b,N.mode,D),y.return=N,N=y}return o(N);case Ks:return z=b._init,I(N,y,z(b._payload),D)}if(xo(b))return T(N,y,b,D);if(ao(b))return S(N,y,b,D);wc(N,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(N,y.sibling),y=r(y,b),y.return=N,N=y):(n(N,y),y=Yh(b,N.mode,D),y.return=N,N=y),o(N)):n(N,y)}return I}var ga=bb(!0),_b=bb(!1),bu=Dr(null),_u=null,Ki=null,Ip=null;function Cp(){Ip=Ki=_u=null}function Ap(t){var e=bu.current;Be(bu),t._currentValue=e}function tm(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function ia(t,e){_u=t,Ip=Ki=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Qt=!0),t.firstContext=null)}function Nn(t){var e=t._currentValue;if(Ip!==t)if(t={context:t,memoizedValue:e,next:null},Ki===null){if(_u===null)throw Error(K(308));Ki=t,_u.dependencies={lanes:0,firstContext:t}}else Ki=Ki.next=t;return e}var ti=null;function Pp(t){ti===null?ti=[t]:ti.push(t)}function Nb(t,e,n,s){var r=e.interleaved;return r===null?(n.next=n,Pp(e)):(n.next=r.next,r.next=n),e.interleaved=n,Es(t,s)}function Es(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ys=!1;function Rp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ur(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,Ne&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,Es(t,n)}return r=s.interleaved,r===null?(e.next=e,Pp(s)):(e.next=r.next,r.next=e),s.interleaved=e,Es(t,n)}function Uc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,xp(t,n)}}function Qx(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?r=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?r=a=e:a=a.next=e}else r=a=e;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Nu(t,e,n,s){var r=t.updateQueue;Ys=!1;var a=r.firstBaseUpdate,o=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var u=l,d=u.next;u.next=null,o===null?a=d:o.next=d,o=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=d:l.next=d,f.lastBaseUpdate=u))}if(a!==null){var h=r.baseState;o=0,f=d=u=null,l=a;do{var p=l.lane,v=l.eventTime;if((s&p)===p){f!==null&&(f=f.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var T=t,S=l;switch(p=e,v=n,S.tag){case 1:if(T=S.payload,typeof T=="function"){h=T.call(v,h,p);break e}h=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=S.payload,p=typeof T=="function"?T.call(v,h,p):T,p==null)break e;h=Ye({},h,p);break e;case 2:Ys=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=r.effects,p===null?r.effects=[l]:p.push(l))}else v={eventTime:v,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(d=f=v,u=h):f=f.next=v,o|=p;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;p=l,l=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(f===null&&(u=h),r.baseState=u,r.firstBaseUpdate=d,r.lastBaseUpdate=f,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else a===null&&(r.shared.lanes=0);pi|=o,t.lanes=o,t.memoizedState=h}}function Jx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(K(191,r));r.call(s)}}}var kl={},Xn=Dr(kl),il=Dr(kl),al=Dr(kl);function ni(t){if(t===kl)throw Error(K(174));return t}function Dp(t,e){switch(Ve(al,e),Ve(il,t),Ve(Xn,kl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Vf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Vf(e,t)}Be(Xn),Ve(Xn,e)}function ya(){Be(Xn),Be(il),Be(al)}function Tb(t){ni(al.current);var e=ni(Xn.current),n=Vf(e,t.type);e!==n&&(Ve(il,t),Ve(Xn,n))}function Vp(t){il.current===t&&(Be(Xn),Be(il))}var qe=Dr(0);function Su(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zh=[];function Lp(){for(var t=0;t<zh.length;t++)zh[t]._workInProgressVersionPrimary=null;zh.length=0}var $c=Rs.ReactCurrentDispatcher,Hh=Rs.ReactCurrentBatchConfig,mi=0,Ke=null,pt=null,bt=null,Tu=!1,Ro=!1,ol=0,dk=0;function At(){throw Error(K(321))}function Mp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Fn(t[n],e[n]))return!1;return!0}function Op(t,e,n,s,r,a){if(mi=a,Ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$c.current=t===null||t.memoizedState===null?pk:gk,t=n(s,r),Ro){a=0;do{if(Ro=!1,ol=0,25<=a)throw Error(K(301));a+=1,bt=pt=null,e.updateQueue=null,$c.current=yk,t=n(s,r)}while(Ro)}if($c.current=Eu,e=pt!==null&&pt.next!==null,mi=0,bt=pt=Ke=null,Tu=!1,e)throw Error(K(300));return t}function Fp(){var t=ol!==0;return ol=0,t}function Gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Ke.memoizedState=bt=t:bt=bt.next=t,bt}function Sn(){if(pt===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var e=bt===null?Ke.memoizedState:bt.next;if(e!==null)bt=e,pt=t;else{if(t===null)throw Error(K(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},bt===null?Ke.memoizedState=bt=t:bt=bt.next=t}return bt}function ll(t,e){return typeof e=="function"?e(t):e}function Wh(t){var e=Sn(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var s=pt,r=s.baseQueue,a=n.pending;if(a!==null){if(r!==null){var o=r.next;r.next=a.next,a.next=o}s.baseQueue=r=a,n.pending=null}if(r!==null){a=r.next,s=s.baseState;var l=o=null,u=null,d=a;do{var f=d.lane;if((mi&f)===f)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:t(s,d.action);else{var h={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(l=u=h,o=s):u=u.next=h,Ke.lanes|=f,pi|=f}d=d.next}while(d!==null&&d!==a);u===null?o=s:u.next=l,Fn(s,e.memoizedState)||(Qt=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=u,n.lastRenderedState=s}if(t=n.interleaved,t!==null){r=t;do a=r.lane,Ke.lanes|=a,pi|=a,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function qh(t){var e=Sn(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var s=n.dispatch,r=n.pending,a=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do a=t(a,o.action),o=o.next;while(o!==r);Fn(a,e.memoizedState)||(Qt=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,s]}function Eb(){}function jb(t,e){var n=Ke,s=Sn(),r=e(),a=!Fn(s.memoizedState,r);if(a&&(s.memoizedState=r,Qt=!0),s=s.queue,Up(Cb.bind(null,n,s,t),[t]),s.getSnapshot!==e||a||bt!==null&&bt.memoizedState.tag&1){if(n.flags|=2048,cl(9,Ib.bind(null,n,s,r,e),void 0,null),_t===null)throw Error(K(349));mi&30||kb(n,e,r)}return r}function kb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Ib(t,e,n,s){e.value=n,e.getSnapshot=s,Ab(e)&&Pb(t)}function Cb(t,e,n){return n(function(){Ab(e)&&Pb(t)})}function Ab(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Fn(t,n)}catch{return!0}}function Pb(t){var e=Es(t,1);e!==null&&Ln(e,t,1,-1)}function Xx(t){var e=Gn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ll,lastRenderedState:t},e.queue=t,t=t.dispatch=mk.bind(null,Ke,t),[e.memoizedState,t]}function cl(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function Rb(){return Sn().memoizedState}function Bc(t,e,n,s){var r=Gn();Ke.flags|=t,r.memoizedState=cl(1|e,n,void 0,s===void 0?null:s)}function wd(t,e,n,s){var r=Sn();s=s===void 0?null:s;var a=void 0;if(pt!==null){var o=pt.memoizedState;if(a=o.destroy,s!==null&&Mp(s,o.deps)){r.memoizedState=cl(e,n,a,s);return}}Ke.flags|=t,r.memoizedState=cl(1|e,n,a,s)}function Zx(t,e){return Bc(8390656,8,t,e)}function Up(t,e){return wd(2048,8,t,e)}function Db(t,e){return wd(4,2,t,e)}function Vb(t,e){return wd(4,4,t,e)}function Lb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Mb(t,e,n){return n=n!=null?n.concat([t]):null,wd(4,4,Lb.bind(null,e,t),n)}function $p(){}function Ob(t,e){var n=Sn();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Mp(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function Fb(t,e){var n=Sn();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Mp(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function Ub(t,e,n){return mi&21?(Fn(n,e)||(n=W1(),Ke.lanes|=n,pi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Qt=!0),t.memoizedState=n)}function hk(t,e){var n=Ce;Ce=n!==0&&4>n?n:4,t(!0);var s=Hh.transition;Hh.transition={};try{t(!1),e()}finally{Ce=n,Hh.transition=s}}function $b(){return Sn().memoizedState}function fk(t,e,n){var s=hr(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Bb(t))zb(e,n);else if(n=Nb(t,e,n,s),n!==null){var r=zt();Ln(n,t,s,r),Hb(n,e,s)}}function mk(t,e,n){var s=hr(t),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bb(t))zb(e,r);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,n);if(r.hasEagerState=!0,r.eagerState=l,Fn(l,o)){var u=e.interleaved;u===null?(r.next=r,Pp(e)):(r.next=u.next,u.next=r),e.interleaved=r;return}}catch{}finally{}n=Nb(t,e,r,s),n!==null&&(r=zt(),Ln(n,t,s,r),Hb(n,e,s))}}function Bb(t){var e=t.alternate;return t===Ke||e!==null&&e===Ke}function zb(t,e){Ro=Tu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Hb(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,xp(t,n)}}var Eu={readContext:Nn,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useInsertionEffect:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useSyncExternalStore:At,useId:At,unstable_isNewReconciler:!1},pk={readContext:Nn,useCallback:function(t,e){return Gn().memoizedState=[t,e===void 0?null:e],t},useContext:Nn,useEffect:Zx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Bc(4194308,4,Lb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Bc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Bc(4,2,t,e)},useMemo:function(t,e){var n=Gn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=Gn();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=fk.bind(null,Ke,t),[s.memoizedState,t]},useRef:function(t){var e=Gn();return t={current:t},e.memoizedState=t},useState:Xx,useDebugValue:$p,useDeferredValue:function(t){return Gn().memoizedState=t},useTransition:function(){var t=Xx(!1),e=t[0];return t=hk.bind(null,t[1]),Gn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=Ke,r=Gn();if(We){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),_t===null)throw Error(K(349));mi&30||kb(s,e,n)}r.memoizedState=n;var a={value:n,getSnapshot:e};return r.queue=a,Zx(Cb.bind(null,s,a,t),[t]),s.flags|=2048,cl(9,Ib.bind(null,s,a,n,e),void 0,null),n},useId:function(){var t=Gn(),e=_t.identifierPrefix;if(We){var n=hs,s=ds;n=(s&~(1<<32-Vn(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=ol++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=dk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},gk={readContext:Nn,useCallback:Ob,useContext:Nn,useEffect:Up,useImperativeHandle:Mb,useInsertionEffect:Db,useLayoutEffect:Vb,useMemo:Fb,useReducer:Wh,useRef:Rb,useState:function(){return Wh(ll)},useDebugValue:$p,useDeferredValue:function(t){var e=Sn();return Ub(e,pt.memoizedState,t)},useTransition:function(){var t=Wh(ll)[0],e=Sn().memoizedState;return[t,e]},useMutableSource:Eb,useSyncExternalStore:jb,useId:$b,unstable_isNewReconciler:!1},yk={readContext:Nn,useCallback:Ob,useContext:Nn,useEffect:Up,useImperativeHandle:Mb,useInsertionEffect:Db,useLayoutEffect:Vb,useMemo:Fb,useReducer:qh,useRef:Rb,useState:function(){return qh(ll)},useDebugValue:$p,useDeferredValue:function(t){var e=Sn();return pt===null?e.memoizedState=t:Ub(e,pt.memoizedState,t)},useTransition:function(){var t=qh(ll)[0],e=Sn().memoizedState;return[t,e]},useMutableSource:Eb,useSyncExternalStore:jb,useId:$b,unstable_isNewReconciler:!1};function An(t,e){if(t&&t.defaultProps){e=Ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function nm(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:Ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var bd={isMounted:function(t){return(t=t._reactInternals)?Ti(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=zt(),r=hr(t),a=gs(s,r);a.payload=e,n!=null&&(a.callback=n),e=ur(t,a,r),e!==null&&(Ln(e,t,r,s),Uc(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=zt(),r=hr(t),a=gs(s,r);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=ur(t,a,r),e!==null&&(Ln(e,t,r,s),Uc(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=zt(),s=hr(t),r=gs(n,s);r.tag=2,e!=null&&(r.callback=e),e=ur(t,r,s),e!==null&&(Ln(e,t,s,n),Uc(e,t,s))}};function e0(t,e,n,s,r,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,a,o):e.prototype&&e.prototype.isPureReactComponent?!tl(n,s)||!tl(r,a):!0}function Wb(t,e,n){var s=!1,r=_r,a=e.contextType;return typeof a=="object"&&a!==null?a=Nn(a):(r=Xt(e)?hi:Ft.current,s=e.contextTypes,a=(s=s!=null)?ma(t,r):_r),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bd,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=a),e}function t0(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&bd.enqueueReplaceState(e,e.state,null)}function sm(t,e,n,s){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Rp(t);var a=e.contextType;typeof a=="object"&&a!==null?r.context=Nn(a):(a=Xt(e)?hi:Ft.current,r.context=ma(t,a)),r.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(nm(t,e,a,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&bd.enqueueReplaceState(r,r.state,null),Nu(t,n,r,s),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function xa(t,e){try{var n="",s=e;do n+=WE(s),s=s.return;while(s);var r=n}catch(a){r=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:r,digest:null}}function Gh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function rm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var xk=typeof WeakMap=="function"?WeakMap:Map;function qb(t,e,n){n=gs(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){ku||(ku=!0,mm=s),rm(t,e)},n}function Gb(t,e,n){n=gs(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var r=e.value;n.payload=function(){return s(r)},n.callback=function(){rm(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){rm(t,e),typeof s!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function n0(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new xk;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(n)||(r.add(n),t=Pk.bind(null,t,e,n),e.then(t,t))}function s0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function r0(t,e,n,s,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gs(-1,1),e.tag=2,ur(n,e,1))),n.lanes|=1),t)}var vk=Rs.ReactCurrentOwner,Qt=!1;function Bt(t,e,n,s){e.child=t===null?_b(e,null,n,s):ga(e,t.child,n,s)}function i0(t,e,n,s,r){n=n.render;var a=e.ref;return ia(e,r),s=Op(t,e,n,s,a,r),n=Fp(),t!==null&&!Qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,js(t,e,r)):(We&&n&&Ep(e),e.flags|=1,Bt(t,e,s,r),e.child)}function a0(t,e,n,s,r){if(t===null){var a=n.type;return typeof a=="function"&&!Yp(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,Kb(t,e,a,s,r)):(t=qc(n.type,null,s,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&r)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:tl,n(o,s)&&t.ref===e.ref)return js(t,e,r)}return e.flags|=1,t=fr(a,s),t.ref=e.ref,t.return=e,e.child=t}function Kb(t,e,n,s,r){if(t!==null){var a=t.memoizedProps;if(tl(a,s)&&t.ref===e.ref)if(Qt=!1,e.pendingProps=s=a,(t.lanes&r)!==0)t.flags&131072&&(Qt=!0);else return e.lanes=t.lanes,js(t,e,r)}return im(t,e,n,s,r)}function Yb(t,e,n){var s=e.pendingProps,r=s.children,a=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(Qi,nn),nn|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ve(Qi,nn),nn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,Ve(Qi,nn),nn|=s}else a!==null?(s=a.baseLanes|n,e.memoizedState=null):s=n,Ve(Qi,nn),nn|=s;return Bt(t,e,r,n),e.child}function Qb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function im(t,e,n,s,r){var a=Xt(n)?hi:Ft.current;return a=ma(e,a),ia(e,r),n=Op(t,e,n,s,a,r),s=Fp(),t!==null&&!Qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,js(t,e,r)):(We&&s&&Ep(e),e.flags|=1,Bt(t,e,n,r),e.child)}function o0(t,e,n,s,r){if(Xt(n)){var a=!0;xu(e)}else a=!1;if(ia(e,r),e.stateNode===null)zc(t,e),Wb(e,n,s),sm(e,n,s,r),s=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Nn(d):(d=Xt(n)?hi:Ft.current,d=ma(e,d));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||u!==d)&&t0(e,o,s,d),Ys=!1;var p=e.memoizedState;o.state=p,Nu(e,s,o,r),u=e.memoizedState,l!==s||p!==u||Jt.current||Ys?(typeof f=="function"&&(nm(e,n,f,s),u=e.memoizedState),(l=Ys||e0(e,n,l,s,p,u,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=u),o.props=s,o.state=u,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,Sb(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:An(e.type,l),o.props=d,h=e.pendingProps,p=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Nn(u):(u=Xt(n)?hi:Ft.current,u=ma(e,u));var v=n.getDerivedStateFromProps;(f=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||p!==u)&&t0(e,o,s,u),Ys=!1,p=e.memoizedState,o.state=p,Nu(e,s,o,r);var T=e.memoizedState;l!==h||p!==T||Jt.current||Ys?(typeof v=="function"&&(nm(e,n,v,s),T=e.memoizedState),(d=Ys||e0(e,n,d,s,p,T,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,T,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,T,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=T),o.props=s,o.state=T,o.context=u,s=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),s=!1)}return am(t,e,n,s,a,r)}function am(t,e,n,s,r,a){Qb(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return r&&qx(e,n,!1),js(t,e,a);s=e.stateNode,vk.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=ga(e,t.child,null,a),e.child=ga(e,null,l,a)):Bt(t,e,l,a),e.memoizedState=s.state,r&&qx(e,n,!0),e.child}function Jb(t){var e=t.stateNode;e.pendingContext?Wx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Wx(t,e.context,!1),Dp(t,e.containerInfo)}function l0(t,e,n,s,r){return pa(),kp(r),e.flags|=256,Bt(t,e,n,s),e.child}var om={dehydrated:null,treeContext:null,retryLane:0};function lm(t){return{baseLanes:t,cachePool:null,transitions:null}}function Xb(t,e,n){var s=e.pendingProps,r=qe.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(r&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Ve(qe,r&1),t===null)return em(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,a?(s=e.mode,a=e.child,o={mode:"hidden",children:o},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Sd(o,s,0,null),t=oi(t,s,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=lm(n),e.memoizedState=om,t):Bp(e,o));if(r=t.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return wk(t,e,o,s,l,r,n);if(a){a=s.fallback,o=e.mode,r=t.child,l=r.sibling;var u={mode:"hidden",children:s.children};return!(o&1)&&e.child!==r?(s=e.child,s.childLanes=0,s.pendingProps=u,e.deletions=null):(s=fr(r,u),s.subtreeFlags=r.subtreeFlags&14680064),l!==null?a=fr(l,a):(a=oi(a,o,n,null),a.flags|=2),a.return=e,s.return=e,s.sibling=a,e.child=s,s=a,a=e.child,o=t.child.memoizedState,o=o===null?lm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=om,s}return a=t.child,t=a.sibling,s=fr(a,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function Bp(t,e){return e=Sd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function bc(t,e,n,s){return s!==null&&kp(s),ga(e,t.child,null,n),t=Bp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function wk(t,e,n,s,r,a,o){if(n)return e.flags&256?(e.flags&=-257,s=Gh(Error(K(422))),bc(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=s.fallback,r=e.mode,s=Sd({mode:"visible",children:s.children},r,0,null),a=oi(a,r,o,null),a.flags|=2,s.return=e,a.return=e,s.sibling=a,e.child=s,e.mode&1&&ga(e,t.child,null,o),e.child.memoizedState=lm(o),e.memoizedState=om,a);if(!(e.mode&1))return bc(t,e,o,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var l=s.dgst;return s=l,a=Error(K(419)),s=Gh(a,s,void 0),bc(t,e,o,s)}if(l=(o&t.childLanes)!==0,Qt||l){if(s=_t,s!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|o)?0:r,r!==0&&r!==a.retryLane&&(a.retryLane=r,Es(t,r),Ln(s,t,r,-1))}return Kp(),s=Gh(Error(K(421))),bc(t,e,o,s)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=Rk.bind(null,t),r._reactRetry=e,null):(t=a.treeContext,on=cr(r.nextSibling),cn=e,We=!0,Rn=null,t!==null&&(yn[xn++]=ds,yn[xn++]=hs,yn[xn++]=fi,ds=t.id,hs=t.overflow,fi=e),e=Bp(e,s.children),e.flags|=4096,e)}function c0(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),tm(t.return,e,n)}function Kh(t,e,n,s,r){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=r)}function Zb(t,e,n){var s=e.pendingProps,r=s.revealOrder,a=s.tail;if(Bt(t,e,s.children,n),s=qe.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&c0(t,n,e);else if(t.tag===19)c0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(Ve(qe,s),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Su(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Kh(e,!1,r,n,a);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Su(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Kh(e,!0,n,null,a);break;case"together":Kh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function zc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function js(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),pi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=fr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=fr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function bk(t,e,n){switch(e.tag){case 3:Jb(e),pa();break;case 5:Tb(e);break;case 1:Xt(e.type)&&xu(e);break;case 4:Dp(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,r=e.memoizedProps.value;Ve(bu,s._currentValue),s._currentValue=r;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(Ve(qe,qe.current&1),e.flags|=128,null):n&e.child.childLanes?Xb(t,e,n):(Ve(qe,qe.current&1),t=js(t,e,n),t!==null?t.sibling:null);Ve(qe,qe.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return Zb(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ve(qe,qe.current),s)break;return null;case 22:case 23:return e.lanes=0,Yb(t,e,n)}return js(t,e,n)}var e_,cm,t_,n_;e_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cm=function(){};t_=function(t,e,n,s){var r=t.memoizedProps;if(r!==s){t=e.stateNode,ni(Xn.current);var a=null;switch(n){case"input":r=Af(t,r),s=Af(t,s),a=[];break;case"select":r=Ye({},r,{value:void 0}),s=Ye({},s,{value:void 0}),a=[];break;case"textarea":r=Df(t,r),s=Df(t,s),a=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=gu)}Lf(n,s);var o;n=null;for(d in r)if(!s.hasOwnProperty(d)&&r.hasOwnProperty(d)&&r[d]!=null)if(d==="style"){var l=r[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ko.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in s){var u=s[d];if(l=r!=null?r[d]:void 0,s.hasOwnProperty(d)&&u!==l&&(u!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(a||(a=[]),a.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(a=a||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(a=a||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ko.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&Fe("scroll",t),a||l===u||(a=[])):(a=a||[]).push(d,u))}n&&(a=a||[]).push("style",n);var d=a;(e.updateQueue=d)&&(e.flags|=4)}};n_=function(t,e,n,s){n!==s&&(e.flags|=4)};function fo(t,e){if(!We)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Pt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function _k(t,e,n){var s=e.pendingProps;switch(jp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(e),null;case 1:return Xt(e.type)&&yu(),Pt(e),null;case 3:return s=e.stateNode,ya(),Be(Jt),Be(Ft),Lp(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(vc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Rn!==null&&(ym(Rn),Rn=null))),cm(t,e),Pt(e),null;case 5:Vp(e);var r=ni(al.current);if(n=e.type,t!==null&&e.stateNode!=null)t_(t,e,n,s,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(K(166));return Pt(e),null}if(t=ni(Xn.current),vc(e)){s=e.stateNode,n=e.type;var a=e.memoizedProps;switch(s[Yn]=e,s[rl]=a,t=(e.mode&1)!==0,n){case"dialog":Fe("cancel",s),Fe("close",s);break;case"iframe":case"object":case"embed":Fe("load",s);break;case"video":case"audio":for(r=0;r<wo.length;r++)Fe(wo[r],s);break;case"source":Fe("error",s);break;case"img":case"image":case"link":Fe("error",s),Fe("load",s);break;case"details":Fe("toggle",s);break;case"input":xx(s,a),Fe("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},Fe("invalid",s);break;case"textarea":wx(s,a),Fe("invalid",s)}Lf(n,a),r=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?s.textContent!==l&&(a.suppressHydrationWarning!==!0&&xc(s.textContent,l,t),r=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&xc(s.textContent,l,t),r=["children",""+l]):Ko.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Fe("scroll",s)}switch(n){case"input":uc(s),vx(s,a,!0);break;case"textarea":uc(s),bx(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=gu)}s=r,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=C1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(n,{is:s.is}):(t=o.createElement(n),n==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,n),t[Yn]=e,t[rl]=s,e_(t,e,!1,!1),e.stateNode=t;e:{switch(o=Mf(n,s),n){case"dialog":Fe("cancel",t),Fe("close",t),r=s;break;case"iframe":case"object":case"embed":Fe("load",t),r=s;break;case"video":case"audio":for(r=0;r<wo.length;r++)Fe(wo[r],t);r=s;break;case"source":Fe("error",t),r=s;break;case"img":case"image":case"link":Fe("error",t),Fe("load",t),r=s;break;case"details":Fe("toggle",t),r=s;break;case"input":xx(t,s),r=Af(t,s),Fe("invalid",t);break;case"option":r=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},r=Ye({},s,{value:void 0}),Fe("invalid",t);break;case"textarea":wx(t,s),r=Df(t,s),Fe("invalid",t);break;default:r=s}Lf(n,r),l=r;for(a in l)if(l.hasOwnProperty(a)){var u=l[a];a==="style"?R1(t,u):a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&A1(t,u)):a==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Yo(t,u):typeof u=="number"&&Yo(t,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ko.hasOwnProperty(a)?u!=null&&a==="onScroll"&&Fe("scroll",t):u!=null&&hp(t,a,u,o))}switch(n){case"input":uc(t),vx(t,s,!1);break;case"textarea":uc(t),bx(t);break;case"option":s.value!=null&&t.setAttribute("value",""+br(s.value));break;case"select":t.multiple=!!s.multiple,a=s.value,a!=null?ta(t,!!s.multiple,a,!1):s.defaultValue!=null&&ta(t,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=gu)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pt(e),null;case 6:if(t&&e.stateNode!=null)n_(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(K(166));if(n=ni(al.current),ni(Xn.current),vc(e)){if(s=e.stateNode,n=e.memoizedProps,s[Yn]=e,(a=s.nodeValue!==n)&&(t=cn,t!==null))switch(t.tag){case 3:xc(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xc(s.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Yn]=e,e.stateNode=s}return Pt(e),null;case 13:if(Be(qe),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(We&&on!==null&&e.mode&1&&!(e.flags&128))wb(),pa(),e.flags|=98560,a=!1;else if(a=vc(e),s!==null&&s.dehydrated!==null){if(t===null){if(!a)throw Error(K(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(K(317));a[Yn]=e}else pa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pt(e),a=!1}else Rn!==null&&(ym(Rn),Rn=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||qe.current&1?gt===0&&(gt=3):Kp())),e.updateQueue!==null&&(e.flags|=4),Pt(e),null);case 4:return ya(),cm(t,e),t===null&&nl(e.stateNode.containerInfo),Pt(e),null;case 10:return Ap(e.type._context),Pt(e),null;case 17:return Xt(e.type)&&yu(),Pt(e),null;case 19:if(Be(qe),a=e.memoizedState,a===null)return Pt(e),null;if(s=(e.flags&128)!==0,o=a.rendering,o===null)if(s)fo(a,!1);else{if(gt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Su(t),o!==null){for(e.flags|=128,fo(a,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)a=n,t=s,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ve(qe,qe.current&1|2),e.child}t=t.sibling}a.tail!==null&&nt()>va&&(e.flags|=128,s=!0,fo(a,!1),e.lanes=4194304)}else{if(!s)if(t=Su(o),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),fo(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!We)return Pt(e),null}else 2*nt()-a.renderingStartTime>va&&n!==1073741824&&(e.flags|=128,s=!0,fo(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=nt(),e.sibling=null,n=qe.current,Ve(qe,s?n&1|2:n&1),e):(Pt(e),null);case 22:case 23:return Gp(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?nn&1073741824&&(Pt(e),e.subtreeFlags&6&&(e.flags|=8192)):Pt(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function Nk(t,e){switch(jp(e),e.tag){case 1:return Xt(e.type)&&yu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ya(),Be(Jt),Be(Ft),Lp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Vp(e),null;case 13:if(Be(qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));pa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Be(qe),null;case 4:return ya(),null;case 10:return Ap(e.type._context),null;case 22:case 23:return Gp(),null;case 24:return null;default:return null}}var _c=!1,Lt=!1,Sk=typeof WeakSet=="function"?WeakSet:Set,re=null;function Yi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Xe(t,e,s)}else n.current=null}function um(t,e,n){try{n()}catch(s){Xe(t,e,s)}}var u0=!1;function Tk(t,e){if(Gf=fu,t=ob(),Tp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,d=0,f=0,h=t,p=null;t:for(;;){for(var v;h!==n||r!==0&&h.nodeType!==3||(l=o+r),h!==a||s!==0&&h.nodeType!==3||(u=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)p=h,h=v;for(;;){if(h===t)break t;if(p===n&&++d===r&&(l=o),p===a&&++f===s&&(u=o),(v=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=v}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Kf={focusedElem:t,selectionRange:n},fu=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var S=T.memoizedProps,I=T.memoizedState,N=e.stateNode,y=N.getSnapshotBeforeUpdate(e.elementType===e.type?S:An(e.type,S),I);N.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(D){Xe(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return T=u0,u0=!1,T}function Do(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var a=r.destroy;r.destroy=void 0,a!==void 0&&um(e,n,a)}r=r.next}while(r!==s)}}function _d(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function dm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function s_(t){var e=t.alternate;e!==null&&(t.alternate=null,s_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Yn],delete e[rl],delete e[Jf],delete e[ok],delete e[lk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function r_(t){return t.tag===5||t.tag===3||t.tag===4}function d0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||r_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hm(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=gu));else if(s!==4&&(t=t.child,t!==null))for(hm(t,e,n),t=t.sibling;t!==null;)hm(t,e,n),t=t.sibling}function fm(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(fm(t,e,n),t=t.sibling;t!==null;)fm(t,e,n),t=t.sibling}var St=null,Pn=!1;function Ws(t,e,n){for(n=n.child;n!==null;)i_(t,e,n),n=n.sibling}function i_(t,e,n){if(Jn&&typeof Jn.onCommitFiberUnmount=="function")try{Jn.onCommitFiberUnmount(md,n)}catch{}switch(n.tag){case 5:Lt||Yi(n,e);case 6:var s=St,r=Pn;St=null,Ws(t,e,n),St=s,Pn=r,St!==null&&(Pn?(t=St,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):St.removeChild(n.stateNode));break;case 18:St!==null&&(Pn?(t=St,n=n.stateNode,t.nodeType===8?$h(t.parentNode,n):t.nodeType===1&&$h(t,n),Zo(t)):$h(St,n.stateNode));break;case 4:s=St,r=Pn,St=n.stateNode.containerInfo,Pn=!0,Ws(t,e,n),St=s,Pn=r;break;case 0:case 11:case 14:case 15:if(!Lt&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var a=r,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&um(n,e,o),r=r.next}while(r!==s)}Ws(t,e,n);break;case 1:if(!Lt&&(Yi(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){Xe(n,e,l)}Ws(t,e,n);break;case 21:Ws(t,e,n);break;case 22:n.mode&1?(Lt=(s=Lt)||n.memoizedState!==null,Ws(t,e,n),Lt=s):Ws(t,e,n);break;default:Ws(t,e,n)}}function h0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Sk),e.forEach(function(s){var r=Dk.bind(null,t,s);n.has(s)||(n.add(s),s.then(r,r))})}}function Cn(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:St=l.stateNode,Pn=!1;break e;case 3:St=l.stateNode.containerInfo,Pn=!0;break e;case 4:St=l.stateNode.containerInfo,Pn=!0;break e}l=l.return}if(St===null)throw Error(K(160));i_(a,o,r),St=null,Pn=!1;var u=r.alternate;u!==null&&(u.return=null),r.return=null}catch(d){Xe(r,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)a_(e,t),e=e.sibling}function a_(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Cn(e,t),qn(t),s&4){try{Do(3,t,t.return),_d(3,t)}catch(S){Xe(t,t.return,S)}try{Do(5,t,t.return)}catch(S){Xe(t,t.return,S)}}break;case 1:Cn(e,t),qn(t),s&512&&n!==null&&Yi(n,n.return);break;case 5:if(Cn(e,t),qn(t),s&512&&n!==null&&Yi(n,n.return),t.flags&32){var r=t.stateNode;try{Yo(r,"")}catch(S){Xe(t,t.return,S)}}if(s&4&&(r=t.stateNode,r!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&k1(r,a),Mf(l,o);var d=Mf(l,a);for(o=0;o<u.length;o+=2){var f=u[o],h=u[o+1];f==="style"?R1(r,h):f==="dangerouslySetInnerHTML"?A1(r,h):f==="children"?Yo(r,h):hp(r,f,h,d)}switch(l){case"input":Pf(r,a);break;case"textarea":I1(r,a);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?ta(r,!!a.multiple,v,!1):p!==!!a.multiple&&(a.defaultValue!=null?ta(r,!!a.multiple,a.defaultValue,!0):ta(r,!!a.multiple,a.multiple?[]:"",!1))}r[rl]=a}catch(S){Xe(t,t.return,S)}}break;case 6:if(Cn(e,t),qn(t),s&4){if(t.stateNode===null)throw Error(K(162));r=t.stateNode,a=t.memoizedProps;try{r.nodeValue=a}catch(S){Xe(t,t.return,S)}}break;case 3:if(Cn(e,t),qn(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Zo(e.containerInfo)}catch(S){Xe(t,t.return,S)}break;case 4:Cn(e,t),qn(t);break;case 13:Cn(e,t),qn(t),r=t.child,r.flags&8192&&(a=r.memoizedState!==null,r.stateNode.isHidden=a,!a||r.alternate!==null&&r.alternate.memoizedState!==null||(Wp=nt())),s&4&&h0(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Lt=(d=Lt)||f,Cn(e,t),Lt=d):Cn(e,t),qn(t),s&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(re=t,f=t.child;f!==null;){for(h=re=f;re!==null;){switch(p=re,v=p.child,p.tag){case 0:case 11:case 14:case 15:Do(4,p,p.return);break;case 1:Yi(p,p.return);var T=p.stateNode;if(typeof T.componentWillUnmount=="function"){s=p,n=p.return;try{e=s,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(S){Xe(s,n,S)}}break;case 5:Yi(p,p.return);break;case 22:if(p.memoizedState!==null){m0(h);continue}}v!==null?(v.return=p,re=v):m0(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{r=h.stateNode,d?(a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=P1("display",o))}catch(S){Xe(t,t.return,S)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(S){Xe(t,t.return,S)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Cn(e,t),qn(t),s&4&&h0(t);break;case 21:break;default:Cn(e,t),qn(t)}}function qn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(r_(n)){var s=n;break e}n=n.return}throw Error(K(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(Yo(r,""),s.flags&=-33);var a=d0(t);fm(t,a,r);break;case 3:case 4:var o=s.stateNode.containerInfo,l=d0(t);hm(t,l,o);break;default:throw Error(K(161))}}catch(u){Xe(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Ek(t,e,n){re=t,o_(t)}function o_(t,e,n){for(var s=(t.mode&1)!==0;re!==null;){var r=re,a=r.child;if(r.tag===22&&s){var o=r.memoizedState!==null||_c;if(!o){var l=r.alternate,u=l!==null&&l.memoizedState!==null||Lt;l=_c;var d=Lt;if(_c=o,(Lt=u)&&!d)for(re=r;re!==null;)o=re,u=o.child,o.tag===22&&o.memoizedState!==null?p0(r):u!==null?(u.return=o,re=u):p0(r);for(;a!==null;)re=a,o_(a),a=a.sibling;re=r,_c=l,Lt=d}f0(t)}else r.subtreeFlags&8772&&a!==null?(a.return=r,re=a):f0(t)}}function f0(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Lt||_d(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!Lt)if(n===null)s.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:An(e.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&Jx(e,a,s);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Jx(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Zo(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Lt||e.flags&512&&dm(e)}catch(p){Xe(e,e.return,p)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function m0(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function p0(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_d(4,e)}catch(u){Xe(e,n,u)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var r=e.return;try{s.componentDidMount()}catch(u){Xe(e,r,u)}}var a=e.return;try{dm(e)}catch(u){Xe(e,a,u)}break;case 5:var o=e.return;try{dm(e)}catch(u){Xe(e,o,u)}}}catch(u){Xe(e,e.return,u)}if(e===t){re=null;break}var l=e.sibling;if(l!==null){l.return=e.return,re=l;break}re=e.return}}var jk=Math.ceil,ju=Rs.ReactCurrentDispatcher,zp=Rs.ReactCurrentOwner,bn=Rs.ReactCurrentBatchConfig,Ne=0,_t=null,at=null,kt=0,nn=0,Qi=Dr(0),gt=0,ul=null,pi=0,Nd=0,Hp=0,Vo=null,Kt=null,Wp=0,va=1/0,ls=null,ku=!1,mm=null,dr=null,Nc=!1,rr=null,Iu=0,Lo=0,pm=null,Hc=-1,Wc=0;function zt(){return Ne&6?nt():Hc!==-1?Hc:Hc=nt()}function hr(t){return t.mode&1?Ne&2&&kt!==0?kt&-kt:uk.transition!==null?(Wc===0&&(Wc=W1()),Wc):(t=Ce,t!==0||(t=window.event,t=t===void 0?16:X1(t.type)),t):1}function Ln(t,e,n,s){if(50<Lo)throw Lo=0,pm=null,Error(K(185));Tl(t,n,s),(!(Ne&2)||t!==_t)&&(t===_t&&(!(Ne&2)&&(Nd|=n),gt===4&&Xs(t,kt)),Zt(t,s),n===1&&Ne===0&&!(e.mode&1)&&(va=nt()+500,vd&&Vr()))}function Zt(t,e){var n=t.callbackNode;uj(t,e);var s=hu(t,t===_t?kt:0);if(s===0)n!==null&&Sx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&Sx(n),e===1)t.tag===0?ck(g0.bind(null,t)):yb(g0.bind(null,t)),ik(function(){!(Ne&6)&&Vr()}),n=null;else{switch(q1(s)){case 1:n=yp;break;case 4:n=z1;break;case 16:n=du;break;case 536870912:n=H1;break;default:n=du}n=p_(n,l_.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function l_(t,e){if(Hc=-1,Wc=0,Ne&6)throw Error(K(327));var n=t.callbackNode;if(aa()&&t.callbackNode!==n)return null;var s=hu(t,t===_t?kt:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=Cu(t,s);else{e=s;var r=Ne;Ne|=2;var a=u_();(_t!==t||kt!==e)&&(ls=null,va=nt()+500,ai(t,e));do try{Ck();break}catch(l){c_(t,l)}while(!0);Cp(),ju.current=a,Ne=r,at!==null?e=0:(_t=null,kt=0,e=gt)}if(e!==0){if(e===2&&(r=Bf(t),r!==0&&(s=r,e=gm(t,r))),e===1)throw n=ul,ai(t,0),Xs(t,s),Zt(t,nt()),n;if(e===6)Xs(t,s);else{if(r=t.current.alternate,!(s&30)&&!kk(r)&&(e=Cu(t,s),e===2&&(a=Bf(t),a!==0&&(s=a,e=gm(t,a))),e===1))throw n=ul,ai(t,0),Xs(t,s),Zt(t,nt()),n;switch(t.finishedWork=r,t.finishedLanes=s,e){case 0:case 1:throw Error(K(345));case 2:Yr(t,Kt,ls);break;case 3:if(Xs(t,s),(s&130023424)===s&&(e=Wp+500-nt(),10<e)){if(hu(t,0)!==0)break;if(r=t.suspendedLanes,(r&s)!==s){zt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Qf(Yr.bind(null,t,Kt,ls),e);break}Yr(t,Kt,ls);break;case 4:if(Xs(t,s),(s&4194240)===s)break;for(e=t.eventTimes,r=-1;0<s;){var o=31-Vn(s);a=1<<o,o=e[o],o>r&&(r=o),s&=~a}if(s=r,s=nt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*jk(s/1960))-s,10<s){t.timeoutHandle=Qf(Yr.bind(null,t,Kt,ls),s);break}Yr(t,Kt,ls);break;case 5:Yr(t,Kt,ls);break;default:throw Error(K(329))}}}return Zt(t,nt()),t.callbackNode===n?l_.bind(null,t):null}function gm(t,e){var n=Vo;return t.current.memoizedState.isDehydrated&&(ai(t,e).flags|=256),t=Cu(t,e),t!==2&&(e=Kt,Kt=n,e!==null&&ym(e)),t}function ym(t){Kt===null?Kt=t:Kt.push.apply(Kt,t)}function kk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],a=r.getSnapshot;r=r.value;try{if(!Fn(a(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xs(t,e){for(e&=~Hp,e&=~Nd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Vn(e),s=1<<n;t[n]=-1,e&=~s}}function g0(t){if(Ne&6)throw Error(K(327));aa();var e=hu(t,0);if(!(e&1))return Zt(t,nt()),null;var n=Cu(t,e);if(t.tag!==0&&n===2){var s=Bf(t);s!==0&&(e=s,n=gm(t,s))}if(n===1)throw n=ul,ai(t,0),Xs(t,e),Zt(t,nt()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Yr(t,Kt,ls),Zt(t,nt()),null}function qp(t,e){var n=Ne;Ne|=1;try{return t(e)}finally{Ne=n,Ne===0&&(va=nt()+500,vd&&Vr())}}function gi(t){rr!==null&&rr.tag===0&&!(Ne&6)&&aa();var e=Ne;Ne|=1;var n=bn.transition,s=Ce;try{if(bn.transition=null,Ce=1,t)return t()}finally{Ce=s,bn.transition=n,Ne=e,!(Ne&6)&&Vr()}}function Gp(){nn=Qi.current,Be(Qi)}function ai(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,rk(n)),at!==null)for(n=at.return;n!==null;){var s=n;switch(jp(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&yu();break;case 3:ya(),Be(Jt),Be(Ft),Lp();break;case 5:Vp(s);break;case 4:ya();break;case 13:Be(qe);break;case 19:Be(qe);break;case 10:Ap(s.type._context);break;case 22:case 23:Gp()}n=n.return}if(_t=t,at=t=fr(t.current,null),kt=nn=e,gt=0,ul=null,Hp=Nd=pi=0,Kt=Vo=null,ti!==null){for(e=0;e<ti.length;e++)if(n=ti[e],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,a=n.pending;if(a!==null){var o=a.next;a.next=r,s.next=o}n.pending=s}ti=null}return t}function c_(t,e){do{var n=at;try{if(Cp(),$c.current=Eu,Tu){for(var s=Ke.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Tu=!1}if(mi=0,bt=pt=Ke=null,Ro=!1,ol=0,zp.current=null,n===null||n.return===null){gt=1,ul=e,at=null;break}e:{var a=t,o=n.return,l=n,u=e;if(e=kt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,f=l,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=s0(o);if(v!==null){v.flags&=-257,r0(v,o,l,a,e),v.mode&1&&n0(a,d,e),e=v,u=d;var T=e.updateQueue;if(T===null){var S=new Set;S.add(u),e.updateQueue=S}else T.add(u);break e}else{if(!(e&1)){n0(a,d,e),Kp();break e}u=Error(K(426))}}else if(We&&l.mode&1){var I=s0(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),r0(I,o,l,a,e),kp(xa(u,l));break e}}a=u=xa(u,l),gt!==4&&(gt=2),Vo===null?Vo=[a]:Vo.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var N=qb(a,u,e);Qx(a,N);break e;case 1:l=u;var y=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(dr===null||!dr.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e;var D=Gb(a,l,e);Qx(a,D);break e}}a=a.return}while(a!==null)}h_(n)}catch(M){e=M,at===n&&n!==null&&(at=n=n.return);continue}break}while(!0)}function u_(){var t=ju.current;return ju.current=Eu,t===null?Eu:t}function Kp(){(gt===0||gt===3||gt===2)&&(gt=4),_t===null||!(pi&268435455)&&!(Nd&268435455)||Xs(_t,kt)}function Cu(t,e){var n=Ne;Ne|=2;var s=u_();(_t!==t||kt!==e)&&(ls=null,ai(t,e));do try{Ik();break}catch(r){c_(t,r)}while(!0);if(Cp(),Ne=n,ju.current=s,at!==null)throw Error(K(261));return _t=null,kt=0,gt}function Ik(){for(;at!==null;)d_(at)}function Ck(){for(;at!==null&&!tj();)d_(at)}function d_(t){var e=m_(t.alternate,t,nn);t.memoizedProps=t.pendingProps,e===null?h_(t):at=e,zp.current=null}function h_(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Nk(n,e),n!==null){n.flags&=32767,at=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{gt=6,at=null;return}}else if(n=_k(n,e,nn),n!==null){at=n;return}if(e=e.sibling,e!==null){at=e;return}at=e=t}while(e!==null);gt===0&&(gt=5)}function Yr(t,e,n){var s=Ce,r=bn.transition;try{bn.transition=null,Ce=1,Ak(t,e,n,s)}finally{bn.transition=r,Ce=s}return null}function Ak(t,e,n,s){do aa();while(rr!==null);if(Ne&6)throw Error(K(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(dj(t,a),t===_t&&(at=_t=null,kt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Nc||(Nc=!0,p_(du,function(){return aa(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=bn.transition,bn.transition=null;var o=Ce;Ce=1;var l=Ne;Ne|=4,zp.current=null,Tk(t,n),a_(n,t),Jj(Kf),fu=!!Gf,Kf=Gf=null,t.current=n,Ek(n),nj(),Ne=l,Ce=o,bn.transition=a}else t.current=n;if(Nc&&(Nc=!1,rr=t,Iu=r),a=t.pendingLanes,a===0&&(dr=null),ij(n.stateNode),Zt(t,nt()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(ku)throw ku=!1,t=mm,mm=null,t;return Iu&1&&t.tag!==0&&aa(),a=t.pendingLanes,a&1?t===pm?Lo++:(Lo=0,pm=t):Lo=0,Vr(),null}function aa(){if(rr!==null){var t=q1(Iu),e=bn.transition,n=Ce;try{if(bn.transition=null,Ce=16>t?16:t,rr===null)var s=!1;else{if(t=rr,rr=null,Iu=0,Ne&6)throw Error(K(331));var r=Ne;for(Ne|=4,re=t.current;re!==null;){var a=re,o=a.child;if(re.flags&16){var l=a.deletions;if(l!==null){for(var u=0;u<l.length;u++){var d=l[u];for(re=d;re!==null;){var f=re;switch(f.tag){case 0:case 11:case 15:Do(8,f,a)}var h=f.child;if(h!==null)h.return=f,re=h;else for(;re!==null;){f=re;var p=f.sibling,v=f.return;if(s_(f),f===d){re=null;break}if(p!==null){p.return=v,re=p;break}re=v}}}var T=a.alternate;if(T!==null){var S=T.child;if(S!==null){T.child=null;do{var I=S.sibling;S.sibling=null,S=I}while(S!==null)}}re=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,re=o;else e:for(;re!==null;){if(a=re,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Do(9,a,a.return)}var N=a.sibling;if(N!==null){N.return=a.return,re=N;break e}re=a.return}}var y=t.current;for(re=y;re!==null;){o=re;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,re=b;else e:for(o=y;re!==null;){if(l=re,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:_d(9,l)}}catch(M){Xe(l,l.return,M)}if(l===o){re=null;break e}var D=l.sibling;if(D!==null){D.return=l.return,re=D;break e}re=l.return}}if(Ne=r,Vr(),Jn&&typeof Jn.onPostCommitFiberRoot=="function")try{Jn.onPostCommitFiberRoot(md,t)}catch{}s=!0}return s}finally{Ce=n,bn.transition=e}}return!1}function y0(t,e,n){e=xa(n,e),e=qb(t,e,1),t=ur(t,e,1),e=zt(),t!==null&&(Tl(t,1,e),Zt(t,e))}function Xe(t,e,n){if(t.tag===3)y0(t,t,n);else for(;e!==null;){if(e.tag===3){y0(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(dr===null||!dr.has(s))){t=xa(n,t),t=Gb(e,t,1),e=ur(e,t,1),t=zt(),e!==null&&(Tl(e,1,t),Zt(e,t));break}}e=e.return}}function Pk(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=zt(),t.pingedLanes|=t.suspendedLanes&n,_t===t&&(kt&n)===n&&(gt===4||gt===3&&(kt&130023424)===kt&&500>nt()-Wp?ai(t,0):Hp|=n),Zt(t,e)}function f_(t,e){e===0&&(t.mode&1?(e=fc,fc<<=1,!(fc&130023424)&&(fc=4194304)):e=1);var n=zt();t=Es(t,e),t!==null&&(Tl(t,e,n),Zt(t,n))}function Rk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),f_(t,n)}function Dk(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(K(314))}s!==null&&s.delete(e),f_(t,n)}var m_;m_=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Jt.current)Qt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Qt=!1,bk(t,e,n);Qt=!!(t.flags&131072)}else Qt=!1,We&&e.flags&1048576&&xb(e,wu,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;zc(t,e),t=e.pendingProps;var r=ma(e,Ft.current);ia(e,n),r=Op(null,e,s,t,r,n);var a=Fp();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Xt(s)?(a=!0,xu(e)):a=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Rp(e),r.updater=bd,e.stateNode=r,r._reactInternals=e,sm(e,s,t,n),e=am(null,e,s,!0,a,n)):(e.tag=0,We&&a&&Ep(e),Bt(null,e,r,n),e=e.child),e;case 16:s=e.elementType;e:{switch(zc(t,e),t=e.pendingProps,r=s._init,s=r(s._payload),e.type=s,r=e.tag=Lk(s),t=An(s,t),r){case 0:e=im(null,e,s,t,n);break e;case 1:e=o0(null,e,s,t,n);break e;case 11:e=i0(null,e,s,t,n);break e;case 14:e=a0(null,e,s,An(s.type,t),n);break e}throw Error(K(306,s,""))}return e;case 0:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:An(s,r),im(t,e,s,r,n);case 1:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:An(s,r),o0(t,e,s,r,n);case 3:e:{if(Jb(e),t===null)throw Error(K(387));s=e.pendingProps,a=e.memoizedState,r=a.element,Sb(t,e),Nu(e,s,null,n);var o=e.memoizedState;if(s=o.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){r=xa(Error(K(423)),e),e=l0(t,e,s,n,r);break e}else if(s!==r){r=xa(Error(K(424)),e),e=l0(t,e,s,n,r);break e}else for(on=cr(e.stateNode.containerInfo.firstChild),cn=e,We=!0,Rn=null,n=_b(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(pa(),s===r){e=js(t,e,n);break e}Bt(t,e,s,n)}e=e.child}return e;case 5:return Tb(e),t===null&&em(e),s=e.type,r=e.pendingProps,a=t!==null?t.memoizedProps:null,o=r.children,Yf(s,r)?o=null:a!==null&&Yf(s,a)&&(e.flags|=32),Qb(t,e),Bt(t,e,o,n),e.child;case 6:return t===null&&em(e),null;case 13:return Xb(t,e,n);case 4:return Dp(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=ga(e,null,s,n):Bt(t,e,s,n),e.child;case 11:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:An(s,r),i0(t,e,s,r,n);case 7:return Bt(t,e,e.pendingProps,n),e.child;case 8:return Bt(t,e,e.pendingProps.children,n),e.child;case 12:return Bt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,r=e.pendingProps,a=e.memoizedProps,o=r.value,Ve(bu,s._currentValue),s._currentValue=o,a!==null)if(Fn(a.value,o)){if(a.children===r.children&&!Jt.current){e=js(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var u=l.firstContext;u!==null;){if(u.context===s){if(a.tag===1){u=gs(-1,n&-n),u.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?u.next=u:(u.next=f.next,f.next=u),d.pending=u}}a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),tm(a.return,n,e),l.lanes|=n;break}u=u.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(K(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),tm(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Bt(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,s=e.pendingProps.children,ia(e,n),r=Nn(r),s=s(r),e.flags|=1,Bt(t,e,s,n),e.child;case 14:return s=e.type,r=An(s,e.pendingProps),r=An(s.type,r),a0(t,e,s,r,n);case 15:return Kb(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:An(s,r),zc(t,e),e.tag=1,Xt(s)?(t=!0,xu(e)):t=!1,ia(e,n),Wb(e,s,r),sm(e,s,r,n),am(null,e,s,!0,t,n);case 19:return Zb(t,e,n);case 22:return Yb(t,e,n)}throw Error(K(156,e.tag))};function p_(t,e){return B1(t,e)}function Vk(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,e,n,s){return new Vk(t,e,n,s)}function Yp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Lk(t){if(typeof t=="function")return Yp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===mp)return 11;if(t===pp)return 14}return 2}function fr(t,e){var n=t.alternate;return n===null?(n=wn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function qc(t,e,n,s,r,a){var o=2;if(s=t,typeof t=="function")Yp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ui:return oi(n.children,r,a,e);case fp:o=8,r|=8;break;case jf:return t=wn(12,n,e,r|2),t.elementType=jf,t.lanes=a,t;case kf:return t=wn(13,n,e,r),t.elementType=kf,t.lanes=a,t;case If:return t=wn(19,n,e,r),t.elementType=If,t.lanes=a,t;case T1:return Sd(n,r,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case N1:o=10;break e;case S1:o=9;break e;case mp:o=11;break e;case pp:o=14;break e;case Ks:o=16,s=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=wn(o,n,e,r),e.elementType=t,e.type=s,e.lanes=a,e}function oi(t,e,n,s){return t=wn(7,t,s,e),t.lanes=n,t}function Sd(t,e,n,s){return t=wn(22,t,s,e),t.elementType=T1,t.lanes=n,t.stateNode={isHidden:!1},t}function Yh(t,e,n){return t=wn(6,t,null,e),t.lanes=n,t}function Qh(t,e,n){return e=wn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Mk(t,e,n,s,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ch(0),this.expirationTimes=Ch(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ch(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Qp(t,e,n,s,r,a,o,l,u){return t=new Mk(t,e,n,l,u),e===1?(e=1,a===!0&&(e|=8)):e=0,a=wn(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rp(a),t}function Ok(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fi,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function g_(t){if(!t)return _r;t=t._reactInternals;e:{if(Ti(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Xt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(Xt(n))return gb(t,n,e)}return e}function y_(t,e,n,s,r,a,o,l,u){return t=Qp(n,s,!0,t,r,a,o,l,u),t.context=g_(null),n=t.current,s=zt(),r=hr(n),a=gs(s,r),a.callback=e??null,ur(n,a,r),t.current.lanes=r,Tl(t,r,s),Zt(t,s),t}function Td(t,e,n,s){var r=e.current,a=zt(),o=hr(r);return n=g_(n),e.context===null?e.context=n:e.pendingContext=n,e=gs(a,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=ur(r,e,o),t!==null&&(Ln(t,r,o,a),Uc(t,r,o)),o}function Au(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function x0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Jp(t,e){x0(t,e),(t=t.alternate)&&x0(t,e)}function Fk(){return null}var x_=typeof reportError=="function"?reportError:function(t){console.error(t)};function Xp(t){this._internalRoot=t}Ed.prototype.render=Xp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));Td(t,e,null,null)};Ed.prototype.unmount=Xp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;gi(function(){Td(null,t,null,null)}),e[Ts]=null}};function Ed(t){this._internalRoot=t}Ed.prototype.unstable_scheduleHydration=function(t){if(t){var e=Y1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Js.length&&e!==0&&e<Js[n].priority;n++);Js.splice(n,0,t),n===0&&J1(t)}};function Zp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function jd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function v0(){}function Uk(t,e,n,s,r){if(r){if(typeof s=="function"){var a=s;s=function(){var d=Au(o);a.call(d)}}var o=y_(e,s,t,0,null,!1,!1,"",v0);return t._reactRootContainer=o,t[Ts]=o.current,nl(t.nodeType===8?t.parentNode:t),gi(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof s=="function"){var l=s;s=function(){var d=Au(u);l.call(d)}}var u=Qp(t,0,!1,null,null,!1,!1,"",v0);return t._reactRootContainer=u,t[Ts]=u.current,nl(t.nodeType===8?t.parentNode:t),gi(function(){Td(e,u,n,s)}),u}function kd(t,e,n,s,r){var a=n._reactRootContainer;if(a){var o=a;if(typeof r=="function"){var l=r;r=function(){var u=Au(o);l.call(u)}}Td(e,o,t,r)}else o=Uk(n,e,t,r,s);return Au(o)}G1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=vo(e.pendingLanes);n!==0&&(xp(e,n|1),Zt(e,nt()),!(Ne&6)&&(va=nt()+500,Vr()))}break;case 13:gi(function(){var s=Es(t,1);if(s!==null){var r=zt();Ln(s,t,1,r)}}),Jp(t,1)}};vp=function(t){if(t.tag===13){var e=Es(t,134217728);if(e!==null){var n=zt();Ln(e,t,134217728,n)}Jp(t,134217728)}};K1=function(t){if(t.tag===13){var e=hr(t),n=Es(t,e);if(n!==null){var s=zt();Ln(n,t,e,s)}Jp(t,e)}};Y1=function(){return Ce};Q1=function(t,e){var n=Ce;try{return Ce=t,e()}finally{Ce=n}};Ff=function(t,e,n){switch(e){case"input":if(Pf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var r=xd(s);if(!r)throw Error(K(90));j1(s),Pf(s,r)}}}break;case"textarea":I1(t,n);break;case"select":e=n.value,e!=null&&ta(t,!!n.multiple,e,!1)}};L1=qp;M1=gi;var $k={usingClientEntryPoint:!1,Events:[jl,Hi,xd,D1,V1,qp]},mo={findFiberByHostInstance:ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bk={bundleType:mo.bundleType,version:mo.version,rendererPackageName:mo.rendererPackageName,rendererConfig:mo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=U1(t),t===null?null:t.stateNode},findFiberByHostInstance:mo.findFiberByHostInstance||Fk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sc.isDisabled&&Sc.supportsFiber)try{md=Sc.inject(Bk),Jn=Sc}catch{}}fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$k;fn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zp(e))throw Error(K(200));return Ok(t,e,null,n)};fn.createRoot=function(t,e){if(!Zp(t))throw Error(K(299));var n=!1,s="",r=x_;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Qp(t,1,!1,null,null,n,!1,s,r),t[Ts]=e.current,nl(t.nodeType===8?t.parentNode:t),new Xp(e)};fn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=U1(e),t=t===null?null:t.stateNode,t};fn.flushSync=function(t){return gi(t)};fn.hydrate=function(t,e,n){if(!jd(e))throw Error(K(200));return kd(null,t,e,!0,n)};fn.hydrateRoot=function(t,e,n){if(!Zp(t))throw Error(K(405));var s=n!=null&&n.hydratedSources||null,r=!1,a="",o=x_;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=y_(e,null,t,1,n??null,r,!1,a,o),t[Ts]=e.current,nl(t),s)for(t=0;t<s.length;t++)n=s[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Ed(e)};fn.render=function(t,e,n){if(!jd(e))throw Error(K(200));return kd(null,t,e,!1,n)};fn.unmountComponentAtNode=function(t){if(!jd(t))throw Error(K(40));return t._reactRootContainer?(gi(function(){kd(null,null,t,!1,function(){t._reactRootContainer=null,t[Ts]=null})}),!0):!1};fn.unstable_batchedUpdates=qp;fn.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!jd(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return kd(t,e,n,!1,s)};fn.version="18.3.1-next-f1338f8080-20240426";function v_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(v_)}catch(t){console.error(t)}}v_(),v1.exports=fn;var zk=v1.exports,w0=zk;Tf.createRoot=w0.createRoot,Tf.hydrateRoot=w0.hydrateRoot;const w_=R.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Id=R.createContext({}),Cd=R.createContext(null),Ad=typeof document<"u",eg=Ad?R.useLayoutEffect:R.useEffect,b_=R.createContext({strict:!1}),tg=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Hk="framerAppearId",__="data-"+tg(Hk);function Wk(t,e,n,s){const{visualElement:r}=R.useContext(Id),a=R.useContext(b_),o=R.useContext(Cd),l=R.useContext(w_).reducedMotion,u=R.useRef();s=s||a.renderer,!u.current&&s&&(u.current=s(t,{visualState:e,parent:r,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const d=u.current;R.useInsertionEffect(()=>{d&&d.update(n,o)});const f=R.useRef(!!(n[__]&&!window.HandoffComplete));return eg(()=>{d&&(d.render(),f.current&&d.animationState&&d.animationState.animateChanges())}),R.useEffect(()=>{d&&(d.updateFeatures(),!f.current&&d.animationState&&d.animationState.animateChanges(),f.current&&(f.current=!1,window.HandoffComplete=!0))}),d}function Ji(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function qk(t,e,n){return R.useCallback(s=>{s&&t.mount&&t.mount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Ji(n)&&(n.current=s))},[e])}function dl(t){return typeof t=="string"||Array.isArray(t)}function Pd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const ng=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],sg=["initial",...ng];function Rd(t){return Pd(t.animate)||sg.some(e=>dl(t[e]))}function N_(t){return!!(Rd(t)||t.variants)}function Gk(t,e){if(Rd(t)){const{initial:n,animate:s}=t;return{initial:n===!1||dl(n)?n:void 0,animate:dl(s)?s:void 0}}return t.inherit!==!1?e:{}}function Kk(t){const{initial:e,animate:n}=Gk(t,R.useContext(Id));return R.useMemo(()=>({initial:e,animate:n}),[b0(e),b0(n)])}function b0(t){return Array.isArray(t)?t.join(" "):t}const _0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},hl={};for(const t in _0)hl[t]={isEnabled:e=>_0[t].some(n=>!!e[n])};function Yk(t){for(const e in t)hl[e]={...hl[e],...t[e]}}const rg=R.createContext({}),S_=R.createContext({}),Qk=Symbol.for("motionComponentSymbol");function Jk({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:r}){t&&Yk(t);function a(l,u){let d;const f={...R.useContext(w_),...l,layoutId:Xk(l)},{isStatic:h}=f,p=Kk(l),v=s(l,h);if(!h&&Ad){p.visualElement=Wk(r,v,f,e);const T=R.useContext(S_),S=R.useContext(b_).strict;p.visualElement&&(d=p.visualElement.loadFeatures(f,S,t,T))}return R.createElement(Id.Provider,{value:p},d&&p.visualElement?R.createElement(d,{visualElement:p.visualElement,...f}):null,n(r,l,qk(v,p.visualElement,u),v,h,p.visualElement))}const o=R.forwardRef(a);return o[Qk]=r,o}function Xk({layoutId:t}){const e=R.useContext(rg).id;return e&&t!==void 0?e+"-"+t:t}function Zk(t){function e(s,r={}){return Jk(t(s,r))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(s,r)=>(n.has(r)||n.set(r,e(r)),n.get(r))})}const eI=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ig(t){return typeof t!="string"||t.includes("-")?!1:!!(eI.indexOf(t)>-1||/[A-Z]/.test(t))}const Pu={};function tI(t){Object.assign(Pu,t)}const Il=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ei=new Set(Il);function T_(t,{layout:e,layoutId:n}){return Ei.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Pu[t]||t==="opacity")}const en=t=>!!(t&&t.getVelocity),nI={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},sI=Il.length;function rI(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},s,r){let a="";for(let o=0;o<sI;o++){const l=Il[o];if(t[l]!==void 0){const u=nI[l]||l;a+=`${u}(${t[l]}) `}}return e&&!t.z&&(a+="translateZ(0)"),a=a.trim(),r?a=r(t,s?"":a):n&&s&&(a="none"),a}const E_=t=>e=>typeof e=="string"&&e.startsWith(t),j_=E_("--"),xm=E_("var(--"),iI=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,aI=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Nr=(t,e,n)=>Math.min(Math.max(n,t),e),ji={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Mo={...ji,transform:t=>Nr(0,1,t)},Tc={...ji,default:1},Oo=t=>Math.round(t*1e5)/1e5,Dd=/(-)?([\d]*\.?[\d])+/g,k_=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,oI=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Cl(t){return typeof t=="string"}const Al=t=>({test:e=>Cl(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Gs=Al("deg"),Zn=Al("%"),ue=Al("px"),lI=Al("vh"),cI=Al("vw"),N0={...Zn,parse:t=>Zn.parse(t)/100,transform:t=>Zn.transform(t*100)},S0={...ji,transform:Math.round},I_={borderWidth:ue,borderTopWidth:ue,borderRightWidth:ue,borderBottomWidth:ue,borderLeftWidth:ue,borderRadius:ue,radius:ue,borderTopLeftRadius:ue,borderTopRightRadius:ue,borderBottomRightRadius:ue,borderBottomLeftRadius:ue,width:ue,maxWidth:ue,height:ue,maxHeight:ue,size:ue,top:ue,right:ue,bottom:ue,left:ue,padding:ue,paddingTop:ue,paddingRight:ue,paddingBottom:ue,paddingLeft:ue,margin:ue,marginTop:ue,marginRight:ue,marginBottom:ue,marginLeft:ue,rotate:Gs,rotateX:Gs,rotateY:Gs,rotateZ:Gs,scale:Tc,scaleX:Tc,scaleY:Tc,scaleZ:Tc,skew:Gs,skewX:Gs,skewY:Gs,distance:ue,translateX:ue,translateY:ue,translateZ:ue,x:ue,y:ue,z:ue,perspective:ue,transformPerspective:ue,opacity:Mo,originX:N0,originY:N0,originZ:ue,zIndex:S0,fillOpacity:Mo,strokeOpacity:Mo,numOctaves:S0};function ag(t,e,n,s){const{style:r,vars:a,transform:o,transformOrigin:l}=t;let u=!1,d=!1,f=!0;for(const h in e){const p=e[h];if(j_(h)){a[h]=p;continue}const v=I_[h],T=aI(p,v);if(Ei.has(h)){if(u=!0,o[h]=T,!f)continue;p!==(v.default||0)&&(f=!1)}else h.startsWith("origin")?(d=!0,l[h]=T):r[h]=T}if(e.transform||(u||s?r.transform=rI(t.transform,n,f,s):r.transform&&(r.transform="none")),d){const{originX:h="50%",originY:p="50%",originZ:v=0}=l;r.transformOrigin=`${h} ${p} ${v}`}}const og=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function C_(t,e,n){for(const s in e)!en(e[s])&&!T_(s,n)&&(t[s]=e[s])}function uI({transformTemplate:t},e,n){return R.useMemo(()=>{const s=og();return ag(s,e,{enableHardwareAcceleration:!n},t),Object.assign({},s.vars,s.style)},[e])}function dI(t,e,n){const s=t.style||{},r={};return C_(r,s,t),Object.assign(r,uI(t,e,n)),t.transformValues?t.transformValues(r):r}function hI(t,e,n){const s={},r=dI(t,e,n);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=r,s}const fI=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ru(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||fI.has(t)}let A_=t=>!Ru(t);function mI(t){t&&(A_=e=>e.startsWith("on")?!Ru(e):t(e))}try{mI(require("@emotion/is-prop-valid").default)}catch{}function pI(t,e,n){const s={};for(const r in t)r==="values"&&typeof t.values=="object"||(A_(r)||n===!0&&Ru(r)||!e&&!Ru(r)||t.draggable&&r.startsWith("onDrag"))&&(s[r]=t[r]);return s}function T0(t,e,n){return typeof t=="string"?t:ue.transform(e+n*t)}function gI(t,e,n){const s=T0(e,t.x,t.width),r=T0(n,t.y,t.height);return`${s} ${r}`}const yI={offset:"stroke-dashoffset",array:"stroke-dasharray"},xI={offset:"strokeDashoffset",array:"strokeDasharray"};function vI(t,e,n=1,s=0,r=!0){t.pathLength=1;const a=r?yI:xI;t[a.offset]=ue.transform(-s);const o=ue.transform(e),l=ue.transform(n);t[a.array]=`${o} ${l}`}function lg(t,{attrX:e,attrY:n,attrScale:s,originX:r,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:u=0,...d},f,h,p){if(ag(t,d,f,p),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:T,dimensions:S}=t;v.transform&&(S&&(T.transform=v.transform),delete v.transform),S&&(r!==void 0||a!==void 0||T.transform)&&(T.transformOrigin=gI(S,r!==void 0?r:.5,a!==void 0?a:.5)),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),s!==void 0&&(v.scale=s),o!==void 0&&vI(v,o,l,u,!1)}const P_=()=>({...og(),attrs:{}}),cg=t=>typeof t=="string"&&t.toLowerCase()==="svg";function wI(t,e,n,s){const r=R.useMemo(()=>{const a=P_();return lg(a,e,{enableHardwareAcceleration:!1},cg(s),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};C_(a,t.style,t),r.style={...a,...r.style}}return r}function bI(t=!1){return(n,s,r,{latestValues:a},o)=>{const u=(ig(n)?wI:hI)(s,a,o,n),f={...pI(s,typeof n=="string",t),...u,ref:r},{children:h}=s,p=R.useMemo(()=>en(h)?h.get():h,[h]);return R.createElement(n,{...f,children:p})}}function R_(t,{style:e,vars:n},s,r){Object.assign(t.style,e,r&&r.getProjectionStyles(s));for(const a in n)t.style.setProperty(a,n[a])}const D_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function V_(t,e,n,s){R_(t,e,void 0,s);for(const r in e.attrs)t.setAttribute(D_.has(r)?r:tg(r),e.attrs[r])}function ug(t,e){const{style:n}=t,s={};for(const r in n)(en(n[r])||e.style&&en(e.style[r])||T_(r,t))&&(s[r]=n[r]);return s}function L_(t,e){const n=ug(t,e);for(const s in t)if(en(t[s])||en(e[s])){const r=Il.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[r]=t[s]}return n}function dg(t,e,n,s={},r={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,s,r)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,s,r)),e}function M_(t){const e=R.useRef(null);return e.current===null&&(e.current=t()),e.current}const Du=t=>Array.isArray(t),_I=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),NI=t=>Du(t)?t[t.length-1]||0:t;function Gc(t){const e=en(t)?t.get():t;return _I(e)?e.toValue():e}function SI({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},s,r,a){const o={latestValues:TI(s,r,a,t),renderState:e()};return n&&(o.mount=l=>n(s,l,o)),o}const O_=t=>(e,n)=>{const s=R.useContext(Id),r=R.useContext(Cd),a=()=>SI(t,e,s,r);return n?a():M_(a)};function TI(t,e,n,s){const r={},a=s(t,{});for(const p in a)r[p]=Gc(a[p]);let{initial:o,animate:l}=t;const u=Rd(t),d=N_(t);e&&d&&!u&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const h=f?l:o;return h&&typeof h!="boolean"&&!Pd(h)&&(Array.isArray(h)?h:[h]).forEach(v=>{const T=dg(t,v);if(!T)return;const{transitionEnd:S,transition:I,...N}=T;for(const y in N){let b=N[y];if(Array.isArray(b)){const D=f?b.length-1:0;b=b[D]}b!==null&&(r[y]=b)}for(const y in S)r[y]=S[y]}),r}const st=t=>t;class E0{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function EI(t){let e=new E0,n=new E0,s=0,r=!1,a=!1;const o=new WeakSet,l={schedule:(u,d=!1,f=!1)=>{const h=f&&r,p=h?e:n;return d&&o.add(u),p.add(u)&&h&&r&&(s=e.order.length),u},cancel:u=>{n.remove(u),o.delete(u)},process:u=>{if(r){a=!0;return}if(r=!0,[e,n]=[n,e],n.clear(),s=e.order.length,s)for(let d=0;d<s;d++){const f=e.order[d];f(u),o.has(f)&&(l.schedule(f),t())}r=!1,a&&(a=!1,l.process(u))}};return l}const Ec=["prepare","read","update","preRender","render","postRender"],jI=40;function kI(t,e){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=Ec.reduce((h,p)=>(h[p]=EI(()=>n=!0),h),{}),o=h=>a[h].process(r),l=()=>{const h=performance.now();n=!1,r.delta=s?1e3/60:Math.max(Math.min(h-r.timestamp,jI),1),r.timestamp=h,r.isProcessing=!0,Ec.forEach(o),r.isProcessing=!1,n&&e&&(s=!1,t(l))},u=()=>{n=!0,s=!0,r.isProcessing||t(l)};return{schedule:Ec.reduce((h,p)=>{const v=a[p];return h[p]=(T,S=!1,I=!1)=>(n||u(),v.schedule(T,S,I)),h},{}),cancel:h=>Ec.forEach(p=>a[p].cancel(h)),state:r,steps:a}}const{schedule:Le,cancel:ks,state:Dt,steps:Jh}=kI(typeof requestAnimationFrame<"u"?requestAnimationFrame:st,!0),II={useVisualState:O_({scrapeMotionValuesFromProps:L_,createRenderState:P_,onMount:(t,e,{renderState:n,latestValues:s})=>{Le.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Le.render(()=>{lg(n,s,{enableHardwareAcceleration:!1},cg(e.tagName),t.transformTemplate),V_(e,n)})}})},CI={useVisualState:O_({scrapeMotionValuesFromProps:ug,createRenderState:og})};function AI(t,{forwardMotionProps:e=!1},n,s){return{...ig(t)?II:CI,preloadedFeatures:n,useRender:bI(e),createVisualElement:s,Component:t}}function fs(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}const F_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Vd(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const PI=t=>e=>F_(e)&&t(e,Vd(e));function ys(t,e,n,s){return fs(t,e,PI(n),s)}const RI=(t,e)=>n=>e(t(n)),mr=(...t)=>t.reduce(RI);function U_(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const j0=U_("dragHorizontal"),k0=U_("dragVertical");function $_(t){let e=!1;if(t==="y")e=k0();else if(t==="x")e=j0();else{const n=j0(),s=k0();n&&s?e=()=>{n(),s()}:(n&&n(),s&&s())}return e}function B_(){const t=$_(!0);return t?(t(),!1):!0}class Lr{constructor(e){this.isMounted=!1,this.node=e}update(){}}function I0(t,e){const n="pointer"+(e?"enter":"leave"),s="onHover"+(e?"Start":"End"),r=(a,o)=>{if(a.pointerType==="touch"||B_())return;const l=t.getProps();t.animationState&&l.whileHover&&t.animationState.setActive("whileHover",e),l[s]&&Le.update(()=>l[s](a,o))};return ys(t.current,n,r,{passive:!t.getProps()[s]})}class DI extends Lr{mount(){this.unmount=mr(I0(this.node,!0),I0(this.node,!1))}unmount(){}}class VI extends Lr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=mr(fs(this.node.current,"focus",()=>this.onFocus()),fs(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const z_=(t,e)=>e?t===e?!0:z_(t,e.parentElement):!1;function Xh(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Vd(n))}class LI extends Lr{constructor(){super(...arguments),this.removeStartListeners=st,this.removeEndListeners=st,this.removeAccessibleListeners=st,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const s=this.node.getProps(),a=ys(window,"pointerup",(l,u)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:f,globalTapTarget:h}=this.node.getProps();Le.update(()=>{!h&&!z_(this.node.current,l.target)?f&&f(l,u):d&&d(l,u)})},{passive:!(s.onTap||s.onPointerUp)}),o=ys(window,"pointercancel",(l,u)=>this.cancelPress(l,u),{passive:!(s.onTapCancel||s.onPointerCancel)});this.removeEndListeners=mr(a,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=a=>{if(a.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||Xh("up",(u,d)=>{const{onTap:f}=this.node.getProps();f&&Le.update(()=>f(u,d))})};this.removeEndListeners(),this.removeEndListeners=fs(this.node.current,"keyup",o),Xh("down",(l,u)=>{this.startPress(l,u)})},n=fs(this.node.current,"keydown",e),s=()=>{this.isPressing&&Xh("cancel",(a,o)=>this.cancelPress(a,o))},r=fs(this.node.current,"blur",s);this.removeAccessibleListeners=mr(n,r)}}startPress(e,n){this.isPressing=!0;const{onTapStart:s,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),s&&Le.update(()=>s(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!B_()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:s}=this.node.getProps();s&&Le.update(()=>s(e,n))}mount(){const e=this.node.getProps(),n=ys(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),s=fs(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=mr(n,s)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const vm=new WeakMap,Zh=new WeakMap,MI=t=>{const e=vm.get(t.target);e&&e(t)},OI=t=>{t.forEach(MI)};function FI({root:t,...e}){const n=t||document;Zh.has(n)||Zh.set(n,{});const s=Zh.get(n),r=JSON.stringify(e);return s[r]||(s[r]=new IntersectionObserver(OI,{root:t,...e})),s[r]}function UI(t,e,n){const s=FI(e);return vm.set(t,n),s.observe(t),()=>{vm.delete(t),s.unobserve(t)}}const $I={some:0,all:1};class BI extends Lr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:a}=e,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:$I[r]},l=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:h}=this.node.getProps(),p=d?f:h;p&&p(u)};return UI(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(zI(e,n))&&this.startObserver()}unmount(){}}function zI({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const HI={inView:{Feature:BI},tap:{Feature:LI},focus:{Feature:VI},hover:{Feature:DI}};function H_(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}function WI(t){const e={};return t.values.forEach((n,s)=>e[s]=n.get()),e}function qI(t){const e={};return t.values.forEach((n,s)=>e[s]=n.getVelocity()),e}function Ld(t,e,n){const s=t.getProps();return dg(s,e,n!==void 0?n:s.custom,WI(t),qI(t))}let hg=st;const li=t=>t*1e3,xs=t=>t/1e3,GI={current:!1},W_=t=>Array.isArray(t)&&typeof t[0]=="number";function q_(t){return!!(!t||typeof t=="string"&&G_[t]||W_(t)||Array.isArray(t)&&t.every(q_))}const bo=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,G_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:bo([0,.65,.55,1]),circOut:bo([.55,0,1,.45]),backIn:bo([.31,.01,.66,-.59]),backOut:bo([.33,1.53,.69,.99])};function K_(t){if(t)return W_(t)?bo(t):Array.isArray(t)?t.map(K_):G_[t]}function KI(t,e,n,{delay:s=0,duration:r,repeat:a=0,repeatType:o="loop",ease:l,times:u}={}){const d={[e]:n};u&&(d.offset=u);const f=K_(l);return Array.isArray(f)&&(d.easing=f),t.animate(d,{delay:s,duration:r,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}function YI(t,{repeat:e,repeatType:n="loop"}){const s=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[s]}const Y_=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,QI=1e-7,JI=12;function XI(t,e,n,s,r){let a,o,l=0;do o=e+(n-e)/2,a=Y_(o,s,r)-t,a>0?n=o:e=o;while(Math.abs(a)>QI&&++l<JI);return o}function Pl(t,e,n,s){if(t===e&&n===s)return st;const r=a=>XI(a,0,1,t,n);return a=>a===0||a===1?a:Y_(r(a),e,s)}const ZI=Pl(.42,0,1,1),eC=Pl(0,0,.58,1),Q_=Pl(.42,0,.58,1),tC=t=>Array.isArray(t)&&typeof t[0]!="number",J_=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,X_=t=>e=>1-t(1-e),fg=t=>1-Math.sin(Math.acos(t)),Z_=X_(fg),nC=J_(fg),e2=Pl(.33,1.53,.69,.99),mg=X_(e2),sC=J_(mg),rC=t=>(t*=2)<1?.5*mg(t):.5*(2-Math.pow(2,-10*(t-1))),iC={linear:st,easeIn:ZI,easeInOut:Q_,easeOut:eC,circIn:fg,circInOut:nC,circOut:Z_,backIn:mg,backInOut:sC,backOut:e2,anticipate:rC},C0=t=>{if(Array.isArray(t)){hg(t.length===4);const[e,n,s,r]=t;return Pl(e,n,s,r)}else if(typeof t=="string")return iC[t];return t},pg=(t,e)=>n=>!!(Cl(n)&&oI.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),t2=(t,e,n)=>s=>{if(!Cl(s))return s;const[r,a,o,l]=s.match(Dd);return{[t]:parseFloat(r),[e]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},aC=t=>Nr(0,255,t),ef={...ji,transform:t=>Math.round(aC(t))},si={test:pg("rgb","red"),parse:t2("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+ef.transform(t)+", "+ef.transform(e)+", "+ef.transform(n)+", "+Oo(Mo.transform(s))+")"};function oC(t){let e="",n="",s="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,s+=s,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const wm={test:pg("#"),parse:oC,transform:si.transform},Xi={test:pg("hsl","hue"),parse:t2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Zn.transform(Oo(e))+", "+Zn.transform(Oo(n))+", "+Oo(Mo.transform(s))+")"},$t={test:t=>si.test(t)||wm.test(t)||Xi.test(t),parse:t=>si.test(t)?si.parse(t):Xi.test(t)?Xi.parse(t):wm.parse(t),transform:t=>Cl(t)?t:t.hasOwnProperty("red")?si.transform(t):Xi.transform(t)},Ge=(t,e,n)=>-n*t+n*e+t;function tf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function lC({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let r=0,a=0,o=0;if(!e)r=a=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,u=2*n-l;r=tf(u,l,t+1/3),a=tf(u,l,t),o=tf(u,l,t-1/3)}return{red:Math.round(r*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:s}}const nf=(t,e,n)=>{const s=t*t;return Math.sqrt(Math.max(0,n*(e*e-s)+s))},cC=[wm,si,Xi],uC=t=>cC.find(e=>e.test(t));function A0(t){const e=uC(t);let n=e.parse(t);return e===Xi&&(n=lC(n)),n}const n2=(t,e)=>{const n=A0(t),s=A0(e),r={...n};return a=>(r.red=nf(n.red,s.red,a),r.green=nf(n.green,s.green,a),r.blue=nf(n.blue,s.blue,a),r.alpha=Ge(n.alpha,s.alpha,a),si.transform(r))};function dC(t){var e,n;return isNaN(t)&&Cl(t)&&(((e=t.match(Dd))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(k_))===null||n===void 0?void 0:n.length)||0)>0}const s2={regex:iI,countKey:"Vars",token:"${v}",parse:st},r2={regex:k_,countKey:"Colors",token:"${c}",parse:$t.parse},i2={regex:Dd,countKey:"Numbers",token:"${n}",parse:ji.parse};function sf(t,{regex:e,countKey:n,token:s,parse:r}){const a=t.tokenised.match(e);a&&(t["num"+n]=a.length,t.tokenised=t.tokenised.replace(e,s),t.values.push(...a.map(r)))}function Vu(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&sf(n,s2),sf(n,r2),sf(n,i2),n}function a2(t){return Vu(t).values}function o2(t){const{values:e,numColors:n,numVars:s,tokenised:r}=Vu(t),a=e.length;return o=>{let l=r;for(let u=0;u<a;u++)u<s?l=l.replace(s2.token,o[u]):u<s+n?l=l.replace(r2.token,$t.transform(o[u])):l=l.replace(i2.token,Oo(o[u]));return l}}const hC=t=>typeof t=="number"?0:t;function fC(t){const e=a2(t);return o2(t)(e.map(hC))}const Sr={test:dC,parse:a2,createTransformer:o2,getAnimatableNone:fC},l2=(t,e)=>n=>`${n>0?e:t}`;function c2(t,e){return typeof t=="number"?n=>Ge(t,e,n):$t.test(t)?n2(t,e):t.startsWith("var(")?l2(t,e):d2(t,e)}const u2=(t,e)=>{const n=[...t],s=n.length,r=t.map((a,o)=>c2(a,e[o]));return a=>{for(let o=0;o<s;o++)n[o]=r[o](a);return n}},mC=(t,e)=>{const n={...t,...e},s={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(s[r]=c2(t[r],e[r]));return r=>{for(const a in s)n[a]=s[a](r);return n}},d2=(t,e)=>{const n=Sr.createTransformer(e),s=Vu(t),r=Vu(e);return s.numVars===r.numVars&&s.numColors===r.numColors&&s.numNumbers>=r.numNumbers?mr(u2(s.values,r.values),n):l2(t,e)},fl=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s},P0=(t,e)=>n=>Ge(t,e,n);function pC(t){return typeof t=="number"?P0:typeof t=="string"?$t.test(t)?n2:d2:Array.isArray(t)?u2:typeof t=="object"?mC:P0}function gC(t,e,n){const s=[],r=n||pC(t[0]),a=t.length-1;for(let o=0;o<a;o++){let l=r(t[o],t[o+1]);if(e){const u=Array.isArray(e)?e[o]||st:e;l=mr(u,l)}s.push(l)}return s}function h2(t,e,{clamp:n=!0,ease:s,mixer:r}={}){const a=t.length;if(hg(a===e.length),a===1)return()=>e[0];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=gC(e,s,r),l=o.length,u=d=>{let f=0;if(l>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const h=fl(t[f],t[f+1],d);return o[f](h)};return n?d=>u(Nr(t[0],t[a-1],d)):u}function yC(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const r=fl(0,e,s);t.push(Ge(n,1,r))}}function xC(t){const e=[0];return yC(e,t.length-1),e}function vC(t,e){return t.map(n=>n*e)}function wC(t,e){return t.map(()=>e||Q_).splice(0,t.length-1)}function Lu({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const r=tC(s)?s.map(C0):C0(s),a={done:!1,value:e[0]},o=vC(n&&n.length===e.length?n:xC(e),t),l=h2(o,e,{ease:Array.isArray(r)?r:wC(e,r)});return{calculatedDuration:t,next:u=>(a.value=l(u),a.done=u>=t,a)}}function f2(t,e){return e?t*(1e3/e):0}const bC=5;function m2(t,e,n){const s=Math.max(e-bC,0);return f2(n-t(s),e-s)}const rf=.001,_C=.01,NC=10,SC=.05,TC=1;function EC({duration:t=800,bounce:e=.25,velocity:n=0,mass:s=1}){let r,a,o=1-e;o=Nr(SC,TC,o),t=Nr(_C,NC,xs(t)),o<1?(r=d=>{const f=d*o,h=f*t,p=f-n,v=bm(d,o),T=Math.exp(-h);return rf-p/v*T},a=d=>{const h=d*o*t,p=h*n+n,v=Math.pow(o,2)*Math.pow(d,2)*t,T=Math.exp(-h),S=bm(Math.pow(d,2),o);return(-r(d)+rf>0?-1:1)*((p-v)*T)/S}):(r=d=>{const f=Math.exp(-d*t),h=(d-n)*t+1;return-rf+f*h},a=d=>{const f=Math.exp(-d*t),h=(n-d)*(t*t);return f*h});const l=5/t,u=kC(r,a,l);if(t=li(t),isNaN(u))return{stiffness:100,damping:10,duration:t};{const d=Math.pow(u,2)*s;return{stiffness:d,damping:o*2*Math.sqrt(s*d),duration:t}}}const jC=12;function kC(t,e,n){let s=n;for(let r=1;r<jC;r++)s=s-t(s)/e(s);return s}function bm(t,e){return t*Math.sqrt(1-e*e)}const IC=["duration","bounce"],CC=["stiffness","damping","mass"];function R0(t,e){return e.some(n=>t[n]!==void 0)}function AC(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!R0(t,CC)&&R0(t,IC)){const n=EC(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function p2({keyframes:t,restDelta:e,restSpeed:n,...s}){const r=t[0],a=t[t.length-1],o={done:!1,value:r},{stiffness:l,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:p}=AC({...s,velocity:-xs(s.velocity||0)}),v=h||0,T=u/(2*Math.sqrt(l*d)),S=a-r,I=xs(Math.sqrt(l/d)),N=Math.abs(S)<5;n||(n=N?.01:2),e||(e=N?.005:.5);let y;if(T<1){const b=bm(I,T);y=D=>{const M=Math.exp(-T*I*D);return a-M*((v+T*I*S)/b*Math.sin(b*D)+S*Math.cos(b*D))}}else if(T===1)y=b=>a-Math.exp(-I*b)*(S+(v+I*S)*b);else{const b=I*Math.sqrt(T*T-1);y=D=>{const M=Math.exp(-T*I*D),z=Math.min(b*D,300);return a-M*((v+T*I*S)*Math.sinh(z)+b*S*Math.cosh(z))/b}}return{calculatedDuration:p&&f||null,next:b=>{const D=y(b);if(p)o.done=b>=f;else{let M=v;b!==0&&(T<1?M=m2(y,b,D):M=0);const z=Math.abs(M)<=n,k=Math.abs(a-D)<=e;o.done=z&&k}return o.value=o.done?a:D,o}}}function D0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:u,restDelta:d=.5,restSpeed:f}){const h=t[0],p={done:!1,value:h},v=_=>l!==void 0&&_<l||u!==void 0&&_>u,T=_=>l===void 0?u:u===void 0||Math.abs(l-_)<Math.abs(u-_)?l:u;let S=n*e;const I=h+S,N=o===void 0?I:o(I);N!==I&&(S=N-h);const y=_=>-S*Math.exp(-_/s),b=_=>N+y(_),D=_=>{const E=y(_),A=b(_);p.done=Math.abs(E)<=d,p.value=p.done?N:A};let M,z;const k=_=>{v(p.value)&&(M=_,z=p2({keyframes:[p.value,T(p.value)],velocity:m2(b,_,p.value),damping:r,stiffness:a,restDelta:d,restSpeed:f}))};return k(0),{calculatedDuration:null,next:_=>{let E=!1;return!z&&M===void 0&&(E=!0,D(_),k(_)),M!==void 0&&_>M?z.next(_-M):(!E&&D(_),p)}}}const PC=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Le.update(e,!0),stop:()=>ks(e),now:()=>Dt.isProcessing?Dt.timestamp:performance.now()}},V0=2e4;function L0(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<V0;)e+=n,s=t.next(e);return e>=V0?1/0:e}const RC={decay:D0,inertia:D0,tween:Lu,keyframes:Lu,spring:p2};function Mu({autoplay:t=!0,delay:e=0,driver:n=PC,keyframes:s,type:r="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:l="loop",onPlay:u,onStop:d,onComplete:f,onUpdate:h,...p}){let v=1,T=!1,S,I;const N=()=>{I=new Promise(ne=>{S=ne})};N();let y;const b=RC[r]||Lu;let D;b!==Lu&&typeof s[0]!="number"&&(D=h2([0,100],s,{clamp:!1}),s=[0,100]);const M=b({...p,keyframes:s});let z;l==="mirror"&&(z=b({...p,keyframes:[...s].reverse(),velocity:-(p.velocity||0)}));let k="idle",_=null,E=null,A=null;M.calculatedDuration===null&&a&&(M.calculatedDuration=L0(M));const{calculatedDuration:P}=M;let V=1/0,C=1/0;P!==null&&(V=P+o,C=V*(a+1)-o);let Q=0;const ae=ne=>{if(E===null)return;v>0&&(E=Math.min(E,ne)),v<0&&(E=Math.min(ne-C/v,E)),_!==null?Q=_:Q=Math.round(ne-E)*v;const G=Q-e*(v>=0?1:-1),pe=v>=0?G<0:G>C;Q=Math.max(G,0),k==="finished"&&_===null&&(Q=C);let je=Q,Me=M;if(a){const xt=Math.min(Q,C)/V;let Te=Math.floor(xt),He=xt%1;!He&&xt>=1&&(He=1),He===1&&Te--,Te=Math.min(Te,a+1),!!(Te%2)&&(l==="reverse"?(He=1-He,o&&(He-=o/V)):l==="mirror"&&(Me=z)),je=Nr(0,1,He)*V}const O=pe?{done:!1,value:s[0]}:Me.next(je);D&&(O.value=D(O.value));let{done:ce}=O;!pe&&P!==null&&(ce=v>=0?Q>=C:Q<=0);const Se=_===null&&(k==="finished"||k==="running"&&ce);return h&&h(O.value),Se&&L(),O},me=()=>{y&&y.stop(),y=void 0},ze=()=>{k="idle",me(),S(),N(),E=A=null},L=()=>{k="finished",f&&f(),me(),S()},B=()=>{if(T)return;y||(y=n(ae));const ne=y.now();u&&u(),_!==null?E=ne-_:(!E||k==="finished")&&(E=ne),k==="finished"&&N(),A=E,_=null,k="running",y.start()};t&&B();const Z={then(ne,G){return I.then(ne,G)},get time(){return xs(Q)},set time(ne){ne=li(ne),Q=ne,_!==null||!y||v===0?_=ne:E=y.now()-ne/v},get duration(){const ne=M.calculatedDuration===null?L0(M):M.calculatedDuration;return xs(ne)},get speed(){return v},set speed(ne){ne===v||!y||(v=ne,Z.time=xs(Q))},get state(){return k},play:B,pause:()=>{k="paused",_=Q},stop:()=>{T=!0,k!=="idle"&&(k="idle",d&&d(),ze())},cancel:()=>{A!==null&&ae(A),ze()},complete:()=>{k="finished"},sample:ne=>(E=0,ae(ne))};return Z}function DC(t){let e;return()=>(e===void 0&&(e=t()),e)}const VC=DC(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),LC=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),jc=10,MC=2e4,OC=(t,e)=>e.type==="spring"||t==="backgroundColor"||!q_(e.ease);function FC(t,e,{onUpdate:n,onComplete:s,...r}){if(!(VC()&&LC.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0&&r.type!=="inertia"))return!1;let o=!1,l,u,d=!1;const f=()=>{u=new Promise(b=>{l=b})};f();let{keyframes:h,duration:p=300,ease:v,times:T}=r;if(OC(e,r)){const b=Mu({...r,repeat:0,delay:0});let D={done:!1,value:h[0]};const M=[];let z=0;for(;!D.done&&z<MC;)D=b.sample(z),M.push(D.value),z+=jc;T=void 0,h=M,p=z-jc,v="linear"}const S=KI(t.owner.current,e,h,{...r,duration:p,ease:v,times:T}),I=()=>{d=!1,S.cancel()},N=()=>{d=!0,Le.update(I),l(),f()};return S.onfinish=()=>{d||(t.set(YI(h,r)),s&&s(),N())},{then(b,D){return u.then(b,D)},attachTimeline(b){return S.timeline=b,S.onfinish=null,st},get time(){return xs(S.currentTime||0)},set time(b){S.currentTime=li(b)},get speed(){return S.playbackRate},set speed(b){S.playbackRate=b},get duration(){return xs(p)},play:()=>{o||(S.play(),ks(I))},pause:()=>S.pause(),stop:()=>{if(o=!0,S.playState==="idle")return;const{currentTime:b}=S;if(b){const D=Mu({...r,autoplay:!1});t.setWithVelocity(D.sample(b-jc).value,D.sample(b).value,jc)}N()},complete:()=>{d||S.finish()},cancel:N}}function UC({keyframes:t,delay:e,onUpdate:n,onComplete:s}){const r=()=>(n&&n(t[t.length-1]),s&&s(),{time:0,speed:1,duration:0,play:st,pause:st,stop:st,then:a=>(a(),Promise.resolve()),cancel:st,complete:st});return e?Mu({keyframes:[0,1],duration:0,delay:e,onComplete:r}):r()}const $C={type:"spring",stiffness:500,damping:25,restSpeed:10},BC=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),zC={type:"keyframes",duration:.8},HC={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},WC=(t,{keyframes:e})=>e.length>2?zC:Ei.has(t)?t.startsWith("scale")?BC(e[1]):$C:HC,_m=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Sr.test(e)||e==="0")&&!e.startsWith("url(")),qC=new Set(["brightness","contrast","saturate","opacity"]);function GC(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Dd)||[];if(!s)return t;const r=n.replace(s,"");let a=qC.has(e)?1:0;return s!==n&&(a*=100),e+"("+a+r+")"}const KC=/([a-z-]*)\(.*?\)/g,Nm={...Sr,getAnimatableNone:t=>{const e=t.match(KC);return e?e.map(GC).join(" "):t}},YC={...I_,color:$t,backgroundColor:$t,outlineColor:$t,fill:$t,stroke:$t,borderColor:$t,borderTopColor:$t,borderRightColor:$t,borderBottomColor:$t,borderLeftColor:$t,filter:Nm,WebkitFilter:Nm},gg=t=>YC[t];function g2(t,e){let n=gg(t);return n!==Nm&&(n=Sr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const y2=t=>/^0[^.\s]+$/.test(t);function QC(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||y2(t)}function JC(t,e,n,s){const r=_m(e,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const o=s.from!==void 0?s.from:t.get();let l;const u=[];for(let d=0;d<a.length;d++)a[d]===null&&(a[d]=d===0?o:a[d-1]),QC(a[d])&&u.push(d),typeof a[d]=="string"&&a[d]!=="none"&&a[d]!=="0"&&(l=a[d]);if(r&&u.length&&l)for(let d=0;d<u.length;d++){const f=u[d];a[f]=g2(e,l)}return a}function XC({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:a,repeatType:o,repeatDelay:l,from:u,elapsed:d,...f}){return!!Object.keys(f).length}function yg(t,e){return t[e]||t.default||t}const ZC={skipAnimations:!1},xg=(t,e,n,s={})=>r=>{const a=yg(s,t)||{},o=a.delay||s.delay||0;let{elapsed:l=0}=s;l=l-li(o);const u=JC(e,t,n,a),d=u[0],f=u[u.length-1],h=_m(t,d),p=_m(t,f);let v={keyframes:u,velocity:e.getVelocity(),ease:"easeOut",...a,delay:-l,onUpdate:T=>{e.set(T),a.onUpdate&&a.onUpdate(T)},onComplete:()=>{r(),a.onComplete&&a.onComplete()}};if(XC(a)||(v={...v,...WC(t,v)}),v.duration&&(v.duration=li(v.duration)),v.repeatDelay&&(v.repeatDelay=li(v.repeatDelay)),!h||!p||GI.current||a.type===!1||ZC.skipAnimations)return UC(v);if(!s.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const T=FC(e,t,v);if(T)return T}return Mu(v)};function Ou(t){return!!(en(t)&&t.add)}const x2=t=>/^\-?\d*\.?\d+$/.test(t);function vg(t,e){t.indexOf(e)===-1&&t.push(e)}function wg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class bg{constructor(){this.subscriptions=[]}add(e){return vg(this.subscriptions,e),()=>wg(this.subscriptions,e)}notify(e,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,s);else for(let a=0;a<r;a++){const o=this.subscriptions[a];o&&o(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const eA=t=>!isNaN(parseFloat(t));class tA{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(s,r=!0)=>{this.prev=this.current,this.current=s;const{delta:a,timestamp:o}=Dt;this.lastUpdated!==o&&(this.timeDelta=a,this.lastUpdated=o,Le.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Le.postRender(this.velocityCheck),this.velocityCheck=({timestamp:s})=>{s!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=eA(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new bg);const s=this.events[e].add(n);return e==="change"?()=>{s(),Le.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=e,this.timeDelta=s}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?f2(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function wa(t,e){return new tA(t,e)}const v2=t=>e=>e.test(t),nA={test:t=>t==="auto",parse:t=>t},w2=[ji,ue,Zn,Gs,cI,lI,nA],po=t=>w2.find(v2(t)),sA=[...w2,$t,Sr],rA=t=>sA.find(v2(t));function iA(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,wa(n))}function aA(t,e){const n=Ld(t,e);let{transitionEnd:s={},transition:r={},...a}=n?t.makeTargetAnimatable(n,!1):{};a={...a,...s};for(const o in a){const l=NI(a[o]);iA(t,o,l)}}function oA(t,e,n){var s,r;const a=Object.keys(e).filter(l=>!t.hasValue(l)),o=a.length;if(o)for(let l=0;l<o;l++){const u=a[l],d=e[u];let f=null;Array.isArray(d)&&(f=d[0]),f===null&&(f=(r=(s=n[u])!==null&&s!==void 0?s:t.readValue(u))!==null&&r!==void 0?r:e[u]),f!=null&&(typeof f=="string"&&(x2(f)||y2(f))?f=parseFloat(f):!rA(f)&&Sr.test(d)&&(f=g2(u,d)),t.addValue(u,wa(f,{owner:t})),n[u]===void 0&&(n[u]=f),f!==null&&t.setBaseTarget(u,f))}}function lA(t,e){return e?(e[t]||e.default||e).from:void 0}function cA(t,e,n){const s={};for(const r in t){const a=lA(r,e);if(a!==void 0)s[r]=a;else{const o=n.getValue(r);o&&(s[r]=o.get())}}return s}function uA({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function dA(t,e){const n=t.get();if(Array.isArray(e)){for(let s=0;s<e.length;s++)if(e[s]!==n)return!0}else return n!==e}function b2(t,e,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:o,...l}=t.makeTargetAnimatable(e);const u=t.getValue("willChange");s&&(a=s);const d=[],f=r&&t.animationState&&t.animationState.getState()[r];for(const h in l){const p=t.getValue(h),v=l[h];if(!p||v===void 0||f&&uA(f,h))continue;const T={delay:n,elapsed:0,...yg(a||{},h)};if(window.HandoffAppearAnimations){const N=t.getProps()[__];if(N){const y=window.HandoffAppearAnimations(N,h,p,Le);y!==null&&(T.elapsed=y,T.isHandoff=!0)}}let S=!T.isHandoff&&!dA(p,v);if(T.type==="spring"&&(p.getVelocity()||T.velocity)&&(S=!1),p.animation&&(S=!1),S)continue;p.start(xg(h,p,v,t.shouldReduceMotion&&Ei.has(h)?{type:!1}:T));const I=p.animation;Ou(u)&&(u.add(h),I.then(()=>u.remove(h))),d.push(I)}return o&&Promise.all(d).then(()=>{o&&aA(t,o)}),d}function Sm(t,e,n={}){const s=Ld(t,e,n.custom);let{transition:r=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const a=s?()=>Promise.all(b2(t,s,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=r;return hA(t,e,d+u,f,h,n)}:()=>Promise.resolve(),{when:l}=r;if(l){const[u,d]=l==="beforeChildren"?[a,o]:[o,a];return u().then(()=>d())}else return Promise.all([a(),o(n.delay)])}function hA(t,e,n=0,s=0,r=1,a){const o=[],l=(t.variantChildren.size-1)*s,u=r===1?(d=0)=>d*s:(d=0)=>l-d*s;return Array.from(t.variantChildren).sort(fA).forEach((d,f)=>{d.notify("AnimationStart",e),o.push(Sm(d,e,{...a,delay:n+u(f)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(o)}function fA(t,e){return t.sortNodePosition(e)}function mA(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const r=e.map(a=>Sm(t,a,n));s=Promise.all(r)}else if(typeof e=="string")s=Sm(t,e,n);else{const r=typeof e=="function"?Ld(t,e,n.custom):e;s=Promise.all(b2(t,r,n))}return s.then(()=>t.notify("AnimationComplete",e))}const pA=[...ng].reverse(),gA=ng.length;function yA(t){return e=>Promise.all(e.map(({animation:n,options:s})=>mA(t,n,s)))}function xA(t){let e=yA(t);const n=wA();let s=!0;const r=(u,d)=>{const f=Ld(t,d);if(f){const{transition:h,transitionEnd:p,...v}=f;u={...u,...v,...p}}return u};function a(u){e=u(t)}function o(u,d){const f=t.getProps(),h=t.getVariantContext(!0)||{},p=[],v=new Set;let T={},S=1/0;for(let N=0;N<gA;N++){const y=pA[N],b=n[y],D=f[y]!==void 0?f[y]:h[y],M=dl(D),z=y===d?b.isActive:null;z===!1&&(S=N);let k=D===h[y]&&D!==f[y]&&M;if(k&&s&&t.manuallyAnimateOnMount&&(k=!1),b.protectedKeys={...T},!b.isActive&&z===null||!D&&!b.prevProp||Pd(D)||typeof D=="boolean")continue;let E=vA(b.prevProp,D)||y===d&&b.isActive&&!k&&M||N>S&&M,A=!1;const P=Array.isArray(D)?D:[D];let V=P.reduce(r,{});z===!1&&(V={});const{prevResolvedValues:C={}}=b,Q={...C,...V},ae=me=>{E=!0,v.has(me)&&(A=!0,v.delete(me)),b.needsAnimating[me]=!0};for(const me in Q){const ze=V[me],L=C[me];if(T.hasOwnProperty(me))continue;let B=!1;Du(ze)&&Du(L)?B=!H_(ze,L):B=ze!==L,B?ze!==void 0?ae(me):v.add(me):ze!==void 0&&v.has(me)?ae(me):b.protectedKeys[me]=!0}b.prevProp=D,b.prevResolvedValues=V,b.isActive&&(T={...T,...V}),s&&t.blockInitialAnimation&&(E=!1),E&&(!k||A)&&p.push(...P.map(me=>({animation:me,options:{type:y,...u}})))}if(v.size){const N={};v.forEach(y=>{const b=t.getBaseTarget(y);b!==void 0&&(N[y]=b)}),p.push({animation:N})}let I=!!p.length;return s&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(I=!1),s=!1,I?e(p):Promise.resolve()}function l(u,d,f){var h;if(n[u].isActive===d)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(v=>{var T;return(T=v.animationState)===null||T===void 0?void 0:T.setActive(u,d)}),n[u].isActive=d;const p=o(f,u);for(const v in n)n[v].protectedKeys={};return p}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>n}}function vA(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!H_(e,t):!1}function Gr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function wA(){return{animate:Gr(!0),whileInView:Gr(),whileHover:Gr(),whileTap:Gr(),whileDrag:Gr(),whileFocus:Gr(),exit:Gr()}}class bA extends Lr{constructor(e){super(e),e.animationState||(e.animationState=xA(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Pd(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let _A=0;class NA extends Lr{constructor(){super(...arguments),this.id=_A++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e,{custom:s??this.node.getProps().custom});n&&!e&&a.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const SA={animation:{Feature:bA},exit:{Feature:NA}},M0=(t,e)=>Math.abs(t-e);function TA(t,e){const n=M0(t.x,e.x),s=M0(t.y,e.y);return Math.sqrt(n**2+s**2)}class _2{constructor(e,n,{transformPagePoint:s,contextWindow:r,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=of(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,v=TA(h.offset,{x:0,y:0})>=3;if(!p&&!v)return;const{point:T}=h,{timestamp:S}=Dt;this.history.push({...T,timestamp:S});const{onStart:I,onMove:N}=this.handlers;p||(I&&I(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=af(p,this.transformPagePoint),Le.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:v,onSessionEnd:T,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=of(h.type==="pointercancel"?this.lastMoveEventInfo:af(p,this.transformPagePoint),this.history);this.startEvent&&v&&v(h,I),T&&T(h,I)},!F_(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.contextWindow=r||window;const o=Vd(e),l=af(o,this.transformPagePoint),{point:u}=l,{timestamp:d}=Dt;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=n;f&&f(e,of(l,this.history)),this.removeListeners=mr(ys(this.contextWindow,"pointermove",this.handlePointerMove),ys(this.contextWindow,"pointerup",this.handlePointerUp),ys(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ks(this.updatePoint)}}function af(t,e){return e?{point:e(t.point)}:t}function O0(t,e){return{x:t.x-e.x,y:t.y-e.y}}function of({point:t},e){return{point:t,delta:O0(t,N2(e)),offset:O0(t,EA(e)),velocity:jA(e,.1)}}function EA(t){return t[0]}function N2(t){return t[t.length-1]}function jA(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const r=N2(t);for(;n>=0&&(s=t[n],!(r.timestamp-s.timestamp>li(e)));)n--;if(!s)return{x:0,y:0};const a=xs(r.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const o={x:(r.x-s.x)/a,y:(r.y-s.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function hn(t){return t.max-t.min}function Tm(t,e=0,n=.01){return Math.abs(t-e)<=n}function F0(t,e,n,s=.5){t.origin=s,t.originPoint=Ge(e.min,e.max,t.origin),t.scale=hn(n)/hn(e),(Tm(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Ge(n.min,n.max,t.origin)-t.originPoint,(Tm(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Fo(t,e,n,s){F0(t.x,e.x,n.x,s?s.originX:void 0),F0(t.y,e.y,n.y,s?s.originY:void 0)}function U0(t,e,n){t.min=n.min+e.min,t.max=t.min+hn(e)}function kA(t,e,n){U0(t.x,e.x,n.x),U0(t.y,e.y,n.y)}function $0(t,e,n){t.min=e.min-n.min,t.max=t.min+hn(e)}function Uo(t,e,n){$0(t.x,e.x,n.x),$0(t.y,e.y,n.y)}function IA(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Ge(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Ge(n,t,s.max):Math.min(t,n)),t}function B0(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function CA(t,{top:e,left:n,bottom:s,right:r}){return{x:B0(t.x,n,r),y:B0(t.y,e,s)}}function z0(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function AA(t,e){return{x:z0(t.x,e.x),y:z0(t.y,e.y)}}function PA(t,e){let n=.5;const s=hn(t),r=hn(e);return r>s?n=fl(e.min,e.max-s,t.min):s>r&&(n=fl(t.min,t.max-r,e.min)),Nr(0,1,n)}function RA(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Em=.35;function DA(t=Em){return t===!1?t=0:t===!0&&(t=Em),{x:H0(t,"left","right"),y:H0(t,"top","bottom")}}function H0(t,e,n){return{min:W0(t,e),max:W0(t,n)}}function W0(t,e){return typeof t=="number"?t:t[e]||0}const q0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Zi=()=>({x:q0(),y:q0()}),G0=()=>({min:0,max:0}),it=()=>({x:G0(),y:G0()});function gn(t){return[t("x"),t("y")]}function S2({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function VA({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function LA(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function lf(t){return t===void 0||t===1}function jm({scale:t,scaleX:e,scaleY:n}){return!lf(t)||!lf(e)||!lf(n)}function Qr(t){return jm(t)||T2(t)||t.z||t.rotate||t.rotateX||t.rotateY}function T2(t){return K0(t.x)||K0(t.y)}function K0(t){return t&&t!=="0%"}function Fu(t,e,n){const s=t-n,r=e*s;return n+r}function Y0(t,e,n,s,r){return r!==void 0&&(t=Fu(t,r,s)),Fu(t,n,s)+e}function km(t,e=0,n=1,s,r){t.min=Y0(t.min,e,n,s,r),t.max=Y0(t.max,e,n,s,r)}function E2(t,{x:e,y:n}){km(t.x,e.translate,e.scale,e.originPoint),km(t.y,n.translate,n.scale,n.originPoint)}function MA(t,e,n,s=!1){const r=n.length;if(!r)return;e.x=e.y=1;let a,o;for(let l=0;l<r;l++){a=n[l],o=a.projectionDelta;const u=a.instance;u&&u.style&&u.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ea(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,E2(t,o)),s&&Qr(a.latestValues)&&ea(t,a.latestValues))}e.x=Q0(e.x),e.y=Q0(e.y)}function Q0(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Qs(t,e){t.min=t.min+e,t.max=t.max+e}function J0(t,e,[n,s,r]){const a=e[r]!==void 0?e[r]:.5,o=Ge(t.min,t.max,a);km(t,e[n],e[s],o,e.scale)}const OA=["x","scaleX","originX"],FA=["y","scaleY","originY"];function ea(t,e){J0(t.x,e,OA),J0(t.y,e,FA)}function j2(t,e){return S2(LA(t.getBoundingClientRect(),e))}function UA(t,e,n){const s=j2(t,n),{scroll:r}=e;return r&&(Qs(s.x,r.offset.x),Qs(s.y,r.offset.y)),s}const k2=({current:t})=>t?t.ownerDocument.defaultView:null,$A=new WeakMap;class BA{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=it(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Vd(f,"page").point)},a=(f,h)=>{const{drag:p,dragPropagation:v,onDragStart:T}=this.getProps();if(p&&!v&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=$_(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),gn(I=>{let N=this.getAxisMotionValue(I).get()||0;if(Zn.test(N)){const{projection:y}=this.visualElement;if(y&&y.layout){const b=y.layout.layoutBox[I];b&&(N=hn(b)*(parseFloat(N)/100))}}this.originPoint[I]=N}),T&&Le.update(()=>T(f,h),!1,!0);const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},o=(f,h)=>{const{dragPropagation:p,dragDirectionLock:v,onDirectionLock:T,onDrag:S}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:I}=h;if(v&&this.currentDirection===null){this.currentDirection=zA(I),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",h.point,I),this.updateAxis("y",h.point,I),this.visualElement.render(),S&&S(f,h)},l=(f,h)=>this.stop(f,h),u=()=>gn(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new _2(e,{onSessionStart:r,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:k2(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:a}=this.getProps();a&&Le.update(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:r}=this.getProps();if(!s||!kc(e,r,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(o=IA(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&Ji(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=CA(r.layoutBox,n):this.constraints=!1,this.elastic=DA(s),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&gn(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=RA(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ji(e))return!1;const s=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=UA(s,r.root,this.visualElement.getTransformPagePoint());let o=AA(r.layout.layoutBox,a);if(n){const l=n(VA(o));this.hasMutatedConstraints=!!l,l&&(o=S2(l))}return o}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},d=gn(f=>{if(!kc(f,n,this.currentDirection))return;let h=u&&u[f]||{};o&&(h={min:0,max:0});const p=r?200:1e6,v=r?40:1e7,T={type:"inertia",velocity:s?e[f]:0,bounceStiffness:p,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(f,T)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return s.start(xg(e,s,0,n))}stopAnimation(){gn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){gn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){gn(n=>{const{drag:s}=this.getProps();if(!kc(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:l}=r.layout.layoutBox[n];a.set(e[n]-Ge(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Ji(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};gn(o=>{const l=this.getAxisMotionValue(o);if(l){const u=l.get();r[o]=PA({min:u,max:u},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),gn(o=>{if(!kc(o,e,null))return;const l=this.getAxisMotionValue(o),{min:u,max:d}=this.constraints[o];l.set(Ge(u,d,r[o]))})}addListeners(){if(!this.visualElement.current)return;$A.set(this.visualElement,this);const e=this.visualElement.current,n=ys(e,"pointerdown",u=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(u)}),s=()=>{const{dragConstraints:u}=this.getProps();Ji(u)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,a=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),s();const o=fs(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(gn(f=>{const h=this.getAxisMotionValue(f);h&&(this.originPoint[f]+=u[f].translate,h.set(h.get()+u[f].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:o=Em,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function kc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function zA(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class HA extends Lr{constructor(e){super(e),this.removeGroupControls=st,this.removeListeners=st,this.controls=new BA(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||st}unmount(){this.removeGroupControls(),this.removeListeners()}}const X0=t=>(e,n)=>{t&&Le.update(()=>t(e,n))};class WA extends Lr{constructor(){super(...arguments),this.removePointerDownListener=st}onPointerDown(e){this.session=new _2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:k2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:X0(e),onStart:X0(n),onMove:s,onEnd:(a,o)=>{delete this.session,r&&Le.update(()=>r(a,o))}}}mount(){this.removePointerDownListener=ys(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function qA(){const t=R.useContext(Cd);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:s}=t,r=R.useId();return R.useEffect(()=>s(r),[]),!e&&n?[!1,()=>n&&n(r)]:[!0]}const Kc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Z0(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const go={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ue.test(t))t=parseFloat(t);else return t;const n=Z0(t,e.target.x),s=Z0(t,e.target.y);return`${n}% ${s}%`}},GA={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,r=Sr.parse(t);if(r.length>5)return s;const a=Sr.createTransformer(t),o=typeof r[0]!="number"?1:0,l=n.x.scale*e.x,u=n.y.scale*e.y;r[0+o]/=l,r[1+o]/=u;const d=Ge(l,u,.5);return typeof r[2+o]=="number"&&(r[2+o]/=d),typeof r[3+o]=="number"&&(r[3+o]/=d),a(r)}};class KA extends fd.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:a}=e;tI(YA),a&&(n.group&&n.group.add(a),s&&s.register&&r&&s.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Kc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:r,isPresent:a}=this.props,o=s.projection;return o&&(o.isPresent=a,r||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||Le.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function I2(t){const[e,n]=qA(),s=R.useContext(rg);return fd.createElement(KA,{...t,layoutGroup:s,switchLayoutGroup:R.useContext(S_),isPresent:e,safeToRemove:n})}const YA={borderRadius:{...go,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:go,borderTopRightRadius:go,borderBottomLeftRadius:go,borderBottomRightRadius:go,boxShadow:GA},C2=["TopLeft","TopRight","BottomLeft","BottomRight"],QA=C2.length,ev=t=>typeof t=="string"?parseFloat(t):t,tv=t=>typeof t=="number"||ue.test(t);function JA(t,e,n,s,r,a){r?(t.opacity=Ge(0,n.opacity!==void 0?n.opacity:1,XA(s)),t.opacityExit=Ge(e.opacity!==void 0?e.opacity:1,0,ZA(s))):a&&(t.opacity=Ge(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let o=0;o<QA;o++){const l=`border${C2[o]}Radius`;let u=nv(e,l),d=nv(n,l);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||tv(u)===tv(d)?(t[l]=Math.max(Ge(ev(u),ev(d),s),0),(Zn.test(d)||Zn.test(u))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=Ge(e.rotate||0,n.rotate||0,s))}function nv(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const XA=A2(0,.5,Z_),ZA=A2(.5,.95,st);function A2(t,e,n){return s=>s<t?0:s>e?1:n(fl(t,e,s))}function sv(t,e){t.min=e.min,t.max=e.max}function pn(t,e){sv(t.x,e.x),sv(t.y,e.y)}function rv(t,e,n,s,r){return t-=e,t=Fu(t,1/n,s),r!==void 0&&(t=Fu(t,1/r,s)),t}function eP(t,e=0,n=1,s=.5,r,a=t,o=t){if(Zn.test(e)&&(e=parseFloat(e),e=Ge(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Ge(a.min,a.max,s);t===a&&(l-=e),t.min=rv(t.min,e,n,l,r),t.max=rv(t.max,e,n,l,r)}function iv(t,e,[n,s,r],a,o){eP(t,e[n],e[s],e[r],e.scale,a,o)}const tP=["x","scaleX","originX"],nP=["y","scaleY","originY"];function av(t,e,n,s){iv(t.x,e,tP,n?n.x:void 0,s?s.x:void 0),iv(t.y,e,nP,n?n.y:void 0,s?s.y:void 0)}function ov(t){return t.translate===0&&t.scale===1}function P2(t){return ov(t.x)&&ov(t.y)}function sP(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function R2(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function lv(t){return hn(t.x)/hn(t.y)}class rP{constructor(){this.members=[]}add(e){vg(this.members,e),e.scheduleRender()}remove(e){if(wg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const a=this.members[r];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function cv(t,e,n){let s="";const r=t.x.translate/e.x,a=t.y.translate/e.y;if((r||a)&&(s=`translate3d(${r}px, ${a}px, 0) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:u,rotateX:d,rotateY:f}=n;u&&(s+=`rotate(${u}deg) `),d&&(s+=`rotateX(${d}deg) `),f&&(s+=`rotateY(${f}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(s+=`scale(${o}, ${l})`),s||"none"}const iP=(t,e)=>t.depth-e.depth;class aP{constructor(){this.children=[],this.isDirty=!1}add(e){vg(this.children,e),this.isDirty=!0}remove(e){wg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(iP),this.isDirty=!1,this.children.forEach(e)}}function oP(t,e){const n=performance.now(),s=({timestamp:r})=>{const a=r-n;a>=e&&(ks(s),t(a-e))};return Le.read(s,!0),()=>ks(s)}function lP(t){window.MotionDebug&&window.MotionDebug.record(t)}function cP(t){return t instanceof SVGElement&&t.tagName!=="svg"}function uP(t,e,n){const s=en(t)?t:wa(t);return s.start(xg("",s,e,n)),s.animation}const uv=["","X","Y","Z"],dP={visibility:"hidden"},dv=1e3;let hP=0;const Jr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function D2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(o={},l=e==null?void 0:e()){this.id=hP++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Jr.totalNodes=Jr.resolvedTargetDeltas=Jr.recalculatedProjection=0,this.nodes.forEach(pP),this.nodes.forEach(wP),this.nodes.forEach(bP),this.nodes.forEach(gP),lP(Jr)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new aP)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new bg),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const u=this.eventHandlers.get(o);u&&u.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=cP(o),this.instance=o;const{layoutId:u,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||u)&&(this.isLayoutDirty=!0),t){let h;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=oP(p,250),Kc.hasAnimatedSinceResize&&(Kc.hasAnimatedSinceResize=!1,this.nodes.forEach(fv))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:v,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||f.getDefaultTransition()||EP,{onLayoutAnimationStart:I,onLayoutAnimationComplete:N}=f.getProps(),y=!this.targetLayout||!R2(this.targetLayout,T)||v,b=!p&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||p&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,b);const D={...yg(S,"layout"),onPlay:I,onComplete:N};(f.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D)}else p||fv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ks(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(_P),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const h=this.path[f];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(hv);return}this.isUpdating||this.nodes.forEach(xP),this.isUpdating=!1,this.nodes.forEach(vP),this.nodes.forEach(fP),this.nodes.forEach(mP),this.clearAllSnapshots();const l=performance.now();Dt.delta=Nr(0,1e3/60,l-Dt.timestamp),Dt.timestamp=l,Dt.isProcessing=!0,Jh.update.process(Dt),Jh.preRender.process(Dt),Jh.render.process(Dt),Dt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(yP),this.sharedNodes.forEach(NP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Le.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Le.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=it(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:s(this.instance),offset:n(this.instance)})}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!P2(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;o&&(l||Qr(this.latestValues)||f)&&(r(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return o&&(u=this.removeTransform(u)),jP(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return it();const l=o.measureViewportBox(),{scroll:u}=this.root;return u&&(Qs(l.x,u.offset.x),Qs(l.y,u.offset.y)),l}removeElementScroll(o){const l=it();pn(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;if(d!==this.root&&f&&h.layoutScroll){if(f.isRoot){pn(l,o);const{scroll:p}=this.root;p&&(Qs(l.x,-p.offset.x),Qs(l.y,-p.offset.y))}Qs(l.x,f.offset.x),Qs(l.y,f.offset.y)}}return l}applyTransform(o,l=!1){const u=it();pn(u,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&ea(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Qr(f.latestValues)&&ea(u,f.latestValues)}return Qr(this.latestValues)&&ea(u,this.latestValues),u}removeTransform(o){const l=it();pn(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!Qr(d.latestValues))continue;jm(d.latestValues)&&d.updateSnapshot();const f=it(),h=d.measurePageBox();pn(f,h),av(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return Qr(this.latestValues)&&av(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Dt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=Dt.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=it(),this.relativeTargetOrigin=it(),Uo(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),pn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=it(),this.targetWithTransforms=it()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),kA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):pn(this.target,this.layout.layoutBox),E2(this.target,this.targetDelta)):pn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=it(),this.relativeTargetOrigin=it(),Uo(this.relativeTargetOrigin,this.target,v.target),pn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Jr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||jm(this.parent.latestValues)||T2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Dt.timestamp&&(d=!1),d)return;const{layout:f,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||h))return;pn(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,v=this.treeScale.y;MA(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:T}=l;if(!T){this.projectionTransform&&(this.projectionDelta=Zi(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Zi(),this.projectionDeltaWithTransform=Zi());const S=this.projectionTransform;Fo(this.projectionDelta,this.layoutCorrected,T,this.latestValues),this.projectionTransform=cv(this.projectionDelta,this.treeScale),(this.projectionTransform!==S||this.treeScale.x!==p||this.treeScale.y!==v)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T)),Jr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const u=this.snapshot,d=u?u.latestValues:{},f={...this.latestValues},h=Zi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=it(),v=u?u.source:void 0,T=this.layout?this.layout.source:void 0,S=v!==T,I=this.getStack(),N=!I||I.members.length<=1,y=!!(S&&!N&&this.options.crossfade===!0&&!this.path.some(TP));this.animationProgress=0;let b;this.mixTargetDelta=D=>{const M=D/1e3;mv(h.x,o.x,M),mv(h.y,o.y,M),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Uo(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),SP(this.relativeTarget,this.relativeTargetOrigin,p,M),b&&sP(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=it()),pn(b,this.relativeTarget)),S&&(this.animationValues=f,JA(f,d,this.latestValues,M,y,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ks(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Le.update(()=>{Kc.hasAnimatedSinceResize=!0,this.currentAnimation=uP(0,dv,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(dv),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:u,layout:d,latestValues:f}=o;if(!(!l||!u||!d)){if(this!==o&&this.layout&&d&&V2(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||it();const h=hn(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+h;const p=hn(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+p}pn(l,u),ea(l,f),Fo(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new rP),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:u}=o;if((u.rotate||u.rotateX||u.rotateY||u.rotateZ)&&(l=!0),!l)return;const d={};for(let f=0;f<uv.length;f++){const h="rotate"+uv[f];u[h]&&(d[h]=u[h],o.setStaticValue(h,0))}o.render();for(const f in d)o.setStaticValue(f,d[f]);o.scheduleRender()}getProjectionStyles(o){var l,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return dP;const d={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Gc(o==null?void 0:o.pointerEvents)||"",d.transform=f?f(this.latestValues,""):"none",d;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=Gc(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Qr(this.latestValues)&&(S.transform=f?f({},""):"none",this.hasProjected=!1),S}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),d.transform=cv(this.projectionDeltaWithTransform,this.treeScale,p),f&&(d.transform=f(p,d.transform));const{x:v,y:T}=this.projectionDelta;d.transformOrigin=`${v.origin*100}% ${T.origin*100}% 0`,h.animationValues?d.opacity=h===this?(u=(l=p.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:d.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const S in Pu){if(p[S]===void 0)continue;const{correct:I,applyTo:N}=Pu[S],y=d.transform==="none"?p[S]:I(p[S],h);if(N){const b=N.length;for(let D=0;D<b;D++)d[N[D]]=y}else d[S]=y}return this.options.layoutId&&(d.pointerEvents=h===this?Gc(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(hv),this.root.sharedNodes.clear()}}}function fP(t){t.updateLayout()}function mP(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=t.layout,{animationType:a}=t.options,o=n.source!==t.layout.source;a==="size"?gn(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],v=hn(p);p.min=s[h].min,p.max=p.min+v}):V2(a,n.layoutBox,s)&&gn(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],v=hn(s[h]);p.max=p.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+v)});const l=Zi();Fo(l,s,n.layoutBox);const u=Zi();o?Fo(u,t.applyTransform(r,!0),n.measuredBox):Fo(u,s,n.layoutBox);const d=!P2(l);let f=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:v}=h;if(p&&v){const T=it();Uo(T,n.layoutBox,p.layoutBox);const S=it();Uo(S,s,v.layoutBox),R2(T,S)||(f=!0),h.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=T,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:f})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function pP(t){Jr.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function gP(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function yP(t){t.clearSnapshot()}function hv(t){t.clearMeasurements()}function xP(t){t.isLayoutDirty=!1}function vP(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function fv(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function wP(t){t.resolveTargetDelta()}function bP(t){t.calcProjection()}function _P(t){t.resetRotation()}function NP(t){t.removeLeadSnapshot()}function mv(t,e,n){t.translate=Ge(e.translate,0,n),t.scale=Ge(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function pv(t,e,n,s){t.min=Ge(e.min,n.min,s),t.max=Ge(e.max,n.max,s)}function SP(t,e,n,s){pv(t.x,e.x,n.x,s),pv(t.y,e.y,n.y,s)}function TP(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const EP={duration:.45,ease:[.4,0,.1,1]},gv=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),yv=gv("applewebkit/")&&!gv("chrome/")?Math.round:st;function xv(t){t.min=yv(t.min),t.max=yv(t.max)}function jP(t){xv(t.x),xv(t.y)}function V2(t,e,n){return t==="position"||t==="preserve-aspect"&&!Tm(lv(e),lv(n),.2)}const kP=D2({attachResizeListener:(t,e)=>fs(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),cf={current:void 0},L2=D2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!cf.current){const t=new kP({});t.mount(window),t.setOptions({layoutScroll:!0}),cf.current=t}return cf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),IP={pan:{Feature:WA},drag:{Feature:HA,ProjectionNode:L2,MeasureLayout:I2}},CP=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function AP(t){const e=CP.exec(t);if(!e)return[,];const[,n,s]=e;return[n,s]}function Im(t,e,n=1){const[s,r]=AP(t);if(!s)return;const a=window.getComputedStyle(e).getPropertyValue(s);if(a){const o=a.trim();return x2(o)?parseFloat(o):o}else return xm(r)?Im(r,e,n+1):r}function PP(t,{...e},n){const s=t.current;if(!(s instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(r=>{const a=r.get();if(!xm(a))return;const o=Im(a,s);o&&r.set(o)});for(const r in e){const a=e[r];if(!xm(a))continue;const o=Im(a,s);o&&(e[r]=o,n||(n={}),n[r]===void 0&&(n[r]=a))}return{target:e,transitionEnd:n}}const RP=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),M2=t=>RP.has(t),DP=t=>Object.keys(t).some(M2),vv=t=>t===ji||t===ue,wv=(t,e)=>parseFloat(t.split(", ")[e]),bv=(t,e)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const r=s.match(/^matrix3d\((.+)\)$/);if(r)return wv(r[1],e);{const a=s.match(/^matrix\((.+)\)$/);return a?wv(a[1],t):0}},VP=new Set(["x","y","z"]),LP=Il.filter(t=>!VP.has(t));function MP(t){const e=[];return LP.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const ba={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:bv(4,13),y:bv(5,14)};ba.translateX=ba.x;ba.translateY=ba.y;const OP=(t,e,n)=>{const s=e.measureViewportBox(),r=e.current,a=getComputedStyle(r),{display:o}=a,l={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(d=>{l[d]=ba[d](s,a)}),e.render();const u=e.measureViewportBox();return n.forEach(d=>{const f=e.getValue(d);f&&f.jump(l[d]),t[d]=ba[d](u,a)}),t},FP=(t,e,n={},s={})=>{e={...e},s={...s};const r=Object.keys(e).filter(M2);let a=[],o=!1;const l=[];if(r.forEach(u=>{const d=t.getValue(u);if(!t.hasValue(u))return;let f=n[u],h=po(f);const p=e[u];let v;if(Du(p)){const T=p.length,S=p[0]===null?1:0;f=p[S],h=po(f);for(let I=S;I<T&&p[I]!==null;I++)v?hg(po(p[I])===v):v=po(p[I])}else v=po(p);if(h!==v)if(vv(h)&&vv(v)){const T=d.get();typeof T=="string"&&d.set(parseFloat(T)),typeof p=="string"?e[u]=parseFloat(p):Array.isArray(p)&&v===ue&&(e[u]=p.map(parseFloat))}else h!=null&&h.transform&&(v!=null&&v.transform)&&(f===0||p===0)?f===0?d.set(v.transform(f)):e[u]=h.transform(p):(o||(a=MP(t),o=!0),l.push(u),s[u]=s[u]!==void 0?s[u]:e[u],d.jump(p))}),l.length){const u=l.indexOf("height")>=0?window.pageYOffset:null,d=OP(e,t,l);return a.length&&a.forEach(([f,h])=>{t.getValue(f).set(h)}),t.render(),Ad&&u!==null&&window.scrollTo({top:u}),{target:d,transitionEnd:s}}else return{target:e,transitionEnd:s}};function UP(t,e,n,s){return DP(e)?FP(t,e,n,s):{target:e,transitionEnd:s}}const $P=(t,e,n,s)=>{const r=PP(t,e,s);return e=r.target,s=r.transitionEnd,UP(t,e,n,s)},Cm={current:null},O2={current:!1};function BP(){if(O2.current=!0,!!Ad)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Cm.current=t.matches;t.addListener(e),e()}else Cm.current=!1}function zP(t,e,n){const{willChange:s}=e;for(const r in e){const a=e[r],o=n[r];if(en(a))t.addValue(r,a),Ou(s)&&s.add(r);else if(en(o))t.addValue(r,wa(a,{owner:t})),Ou(s)&&s.remove(r);else if(o!==a)if(t.hasValue(r)){const l=t.getValue(r);!l.hasAnimated&&l.set(a)}else{const l=t.getStaticValue(r);t.addValue(r,wa(l!==void 0?l:a,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const _v=new WeakMap,F2=Object.keys(hl),HP=F2.length,Nv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],WP=sg.length;class qP{constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:r,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Le.render(this.render,!1,!0);const{latestValues:l,renderState:u}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.isControllingVariants=Rd(n),this.isVariantNode=N_(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{});for(const h in f){const p=f[h];l[h]!==void 0&&en(p)&&(p.set(l[h],!1),Ou(d)&&d.add(h))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,_v.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),O2.current||BP(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Cm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){_v.delete(this.current),this.projection&&this.projection.unmount(),ks(this.notifyUpdate),ks(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const s=Ei.has(e),r=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Le.update(this.notifyUpdate,!1,!0),s&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),a()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},s,r,a){let o,l;for(let u=0;u<HP;u++){const d=F2[u],{isEnabled:f,Feature:h,ProjectionNode:p,MeasureLayout:v}=hl[d];p&&(o=p),f(n)&&(!this.features[d]&&h&&(this.features[d]=new h(this)),v&&(l=v))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:u,layout:d,drag:f,dragConstraints:h,layoutScroll:p,layoutRoot:v}=n;this.projection.setOptions({layoutId:u,layout:d,alwaysMeasureLayout:!!f||h&&Ji(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:a,layoutScroll:p,layoutRoot:v})}return l}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):it()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Nv.length;s++){const r=Nv[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const a=e["on"+r];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=zP(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const s=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const n={};for(let s=0;s<WP;s++){const r=sg[s],a=this.props[r];(dl(a)||a===!1)&&(n[r]=a)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=wa(n,{owner:this}),this.addValue(e,s)),s}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:s}=this.props,r=typeof s=="string"||typeof s=="object"?(n=dg(this.props,s))===null||n===void 0?void 0:n[e]:void 0;if(s&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!en(a)?a:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new bg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class U2 extends qP{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...s},{transformValues:r},a){let o=cA(s,e||{},this);if(r&&(n&&(n=r(n)),s&&(s=r(s)),o&&(o=r(o))),a){oA(this,s,o);const l=$P(this,s,o,n);n=l.transitionEnd,s=l.target}return{transition:e,transitionEnd:n,...s}}}function GP(t){return window.getComputedStyle(t)}class KP extends U2{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Ei.has(n)){const s=gg(n);return s&&s.default||0}else{const s=GP(e),r=(j_(n)?s.getPropertyValue(n):s[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return j2(e,n)}build(e,n,s,r){ag(e,n,s,r.transformTemplate)}scrapeMotionValuesFromProps(e,n){return ug(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;en(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,s,r){R_(e,n,s,r)}}class YP extends U2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ei.has(n)){const s=gg(n);return s&&s.default||0}return n=D_.has(n)?n:tg(n),e.getAttribute(n)}measureInstanceViewportBox(){return it()}scrapeMotionValuesFromProps(e,n){return L_(e,n)}build(e,n,s,r){lg(e,n,s,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,s,r){V_(e,n,s,r)}mount(e){this.isSVGTag=cg(e.tagName),super.mount(e)}}const QP=(t,e)=>ig(t)?new YP(e,{enableHardwareAcceleration:!1}):new KP(e,{enableHardwareAcceleration:!0}),JP={layout:{ProjectionNode:L2,MeasureLayout:I2}},XP={...SA,...HI,...IP,...JP},U=Zk((t,e)=>AI(t,e,XP,QP));function $2(){const t=R.useRef(!1);return eg(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function ZP(){const t=$2(),[e,n]=R.useState(0),s=R.useCallback(()=>{t.current&&n(e+1)},[e]);return[R.useCallback(()=>Le.postRender(s),[s]),e]}class e4 extends R.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function t4({children:t,isPresent:e}){const n=R.useId(),s=R.useRef(null),r=R.useRef({width:0,height:0,top:0,left:0});return R.useInsertionEffect(()=>{const{width:a,height:o,top:l,left:u}=r.current;if(e||!s.current||!a||!o)return;s.current.dataset.motionPopId=n;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),R.createElement(e4,{isPresent:e,childRef:s,sizeRef:r},R.cloneElement(t,{ref:s}))}const uf=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:a,mode:o})=>{const l=M_(n4),u=R.useId(),d=R.useMemo(()=>({id:u,initial:e,isPresent:n,custom:r,onExitComplete:f=>{l.set(f,!0);for(const h of l.values())if(!h)return;s&&s()},register:f=>(l.set(f,!1),()=>l.delete(f))}),a?void 0:[n]);return R.useMemo(()=>{l.forEach((f,h)=>l.set(h,!1))},[n]),R.useEffect(()=>{!n&&!l.size&&s&&s()},[n]),o==="popLayout"&&(t=R.createElement(t4,{isPresent:n},t)),R.createElement(Cd.Provider,{value:d},t)};function n4(){return new Map}function s4(t){return R.useEffect(()=>()=>t(),[])}const Xr=t=>t.key||"";function r4(t,e){t.forEach(n=>{const s=Xr(n);e.set(s,n)})}function i4(t){const e=[];return R.Children.forEach(t,n=>{R.isValidElement(n)&&e.push(n)}),e}const lt=({children:t,custom:e,initial:n=!0,onExitComplete:s,exitBeforeEnter:r,presenceAffectsLayout:a=!0,mode:o="sync"})=>{const l=R.useContext(rg).forceRender||ZP()[0],u=$2(),d=i4(t);let f=d;const h=R.useRef(new Map).current,p=R.useRef(f),v=R.useRef(new Map).current,T=R.useRef(!0);if(eg(()=>{T.current=!1,r4(d,v),p.current=f}),s4(()=>{T.current=!0,v.clear(),h.clear()}),T.current)return R.createElement(R.Fragment,null,f.map(y=>R.createElement(uf,{key:Xr(y),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:a,mode:o},y)));f=[...f];const S=p.current.map(Xr),I=d.map(Xr),N=S.length;for(let y=0;y<N;y++){const b=S[y];I.indexOf(b)===-1&&!h.has(b)&&h.set(b,void 0)}return o==="wait"&&h.size&&(f=[]),h.forEach((y,b)=>{if(I.indexOf(b)!==-1)return;const D=v.get(b);if(!D)return;const M=S.indexOf(b);let z=y;if(!z){const k=()=>{h.delete(b);const _=Array.from(v.keys()).filter(E=>!I.includes(E));if(_.forEach(E=>v.delete(E)),p.current=d.filter(E=>{const A=Xr(E);return A===b||_.includes(A)}),!h.size){if(u.current===!1)return;l(),s&&s()}};z=R.createElement(uf,{key:Xr(D),isPresent:!1,onExitComplete:k,custom:e,presenceAffectsLayout:a,mode:o},D),h.set(b,z)}f.splice(M,0,z)}),f=f.map(y=>{const b=y.key;return h.has(b)?y:R.createElement(uf,{key:Xr(y),isPresent:!0,presenceAffectsLayout:a,mode:o},y)}),R.createElement(R.Fragment,null,h.size?f:f.map(y=>R.cloneElement(y)))};class Rl{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const a4=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},Et={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:a4()},_g=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},o4=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=_g(t);Et.publicKey=n.publicKey,Et.blockHeadless=n.blockHeadless,Et.storageProvider=n.storageProvider,Et.blockList=n.blockList,Et.limitRate=n.limitRate,Et.origin=n.origin||e},B2=async(t,e,n={})=>{const s=await fetch(Et.origin+t,{method:"POST",headers:n,body:e}),r=await s.text(),a=new Rl(s.status,r);if(s.ok)return a;throw a},z2=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},l4=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},H2=t=>t.webdriver||!t.languages||t.languages.length===0,W2=()=>new Rl(451,"Unavailable For Headless Browser"),c4=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},u4=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},d4=(t,e)=>t instanceof FormData?t.get(e):t[e],q2=(t,e)=>{if(u4(t))return!1;c4(t.list,t.watchVariable);const n=d4(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},G2=()=>new Rl(403,"Forbidden"),h4=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},f4=async(t,e,n)=>{const s=Number(await n.get(t)||0);return e-Date.now()+s},K2=async(t,e,n)=>{if(!e.throttle||!n)return!1;h4(e.throttle,e.id);const s=e.id||t;return await f4(s,e.throttle,n)>0?!0:(await n.set(s,Date.now().toString()),!1)},Y2=()=>new Rl(429,"Too Many Requests"),m4=async(t,e,n,s)=>{const r=_g(s),a=r.publicKey||Et.publicKey,o=r.blockHeadless||Et.blockHeadless,l=r.storageProvider||Et.storageProvider,u={...Et.blockList,...r.blockList},d={...Et.limitRate,...r.limitRate};return o&&H2(navigator)?Promise.reject(W2()):(z2(a,t,e),l4(n),n&&q2(u,n)?Promise.reject(G2()):await K2(location.pathname,d,l)?Promise.reject(Y2()):B2("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:a,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},p4=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},g4=t=>typeof t=="string"?document.querySelector(t):t,y4=async(t,e,n,s)=>{const r=_g(s),a=r.publicKey||Et.publicKey,o=r.blockHeadless||Et.blockHeadless,l=Et.storageProvider||r.storageProvider,u={...Et.blockList,...r.blockList},d={...Et.limitRate,...r.limitRate};if(o&&H2(navigator))return Promise.reject(W2());const f=g4(n);z2(a,t,e),p4(f);const h=new FormData(f);return q2(u,h)?Promise.reject(G2()):await K2(location.pathname,d,l)?Promise.reject(Y2()):(h.append("lib_version","4.4.1"),h.append("service_id",t),h.append("template_id",e),h.append("user_id",a),B2("/api/v1.0/email/send-form",h))},Uu={init:o4,send:m4,sendForm:y4,EmailJSResponseStatus:Rl};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var x4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ee=(t,e)=>{const n=R.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:u,...d},f)=>R.createElement("svg",{ref:f,...x4,width:r,height:r,stroke:s,strokeWidth:o?Number(a)*24/Number(r):a,className:["lucide",`lucide-${v4(t)}`,l].join(" "),...d},[...e.map(([h,p])=>R.createElement(h,p)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=ee("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=ee("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=ee("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=ee("BadgeDollarSign",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=ee("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=ee("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=ee("Bitcoin",[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=ee("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=ee("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=ee("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=ee("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=ee("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=ee("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $u=ee("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=ee("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=ee("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=ee("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=ee("DownloadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m8 17 4 4 4-4",key:"1ul180"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=ee("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=ee("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=ee("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=ee("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=ee("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=ee("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=ee("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=ee("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=ee("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=ee("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=ee("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=ee("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=ee("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=ee("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=ee("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=ee("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=ee("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=ee("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=ee("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=ee("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=ee("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=ee("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=ee("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=ee("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=ee("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=ee("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=ee("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=ee("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=ee("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=ee("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=ee("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=ee("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=ee("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=ee("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=ee("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),M4=()=>{};var kv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},O4=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const a=t[n++];e[s++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=t[n++],o=t[n++],l=t[n++],u=((r&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(u>>10)),e[s++]=String.fromCharCode(56320+(u&1023))}else{const a=t[n++],o=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(a&63)<<6|o&63)}}return e.join("")},dN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const a=t[r],o=r+1<t.length,l=o?t[r+1]:0,u=r+2<t.length,d=u?t[r+2]:0,f=a>>2,h=(a&3)<<4|l>>4;let p=(l&15)<<2|d>>6,v=d&63;u||(v=64,o||(p=64)),s.push(n[f],n[h],n[p],n[v])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):O4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const a=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const d=r<t.length?n[t.charAt(r)]:64;++r;const h=r<t.length?n[t.charAt(r)]:64;if(++r,a==null||l==null||d==null||h==null)throw new F4;const p=a<<2|l>>4;if(s.push(p),d!==64){const v=l<<4&240|d>>2;if(s.push(v),h!==64){const T=d<<6&192|h;s.push(T)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class F4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const U4=function(t){const e=uN(t);return dN.encodeByteArray(e,!0)},qu=function(t){return U4(t).replace(/\./g,"")},hN=function(t){try{return dN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=()=>$4().__FIREBASE_DEFAULTS__,z4=()=>{if(typeof process>"u"||typeof kv>"u")return;const t=kv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},H4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&hN(t[1]);return e&&JSON.parse(e)},Md=()=>{try{return M4()||B4()||z4()||H4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fN=t=>{var e,n;return(n=(e=Md())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},W4=t=>{const e=fN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},mN=()=>{var t;return(t=Md())==null?void 0:t.config},pN=t=>{var e;return(e=Md())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function gN(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[qu(JSON.stringify(n)),qu(JSON.stringify(o)),""].join(".")}const Bo={};function K4(){const t={prod:[],emulator:[]};for(const e of Object.keys(Bo))Bo[e]?t.emulator.push(e):t.prod.push(e);return t}function Y4(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Iv=!1;function yN(t,e){if(typeof window>"u"||typeof document>"u"||!Va(window.location.host)||Bo[t]===e||Bo[t]||Iv)return;Bo[t]=e;function n(p){return`__firebase__banner__${p}`}const s="__firebase__banner",a=K4().prod.length>0;function o(){const p=document.getElementById(s);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function u(p,v){p.setAttribute("width","24"),p.setAttribute("id",v),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function d(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{Iv=!0,o()},p}function f(p,v){p.setAttribute("id",v),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){const p=Y4(s),v=n("text"),T=document.getElementById(v)||document.createElement("span"),S=n("learnmore"),I=document.getElementById(S)||document.createElement("a"),N=n("preprendIcon"),y=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const b=p.element;l(b),f(I,S);const D=d();u(y,N),b.append(y,T,I,D),document.body.appendChild(b)}a?(T.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Q4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ut())}function J4(){var e;const t=(e=Md())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function X4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Z4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function e5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function t5(){const t=Ut();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function n5(){return!J4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function s5(){try{return typeof indexedDB=="object"}catch{return!1}}function r5(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var a;e(((a=r.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5="FirebaseError";class Ds extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=i5,Object.setPrototypeOf(this,Ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ml.prototype.create)}}class Ml{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,a=this.errors[e],o=a?a5(a,s):"Error",l=`${this.serviceName}: ${o} (${r}).`;return new Ds(r,l,s)}}function a5(t,e){return t.replace(o5,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const o5=/\{\$([^}]+)}/g;function l5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xi(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const a=t[r],o=e[r];if(Cv(a)&&Cv(o)){if(!xi(a,o))return!1}else if(a!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function Cv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function _o(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[r,a]=s.split("=");e[decodeURIComponent(r)]=decodeURIComponent(a)}}),e}function No(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function c5(t,e){const n=new u5(t,e);return n.subscribe.bind(n)}class u5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let r;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");d5(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:s},r.next===void 0&&(r.next=ff),r.error===void 0&&(r.error=ff),r.complete===void 0&&(r.complete=ff);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function d5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ff(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(t){return t&&t._delegate?t._delegate:t}class vi{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new q4;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(m5(e))try{this.getOrInitializeService({instanceIdentifier:Zr})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:r});s.resolve(a)}catch{}}}}clearInstance(e=Zr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zr){return this.instances.has(e)}getOptions(e=Zr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);s===l&&o.resolve(r)}return r}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(s)??new Set;r.add(e),this.onInitCallbacks.set(s,r);const a=this.instances.get(s);return a&&e(a,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:f5(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Zr){return this.component?this.component.multipleInstances?e:Zr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function f5(t){return t===Zr?void 0:t}function m5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new h5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xe||(xe={}));const g5={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},y5=xe.INFO,x5={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},v5=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=x5[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jg{constructor(e){this.name=e,this._logLevel=y5,this._logHandler=v5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?g5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const w5=(t,e)=>e.some(n=>t instanceof n);let Av,Pv;function b5(){return Av||(Av=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _5(){return Pv||(Pv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xN=new WeakMap,Dm=new WeakMap,vN=new WeakMap,mf=new WeakMap,kg=new WeakMap;function N5(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(gr(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&xN.set(n,t)}).catch(()=>{}),kg.set(e,t),e}function S5(t){if(Dm.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});Dm.set(t,e)}let Vm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Dm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function T5(t){Vm=t(Vm)}function E5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(pf(this),e,...n);return vN.set(s,e.sort?e.sort():[e]),gr(s)}:_5().includes(t)?function(...e){return t.apply(pf(this),e),gr(xN.get(this))}:function(...e){return gr(t.apply(pf(this),e))}}function j5(t){return typeof t=="function"?E5(t):(t instanceof IDBTransaction&&S5(t),w5(t,b5())?new Proxy(t,Vm):t)}function gr(t){if(t instanceof IDBRequest)return N5(t);if(mf.has(t))return mf.get(t);const e=j5(t);return e!==t&&(mf.set(t,e),kg.set(e,t)),e}const pf=t=>kg.get(t);function k5(t,e,{blocked:n,upgrade:s,blocking:r,terminated:a}={}){const o=indexedDB.open(t,e),l=gr(o);return s&&o.addEventListener("upgradeneeded",u=>{s(gr(o.result),u.oldVersion,u.newVersion,gr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{a&&u.addEventListener("close",()=>a()),r&&u.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const I5=["get","getKey","getAll","getAllKeys","count"],C5=["put","add","delete","clear"],gf=new Map;function Rv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gf.get(e))return gf.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=C5.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||I5.includes(n)))return;const a=async function(o,...l){const u=this.transaction(o,r?"readwrite":"readonly");let d=u.store;return s&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),r&&u.done]))[0]};return gf.set(e,a),a}T5(t=>({...t,get:(e,n,s)=>Rv(e,n)||t.get(e,n,s),has:(e,n)=>!!Rv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(P5(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function P5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Lm="@firebase/app",Dv="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is=new jg("@firebase/app"),R5="@firebase/app-compat",D5="@firebase/analytics-compat",V5="@firebase/analytics",L5="@firebase/app-check-compat",M5="@firebase/app-check",O5="@firebase/auth",F5="@firebase/auth-compat",U5="@firebase/database",$5="@firebase/data-connect",B5="@firebase/database-compat",z5="@firebase/functions",H5="@firebase/functions-compat",W5="@firebase/installations",q5="@firebase/installations-compat",G5="@firebase/messaging",K5="@firebase/messaging-compat",Y5="@firebase/performance",Q5="@firebase/performance-compat",J5="@firebase/remote-config",X5="@firebase/remote-config-compat",Z5="@firebase/storage",eR="@firebase/storage-compat",tR="@firebase/firestore",nR="@firebase/ai",sR="@firebase/firestore-compat",rR="firebase",iR="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="[DEFAULT]",aR={[Lm]:"fire-core",[R5]:"fire-core-compat",[V5]:"fire-analytics",[D5]:"fire-analytics-compat",[M5]:"fire-app-check",[L5]:"fire-app-check-compat",[O5]:"fire-auth",[F5]:"fire-auth-compat",[U5]:"fire-rtdb",[$5]:"fire-data-connect",[B5]:"fire-rtdb-compat",[z5]:"fire-fn",[H5]:"fire-fn-compat",[W5]:"fire-iid",[q5]:"fire-iid-compat",[G5]:"fire-fcm",[K5]:"fire-fcm-compat",[Y5]:"fire-perf",[Q5]:"fire-perf-compat",[J5]:"fire-rc",[X5]:"fire-rc-compat",[Z5]:"fire-gcs",[eR]:"fire-gcs-compat",[tR]:"fire-fst",[sR]:"fire-fst-compat",[nR]:"fire-vertex","fire-js":"fire-js",[rR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu=new Map,oR=new Map,Om=new Map;function Vv(t,e){try{t.container.addComponent(e)}catch(n){Is.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Na(t){const e=t.name;if(Om.has(e))return Is.debug(`There were multiple attempts to register component ${e}.`),!1;Om.set(e,t);for(const n of Gu.values())Vv(n,t);for(const n of oR.values())Vv(n,t);return!0}function Ig(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function an(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yr=new Ml("app","Firebase",lR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new vi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=iR;function wN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Mm,automaticDataCollectionEnabled:!0,...e},r=s.name;if(typeof r!="string"||!r)throw yr.create("bad-app-name",{appName:String(r)});if(n||(n=mN()),!n)throw yr.create("no-options");const a=Gu.get(r);if(a){if(xi(n,a.options)&&xi(s,a.config))return a;throw yr.create("duplicate-app",{appName:r})}const o=new p5(r);for(const u of Om.values())o.addComponent(u);const l=new cR(n,s,o);return Gu.set(r,l),l}function bN(t=Mm){const e=Gu.get(t);if(!e&&t===Mm&&mN())return wN();if(!e)throw yr.create("no-app",{appName:t});return e}function xr(t,e,n){let s=aR[t]??t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),a=e.match(/\s|\//);if(r||a){const o=[`Unable to register library "${s}" with version "${e}":`];r&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Is.warn(o.join(" "));return}Na(new vi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR="firebase-heartbeat-database",dR=1,ml="firebase-heartbeat-store";let yf=null;function _N(){return yf||(yf=k5(uR,dR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ml)}catch(n){console.warn(n)}}}}).catch(t=>{throw yr.create("idb-open",{originalErrorMessage:t.message})})),yf}async function hR(t){try{const n=(await _N()).transaction(ml),s=await n.objectStore(ml).get(NN(t));return await n.done,s}catch(e){if(e instanceof Ds)Is.warn(e.message);else{const n=yr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Is.warn(n.message)}}}async function Lv(t,e){try{const s=(await _N()).transaction(ml,"readwrite");await s.objectStore(ml).put(e,NN(t)),await s.done}catch(n){if(n instanceof Ds)Is.warn(n.message);else{const s=yr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Is.warn(s.message)}}}function NN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=1024,mR=30;class pR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Mv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>mR){const o=xR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Is.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Mv(),{heartbeatsToSend:s,unsentEntries:r}=gR(this._heartbeatsCache.heartbeats),a=qu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Is.warn(n),""}}}function Mv(){return new Date().toISOString().substring(0,10)}function gR(t,e=fR){const n=[];let s=t.slice();for(const r of t){const a=n.find(o=>o.agent===r.agent);if(a){if(a.dates.push(r.date),Ov(n)>e){a.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Ov(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class yR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return s5()?r5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Lv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Lv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ov(t){return qu(JSON.stringify({version:2,heartbeats:t})).length}function xR(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(t){Na(new vi("platform-logger",e=>new A5(e),"PRIVATE")),Na(new vi("heartbeat",e=>new pR(e),"PRIVATE")),xr(Lm,Dv,t),xr(Lm,Dv,"esm2020"),xr("fire-js","")}vR("");var wR="firebase",bR="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xr(wR,bR,"app");function SN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _R=SN,TN=new Ml("auth","Firebase",SN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku=new jg("@firebase/auth");function NR(t,...e){Ku.logLevel<=xe.WARN&&Ku.warn(`Auth (${La}): ${t}`,...e)}function Xc(t,...e){Ku.logLevel<=xe.ERROR&&Ku.error(`Auth (${La}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(t,...e){throw Ag(t,...e)}function Mn(t,...e){return Ag(t,...e)}function Cg(t,e,n){const s={..._R(),[e]:n};return new Ml("auth","Firebase",s).create(e,{appName:t.name})}function _s(t){return Cg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function SR(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Tn(t,"argument-error"),Cg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ag(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return TN.create(t,...e)}function le(t,e,...n){if(!t)throw Ag(e,...n)}function ms(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xc(e),new Error(e)}function Cs(t,e){t||ms(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function TR(){return Fv()==="http:"||Fv()==="https:"}function Fv(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TR()||Z4()||"connection"in navigator)?navigator.onLine:!0}function jR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Cs(n>e,"Short delay should be less than long delay!"),this.isMobile=Q4()||e5()}get(){return ER()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(t,e){Cs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CR=new Fl(3e4,6e4);function Vs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function os(t,e,n,s,r={}){return jN(t,r,async()=>{let a={},o={};s&&(e==="GET"?o=s:a={body:JSON.stringify(s)});const l=Ol({key:t.config.apiKey,...o}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:u,...a};return X4()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Va(t.emulatorConfig.host)&&(d.credentials="include"),EN.fetch()(await kN(t,t.config.apiHost,n,l),d)})}async function jN(t,e,n){t._canInitEmulator=!1;const s={...kR,...e};try{const r=new PR(t),a=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Ic(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[u,d]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ic(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Ic(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Ic(t,"user-disabled",o);const f=s[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Cg(t,f,d);Tn(t,f)}}catch(r){if(r instanceof Ds)throw r;Tn(t,"network-request-failed",{message:String(r)})}}async function Ul(t,e,n,s,r={}){const a=await os(t,e,n,s,r);return"mfaPendingCredential"in a&&Tn(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function kN(t,e,n,s){const r=`${e}${n}?${s}`,a=t,o=a.config.emulator?Pg(t.config,r):`${t.config.apiScheme}://${r}`;return IR.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function AR(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class PR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Mn(this.auth,"network-request-failed")),CR.get())})}}function Ic(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=Mn(t,e,s);return r.customData._tokenResponse=n,r}function Uv(t){return t!==void 0&&t.enterprise!==void 0}class RR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return AR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function DR(t,e){return os(t,"GET","/v2/recaptchaConfig",Vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VR(t,e){return os(t,"POST","/v1/accounts:delete",e)}async function Yu(t,e){return os(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LR(t,e=!1){const n=ut(t),s=await n.getIdToken(e),r=Rg(s);le(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const a=typeof r.firebase=="object"?r.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:r,token:s,authTime:zo(xf(r.auth_time)),issuedAtTime:zo(xf(r.iat)),expirationTime:zo(xf(r.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function xf(t){return Number(t)*1e3}function Rg(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Xc("JWT malformed, contained fewer than 3 sections"),null;try{const r=hN(n);return r?JSON.parse(r):(Xc("Failed to decode base64 JWT payload"),null)}catch(r){return Xc("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function $v(t){const e=Rg(t);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sa(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ds&&MR(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function MR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zo(this.lastLoginAt),this.creationTime=zo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qu(t){var h;const e=t.auth,n=await t.getIdToken(),s=await Sa(t,Yu(e,{idToken:n}));le(s==null?void 0:s.users.length,e,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const a=(h=r.providerUserInfo)!=null&&h.length?IN(r.providerUserInfo):[],o=UR(t.providerData,a),l=t.isAnonymous,u=!(t.email&&r.passwordHash)&&!(o!=null&&o.length),d=l?u:!1,f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Um(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function FR(t){const e=ut(t);await Qu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UR(t,e){return[...t.filter(s=>!e.some(r=>r.providerId===s.providerId)),...e]}function IN(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $R(t,e){const n=await jN(t,{},async()=>{const s=Ol({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:a}=t.config,o=await kN(t,r,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:s};return t.emulatorConfig&&Va(t.emulatorConfig.host)&&(u.credentials="include"),EN.fetch()(o,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function BR(t,e){return os(t,"POST","/v2/accounts:revokeToken",Vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$v(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){le(e.length!==0,"internal-error");const n=$v(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:r,expiresIn:a}=await $R(e,n);this.updateTokensAndExpiration(s,r,Number(a))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:r,expirationTime:a}=n,o=new ca;return s&&(le(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),r&&(le(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),a&&(le(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ca,this.toJSON())}_performRefresh(){return ms("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(t,e){le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Dn{constructor({uid:e,auth:n,stsTokenManager:s,...r}){this.providerId="firebase",this.proactiveRefresh=new OR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Um(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await Sa(this,this.stsTokenManager.getToken(this.auth,e));return le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return LR(this,e)}reload(){return FR(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Dn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Qu(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(an(this.auth.app))return Promise.reject(_s(this.auth));const e=await this.getIdToken();return await Sa(this,VR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,r=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,d=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:h,emailVerified:p,isAnonymous:v,providerData:T,stsTokenManager:S}=n;le(h&&S,e,"internal-error");const I=ca.fromJSON(this.name,S);le(typeof h=="string",e,"internal-error"),qs(s,e.name),qs(r,e.name),le(typeof p=="boolean",e,"internal-error"),le(typeof v=="boolean",e,"internal-error"),qs(a,e.name),qs(o,e.name),qs(l,e.name),qs(u,e.name),qs(d,e.name),qs(f,e.name);const N=new Dn({uid:h,auth:e,email:r,emailVerified:p,displayName:s,isAnonymous:v,photoURL:o,phoneNumber:a,tenantId:l,stsTokenManager:I,createdAt:d,lastLoginAt:f});return T&&Array.isArray(T)&&(N.providerData=T.map(y=>({...y}))),u&&(N._redirectEventId=u),N}static async _fromIdTokenResponse(e,n,s=!1){const r=new ca;r.updateFromServerResponse(n);const a=new Dn({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await Qu(a),a}static async _fromGetAccountInfoResponse(e,n,s){const r=n.users[0];le(r.localId!==void 0,"internal-error");const a=r.providerUserInfo!==void 0?IN(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(a!=null&&a.length),l=new ca;l.updateFromIdToken(s);const u=new Dn({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Um(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(a!=null&&a.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv=new Map;function ps(t){Cs(t instanceof Function,"Expected a class definition");let e=Bv.get(t);return e?(Cs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Bv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}CN.type="NONE";const zv=CN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(t,e,n){return`firebase:${t}:${e}:${n}`}class ua{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:r,name:a}=this.auth;this.fullUserKey=Zc(this.userKey,r.apiKey,a),this.fullPersistenceKey=Zc("persistence",r.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Yu(this.auth,{idToken:e}).catch(()=>{});return n?Dn._fromGetAccountInfoResponse(this.auth,n,e):null}return Dn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ua(ps(zv),e,s);const r=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=r[0]||ps(zv);const o=Zc(s,e.config.apiKey,e.name);let l=null;for(const d of n)try{const f=await d._get(o);if(f){let h;if(typeof f=="string"){const p=await Yu(e,{idToken:f}).catch(()=>{});if(!p)break;h=await Dn._fromGetAccountInfoResponse(e,p,f)}else h=Dn._fromJSON(e,f);d!==a&&(l=h),a=d;break}}catch{}const u=r.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!u.length?new ua(a,e,s):(a=u[0],l&&await a._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==a)try{await d._remove(o)}catch{}})),new ua(a,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(LN(e))return"Blackberry";if(MN(e))return"Webos";if(PN(e))return"Safari";if((e.includes("chrome/")||RN(e))&&!e.includes("edge/"))return"Chrome";if(VN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function AN(t=Ut()){return/firefox\//i.test(t)}function PN(t=Ut()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RN(t=Ut()){return/crios\//i.test(t)}function DN(t=Ut()){return/iemobile/i.test(t)}function VN(t=Ut()){return/android/i.test(t)}function LN(t=Ut()){return/blackberry/i.test(t)}function MN(t=Ut()){return/webos/i.test(t)}function Dg(t=Ut()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function zR(t=Ut()){var e;return Dg(t)&&!!((e=window.navigator)!=null&&e.standalone)}function HR(){return t5()&&document.documentMode===10}function ON(t=Ut()){return Dg(t)||VN(t)||MN(t)||LN(t)||/windows phone/i.test(t)||DN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(t,e=[]){let n;switch(t){case"Browser":n=Hv(Ut());break;case"Worker":n=`${Hv(Ut())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${La}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=a=>new Promise((o,l)=>{try{const u=e(a);o(u)}catch(u){l(u)}});s.onAbort=n,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qR(t,e={}){return os(t,"GET","/v2/passwordPolicy",Vs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=6;class KR{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??GR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let r=0;r<e.length;r++)s=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,n,s,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wv(this),this.idTokenSubscription=new Wv(this),this.beforeStateQueue=new WR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ps(n)),this._initializationPromise=this.queue(async()=>{var s,r,a;if(!this._deleted&&(this.persistenceManager=await ua.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Yu(this,{idToken:e}),s=await Dn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(an(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(a=this.redirectUser)==null?void 0:a._redirectEventId,l=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(s=u.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Qu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(an(this.app))return Promise.reject(_s(this));const n=e?ut(e):null;return n&&le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return an(this.app)?Promise.reject(_s(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return an(this.app)?Promise.reject(_s(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qR(this),n=new KR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ml("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await BR(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ps(e)||this._popupRedirectResolver;le(n,this,"argument-error"),this.redirectPersistenceManager=await ua.create(this,[ps(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,r){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,s,r);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(an(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&NR(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ls(t){return ut(t)}class Wv{constructor(e){this.auth=e,this.observer=null,this.addObserver=c5(n=>this.observer=n)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Od={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QR(t){Od=t}function UN(t){return Od.loadJS(t)}function JR(){return Od.recaptchaEnterpriseScript}function XR(){return Od.gapiScript}function ZR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class eD{constructor(){this.enterprise=new tD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class tD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const nD="recaptcha-enterprise",$N="NO_RECAPTCHA";class sD{constructor(e){this.type=nD,this.auth=Ls(e)}async verify(e="verify",n=!1){async function s(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,l)=>{DR(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new RR(u);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,o(d.siteKey)}}).catch(u=>{l(u)})})}function r(a,o,l){const u=window.grecaptcha;Uv(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{o(d)}).catch(()=>{o($N)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eD().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{s(this.auth).then(l=>{if(!n&&Uv(window.grecaptcha))r(l,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=JR();u.length!==0&&(u+=l),UN(u).then(()=>{r(l,a,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function qv(t,e,n,s=!1,r=!1){const a=new sD(t);let o;if(r)o=$N;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return s?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Ju(t,e,n,s,r){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await qv(t,e,n,n==="getOobCode");return s(t,o)}else return s(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await qv(t,e,n,n==="getOobCode");return s(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(t,e){const n=Ig(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),a=n.getOptions();if(xi(a,e??{}))return r;Tn(r,"already-initialized")}return n.initialize({options:e})}function iD(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ps);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function aD(t,e,n){const s=Ls(t);le(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const r=!1,a=BN(e),{host:o,port:l}=oD(e),u=l===null?"":`:${l}`,d={url:`${a}//${o}${u}/`},f=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!s._canInitEmulator){le(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),le(xi(d,s.config.emulator)&&xi(f,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=d,s.emulatorConfig=f,s.settings.appVerificationDisabledForTesting=!0,Va(o)?(gN(`${a}//${o}${u}`),yN("Auth",!0)):lD()}function BN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function oD(t){const e=BN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const a=r[1];return{host:a,port:Gv(s.substr(a.length+1))}}else{const[a,o]=s.split(":");return{host:a,port:Gv(o)}}}function Gv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function lD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ms("not implemented")}_getIdTokenResponse(e){return ms("not implemented")}_linkToIdToken(e,n){return ms("not implemented")}_getReauthenticationResolver(e){return ms("not implemented")}}async function cD(t,e){return os(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uD(t,e){return Ul(t,"POST","/v1/accounts:signInWithPassword",Vs(t,e))}async function zN(t,e){return os(t,"POST","/v1/accounts:sendOobCode",Vs(t,e))}async function dD(t,e){return zN(t,e)}async function hD(t,e){return zN(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(t,e){return Ul(t,"POST","/v1/accounts:signInWithEmailLink",Vs(t,e))}async function mD(t,e){return Ul(t,"POST","/v1/accounts:signInWithEmailLink",Vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl extends Vg{constructor(e,n,s,r=null){super("password",s),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new pl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new pl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ju(e,n,"signInWithPassword",uD);case"emailLink":return fD(e,{email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ju(e,s,"signUpPassword",cD);case"emailLink":return mD(e,{idToken:n,email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function da(t,e){return Ul(t,"POST","/v1/accounts:signInWithIdp",Vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD="http://localhost";class wi extends Vg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new wi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Tn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:r,...a}=n;if(!s||!r)return null;const o=new wi(s,r);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return da(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,da(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,da(e,n)}buildRequest(){const e={requestUri:pD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ol(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yD(t){const e=_o(No(t)).link,n=e?_o(No(e)).deep_link_id:null,s=_o(No(t)).deep_link_id;return(s?_o(No(s)).link:null)||s||n||e||t}class Lg{constructor(e){const n=_o(No(e)),s=n.apiKey??null,r=n.oobCode??null,a=gD(n.mode??null);le(s&&r&&a,"argument-error"),this.apiKey=s,this.operation=a,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=yD(e);try{return new Lg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(){this.providerId=Ma.PROVIDER_ID}static credential(e,n){return pl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Lg.parseLink(n);return le(s,"argument-error"),pl._fromEmailAndCode(e,s.code,s.tenantId)}}Ma.PROVIDER_ID="password";Ma.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ma.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l extends Mg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends $l{constructor(){super("facebook.com")}static credential(e){return wi._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zs.credential(e.oauthAccessToken)}catch{return null}}}Zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends $l{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return wi._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return us.credential(n,s)}catch{return null}}}us.GOOGLE_SIGN_IN_METHOD="google.com";us.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends $l{constructor(){super("github.com")}static credential(e){return wi._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return er.credential(e.oauthAccessToken)}catch{return null}}}er.GITHUB_SIGN_IN_METHOD="github.com";er.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends $l{constructor(){super("twitter.com")}static credential(e,n){return wi._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return tr.credential(n,s)}catch{return null}}}tr.TWITTER_SIGN_IN_METHOD="twitter.com";tr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD(t,e){return Ul(t,"POST","/v1/accounts:signUp",Vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,r=!1){const a=await Dn._fromIdTokenResponse(e,s,r),o=Kv(s);return new bi({user:a,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const r=Kv(s);return new bi({user:e,providerId:r,_tokenResponse:s,operationType:n})}}function Kv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu extends Ds{constructor(e,n,s,r){super(n.code,n.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,Xu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,r){return new Xu(e,n,s,r)}}function HN(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Xu._fromErrorAndOperation(t,a,e,s):a})}async function vD(t,e,n=!1){const s=await Sa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return bi._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wD(t,e,n=!1){const{auth:s}=t;if(an(s.app))return Promise.reject(_s(s));const r="reauthenticate";try{const a=await Sa(t,HN(s,r,e,t),n);le(a.idToken,s,"internal-error");const o=Rg(a.idToken);le(o,s,"internal-error");const{sub:l}=o;return le(t.uid===l,s,"user-mismatch"),bi._forOperation(t,r,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Tn(s,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WN(t,e,n=!1){if(an(t.app))return Promise.reject(_s(t));const s="signIn",r=await HN(t,s,e),a=await bi._fromIdTokenResponse(t,s,r);return n||await t._updateCurrentUser(a.user),a}async function bD(t,e){return WN(Ls(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(t,e,n){var s;le(((s=n.url)==null?void 0:s.length)>0,t,"invalid-continue-uri"),le(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),le(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(le(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(le(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qN(t){const e=Ls(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ND(t,e,n){const s=Ls(t);await Ju(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",hD)}async function SD(t,e,n){if(an(t.app))return Promise.reject(_s(t));const s=Ls(t),o=await Ju(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xD).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&qN(t),u}),l=await bi._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(l.user),l}function TD(t,e,n){return an(t.app)?Promise.reject(_s(t)):bD(ut(t),Ma.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&qN(t),s})}async function GN(t,e){const n=ut(t),r={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&_D(n.auth,r,e);const{email:a}=await dD(n.auth,r);a!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ED(t,e){return os(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jD(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=ut(t),a={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Sa(s,ED(s.auth,a));s.displayName=o.displayName||null,s.photoURL=o.photoUrl||null;const l=s.providerData.find(({providerId:u})=>u==="password");l&&(l.displayName=s.displayName,l.photoURL=s.photoURL),await s._updateTokensIfNecessary(o)}function kD(t,e,n,s){return ut(t).onIdTokenChanged(e,n,s)}function ID(t,e,n){return ut(t).beforeAuthStateChanged(e,n)}function KN(t){return ut(t).signOut()}const Zu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zu,"1"),this.storage.removeItem(Zu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=1e3,AD=10;class QN extends YN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ON(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),r=this.localCache[n];s!==r&&e(n,r,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const s=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},a=this.storage.getItem(s);HR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,AD):r()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},CD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}QN.type="LOCAL";const PD=QN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN extends YN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}JN.type="SESSION";const XN=JN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const s=new Fd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:r,data:a}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const l=Array.from(o).map(async d=>d(n.origin,a)),u=await RD(l);n.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,o;return new Promise((l,u)=>{const d=Og("",20);r.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},s);o={messageChannel:r,onMessage(h){const p=h;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(f),a=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(p.data.response);break;default:clearTimeout(f),clearTimeout(a),u(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(){return window}function VD(t){ts().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(){return typeof ts().WorkerGlobalScope<"u"&&typeof ts().importScripts=="function"}async function LD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function OD(){return ZN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="firebaseLocalStorageDb",FD=1,ed="firebaseLocalStorage",tS="fbase_key";class Bl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ud(t,e){return t.transaction([ed],e?"readwrite":"readonly").objectStore(ed)}function UD(){const t=indexedDB.deleteDatabase(eS);return new Bl(t).toPromise()}function $m(){const t=indexedDB.open(eS,FD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(ed,{keyPath:tS})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(ed)?e(s):(s.close(),await UD(),e(await $m()))})})}async function Yv(t,e,n){const s=Ud(t,!0).put({[tS]:e,value:n});return new Bl(s).toPromise()}async function $D(t,e){const n=Ud(t,!1).get(e),s=await new Bl(n).toPromise();return s===void 0?null:s.value}function Qv(t,e){const n=Ud(t,!0).delete(e);return new Bl(n).toPromise()}const BD=800,zD=3;class nS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $m(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>zD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fd._getInstance(OD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await LD(),!this.activeServiceWorker)return;this.sender=new DD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $m();return await Yv(e,Zu,"1"),await Qv(e,Zu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Yv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>$D(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Qv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const a=Ud(r,!1).getAll();return new Bl(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:r,value:a}of e)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nS.type="LOCAL";const HD=nS;new Fl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(t,e){return e?ps(e):(le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg extends Vg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return da(e,this._buildIdpRequest())}_linkToIdToken(e,n){return da(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return da(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function WD(t){return WN(t.auth,new Fg(t),t.bypassAuthState)}function qD(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),wD(n,new Fg(t),t.bypassAuthState)}async function GD(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),vD(n,new Fg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,n,s,r,a=!1){this.auth=e,this.resolver=s,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:r,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:s,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WD;case"linkViaPopup":case"linkViaRedirect":return GD;case"reauthViaPopup":case"reauthViaRedirect":return qD;default:Tn(this.auth,"internal-error")}}resolve(e){Cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=new Fl(2e3,1e4);async function YD(t,e,n){if(an(t.app))return Promise.reject(Mn(t,"operation-not-supported-in-this-environment"));const s=Ls(t);SR(t,e,Mg);const r=sS(s,n);return new ri(s,"signInViaPopup",e,r).executeNotNull()}class ri extends rS{constructor(e,n,s,r,a){super(e,n,r,a),this.provider=s,this.authWindow=null,this.pollId=null,ri.currentPopupAction&&ri.currentPopupAction.cancel(),ri.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return le(e,this.auth,"internal-error"),e}async onExecution(){Cs(this.filter.length===1,"Popup operations only handle one event");const e=Og();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Mn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ri.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,KD.get())};e()}}ri.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD="pendingRedirect",eu=new Map;class JD extends rS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=eu.get(this.auth._key());if(!e){try{const s=await XD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}eu.set(this.auth._key(),e)}return this.bypassAuthState||eu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XD(t,e){const n=t3(e),s=e3(t);if(!await s._isAvailable())return!1;const r=await s._get(n)==="true";return await s._remove(n),r}function ZD(t,e){eu.set(t._key(),e)}function e3(t){return ps(t._redirectPersistence)}function t3(t){return Zc(QD,t.config.apiKey,t.name)}async function n3(t,e,n=!1){if(an(t.app))return Promise.reject(_s(t));const s=Ls(t),r=sS(s,e),o=await new JD(s,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3=10*60*1e3;class r3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!i3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!iS(e)){const r=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Mn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=s3&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jv(e))}saveEventToCache(e){this.cachedEventUids.add(Jv(e)),this.lastProcessedEventTime=Date.now()}}function Jv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function iS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function i3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a3(t,e={}){return os(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,l3=/^https?/;async function c3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await a3(t);for(const n of e)try{if(u3(n))return}catch{}Tn(t,"unauthorized-domain")}function u3(t){const e=Fm(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!l3.test(n))return!1;if(o3.test(t))return s===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3=new Fl(3e4,6e4);function Xv(){const t=ts().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function h3(t){return new Promise((e,n)=>{var r,a,o;function s(){Xv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Xv(),n(Mn(t,"network-request-failed"))},timeout:d3.get()})}if((a=(r=ts().gapi)==null?void 0:r.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((o=ts().gapi)!=null&&o.load)s();else{const l=ZR("iframefcb");return ts()[l]=()=>{gapi.load?s():n(Mn(t,"network-request-failed"))},UN(`${XR()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw tu=null,e})}let tu=null;function f3(t){return tu=tu||h3(t),tu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3=new Fl(5e3,15e3),p3="__/auth/iframe",g3="emulator/auth/iframe",y3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},x3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function v3(t){const e=t.config;le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Pg(e,g3):`https://${t.config.authDomain}/${p3}`,s={apiKey:e.apiKey,appName:t.name,v:La},r=x3.get(t.config.apiHost);r&&(s.eid=r);const a=t._getFrameworks();return a.length&&(s.fw=a.join(",")),`${n}?${Ol(s).slice(1)}`}async function w3(t){const e=await f3(t),n=ts().gapi;return le(n,t,"internal-error"),e.open({where:document.body,url:v3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:y3,dontclear:!0},s=>new Promise(async(r,a)=>{await s.restyle({setHideOnLeave:!1});const o=Mn(t,"network-request-failed"),l=ts().setTimeout(()=>{a(o)},m3.get());function u(){ts().clearTimeout(l),r(s)}s.ping(u).then(u,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_3=500,N3=600,S3="_blank",T3="http://localhost";class Zv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function E3(t,e,n,s=_3,r=N3){const a=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let l="";const u={...b3,width:s.toString(),height:r.toString(),top:a,left:o},d=Ut().toLowerCase();n&&(l=RN(d)?S3:n),AN(d)&&(e=e||T3,u.scrollbars="yes");const f=Object.entries(u).reduce((p,[v,T])=>`${p}${v}=${T},`,"");if(zR(d)&&l!=="_self")return j3(e||"",l),new Zv(null);const h=window.open(e||"",l,f);le(h,t,"popup-blocked");try{h.focus()}catch{}return new Zv(h)}function j3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3="__/auth/handler",I3="emulator/auth/handler",C3=encodeURIComponent("fac");async function ew(t,e,n,s,r,a){le(t.config.authDomain,t,"auth-domain-config-required"),le(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:La,eventId:r};if(e instanceof Mg){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",l5(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries({}))o[f]=h}if(e instanceof $l){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await t._getAppCheckToken(),d=u?`#${C3}=${encodeURIComponent(u)}`:"";return`${A3(t)}?${Ol(l).slice(1)}${d}`}function A3({config:t}){return t.emulator?Pg(t,I3):`https://${t.authDomain}/${k3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf="webStorageSupport";class P3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=XN,this._completeRedirectFn=n3,this._overrideRedirectResult=ZD}async _openPopup(e,n,s,r){var o;Cs((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await ew(e,n,s,Fm(),r);return E3(e,a,Og())}async _openRedirect(e,n,s,r){await this._originValidation(e);const a=await ew(e,n,s,Fm(),r);return VD(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:a}=this.eventManagers[n];return r?Promise.resolve(r):(Cs(a,"If manager is not set, promise should be"),a)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await w3(e),s=new r3(e);return n.register("authEvent",r=>(le(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:s.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vf,{type:vf},r=>{var o;const a=(o=r==null?void 0:r[0])==null?void 0:o[vf];a!==void 0&&n(!!a),Tn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=c3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ON()||PN()||Dg()}}const R3=P3;var tw="@firebase/auth",nw="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function L3(t){Na(new vi("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=s.options;le(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FN(t)},d=new YR(s,r,a,u);return iD(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Na(new vi("auth-internal",e=>{const n=Ls(e.getProvider("auth").getImmediate());return(s=>new D3(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xr(tw,nw,V3(t)),xr(tw,nw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3=5*60,O3=pN("authIdTokenMaxAge")||M3;let sw=null;const F3=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>O3)return;const r=n==null?void 0:n.token;sw!==r&&(sw=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function U3(t=bN()){const e=Ig(t,"auth");if(e.isInitialized())return e.getImmediate();const n=rD(t,{popupRedirectResolver:R3,persistence:[HD,PD,XN]}),s=pN("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(s,location.origin);if(location.origin===a.origin){const o=F3(a.toString());ID(n,o,()=>o(n.currentUser)),kD(n,l=>o(l))}}const r=fN("auth");return r&&aD(n,`http://${r}`),n}function $3(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}QR({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=r=>{const a=Mn("internal-error");a.customData=r,n(a)},s.type="text/javascript",s.charset="UTF-8",$3().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});L3("Browser");var rw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vr,aS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,_){function E(){}E.prototype=_.prototype,k.F=_.prototype,k.prototype=new E,k.prototype.constructor=k,k.D=function(A,P,V){for(var C=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)C[Q-2]=arguments[Q];return _.prototype[P].apply(A,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(k,_,E){E||(E=0);const A=Array(16);if(typeof _=="string")for(var P=0;P<16;++P)A[P]=_.charCodeAt(E++)|_.charCodeAt(E++)<<8|_.charCodeAt(E++)<<16|_.charCodeAt(E++)<<24;else for(P=0;P<16;++P)A[P]=_[E++]|_[E++]<<8|_[E++]<<16|_[E++]<<24;_=k.g[0],E=k.g[1],P=k.g[2];let V=k.g[3],C;C=_+(V^E&(P^V))+A[0]+3614090360&4294967295,_=E+(C<<7&4294967295|C>>>25),C=V+(P^_&(E^P))+A[1]+3905402710&4294967295,V=_+(C<<12&4294967295|C>>>20),C=P+(E^V&(_^E))+A[2]+606105819&4294967295,P=V+(C<<17&4294967295|C>>>15),C=E+(_^P&(V^_))+A[3]+3250441966&4294967295,E=P+(C<<22&4294967295|C>>>10),C=_+(V^E&(P^V))+A[4]+4118548399&4294967295,_=E+(C<<7&4294967295|C>>>25),C=V+(P^_&(E^P))+A[5]+1200080426&4294967295,V=_+(C<<12&4294967295|C>>>20),C=P+(E^V&(_^E))+A[6]+2821735955&4294967295,P=V+(C<<17&4294967295|C>>>15),C=E+(_^P&(V^_))+A[7]+4249261313&4294967295,E=P+(C<<22&4294967295|C>>>10),C=_+(V^E&(P^V))+A[8]+1770035416&4294967295,_=E+(C<<7&4294967295|C>>>25),C=V+(P^_&(E^P))+A[9]+2336552879&4294967295,V=_+(C<<12&4294967295|C>>>20),C=P+(E^V&(_^E))+A[10]+4294925233&4294967295,P=V+(C<<17&4294967295|C>>>15),C=E+(_^P&(V^_))+A[11]+2304563134&4294967295,E=P+(C<<22&4294967295|C>>>10),C=_+(V^E&(P^V))+A[12]+1804603682&4294967295,_=E+(C<<7&4294967295|C>>>25),C=V+(P^_&(E^P))+A[13]+4254626195&4294967295,V=_+(C<<12&4294967295|C>>>20),C=P+(E^V&(_^E))+A[14]+2792965006&4294967295,P=V+(C<<17&4294967295|C>>>15),C=E+(_^P&(V^_))+A[15]+1236535329&4294967295,E=P+(C<<22&4294967295|C>>>10),C=_+(P^V&(E^P))+A[1]+4129170786&4294967295,_=E+(C<<5&4294967295|C>>>27),C=V+(E^P&(_^E))+A[6]+3225465664&4294967295,V=_+(C<<9&4294967295|C>>>23),C=P+(_^E&(V^_))+A[11]+643717713&4294967295,P=V+(C<<14&4294967295|C>>>18),C=E+(V^_&(P^V))+A[0]+3921069994&4294967295,E=P+(C<<20&4294967295|C>>>12),C=_+(P^V&(E^P))+A[5]+3593408605&4294967295,_=E+(C<<5&4294967295|C>>>27),C=V+(E^P&(_^E))+A[10]+38016083&4294967295,V=_+(C<<9&4294967295|C>>>23),C=P+(_^E&(V^_))+A[15]+3634488961&4294967295,P=V+(C<<14&4294967295|C>>>18),C=E+(V^_&(P^V))+A[4]+3889429448&4294967295,E=P+(C<<20&4294967295|C>>>12),C=_+(P^V&(E^P))+A[9]+568446438&4294967295,_=E+(C<<5&4294967295|C>>>27),C=V+(E^P&(_^E))+A[14]+3275163606&4294967295,V=_+(C<<9&4294967295|C>>>23),C=P+(_^E&(V^_))+A[3]+4107603335&4294967295,P=V+(C<<14&4294967295|C>>>18),C=E+(V^_&(P^V))+A[8]+1163531501&4294967295,E=P+(C<<20&4294967295|C>>>12),C=_+(P^V&(E^P))+A[13]+2850285829&4294967295,_=E+(C<<5&4294967295|C>>>27),C=V+(E^P&(_^E))+A[2]+4243563512&4294967295,V=_+(C<<9&4294967295|C>>>23),C=P+(_^E&(V^_))+A[7]+1735328473&4294967295,P=V+(C<<14&4294967295|C>>>18),C=E+(V^_&(P^V))+A[12]+2368359562&4294967295,E=P+(C<<20&4294967295|C>>>12),C=_+(E^P^V)+A[5]+4294588738&4294967295,_=E+(C<<4&4294967295|C>>>28),C=V+(_^E^P)+A[8]+2272392833&4294967295,V=_+(C<<11&4294967295|C>>>21),C=P+(V^_^E)+A[11]+1839030562&4294967295,P=V+(C<<16&4294967295|C>>>16),C=E+(P^V^_)+A[14]+4259657740&4294967295,E=P+(C<<23&4294967295|C>>>9),C=_+(E^P^V)+A[1]+2763975236&4294967295,_=E+(C<<4&4294967295|C>>>28),C=V+(_^E^P)+A[4]+1272893353&4294967295,V=_+(C<<11&4294967295|C>>>21),C=P+(V^_^E)+A[7]+4139469664&4294967295,P=V+(C<<16&4294967295|C>>>16),C=E+(P^V^_)+A[10]+3200236656&4294967295,E=P+(C<<23&4294967295|C>>>9),C=_+(E^P^V)+A[13]+681279174&4294967295,_=E+(C<<4&4294967295|C>>>28),C=V+(_^E^P)+A[0]+3936430074&4294967295,V=_+(C<<11&4294967295|C>>>21),C=P+(V^_^E)+A[3]+3572445317&4294967295,P=V+(C<<16&4294967295|C>>>16),C=E+(P^V^_)+A[6]+76029189&4294967295,E=P+(C<<23&4294967295|C>>>9),C=_+(E^P^V)+A[9]+3654602809&4294967295,_=E+(C<<4&4294967295|C>>>28),C=V+(_^E^P)+A[12]+3873151461&4294967295,V=_+(C<<11&4294967295|C>>>21),C=P+(V^_^E)+A[15]+530742520&4294967295,P=V+(C<<16&4294967295|C>>>16),C=E+(P^V^_)+A[2]+3299628645&4294967295,E=P+(C<<23&4294967295|C>>>9),C=_+(P^(E|~V))+A[0]+4096336452&4294967295,_=E+(C<<6&4294967295|C>>>26),C=V+(E^(_|~P))+A[7]+1126891415&4294967295,V=_+(C<<10&4294967295|C>>>22),C=P+(_^(V|~E))+A[14]+2878612391&4294967295,P=V+(C<<15&4294967295|C>>>17),C=E+(V^(P|~_))+A[5]+4237533241&4294967295,E=P+(C<<21&4294967295|C>>>11),C=_+(P^(E|~V))+A[12]+1700485571&4294967295,_=E+(C<<6&4294967295|C>>>26),C=V+(E^(_|~P))+A[3]+2399980690&4294967295,V=_+(C<<10&4294967295|C>>>22),C=P+(_^(V|~E))+A[10]+4293915773&4294967295,P=V+(C<<15&4294967295|C>>>17),C=E+(V^(P|~_))+A[1]+2240044497&4294967295,E=P+(C<<21&4294967295|C>>>11),C=_+(P^(E|~V))+A[8]+1873313359&4294967295,_=E+(C<<6&4294967295|C>>>26),C=V+(E^(_|~P))+A[15]+4264355552&4294967295,V=_+(C<<10&4294967295|C>>>22),C=P+(_^(V|~E))+A[6]+2734768916&4294967295,P=V+(C<<15&4294967295|C>>>17),C=E+(V^(P|~_))+A[13]+1309151649&4294967295,E=P+(C<<21&4294967295|C>>>11),C=_+(P^(E|~V))+A[4]+4149444226&4294967295,_=E+(C<<6&4294967295|C>>>26),C=V+(E^(_|~P))+A[11]+3174756917&4294967295,V=_+(C<<10&4294967295|C>>>22),C=P+(_^(V|~E))+A[2]+718787259&4294967295,P=V+(C<<15&4294967295|C>>>17),C=E+(V^(P|~_))+A[9]+3951481745&4294967295,k.g[0]=k.g[0]+_&4294967295,k.g[1]=k.g[1]+(P+(C<<21&4294967295|C>>>11))&4294967295,k.g[2]=k.g[2]+P&4294967295,k.g[3]=k.g[3]+V&4294967295}s.prototype.v=function(k,_){_===void 0&&(_=k.length);const E=_-this.blockSize,A=this.C;let P=this.h,V=0;for(;V<_;){if(P==0)for(;V<=E;)r(this,k,V),V+=this.blockSize;if(typeof k=="string"){for(;V<_;)if(A[P++]=k.charCodeAt(V++),P==this.blockSize){r(this,A),P=0;break}}else for(;V<_;)if(A[P++]=k[V++],P==this.blockSize){r(this,A),P=0;break}}this.h=P,this.o+=_},s.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var _=1;_<k.length-8;++_)k[_]=0;_=this.o*8;for(var E=k.length-8;E<k.length;++E)k[E]=_&255,_/=256;for(this.v(k),k=Array(16),_=0,E=0;E<4;++E)for(let A=0;A<32;A+=8)k[_++]=this.g[E]>>>A&255;return k};function a(k,_){var E=l;return Object.prototype.hasOwnProperty.call(E,k)?E[k]:E[k]=_(k)}function o(k,_){this.h=_;const E=[];let A=!0;for(let P=k.length-1;P>=0;P--){const V=k[P]|0;A&&V==_||(E[P]=V,A=!1)}this.g=E}var l={};function u(k){return-128<=k&&k<128?a(k,function(_){return new o([_|0],_<0?-1:0)}):new o([k|0],k<0?-1:0)}function d(k){if(isNaN(k)||!isFinite(k))return h;if(k<0)return I(d(-k));const _=[];let E=1;for(let A=0;k>=E;A++)_[A]=k/E|0,E*=4294967296;return new o(_,0)}function f(k,_){if(k.length==0)throw Error("number format error: empty string");if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(k.charAt(0)=="-")return I(f(k.substring(1),_));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const E=d(Math.pow(_,8));let A=h;for(let V=0;V<k.length;V+=8){var P=Math.min(8,k.length-V);const C=parseInt(k.substring(V,V+P),_);P<8?(P=d(Math.pow(_,P)),A=A.j(P).add(d(C))):(A=A.j(E),A=A.add(d(C)))}return A}var h=u(0),p=u(1),v=u(16777216);t=o.prototype,t.m=function(){if(S(this))return-I(this).m();let k=0,_=1;for(let E=0;E<this.g.length;E++){const A=this.i(E);k+=(A>=0?A:4294967296+A)*_,_*=4294967296}return k},t.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(T(this))return"0";if(S(this))return"-"+I(this).toString(k);const _=d(Math.pow(k,6));var E=this;let A="";for(;;){const P=D(E,_).g;E=N(E,P.j(_));let V=((E.g.length>0?E.g[0]:E.h)>>>0).toString(k);if(E=P,T(E))return V+A;for(;V.length<6;)V="0"+V;A=V+A}},t.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function T(k){if(k.h!=0)return!1;for(let _=0;_<k.g.length;_++)if(k.g[_]!=0)return!1;return!0}function S(k){return k.h==-1}t.l=function(k){return k=N(this,k),S(k)?-1:T(k)?0:1};function I(k){const _=k.g.length,E=[];for(let A=0;A<_;A++)E[A]=~k.g[A];return new o(E,~k.h).add(p)}t.abs=function(){return S(this)?I(this):this},t.add=function(k){const _=Math.max(this.g.length,k.g.length),E=[];let A=0;for(let P=0;P<=_;P++){let V=A+(this.i(P)&65535)+(k.i(P)&65535),C=(V>>>16)+(this.i(P)>>>16)+(k.i(P)>>>16);A=C>>>16,V&=65535,C&=65535,E[P]=C<<16|V}return new o(E,E[E.length-1]&-2147483648?-1:0)};function N(k,_){return k.add(I(_))}t.j=function(k){if(T(this)||T(k))return h;if(S(this))return S(k)?I(this).j(I(k)):I(I(this).j(k));if(S(k))return I(this.j(I(k)));if(this.l(v)<0&&k.l(v)<0)return d(this.m()*k.m());const _=this.g.length+k.g.length,E=[];for(var A=0;A<2*_;A++)E[A]=0;for(A=0;A<this.g.length;A++)for(let P=0;P<k.g.length;P++){const V=this.i(A)>>>16,C=this.i(A)&65535,Q=k.i(P)>>>16,ae=k.i(P)&65535;E[2*A+2*P]+=C*ae,y(E,2*A+2*P),E[2*A+2*P+1]+=V*ae,y(E,2*A+2*P+1),E[2*A+2*P+1]+=C*Q,y(E,2*A+2*P+1),E[2*A+2*P+2]+=V*Q,y(E,2*A+2*P+2)}for(k=0;k<_;k++)E[k]=E[2*k+1]<<16|E[2*k];for(k=_;k<2*_;k++)E[k]=0;return new o(E,0)};function y(k,_){for(;(k[_]&65535)!=k[_];)k[_+1]+=k[_]>>>16,k[_]&=65535,_++}function b(k,_){this.g=k,this.h=_}function D(k,_){if(T(_))throw Error("division by zero");if(T(k))return new b(h,h);if(S(k))return _=D(I(k),_),new b(I(_.g),I(_.h));if(S(_))return _=D(k,I(_)),new b(I(_.g),_.h);if(k.g.length>30){if(S(k)||S(_))throw Error("slowDivide_ only works with positive integers.");for(var E=p,A=_;A.l(k)<=0;)E=M(E),A=M(A);var P=z(E,1),V=z(A,1);for(A=z(A,2),E=z(E,2);!T(A);){var C=V.add(A);C.l(k)<=0&&(P=P.add(E),V=C),A=z(A,1),E=z(E,1)}return _=N(k,P.j(_)),new b(P,_)}for(P=h;k.l(_)>=0;){for(E=Math.max(1,Math.floor(k.m()/_.m())),A=Math.ceil(Math.log(E)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),V=d(E),C=V.j(_);S(C)||C.l(k)>0;)E-=A,V=d(E),C=V.j(_);T(V)&&(V=p),P=P.add(V),k=N(k,C)}return new b(P,k)}t.B=function(k){return D(this,k).h},t.and=function(k){const _=Math.max(this.g.length,k.g.length),E=[];for(let A=0;A<_;A++)E[A]=this.i(A)&k.i(A);return new o(E,this.h&k.h)},t.or=function(k){const _=Math.max(this.g.length,k.g.length),E=[];for(let A=0;A<_;A++)E[A]=this.i(A)|k.i(A);return new o(E,this.h|k.h)},t.xor=function(k){const _=Math.max(this.g.length,k.g.length),E=[];for(let A=0;A<_;A++)E[A]=this.i(A)^k.i(A);return new o(E,this.h^k.h)};function M(k){const _=k.g.length+1,E=[];for(let A=0;A<_;A++)E[A]=k.i(A)<<1|k.i(A-1)>>>31;return new o(E,k.h)}function z(k,_){const E=_>>5;_%=32;const A=k.g.length-E,P=[];for(let V=0;V<A;V++)P[V]=_>0?k.i(V+E)>>>_|k.i(V+E+1)<<32-_:k.i(V+E);return new o(P,k.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,aS=s,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,vr=o}).apply(typeof rw<"u"?rw:typeof self<"u"?self:typeof window<"u"?window:{});var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oS,So,lS,nu,Bm,cS,uS,dS;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cc=="object"&&Cc];for(var m=0;m<c.length;++m){var g=c[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=n(this);function r(c,m){if(m)e:{var g=s;c=c.split(".");for(var j=0;j<c.length-1;j++){var F=c[j];if(!(F in g))break e;g=g[F]}c=c[c.length-1],j=g[c],m=m(j),m!=j&&m!=null&&e(g,c,{configurable:!0,writable:!0,value:m})}}r("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(c){return c||function(m){var g=[],j;for(j in m)Object.prototype.hasOwnProperty.call(m,j)&&g.push([j,m[j]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function u(c,m,g){return c.call.apply(c.bind,arguments)}function d(c,m,g){return d=u,d.apply(null,arguments)}function f(c,m){var g=Array.prototype.slice.call(arguments,1);return function(){var j=g.slice();return j.push.apply(j,arguments),c.apply(this,j)}}function h(c,m){function g(){}g.prototype=m.prototype,c.Z=m.prototype,c.prototype=new g,c.prototype.constructor=c,c.Ob=function(j,F,$){for(var Y=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)Y[ge-2]=arguments[ge];return m.prototype[F].apply(j,Y)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function v(c){const m=c.length;if(m>0){const g=Array(m);for(let j=0;j<m;j++)g[j]=c[j];return g}return[]}function T(c,m){for(let j=1;j<arguments.length;j++){const F=arguments[j];var g=typeof F;if(g=g!="object"?g:F?Array.isArray(F)?"array":g:"null",g=="array"||g=="object"&&typeof F.length=="number"){g=c.length||0;const $=F.length||0;c.length=g+$;for(let Y=0;Y<$;Y++)c[g+Y]=F[Y]}else c.push(F)}}class S{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function I(c){o.setTimeout(()=>{throw c},0)}function N(){var c=k;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class y{constructor(){this.h=this.g=null}add(m,g){const j=b.get();j.set(m,g),this.h?this.h.next=j:this.g=j,this.h=j}}var b=new S(()=>new D,c=>c.reset());class D{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let M,z=!1,k=new y,_=()=>{const c=Promise.resolve(void 0);M=()=>{c.then(E)}};function E(){for(var c;c=N();){try{c.h.call(c.g)}catch(g){I(g)}var m=b;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}z=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var V=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const g=()=>{};o.addEventListener("test",g,m),o.removeEventListener("test",g,m)}catch{}return c}();function C(c){return/^[\s\xa0]*$/.test(c)}function Q(c,m){P.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}h(Q,P),Q.prototype.init=function(c,m){const g=this.type=c.type,j=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(g=="mouseover"?m=c.fromElement:g=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Q.Z.h.call(this)},Q.prototype.h=function(){Q.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ae="closure_listenable_"+(Math.random()*1e6|0),me=0;function ze(c,m,g,j,F){this.listener=c,this.proxy=null,this.src=m,this.type=g,this.capture=!!j,this.ha=F,this.key=++me,this.da=this.fa=!1}function L(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function B(c,m,g){for(const j in c)m.call(g,c[j],j,c)}function Z(c,m){for(const g in c)m.call(void 0,c[g],g,c)}function ne(c){const m={};for(const g in c)m[g]=c[g];return m}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(c,m){let g,j;for(let F=1;F<arguments.length;F++){j=arguments[F];for(g in j)c[g]=j[g];for(let $=0;$<G.length;$++)g=G[$],Object.prototype.hasOwnProperty.call(j,g)&&(c[g]=j[g])}}function je(c){this.src=c,this.g={},this.h=0}je.prototype.add=function(c,m,g,j,F){const $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);const Y=O(c,m,j,F);return Y>-1?(m=c[Y],g||(m.fa=!1)):(m=new ze(m,this.src,$,!!j,F),m.fa=g,c.push(m)),m};function Me(c,m){const g=m.type;if(g in c.g){var j=c.g[g],F=Array.prototype.indexOf.call(j,m,void 0),$;($=F>=0)&&Array.prototype.splice.call(j,F,1),$&&(L(m),c.g[g].length==0&&(delete c.g[g],c.h--))}}function O(c,m,g,j){for(let F=0;F<c.length;++F){const $=c[F];if(!$.da&&$.listener==m&&$.capture==!!g&&$.ha==j)return F}return-1}var ce="closure_lm_"+(Math.random()*1e6|0),Se={};function xt(c,m,g,j,F){if(Array.isArray(m)){for(let $=0;$<m.length;$++)xt(c,m[$],g,j,F);return null}return g=qt(g),c&&c[ae]?c.J(m,g,l(j)?!!j.capture:!1,F):Te(c,m,g,!1,j,F)}function Te(c,m,g,j,F,$){if(!m)throw Error("Invalid event type");const Y=l(F)?!!F.capture:!!F;let ge=kn(c);if(ge||(c[ce]=ge=new je(c)),g=ge.add(m,g,j,Y,$),g.proxy)return g;if(j=He(),g.proxy=j,j.src=c,j.listener=g,c.addEventListener)V||(F=Y),F===void 0&&(F=!1),c.addEventListener(m.toString(),j,F);else if(c.attachEvent)c.attachEvent(Nt(m.toString()),j);else if(c.addListener&&c.removeListener)c.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return g}function He(){function c(g){return m.call(c.src,c.listener,g)}const m=$n;return c}function En(c,m,g,j,F){if(Array.isArray(m))for(var $=0;$<m.length;$++)En(c,m[$],g,j,F);else j=l(j)?!!j.capture:!!j,g=qt(g),c&&c[ae]?(c=c.i,$=String(m).toString(),$ in c.g&&(m=c.g[$],g=O(m,g,j,F),g>-1&&(L(m[g]),Array.prototype.splice.call(m,g,1),m.length==0&&(delete c.g[$],c.h--)))):c&&(c=kn(c))&&(m=c.g[m.toString()],c=-1,m&&(c=O(m,g,j,F)),(g=c>-1?m[c]:null)&&jn(g))}function jn(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[ae])Me(m.i,c);else{var g=c.type,j=c.proxy;m.removeEventListener?m.removeEventListener(g,j,c.capture):m.detachEvent?m.detachEvent(Nt(g),j):m.addListener&&m.removeListener&&m.removeListener(j),(g=kn(m))?(Me(g,c),g.h==0&&(g.src=null,m[ce]=null)):L(c)}}}function Nt(c){return c in Se?Se[c]:Se[c]="on"+c}function $n(c,m){if(c.da)c=!0;else{m=new Q(m,this);const g=c.listener,j=c.ha||c.src;c.fa&&jn(c),c=g.call(j,m)}return c}function kn(c){return c=c[ce],c instanceof je?c:null}var Os="__closure_events_fn_"+(Math.random()*1e9>>>0);function qt(c){return typeof c=="function"?c:(c[Os]||(c[Os]=function(m){return c.handleEvent(m)}),c[Os])}function dt(){A.call(this),this.i=new je(this),this.M=this,this.G=null}h(dt,A),dt.prototype[ae]=!0,dt.prototype.removeEventListener=function(c,m,g,j){En(this,c,m,g,j)};function ht(c,m){var g,j=c.G;if(j)for(g=[];j;j=j.G)g.push(j);if(c=c.M,j=m.type||m,typeof m=="string")m=new P(m,c);else if(m instanceof P)m.target=m.target||c;else{var F=m;m=new P(j,c),pe(m,F)}F=!0;let $,Y;if(g)for(Y=g.length-1;Y>=0;Y--)$=m.g=g[Y],F=Ur($,j,!0,m)&&F;if($=m.g=c,F=Ur($,j,!0,m)&&F,F=Ur($,j,!1,m)&&F,g)for(Y=0;Y<g.length;Y++)$=m.g=g[Y],F=Ur($,j,!1,m)&&F}dt.prototype.N=function(){if(dt.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const g=c.g[m];for(let j=0;j<g.length;j++)L(g[j]);delete c.g[m],c.h--}}this.G=null},dt.prototype.J=function(c,m,g,j){return this.i.add(String(c),m,!1,g,j)},dt.prototype.K=function(c,m,g,j){return this.i.add(String(c),m,!0,g,j)};function Ur(c,m,g,j){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let F=!0;for(let $=0;$<m.length;++$){const Y=m[$];if(Y&&!Y.da&&Y.capture==g){const ge=Y.listener,ft=Y.ha||Y.src;Y.fa&&Me(c.i,Y),F=ge.call(ft,j)!==!1&&F}}return F&&!j.defaultPrevented}function za(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=d(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:o.setTimeout(c,m||0)}function Ha(c){c.g=za(()=>{c.g=null,c.i&&(c.i=!1,Ha(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class lh extends A{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ha(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $r(c){A.call(this),this.h=c,this.g={}}h($r,A);var Bn=[];function Jl(c){B(c.g,function(m,g){this.g.hasOwnProperty(g)&&jn(m)},c),c.g={}}$r.prototype.N=function(){$r.Z.N.call(this),Jl(this)},$r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wa=o.JSON.stringify,ch=o.JSON.parse,uh=class{stringify(c){return o.JSON.stringify(c,void 0)}parse(c){return o.JSON.parse(c,void 0)}};function In(){}function qa(){}var Br={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ga(){P.call(this,"d")}h(Ga,P);function Ci(){P.call(this,"c")}h(Ci,P);var zn={},Ka=null;function x(){return Ka=Ka||new dt}zn.Ia="serverreachability";function te(c){P.call(this,zn.Ia,c)}h(te,P);function q(c){const m=x();ht(m,new te(m))}zn.STAT_EVENT="statevent";function ie(c,m){P.call(this,zn.STAT_EVENT,c),this.stat=m}h(ie,P);function Re(c){const m=x();ht(m,new ie(m,c))}zn.Ja="timingevent";function Ee(c,m){P.call(this,zn.Ja,c),this.size=m}h(Ee,P);function Ie(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){c()},m)}function Ae(){this.g=!0}Ae.prototype.ua=function(){this.g=!1};function YT(c,m,g,j,F,$){c.info(function(){if(c.g)if($){var Y="",ge=$.split("&");for(let Pe=0;Pe<ge.length;Pe++){var ft=ge[Pe].split("=");if(ft.length>1){const vt=ft[0];ft=ft[1];const Wn=vt.split("_");Y=Wn.length>=2&&Wn[1]=="type"?Y+(vt+"="+ft+"&"):Y+(vt+"=redacted&")}}}else Y=null;else Y=$;return"XMLHTTP REQ ("+j+") [attempt "+F+"]: "+m+`
`+g+`
`+Y})}function QT(c,m,g,j,F,$,Y){c.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+F+"]: "+m+`
`+g+`
`+$+" "+Y})}function Ai(c,m,g,j){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+XT(c,g)+(j?" "+j:"")})}function JT(c,m){c.info(function(){return"TIMEOUT: "+m})}Ae.prototype.info=function(){};function XT(c,m){if(!c.g)return m;if(!m)return null;try{const $=JSON.parse(m);if($){for(c=0;c<$.length;c++)if(Array.isArray($[c])){var g=$[c];if(!(g.length<2)){var j=g[1];if(Array.isArray(j)&&!(j.length<1)){var F=j[0];if(F!="noop"&&F!="stop"&&F!="close")for(let Y=1;Y<j.length;Y++)j[Y]=""}}}}return Wa($)}catch{return m}}var Xl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},jy={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ky;function dh(){}h(dh,In),dh.prototype.g=function(){return new XMLHttpRequest},ky=new dh;function Ya(c){return encodeURIComponent(String(c))}function ZT(c){var m=1;c=c.split(":");const g=[];for(;m>0&&c.length;)g.push(c.shift()),m--;return c.length&&g.push(c.join(":")),g}function Fs(c,m,g,j){this.j=c,this.i=m,this.l=g,this.S=j||1,this.V=new $r(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Iy}function Iy(){this.i=null,this.g="",this.h=!1}var Cy={},hh={};function fh(c,m,g){c.M=1,c.A=ec(Hn(m)),c.u=g,c.R=!0,Ay(c,null)}function Ay(c,m){c.F=Date.now(),Zl(c),c.B=Hn(c.A);var g=c.B,j=c.S;Array.isArray(j)||(j=[String(j)]),Hy(g.i,"t",j),c.C=0,g=c.j.L,c.h=new Iy,c.g=lx(c.j,g?m:null,!c.u),c.P>0&&(c.O=new lh(d(c.Y,c,c.g),c.P)),m=c.V,g=c.g,j=c.ba;var F="readystatechange";Array.isArray(F)||(F&&(Bn[0]=F.toString()),F=Bn);for(let $=0;$<F.length;$++){const Y=xt(g,F[$],j||m.handleEvent,!1,m.h||m);if(!Y)break;m.g[Y.key]=Y}m=c.J?ne(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),q(),YT(c.i,c.v,c.B,c.l,c.S,c.u)}Fs.prototype.ba=function(c){c=c.target;const m=this.O;m&&Bs(c)==3?m.j():this.Y(c)},Fs.prototype.Y=function(c){try{if(c==this.g)e:{const ge=Bs(this.g),ft=this.g.ya(),Pe=this.g.ca();if(!(ge<3)&&(ge!=3||this.g&&(this.h.h||this.g.la()||Jy(this.g)))){this.K||ge!=4||ft==7||(ft==8||Pe<=0?q(3):q(2)),mh(this);var m=this.g.ca();this.X=m;var g=eE(this);if(this.o=m==200,QT(this.i,this.v,this.B,this.l,this.S,ge,m),this.o){if(this.U&&!this.L){t:{if(this.g){var j,F=this.g;if((j=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(j)){var $=j;break t}}$=null}if(c=$)Ai(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ph(this,c);else{this.o=!1,this.m=3,Re(12),zr(this),Qa(this);break e}}if(this.R){c=!0;let vt;for(;!this.K&&this.C<g.length;)if(vt=tE(this,g),vt==hh){ge==4&&(this.m=4,Re(14),c=!1),Ai(this.i,this.l,null,"[Incomplete Response]");break}else if(vt==Cy){this.m=4,Re(15),Ai(this.i,this.l,g,"[Invalid Chunk]"),c=!1;break}else Ai(this.i,this.l,vt,null),ph(this,vt);if(Py(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ge!=4||g.length!=0||this.h.h||(this.m=1,Re(16),c=!1),this.o=this.o&&c,!c)Ai(this.i,this.l,g,"[Invalid Chunked Response]"),zr(this),Qa(this);else if(g.length>0&&!this.W){this.W=!0;var Y=this.j;Y.g==this&&Y.aa&&!Y.P&&(Y.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),Nh(Y),Y.P=!0,Re(11))}}else Ai(this.i,this.l,g,null),ph(this,g);ge==4&&zr(this),this.o&&!this.K&&(ge==4?rx(this.j,this):(this.o=!1,Zl(this)))}else pE(this.g),m==400&&g.indexOf("Unknown SID")>0?(this.m=3,Re(12)):(this.m=0,Re(13)),zr(this),Qa(this)}}}catch{}finally{}};function eE(c){if(!Py(c))return c.g.la();const m=Jy(c.g);if(m==="")return"";let g="";const j=m.length,F=Bs(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return zr(c),Qa(c),"";c.h.i=new o.TextDecoder}for(let $=0;$<j;$++)c.h.h=!0,g+=c.h.i.decode(m[$],{stream:!(F&&$==j-1)});return m.length=0,c.h.g+=g,c.C=0,c.h.g}function Py(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function tE(c,m){var g=c.C,j=m.indexOf(`
`,g);return j==-1?hh:(g=Number(m.substring(g,j)),isNaN(g)?Cy:(j+=1,j+g>m.length?hh:(m=m.slice(j,j+g),c.C=j+g,m)))}Fs.prototype.cancel=function(){this.K=!0,zr(this)};function Zl(c){c.T=Date.now()+c.H,Ry(c,c.H)}function Ry(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Ie(d(c.aa,c),m)}function mh(c){c.D&&(o.clearTimeout(c.D),c.D=null)}Fs.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(JT(this.i,this.B),this.M!=2&&(q(),Re(17)),zr(this),this.m=2,Qa(this)):Ry(this,this.T-c)};function Qa(c){c.j.I==0||c.K||rx(c.j,c)}function zr(c){mh(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,Jl(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function ph(c,m){try{var g=c.j;if(g.I!=0&&(g.g==c||gh(g.h,c))){if(!c.L&&gh(g.h,c)&&g.I==3){try{var j=g.Ba.g.parse(m)}catch{j=null}if(Array.isArray(j)&&j.length==3){var F=j;if(F[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<c.F)ic(g),sc(g);else break e;_h(g),Re(18)}}else g.xa=F[1],0<g.xa-g.K&&F[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=Ie(d(g.Va,g),6e3));Ly(g.h)<=1&&g.ta&&(g.ta=void 0)}else Wr(g,11)}else if((c.L||g.g==c)&&ic(g),!C(m))for(F=g.Ba.g.parse(m),m=0;m<F.length;m++){let Pe=F[m];const vt=Pe[0];if(!(vt<=g.K))if(g.K=vt,Pe=Pe[1],g.I==2)if(Pe[0]=="c"){g.M=Pe[1],g.ba=Pe[2];const Wn=Pe[3];Wn!=null&&(g.ka=Wn,g.j.info("VER="+g.ka));const qr=Pe[4];qr!=null&&(g.za=qr,g.j.info("SVER="+g.za));const zs=Pe[5];zs!=null&&typeof zs=="number"&&zs>0&&(j=1.5*zs,g.O=j,g.j.info("backChannelRequestTimeoutMs_="+j)),j=g;const Hs=c.g;if(Hs){const oc=Hs.g?Hs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oc){var $=j.h;$.g||oc.indexOf("spdy")==-1&&oc.indexOf("quic")==-1&&oc.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(yh($,$.h),$.h=null))}if(j.G){const Sh=Hs.g?Hs.g.getResponseHeader("X-HTTP-Session-Id"):null;Sh&&(j.wa=Sh,Oe(j.J,j.G,Sh))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-c.F,g.j.info("Handshake RTT: "+g.T+"ms")),j=g;var Y=c;if(j.na=ox(j,j.L?j.ba:null,j.W),Y.L){My(j.h,Y);var ge=Y,ft=j.O;ft&&(ge.H=ft),ge.D&&(mh(ge),Zl(ge)),j.g=Y}else nx(j);g.i.length>0&&rc(g)}else Pe[0]!="stop"&&Pe[0]!="close"||Wr(g,7);else g.I==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?Wr(g,7):bh(g):Pe[0]!="noop"&&g.l&&g.l.qa(Pe),g.A=0)}}q(4)}catch{}}var nE=class{constructor(c,m){this.g=c,this.map=m}};function Dy(c){this.l=c||10,o.PerformanceNavigationTiming?(c=o.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Vy(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ly(c){return c.h?1:c.g?c.g.size:0}function gh(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function yh(c,m){c.g?c.g.add(m):c.h=m}function My(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Dy.prototype.cancel=function(){if(this.i=Oy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Oy(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const g of c.g.values())m=m.concat(g.G);return m}return v(c.i)}var Fy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sE(c,m){if(c){c=c.split("&");for(let g=0;g<c.length;g++){const j=c[g].indexOf("=");let F,$=null;j>=0?(F=c[g].substring(0,j),$=c[g].substring(j+1)):F=c[g],m(F,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Us(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof Us?(this.l=c.l,Ja(this,c.j),this.o=c.o,this.g=c.g,Xa(this,c.u),this.h=c.h,xh(this,Wy(c.i)),this.m=c.m):c&&(m=String(c).match(Fy))?(this.l=!1,Ja(this,m[1]||"",!0),this.o=Za(m[2]||""),this.g=Za(m[3]||"",!0),Xa(this,m[4]),this.h=Za(m[5]||"",!0),xh(this,m[6]||"",!0),this.m=Za(m[7]||"")):(this.l=!1,this.i=new to(null,this.l))}Us.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(eo(m,Uy,!0),":");var g=this.g;return(g||m=="file")&&(c.push("//"),(m=this.o)&&c.push(eo(m,Uy,!0),"@"),c.push(Ya(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&c.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(eo(g,g.charAt(0)=="/"?aE:iE,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",eo(g,lE)),c.join("")},Us.prototype.resolve=function(c){const m=Hn(this);let g=!!c.j;g?Ja(m,c.j):g=!!c.o,g?m.o=c.o:g=!!c.g,g?m.g=c.g:g=c.u!=null;var j=c.h;if(g)Xa(m,c.u);else if(g=!!c.h){if(j.charAt(0)!="/")if(this.g&&!this.h)j="/"+j;else{var F=m.h.lastIndexOf("/");F!=-1&&(j=m.h.slice(0,F+1)+j)}if(F=j,F==".."||F==".")j="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){j=F.lastIndexOf("/",0)==0,F=F.split("/");const $=[];for(let Y=0;Y<F.length;){const ge=F[Y++];ge=="."?j&&Y==F.length&&$.push(""):ge==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),j&&Y==F.length&&$.push("")):($.push(ge),j=!0)}j=$.join("/")}else j=F}return g?m.h=j:g=c.i.toString()!=="",g?xh(m,Wy(c.i)):g=!!c.m,g&&(m.m=c.m),m};function Hn(c){return new Us(c)}function Ja(c,m,g){c.j=g?Za(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function Xa(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function xh(c,m,g){m instanceof to?(c.i=m,cE(c.i,c.l)):(g||(m=eo(m,oE)),c.i=new to(m,c.l))}function Oe(c,m,g){c.i.set(m,g)}function ec(c){return Oe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Za(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function eo(c,m,g){return typeof c=="string"?(c=encodeURI(c).replace(m,rE),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rE(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Uy=/[#\/\?@]/g,iE=/[#\?:]/g,aE=/[#\?]/g,oE=/[#\?@]/g,lE=/#/g;function to(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function Hr(c){c.g||(c.g=new Map,c.h=0,c.i&&sE(c.i,function(m,g){c.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}t=to.prototype,t.add=function(c,m){Hr(this),this.i=null,c=Pi(this,c);let g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(m),this.h+=1,this};function $y(c,m){Hr(c),m=Pi(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function By(c,m){return Hr(c),m=Pi(c,m),c.g.has(m)}t.forEach=function(c,m){Hr(this),this.g.forEach(function(g,j){g.forEach(function(F){c.call(m,F,j,this)},this)},this)};function zy(c,m){Hr(c);let g=[];if(typeof m=="string")By(c,m)&&(g=g.concat(c.g.get(Pi(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)g=g.concat(c[m]);return g}t.set=function(c,m){return Hr(this),this.i=null,c=Pi(this,c),By(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=zy(this,c),c.length>0?String(c[0]):m):m};function Hy(c,m,g){$y(c,m),g.length>0&&(c.i=null,c.g.set(Pi(c,m),v(g)),c.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let j=0;j<m.length;j++){var g=m[j];const F=Ya(g);g=zy(this,g);for(let $=0;$<g.length;$++){let Y=F;g[$]!==""&&(Y+="="+Ya(g[$])),c.push(Y)}}return this.i=c.join("&")};function Wy(c){const m=new to;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function Pi(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function cE(c,m){m&&!c.j&&(Hr(c),c.i=null,c.g.forEach(function(g,j){const F=j.toLowerCase();j!=F&&($y(this,j),Hy(this,F,g))},c)),c.j=m}function uE(c,m){const g=new Ae;if(o.Image){const j=new Image;j.onload=f($s,g,"TestLoadImage: loaded",!0,m,j),j.onerror=f($s,g,"TestLoadImage: error",!1,m,j),j.onabort=f($s,g,"TestLoadImage: abort",!1,m,j),j.ontimeout=f($s,g,"TestLoadImage: timeout",!1,m,j),o.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=c}else m(!1)}function dE(c,m){const g=new Ae,j=new AbortController,F=setTimeout(()=>{j.abort(),$s(g,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:j.signal}).then($=>{clearTimeout(F),$.ok?$s(g,"TestPingServer: ok",!0,m):$s(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(F),$s(g,"TestPingServer: error",!1,m)})}function $s(c,m,g,j,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),j(g)}catch{}}function hE(){this.g=new uh}function vh(c){this.i=c.Sb||null,this.h=c.ab||!1}h(vh,In),vh.prototype.g=function(){return new tc(this.i,this.h)};function tc(c,m){dt.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(tc,dt),t=tc.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,so(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||o).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,no(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,so(this)),this.g&&(this.readyState=3,so(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;qy(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function qy(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?no(this):so(this),this.readyState==3&&qy(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,no(this))},t.Na=function(c){this.g&&(this.response=c,no(this))},t.ga=function(){this.g&&no(this)};function no(c){c.readyState=4,c.l=null,c.j=null,c.B=null,so(c)}t.setRequestHeader=function(c,m){this.A.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=m.next();return c.join(`\r
`)};function so(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(tc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Gy(c){let m="";return B(c,function(g,j){m+=j,m+=":",m+=g,m+=`\r
`}),m}function wh(c,m,g){e:{for(j in g){var j=!1;break e}j=!0}j||(g=Gy(g),typeof c=="string"?g!=null&&Ya(g):Oe(c,m,g))}function Je(c){dt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(Je,dt);var fE=/^https?$/i,mE=["POST","PUT"];t=Je.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,m,g,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ky.g(),this.g.onreadystatechange=p(d(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch($){Ky(this,$);return}if(c=g||"",g=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var F in j)g.set(F,j[F]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const $ of j.keys())g.set($,j.get($));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(g.keys()).find($=>$.toLowerCase()=="content-type"),F=o.FormData&&c instanceof o.FormData,!(Array.prototype.indexOf.call(mE,m,void 0)>=0)||j||F||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,Y]of g)this.g.setRequestHeader($,Y);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch($){Ky(this,$)}};function Ky(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Yy(c),nc(c)}function Yy(c){c.A||(c.A=!0,ht(c,"complete"),ht(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,ht(this,"complete"),ht(this,"abort"),nc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nc(this,!0)),Je.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Qy(this):this.Xa())},t.Xa=function(){Qy(this)};function Qy(c){if(c.h&&typeof a<"u"){if(c.v&&Bs(c)==4)setTimeout(c.Ca.bind(c),0);else if(ht(c,"readystatechange"),Bs(c)==4){c.h=!1;try{const $=c.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var g;if(!(g=m)){var j;if(j=$===0){let Y=String(c.D).match(Fy)[1]||null;!Y&&o.self&&o.self.location&&(Y=o.self.location.protocol.slice(0,-1)),j=!fE.test(Y?Y.toLowerCase():"")}g=j}if(g)ht(c,"complete"),ht(c,"success");else{c.o=6;try{var F=Bs(c)>2?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.ca()+"]",Yy(c)}}finally{nc(c)}}}}function nc(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const g=c.g;c.g=null,m||ht(c,"ready");try{g.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Bs(c){return c.g?c.g.readyState:0}t.ca=function(){try{return Bs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),ch(m)}};function Jy(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function pE(c){const m={};c=(c.g&&Bs(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<c.length;j++){if(C(c[j]))continue;var g=ZT(c[j]);const F=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const $=m[F]||[];m[F]=$,$.push(g)}Z(m,function(j){return j.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ro(c,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||m}function Xy(c){this.za=0,this.i=[],this.j=new Ae,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ro("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ro("baseRetryDelayMs",5e3,c),this.Za=ro("retryDelaySeedMs",1e4,c),this.Ta=ro("forwardChannelMaxRetries",2,c),this.va=ro("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Dy(c&&c.concurrentRequestLimit),this.Ba=new hE,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Xy.prototype,t.ka=8,t.I=1,t.connect=function(c,m,g,j){Re(0),this.W=c,this.H=m||{},g&&j!==void 0&&(this.H.OSID=g,this.H.OAID=j),this.F=this.X,this.J=ox(this,null,this.W),rc(this)};function bh(c){if(Zy(c),c.I==3){var m=c.V++,g=Hn(c.J);if(Oe(g,"SID",c.M),Oe(g,"RID",m),Oe(g,"TYPE","terminate"),io(c,g),m=new Fs(c,c.j,m),m.M=2,m.A=ec(Hn(g)),g=!1,o.navigator&&o.navigator.sendBeacon)try{g=o.navigator.sendBeacon(m.A.toString(),"")}catch{}!g&&o.Image&&(new Image().src=m.A,g=!0),g||(m.g=lx(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Zl(m)}ax(c)}function sc(c){c.g&&(Nh(c),c.g.cancel(),c.g=null)}function Zy(c){sc(c),c.v&&(o.clearTimeout(c.v),c.v=null),ic(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&o.clearTimeout(c.m),c.m=null)}function rc(c){if(!Vy(c.h)&&!c.m){c.m=!0;var m=c.Ea;M||_(),z||(M(),z=!0),k.add(m,c),c.D=0}}function gE(c,m){return Ly(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Ie(d(c.Ea,c,m),ix(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const F=new Fs(this,this.j,c);let $=this.o;if(this.U&&($?($=ne($),pe($,this.U)):$=this.U),this.u!==null||this.R||(F.J=$,$=null),this.S)e:{for(var m=0,g=0;g<this.i.length;g++){t:{var j=this.i[g];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(m+=j,m>4096){m=g;break e}if(m===4096||g===this.i.length-1){m=g+1;break e}}m=1e3}else m=1e3;m=tx(this,F,m),g=Hn(this.J),Oe(g,"RID",c),Oe(g,"CVER",22),this.G&&Oe(g,"X-HTTP-Session-Id",this.G),io(this,g),$&&(this.R?m="headers="+Ya(Gy($))+"&"+m:this.u&&wh(g,this.u,$)),yh(this.h,F),this.Ra&&Oe(g,"TYPE","init"),this.S?(Oe(g,"$req",m),Oe(g,"SID","null"),F.U=!0,fh(F,g,null)):fh(F,g,m),this.I=2}}else this.I==3&&(c?ex(this,c):this.i.length==0||Vy(this.h)||ex(this))};function ex(c,m){var g;m?g=m.l:g=c.V++;const j=Hn(c.J);Oe(j,"SID",c.M),Oe(j,"RID",g),Oe(j,"AID",c.K),io(c,j),c.u&&c.o&&wh(j,c.u,c.o),g=new Fs(c,c.j,g,c.D+1),c.u===null&&(g.J=c.o),m&&(c.i=m.G.concat(c.i)),m=tx(c,g,1e3),g.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),yh(c.h,g),fh(g,j,m)}function io(c,m){c.H&&B(c.H,function(g,j){Oe(m,j,g)}),c.l&&B({},function(g,j){Oe(m,j,g)})}function tx(c,m,g){g=Math.min(c.i.length,g);const j=c.l?d(c.l.Ka,c.l,c):null;e:{var F=c.i;let ge=-1;for(;;){const ft=["count="+g];ge==-1?g>0?(ge=F[0].g,ft.push("ofs="+ge)):ge=0:ft.push("ofs="+ge);let Pe=!0;for(let vt=0;vt<g;vt++){var $=F[vt].g;const Wn=F[vt].map;if($-=ge,$<0)ge=Math.max(0,F[vt].g-100),Pe=!1;else try{$="req"+$+"_"||"";try{var Y=Wn instanceof Map?Wn:Object.entries(Wn);for(const[qr,zs]of Y){let Hs=zs;l(zs)&&(Hs=Wa(zs)),ft.push($+qr+"="+encodeURIComponent(Hs))}}catch(qr){throw ft.push($+"type="+encodeURIComponent("_badmap")),qr}}catch{j&&j(Wn)}}if(Pe){Y=ft.join("&");break e}}Y=void 0}return c=c.i.splice(0,g),m.G=c,Y}function nx(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;M||_(),z||(M(),z=!0),k.add(m,c),c.A=0}}function _h(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Ie(d(c.Da,c),ix(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,sx(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Ie(d(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Re(10),sc(this),sx(this))};function Nh(c){c.B!=null&&(o.clearTimeout(c.B),c.B=null)}function sx(c){c.g=new Fs(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=Hn(c.na);Oe(m,"RID","rpc"),Oe(m,"SID",c.M),Oe(m,"AID",c.K),Oe(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Oe(m,"TO",c.ia),Oe(m,"TYPE","xmlhttp"),io(c,m),c.u&&c.o&&wh(m,c.u,c.o),c.O&&(c.g.H=c.O);var g=c.g;c=c.ba,g.M=1,g.A=ec(Hn(m)),g.u=null,g.R=!0,Ay(g,c)}t.Va=function(){this.C!=null&&(this.C=null,sc(this),_h(this),Re(19))};function ic(c){c.C!=null&&(o.clearTimeout(c.C),c.C=null)}function rx(c,m){var g=null;if(c.g==m){ic(c),Nh(c),c.g=null;var j=2}else if(gh(c.h,m))g=m.G,My(c.h,m),j=1;else return;if(c.I!=0){if(m.o)if(j==1){g=m.u?m.u.length:0,m=Date.now()-m.F;var F=c.D;j=x(),ht(j,new Ee(j,g)),rc(c)}else nx(c);else if(F=m.m,F==3||F==0&&m.X>0||!(j==1&&gE(c,m)||j==2&&_h(c)))switch(g&&g.length>0&&(m=c.h,m.i=m.i.concat(g)),F){case 1:Wr(c,5);break;case 4:Wr(c,10);break;case 3:Wr(c,6);break;default:Wr(c,2)}}}function ix(c,m){let g=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(g*=2),g*m}function Wr(c,m){if(c.j.info("Error code "+m),m==2){var g=d(c.bb,c),j=c.Ua;const F=!j;j=new Us(j||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Ja(j,"https"),ec(j),F?uE(j.toString(),g):dE(j.toString(),g)}else Re(2);c.I=0,c.l&&c.l.pa(m),ax(c),Zy(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Re(2)):(this.j.info("Failed to ping google.com"),Re(1))};function ax(c){if(c.I=0,c.ja=[],c.l){const m=Oy(c.h);(m.length!=0||c.i.length!=0)&&(T(c.ja,m),T(c.ja,c.i),c.h.i.length=0,v(c.i),c.i.length=0),c.l.oa()}}function ox(c,m,g){var j=g instanceof Us?Hn(g):new Us(g);if(j.g!="")m&&(j.g=m+"."+j.g),Xa(j,j.u);else{var F=o.location;j=F.protocol,m=m?m+"."+F.hostname:F.hostname,F=+F.port;const $=new Us(null);j&&Ja($,j),m&&($.g=m),F&&Xa($,F),g&&($.h=g),j=$}return g=c.G,m=c.wa,g&&m&&Oe(j,g,m),Oe(j,"VER",c.ka),io(c,j),j}function lx(c,m,g){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Je(new vh({ab:g})):new Je(c.ma),m.Fa(c.L),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function cx(){}t=cx.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ac(){}ac.prototype.g=function(c,m){return new tn(c,m)};function tn(c,m){dt.call(this),this.g=new Xy(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!C(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Ri(this)}h(tn,dt),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){bh(this.g)},tn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.v&&(g={},g.__data__=Wa(c),c=g);m.i.push(new nE(m.Ya++,c)),m.I==3&&rc(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,bh(this.g),delete this.g,tn.Z.N.call(this)};function ux(c){Ga.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const g in m){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}h(ux,Ga);function dx(){Ci.call(this),this.status=1}h(dx,Ci);function Ri(c){this.g=c}h(Ri,cx),Ri.prototype.ra=function(){ht(this.g,"a")},Ri.prototype.qa=function(c){ht(this.g,new ux(c))},Ri.prototype.pa=function(c){ht(this.g,new dx)},Ri.prototype.oa=function(){ht(this.g,"b")},ac.prototype.createWebChannel=ac.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,dS=function(){return new ac},uS=function(){return x()},cS=zn,Bm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Xl.NO_ERROR=0,Xl.TIMEOUT=8,Xl.HTTP_ERROR=6,nu=Xl,jy.COMPLETE="complete",lS=jy,qa.EventType=Br,Br.OPEN="a",Br.CLOSE="b",Br.ERROR="c",Br.MESSAGE="d",dt.prototype.listen=dt.prototype.J,So=qa,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,oS=Je}).apply(typeof Cc<"u"?Cc:typeof self<"u"?self:typeof window<"u"?window:{});const iw="@firebase/firestore",aw="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vt.UNAUTHENTICATED=new Vt(null),Vt.GOOGLE_CREDENTIALS=new Vt("google-credentials-uid"),Vt.FIRST_PARTY=new Vt("first-party-uid"),Vt.MOCK_USER=new Vt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oa="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new jg("@firebase/firestore");function Vi(){return _i.logLevel}function se(t,...e){if(_i.logLevel<=xe.DEBUG){const n=e.map(Ug);_i.debug(`Firestore (${Oa}): ${t}`,...n)}}function As(t,...e){if(_i.logLevel<=xe.ERROR){const n=e.map(Ug);_i.error(`Firestore (${Oa}): ${t}`,...n)}}function Ta(t,...e){if(_i.logLevel<=xe.WARN){const n=e.map(Ug);_i.warn(`Firestore (${Oa}): ${t}`,...n)}}function Ug(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,hS(t,s,n)}function hS(t,e,n){let s=`FIRESTORE (${Oa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw As(s),new Error(s)}function ke(t,e,n,s){let r="Unexpected state";typeof n=="string"?r=n:s=n,t||hS(e,r,s)}function fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends Ds{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class B3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vt.UNAUTHENTICATED))}shutdown(){}}class z3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class H3{constructor(e){this.t=e,this.currentUser=Vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ke(this.o===void 0,42304);let s=this.i;const r=u=>this.i!==s?(s=this.i,n(u)):Promise.resolve();let a=new Ns;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ns,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const u=a;e.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},l=u=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ns)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ke(typeof s.accessToken=="string",31837,{l:s}),new fS(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ke(e===null||typeof e=="string",2055,{h:e}),new Vt(e)}}class W3{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Vt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class q3{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new W3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ow{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class G3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,an(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ke(this.o===void 0,3512);const s=a=>{a.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,se("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>s(a))};const r=a=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?r(a):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ow(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ow(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const r=K3(40);for(let a=0;a<r.length;++a)s.length<20&&r[a]<n&&(s+=e.charAt(r[a]%62))}return s}}function ve(t,e){return t<e?-1:t>e?1:0}function zm(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const r=t.charAt(s),a=e.charAt(s);if(r!==a)return wf(r)===wf(a)?ve(r,a):wf(r)?1:-1}return ve(t.length,e.length)}const Y3=55296,Q3=57343;function wf(t){const e=t.charCodeAt(0);return e>=Y3&&e<=Q3}function Ea(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="__name__";class Kn{constructor(e,n,s){n===void 0?n=0:n>e.length&&de(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&de(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Kn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Kn?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const a=Kn.compareSegments(e.get(r),n.get(r));if(a!==0)return a}return ve(e.length,n.length)}static compareSegments(e,n){const s=Kn.isNumericId(e),r=Kn.isNumericId(n);return s&&!r?-1:!s&&r?1:s&&r?Kn.extractNumericId(e).compare(Kn.extractNumericId(n)):zm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vr.fromString(e.substring(4,e.length-2))}}class De extends Kn{construct(e,n,s){return new De(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new X(H.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new De(n)}static emptyPath(){return new De([])}}const J3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends Kn{construct(e,n,s){return new jt(e,n,s)}static isValidIdentifier(e){return J3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lw}static keyField(){return new jt([lw])}static fromServerFormat(e){const n=[];let s="",r=0;const a=()=>{if(s.length===0)throw new X(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new X(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new X(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=u,r+=2}else l==="`"?(o=!o,r++):l!=="."||o?(s+=l,r++):(a(),r++)}if(a(),o)throw new X(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(n)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(De.fromString(e))}static fromName(e){return new oe(De.fromString(e).popFirst(5))}static empty(){return new oe(De.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&De.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return De.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new De(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(t,e,n){if(!n)throw new X(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function X3(t,e,n,s){if(e===!0&&s===!0)throw new X(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function cw(t){if(!oe.isDocumentKey(t))throw new X(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function uw(t){if(oe.isDocumentKey(t))throw new X(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function pS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function $d(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":de(12329,{type:typeof t})}function un(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$d(t);throw new X(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(t,e){const n={typeString:t};return e&&(n.value=e),n}function zl(t,e){if(!pS(t))throw new X(H.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const r=e[s].typeString,a="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const o=t[s];if(r&&typeof o!==r){n=`JSON field '${s}' must be a ${r}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${s}' field to equal '${a.value}'`;break}}if(n)throw new X(H.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=-62135596800,hw=1e6;class $e{static now(){return $e.fromMillis(Date.now())}static fromDate(e){return $e.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*hw);return new $e(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<dw)throw new X(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hw}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:$e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(zl(e,$e._jsonSchema))return new $e(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-dw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}$e._jsonSchemaVersion="firestore/timestamp/1.0",$e._jsonSchema={type:ct("string",$e._jsonSchemaVersion),seconds:ct("number"),nanoseconds:ct("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{static fromTimestamp(e){return new he(e)}static min(){return new he(new $e(0,0))}static max(){return new he(new $e(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl=-1;function Z3(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=he.fromTimestamp(s===1e9?new $e(n+1,0):new $e(n,s));return new Er(r,oe.empty(),e)}function eV(t){return new Er(t.readTime,t.key,gl)}class Er{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Er(he.min(),oe.empty(),gl)}static max(){return new Er(he.max(),oe.empty(),gl)}}function tV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fa(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==nV)throw t;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((s,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(s,r)},this.catchCallback=a=>{this.wrapFailure(n,a).next(s,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,s)=>{n(e)})}static reject(e){return new W((n,s)=>{s(e)})}static waitFor(e){return new W((n,s)=>{let r=0,a=0,o=!1;e.forEach(l=>{++r,l.next(()=>{++a,o&&a===r&&n()},u=>s(u))}),o=!0,a===r&&n()})}static or(e){let n=W.resolve(!1);for(const s of e)n=n.next(r=>r?W.resolve(r):s());return n}static forEach(e,n){const s=[];return e.forEach((r,a)=>{s.push(n.call(this,r,a))}),this.waitFor(s)}static mapArray(e,n){return new W((s,r)=>{const a=e.length,o=new Array(a);let l=0;for(let u=0;u<a;u++){const d=u;n(e[d]).next(f=>{o[d]=f,++l,l===a&&s(o)},f=>r(f))}})}static doWhile(e,n){return new W((s,r)=>{const a=()=>{e()===!0?n().next(()=>{a()},r):s()};a()})}}function rV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ua(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Bd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg=-1;function zd(t){return t==null}function td(t){return t===0&&1/t==-1/0}function iV(t){return typeof t=="number"&&Number.isInteger(t)&&!td(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="";function aV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=fw(e)),e=oV(t.get(n),e);return fw(e)}function oV(t,e){let n=e;const s=t.length;for(let r=0;r<s;r++){const a=t.charAt(r);switch(a){case"\0":n+="";break;case gS:n+="";break;default:n+=a}}return n}function fw(t){return t+gS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Mr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,n){this.comparator=e,this.root=n||Tt.EMPTY}insert(e,n){return new Qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tt.BLACK,null,null))}remove(e){return new Qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ac(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ac(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ac(this.root,e,this.comparator,!0)}}class Ac{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?s(e.key,n):1,n&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tt{constructor(e,n,s,r,a){this.key=e,this.value=n,this.color=s??Tt.RED,this.left=r??Tt.EMPTY,this.right=a??Tt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,a){return new Tt(e??this.key,n??this.value,s??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const a=s(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,n,s),null):a===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Tt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return Tt.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw de(43730,{key:this.key,value:this.value});if(this.right.isRed())throw de(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw de(27949);return e+(this.isRed()?0:1)}}Tt.EMPTY=null,Tt.RED=!0,Tt.BLACK=!1;Tt.EMPTY=new class{constructor(){this.size=0}get key(){throw de(57766)}get value(){throw de(16141)}get color(){throw de(16727)}get left(){throw de(29726)}get right(){throw de(36894)}copy(e,n,s,r,a){return this}insert(e,n,s){return new Tt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.comparator=e,this.data=new Qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new pw(this.data.getIterator())}getIteratorFrom(e){return new pw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,a=s.getNext().key;if(this.comparator(r,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new yt(this.comparator);return n.data=e,n}}class pw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new ln([])}unionWith(e){let n=new yt(jt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ea(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new xS("Invalid base64 string: "+a):a}}(e);return new Ct(n)}static fromUint8Array(e){const n=function(r){let a="";for(let o=0;o<r.length;++o)a+=String.fromCharCode(r[o]);return a}(e);return new Ct(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ct.EMPTY_BYTE_STRING=new Ct("");const lV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jr(t){if(ke(!!t,39018),typeof t=="string"){let e=0;const n=lV.exec(t);if(ke(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:tt(t.seconds),nanos:tt(t.nanos)}}function tt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function kr(t){return typeof t=="string"?Ct.fromBase64String(t):Ct.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="server_timestamp",wS="__type__",bS="__previous_value__",_S="__local_write_time__";function zg(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[wS])==null?void 0:s.stringValue)===vS}function Hd(t){const e=t.mapValue.fields[bS];return zg(e)?Hd(e):e}function yl(t){const e=jr(t.mapValue.fields[_S].timestampValue);return new $e(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e,n,s,r,a,o,l,u,d,f){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=f}}const nd="(default)";class xl{constructor(e,n){this.projectId=e,this.database=n||nd}static empty(){return new xl("","")}get isDefaultDatabase(){return this.database===nd}isEqual(e){return e instanceof xl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="__type__",uV="__max__",Pc={mapValue:{}},SS="__vector__",sd="value";function Ir(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zg(t)?4:hV(t)?9007199254740991:dV(t)?10:11:de(28295,{value:t})}function as(t,e){if(t===e)return!0;const n=Ir(t);if(n!==Ir(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yl(t).isEqual(yl(e));case 3:return function(r,a){if(typeof r.timestampValue=="string"&&typeof a.timestampValue=="string"&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const o=jr(r.timestampValue),l=jr(a.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,a){return kr(r.bytesValue).isEqual(kr(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,a){return tt(r.geoPointValue.latitude)===tt(a.geoPointValue.latitude)&&tt(r.geoPointValue.longitude)===tt(a.geoPointValue.longitude)}(t,e);case 2:return function(r,a){if("integerValue"in r&&"integerValue"in a)return tt(r.integerValue)===tt(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const o=tt(r.doubleValue),l=tt(a.doubleValue);return o===l?td(o)===td(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Ea(t.arrayValue.values||[],e.arrayValue.values||[],as);case 10:case 11:return function(r,a){const o=r.mapValue.fields||{},l=a.mapValue.fields||{};if(mw(o)!==mw(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!as(o[u],l[u])))return!1;return!0}(t,e);default:return de(52216,{left:t})}}function vl(t,e){return(t.values||[]).find(n=>as(n,e))!==void 0}function ja(t,e){if(t===e)return 0;const n=Ir(t),s=Ir(e);if(n!==s)return ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(t.booleanValue,e.booleanValue);case 2:return function(a,o){const l=tt(a.integerValue||a.doubleValue),u=tt(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return gw(t.timestampValue,e.timestampValue);case 4:return gw(yl(t),yl(e));case 5:return zm(t.stringValue,e.stringValue);case 6:return function(a,o){const l=kr(a),u=kr(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const l=a.split("/"),u=o.split("/");for(let d=0;d<l.length&&d<u.length;d++){const f=ve(l[d],u[d]);if(f!==0)return f}return ve(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const l=ve(tt(a.latitude),tt(o.latitude));return l!==0?l:ve(tt(a.longitude),tt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return yw(t.arrayValue,e.arrayValue);case 10:return function(a,o){var p,v,T,S;const l=a.fields||{},u=o.fields||{},d=(p=l[sd])==null?void 0:p.arrayValue,f=(v=u[sd])==null?void 0:v.arrayValue,h=ve(((T=d==null?void 0:d.values)==null?void 0:T.length)||0,((S=f==null?void 0:f.values)==null?void 0:S.length)||0);return h!==0?h:yw(d,f)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===Pc.mapValue&&o===Pc.mapValue)return 0;if(a===Pc.mapValue)return 1;if(o===Pc.mapValue)return-1;const l=a.fields||{},u=Object.keys(l),d=o.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let h=0;h<u.length&&h<f.length;++h){const p=zm(u[h],f[h]);if(p!==0)return p;const v=ja(l[u[h]],d[f[h]]);if(v!==0)return v}return ve(u.length,f.length)}(t.mapValue,e.mapValue);default:throw de(23264,{he:n})}}function gw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ve(t,e);const n=jr(t),s=jr(e),r=ve(n.seconds,s.seconds);return r!==0?r:ve(n.nanos,s.nanos)}function yw(t,e){const n=t.values||[],s=e.values||[];for(let r=0;r<n.length&&r<s.length;++r){const a=ja(n[r],s[r]);if(a)return a}return ve(n.length,s.length)}function ka(t){return Hm(t)}function Hm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=jr(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return kr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",r=!0;for(const a of n.values||[])r?r=!1:s+=",",s+=Hm(a);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let r="{",a=!0;for(const o of s)a?a=!1:r+=",",r+=`${o}:${Hm(n.fields[o])}`;return r+"}"}(t.mapValue):de(61005,{value:t})}function su(t){switch(Ir(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hd(t);return e?16+su(e):16;case 5:return 2*t.stringValue.length;case 6:return kr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((r,a)=>r+su(a),0)}(t.arrayValue);case 10:case 11:return function(s){let r=0;return Mr(s.fields,(a,o)=>{r+=a.length+su(o)}),r}(t.mapValue);default:throw de(13486,{value:t})}}function xw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Wm(t){return!!t&&"integerValue"in t}function Hg(t){return!!t&&"arrayValue"in t}function vw(t){return!!t&&"nullValue"in t}function ww(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ru(t){return!!t&&"mapValue"in t}function dV(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[NS])==null?void 0:s.stringValue)===SS}function Ho(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Mr(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Ho(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ho(t.arrayValue.values[n]);return e}return{...t}}function hV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===uV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.value=e}static empty(){return new Yt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ru(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ho(n)}setAll(e){let n=jt.emptyPath(),s={},r=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,s,r),s={},r=[],n=l.popLast()}o?s[l.lastSegment()]=Ho(o):r.push(l.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,s,r)}delete(e){const n=this.field(e.popLast());ru(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return as(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];ru(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){Mr(n,(r,a)=>e[r]=a);for(const r of s)delete e[r]}clone(){return new Yt(Ho(this.value))}}function TS(t){const e=[];return Mr(t.fields,(n,s)=>{const r=new jt([n]);if(ru(s)){const a=TS(s.mapValue).fields;if(a.length===0)e.push(r);else for(const o of a)e.push(r.child(o))}else e.push(r)}),new ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n,s,r,a,o,l){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=a,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Mt(e,0,he.min(),he.min(),he.min(),Yt.empty(),0)}static newFoundDocument(e,n,s,r){return new Mt(e,1,n,he.min(),s,r,0)}static newNoDocument(e,n){return new Mt(e,2,n,he.min(),he.min(),Yt.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,he.min(),he.min(),Yt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n){this.position=e,this.inclusive=n}}function bw(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const a=e[r],o=t.position[r];if(a.field.isKeyField()?s=oe.comparator(oe.fromName(o.referenceValue),n.key):s=ja(o,n.data.field(a.field)),a.dir==="desc"&&(s*=-1),s!==0)break}return s}function _w(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!as(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,n="asc"){this.field=e,this.dir=n}}function fV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{}class ot extends ES{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new pV(e,n,s):n==="array-contains"?new xV(e,s):n==="in"?new vV(e,s):n==="not-in"?new wV(e,s):n==="array-contains-any"?new bV(e,s):new ot(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new gV(e,s):new yV(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ja(n,this.value)):n!==null&&Ir(this.value)===Ir(n)&&this.matchesComparison(ja(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Un extends ES{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Un(e,n)}matches(e){return jS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function jS(t){return t.op==="and"}function kS(t){return mV(t)&&jS(t)}function mV(t){for(const e of t.filters)if(e instanceof Un)return!1;return!0}function qm(t){if(t instanceof ot)return t.field.canonicalString()+t.op.toString()+ka(t.value);if(kS(t))return t.filters.map(e=>qm(e)).join(",");{const e=t.filters.map(n=>qm(n)).join(",");return`${t.op}(${e})`}}function IS(t,e){return t instanceof ot?function(s,r){return r instanceof ot&&s.op===r.op&&s.field.isEqual(r.field)&&as(s.value,r.value)}(t,e):t instanceof Un?function(s,r){return r instanceof Un&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce((a,o,l)=>a&&IS(o,r.filters[l]),!0):!1}(t,e):void de(19439)}function CS(t){return t instanceof ot?function(n){return`${n.field.canonicalString()} ${n.op} ${ka(n.value)}`}(t):t instanceof Un?function(n){return n.op.toString()+" {"+n.getFilters().map(CS).join(" ,")+"}"}(t):"Filter"}class pV extends ot{constructor(e,n,s){super(e,n,s),this.key=oe.fromName(s.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class gV extends ot{constructor(e,n){super(e,"in",n),this.keys=AS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class yV extends ot{constructor(e,n){super(e,"not-in",n),this.keys=AS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function AS(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(s=>oe.fromName(s.referenceValue))}class xV extends ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Hg(n)&&vl(n.arrayValue,this.value)}}class vV extends ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&vl(this.value.arrayValue,n)}}class wV extends ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!vl(this.value.arrayValue,n)}}class bV extends ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Hg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>vl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e,n=null,s=[],r=[],a=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=a,this.startAt=o,this.endAt=l,this.Te=null}}function Nw(t,e=null,n=[],s=[],r=null,a=null,o=null){return new _V(t,e,n,s,r,a,o)}function Wg(t){const e=fe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>qm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(a){return a.field.canonicalString()+a.dir}(s)).join(","),zd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>ka(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>ka(s)).join(",")),e.Te=n}return e.Te}function qg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!fV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!IS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_w(t.startAt,e.startAt)&&_w(t.endAt,e.endAt)}function Gm(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n=null,s=[],r=[],a=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function NV(t,e,n,s,r,a,o,l){return new $a(t,e,n,s,r,a,o,l)}function Wd(t){return new $a(t)}function Sw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function PS(t){return t.collectionGroup!==null}function Wo(t){const e=fe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new yt(jt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new wl(a,s))}),n.has(jt.keyField().canonicalString())||e.Ie.push(new wl(jt.keyField(),s))}return e.Ie}function ns(t){const e=fe(t);return e.Ee||(e.Ee=SV(e,Wo(t))),e.Ee}function SV(t,e){if(t.limitType==="F")return Nw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const a=r.dir==="desc"?"asc":"desc";return new wl(r.field,a)});const n=t.endAt?new rd(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new rd(t.startAt.position,t.startAt.inclusive):null;return Nw(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Km(t,e){const n=t.filters.concat([e]);return new $a(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ym(t,e,n){return new $a(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function qd(t,e){return qg(ns(t),ns(e))&&t.limitType===e.limitType}function RS(t){return`${Wg(ns(t))}|lt:${t.limitType}`}function Li(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(r=>CS(r)).join(", ")}]`),zd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(r=>ka(r)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(r=>ka(r)).join(",")),`Target(${s})`}(ns(t))}; limitType=${t.limitType})`}function Gd(t,e){return e.isFoundDocument()&&function(s,r){const a=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(a):oe.isDocumentKey(s.path)?s.path.isEqual(a):s.path.isImmediateParentOf(a)}(t,e)&&function(s,r){for(const a of Wo(s))if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1;return!0}(t,e)&&function(s,r){for(const a of s.filters)if(!a.matches(r))return!1;return!0}(t,e)&&function(s,r){return!(s.startAt&&!function(o,l,u){const d=bw(o,l,u);return o.inclusive?d<=0:d<0}(s.startAt,Wo(s),r)||s.endAt&&!function(o,l,u){const d=bw(o,l,u);return o.inclusive?d>=0:d>0}(s.endAt,Wo(s),r))}(t,e)}function TV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function DS(t){return(e,n)=>{let s=!1;for(const r of Wo(t)){const a=EV(r,e,n);if(a!==0)return a;s=s||r.field.isKeyField()}return 0}}function EV(t,e,n){const s=t.field.isKeyField()?oe.comparator(e.key,n.key):function(a,o,l){const u=o.data.field(a),d=l.data.field(a);return u!==null&&d!==null?ja(u,d):de(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return de(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,a]of s)if(this.equalsFn(r,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Mr(this.inner,(n,s)=>{for(const[r,a]of s)e(r,a)})}isEmpty(){return yS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV=new Qe(oe.comparator);function Ps(){return jV}const VS=new Qe(oe.comparator);function To(...t){let e=VS;for(const n of t)e=e.insert(n.key,n);return e}function LS(t){let e=VS;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function ii(){return qo()}function MS(){return qo()}function qo(){return new ki(t=>t.toString(),(t,e)=>t.isEqual(e))}const kV=new Qe(oe.comparator),IV=new yt(oe.comparator);function we(...t){let e=IV;for(const n of t)e=e.add(n);return e}const CV=new yt(ve);function AV(){return CV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:td(e)?"-0":e}}function OS(t){return{integerValue:""+t}}function PV(t,e){return iV(e)?OS(e):Gg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(){this._=void 0}}function RV(t,e,n){return t instanceof bl?function(r,a){const o={fields:{[wS]:{stringValue:vS},[_S]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&zg(a)&&(a=Hd(a)),a&&(o.fields[bS]=a),{mapValue:o}}(n,e):t instanceof _l?US(t,e):t instanceof Nl?$S(t,e):function(r,a){const o=FS(r,a),l=Tw(o)+Tw(r.Ae);return Wm(o)&&Wm(r.Ae)?OS(l):Gg(r.serializer,l)}(t,e)}function DV(t,e,n){return t instanceof _l?US(t,e):t instanceof Nl?$S(t,e):n}function FS(t,e){return t instanceof id?function(s){return Wm(s)||function(a){return!!a&&"doubleValue"in a}(s)}(e)?e:{integerValue:0}:null}class bl extends Kd{}class _l extends Kd{constructor(e){super(),this.elements=e}}function US(t,e){const n=BS(e);for(const s of t.elements)n.some(r=>as(r,s))||n.push(s);return{arrayValue:{values:n}}}class Nl extends Kd{constructor(e){super(),this.elements=e}}function $S(t,e){let n=BS(e);for(const s of t.elements)n=n.filter(r=>!as(r,s));return{arrayValue:{values:n}}}class id extends Kd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Tw(t){return tt(t.integerValue||t.doubleValue)}function BS(t){return Hg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e,n){this.field=e,this.transform=n}}function LV(t,e){return t.field.isEqual(e.field)&&function(s,r){return s instanceof _l&&r instanceof _l||s instanceof Nl&&r instanceof Nl?Ea(s.elements,r.elements,as):s instanceof id&&r instanceof id?as(s.Ae,r.Ae):s instanceof bl&&r instanceof bl}(t.transform,e.transform)}class MV{constructor(e,n){this.version=e,this.transformResults=n}}class On{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new On}static exists(e){return new On(void 0,e)}static updateTime(e){return new On(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function iu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Yd{}function zS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new WS(t.key,On.none()):new Hl(t.key,t.data,On.none());{const n=t.data,s=Yt.empty();let r=new yt(jt.comparator);for(let a of e.fields)if(!r.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?s.delete(a):s.set(a,o),r=r.add(a)}return new Or(t.key,s,new ln(r.toArray()),On.none())}}function OV(t,e,n){t instanceof Hl?function(r,a,o){const l=r.value.clone(),u=jw(r.fieldTransforms,a,o.transformResults);l.setAll(u),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Or?function(r,a,o){if(!iu(r.precondition,a))return void a.convertToUnknownDocument(o.version);const l=jw(r.fieldTransforms,a,o.transformResults),u=a.data;u.setAll(HS(r)),u.setAll(l),a.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(r,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Go(t,e,n,s){return t instanceof Hl?function(a,o,l,u){if(!iu(a.precondition,o))return l;const d=a.value.clone(),f=kw(a.fieldTransforms,u,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,s):t instanceof Or?function(a,o,l,u){if(!iu(a.precondition,o))return l;const d=kw(a.fieldTransforms,u,o),f=o.data;return f.setAll(HS(a)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(h=>h.field))}(t,e,n,s):function(a,o,l){return iu(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function FV(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),a=FS(s.transform,r||null);a!=null&&(n===null&&(n=Yt.empty()),n.set(s.field,a))}return n||null}function Ew(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&Ea(s,r,(a,o)=>LV(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Hl extends Yd{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Or extends Yd{constructor(e,n,s,r,a=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function HS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function jw(t,e,n){const s=new Map;ke(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let r=0;r<n.length;r++){const a=t[r],o=a.transform,l=e.data.field(a.field);s.set(a.field,DV(o,l,n[r]))}return s}function kw(t,e,n){const s=new Map;for(const r of t){const a=r.transform,o=n.data.field(r.field);s.set(r.field,RV(a,o,e))}return s}class WS extends Yd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UV extends Yd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&OV(a,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Go(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Go(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=MS();return this.mutations.forEach(r=>{const a=e.get(r.key),o=a.overlayedDocument;let l=this.applyToLocalView(o,a.mutatedFields);l=n.has(r.key)?null:l;const u=zS(o,l);u!==null&&s.set(r.key,u),o.isValidDocument()||o.convertToNoDocument(he.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&Ea(this.mutations,e.mutations,(n,s)=>Ew(n,s))&&Ea(this.baseMutations,e.baseMutations,(n,s)=>Ew(n,s))}}class Kg{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){ke(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let r=function(){return kV}();const a=e.mutations;for(let o=0;o<a.length;o++)r=r.insert(a[o].key,s[o].version);return new Kg(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt,be;function HV(t){switch(t){case H.OK:return de(64938);case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0;default:return de(15467,{code:t})}}function qS(t){if(t===void 0)return As("GRPC error has no .code"),H.UNKNOWN;switch(t){case rt.OK:return H.OK;case rt.CANCELLED:return H.CANCELLED;case rt.UNKNOWN:return H.UNKNOWN;case rt.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case rt.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case rt.INTERNAL:return H.INTERNAL;case rt.UNAVAILABLE:return H.UNAVAILABLE;case rt.UNAUTHENTICATED:return H.UNAUTHENTICATED;case rt.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case rt.NOT_FOUND:return H.NOT_FOUND;case rt.ALREADY_EXISTS:return H.ALREADY_EXISTS;case rt.PERMISSION_DENIED:return H.PERMISSION_DENIED;case rt.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case rt.ABORTED:return H.ABORTED;case rt.OUT_OF_RANGE:return H.OUT_OF_RANGE;case rt.UNIMPLEMENTED:return H.UNIMPLEMENTED;case rt.DATA_LOSS:return H.DATA_LOSS;default:return de(39323,{code:t})}}(be=rt||(rt={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV=new vr([4294967295,4294967295],0);function Iw(t){const e=WV().encode(t),n=new aS;return n.update(e),new Uint8Array(n.digest())}function Cw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new vr([n,s],0),new vr([r,a],0)]}class Yg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Eo(`Invalid padding: ${n}`);if(s<0)throw new Eo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Eo(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Eo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=vr.fromNumber(this.ge)}ye(e,n,s){let r=e.add(n.multiply(vr.fromNumber(s)));return r.compare(qV)===1&&(r=new vr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Iw(e),[s,r]=Cw(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(s,r,a);if(!this.we(o))return!1}return!0}static create(e,n,s){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new Yg(a,r,n);return s.forEach(l=>o.insert(l)),o}insert(e){if(this.ge===0)return;const n=Iw(e),[s,r]=Cw(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(s,r,a);this.Se(o)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Eo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,n,s,r,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,Wl.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Qd(he.min(),r,new Qe(ve),Ps(),we())}}class Wl{constructor(e,n,s,r,a){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Wl(s,n,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n,s,r){this.be=e,this.removedTargetIds=n,this.key=s,this.De=r}}class GS{constructor(e,n){this.targetId=e,this.Ce=n}}class KS{constructor(e,n,s=Ct.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class Aw{constructor(){this.ve=0,this.Fe=Pw(),this.Me=Ct.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=we(),n=we(),s=we();return this.Fe.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:de(38017,{changeType:a})}}),new Wl(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Pw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class GV{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ps(),this.Je=Rc(),this.He=Rc(),this.Ye=new Qe(ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:de(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,r)=>{this.rt(r)&&n(r)})}st(e){const n=e.targetId,s=e.Ce.count,r=this.ot(n);if(r){const a=r.target;if(Gm(a))if(s===0){const o=new oe(a.path);this.et(n,o,Mt.newNoDocument(o,he.min()))}else ke(s===1,20013,{expectedCount:s});else{const o=this._t(n);if(o!==s){const l=this.ut(e),u=l?this.ct(l,e,o):1;if(u!==0){this.it(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:r=0},hashCount:a=0}=n;let o,l;try{o=kr(s).toUint8Array()}catch(u){if(u instanceof xS)return Ta("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Yg(o,r,a)}catch(u){return Ta(u instanceof Eo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let r=0;return s.forEach(a=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.et(n,a,null),r++)}),r}Tt(e){const n=new Map;this.ze.forEach((a,o)=>{const l=this.ot(o);if(l){if(a.current&&Gm(l.target)){const u=new oe(l.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,Mt.newNoDocument(u,e))}a.Be&&(n.set(o,a.ke()),a.qe())}});let s=we();this.He.forEach((a,o)=>{let l=!0;o.forEachWhile(u=>{const d=this.ot(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(s=s.add(a))}),this.je.forEach((a,o)=>o.setReadTime(e));const r=new Qd(e,n,this.Ye,this.je,s);return this.je=Ps(),this.Je=Rc(),this.He=Rc(),this.Ye=new Qe(ve),r}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.Qe(n,1):r.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Aw,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new yt(ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new yt(ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Aw),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Rc(){return new Qe(oe.comparator)}function Pw(){return new Qe(oe.comparator)}const KV={asc:"ASCENDING",desc:"DESCENDING"},YV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QV={and:"AND",or:"OR"};class JV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Qm(t,e){return t.useProto3Json||zd(e)?e:{value:e}}function ad(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function XV(t,e){return ad(t,e.toTimestamp())}function ss(t){return ke(!!t,49232),he.fromTimestamp(function(n){const s=jr(n);return new $e(s.seconds,s.nanos)}(t))}function Qg(t,e){return Jm(t,e).canonicalString()}function Jm(t,e){const n=function(r){return new De(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function QS(t){const e=De.fromString(t);return ke(tT(e),10190,{key:e.toString()}),e}function Xm(t,e){return Qg(t.databaseId,e.path)}function bf(t,e){const n=QS(e);if(n.get(1)!==t.databaseId.projectId)throw new X(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(XS(n))}function JS(t,e){return Qg(t.databaseId,e)}function ZV(t){const e=QS(t);return e.length===4?De.emptyPath():XS(e)}function Zm(t){return new De(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function XS(t){return ke(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Rw(t,e,n){return{name:Xm(t,e),fields:n.value.mapValue.fields}}function eL(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:de(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],a=function(d,f){return d.useProto3Json?(ke(f===void 0||typeof f=="string",58123),Ct.fromBase64String(f||"")):(ke(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Ct.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(d){const f=d.code===void 0?H.UNKNOWN:qS(d.code);return new X(f,d.message||"")}(o);n=new KS(s,r,a,l||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=bf(t,s.document.name),a=ss(s.document.updateTime),o=s.document.createTime?ss(s.document.createTime):he.min(),l=new Yt({mapValue:{fields:s.document.fields}}),u=Mt.newFoundDocument(r,a,o,l),d=s.targetIds||[],f=s.removedTargetIds||[];n=new au(d,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=bf(t,s.document),a=s.readTime?ss(s.readTime):he.min(),o=Mt.newNoDocument(r,a),l=s.removedTargetIds||[];n=new au([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=bf(t,s.document),a=s.removedTargetIds||[];n=new au([],a,r,null)}else{if(!("filter"in e))return de(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:a}=s,o=new zV(r,a),l=s.targetId;n=new GS(l,o)}}return n}function tL(t,e){let n;if(e instanceof Hl)n={update:Rw(t,e.key,e.value)};else if(e instanceof WS)n={delete:Xm(t,e.key)};else if(e instanceof Or)n={update:Rw(t,e.key,e.data),updateMask:uL(e.fieldMask)};else{if(!(e instanceof UV))return de(16599,{Vt:e.type});n={verify:Xm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(a,o){const l=o.transform;if(l instanceof bl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof _l)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Nl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof id)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw de(20930,{transform:o.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(r,a){return a.updateTime!==void 0?{updateTime:XV(r,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:de(27497)}(t,e.precondition)),n}function nL(t,e){return t&&t.length>0?(ke(e!==void 0,14353),t.map(n=>function(r,a){let o=r.updateTime?ss(r.updateTime):ss(a);return o.isEqual(he.min())&&(o=ss(a)),new MV(o,r.transformResults||[])}(n,e))):[]}function sL(t,e){return{documents:[JS(t,e.path)]}}function rL(t,e){const n={structuredQuery:{}},s=e.path;let r;e.collectionGroup!==null?(r=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=JS(t,r);const a=function(d){if(d.length!==0)return eT(Un.create(d,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const o=function(d){if(d.length!==0)return d.map(f=>function(p){return{field:Mi(p.field),direction:oL(p.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Qm(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:r}}function iL(t){let e=ZV(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){ke(s===1,65062);const f=n.from[0];f.allDescendants?r=f.collectionId:e=e.child(f.collectionId)}let a=[];n.where&&(a=function(h){const p=ZS(h);return p instanceof Un&&kS(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(T){return new wl(Oi(T.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(h){let p;return p=typeof h=="object"?h.value:h,zd(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(h){const p=!!h.before,v=h.values||[];return new rd(v,p)}(n.startAt));let d=null;return n.endAt&&(d=function(h){const p=!h.before,v=h.values||[];return new rd(v,p)}(n.endAt)),NV(e,r,o,a,l,"F",u,d)}function aL(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ZS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Oi(n.unaryFilter.field);return ot.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=Oi(n.unaryFilter.field);return ot.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Oi(n.unaryFilter.field);return ot.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Oi(n.unaryFilter.field);return ot.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return de(61313);default:return de(60726)}}(t):t.fieldFilter!==void 0?function(n){return ot.create(Oi(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return de(58110);default:return de(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Un.create(n.compositeFilter.filters.map(s=>ZS(s)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return de(1026)}}(n.compositeFilter.op))}(t):de(30097,{filter:t})}function oL(t){return KV[t]}function lL(t){return YV[t]}function cL(t){return QV[t]}function Mi(t){return{fieldPath:t.canonicalString()}}function Oi(t){return jt.fromServerFormat(t.fieldPath)}function eT(t){return t instanceof ot?function(n){if(n.op==="=="){if(ww(n.value))return{unaryFilter:{field:Mi(n.field),op:"IS_NAN"}};if(vw(n.value))return{unaryFilter:{field:Mi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ww(n.value))return{unaryFilter:{field:Mi(n.field),op:"IS_NOT_NAN"}};if(vw(n.value))return{unaryFilter:{field:Mi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mi(n.field),op:lL(n.op),value:n.value}}}(t):t instanceof Un?function(n){const s=n.getFilters().map(r=>eT(r));return s.length===1?s[0]:{compositeFilter:{op:cL(n.op),filters:s}}}(t):de(54877,{filter:t})}function uL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function tT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,n,s,r,a=he.min(),o=he.min(),l=Ct.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new ir(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e){this.yt=e}}function hL(t){const e=iL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ym(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(){this.Cn=new mL}addToCollectionParentIndex(e,n){return this.Cn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(Er.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(Er.min())}updateCollectionGroup(e,n,s){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class mL{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new yt(De.comparator),a=!r.has(s);return this.index[n]=r.add(s),a}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new yt(De.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nT=41943040;class Gt{static withCacheSize(e){return new Gt(e,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gt.DEFAULT_COLLECTION_PERCENTILE=10,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gt.DEFAULT=new Gt(nT,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gt.DISABLED=new Gt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ia(0)}static cr(){return new Ia(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="LruGarbageCollector",pL=1048576;function Lw([t,e],[n,s]){const r=ve(t,n);return r===0?ve(e,s):r}class gL{constructor(e){this.Ir=e,this.buffer=new yt(Lw),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Lw(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class yL{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){se(Vw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ua(n)?se(Vw,"Ignoring IndexedDB error during garbage collection: ",n):await Fa(n)}await this.Vr(3e5)})}}class xL{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Bd.ce);const s=new gL(n);return this.mr.forEachTarget(e,r=>s.Ar(r.sequenceNumber)).next(()=>this.mr.pr(e,r=>s.Ar(r))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(Dw)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Dw):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,r,a,o,l,u,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),r=this.params.maximumSequenceNumbersToCollect):r=h,o=Date.now(),this.nthSequenceNumber(e,r))).next(h=>(s=h,l=Date.now(),this.removeTargets(e,s,n))).next(h=>(a=h,u=Date.now(),this.removeOrphanedDocuments(e,s))).next(h=>(d=Date.now(),Vi()<=xe.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${r} in `+(l-o)+`ms
	Removed ${a} targets in `+(u-l)+`ms
	Removed ${h} documents in `+(d-u)+`ms
Total Duration: ${d-f}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:h})))}}function vL(t,e){return new xL(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(){this.changes=new ki(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?W.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(s=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(s!==null&&Go(s.mutation,r,ln.empty(),$e.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,we()).next(()=>s))}getLocalViewOfDocuments(e,n,s=we()){const r=ii();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,s).next(a=>{let o=To();return a.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=ii();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,we()))}populateOverlays(e,n,s){const r=[];return s.forEach(a=>{n.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,s,r){let a=Ps();const o=qo(),l=function(){return qo()}();return n.forEach((u,d)=>{const f=s.get(d.key);r.has(d.key)&&(f===void 0||f.mutation instanceof Or)?a=a.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),Go(f.mutation,d,f.mutation.getFieldMask(),$e.now())):o.set(d.key,ln.empty())}),this.recalculateAndSaveOverlays(e,a).next(u=>(u.forEach((d,f)=>o.set(d,f)),n.forEach((d,f)=>l.set(d,new bL(f,o.get(d)??null))),l))}recalculateAndSaveOverlays(e,n){const s=qo();let r=new Qe((o,l)=>o-l),a=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const d=n.get(u);if(d===null)return;let f=s.get(u)||ln.empty();f=l.applyToLocalView(d,f),s.set(u,f);const h=(r.get(l.batchId)||we()).add(u);r=r.insert(l.batchId,h)})}).next(()=>{const o=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),d=u.key,f=u.value,h=MS();f.forEach(p=>{if(!a.has(p)){const v=zS(n.get(p),s.get(p));v!==null&&h.set(p,v),a=a.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,h))}return W.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,r){return function(o){return oe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):PS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,r):this.getDocumentsMatchingCollectionQuery(e,n,s,r)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next(a=>{const o=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-a.size):W.resolve(ii());let l=gl,u=a;return o.next(d=>W.forEach(d,(f,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),a.get(f)?W.resolve():this.remoteDocumentCache.getEntry(e,f).next(p=>{u=u.insert(f,p)}))).next(()=>this.populateOverlays(e,d,a)).next(()=>this.computeViews(e,u,d,we())).next(f=>({batchId:l,changes:LS(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(s=>{let r=To();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,s,r){const a=n.collectionGroup;let o=To();return this.indexManager.getCollectionParents(e,a).next(l=>W.forEach(l,u=>{const d=function(h,p){return new $a(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,u.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,s,r).next(f=>{f.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,s,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,a,r))).next(o=>{a.forEach((u,d)=>{const f=d.getKey();o.get(f)===null&&(o=o.insert(f,Mt.newInvalidDocument(f)))});let l=To();return o.forEach((u,d)=>{const f=a.get(u);f!==void 0&&Go(f.mutation,d,ln.empty(),$e.now()),Gd(n,d)&&(l=l.insert(u,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return W.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:ss(r.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(r){return{name:r.name,query:hL(r.bundledQuery),readTime:ss(r.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(){this.overlays=new Qe(oe.comparator),this.qr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ii();return W.forEach(n,r=>this.getOverlay(e,r).next(a=>{a!==null&&s.set(r,a)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((r,a)=>{this.St(e,n,a)}),W.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.qr.get(s);return r!==void 0&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(s)),W.resolve()}getOverlaysForCollection(e,n,s){const r=ii(),a=n.length+1,o=new oe(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===a&&u.largestBatchId>s&&r.set(u.getKey(),u)}return W.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let a=new Qe((d,f)=>d-f);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>s){let f=a.get(d.largestBatchId);f===null&&(f=ii(),a=a.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const l=ii(),u=a.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,f)=>l.set(d,f)),!(l.size()>=r)););return W.resolve(l)}St(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const o=this.qr.get(r.largestBatchId).delete(s.key);this.qr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new BV(n,s));let a=this.qr.get(n);a===void 0&&(a=we(),this.qr.set(n,a)),this.qr.set(n,a.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(){this.sessionToken=Ct.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(){this.Qr=new yt(wt.$r),this.Ur=new yt(wt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new wt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new wt(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new oe(new De([])),s=new wt(n,e),r=new wt(n,e+1),a=[];return this.Ur.forEachInRange([s,r],o=>{this.Gr(o),a.push(o.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new oe(new De([])),s=new wt(n,e),r=new wt(n,e+1);let a=we();return this.Ur.forEachInRange([s,r],o=>{a=a.add(o.key)}),a}containsKey(e){const n=new wt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class wt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return oe.comparator(e.key,n.key)||ve(e.Yr,n.Yr)}static Kr(e,n){return ve(e.Yr,n.Yr)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new yt(wt.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new $V(a,n,s,r);this.mutationQueue.push(o);for(const l of r)this.Zr=this.Zr.add(new wt(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return W.resolve(o)}lookupMutationBatch(e,n){return W.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.ei(s),a=r<0?0:r;return W.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?Bg:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new wt(n,0),r=new wt(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([s,r],o=>{const l=this.Xr(o.Yr);a.push(l)}),W.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new yt(ve);return n.forEach(r=>{const a=new wt(r,0),o=new wt(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],l=>{s=s.add(l.Yr)})}),W.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let a=s;oe.isDocumentKey(a)||(a=a.child(""));const o=new wt(new oe(a),0);let l=new yt(ve);return this.Zr.forEachWhile(u=>{const d=u.key.path;return!!s.isPrefixOf(d)&&(d.length===r&&(l=l.add(u.Yr)),!0)},o),W.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(s=>{const r=this.Xr(s);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){ke(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return W.forEach(n.mutations,r=>{const a=new wt(r.key,n.batchId);return s=s.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new wt(n,0),r=this.Zr.firstAfterOrEqual(s);return W.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e){this.ri=e,this.docs=function(){return new Qe(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),a=r?r.size:0,o=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return W.resolve(s?s.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let s=Ps();return n.forEach(r=>{const a=this.docs.get(r);s=s.insert(r,a?a.document.mutableCopy():Mt.newInvalidDocument(r))}),W.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let a=Ps();const o=n.path,l=new oe(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:d,value:{document:f}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||tV(eV(f),s)<=0||(r.has(f.key)||Gd(n,f))&&(a=a.insert(f.key,f.mutableCopy()))}return W.resolve(a)}getAllFromCollectionGroup(e,n,s,r){de(9500)}ii(e,n){return W.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new kL(this)}getSize(e){return W.resolve(this.size)}}class kL extends wL{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(s)}),W.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e){this.persistence=e,this.si=new ki(n=>Wg(n),qg),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.oi=0,this._i=new Jg,this.targetCount=0,this.ai=Ia.ur()}forEachTarget(e,n){return this.si.forEach((s,r)=>n(r)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),W.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ia(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Pr(n),W.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,s){let r=0;const a=[];return this.si.forEach((o,l)=>{l.sequenceNumber<=n&&s.get(l.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),W.waitFor(a).next(()=>r)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return W.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),W.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const r=this.persistence.referenceDelegate,a=[];return r&&n.forEach(o=>{a.push(r.markPotentiallyOrphaned(e,o))}),W.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return W.resolve(s)}containsKey(e,n){return W.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,n){this.ui={},this.overlays={},this.ci=new Bd(0),this.li=!1,this.li=!0,this.hi=new TL,this.referenceDelegate=e(this),this.Pi=new IL(this),this.indexManager=new fL,this.remoteDocumentCache=function(r){return new jL(r)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new dL(n),this.Ii=new NL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new SL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new EL(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){se("MemoryPersistence","Starting transaction:",e);const r=new CL(this.ci.next());return this.referenceDelegate.Ei(),s(r).next(a=>this.referenceDelegate.di(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Ai(e,n){return W.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class CL extends sV{constructor(e){super(),this.currentSequenceNumber=e}}class Xg{constructor(e){this.persistence=e,this.Ri=new Jg,this.Vi=null}static mi(e){return new Xg(e)}get fi(){if(this.Vi)return this.Vi;throw de(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),W.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),W.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(r=>this.fi.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(a=>this.fi.add(a.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,s=>{const r=oe.fromPath(s);return this.gi(e,r).next(a=>{a||n.removeEntry(r,he.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class od{constructor(e,n){this.persistence=e,this.pi=new ki(s=>aV(s.path),(s,r)=>s.isEqual(r)),this.garbageCollector=vL(this,n)}static mi(e,n){return new od(e,n)}Ei(){}di(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(r=>s+r))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return W.forEach(this.pi,(s,r)=>this.br(e,s,r).next(a=>a?W.resolve():n(r)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const r=this.persistence.getRemoteDocumentCache(),a=r.newChangeBuffer();return r.ii(e,o=>this.br(e,o,n).next(l=>{l||(s++,a.removeEntry(o,he.min()))})).next(()=>a.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=su(e.data.value)),n}br(e,n,s){return W.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.pi.get(n);return W.resolve(r!==void 0&&r>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=r}static As(e,n){let s=we(),r=we();for(const a of n.docChanges)switch(a.type){case 0:s=s.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new Zg(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return n5()?8:rV(Ut())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,r){const a={result:null};return this.ys(e,n).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.ws(e,n,r,s).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new AL;return this.Ss(e,n,o).next(l=>{if(a.result=l,this.Vs)return this.bs(e,n,o,l.size)})}).next(()=>a.result)}bs(e,n,s,r){return s.documentReadCount<this.fs?(Vi()<=xe.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",Li(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(Vi()<=xe.DEBUG&&se("QueryEngine","Query:",Li(n),"scans",s.documentReadCount,"local documents and returns",r,"documents as results."),s.documentReadCount>this.gs*r?(Vi()<=xe.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",Li(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ns(n))):W.resolve())}ys(e,n){if(Sw(n))return W.resolve(null);let s=ns(n);return this.indexManager.getIndexType(e,s).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Ym(n,null,"F"),s=ns(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(a=>{const o=we(...a);return this.ps.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,s).next(u=>{const d=this.Ds(n,l);return this.Cs(n,d,o,u.readTime)?this.ys(e,Ym(n,null,"F")):this.vs(e,d,n,u)}))})))}ws(e,n,s,r){return Sw(n)||r.isEqual(he.min())?W.resolve(null):this.ps.getDocuments(e,s).next(a=>{const o=this.Ds(n,a);return this.Cs(n,o,s,r)?W.resolve(null):(Vi()<=xe.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Li(n)),this.vs(e,o,n,Z3(r,gl)).next(l=>l))})}Ds(e,n){let s=new yt(DS(e));return n.forEach((r,a)=>{Gd(e,a)&&(s=s.add(a))}),s}Cs(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Ss(e,n,s){return Vi()<=xe.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Li(n)),this.ps.getDocumentsMatchingQuery(e,n,Er.min(),s)}vs(e,n,s,r){return this.ps.getDocumentsMatchingQuery(e,s,r).next(a=>(n.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey="LocalStore",RL=3e8;class DL{constructor(e,n,s,r){this.persistence=e,this.Fs=n,this.serializer=r,this.Ms=new Qe(ve),this.xs=new ki(a=>Wg(a),qg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _L(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function VL(t,e,n,s){return new DL(t,e,n,s)}async function rT(t,e){const n=fe(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(a=>(r=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(a=>{const o=[],l=[];let u=we();for(const d of r){o.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}for(const d of a){l.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(s,u).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:l}))})})}function LL(t,e){const n=fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const r=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,u,d,f){const h=d.batch,p=h.keys();let v=W.resolve();return p.forEach(T=>{v=v.next(()=>f.getEntry(u,T)).next(S=>{const I=d.docVersions.get(T);ke(I!==null,48541),S.version.compareTo(I)<0&&(h.applyToRemoteDocument(S,d),S.isValidDocument()&&(S.setReadTime(d.commitVersion),f.addEntry(S)))})}),v.next(()=>l.mutationQueue.removeMutationBatch(u,h))}(n,s,e,a).next(()=>a.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(l){let u=we();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(u=u.add(l.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(s,r))})}function iT(t){const e=fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function ML(t,e){const n=fe(t),s=e.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const l=[];e.targetChanges.forEach((f,h)=>{const p=r.get(h);if(!p)return;l.push(n.Pi.removeMatchingKeys(a,f.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(a,f.addedDocuments,h)));let v=p.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(h)!==null?v=v.withResumeToken(Ct.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):f.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(f.resumeToken,s)),r=r.insert(h,v),function(S,I,N){return S.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=RL?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(p,v,f)&&l.push(n.Pi.updateTargetData(a,v))});let u=Ps(),d=we();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(a,f))}),l.push(OL(a,o,e.documentUpdates).next(f=>{u=f.ks,d=f.qs})),!s.isEqual(he.min())){const f=n.Pi.getLastRemoteSnapshotVersion(a).next(h=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,s));l.push(f)}return W.waitFor(l).next(()=>o.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,u,d)).next(()=>u)}).then(a=>(n.Ms=r,a))}function OL(t,e,n){let s=we(),r=we();return n.forEach(a=>s=s.add(a)),e.getEntries(t,s).next(a=>{let o=Ps();return n.forEach((l,u)=>{const d=a.get(l);u.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual(he.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):se(ey,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",u.version)}),{ks:o,qs:r}})}function FL(t,e){const n=fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Bg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function UL(t,e){const n=fe(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.Pi.getTargetData(s,e).next(a=>a?(r=a,W.resolve(r)):n.Pi.allocateTargetId(s).next(o=>(r=new ir(e,o,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.Ms.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function ep(t,e,n){const s=fe(t),r=s.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",a,o=>s.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!Ua(o))throw o;se(ey,`Failed to update sequence numbers for target ${e}: ${o}`)}s.Ms=s.Ms.remove(e),s.xs.delete(r.target)}function Mw(t,e,n){const s=fe(t);let r=he.min(),a=we();return s.persistence.runTransaction("Execute query","readwrite",o=>function(u,d,f){const h=fe(u),p=h.xs.get(f);return p!==void 0?W.resolve(h.Ms.get(p)):h.Pi.getTargetData(d,f)}(s,o,ns(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(o,l.targetId).next(u=>{a=u})}).next(()=>s.Fs.getDocumentsMatchingQuery(o,e,n?r:he.min(),n?a:we())).next(l=>($L(s,TV(e),l),{documents:l,Qs:a})))}function $L(t,e,n){let s=t.Os.get(e)||he.min();n.forEach((r,a)=>{a.readTime.compareTo(s)>0&&(s=a.readTime)}),t.Os.set(e,s)}class Ow{constructor(){this.activeTargetIds=AV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BL{constructor(){this.Mo=new Ow,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Ow,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="ConnectivityMonitor";class Uw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){se(Fw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){se(Fw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc=null;function tp(){return Dc===null?Dc=function(){return 268435456+Math.round(2147483648*Math.random())}():Dc++,"0x"+Dc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f="RestConnection",HL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WL{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${r}`,this.Wo=this.databaseId.database===nd?`project_id=${s}`:`project_id=${s}&database_id=${r}`}Go(e,n,s,r,a){const o=tp(),l=this.zo(e,n.toUriEncodedString());se(_f,`Sending RPC '${e}' ${o}:`,l,s);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,r,a);const{host:d}=new URL(l),f=Va(d);return this.Jo(e,l,u,s,f).then(h=>(se(_f,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Ta(_f,`RPC '${e}' ${o} failed with error: `,h,"url: ",l,"request:",s),h})}Ho(e,n,s,r,a,o){return this.Go(e,n,s,r,a)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Oa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,a)=>e[a]=r),s&&s.headers.forEach((r,a)=>e[a]=r)}zo(e,n){const s=HL[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt="WebChannelConnection";class GL extends WL{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,r,a){const o=tp();return new Promise((l,u)=>{const d=new oS;d.setWithCredentials(!0),d.listenOnce(lS.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case nu.NO_ERROR:const h=d.getResponseJson();se(Rt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),l(h);break;case nu.TIMEOUT:se(Rt,`RPC '${e}' ${o} timed out`),u(new X(H.DEADLINE_EXCEEDED,"Request time out"));break;case nu.HTTP_ERROR:const p=d.getStatus();if(se(Rt,`RPC '${e}' ${o} failed with status:`,p,"response text:",d.getResponseText()),p>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const T=v==null?void 0:v.error;if(T&&T.status&&T.message){const S=function(N){const y=N.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(y)>=0?y:H.UNKNOWN}(T.status);u(new X(S,T.message))}else u(new X(H.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new X(H.UNAVAILABLE,"Connection failed."));break;default:de(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{se(Rt,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(r);se(Rt,`RPC '${e}' ${o} sending request:`,r),d.send(n,"POST",f,s,15)})}T_(e,n,s){const r=tp(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=dS(),l=uS(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,s),u.encodeInitMessageHeaders=!0;const f=a.join("");se(Rt,`Creating RPC '${e}' stream ${r}: ${f}`,u);const h=o.createWebChannel(f,u);this.I_(h);let p=!1,v=!1;const T=new qL({Yo:I=>{v?se(Rt,`Not sending because RPC '${e}' stream ${r} is closed:`,I):(p||(se(Rt,`Opening RPC '${e}' stream ${r} transport.`),h.open(),p=!0),se(Rt,`RPC '${e}' stream ${r} sending:`,I),h.send(I))},Zo:()=>h.close()}),S=(I,N,y)=>{I.listen(N,b=>{try{y(b)}catch(D){setTimeout(()=>{throw D},0)}})};return S(h,So.EventType.OPEN,()=>{v||(se(Rt,`RPC '${e}' stream ${r} transport opened.`),T.o_())}),S(h,So.EventType.CLOSE,()=>{v||(v=!0,se(Rt,`RPC '${e}' stream ${r} transport closed`),T.a_(),this.E_(h))}),S(h,So.EventType.ERROR,I=>{v||(v=!0,Ta(Rt,`RPC '${e}' stream ${r} transport errored. Name:`,I.name,"Message:",I.message),T.a_(new X(H.UNAVAILABLE,"The operation could not be completed")))}),S(h,So.EventType.MESSAGE,I=>{var N;if(!v){const y=I.data[0];ke(!!y,16349);const b=y,D=(b==null?void 0:b.error)||((N=b[0])==null?void 0:N.error);if(D){se(Rt,`RPC '${e}' stream ${r} received error:`,D);const M=D.status;let z=function(E){const A=rt[E];if(A!==void 0)return qS(A)}(M),k=D.message;z===void 0&&(z=H.INTERNAL,k="Unknown error status: "+M+" with message "+D.message),v=!0,T.a_(new X(z,k)),h.close()}else se(Rt,`RPC '${e}' stream ${r} received:`,y),T.u_(y)}}),S(l,cS.STAT_EVENT,I=>{I.stat===Bm.PROXY?se(Rt,`RPC '${e}' stream ${r} detected buffering proxy`):I.stat===Bm.NOPROXY&&se(Rt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{T.__()},0),T}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Nf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(t){return new JV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,n,s=1e3,r=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=r,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-s);r>0&&se("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="PersistentStream";class oT{constructor(e,n,s,r,a,o,l,u){this.Mi=e,this.S_=s,this.b_=r,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new aT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(As(n.toString()),As("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.D_===n&&this.G_(s,r)},s=>{e(()=>{const r=new X(H.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(r)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(r=>{s(()=>this.z_(r))}),this.stream.onMessage(r=>{s(()=>++this.F_==1?this.J_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return se($w,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(se($w,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class KL extends oT{constructor(e,n,s,r,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,o),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=eL(this.serializer,e),s=function(a){if(!("targetChange"in a))return he.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?he.min():o.readTime?ss(o.readTime):he.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Zm(this.serializer),n.addTarget=function(a,o){let l;const u=o.target;if(l=Gm(u)?{documents:sL(a,u)}:{query:rL(a,u).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=YS(a,o.resumeToken);const d=Qm(a,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(he.min())>0){l.readTime=ad(a,o.snapshotVersion.toTimestamp());const d=Qm(a,o.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const s=aL(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Zm(this.serializer),n.removeTarget=e,this.q_(n)}}class YL extends oT{constructor(e,n,s,r,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=nL(e.writeResults,e.commitTime),s=ss(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Zm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>tL(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{}class JL extends QL{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new X(H.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Go(e,Jm(n,s),r,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new X(H.UNKNOWN,a.toString())})}Ho(e,n,s,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Ho(e,Jm(n,s),r,o,l,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(H.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class XL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(As(n),this.aa=!1):se("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni="RemoteStore";class ZL{constructor(e,n,s,r,a){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(o=>{s.enqueueAndForget(async()=>{Ii(this)&&(se(Ni,"Restarting streams for network reachability change."),await async function(u){const d=fe(u);d.Ea.add(4),await ql(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Xd(d)}(this))})}),this.Ra=new XL(s,r)}}async function Xd(t){if(Ii(t))for(const e of t.da)await e(!0)}async function ql(t){for(const e of t.da)await e(!1)}function lT(t,e){const n=fe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ry(n)?sy(n):Ba(n).O_()&&ny(n,e))}function ty(t,e){const n=fe(t),s=Ba(n);n.Ia.delete(e),s.O_()&&cT(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ii(n)&&n.Ra.set("Unknown"))}function ny(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ba(t).Y_(e)}function cT(t,e){t.Va.Ue(e),Ba(t).Z_(e)}function sy(t){t.Va=new GV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ba(t).start(),t.Ra.ua()}function ry(t){return Ii(t)&&!Ba(t).x_()&&t.Ia.size>0}function Ii(t){return fe(t).Ea.size===0}function uT(t){t.Va=void 0}async function eM(t){t.Ra.set("Online")}async function tM(t){t.Ia.forEach((e,n)=>{ny(t,e)})}async function nM(t,e){uT(t),ry(t)?(t.Ra.ha(e),sy(t)):t.Ra.set("Unknown")}async function sM(t,e,n){if(t.Ra.set("Online"),e instanceof KS&&e.state===2&&e.cause)try{await async function(r,a){const o=a.cause;for(const l of a.targetIds)r.Ia.has(l)&&(await r.remoteSyncer.rejectListen(l,o),r.Ia.delete(l),r.Va.removeTarget(l))}(t,e)}catch(s){se(Ni,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ld(t,s)}else if(e instanceof au?t.Va.Ze(e):e instanceof GS?t.Va.st(e):t.Va.tt(e),!n.isEqual(he.min()))try{const s=await iT(t.localStore);n.compareTo(s)>=0&&await function(a,o){const l=a.Va.Tt(o);return l.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const f=a.Ia.get(d);f&&a.Ia.set(d,f.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,d)=>{const f=a.Ia.get(u);if(!f)return;a.Ia.set(u,f.withResumeToken(Ct.EMPTY_BYTE_STRING,f.snapshotVersion)),cT(a,u);const h=new ir(f.target,u,d,f.sequenceNumber);ny(a,h)}),a.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(s){se(Ni,"Failed to raise snapshot:",s),await ld(t,s)}}async function ld(t,e,n){if(!Ua(e))throw e;t.Ea.add(1),await ql(t),t.Ra.set("Offline"),n||(n=()=>iT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{se(Ni,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Xd(t)})}function dT(t,e){return e().catch(n=>ld(t,n,e))}async function Zd(t){const e=fe(t),n=Cr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Bg;for(;rM(e);)try{const r=await FL(e.localStore,s);if(r===null){e.Ta.length===0&&n.L_();break}s=r.batchId,iM(e,r)}catch(r){await ld(e,r)}hT(e)&&fT(e)}function rM(t){return Ii(t)&&t.Ta.length<10}function iM(t,e){t.Ta.push(e);const n=Cr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function hT(t){return Ii(t)&&!Cr(t).x_()&&t.Ta.length>0}function fT(t){Cr(t).start()}async function aM(t){Cr(t).ra()}async function oM(t){const e=Cr(t);for(const n of t.Ta)e.ea(n.mutations)}async function lM(t,e,n){const s=t.Ta.shift(),r=Kg.from(s,e,n);await dT(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await Zd(t)}async function cM(t,e){e&&Cr(t).X_&&await async function(s,r){if(function(o){return HV(o)&&o!==H.ABORTED}(r.code)){const a=s.Ta.shift();Cr(s).B_(),await dT(s,()=>s.remoteSyncer.rejectFailedWrite(a.batchId,r)),await Zd(s)}}(t,e),hT(t)&&fT(t)}async function Bw(t,e){const n=fe(t);n.asyncQueue.verifyOperationInProgress(),se(Ni,"RemoteStore received new credentials");const s=Ii(n);n.Ea.add(3),await ql(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Xd(n)}async function uM(t,e){const n=fe(t);e?(n.Ea.delete(2),await Xd(n)):e||(n.Ea.add(2),await ql(n),n.Ra.set("Unknown"))}function Ba(t){return t.ma||(t.ma=function(n,s,r){const a=fe(n);return a.sa(),new KL(s,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(t.datastore,t.asyncQueue,{Xo:eM.bind(null,t),t_:tM.bind(null,t),r_:nM.bind(null,t),H_:sM.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),ry(t)?sy(t):t.Ra.set("Unknown")):(await t.ma.stop(),uT(t))})),t.ma}function Cr(t){return t.fa||(t.fa=function(n,s,r){const a=fe(n);return a.sa(),new YL(s,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:aM.bind(null,t),r_:cM.bind(null,t),ta:oM.bind(null,t),na:lM.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Zd(t)):(await t.fa.stop(),t.Ta.length>0&&(se(Ni,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,n,s,r,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=a,this.deferred=new Ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,r,a){const o=Date.now()+s,l=new iy(e,n,o,r,a);return l.start(s),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ay(t,e){if(As("AsyncQueue",`${e}: ${t}`),Ua(t))return new X(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{static emptySet(e){return new ha(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||oe.comparator(n.key,s.key):(n,s)=>oe.comparator(n.key,s.key),this.keyedMap=To(),this.sortedSet=new Qe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ha)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,a=s.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ha;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(){this.ga=new Qe(oe.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):de(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class Ca{constructor(e,n,s,r,a,o,l,u,d){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,s,r,a){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Ca(e,n,ha.emptySet(n),o,s,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class hM{constructor(){this.queries=Hw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const r=fe(n),a=r.queries;r.queries=Hw(),a.forEach((o,l)=>{for(const u of l.Sa)u.onError(s)})})(this,new X(H.ABORTED,"Firestore shutting down"))}}function Hw(){return new ki(t=>RS(t),qd)}async function oy(t,e){const n=fe(t);let s=3;const r=e.query;let a=n.queries.get(r);a?!a.ba()&&e.Da()&&(s=2):(a=new dM,s=e.Da()?0:1);try{switch(s){case 0:a.wa=await n.onListen(r,!0);break;case 1:a.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const l=ay(o,`Initialization of query '${Li(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&cy(n)}async function ly(t,e){const n=fe(t),s=e.query;let r=3;const a=n.queries.get(s);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?r=e.Da()?0:1:!a.ba()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function fM(t,e){const n=fe(t);let s=!1;for(const r of e){const a=r.query,o=n.queries.get(a);if(o){for(const l of o.Sa)l.Fa(r)&&(s=!0);o.wa=r}}s&&cy(n)}function mM(t,e,n){const s=fe(t),r=s.queries.get(e);if(r)for(const a of r.Sa)a.onError(n);s.queries.delete(e)}function cy(t){t.Ca.forEach(e=>{e.next()})}var np,Ww;(Ww=np||(np={})).Ma="default",Ww.Cache="cache";class uy{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new Ca(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ca.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==np.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e){this.key=e}}class pT{constructor(e){this.key=e}}class pM{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=we(),this.mutatedKeys=we(),this.eu=DS(e),this.tu=new ha(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new zw,r=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,o=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((f,h)=>{const p=r.get(f),v=Gd(this.query,h)?h:null,T=!!p&&this.mutatedKeys.has(p.key),S=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let I=!1;p&&v?p.data.isEqual(v.data)?T!==S&&(s.track({type:3,doc:v}),I=!0):this.su(p,v)||(s.track({type:2,doc:v}),I=!0,(u&&this.eu(v,u)>0||d&&this.eu(v,d)<0)&&(l=!0)):!p&&v?(s.track({type:0,doc:v}),I=!0):p&&!v&&(s.track({type:1,doc:p}),I=!0,(u||d)&&(l=!0)),I&&(v?(o=o.add(v),a=S?a.add(f):a.delete(f)):(o=o.delete(f),a=a.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),a=a.delete(f.key),s.track({type:1,doc:f})}return{tu:o,iu:s,Cs:l,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,r){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((f,h)=>function(v,T){const S=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de(20277,{Rt:I})}};return S(v)-S(T)}(f.type,h.type)||this.eu(f.doc,h.doc)),this.ou(s),r=r??!1;const l=n&&!r?this._u():[],u=this.Xa.size===0&&this.current&&!r?1:0,d=u!==this.Za;return this.Za=u,o.length!==0||d?{snapshot:new Ca(this.query,e.tu,a,o,e.mutatedKeys,u===0,d,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new zw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=we(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new pT(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new mT(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=we();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ca.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const dy="SyncEngine";class gM{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class yM{constructor(e){this.key=e,this.hu=!1}}class xM{constructor(e,n,s,r,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new ki(l=>RS(l),qd),this.Iu=new Map,this.Eu=new Set,this.du=new Qe(oe.comparator),this.Au=new Map,this.Ru=new Jg,this.Vu={},this.mu=new Map,this.fu=Ia.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function vM(t,e,n=!0){const s=bT(t);let r;const a=s.Tu.get(e);return a?(s.sharedClientState.addLocalQueryTarget(a.targetId),r=a.view.lu()):r=await gT(s,e,n,!0),r}async function wM(t,e){const n=bT(t);await gT(n,e,!0,!1)}async function gT(t,e,n,s){const r=await UL(t.localStore,ns(e)),a=r.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let l;return s&&(l=await bM(t,e,a,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&lT(t.remoteStore,r),l}async function bM(t,e,n,s,r){t.pu=(h,p,v)=>async function(S,I,N,y){let b=I.view.ru(N);b.Cs&&(b=await Mw(S.localStore,I.query,!1).then(({documents:k})=>I.view.ru(k,b)));const D=y&&y.targetChanges.get(I.targetId),M=y&&y.targetMismatches.get(I.targetId)!=null,z=I.view.applyChanges(b,S.isPrimaryClient,D,M);return Gw(S,I.targetId,z.au),z.snapshot}(t,h,p,v);const a=await Mw(t.localStore,e,!0),o=new pM(e,a.Qs),l=o.ru(a.documents),u=Wl.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),d=o.applyChanges(l,t.isPrimaryClient,u);Gw(t,n,d.au);const f=new gM(e,n,o);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function _M(t,e,n){const s=fe(t),r=s.Tu.get(e),a=s.Iu.get(r.targetId);if(a.length>1)return s.Iu.set(r.targetId,a.filter(o=>!qd(o,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await ep(s.localStore,r.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(r.targetId),n&&ty(s.remoteStore,r.targetId),sp(s,r.targetId)}).catch(Fa)):(sp(s,r.targetId),await ep(s.localStore,r.targetId,!0))}async function NM(t,e){const n=fe(t),s=n.Tu.get(e),r=n.Iu.get(s.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),ty(n.remoteStore,s.targetId))}async function SM(t,e,n){const s=AM(t);try{const r=await function(o,l){const u=fe(o),d=$e.now(),f=l.reduce((v,T)=>v.add(T.key),we());let h,p;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let T=Ps(),S=we();return u.Ns.getEntries(v,f).next(I=>{T=I,T.forEach((N,y)=>{y.isValidDocument()||(S=S.add(N))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,T)).next(I=>{h=I;const N=[];for(const y of l){const b=FV(y,h.get(y.key).overlayedDocument);b!=null&&N.push(new Or(y.key,b,TS(b.value.mapValue),On.exists(!0)))}return u.mutationQueue.addMutationBatch(v,d,N,l)}).next(I=>{p=I;const N=I.applyToLocalDocumentSet(h,S);return u.documentOverlayCache.saveOverlays(v,I.batchId,N)})}).then(()=>({batchId:p.batchId,changes:LS(h)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),function(o,l,u){let d=o.Vu[o.currentUser.toKey()];d||(d=new Qe(ve)),d=d.insert(l,u),o.Vu[o.currentUser.toKey()]=d}(s,r.batchId,n),await Gl(s,r.changes),await Zd(s.remoteStore)}catch(r){const a=ay(r,"Failed to persist write");n.reject(a)}}async function yT(t,e){const n=fe(t);try{const s=await ML(n.localStore,e);e.targetChanges.forEach((r,a)=>{const o=n.Au.get(a);o&&(ke(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?o.hu=!0:r.modifiedDocuments.size>0?ke(o.hu,14607):r.removedDocuments.size>0&&(ke(o.hu,42227),o.hu=!1))}),await Gl(n,s,e)}catch(s){await Fa(s)}}function qw(t,e,n){const s=fe(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.Tu.forEach((a,o)=>{const l=o.view.va(e);l.snapshot&&r.push(l.snapshot)}),function(o,l){const u=fe(o);u.onlineState=l;let d=!1;u.queries.forEach((f,h)=>{for(const p of h.Sa)p.va(l)&&(d=!0)}),d&&cy(u)}(s.eventManager,e),r.length&&s.Pu.H_(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function TM(t,e,n){const s=fe(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.Au.get(e),a=r&&r.key;if(a){let o=new Qe(oe.comparator);o=o.insert(a,Mt.newNoDocument(a,he.min()));const l=we().add(a),u=new Qd(he.min(),new Map,new Qe(ve),o,l);await yT(s,u),s.du=s.du.remove(a),s.Au.delete(e),hy(s)}else await ep(s.localStore,e,!1).then(()=>sp(s,e,n)).catch(Fa)}async function EM(t,e){const n=fe(t),s=e.batch.batchId;try{const r=await LL(n.localStore,e);vT(n,s,null),xT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Gl(n,r)}catch(r){await Fa(r)}}async function jM(t,e,n){const s=fe(t);try{const r=await function(o,l){const u=fe(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return u.mutationQueue.lookupMutationBatch(d,l).next(h=>(ke(h!==null,37113),f=h.keys(),u.mutationQueue.removeMutationBatch(d,h))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>u.localDocuments.getDocuments(d,f))})}(s.localStore,e);vT(s,e,n),xT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Gl(s,r)}catch(r){await Fa(r)}}function xT(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function vT(t,e,n){const s=fe(t);let r=s.Vu[s.currentUser.toKey()];if(r){const a=r.get(e);a&&(n?a.reject(n):a.resolve(),r=r.remove(e)),s.Vu[s.currentUser.toKey()]=r}}function sp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(s=>{t.Ru.containsKey(s)||wT(t,s)})}function wT(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(ty(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),hy(t))}function Gw(t,e,n){for(const s of n)s instanceof mT?(t.Ru.addReference(s.key,e),kM(t,s)):s instanceof pT?(se(dy,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||wT(t,s.key)):de(19791,{wu:s})}function kM(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(se(dy,"New document in limbo: "+n),t.Eu.add(s),hy(t))}function hy(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new oe(De.fromString(e)),s=t.fu.next();t.Au.set(s,new yM(n)),t.du=t.du.insert(n,s),lT(t.remoteStore,new ir(ns(Wd(n.path)),s,"TargetPurposeLimboResolution",Bd.ce))}}async function Gl(t,e,n){const s=fe(t),r=[],a=[],o=[];s.Tu.isEmpty()||(s.Tu.forEach((l,u)=>{o.push(s.pu(u,e,n).then(d=>{var f;if((d||n)&&s.isPrimaryClient){const h=d?!d.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:f.current;s.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(d){r.push(d);const h=Zg.As(u.targetId,d);a.push(h)}}))}),await Promise.all(o),s.Pu.H_(r),await async function(u,d){const f=fe(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>W.forEach(d,p=>W.forEach(p.Es,v=>f.persistence.referenceDelegate.addReference(h,p.targetId,v)).next(()=>W.forEach(p.ds,v=>f.persistence.referenceDelegate.removeReference(h,p.targetId,v)))))}catch(h){if(!Ua(h))throw h;se(ey,"Failed to update sequence numbers: "+h)}for(const h of d){const p=h.targetId;if(!h.fromCache){const v=f.Ms.get(p),T=v.snapshotVersion,S=v.withLastLimboFreeSnapshotVersion(T);f.Ms=f.Ms.insert(p,S)}}}(s.localStore,a))}async function IM(t,e){const n=fe(t);if(!n.currentUser.isEqual(e)){se(dy,"User change. New user:",e.toKey());const s=await rT(n.localStore,e);n.currentUser=e,function(a,o){a.mu.forEach(l=>{l.forEach(u=>{u.reject(new X(H.CANCELLED,o))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Gl(n,s.Ls)}}function CM(t,e){const n=fe(t),s=n.Au.get(e);if(s&&s.hu)return we().add(s.key);{let r=we();const a=n.Iu.get(e);if(!a)return r;for(const o of a){const l=n.Tu.get(o);r=r.unionWith(l.view.nu)}return r}}function bT(t){const e=fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=yT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TM.bind(null,e),e.Pu.H_=fM.bind(null,e.eventManager),e.Pu.yu=mM.bind(null,e.eventManager),e}function AM(t){const e=fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jM.bind(null,e),e}class cd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return VL(this.persistence,new PL,e.initialUser,this.serializer)}Cu(e){return new sT(Xg.mi,this.serializer)}Du(e){return new BL}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cd.provider={build:()=>new cd};class PM extends cd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ke(this.persistence.referenceDelegate instanceof od,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new yL(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Gt.withCacheSize(this.cacheSizeBytes):Gt.DEFAULT;return new sT(s=>od.mi(s,n),this.serializer)}}class rp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>qw(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=IM.bind(null,this.syncEngine),await uM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new hM}()}createDatastore(e){const n=Jd(e.databaseInfo.databaseId),s=function(a){return new GL(a)}(e.databaseInfo);return function(a,o,l,u){return new JL(a,o,l,u)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,r,a,o,l){return new ZL(s,r,a,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>qw(this.syncEngine,n,0),function(){return Uw.v()?new Uw:new zL}())}createSyncEngine(e,n){return function(r,a,o,l,u,d,f){const h=new xM(r,a,o,l,u,d);return f&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const a=fe(r);se(Ni,"RemoteStore shutting down."),a.Ea.add(5),await ql(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}rp.provider={build:()=>new rp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):As("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar="FirestoreClient";class RM{constructor(e,n,s,r,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=Vt.UNAUTHENTICATED,this.clientId=$g.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(s,async o=>{se(Ar,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(s,o=>(se(Ar,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=ay(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Sf(t,e){t.asyncQueue.verifyOperationInProgress(),se(Ar,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async r=>{s.isEqual(r)||(await rT(e.localStore,r),s=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Kw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await DM(t);se(Ar,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>Bw(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,r)=>Bw(e.remoteStore,r)),t._onlineComponents=e}async function DM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){se(Ar,"Using user provided OfflineComponentProvider");try{await Sf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===H.FAILED_PRECONDITION||r.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Ta("Error using user provided cache. Falling back to memory cache: "+n),await Sf(t,new cd)}}else se(Ar,"Using default OfflineComponentProvider"),await Sf(t,new PM(void 0));return t._offlineComponents}async function _T(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(se(Ar,"Using user provided OnlineComponentProvider"),await Kw(t,t._uninitializedComponentsProvider._online)):(se(Ar,"Using default OnlineComponentProvider"),await Kw(t,new rp))),t._onlineComponents}function VM(t){return _T(t).then(e=>e.syncEngine)}async function ud(t){const e=await _T(t),n=e.eventManager;return n.onListen=vM.bind(null,e.syncEngine),n.onUnlisten=_M.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=wM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=NM.bind(null,e.syncEngine),n}function LM(t,e,n={}){const s=new Ns;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,l,u,d){const f=new fy({next:p=>{f.Nu(),o.enqueueAndForget(()=>ly(a,h));const v=p.docs.has(l);!v&&p.fromCache?d.reject(new X(H.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&p.fromCache&&u&&u.source==="server"?d.reject(new X(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),h=new uy(Wd(l.path),f,{includeMetadataChanges:!0,qa:!0});return oy(a,h)}(await ud(t),t.asyncQueue,e,n,s)),s.promise}function MM(t,e,n={}){const s=new Ns;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,l,u,d){const f=new fy({next:p=>{f.Nu(),o.enqueueAndForget(()=>ly(a,h)),p.fromCache&&u.source==="server"?d.reject(new X(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),h=new uy(l,f,{includeMetadataChanges:!0,qa:!0});return oy(a,h)}(await ud(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="firestore.googleapis.com",Qw=!0;class Jw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new X(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ST,this.ssl=Qw}else this.host=e.host,this.ssl=e.ssl??Qw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pL)throw new X(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}X3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NT(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new X(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new X(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new X(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,r){return s.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class eh{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new B3;switch(s.type){case"firstParty":return new q3(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new X(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Yw.get(n);s&&(se("ComponentProvider","Removing Datastore"),Yw.delete(n),s.terminate())}(this),Promise.resolve()}}function OM(t,e,n,s={}){var d;t=un(t,eh);const r=Va(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;r&&(gN(`https://${l}`),yN("Firestore",!0)),a.host!==ST&&a.host!==l&&Ta("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...a,host:l,ssl:r,emulatorOptions:s};if(!xi(u,o)&&(t._setSettings(u),s.mockUserToken)){let f,h;if(typeof s.mockUserToken=="string")f=s.mockUserToken,h=Vt.MOCK_USER;else{f=G4(s.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const p=s.mockUserToken.sub||s.mockUserToken.user_id;if(!p)throw new X(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Vt(p)}t._authCredentials=new z3(new fS(f,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Fr(this.firestore,e,this._query)}}class et{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new et(this.firestore,e,this._key)}toJSON(){return{type:et._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(zl(n,et._jsonSchema))return new et(e,s||null,new oe(De.fromString(n.referencePath)))}}et._jsonSchemaVersion="firestore/documentReference/1.0",et._jsonSchema={type:ct("string",et._jsonSchemaVersion),referencePath:ct("string")};class wr extends Fr{constructor(e,n,s){super(e,n,Wd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new et(this.firestore,null,new oe(e))}withConverter(e){return new wr(this.firestore,e,this._path)}}function Kl(t,e,...n){if(t=ut(t),mS("collection","path",e),t instanceof eh){const s=De.fromString(e,...n);return uw(s),new wr(t,null,s)}{if(!(t instanceof et||t instanceof wr))throw new X(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(De.fromString(e,...n));return uw(s),new wr(t.firestore,null,s)}}function Yl(t,e,...n){if(t=ut(t),arguments.length===1&&(e=$g.newId()),mS("doc","path",e),t instanceof eh){const s=De.fromString(e,...n);return cw(s),new et(t,null,new oe(s))}{if(!(t instanceof et||t instanceof wr))throw new X(H.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(De.fromString(e,...n));return cw(s),new et(t.firestore,t instanceof wr?t.converter:null,new oe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="AsyncQueue";class Zw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new aT(this,"async_queue_retry"),this._c=()=>{const s=Nf();s&&se(Xw,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Nf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Nf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ns;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ua(e))throw e;se(Xw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,As("INTERNAL UNHANDLED ERROR: ",e1(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=iy.createAndSchedule(this,e,n,s,a=>this.hc(a));return this.tc.push(r),r}uc(){this.nc&&de(47125,{Pc:e1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function e1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(t){return function(n,s){if(typeof n!="object"||n===null)return!1;const r=n;for(const a of s)if(a in r&&typeof r[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Pr extends eh{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new Zw,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Zw(e),this._firestoreClient=void 0,await e}}}function FM(t,e){const n=typeof t=="object"?t:bN(),s=typeof t=="string"?t:nd,r=Ig(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const a=W4("firestore");a&&OM(r,...a)}return r}function th(t){if(t._terminated)throw new X(H.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||UM(t),t._firestoreClient}function UM(t){var s,r,a;const e=t._freezeSettings(),n=function(l,u,d,f){return new cV(l,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,NT(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((s=t._app)==null?void 0:s.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(r=e.localCache)!=null&&r._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new RM(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vn(Ct.fromBase64String(e))}catch(n){throw new X(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vn(Ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(zl(e,vn._jsonSchema))return vn.fromBase64String(e.bytes)}}vn._jsonSchemaVersion="firestore/bytes/1.0",vn._jsonSchema={type:ct("string",vn._jsonSchemaVersion),bytes:ct("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:rs._jsonSchemaVersion}}static fromJSON(e){if(zl(e,rs._jsonSchema))return new rs(e.latitude,e.longitude)}}rs._jsonSchemaVersion="firestore/geoPoint/1.0",rs._jsonSchema={type:ct("string",rs._jsonSchemaVersion),latitude:ct("number"),longitude:ct("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,r){if(s.length!==r.length)return!1;for(let a=0;a<s.length;++a)if(s[a]!==r[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:is._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(zl(e,is._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new is(e.vectorValues);throw new X(H.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}is._jsonSchemaVersion="firestore/vectorValue/1.0",is._jsonSchema={type:ct("string",is._jsonSchemaVersion),vectorValues:ct("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=/^__.*__$/;class BM{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Or(e,this.data,this.fieldMask,n,this.fieldTransforms):new Hl(e,this.data,n,this.fieldTransforms)}}class TT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Or(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ET(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de(40011,{Ac:t})}}class my{constructor(e,n,s,r,a,o){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new my({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var r;const n=(r=this.path)==null?void 0:r.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var r;const n=(r=this.path)==null?void 0:r.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return dd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(ET(this.Ac)&&$M.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class zM{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Jd(e)}Cc(e,n,s,r=!1){return new my({Ac:e,methodName:n,Dc:s,path:jt.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rh(t){const e=t._freezeSettings(),n=Jd(t._databaseId);return new zM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function jT(t,e,n,s,r,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,n,r);gy("Data must be an object, but it was:",o,s);const l=kT(s,o);let u,d;if(a.merge)u=new ln(o.fieldMask),d=o.fieldTransforms;else if(a.mergeFields){const f=[];for(const h of a.mergeFields){const p=ip(e,h,n);if(!o.contains(p))throw new X(H.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);CT(f,p)||f.push(p)}u=new ln(f),d=o.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,d=o.fieldTransforms;return new BM(new Yt(l),u,d)}class ih extends sh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ih}}class py extends sh{_toFieldTransform(e){return new VV(e.path,new bl)}isEqual(e){return e instanceof py}}function HM(t,e,n,s){const r=t.Cc(1,e,n);gy("Data must be an object, but it was:",r,s);const a=[],o=Yt.empty();Mr(s,(u,d)=>{const f=yy(e,u,n);d=ut(d);const h=r.yc(f);if(d instanceof ih)a.push(f);else{const p=Ql(d,h);p!=null&&(a.push(f),o.set(f,p))}});const l=new ln(a);return new TT(o,l,r.fieldTransforms)}function WM(t,e,n,s,r,a){const o=t.Cc(1,e,n),l=[ip(e,s,n)],u=[r];if(a.length%2!=0)throw new X(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<a.length;p+=2)l.push(ip(e,a[p])),u.push(a[p+1]);const d=[],f=Yt.empty();for(let p=l.length-1;p>=0;--p)if(!CT(d,l[p])){const v=l[p];let T=u[p];T=ut(T);const S=o.yc(v);if(T instanceof ih)d.push(v);else{const I=Ql(T,S);I!=null&&(d.push(v),f.set(v,I))}}const h=new ln(d);return new TT(f,h,o.fieldTransforms)}function qM(t,e,n,s=!1){return Ql(n,t.Cc(s?4:3,e))}function Ql(t,e){if(IT(t=ut(t)))return gy("Unsupported field value:",e,t),kT(t,e);if(t instanceof sh)return function(s,r){if(!ET(r.Ac))throw r.Sc(`${s._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${s._methodName}() is not currently supported inside arrays`);const a=s._toFieldTransform(r);a&&r.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,r){const a=[];let o=0;for(const l of s){let u=Ql(l,r.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),a.push(u),o++}return{arrayValue:{values:a}}}(t,e)}return function(s,r){if((s=ut(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return PV(r.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const a=$e.fromDate(s);return{timestampValue:ad(r.serializer,a)}}if(s instanceof $e){const a=new $e(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ad(r.serializer,a)}}if(s instanceof rs)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof vn)return{bytesValue:YS(r.serializer,s._byteString)};if(s instanceof et){const a=r.databaseId,o=s.firestore._databaseId;if(!o.isEqual(a))throw r.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Qg(s.firestore._databaseId||r.databaseId,s._key.path)}}if(s instanceof is)return function(o,l){return{mapValue:{fields:{[NS]:{stringValue:SS},[sd]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw l.Sc("VectorValues must only contain numeric values.");return Gg(l.serializer,d)})}}}}}}(s,r);throw r.Sc(`Unsupported field value: ${$d(s)}`)}(t,e)}function kT(t,e){const n={};return yS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mr(t,(s,r)=>{const a=Ql(r,e.mc(s));a!=null&&(n[s]=a)}),{mapValue:{fields:n}}}function IT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $e||t instanceof rs||t instanceof vn||t instanceof et||t instanceof sh||t instanceof is)}function gy(t,e,n){if(!IT(n)||!pS(n)){const s=$d(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function ip(t,e,n){if((e=ut(e))instanceof nh)return e._internalPath;if(typeof e=="string")return yy(t,e);throw dd("Field path arguments must be of type string or ",t,!1,void 0,n)}const GM=new RegExp("[~\\*/\\[\\]]");function yy(t,e,n){if(e.search(GM)>=0)throw dd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new nh(...e.split("."))._internalPath}catch{throw dd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dd(t,e,n,s,r){const a=s&&!s.isEmpty(),o=r!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(a||o)&&(u+=" (found",a&&(u+=` in field ${s}`),o&&(u+=` in document ${r}`),u+=")"),new X(H.INVALID_ARGUMENT,l+t+u)}function CT(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,n,s,r,a){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new KM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class KM extends AT{data(){return super.data()}}function xy(t,e){return typeof e=="string"?yy(t,e):e instanceof nh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vy{}class RT extends vy{}function DT(t,e,...n){let s=[];e instanceof vy&&s.push(e),s=s.concat(n),function(a){const o=a.filter(u=>u instanceof by).length,l=a.filter(u=>u instanceof wy).length;if(o>1||o>0&&l>0)throw new X(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const r of s)t=r._apply(t);return t}class wy extends RT{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new wy(e,n,s)}_apply(e){const n=this._parse(e);return LT(e._query,n),new Fr(e.firestore,e.converter,Km(e._query,n))}_parse(e){const n=rh(e.firestore);return function(a,o,l,u,d,f,h){let p;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new X(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){s1(h,f);const T=[];for(const S of h)T.push(n1(u,a,S));p={arrayValue:{values:T}}}else p=n1(u,a,h)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||s1(h,f),p=qM(l,o,h,f==="in"||f==="not-in");return ot.create(d,f,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class by extends vy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new by(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Un.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,a){let o=r;const l=a.getFlattenedFilters();for(const u of l)LT(o,u),o=Km(o,u)}(e._query,n),new Fr(e.firestore,e.converter,Km(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class _y extends RT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new _y(e,n)}_apply(e){const n=function(r,a,o){if(r.startAt!==null)throw new X(H.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new X(H.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wl(a,o)}(e._query,this._field,this._direction);return new Fr(e.firestore,e.converter,function(r,a){const o=r.explicitOrderBy.concat([a]);return new $a(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function VT(t,e="asc"){const n=e,s=xy("orderBy",t);return _y._create(s,n)}function n1(t,e,n){if(typeof(n=ut(n))=="string"){if(n==="")throw new X(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PS(e)&&n.indexOf("/")!==-1)throw new X(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(De.fromString(n));if(!oe.isDocumentKey(s))throw new X(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return xw(t,new oe(s))}if(n instanceof et)return xw(t,n._key);throw new X(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$d(n)}.`)}function s1(t,e){if(!Array.isArray(t)||t.length===0)throw new X(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function LT(t,e){const n=function(r,a){for(const o of r)for(const l of o.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class YM{convertValue(e,n="none"){switch(Ir(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(kr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw de(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Mr(e,(r,a)=>{s[r]=this.convertValue(a,n)}),s}convertVectorValue(e){var s,r,a;const n=(a=(r=(s=e.fields)==null?void 0:s[sd].arrayValue)==null?void 0:r.values)==null?void 0:a.map(o=>tt(o.doubleValue));return new is(n)}convertGeoPoint(e){return new rs(tt(e.latitude),tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Hd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(yl(e));default:return null}}convertTimestamp(e){const n=jr(e);return new $e(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=De.fromString(e);ke(tT(s),9688,{name:e});const r=new xl(s.get(1),s.get(3)),a=new oe(s.popFirst(5));return r.isEqual(n)||As(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class jo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ui extends AT{constructor(e,n,s,r,a,o){super(e,n,s,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ou(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(xy("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new X(H.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ui._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ui._jsonSchemaVersion="firestore/documentSnapshot/1.0",ui._jsonSchema={type:ct("string",ui._jsonSchemaVersion),bundleSource:ct("string","DocumentSnapshot"),bundleName:ct("string"),bundle:ct("string")};class ou extends ui{data(e={}){return super.data(e)}}class di{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new jo(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new ou(this._firestore,this._userDataWriter,s.key,s,new jo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(l=>{const u=new ou(r._firestore,r._userDataWriter,l.doc.key,l.doc,new jo(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>a||l.type!==3).map(l=>{const u=new ou(r._firestore,r._userDataWriter,l.doc.key,l.doc,new jo(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,f=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:QM(l.type),doc:u,oldIndex:d,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new X(H.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=di._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$g.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],r=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),s.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),r.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function QM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(t){t=un(t,et);const e=un(t.firestore,Pr);return LM(th(e),t._key).then(n=>$T(e,t,n))}di._jsonSchemaVersion="firestore/querySnapshot/1.0",di._jsonSchema={type:ct("string",di._jsonSchemaVersion),bundleSource:ct("string","QuerySnapshot"),bundleName:ct("string"),bundle:ct("string")};class Ny extends YM{constructor(e){super(),this.firestore=e}convertBytes(e){return new vn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new et(this.firestore,null,n)}}function OT(t){t=un(t,Fr);const e=un(t.firestore,Pr),n=th(e),s=new Ny(e);return PT(t._query),MM(n,t._query).then(r=>new di(e,s,t,r))}function XM(t,e,n){t=un(t,et);const s=un(t.firestore,Pr),r=MT(t.converter,e,n);return Sy(s,[jT(rh(s),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,On.none())])}function FT(t,e,n,...s){t=un(t,et);const r=un(t.firestore,Pr),a=rh(r);let o;return o=typeof(e=ut(e))=="string"||e instanceof nh?WM(a,"updateDoc",t._key,e,n,s):HM(a,"updateDoc",t._key,e),Sy(r,[o.toMutation(t._key,On.exists(!0))])}function ZM(t,e){const n=un(t.firestore,Pr),s=Yl(t),r=MT(t.converter,e);return Sy(n,[jT(rh(t.firestore),"addDoc",s._key,r,t.converter!==null,{}).toMutation(s._key,On.exists(!1))]).then(()=>s)}function UT(t,...e){var u,d,f;t=ut(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||t1(e[s])||(n=e[s++]);const r={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(t1(e[s])){const h=e[s];e[s]=(u=h.next)==null?void 0:u.bind(h),e[s+1]=(d=h.error)==null?void 0:d.bind(h),e[s+2]=(f=h.complete)==null?void 0:f.bind(h)}let a,o,l;if(t instanceof et)o=un(t.firestore,Pr),l=Wd(t._key.path),a={next:h=>{e[s]&&e[s]($T(o,t,h))},error:e[s+1],complete:e[s+2]};else{const h=un(t,Fr);o=un(h.firestore,Pr),l=h._query;const p=new Ny(o);a={next:v=>{e[s]&&e[s](new di(o,p,h,v))},error:e[s+1],complete:e[s+2]},PT(t._query)}return function(p,v,T,S){const I=new fy(S),N=new uy(v,I,T);return p.asyncQueue.enqueueAndForget(async()=>oy(await ud(p),N)),()=>{I.Nu(),p.asyncQueue.enqueueAndForget(async()=>ly(await ud(p),N))}}(th(o),l,r,a)}function Sy(t,e){return function(s,r){const a=new Ns;return s.asyncQueue.enqueueAndForget(async()=>SM(await VM(s),r,a)),a.promise}(th(t),e)}function $T(t,e,n){const s=n.docs.get(e._key),r=new Ny(t);return new ui(t,r,e._key,s,new jo(n.hasPendingWrites,n.fromCache),e.converter)}function ah(){return new py("serverTimestamp")}(function(e,n=!0){(function(r){Oa=r})(La),Na(new vi("firestore",(s,{instanceIdentifier:r,options:a})=>{const o=s.getProvider("app").getImmediate(),l=new Pr(new H3(s.getProvider("auth-internal")),new G3(o,s.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new X(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xl(d.options.projectId,f)}(o,r),o);return a={useFetchStreams:n,...a},l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),xr(iw,aw,e),xr(iw,aw,"esm2020")})();const e6={apiKey:"AIzaSyA4oe_gqt8NOWC6VCEfJYbznsVQuoyIJC4",authDomain:"saxovault-d94c5.firebaseapp.com",projectId:"saxovault-d94c5",storageBucket:"saxovault-d94c5.firebasestorage.app",messagingSenderId:"61739859282",appId:"1:61739859282:web:e33555e56540b7aee20e8b",measurementId:"G-RC1Y2MJJVS"},BT=wN(e6),Aa=U3(BT),Ms=FM(BT),zT=new us;zT.setCustomParameters({prompt:"select_account"});const Ty=async t=>{try{return await XM(Yl(Ms,"users",t.uid),{...t,updatedAt:ah()},{merge:!0}),console.log(" User saved to Firestore:",t.email),{success:!0}}catch(e){return console.error(" Error saving user to Firestore:",e),{success:!1,error:e.message}}},HT=async t=>{try{const e=Yl(Ms,"users",t),n=await JM(e);return n.exists()?{success:!0,data:n.data()}:{success:!1,error:"User not found"}}catch(e){return console.error(" Error getting user from Firestore:",e),{success:!1,error:e.message}}},t6=async()=>{try{const t=await OT(Kl(Ms,"users")),e=[];return t.forEach(n=>{e.push({id:n.id,...n.data()})}),console.log(" Fetched",e.length,"users from Firestore"),{success:!0,data:e}}catch(t){return console.error(" Error getting users from Firestore:",t),{success:!1,error:t.message}}},Ey=async(t,e)=>{try{return await FT(Yl(Ms,"users",t),{...e,updatedAt:ah()}),console.log(" User updated in Firestore"),{success:!0}}catch(n){return console.error(" Error updating user in Firestore:",n),{success:!1,error:n.message}}},n6=async t=>{try{const e=await ZM(Kl(Ms,"transactions"),{...t,createdAt:ah(),status:t.status||"pending"});return console.log(" Transaction added to Firestore:",e.id),{success:!0,id:e.id}}catch(e){return console.error(" Error adding transaction to Firestore:",e),{success:!1,error:e.message}}},s6=async()=>{try{const t=DT(Kl(Ms,"transactions"),VT("createdAt","desc")),e=await OT(t),n=[];return e.forEach(s=>{var a,o,l;const r=s.data();n.push({id:s.id,...r,createdAt:((l=(o=(a=r.createdAt)==null?void 0:a.toDate)==null?void 0:o.call(a))==null?void 0:l.toISOString())||r.createdAt})}),console.log(" Fetched",n.length,"transactions from Firestore"),{success:!0,data:n}}catch(t){return console.error(" Error getting transactions from Firestore:",t),{success:!1,error:t.message}}},r1=async(t,e)=>{try{return await FT(Yl(Ms,"transactions",t),{...e,updatedAt:ah()}),console.log(" Transaction updated in Firestore"),{success:!0}}catch(n){return console.error(" Error updating transaction in Firestore:",n),{success:!1,error:n.message}}},r6=t=>{const e=DT(Kl(Ms,"transactions"),VT("createdAt","desc"));return UT(e,n=>{const s=[];n.forEach(r=>{var o,l,u;const a=r.data();s.push({id:r.id,...a,createdAt:((u=(l=(o=a.createdAt)==null?void 0:o.toDate)==null?void 0:l.call(o))==null?void 0:u.toISOString())||a.createdAt})}),t(s)})},i6=t=>UT(Kl(Ms,"users"),e=>{const n=[];e.forEach(s=>{n.push({id:s.id,...s.data()})}),t(n)}),a6=async()=>{try{const e=(await YD(Aa,zT)).user,n=await HT(e.uid);let s,r=!1;return!n.success||!n.data?(r=!0,s={uid:e.uid,email:e.email,name:e.displayName||"",phone:"",country:"",referralCode:"",createdAt:new Date().toISOString(),balance:0,signInMethod:"google",photoURL:e.photoURL||""},await Ty(s),localStorage.setItem(`user_${e.uid}`,JSON.stringify(s))):(s=n.data,e.photoURL&&e.photoURL!==s.photoURL&&(s.photoURL=e.photoURL,await Ey(e.uid,{photoURL:e.photoURL})),localStorage.setItem(`user_${e.uid}`,JSON.stringify(s))),{success:!0,user:e,userData:s,isNewUser:r}}catch(t){let e="Google sign-in failed. Please try again.";switch(t.code){case"auth/popup-closed-by-user":e="Sign-in popup was closed. Please try again.";break;case"auth/popup-blocked":e="Popup was blocked. Please allow popups for this site.";break;case"auth/cancelled-popup-request":e="Sign-in was cancelled.";break;case"auth/account-exists-with-different-credential":e="An account already exists with this email using a different sign-in method.";break;default:e=t.message}return{success:!1,error:e}}},o6=async(t,e,n)=>{try{const r=(await SD(Aa,t,e)).user;await jD(r,{displayName:n.name||""}),await GN(r,{url:window.location.origin,handleCodeInApp:!1});const a={uid:r.uid,email:t,name:n.name||"",phone:n.phone||"",country:n.country||"",referralCode:n.referralCode||"",createdAt:new Date().toISOString(),balance:0,signInMethod:"email",emailVerified:!1};try{await Ty(a),console.log(" User saved to Firestore")}catch(o){console.error(" Firestore save failed, will retry on login:",o)}return localStorage.setItem(`user_${r.uid}`,JSON.stringify(a)),{success:!0,user:r,message:"Verification email sent! Please check your inbox."}}catch(s){let r="Registration failed. Please try again.";switch(s.code){case"auth/email-already-in-use":r='This email is already registered. Please login instead. If you cannot login, use "Forgot Password" to reset.';break;case"auth/weak-password":r="Password is too weak. Please use at least 8 characters with uppercase, lowercase, number, and symbol.";break;case"auth/invalid-email":r="Please enter a valid email address.";break;default:r=s.message}return{success:!1,error:r}}},i1=async(t,e)=>{try{const s=(await TD(Aa,t,e)).user;if(!s.emailVerified)return await GN(s),await KN(Aa),{success:!1,needsVerification:!0,error:"Please verify your email first. A new verification link has been sent."};let r;const a=await HT(s.uid);if(a.success&&a.data)r=a.data,r.emailVerified||(r.emailVerified=!0,await Ey(s.uid,{emailVerified:!0}));else{const o=localStorage.getItem(`user_${s.uid}`);o?r=JSON.parse(o):r={uid:s.uid,email:s.email,name:s.displayName||"",balance:0,emailVerified:!0},await Ty(r)}return localStorage.setItem(`user_${s.uid}`,JSON.stringify(r)),{success:!0,user:s,userData:r}}catch(n){let s="Login failed. Please try again.";switch(n.code){case"auth/user-not-found":s="No account found with this email.";break;case"auth/wrong-password":s="Incorrect password. Please try again.";break;case"auth/invalid-email":s="Please enter a valid email address.";break;case"auth/too-many-requests":s="Too many failed attempts. Please try again later.";break;case"auth/invalid-credential":s="Invalid email or password.";break;default:s=n.message}return{success:!1,error:s}}},l6=async()=>{try{return await KN(Aa),{success:!0}}catch(t){return{success:!1,error:t.message}}},c6=async t=>{try{return await ND(Aa,t),{success:!0,message:"Password reset email sent! Check your inbox."}}catch(e){let n="Failed to send reset email.";switch(e.code){case"auth/user-not-found":n="No account found with this email.";break;case"auth/invalid-email":n="Please enter a valid email address.";break;default:n=e.message}return{success:!1,error:n}}};R.createContext();const WT={navy:"#0a1628",navyLight:"#1a2d4a",navyMedium:"#0f2039",gold:"#D4AF37",goldLight:"#f4d03f",goldDark:"#b8962e",green:"#0FAF76",greenDark:"#0d9962",cream:"#faf8f5",charcoal:"#374151",white:"#ffffff",red:"#ef4444",bg:"#faf8f5",cardBg:"#ffffff",textPrimary:"#0a1628",textSecondary:"#6b7280",border:"#e5e7eb"},u6={navy:"#f8fafc",navyLight:"#e2e8f0",navyMedium:"#cbd5e1",gold:"#fbbf24",goldLight:"#fcd34d",goldDark:"#f59e0b",green:"#34d399",greenDark:"#10b981",cream:"#0f172a",charcoal:"#94a3b8",white:"#1e293b",red:"#f87171",bg:"#0f172a",cardBg:"#1e293b",textPrimary:"#f8fafc",textSecondary:"#94a3b8",border:"#334155"};let w=WT;const d6={en:{welcome:"Welcome",dashboard:"Dashboard",investments:"Investments",deposit:"Deposit",withdraw:"Withdraw",balance:"Balance",pending:"Pending",approved:"Approved",home:"Home",profile:"Profile",settings:"Settings",logout:"Logout",login:"Login",register:"Register",email:"Email",password:"Password",name:"Name",phone:"Phone",submit:"Submit",cancel:"Cancel",confirm:"Confirm",amount:"Amount",history:"History",notifications:"Notifications",referral:"Referral",calculator:"Calculator",investNow:"Invest Now",minInvestment:"Min Investment",returns:"Returns",duration:"Duration",status:"Status",copyAddress:"Copy Address",paymentPending:"Payment Pending",transactionHistory:"Transaction History",noTransactions:"No transactions yet",securityTips:"Security Tips",activityLog:"Activity Log",viewAll:"View All",search:"Search",filter:"Filter",export:"Export",support:"Support",help:"Help",about:"About",terms:"Terms",privacy:"Privacy",contact:"Contact",language:"Language",darkMode:"Dark Mode",lightMode:"Light Mode"},es:{welcome:"Bienvenido",dashboard:"Panel",investments:"Inversiones",deposit:"Depositar",withdraw:"Retirar",balance:"Saldo",pending:"Pendiente",approved:"Aprobado",home:"Inicio",profile:"Perfil",settings:"Ajustes",logout:"Cerrar sesin",login:"Iniciar sesin",register:"Registrarse",email:"Correo",password:"Contrasea",name:"Nombre",phone:"Telfono",submit:"Enviar",cancel:"Cancelar",confirm:"Confirmar",amount:"Cantidad",history:"Historial",notifications:"Notificaciones",referral:"Referidos",calculator:"Calculadora",investNow:"Invertir Ahora",minInvestment:"Inversin Mnima",returns:"Retornos",duration:"Duracin",status:"Estado",copyAddress:"Copiar Direccin",paymentPending:"Pago Pendiente",transactionHistory:"Historial de Transacciones",noTransactions:"Sin transacciones",securityTips:"Consejos de Seguridad",activityLog:"Registro de Actividad",viewAll:"Ver Todo",search:"Buscar",filter:"Filtrar",export:"Exportar",support:"Soporte",help:"Ayuda",about:"Acerca de",terms:"Trminos",privacy:"Privacidad",contact:"Contacto",language:"Idioma",darkMode:"Modo Oscuro",lightMode:"Modo Claro"},fr:{welcome:"Bienvenue",dashboard:"Tableau de bord",investments:"Investissements",deposit:"Dpt",withdraw:"Retirer",balance:"Solde",pending:"En attente",approved:"Approuv",home:"Accueil",profile:"Profil",settings:"Paramtres",logout:"Dconnexion",login:"Connexion",register:"S'inscrire",email:"E-mail",password:"Mot de passe",name:"Nom",phone:"Tlphone",submit:"Soumettre",cancel:"Annuler",confirm:"Confirmer",amount:"Montant",history:"Historique",notifications:"Notifications",referral:"Parrainage",calculator:"Calculatrice",investNow:"Investir Maintenant",minInvestment:"Investissement Min",returns:"Rendements",duration:"Dure",status:"Statut",copyAddress:"Copier l'adresse",paymentPending:"Paiement en attente",transactionHistory:"Historique des transactions",noTransactions:"Aucune transaction",securityTips:"Conseils de scurit",activityLog:"Journal d'activit",viewAll:"Voir tout",search:"Rechercher",filter:"Filtrer",export:"Exporter",support:"Support",help:"Aide",about:" propos",terms:"Conditions",privacy:"Confidentialit",contact:"Contact",language:"Langue",darkMode:"Mode sombre",lightMode:"Mode clair"},de:{welcome:"Willkommen",dashboard:"bersicht",investments:"Investitionen",deposit:"Einzahlung",withdraw:"Auszahlung",balance:"Guthaben",pending:"Ausstehend",approved:"Genehmigt",home:"Startseite",profile:"Profil",settings:"Einstellungen",logout:"Abmelden",login:"Anmelden",register:"Registrieren",email:"E-Mail",password:"Passwort",name:"Name",phone:"Telefon",submit:"Absenden",cancel:"Abbrechen",confirm:"Besttigen",amount:"Betrag",history:"Verlauf",notifications:"Benachrichtigungen",referral:"Empfehlung",calculator:"Rechner",investNow:"Jetzt investieren",minInvestment:"Mindestanlage",returns:"Rendite",duration:"Laufzeit",status:"Status",copyAddress:"Adresse kopieren"},pt:{welcome:"Bem-vindo",dashboard:"Painel",investments:"Investimentos",deposit:"Depsito",withdraw:"Saque",balance:"Saldo",pending:"Pendente",approved:"Aprovado",home:"Incio",profile:"Perfil",settings:"Configuraes",logout:"Sair",login:"Entrar",register:"Cadastrar",email:"E-mail",password:"Senha",name:"Nome",phone:"Telefone",submit:"Enviar",cancel:"Cancelar",confirm:"Confirmar",amount:"Valor",history:"Histrico",notifications:"Notificaes",referral:"Indicao",calculator:"Calculadora",investNow:"Investir Agora"},it:{welcome:"Benvenuto",dashboard:"Pannello",investments:"Investimenti",deposit:"Deposito",withdraw:"Prelievo",balance:"Saldo",pending:"In attesa",approved:"Approvato",home:"Home",profile:"Profilo",settings:"Impostazioni",logout:"Esci",login:"Accedi",register:"Registrati",email:"Email",password:"Password",name:"Nome",phone:"Telefono",submit:"Invia",cancel:"Annulla",confirm:"Conferma",amount:"Importo",history:"Cronologia",investNow:"Investi Ora",minInvestment:"Investimento Minimo",returns:"Rendimenti",duration:"Durata"},nl:{welcome:"Welkom",dashboard:"Dashboard",investments:"Investeringen",deposit:"Storting",withdraw:"Opname",balance:"Saldo",pending:"In behandeling",approved:"Goedgekeurd",home:"Home",profile:"Profiel",settings:"Instellingen",logout:"Uitloggen",login:"Inloggen",register:"Registreren",investNow:"Nu Investeren"},ru:{welcome:" ",dashboard:"",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",email:". ",password:"",name:"",phone:"",submit:"",cancel:"",confirm:"",amount:"",history:"",investNow:"",minInvestment:". ",returns:"",duration:""},zh:{welcome:"",dashboard:"",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",email:"",password:"",name:"",phone:"",submit:"",cancel:"",confirm:"",amount:"",history:"",investNow:"",minInvestment:"",returns:"",duration:"",notifications:""},ja:{welcome:"",dashboard:"",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",email:"",password:"",name:"",phone:"",submit:"",cancel:"",confirm:"",amount:"",history:"",investNow:"",minInvestment:"",returns:"",duration:""},ko:{welcome:"",dashboard:"",investments:"",deposit:"",withdraw:"",balance:"",pending:" ",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",email:"",password:"",name:"",phone:"",submit:"",cancel:"",confirm:"",amount:"",history:"",investNow:" ",minInvestment:" ",returns:"",duration:""},ar:{welcome:"",dashboard:" ",investments:"",deposit:"",withdraw:"",balance:"",pending:" ",approved:" ",home:"",profile:" ",settings:"",logout:" ",login:" ",register:"",email:" ",password:" ",name:"",phone:"",submit:"",cancel:"",confirm:"",amount:"",history:"",investNow:" ",minInvestment:"  ",returns:"",duration:""},hi:{welcome:" ",dashboard:"",investments:"",deposit:"",withdraw:"",balance:" ",pending:"",approved:"",home:"",profile:"",settings:"",logout:" ",login:" ",register:"",email:"",password:"",name:"",phone:"",submit:" ",cancel:" ",confirm:" ",amount:"",history:"",investNow:"  ",minInvestment:" ",returns:"",duration:""},tr:{welcome:"Ho geldiniz",dashboard:"Kontrol Paneli",investments:"Yatrmlar",deposit:"Para Yatr",withdraw:"Para ek",balance:"Bakiye",pending:"Beklemede",approved:"Onayland",home:"Ana Sayfa",profile:"Profil",settings:"Ayarlar",logout:"k",login:"Giri",register:"Kayt Ol",email:"E-posta",password:"ifre",name:"Ad",phone:"Telefon",submit:"Gnder",cancel:"ptal",confirm:"Onayla",amount:"Tutar",history:"Gemi",investNow:"imdi Yatrm Yap",minInvestment:"Min Yatrm",returns:"Getiri",duration:"Sre"},pl:{welcome:"Witamy",dashboard:"Panel",investments:"Inwestycje",deposit:"Wpata",withdraw:"Wypata",balance:"Saldo",pending:"Oczekujce",approved:"Zatwierdzone",home:"Strona gwna",profile:"Profil",settings:"Ustawienia",logout:"Wyloguj",login:"Zaloguj",register:"Zarejestruj",investNow:"Inwestuj Teraz"},vi:{welcome:"Cho mng",dashboard:"Bng iu khin",investments:"u t",deposit:"Np tin",withdraw:"Rt tin",balance:"S d",pending:"ang ch",approved:" duyt",home:"Trang ch",profile:"H s",settings:"Ci t",logout:"ng xut",login:"ng nhp",register:"ng k",investNow:"u t ngay"},th:{welcome:"",dashboard:"",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",investNow:""},id:{welcome:"Selamat datang",dashboard:"Dasbor",investments:"Investasi",deposit:"Setor",withdraw:"Tarik",balance:"Saldo",pending:"Tertunda",approved:"Disetujui",home:"Beranda",profile:"Profil",settings:"Pengaturan",logout:"Keluar",login:"Masuk",register:"Daftar",investNow:"Investasi Sekarang"},ms:{welcome:"Selamat datang",dashboard:"Papan pemuka",investments:"Pelaburan",deposit:"Deposit",withdraw:"Pengeluaran",balance:"Baki",pending:"Menunggu",approved:"Diluluskan",home:"Laman utama",profile:"Profil",settings:"Tetapan",logout:"Log keluar",login:"Log masuk",register:"Daftar",investNow:"Labur Sekarang"},tl:{welcome:"Maligayang pagdating",dashboard:"Dashboard",investments:"Mga Pamumuhunan",deposit:"Deposito",withdraw:"Withdraw",balance:"Balanse",pending:"Nakabinbin",approved:"Aprubado",home:"Home",profile:"Profile",settings:"Settings",logout:"Mag-logout",login:"Mag-login",register:"Mag-register",investNow:"Mamuhunan Ngayon"},el:{welcome:" ",dashboard:" ",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",investNow:" "},cs:{welcome:"Vtejte",dashboard:"Pehled",investments:"Investice",deposit:"Vklad",withdraw:"Vbr",balance:"Zstatek",pending:"ekajc",approved:"Schvleno",home:"Dom",profile:"Profil",settings:"Nastaven",logout:"Odhlsit",login:"Pihlsit",register:"Registrace",investNow:"Investovat nyn"},sv:{welcome:"Vlkommen",dashboard:"Instrumentpanel",investments:"Investeringar",deposit:"Insttning",withdraw:"Uttag",balance:"Saldo",pending:"Vntande",approved:"Godknd",home:"Hem",profile:"Profil",settings:"Instllningar",logout:"Logga ut",login:"Logga in",register:"Registrera",investNow:"Investera Nu"},no:{welcome:"Velkommen",dashboard:"Kontrollpanel",investments:"Investeringer",deposit:"Innskudd",withdraw:"Uttak",balance:"Saldo",pending:"Venter",approved:"Godkjent",home:"Hjem",profile:"Profil",settings:"Innstillinger",logout:"Logg ut",login:"Logg inn",register:"Registrer",investNow:"Invester N"},da:{welcome:"Velkommen",dashboard:"Kontrolpanel",investments:"Investeringer",deposit:"Indbetaling",withdraw:"Udbetaling",balance:"Saldo",pending:"Afventer",approved:"Godkendt",home:"Hjem",profile:"Profil",settings:"Indstillinger",logout:"Log ud",login:"Log ind",register:"Registrer",investNow:"Invester Nu"},fi:{welcome:"Tervetuloa",dashboard:"Hallintapaneeli",investments:"Sijoitukset",deposit:"Talletus",withdraw:"Nosto",balance:"Saldo",pending:"Odottaa",approved:"Hyvksytty",home:"Etusivu",profile:"Profiili",settings:"Asetukset",logout:"Kirjaudu ulos",login:"Kirjaudu",register:"Rekisteridy",investNow:"Sijoita Nyt"},he:{welcome:" ",dashboard:" ",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",investNow:" "},uk:{welcome:" ",dashboard:"",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",investNow:" "},ro:{welcome:"Bun venit",dashboard:"Panou",investments:"Investiii",deposit:"Depunere",withdraw:"Retragere",balance:"Sold",pending:"n ateptare",approved:"Aprobat",home:"Acas",profile:"Profil",settings:"Setri",logout:"Deconectare",login:"Conectare",register:"nregistrare",investNow:"Investete Acum"},hu:{welcome:"dvzljk",dashboard:"Irnytpult",investments:"Befektetsek",deposit:"Befizets",withdraw:"Kifizets",balance:"Egyenleg",pending:"Fggben",approved:"Jvhagyott",home:"Foldal",profile:"Profil",settings:"Belltsok",logout:"Kijelentkezs",login:"Bejelentkezs",register:"Regisztrci",investNow:"Befektets Most"},bn:{welcome:"",dashboard:"",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",investNow:"  "},sw:{welcome:"Karibu",dashboard:"Dashibodi",investments:"Uwekezaji",deposit:"Amana",withdraw:"Kutoa",balance:"Salio",pending:"Inasubiri",approved:"Imeidhinishwa",home:"Nyumbani",profile:"Wasifu",settings:"Mipangilio",logout:"Ondoka",login:"Ingia",register:"Jisajili",investNow:"Wekeza Sasa"},yo:{welcome:" kb",dashboard:"Pnl",investments:"dkw",deposit:"fipam",withdraw:"mkr",balance:"yk",pending:" dr",approved:"Ti fws",home:"Il",profile:"ksl",settings:"t",investNow:"e dkw by"},ha:{welcome:"Barka da zuwa",dashboard:"Dashboard",investments:"Saka hannun jari",deposit:"Ajiya",withdraw:"Cire kui",balance:"Ragowar kui",pending:"Ana jira",approved:"An amince",home:"Gida",profile:"Bayani",settings:"Saiti",investNow:"Saka hannun jari yanzu"},ig:{welcome:"Nn",dashboard:"Dashboard",investments:"Ntinye ego",deposit:"Tinyere ego",withdraw:"Wepu ego",balance:"Ego fdr",pending:"Na-echere",approved:"Kwadoro",home:"l",profile:"Profal",settings:"Ntala",investNow:"Tinye ego ugbu a"}},a1={en:"English",es:"Espaol",fr:"Franais",de:"Deutsch",pt:"Portugus",it:"Italiano",nl:"Nederlands",ru:"",zh:"",ja:"",ko:"",ar:"",hi:"",tr:"Trke",pl:"Polski",vi:"Ting Vit",th:"",id:"Bahasa Indonesia",ms:"Bahasa Melayu",tl:"Filipino",el:"",cs:"etina",sv:"Svenska",no:"Norsk",da:"Dansk",fi:"Suomi",he:"",uk:"",ro:"Romn",hu:"Magyar",bn:"",sw:"Kiswahili",yo:"Yorb",ha:"Hausa",ig:"Igbo"},h6=()=>{const e=(navigator.language||navigator.userLanguage).split("-")[0].toLowerCase();return d6[e]?e:"en"},f6=()=>localStorage.getItem("saxovault_language")||h6(),qT=()=>i.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3 py-4",children:[i.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-gray-100 rounded-lg",children:[i.jsx(Tr,{className:"w-4 h-4 text-green-600"}),i.jsx("span",{className:"text-xs text-gray-600",children:"256-bit SSL"})]}),i.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-gray-100 rounded-lg",children:[i.jsx(pr,{className:"w-4 h-4 text-blue-600"}),i.jsx("span",{className:"text-xs text-gray-600",children:"Bank-Level Security"})]}),i.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-gray-100 rounded-lg",children:[i.jsx(b4,{className:"w-4 h-4 text-yellow-600"}),i.jsx("span",{className:"text-xs text-gray-600",children:"Licensed"})]})]});function m6({onComplete:t}){const[e,n]=R.useState(0),s=[{title:"Welcome to SaxoVault! ",description:"Your journey to smart investing starts here. Let us show you around.",icon:""},{title:"Explore Investments",description:"Browse our curated investment opportunities across real estate, crypto, stocks, and more.",icon:""},{title:"Easy Deposits",description:"Fund your account instantly using Bitcoin, Ethereum, or USDT cryptocurrency.",icon:""},{title:"Track Your Portfolio",description:"Monitor your investments, returns, and transaction history from your dashboard.",icon:""},{title:"Secure & Trusted",description:"Your investments are protected with bank-level security and 24/7 support.",icon:""}],r=()=>{if(e<s.length-1)n(e+1);else{const o=JSON.parse(localStorage.getItem("saxovault_current_user")||"{}");o.uid&&localStorage.setItem(`saxovault_onboarding_${o.uid}`,"true"),localStorage.setItem("saxovault_onboarding_complete","true"),t()}},a=()=>{const o=JSON.parse(localStorage.getItem("saxovault_current_user")||"{}");o.uid&&localStorage.setItem(`saxovault_onboarding_${o.uid}`,"true"),localStorage.setItem("saxovault_onboarding_complete","true"),t()};return i.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:i.jsxs(U.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl p-6 max-w-md w-full text-center shadow-2xl",children:[i.jsx("div",{className:"flex gap-1 mb-6 justify-center",children:s.map((o,l)=>i.jsx("div",{className:`h-1 rounded-full transition-all ${l<=e?"w-8":"w-4"}`,style:{background:l<=e?w.gold:"#e5e7eb"}},l))}),i.jsx("div",{className:"text-5xl mb-4",children:s[e].icon}),i.jsx("h2",{className:"font-serif text-xl mb-2",style:{color:w.navy},children:s[e].title}),i.jsx("p",{className:"text-gray-500 text-sm mb-6",children:s[e].description}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:a,className:"flex-1 py-3 rounded-xl text-gray-500 text-sm hover:bg-gray-100",children:"Skip"}),i.jsx(U.button,{onClick:r,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 py-3 rounded-xl text-white text-sm font-medium",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:e===s.length-1?"Let's Go!":"Next"})]})]})})}const Ue={hero:"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?w=1920&q=80",realEstate1:"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?w=800&q=80",realEstate2:"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=800&q=80",realEstate3:"https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=800&q=80",crypto1:"https://images.unsplash.com/photo-1518546305927-5a555bb7020d?w=800&q=80",crypto2:"https://images.unsplash.com/photo-1621761191319-c6fb62004040?w=800&q=80",crypto3:"https://images.unsplash.com/photo-1516245834210-c4c142787335?w=800&q=80",stocks1:"https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?w=800&q=80",stocks2:"https://images.unsplash.com/photo-1590283603385-17ffb3a7f29f?w=800&q=80",stocks3:"https://images.unsplash.com/photo-1642790106117-e829e14a795f?w=800&q=80",gold1:"https://images.unsplash.com/photo-1610375461246-83df859d849d?w=800&q=80",gold2:"https://images.unsplash.com/photo-1624365168968-f283d506c6b6?w=800&q=80",plans1:"https://images.unsplash.com/photo-1554224155-6726b3ff858f?w=800&q=80",plans2:"https://images.unsplash.com/photo-1579621970563-ebec7560ff3e?w=800&q=80",plans3:"https://images.unsplash.com/photo-1553729459-efe14ef6055d?w=800&q=80"},oh=[{id:100,name:"Starter Trial",category:"Trial Plan",type:"crypto",min:500,max:500,returns:"5%",term:"5 days",desc:"Experience our platform with a $500 trial investment. Earn 1% daily profit for 5 days. Access your daily profits anytime - withdraw accumulated earnings while your capital works. Principal returned after plan completion. Limited to one trial per account.",progress:98,goal:5e5,img:Ue.crypto1,features:["1% Daily Profit","5-Day Duration","Withdraw Daily Profits","Capital Protected","One Per Account"],investors:24853,rating:5,status:"Active",payoutSchedule:"Daily Access",dailyRate:1,totalDays:5,isTestPlan:!0,onePerUser:!0,allowDailyWithdraw:!0},{id:5,name:"Crypto Starter",category:"Cryptocurrency",type:"crypto",min:1e3,max:14999,returns:"8-12%",term:"30 days",desc:"Begin your crypto journey with our entry-level fund. Diversified portfolio of Bitcoin, Ethereum, and top-performing altcoins managed by our expert trading team. Daily profit tracking available.",progress:94,goal:5e6,img:Ue.crypto1,features:["Daily Profit Access","BTC & ETH Core","Professional Management","Weekly Reports"],investors:12458,rating:4.8,status:"Active",payoutSchedule:"Daily Access",dailyRate:.33,totalDays:30,allowDailyWithdraw:!0},{id:6,name:"Crypto Growth",category:"Cryptocurrency",type:"crypto",min:15e3,max:29999,returns:"12-18%",term:"45 days",desc:"Accelerate your returns with our growth-focused crypto fund. Strategic allocation across top 20 cryptocurrencies with active rebalancing and DeFi yield optimization strategies.",progress:91,goal:1e7,img:Ue.crypto2,features:["Daily Profit Access","Top 20 Cryptos","Active Rebalancing","Bi-Weekly Updates"],investors:6234,rating:4.8,status:"Active",payoutSchedule:"Daily Access",dailyRate:.33,totalDays:45,allowDailyWithdraw:!0},{id:7,name:"Crypto Pro",category:"Cryptocurrency",type:"crypto",min:3e4,max:49999,returns:"18-25%",term:"60 days",desc:"Professional-grade crypto investment with advanced DeFi strategies. Access yield farming, liquidity pools, and arbitrage opportunities. Dedicated support and priority execution included.",progress:87,goal:15e6,img:Ue.crypto3,features:["Daily Profit Access","DeFi Strategies","Yield Farming","Priority Support"],investors:3876,rating:4.9,status:"Active",payoutSchedule:"Daily Access",dailyRate:.35,totalDays:60,allowDailyWithdraw:!0},{id:17,name:"Crypto Elite",category:"Cryptocurrency",type:"crypto",min:5e4,max:99999,returns:"25-35%",term:"90 days",desc:"Elite tier for serious investors. Combines algorithmic trading, market-making strategies, and exclusive pre-listing access. Personal account manager and custom reporting included.",progress:78,goal:25e6,img:Ue.crypto1,features:["Daily Profit Access","Algo Trading","Pre-Listing Access","Personal Manager"],investors:1567,rating:4.9,status:"Active",payoutSchedule:"Daily Access",dailyRate:.33,totalDays:90,allowDailyWithdraw:!0},{id:18,name:"Crypto Premium",category:"Cryptocurrency",type:"crypto",min:1e5,max:249999,returns:"35-48%",term:"120 days",desc:"Premium crypto fund with institutional-grade strategies. OTC deals, venture investments, and maximum yield optimization. White-glove service with 24/7 dedicated support.",progress:68,goal:5e7,img:Ue.crypto2,features:["Daily Profit Access","OTC Deals","Venture Access","24/7 VIP Support"],investors:487,rating:5,status:"Active",payoutSchedule:"Daily Access",dailyRate:.33,totalDays:120,allowDailyWithdraw:!0},{id:19,name:"Crypto Institutional",category:"Cryptocurrency",type:"crypto",min:25e4,returns:"48-65%",term:"180 days",desc:"Institutional-grade crypto portfolio for high-net-worth clients. Bespoke investment strategies, direct trader access, and comprehensive wealth management. Insurance-backed principal protection.",progress:55,goal:1e8,img:Ue.crypto3,features:["Daily Profit Access","Bespoke Strategy","Direct Trader Access","Insurance Backed"],investors:156,rating:5,status:"Active",payoutSchedule:"Daily Access",dailyRate:.3,totalDays:180,allowDailyWithdraw:!0},{id:1,name:"Metro Prime REIT",category:"Real Estate",type:"real-estate",min:25e3,returns:"18-25%",term:"12 months",desc:"Premium commercial real estate portfolio featuring Class-A properties in major metropolitan areas. Stable rental income combined with capital appreciation. Quarterly dividend distributions.",progress:76,goal:25e6,img:Ue.realEstate1,features:["Class-A Properties","Quarterly Dividends","Capital Appreciation","Tax Benefits"],investors:892,rating:4.9,status:"Active",dailyRate:.058,totalDays:365},{id:2,name:"Luxury Residences Fund",category:"Real Estate",type:"real-estate",min:25e3,returns:"22-30%",term:"18 months",desc:"Exclusive luxury residential developments in prime global locations. Benefit from property appreciation and rental yields in high-demand markets. Professional property management included.",progress:65,goal:35e6,img:Ue.realEstate2,features:["Luxury Properties","Prime Locations","High Appreciation","Professional Mgmt"],investors:567,rating:4.8,status:"Active",dailyRate:.048,totalDays:540},{id:3,name:"Commercial Portfolio",category:"Real Estate",type:"real-estate",min:5e4,returns:"28-38%",term:"24 months",desc:"Diversified commercial real estate including office buildings, retail centers, and industrial properties. Long-term leases provide stable, predictable returns with upside potential.",progress:52,goal:75e6,img:Ue.realEstate3,features:["Diversified Assets","Long-Term Leases","Stable Income","Capital Growth"],investors:324,rating:4.7,status:"Funding",dailyRate:.045,totalDays:730},{id:8,name:"Dividend Champions",category:"Stocks & Bonds",type:"stocks",min:5e3,returns:"12-18%",term:"12 months",desc:"Curated portfolio of dividend-paying stocks with proven track records. Focus on companies with 25+ years of consecutive dividend increases. Reliable quarterly income stream.",img:Ue.stocks1,features:["Quarterly Dividends","Blue Chip Quality","25+ Year Track Record","Steady Income"],investors:3456,rating:4.9,status:"Open",dailyRate:.042,totalDays:365},{id:9,name:"Tech Leaders Fund",category:"Stocks & Bonds",type:"stocks",min:5e3,returns:"18-28%",term:"12 months",desc:"Growth-focused portfolio targeting technology sector leaders in AI, cloud computing, semiconductors, and emerging tech. Higher growth potential with active management.",img:Ue.stocks2,features:["AI & Tech Focus","Growth Oriented","Active Management","Monthly Updates"],investors:2134,rating:4.7,status:"Open",dailyRate:.065,totalDays:365},{id:10,name:"Global Bond Fund",category:"Stocks & Bonds",type:"stocks",min:1e4,returns:"8-12%",term:"12 months",desc:"Investment-grade corporate and government bonds from global markets. Capital preservation focus with steady income. Lower volatility suitable for conservative investors.",img:Ue.stocks3,features:["Capital Preservation","Monthly Income","Investment Grade","Low Volatility"],investors:1876,rating:4.9,status:"Open",dailyRate:.028,totalDays:365},{id:11,name:"Gold Reserve Fund",category:"Precious Metals",type:"metals",min:5e3,returns:"10-15%",term:"6 months",desc:"Strategic gold investment combining physical holdings and gold mining equities. Inflation hedge with exposure to precious metals market movements and safe-haven demand.",progress:87,goal:15e6,img:Ue.gold1,features:["Inflation Hedge","Physical + Miners","Safe Haven","Quarterly Reports"],investors:2678,rating:4.8,status:"Active",dailyRate:.07,totalDays:180},{id:12,name:"Precious Metals Mix",category:"Precious Metals",type:"metals",min:1e4,returns:"15-22%",term:"12 months",desc:"Diversified precious metals portfolio including gold, silver, platinum, and palladium. Benefit from industrial demand and safe-haven status across multiple metals markets.",progress:72,goal:2e7,img:Ue.gold2,features:["Multi-Metal Exposure","Industrial Demand","Diversified","Quarterly Payouts"],investors:1534,rating:4.7,status:"Active",dailyRate:.052,totalDays:365},{id:14,name:"Conservative Growth",category:"Balanced",type:"plans",min:2500,returns:"10-15%",term:"6 months",desc:"Balanced allocation across stable assets for steady growth. Perfect for investors seeking consistent returns with minimized risk. Capital protection focus with monthly distributions.",img:Ue.plans1,features:["Capital Protected","Monthly Payouts","Low Volatility","Beginner Friendly"],investors:5678,rating:4.9,status:"Open",dailyRate:.07,totalDays:180},{id:15,name:"Balanced Wealth",category:"Balanced",type:"plans",min:1e4,returns:"18-25%",term:"12 months",desc:"Dynamic portfolio balancing growth and income across multiple asset classes. Quarterly rebalancing optimizes returns while managing risk. Ideal for medium-term wealth building.",img:Ue.plans2,features:["Multi-Asset Mix","Quarterly Rebalance","Growth + Income","Tax Efficient"],investors:3421,rating:4.8,status:"Open",dailyRate:.06,totalDays:365},{id:16,name:"Maximum Growth",category:"Balanced",type:"plans",min:25e3,returns:"28-40%",term:"12 months",desc:"Aggressive growth strategy targeting maximum returns through high-conviction positions in crypto, tech stocks, and emerging opportunities. For experienced investors with higher risk tolerance.",img:Ue.plans3,features:["Max Growth Focus","High Conviction","Active Trading","Weekly Updates"],investors:1234,rating:4.7,status:"Open",dailyRate:.095,totalDays:365}],p6=[{id:"crypto",name:"Cryptocurrency",icon:J2,count:6},{id:"real-estate",name:"Real Estate",icon:Sg,count:3},{id:"stocks",name:"Stocks & Bonds",icon:Q2,count:3},{id:"plans",name:"Portfolios",icon:N4,count:3}];function g6({onLogin:t,setMessage:e,setLoading:n,loading:s}){const[r,a]=R.useState(!1),o=async()=>{a(!0),e({type:"",text:""});try{const l=await a6();l.success?(l.isNewUser&&_e.sendNewUserNotification(l.userData.email,l.userData.name,"Google").catch(console.error),t(l.userData)):e({type:"error",text:l.error})}catch{e({type:"error",text:"Google sign-in failed. Please try again."})}finally{a(!1)}};return i.jsx(U.button,{type:"button",onClick:o,disabled:s||r,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3.5 rounded-xl font-semibold flex items-center justify-center gap-3 border-2 border-gray-200 bg-white hover:bg-gray-50 disabled:opacity-70 transition-all",children:r?i.jsx(_n,{className:"w-5 h-5 animate-spin text-gray-600"}):i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[i.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),i.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),i.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),i.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),i.jsx("span",{style:{color:w.navy},children:"Continue with Google"})]})})}function y6({onLogin:t}){const[e,n]=R.useState("login"),[s,r]=R.useState(!1),[a,o]=R.useState(1),[l,u]=R.useState({name:"",email:"",phone:"",password:"",confirmPassword:"",referralCode:"",country:""}),[d,f]=R.useState(!1),[h,p]=R.useState({}),[v,T]=R.useState({type:"",text:""}),S=[{name:"Afghanistan",code:"+93",flag:""},{name:"Albania",code:"+355",flag:""},{name:"Algeria",code:"+213",flag:""},{name:"Argentina",code:"+54",flag:""},{name:"Australia",code:"+61",flag:""},{name:"Austria",code:"+43",flag:""},{name:"Bangladesh",code:"+880",flag:""},{name:"Belgium",code:"+32",flag:""},{name:"Brazil",code:"+55",flag:""},{name:"Canada",code:"+1",flag:""},{name:"Chile",code:"+56",flag:""},{name:"China",code:"+86",flag:""},{name:"Colombia",code:"+57",flag:""},{name:"Czech Republic",code:"+420",flag:""},{name:"Denmark",code:"+45",flag:""},{name:"Egypt",code:"+20",flag:""},{name:"Ethiopia",code:"+251",flag:""},{name:"Finland",code:"+358",flag:""},{name:"France",code:"+33",flag:""},{name:"Germany",code:"+49",flag:""},{name:"Ghana",code:"+233",flag:""},{name:"Greece",code:"+30",flag:""},{name:"Hong Kong",code:"+852",flag:""},{name:"Hungary",code:"+36",flag:""},{name:"India",code:"+91",flag:""},{name:"Indonesia",code:"+62",flag:""},{name:"Ireland",code:"+353",flag:""},{name:"Israel",code:"+972",flag:""},{name:"Italy",code:"+39",flag:""},{name:"Japan",code:"+81",flag:""},{name:"Kenya",code:"+254",flag:""},{name:"Malaysia",code:"+60",flag:""},{name:"Mexico",code:"+52",flag:""},{name:"Morocco",code:"+212",flag:""},{name:"Nepal",code:"+977",flag:""},{name:"Netherlands",code:"+31",flag:""},{name:"New Zealand",code:"+64",flag:""},{name:"Nigeria",code:"+234",flag:""},{name:"Norway",code:"+47",flag:""},{name:"Pakistan",code:"+92",flag:""},{name:"Peru",code:"+51",flag:""},{name:"Philippines",code:"+63",flag:""},{name:"Poland",code:"+48",flag:""},{name:"Portugal",code:"+351",flag:""},{name:"Romania",code:"+40",flag:""},{name:"Russia",code:"+7",flag:""},{name:"Saudi Arabia",code:"+966",flag:""},{name:"Singapore",code:"+65",flag:""},{name:"South Africa",code:"+27",flag:""},{name:"South Korea",code:"+82",flag:""},{name:"Spain",code:"+34",flag:""},{name:"Sri Lanka",code:"+94",flag:""},{name:"Sweden",code:"+46",flag:""},{name:"Switzerland",code:"+41",flag:""},{name:"Taiwan",code:"+886",flag:""},{name:"Tanzania",code:"+255",flag:""},{name:"Thailand",code:"+66",flag:""},{name:"Turkey",code:"+90",flag:""},{name:"UAE",code:"+971",flag:""},{name:"Uganda",code:"+256",flag:""},{name:"Ukraine",code:"+380",flag:""},{name:"United Kingdom",code:"+44",flag:""},{name:"United States",code:"+1",flag:""},{name:"Vietnam",code:"+84",flag:""},{name:"Zimbabwe",code:"+263",flag:""}],I=S.find(L=>L.name===l.country)||null,[N,y]=R.useState(!1),[b,D]=R.useState(""),[M,z]=R.useState({score:0,checks:{}}),k=L=>{const B={minLength:L.length>=8,hasUppercase:/[A-Z]/.test(L),hasLowercase:/[a-z]/.test(L),hasNumber:/[0-9]/.test(L),hasSymbol:/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(L)};return{score:Object.values(B).filter(Boolean).length,checks:B}};R.useEffect(()=>{e==="register"&&z(k(l.password))},[l.password,e]);const _=L=>L===0?{label:"",color:"#gray"}:L<=2?{label:"Weak",color:"#ef4444"}:L<=3?{label:"Fair",color:"#f59e0b"}:L<=4?{label:"Good",color:"#3b82f6"}:{label:"Strong",color:"#10b981"},E=()=>{const L={};return e==="register"&&(l.name.trim()||(L.name="Full name is required"),l.country||(L.country="Please select your country"),l.password!==l.confirmPassword&&(L.confirmPassword="Passwords do not match"),l.password.length<8?L.password="Password must be at least 8 characters":M.checks.hasUppercase?M.checks.hasLowercase?M.checks.hasNumber?M.checks.hasSymbol||(L.password="Password must include a symbol (!@#$%^&*)"):L.password="Password must include a number":L.password="Password must include a lowercase letter":L.password="Password must include an uppercase letter"),(!l.email.includes("@")||!l.email.includes("."))&&(L.email="Please enter a valid email address"),l.password||(L.password="Password is required"),p(L),Object.keys(L).length===0},[A,P]=R.useState(!1),[V,C]=R.useState(null),Q=async L=>{if(L.preventDefault(),!!E()){if(f(!0),T({type:"",text:""}),e==="register"){const B=await o6(l.email,l.password,{name:l.name,phone:I?`${I.code} ${l.phone}`:l.phone,country:l.country,referralCode:l.referralCode});B.success?(o(2),T({type:"success",text:B.message}),_e.sendNewUserNotification(l.email,l.name,"Email").catch(console.error)):T({type:"error",text:B.error})}else{const B=await i1(l.email,l.password);if(B.success){if(rn.is2FAEnabled(B.userData.uid)){C(B.userData),console.log(" Sending 2FA code to:",B.userData.email),(await rn.send2FACode(B.userData.uid,B.userData.email)).success?console.log(" 2FA code sent successfully"):console.error(" Failed to send 2FA code"),P(!0),f(!1);return}t(B.userData)}else B.needsVerification?(o(2),T({type:"warning",text:B.error})):T({type:"error",text:B.error})}f(!1)}},ae=()=>{P(!1),V&&(t(V),C(null))},me=async L=>{if(L.preventDefault(),!b.includes("@")){T({type:"error",text:"Please enter a valid email address"});return}f(!0);const B=await c6(b);B.success?(T({type:"success",text:B.message}),y(!1),D("")):T({type:"error",text:B.error}),f(!1)},ze=async()=>{f(!0),(await i1(l.email,l.password)).needsVerification&&T({type:"success",text:"Verification email sent! Please check your inbox."}),f(!1)};return a===2?i.jsxs("div",{className:"min-h-screen flex flex-col lg:flex-row",style:{background:w.cream},children:[i.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:[i.jsx("div",{className:"absolute inset-0",children:i.jsx("img",{src:Ue.hero,alt:"",className:"w-full h-full object-cover opacity-20"})}),i.jsxs("div",{className:"relative z-10 flex flex-col justify-center items-center p-16 text-center",children:[i.jsx(U.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring"},className:"mb-8",children:i.jsxs("svg",{viewBox:"0 0 50 55",className:"w-20 h-20 lg:w-24 lg:h-24",children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"authLogoGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#d4a853"}),i.jsx("stop",{offset:"50%",stopColor:"#f4d078"}),i.jsx("stop",{offset:"100%",stopColor:"#d4a853"})]})}),i.jsx("path",{d:"M25 0 L50 8 L50 30 C50 42 38 50 25 55 C12 50 0 42 0 30 L0 8 Z",fill:"rgba(255,255,255,0.15)"}),i.jsx("path",{d:"M25 5 L45 12 L45 29 C45 39 35 46 25 50 C15 46 5 39 5 29 L5 12 Z",fill:"none",stroke:"url(#authLogoGold)",strokeWidth:"2"}),i.jsx("text",{x:"25",y:"36",fontFamily:"Georgia, serif",fontSize:"26",fontWeight:"bold",fill:"url(#authLogoGold)",textAnchor:"middle",children:"S"})]})}),i.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[i.jsx("h1",{className:"font-serif text-4xl lg:text-5xl text-white",children:"SAXO"}),i.jsx("h1",{className:"font-serif text-4xl lg:text-5xl",style:{color:w.gold},children:"VAULT"})]}),i.jsx("p",{className:"text-lg tracking-[0.3em] uppercase text-white/70",children:"Capital"})]})]}),i.jsx("div",{className:"flex-1 flex items-center justify-center p-6 lg:p-16",children:i.jsxs(U.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[i.jsxs("div",{className:"lg:hidden text-center mb-8",children:[i.jsx("div",{className:"w-14 h-14 mx-auto mb-3",children:i.jsxs("svg",{viewBox:"0 0 50 55",className:"w-full h-full",children:[i.jsxs("defs",{children:[i.jsxs("linearGradient",{id:"authMobileGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#d4a853"}),i.jsx("stop",{offset:"50%",stopColor:"#f4d078"}),i.jsx("stop",{offset:"100%",stopColor:"#d4a853"})]}),i.jsxs("linearGradient",{id:"authMobileNavy",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#1a2d4a"}),i.jsx("stop",{offset:"100%",stopColor:"#0a1628"})]})]}),i.jsx("path",{d:"M25 0 L50 8 L50 30 C50 42 38 50 25 55 C12 50 0 42 0 30 L0 8 Z",fill:"url(#authMobileNavy)"}),i.jsx("path",{d:"M25 5 L45 12 L45 29 C45 39 35 46 25 50 C15 46 5 39 5 29 L5 12 Z",fill:"none",stroke:"url(#authMobileGold)",strokeWidth:"1.5"}),i.jsx("text",{x:"25",y:"35",fontFamily:"Georgia, serif",fontSize:"24",fontWeight:"bold",fill:"url(#authMobileGold)",textAnchor:"middle",children:"S"})]})}),i.jsxs("div",{className:"flex items-baseline justify-center gap-1",children:[i.jsx("span",{className:"font-serif text-xl",style:{color:w.navy},children:"SAXO"}),i.jsx("span",{className:"font-serif text-xl",style:{color:w.gold},children:"VAULT"})]})]}),i.jsxs("div",{className:"text-center mb-8",children:[i.jsx(U.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2},className:"w-16 h-16 lg:w-20 lg:h-20 mx-auto rounded-full flex items-center justify-center mb-4",style:{background:`${w.green}15`},children:i.jsx(Qn,{className:"w-8 h-8 lg:w-10 lg:h-10",style:{color:w.green}})}),i.jsx("h2",{className:"font-serif text-2xl lg:text-3xl mb-2",style:{color:w.navy},children:"Check Your Email!"}),i.jsx("p",{className:"text-gray-500 text-sm lg:text-base mb-2",children:"We've sent a verification link to:"}),i.jsx("p",{className:"font-semibold",style:{color:w.navy},children:l.email})]}),i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-6",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(Qn,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-blue-800 text-sm font-medium",children:"Verification Required"}),i.jsx("p",{className:"text-blue-600 text-xs mt-1",children:"Click the link in your email to verify your account. Check your spam folder if you don't see it."})]})]})}),v.text&&i.jsxs(U.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`mb-4 p-3 rounded-xl text-sm flex items-center gap-2 ${v.type==="success"?"bg-green-50 text-green-700 border border-green-200":v.type==="warning"?"bg-yellow-50 text-yellow-700 border border-yellow-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[v.type==="success"?i.jsx(Ze,{className:"w-4 h-4"}):i.jsx(vs,{className:"w-4 h-4"}),v.text]}),i.jsx(U.button,{onClick:ze,disabled:d,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3.5 lg:py-4 rounded-xl font-semibold text-base lg:text-lg flex items-center justify-center gap-3 border-2 mb-4",style:{borderColor:w.navy,color:w.navy},children:d?i.jsx(_n,{className:"w-5 h-5 animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(Qn,{className:"w-5 h-5"})," Resend Verification Email"]})}),i.jsx(U.button,{onClick:()=>{o(1),n("login")},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3.5 lg:py-4 rounded-xl text-white font-semibold text-base lg:text-lg flex items-center justify-center gap-3",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:"Back to Login"}),i.jsx("p",{className:"text-center text-gray-500 text-xs mt-6",children:"Already verified? Go back to login and sign in."})]})})]}):N?i.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",style:{background:w.cream},children:i.jsxs(U.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"w-full max-w-md bg-white rounded-2xl shadow-xl p-6 lg:p-8",children:[i.jsxs("button",{onClick:()=>y(!1),className:"mb-4 flex items-center gap-2 text-gray-500 hover:text-gray-700",children:[i.jsx(Dl,{className:"w-4 h-4"})," Back to Login"]}),i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"w-16 h-16 mx-auto rounded-full flex items-center justify-center mb-4",style:{background:`${w.gold}15`},children:i.jsx(zu,{className:"w-8 h-8",style:{color:w.gold}})}),i.jsx("h2",{className:"font-serif text-2xl mb-2",style:{color:w.navy},children:"Reset Password"}),i.jsx("p",{className:"text-gray-500 text-sm",children:"Enter your email to receive a reset link"})]}),v.text&&i.jsxs(U.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`mb-4 p-3 rounded-xl text-sm flex items-center gap-2 ${v.type==="success"?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:[v.type==="success"?i.jsx(Ze,{className:"w-4 h-4"}):i.jsx(vs,{className:"w-4 h-4"}),v.text]}),i.jsxs("form",{onSubmit:me,children:[i.jsxs("div",{className:"relative mb-4",children:[i.jsx(Qn,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"email",value:b,onChange:L=>D(L.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email"})]}),i.jsx(U.button,{type:"submit",disabled:d,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3.5 rounded-xl text-white font-semibold flex items-center justify-center gap-3",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:d?i.jsx(_n,{className:"w-5 h-5 animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx($o,{className:"w-5 h-5"})," Send Reset Link"]})})]})]})}):i.jsxs(i.Fragment,{children:[i.jsx(lt,{children:A&&V&&i.jsx(U6,{user:V,onVerify:ae,onClose:()=>P(!1),onResend:async()=>(await rn.send2FACode(V.uid,V.email)).success})}),i.jsxs("div",{className:"min-h-screen flex flex-col lg:flex-row",style:{background:w.cream},children:[i.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:[i.jsx("div",{className:"absolute inset-0",children:i.jsx("img",{src:Ue.hero,alt:"",className:"w-full h-full object-cover opacity-20"})}),i.jsxs("div",{className:"relative z-10 flex flex-col justify-center items-center p-16 text-center",children:[i.jsx(U.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",duration:.8},className:"mb-8",children:i.jsxs("svg",{viewBox:"0 0 50 55",className:"w-24 h-24",children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"regLogoGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#d4a853"}),i.jsx("stop",{offset:"50%",stopColor:"#f4d078"}),i.jsx("stop",{offset:"100%",stopColor:"#d4a853"})]})}),i.jsx("path",{d:"M25 0 L50 8 L50 30 C50 42 38 50 25 55 C12 50 0 42 0 30 L0 8 Z",fill:"rgba(255,255,255,0.15)"}),i.jsx("path",{d:"M25 5 L45 12 L45 29 C45 39 35 46 25 50 C15 46 5 39 5 29 L5 12 Z",fill:"none",stroke:"url(#regLogoGold)",strokeWidth:"2"}),i.jsx("text",{x:"25",y:"36",fontFamily:"Georgia, serif",fontSize:"26",fontWeight:"bold",fill:"url(#regLogoGold)",textAnchor:"middle",children:"S"})]})}),i.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[i.jsx("h1",{className:"font-serif text-5xl text-white",children:"SAXO"}),i.jsx("h1",{className:"font-serif text-5xl",style:{color:w.gold},children:"VAULT"})]}),i.jsx("p",{className:"text-lg tracking-[0.3em] uppercase text-white/70",children:"Capital"}),i.jsx("p",{className:"text-white/60 text-lg max-w-md mt-4",children:"Access curated Real Estate, Cryptocurrency, Stocks, and Precious Metals investments."}),i.jsx("div",{className:"mt-12 space-y-4 text-left max-w-sm",children:["Institutional-grade investments","Professional asset management","Refer & earn bonus rewards"].map((L,B)=>i.jsxs(U.div,{initial:{x:-30,opacity:0},animate:{x:0,opacity:1},transition:{delay:.3+B*.1},className:"flex items-center gap-3 text-white/80",children:[i.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{background:`${w.gold}30`},children:i.jsx(sn,{className:"w-4 h-4",style:{color:w.gold}})}),L]},B))})]})]}),i.jsx("div",{className:"flex-1 flex items-center justify-center p-6 lg:p-16",children:i.jsxs(U.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[i.jsxs("div",{className:"lg:hidden text-center mb-8",children:[i.jsx("div",{className:"w-14 h-14 mx-auto mb-3",children:i.jsxs("svg",{viewBox:"0 0 50 55",className:"w-full h-full",children:[i.jsxs("defs",{children:[i.jsxs("linearGradient",{id:"regMobileGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#d4a853"}),i.jsx("stop",{offset:"50%",stopColor:"#f4d078"}),i.jsx("stop",{offset:"100%",stopColor:"#d4a853"})]}),i.jsxs("linearGradient",{id:"regMobileNavy",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#1a2d4a"}),i.jsx("stop",{offset:"100%",stopColor:"#0a1628"})]})]}),i.jsx("path",{d:"M25 0 L50 8 L50 30 C50 42 38 50 25 55 C12 50 0 42 0 30 L0 8 Z",fill:"url(#regMobileNavy)"}),i.jsx("path",{d:"M25 5 L45 12 L45 29 C45 39 35 46 25 50 C15 46 5 39 5 29 L5 12 Z",fill:"none",stroke:"url(#regMobileGold)",strokeWidth:"1.5"}),i.jsx("text",{x:"25",y:"35",fontFamily:"Georgia, serif",fontSize:"24",fontWeight:"bold",fill:"url(#regMobileGold)",textAnchor:"middle",children:"S"})]})}),i.jsxs("div",{className:"flex items-baseline justify-center gap-1",children:[i.jsx("span",{className:"font-serif text-xl",style:{color:w.navy},children:"SAXO"}),i.jsx("span",{className:"font-serif text-xl",style:{color:w.gold},children:"VAULT"})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"font-serif text-2xl lg:text-3xl mb-2",style:{color:w.navy},children:e==="login"?"Welcome Back":"Create Account"}),i.jsx("p",{className:"text-gray-500 text-sm lg:text-base",children:e==="login"?"Sign in to access your investments":"Start your investment journey today"})]}),v.text&&i.jsxs(U.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`mb-4 p-3 rounded-xl text-sm flex items-center gap-2 ${v.type==="success"?"bg-green-50 text-green-700 border border-green-200":v.type==="warning"?"bg-yellow-50 text-yellow-700 border border-yellow-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[v.type==="success"?i.jsx(Ze,{className:"w-4 h-4"}):i.jsx(vs,{className:"w-4 h-4"}),v.text]}),i.jsx("div",{className:"flex mb-6 bg-gray-100 rounded-xl p-1.5",children:["login","register"].map(L=>i.jsx("button",{onClick:()=>{n(L),p({}),T({type:"",text:""})},className:`flex-1 py-2.5 lg:py-3 rounded-lg font-medium text-sm lg:text-base transition-all ${e===L?"bg-white shadow-md":"text-gray-500"}`,style:e===L?{color:w.navy}:{},children:L==="login"?"Sign In":"Register"},L))}),i.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[i.jsx(lt,{mode:"wait",children:e==="register"&&i.jsxs(U.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Full Name"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ll,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",value:l.name,onChange:L=>u({...l,name:L.target.value}),className:`w-full pl-12 pr-4 py-3 border rounded-xl focus:outline-none ${h.name?"border-red-500":"border-gray-200"}`,placeholder:"John Doe"})]}),h.name&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.name})]},"name")}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Email Address"}),i.jsxs("div",{className:"relative",children:[i.jsx(Qn,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"email",value:l.email,onChange:L=>u({...l,email:L.target.value}),className:`w-full pl-12 pr-4 py-3 border rounded-xl focus:outline-none ${h.email?"border-red-500":"border-gray-200"}`,placeholder:"john@example.com"})]}),h.email&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.email})]}),i.jsx(lt,{mode:"wait",children:e==="register"&&i.jsxs(i.Fragment,{children:[i.jsxs(U.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Country"}),i.jsxs("div",{className:"relative",children:[i.jsx(oa,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsxs("select",{value:l.country,onChange:L=>u({...l,country:L.target.value}),className:`w-full pl-12 pr-4 py-3 border rounded-xl focus:outline-none appearance-none bg-white ${h.country?"border-red-500":"border-gray-200"}`,children:[i.jsx("option",{value:"",children:"Select your country"}),S.map(L=>i.jsxs("option",{value:L.name,children:[L.flag," ",L.name," (",L.code,")"]},L.name))]}),i.jsx(X2,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"})]}),h.country&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.country})]},"country"),i.jsxs(U.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Phone Number"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("div",{className:"relative w-24 flex-shrink-0",children:i.jsx("div",{className:"w-full px-3 py-3 border border-gray-200 rounded-xl bg-gray-50 text-sm font-medium flex items-center justify-center gap-1",style:{color:w.navy},children:I?i.jsxs(i.Fragment,{children:[I.flag," ",I.code]}):i.jsx("span",{className:"text-gray-400",children:"Code"})})}),i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Tg,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"tel",value:l.phone,onChange:L=>u({...l,phone:L.target.value.replace(/\D/g,"")}),className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none",placeholder:"Phone number",maxLength:"15"})]})]}),I&&l.phone&&i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Full number: ",I.code," ",l.phone]})]},"phone")]})}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(pr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:s?"text":"password",value:l.password,onChange:L=>u({...l,password:L.target.value}),className:`w-full pl-12 pr-14 py-3 border rounded-xl focus:outline-none ${h.password?"border-red-500":"border-gray-200"}`,placeholder:"Create a strong password"}),i.jsx("button",{type:"button",onClick:()=>r(!s),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400",children:s?i.jsx(Yc,{className:"w-5 h-5"}):i.jsx(Qc,{className:"w-5 h-5"})})]}),h.password&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.password}),e==="register"&&l.password&&i.jsxs("div",{className:"mt-2",children:[i.jsx("div",{className:"flex gap-1 mb-2",children:[1,2,3,4,5].map(L=>i.jsx("div",{className:"h-1.5 flex-1 rounded-full transition-all duration-300",style:{background:M.score>=L?_(M.score).color:"#e5e7eb"}},L))}),i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-xs font-medium",style:{color:_(M.score).color},children:_(M.score).label}),i.jsxs("span",{className:"text-xs text-gray-400",children:[M.score,"/5 requirements met"]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-1 text-xs",children:[i.jsxs("div",{className:`flex items-center gap-1 ${M.checks.minLength?"text-green-600":"text-gray-400"}`,children:[M.checks.minLength?i.jsx(Ze,{className:"w-3 h-3"}):i.jsx("div",{className:"w-3 h-3 rounded-full border border-current"}),i.jsx("span",{children:"8+ characters"})]}),i.jsxs("div",{className:`flex items-center gap-1 ${M.checks.hasUppercase?"text-green-600":"text-gray-400"}`,children:[M.checks.hasUppercase?i.jsx(Ze,{className:"w-3 h-3"}):i.jsx("div",{className:"w-3 h-3 rounded-full border border-current"}),i.jsx("span",{children:"Uppercase (A-Z)"})]}),i.jsxs("div",{className:`flex items-center gap-1 ${M.checks.hasLowercase?"text-green-600":"text-gray-400"}`,children:[M.checks.hasLowercase?i.jsx(Ze,{className:"w-3 h-3"}):i.jsx("div",{className:"w-3 h-3 rounded-full border border-current"}),i.jsx("span",{children:"Lowercase (a-z)"})]}),i.jsxs("div",{className:`flex items-center gap-1 ${M.checks.hasNumber?"text-green-600":"text-gray-400"}`,children:[M.checks.hasNumber?i.jsx(Ze,{className:"w-3 h-3"}):i.jsx("div",{className:"w-3 h-3 rounded-full border border-current"}),i.jsx("span",{children:"Number (0-9)"})]}),i.jsxs("div",{className:`flex items-center gap-1 col-span-2 ${M.checks.hasSymbol?"text-green-600":"text-gray-400"}`,children:[M.checks.hasSymbol?i.jsx(Ze,{className:"w-3 h-3"}):i.jsx("div",{className:"w-3 h-3 rounded-full border border-current"}),i.jsx("span",{children:"Symbol (!@#$%^&*)"})]})]})]})]}),i.jsx(lt,{mode:"wait",children:e==="register"&&i.jsxs(i.Fragment,{children:[i.jsxs(U.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Confirm Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(pr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:s?"text":"password",value:l.confirmPassword,onChange:L=>u({...l,confirmPassword:L.target.value}),className:`w-full pl-12 pr-4 py-3 border rounded-xl focus:outline-none ${h.confirmPassword?"border-red-500":"border-gray-200"}`,placeholder:""})]}),h.confirmPassword&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.confirmPassword})]},"confirm"),i.jsxs(U.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Referral Code (Optional)"}),i.jsxs("div",{className:"relative",children:[i.jsx(Vl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",value:l.referralCode,onChange:L=>u({...l,referralCode:L.target.value}),className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none",placeholder:"Enter referral code"})]})]},"referral")]})}),e==="login"&&i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{type:"button",onClick:()=>y(!0),className:"text-sm font-medium hover:underline",style:{color:w.navy},children:"Forgot Password?"})}),i.jsx(U.button,{type:"submit",disabled:d,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3.5 rounded-xl text-white font-semibold flex items-center justify-center gap-3 shadow-lg disabled:opacity-70",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:d?i.jsx(_n,{className:"w-5 h-5 animate-spin"}):i.jsxs(i.Fragment,{children:[e==="login"?"Sign In":"Create Account"," ",i.jsx(Ng,{className:"w-5 h-5"})]})})]}),i.jsxs("div",{className:"flex items-center gap-4 my-6",children:[i.jsx("div",{className:"flex-1 h-px bg-gray-200"}),i.jsx("span",{className:"text-sm text-gray-400",children:"or continue with"}),i.jsx("div",{className:"flex-1 h-px bg-gray-200"})]}),i.jsx(g6,{onLogin:t,setMessage:T,setLoading:f,loading:d}),i.jsxs("div",{className:"mt-6 flex flex-wrap items-center gap-4 text-sm text-gray-500",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(la,{className:"w-4 h-4",style:{color:w.green}}),i.jsx("span",{children:"Bank-level Security"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(pr,{className:"w-4 h-4",style:{color:w.green}}),i.jsx("span",{children:"256-bit SSL"})]})]})]})})]})]})}function x6({activePage:t,onNavigate:e,user:n,onLogout:s}){const[r,a]=R.useState(!1),[o,l]=R.useState(!1),[u,d]=R.useState(!1),[f,h]=R.useState(!1);R.useEffect(()=>{const T=()=>a(window.scrollY>20);return window.addEventListener("scroll",T),()=>window.removeEventListener("scroll",T)},[]);const p=[{id:"home",label:"Home",icon:sN},{id:"investments",label:"Investments",icon:ci},{id:"dashboard",label:"Dashboard",icon:Eg},{id:"deposit",label:"Deposit",icon:bs,isAction:!0,color:"#10b981"},{id:"withdraw",label:"Withdraw",icon:es,isAction:!0,color:"#f59e0b"},{id:"referral",label:"Referral",icon:Vl},{id:"calculator",label:"Calculator",icon:T4}],v=T=>{T==="deposit"?d(!0):T==="withdraw"?h(!0):e(T),l(!1)};return i.jsxs(i.Fragment,{children:[i.jsx(U.nav,{initial:{y:-100},animate:{y:0},className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${r||t!=="home"?"bg-white/95 backdrop-blur-md shadow-lg":"bg-transparent"}`,children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 lg:px-6 py-3 lg:py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(U.div,{whileHover:{scale:1.02},className:"flex items-center gap-2 lg:gap-3 cursor-pointer",onClick:()=>e("home"),children:[i.jsx("div",{className:"relative w-10 h-10 lg:w-11 lg:h-11",children:i.jsxs("svg",{viewBox:"0 0 50 55",className:"w-full h-full",children:[i.jsxs("defs",{children:[i.jsxs("linearGradient",{id:"logoGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#d4a853"}),i.jsx("stop",{offset:"50%",stopColor:"#f4d078"}),i.jsx("stop",{offset:"100%",stopColor:"#d4a853"})]}),i.jsxs("linearGradient",{id:"logoNavy",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#1a2d4a"}),i.jsx("stop",{offset:"100%",stopColor:"#0a1628"})]})]}),i.jsx("path",{d:"M25 0 L50 8 L50 30 C50 42 38 50 25 55 C12 50 0 42 0 30 L0 8 Z",fill:"url(#logoNavy)"}),i.jsx("path",{d:"M25 5 L45 12 L45 29 C45 39 35 46 25 50 C15 46 5 39 5 29 L5 12 Z",fill:"none",stroke:"url(#logoGold)",strokeWidth:"1.5"}),i.jsx("text",{x:"25",y:"35",fontFamily:"Georgia, serif",fontSize:"24",fontWeight:"bold",fill:"url(#logoGold)",textAnchor:"middle",children:"S"})]})}),i.jsxs("div",{className:"hidden sm:block",children:[i.jsxs("div",{className:"flex items-baseline gap-1",children:[i.jsx("span",{className:"font-serif text-lg lg:text-xl font-semibold",style:{color:r||t!=="home"?w.navy:"white"},children:"SAXO"}),i.jsx("span",{className:"font-serif text-lg lg:text-xl font-semibold",style:{color:w.gold},children:"VAULT"})]}),i.jsx("p",{className:"text-[10px] tracking-[0.2em] uppercase",style:{color:r||t!=="home"?"#6b7280":"rgba(255,255,255,0.7)"},children:"Capital"})]})]}),i.jsx("div",{className:"hidden lg:flex items-center gap-1",children:p.map(T=>i.jsxs(U.button,{onClick:()=>v(T.id),whileHover:{scale:1.05},whileTap:{scale:.98},className:`flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium transition-all ${T.isAction||t===T.id?"text-white shadow-lg":r||t!=="home"?"text-gray-600 hover:bg-gray-100":"text-white/80 hover:text-white hover:bg-white/10"}`,style:T.isAction?{background:T.color}:t===T.id?{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`}:{},children:[i.jsx(T.icon,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:T.label})]},T.id))}),i.jsxs("div",{className:"flex items-center gap-2 lg:gap-3",children:[i.jsxs(U.button,{whileHover:{scale:1.05},whileTap:{scale:.98},onClick:()=>e("notifications"),className:`relative p-2 rounded-xl transition-all ${r||t!=="home"?"hover:bg-gray-100":"hover:bg-white/10"}`,children:[i.jsx(ws,{className:`w-5 h-5 ${r||t!=="home"?"text-gray-600":"text-white"}`}),(()=>{const S=(JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}")[n.uid]||[]).filter(I=>!I.read).length;return S>0?i.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center text-xs text-white font-bold",children:S>9?"9+":S}):null})()]}),i.jsxs(U.button,{whileHover:{scale:1.05},whileTap:{scale:.98},onClick:()=>e("profile"),className:"flex items-center gap-2 px-2 lg:px-4 py-2 rounded-xl transition-all",children:[i.jsx("div",{className:"w-8 h-8 lg:w-9 lg:h-9 rounded-full flex items-center justify-center text-sm font-bold text-white overflow-hidden",style:{background:`linear-gradient(135deg, ${w.gold} 0%, ${w.goldDark} 100%)`},children:n.profileImage?i.jsx("img",{src:n.profileImage,alt:"",className:"w-full h-full object-cover"}):n.name.charAt(0)}),i.jsx("span",{className:`text-sm font-medium hidden md:block ${r||t!=="home"?"text-gray-700":"text-white"}`,children:n.name.split(" ")[0]})]}),i.jsx("button",{onClick:s,className:"hidden lg:flex p-2.5 rounded-xl text-red-500 hover:bg-red-50 transition-all",children:i.jsx(_a,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>l(!o),className:"lg:hidden p-2 rounded-xl",style:{color:r||t!=="home"?w.navy:"white"},children:i.jsx(A4,{className:"w-6 h-6"})})]})]})})}),i.jsx(lt,{children:o&&i.jsxs(i.Fragment,{children:[i.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>l(!1),className:"fixed inset-0 bg-black/50 z-50 lg:hidden"}),i.jsx(U.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"tween"},className:"fixed top-0 right-0 bottom-0 w-72 bg-white z-50 shadow-2xl lg:hidden",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-9 h-9",children:i.jsxs("svg",{viewBox:"0 0 50 55",className:"w-full h-full",children:[i.jsxs("defs",{children:[i.jsxs("linearGradient",{id:"mobileLogoGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#d4a853"}),i.jsx("stop",{offset:"50%",stopColor:"#f4d078"}),i.jsx("stop",{offset:"100%",stopColor:"#d4a853"})]}),i.jsxs("linearGradient",{id:"mobileLogoNavy",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#1a2d4a"}),i.jsx("stop",{offset:"100%",stopColor:"#0a1628"})]})]}),i.jsx("path",{d:"M25 0 L50 8 L50 30 C50 42 38 50 25 55 C12 50 0 42 0 30 L0 8 Z",fill:"url(#mobileLogoNavy)"}),i.jsx("path",{d:"M25 5 L45 12 L45 29 C45 39 35 46 25 50 C15 46 5 39 5 29 L5 12 Z",fill:"none",stroke:"url(#mobileLogoGold)",strokeWidth:"1.5"}),i.jsx("text",{x:"25",y:"35",fontFamily:"Georgia, serif",fontSize:"24",fontWeight:"bold",fill:"url(#mobileLogoGold)",textAnchor:"middle",children:"S"})]})}),i.jsxs("div",{children:[i.jsx("span",{className:"font-serif text-sm",style:{color:w.navy},children:"SAXO"}),i.jsx("span",{className:"font-serif text-sm",style:{color:w.gold},children:"VAULT"})]})]}),i.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:i.jsx(Ot,{className:"w-5 h-5"})})]}),i.jsx("div",{className:"space-y-2",children:p.map(T=>i.jsxs("button",{onClick:()=>v(T.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all ${T.isAction||t===T.id?"text-white":"text-gray-600 hover:bg-gray-100"}`,style:T.isAction?{background:T.color}:t===T.id?{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`}:{},children:[i.jsx(T.icon,{className:"w-5 h-5"}),T.label]},T.id))}),i.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-100 space-y-2",children:[i.jsxs("button",{onClick:()=>{e("profile"),l(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-600 hover:bg-gray-100",children:[i.jsx(Jc,{className:"w-5 h-5"})," Profile & Settings"]}),i.jsxs("button",{onClick:s,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-red-500 hover:bg-red-50",children:[i.jsx(_a,{className:"w-5 h-5"})," Logout"]})]})]})})]})}),i.jsxs(lt,{children:[u&&i.jsx(GT,{onClose:()=>d(!1)}),f&&i.jsx(KT,{onClose:()=>h(!1),balance:n.balance})]})]})}function v6({activePage:t,onNavigate:e}){const n=[{id:"home",label:"Home",icon:sN},{id:"investments",label:"Invest",icon:ci},{id:"dashboard",label:"Portfolio",icon:Eg},{id:"referral",label:"Referral",icon:Vl},{id:"profile",label:"Profile",icon:Ll}];return i.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-40 lg:hidden",children:i.jsx("div",{className:"flex items-center justify-around py-2",children:n.map(s=>i.jsxs("button",{onClick:()=>e(s.id),className:`flex flex-col items-center gap-1 px-3 py-2 rounded-xl transition-all ${t===s.id?"text-white":"text-gray-500"}`,style:t===s.id?{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`}:{},children:[i.jsx(s.icon,{className:"w-5 h-5"}),i.jsx("span",{className:"text-xs font-medium",children:s.label})]},s.id))})})}const w6=R.createContext();function b6({children:t}){const[e,n]=R.useState([]),s=(u,d="info",f=4e3)=>{const h=Date.now();n(p=>[...p,{id:h,message:u,type:d}]),setTimeout(()=>{n(p=>p.filter(v=>v.id!==h))},f)},r=u=>s(u,"success"),a=u=>s(u,"error"),o=u=>s(u,"warning"),l=u=>s(u,"info");return i.jsxs(w6.Provider,{value:{showSuccess:r,showError:a,showWarning:o,showInfo:l},children:[t,i.jsx(_6,{toasts:e})]})}function _6({toasts:t}){return i.jsx("div",{className:"fixed top-4 right-4 z-[9999] space-y-2 pointer-events-none",children:i.jsx(lt,{children:t.map(e=>i.jsxs(U.div,{initial:{opacity:0,x:100,scale:.9},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:100,scale:.9},className:`pointer-events-auto flex items-center gap-3 px-4 py-3 rounded-xl shadow-2xl backdrop-blur-sm ${e.type==="success"?"bg-green-500 text-white":e.type==="error"?"bg-red-500 text-white":e.type==="warning"?"bg-yellow-500 text-white":"bg-blue-500 text-white"}`,children:[e.type==="success"&&i.jsx(Ze,{className:"w-5 h-5"}),e.type==="error"&&i.jsx(Ot,{className:"w-5 h-5"}),e.type==="warning"&&i.jsx(vs,{className:"w-5 h-5"}),e.type==="info"&&i.jsx(ws,{className:"w-5 h-5"}),i.jsx("span",{className:"text-sm font-medium",children:e.message})]},e.id))})})}function N6(t,e,n=30){const s=R.useRef(null),r=R.useRef(null),[a,o]=R.useState(!1),[l,u]=R.useState(60),d=()=>{if(s.current&&clearTimeout(s.current),r.current&&clearTimeout(r.current),o(!1),!t)return;const h=(n-1)*60*1e3;r.current=setTimeout(()=>{o(!0),u(60);const p=setInterval(()=>{u(v=>v<=1?(clearInterval(p),0):v-1)},1e3);s.current=setTimeout(()=>{clearInterval(p),o(!1),e()},6e4)},h)};return R.useEffect(()=>{if(!t)return;const h=["mousedown","mousemove","keypress","scroll","touchstart","click"],p=()=>{d()};return h.forEach(v=>{document.addEventListener(v,p,{passive:!0})}),d(),()=>{s.current&&clearTimeout(s.current),r.current&&clearTimeout(r.current),h.forEach(v=>{document.removeEventListener(v,p)})}},[t]),{showWarning:a,countdown:l,extendSession:()=>{o(!1),d()}}}function S6({countdown:t,onExtend:e,onLogout:n}){return i.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[9998] flex items-center justify-center p-4",children:i.jsxs(U.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},className:"bg-white rounded-2xl shadow-2xl p-6 max-w-sm w-full text-center",children:[i.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-yellow-100 flex items-center justify-center",children:i.jsx(yi,{className:"w-8 h-8 text-yellow-600"})}),i.jsx("h3",{className:"font-serif text-xl mb-2",style:{color:w.navy},children:"Session Expiring"}),i.jsxs("p",{className:"text-gray-600 text-sm mb-4",children:["Your session will expire in ",i.jsx("span",{className:"font-bold text-red-500",children:t})," seconds due to inactivity."]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(U.button,{onClick:n,whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl border border-gray-200 text-gray-700 text-sm font-medium",children:"Logout"}),i.jsx(U.button,{onClick:e,whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl text-white text-sm font-medium",style:{background:w.green},children:"Stay Logged In"})]})]})})}function T6(){const[t,e]=R.useState(!1),[n,s]=R.useState("options"),[r,a]=R.useState({name:"",email:"",category:"",priority:"medium",subject:"",message:""}),[o,l]=R.useState(!1),[u,d]=R.useState(""),[f,h]=R.useState(!1);R.useEffect(()=>{(()=>{window.$zoho=window.$zoho||{},window.$zoho.salesiq=window.$zoho.salesiq||{ready:function(){}}})()},[]);const p=()=>{window.$zoho&&window.$zoho.salesiq&&window.$zoho.salesiq.floatbutton?(window.$zoho.salesiq.floatbutton.visible("show"),window.$zoho.salesiq.chat.start()):alert(` Live Chat

Our live chat service is being configured.
Please use Email or WhatsApp for immediate support.`),e(!1)},v=async S=>{S.preventDefault(),h(!0);const I="TKT-"+Math.random().toString(36).substr(2,9).toUpperCase(),N=JSON.parse(localStorage.getItem("saxovault_tickets")||"[]"),y={id:I,name:r.name,email:r.email,category:r.category,priority:r.priority,subject:r.subject,message:r.message,status:"open",createdAt:new Date().toISOString()};N.unshift(y),localStorage.setItem("saxovault_tickets",JSON.stringify(N)),J.addNotification({type:"ticket",message:`New ticket from ${r.name}: ${r.subject}`,ticketId:I});try{const b=mt.adminEmail||"saxovault6@gmail.com",D=`New Support Ticket Received

Ticket ID: ${I}
From: ${r.name}
Email: ${r.email}
Category: ${r.category}
Priority: ${r.priority.toUpperCase()}
Subject: ${r.subject}

Message:
${r.message}

---
Please respond to this ticket in the Admin Dashboard.
SaxoVault Capital`;await _e.sendEmail(b,` New Support Ticket: ${r.subject}`,D,"ticket"),console.log(" Ticket notification sent to admin")}catch(b){console.error(" Failed to send ticket notification:",b)}d(I),l(!0),h(!1),setTimeout(()=>{l(!1),a({name:"",email:"",category:"",priority:"medium",subject:"",message:""}),s("options")},5e3)},T=[{id:"livechat",label:"Live Chat",desc:"Chat with an agent now",icon:rN,color:"#00a884",action:p},{id:"whatsapp",label:"WhatsApp",desc:"Message us on WhatsApp",icon:Tg,color:"#25D366",action:()=>window.open("https://wa.me/1234567890","_blank")},{id:"email",label:"Email Support",desc:"support@saxovault.com",icon:Qn,color:"#EA4335",action:()=>window.location.href="mailto:support@saxovault.com"},{id:"ticket",label:"Submit Ticket",desc:"Create a support ticket",icon:oN,color:w.navy,action:()=>s("ticket")}];return i.jsxs(i.Fragment,{children:[i.jsx(U.button,{onClick:()=>e(!t),whileHover:{scale:1.1},whileTap:{scale:.9},className:"fixed bottom-28 lg:bottom-8 right-4 lg:right-8 w-14 h-14 rounded-full shadow-2xl flex items-center justify-center text-white z-40",style:{background:`linear-gradient(135deg, ${w.green} 0%, ${w.greenDark} 100%)`},children:i.jsx(lt,{mode:"wait",children:t?i.jsx(U.div,{initial:{rotate:-90},animate:{rotate:0},children:i.jsx(Ot,{className:"w-6 h-6"})},"x"):i.jsx(U.div,{initial:{rotate:90},animate:{rotate:0},children:i.jsx(Rm,{className:"w-6 h-6"})},"msg")})}),i.jsx(lt,{children:t&&i.jsxs(i.Fragment,{children:[i.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/30 z-40 lg:hidden",onClick:()=>e(!1)}),i.jsxs(U.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},className:"fixed bottom-44 lg:bottom-24 right-4 lg:right-8 w-80 max-w-[calc(100vw-2rem)] bg-white rounded-2xl shadow-2xl overflow-hidden z-50",children:[i.jsx("div",{className:"p-4 text-white",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{background:"rgba(255,255,255,0.2)"},children:i.jsx(Rm,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-sm",children:"Support Center"}),i.jsx("p",{className:"text-xs text-white/70",children:"We're here to help 24/7"})]})]}),i.jsx("button",{onClick:()=>e(!1),className:"p-1 hover:bg-white/10 rounded-full",children:i.jsx(Ot,{className:"w-5 h-5"})})]})}),i.jsxs("div",{className:"p-4 max-h-96 overflow-y-auto",children:[n==="options"&&i.jsxs("div",{className:"space-y-2",children:[T.map(S=>i.jsxs(U.button,{onClick:S.action,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full flex items-center gap-3 p-3 rounded-xl hover:bg-gray-50 transition-colors border border-gray-100",children:[i.jsx("div",{className:"w-11 h-11 rounded-xl flex items-center justify-center",style:{background:`${S.color}15`},children:i.jsx(S.icon,{className:"w-5 h-5",style:{color:S.color}})}),i.jsxs("div",{className:"flex-1 text-left",children:[i.jsx("span",{className:"font-medium text-sm block",style:{color:w.navy},children:S.label}),i.jsx("span",{className:"text-xs text-gray-500",children:S.desc})]}),i.jsx(Z2,{className:"w-4 h-4 text-gray-400"})]},S.id)),i.jsx("div",{className:"pt-3 border-t border-gray-100 mt-3",children:i.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-gray-500",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),i.jsx("span",{children:"Agents online  Avg response: 5 mins"})]})})]}),n==="ticket"&&!o&&i.jsxs("form",{onSubmit:v,className:"space-y-3",children:[i.jsxs("button",{type:"button",onClick:()=>s("options"),className:"text-sm text-gray-500 flex items-center gap-1 mb-2",children:[i.jsx(Dl,{className:"w-4 h-4"})," Back"]}),i.jsx("input",{type:"text",placeholder:"Your Name",required:!0,value:r.name,onChange:S=>a({...r,name:S.target.value}),className:"w-full px-3 py-2.5 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),i.jsx("input",{type:"email",placeholder:"Email Address",required:!0,value:r.email,onChange:S=>a({...r,email:S.target.value}),className:"w-full px-3 py-2.5 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),i.jsxs("select",{value:r.category,onChange:S=>a({...r,category:S.target.value}),required:!0,className:"w-full px-3 py-2.5 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"Select Category"}),i.jsx("option",{value:"account",children:"Account"}),i.jsx("option",{value:"deposit",children:"Deposit"}),i.jsx("option",{value:"withdrawal",children:"Withdrawal"}),i.jsx("option",{value:"investment",children:"Investment"}),i.jsx("option",{value:"kyc",children:"KYC"}),i.jsx("option",{value:"other",children:"Other"})]}),i.jsx("input",{type:"text",placeholder:"Subject",required:!0,value:r.subject,onChange:S=>a({...r,subject:S.target.value}),className:"w-full px-3 py-2.5 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),i.jsx("textarea",{placeholder:"Describe your issue...",required:!0,value:r.message,onChange:S=>a({...r,message:S.target.value}),className:"w-full px-3 py-2.5 border border-gray-200 rounded-lg text-sm resize-none focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3}),i.jsx(U.button,{type:"submit",disabled:f,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-2.5 rounded-lg text-white text-sm font-medium flex items-center justify-center gap-2",style:{background:w.navy},children:f?i.jsx(_n,{className:"w-4 h-4 animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx($o,{className:"w-4 h-4"})," Submit Ticket"]})})]}),o&&i.jsxs("div",{className:"text-center py-6",children:[i.jsx(Ze,{className:"w-12 h-12 text-green-500 mx-auto mb-3"}),i.jsx("h4",{className:"font-semibold mb-1",style:{color:w.navy},children:"Ticket Submitted!"}),i.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Your ticket ID:"}),i.jsx("p",{className:"font-mono text-lg font-bold",style:{color:w.gold},children:u}),i.jsx("p",{className:"text-xs text-gray-400 mt-3",children:"We'll respond within 24 hours"})]})]})]})]})})]})}function E6({onViewDocument:t}){const[e,n]=R.useState(!1),s=[{title:"White Paper",desc:"Investment philosophy, technology infrastructure, and growth roadmap",icon:Bu,pages:"42 pages",color:w.gold},{title:"Terms of Service",desc:"Platform usage terms, account management, and service agreements",icon:la,pages:"28 pages",color:"#3b82f6"},{title:"Privacy Policy",desc:"Data collection, protection, GDPR & CCPA compliance procedures",icon:pr,pages:"18 pages",color:"#10b981"},{title:"Risk Disclosure",desc:"Investment risks, market volatility, and important warnings",icon:ws,pages:"24 pages",color:"#ef4444"},{title:"AML/KYC Policy",desc:"Anti-Money Laundering and identity verification procedures",icon:Tr,pages:"16 pages",color:"#8b5cf6"},{title:"Investment Guide",desc:"Portfolio strategies, asset allocation, and payout structures",icon:L4,pages:"32 pages",color:"#f59e0b"},{title:"Fee Schedule",desc:"Complete breakdown of all fees, charges, and commissions",icon:Pm,pages:"8 pages",color:"#06b6d4"},{title:"FAQ & Support",desc:"Frequently asked questions and comprehensive support guide",icon:Rm,pages:"36 pages",color:"#ec4899"}];return i.jsxs(U.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"bg-white/5 backdrop-blur-md rounded-2xl lg:rounded-3xl border border-white/10 overflow-hidden",children:[i.jsxs(U.button,{onClick:()=>n(!e),className:"w-full p-5 lg:p-6 flex items-center justify-between hover:bg-white/5 transition-all",whileTap:{scale:.99},children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(U.div,{animate:{rotateY:e?180:0},transition:{duration:.3},className:"w-14 h-14 lg:w-16 lg:h-16 rounded-2xl flex items-center justify-center",style:{background:`linear-gradient(135deg, ${w.gold}40 0%, ${w.gold}20 100%)`},children:i.jsx(Bu,{className:"w-7 h-7 lg:w-8 lg:h-8",style:{color:w.gold}})}),i.jsxs("div",{className:"text-left",children:[i.jsx("h3",{className:"font-serif text-lg lg:text-xl text-white mb-1",children:"Legal Documents & Policies"}),i.jsxs("p",{className:"text-white/50 text-sm",children:[s.length," documents available"]})]})]}),i.jsx(U.div,{animate:{rotate:e?180:0},transition:{duration:.3},className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center",children:i.jsx(X2,{className:"w-5 h-5 text-white/70"})})]}),i.jsx(lt,{children:e&&i.jsx(U.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},children:i.jsxs("div",{className:"px-4 lg:px-6 pb-5 lg:pb-6",children:[i.jsx("div",{className:"h-px bg-white/10 mb-4"}),i.jsx("div",{className:"space-y-2",children:s.map((r,a)=>i.jsxs(U.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:a*.05},onClick:()=>t(r.title),className:"w-full flex items-center gap-4 p-3 lg:p-4 rounded-xl hover:bg-white/10 transition-all group text-left",children:[i.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 rounded-xl flex items-center justify-center flex-shrink-0",style:{background:`${r.color}20`},children:i.jsx(r.icon,{className:"w-5 h-5 lg:w-6 lg:h-6",style:{color:r.color}})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[i.jsx("h4",{className:"font-medium text-white group-hover:text-yellow-400 transition-colors text-sm lg:text-base",children:r.title}),i.jsx("span",{className:"px-2 py-0.5 rounded-full bg-white/10 text-white/50 text-xs hidden sm:inline",children:"PDF"})]}),i.jsx("p",{className:"text-white/40 text-xs lg:text-sm truncate",children:r.desc})]}),i.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[i.jsx("span",{className:"text-white/30 text-xs hidden sm:inline",children:r.pages}),i.jsx("div",{className:"w-8 h-8 rounded-full bg-white/5 flex items-center justify-center group-hover:bg-white/10 transition-all",children:i.jsx(Ng,{className:"w-4 h-4 text-white/50 group-hover:text-yellow-400 transition-colors"})})]})]},a))}),i.jsx("div",{className:"mt-4 pt-4 border-t border-white/10",children:i.jsx("p",{className:"text-white/40 text-xs text-center",children:"All documents are available for viewing. Click any document to read the full content."})})]})})})]})}function j6({onNavigate:t,onSelectInvestment:e}){const[n,s]=R.useState(null);JSON.parse(localStorage.getItem("saxovault_investments")||"null");const r=a=>{s(a)};return i.jsxs("div",{className:"min-h-screen",style:{background:w.cream},children:[i.jsx(lt,{children:n&&i.jsx(V6,{document:n,onClose:()=>s(null)})}),i.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[i.jsxs("div",{className:"absolute inset-0",children:[i.jsx("img",{src:Ue.hero,alt:"",className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute inset-0",style:{background:`linear-gradient(135deg, ${w.navy}ee 0%, ${w.navyLight}dd 50%, ${w.navy}ee 100%)`}})]}),i.jsx("div",{className:"relative z-10 max-w-6xl mx-auto px-4 lg:px-6 text-center pt-24 lg:pt-20",children:i.jsxs(U.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[i.jsxs("div",{className:"inline-flex items-center gap-2 px-4 lg:px-6 py-2 lg:py-3 rounded-full bg-white/10 backdrop-blur-md border border-white/20 mb-6 lg:mb-8",children:[i.jsx(tN,{className:"w-4 h-4 lg:w-5 lg:h-5",style:{color:w.gold}}),i.jsx("span",{style:{color:w.gold},className:"text-xs lg:text-sm tracking-wide",children:"Institutional-Grade Investment Platform"})]}),i.jsxs("h1",{className:"font-serif text-4xl sm:text-5xl lg:text-7xl text-white mb-4 lg:mb-6 leading-tight",children:["Your Gateway to",i.jsx("br",{}),i.jsx("span",{style:{color:w.gold},children:"Diversified Investments"})]}),i.jsx("p",{className:"text-base lg:text-xl text-white/80 mb-3 lg:mb-4 max-w-3xl mx-auto px-4",children:"Access curated Real Estate, Cryptocurrency, Stock & Bond Portfolios, and Precious Metals."}),i.jsx("p",{className:"text-white/60 mb-8 lg:mb-12 text-sm lg:text-base",children:"All with clear targets, defined timelines, and professional management."}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 lg:gap-4 justify-center px-4",children:[i.jsxs(U.button,{onClick:()=>t("investments"),whileHover:{scale:1.05},whileTap:{scale:.98},className:"px-8 lg:px-10 py-3.5 lg:py-4 rounded-xl text-white font-semibold text-base lg:text-lg shadow-2xl flex items-center justify-center gap-3",style:{background:`linear-gradient(135deg, ${w.gold} 0%, ${w.goldDark} 100%)`},children:["Explore Opportunities ",i.jsx(Ng,{className:"w-5 h-5"})]}),i.jsxs(U.button,{onClick:()=>t("referral"),whileHover:{scale:1.05},whileTap:{scale:.98},className:"px-8 lg:px-10 py-3.5 lg:py-4 rounded-xl font-semibold text-base lg:text-lg border-2 border-white/30 text-white hover:bg-white/10 flex items-center justify-center gap-3",children:[i.jsx(Vl,{className:"w-5 h-5"})," Referral Program"]})]})]})})]}),i.jsx("section",{className:"py-16 lg:py-20 px-4 lg:px-6",style:{background:w.cream},children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-12 lg:mb-16",children:[i.jsx("h2",{className:"font-serif text-3xl lg:text-4xl mb-3 lg:mb-4",style:{color:w.navy},children:"Investment Verticals"}),i.jsx("p",{className:"text-gray-600 text-sm lg:text-base",children:"Four distinct pathways to building wealth."})]}),i.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:[{title:"Real Estate",desc:"Development funding & income properties",icon:Sg,color:"#3b82f6",img:Ue.realEstate1},{title:"Cryptocurrency",desc:"Managed crypto portfolios",icon:J2,color:"#f59e0b",img:Ue.crypto1},{title:"Stocks & Bonds",desc:"Curated market portfolios",icon:Q2,color:"#10b981",img:Ue.stocks1},{title:"Precious Metals",desc:"Gold, silver & platinum",icon:k4,color:"#D4AF37",img:Ue.gold1}].map((a,o)=>i.jsxs(U.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:o*.1},whileHover:{y:-5},onClick:()=>t("investments"),className:"group cursor-pointer bg-white rounded-xl lg:rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all",children:[i.jsxs("div",{className:"relative h-28 lg:h-48 overflow-hidden",children:[i.jsx("img",{src:a.img,alt:a.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),i.jsx("div",{className:"absolute inset-0",style:{background:`linear-gradient(to top, ${a.color}cc, transparent)`}}),i.jsx("div",{className:"absolute top-2 lg:top-4 left-2 lg:left-4 w-8 h-8 lg:w-12 lg:h-12 rounded-lg lg:rounded-xl bg-white/20 backdrop-blur flex items-center justify-center",children:i.jsx(a.icon,{className:"w-4 h-4 lg:w-6 lg:h-6 text-white"})})]}),i.jsxs("div",{className:"p-3 lg:p-6",children:[i.jsx("h3",{className:"font-serif text-sm lg:text-xl mb-1 lg:mb-2",style:{color:w.navy},children:a.title}),i.jsx("p",{className:"text-gray-600 text-xs lg:text-sm hidden sm:block",children:a.desc})]})]},o))})]})}),i.jsx("section",{className:"py-16 lg:py-20 px-4 lg:px-6",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-8 lg:mb-10",children:[i.jsxs(U.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/10 backdrop-blur mb-4",children:[i.jsx(Bu,{className:"w-4 h-4",style:{color:w.gold}}),i.jsx("span",{style:{color:w.gold},className:"text-sm",children:"Legal & Compliance"})]}),i.jsx("h2",{className:"font-serif text-3xl lg:text-4xl text-white mb-3",children:"Required Documents"}),i.jsx("p",{className:"text-white/60 max-w-2xl mx-auto text-sm lg:text-base",children:"Transparency is at the core of our operations. Review our comprehensive documentation below."})]}),i.jsx(E6,{onViewDocument:r})]})}),i.jsx("footer",{className:"py-8 lg:py-12 px-4 lg:px-6",style:{background:w.navy},children:i.jsx("div",{className:"max-w-7xl mx-auto",children:i.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8",children:i.jsxs("svg",{viewBox:"0 0 50 55",className:"w-full h-full",children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"footerGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#d4a853"}),i.jsx("stop",{offset:"50%",stopColor:"#f4d078"}),i.jsx("stop",{offset:"100%",stopColor:"#d4a853"})]})}),i.jsx("path",{d:"M25 0 L50 8 L50 30 C50 42 38 50 25 55 C12 50 0 42 0 30 L0 8 Z",fill:"rgba(255,255,255,0.1)"}),i.jsx("path",{d:"M25 5 L45 12 L45 29 C45 39 35 46 25 50 C15 46 5 39 5 29 L5 12 Z",fill:"none",stroke:"url(#footerGold)",strokeWidth:"1.5"}),i.jsx("text",{x:"25",y:"35",fontFamily:"Georgia, serif",fontSize:"24",fontWeight:"bold",fill:"url(#footerGold)",textAnchor:"middle",children:"S"})]})}),i.jsxs("div",{className:"flex items-baseline gap-1",children:[i.jsx("span",{className:"font-serif text-white text-sm lg:text-base",children:"SAXO"}),i.jsx("span",{className:"font-serif text-sm lg:text-base",style:{color:w.gold},children:"VAULT"})]})]}),i.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 lg:gap-6 text-white/60 text-xs lg:text-sm",children:[i.jsx("span",{children:" 2024 SaxoVault Capital"}),i.jsx("span",{children:"Privacy Policy"}),i.jsx("span",{children:"Terms of Service"})]})]})})})]})}function k6({onSelectInvestment:t}){const[e,n]=R.useState("crypto"),[s,r]=R.useState(""),[a,o]=R.useState("grid"),u=(JSON.parse(localStorage.getItem("saxovault_investments")||"null")||oh).filter(d=>d.type===e&&d.name.toLowerCase().includes(s.toLowerCase()));return i.jsx("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:w.cream},children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-6",children:[i.jsxs("div",{className:"mb-6 lg:mb-8",children:[i.jsx("h1",{className:"font-serif text-2xl lg:text-3xl mb-1",style:{color:w.navy},children:"Investment Opportunities"}),i.jsx("p",{className:"text-gray-500 text-sm",children:"Explore our curated selection across multiple asset classes."})]}),i.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-6",children:i.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Tv,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",value:s,onChange:d=>r(d.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Search investments..."})]}),i.jsx("div",{className:"flex gap-2 overflow-x-auto",children:p6.map(d=>i.jsxs("button",{onClick:()=>n(d.id),className:`flex items-center gap-1.5 px-3 py-2 rounded-lg whitespace-nowrap text-sm transition-all ${e===d.id?"text-white shadow":"bg-gray-50 text-gray-600 hover:bg-gray-100"}`,style:e===d.id?{background:w.navy}:{},children:[i.jsx(d.icon,{className:"w-4 h-4"}),d.name]},d.id))})]})}),i.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:[u.length," investments found"]}),i.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6",children:u.map((d,f)=>{var h,p;return i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:f*.03},onClick:()=>t(d),className:"bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-xl transition-all cursor-pointer border border-gray-100 group",children:[i.jsxs("div",{className:"relative h-44 lg:h-48",children:[i.jsx("img",{src:d.img||d.customImg,alt:d.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent"}),i.jsx("div",{className:"absolute top-3 right-3",children:i.jsx("span",{className:"px-2.5 py-1 rounded-full text-xs font-medium text-white backdrop-blur-sm",style:{background:d.status==="Active"?"rgba(16,185,129,0.9)":d.status==="Open"?"rgba(10,22,40,0.9)":"rgba(212,175,55,0.9)"},children:d.status})}),i.jsxs("div",{className:"absolute bottom-3 left-4 right-4",children:[i.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide mb-1",children:d.category}),i.jsx("h3",{className:"font-serif text-white text-xl leading-tight",children:d.name})]})]}),i.jsxs("div",{className:"p-5",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b border-gray-100",children:[i.jsxs("div",{className:"text-center flex-1",children:[i.jsx("p",{className:"text-base font-bold",style:{color:w.green},children:d.returns}),i.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:"Returns"})]}),i.jsx("div",{className:"w-px h-10 bg-gray-100"}),i.jsxs("div",{className:"text-center flex-1",children:[i.jsx("p",{className:"text-base font-bold",style:{color:w.navy},children:d.min>=1e3?`$${(d.min/1e3).toFixed(d.min%1e3===0?0:1)}K`:`$${d.min}`}),i.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:"Minimum"})]}),i.jsx("div",{className:"w-px h-10 bg-gray-100"}),i.jsxs("div",{className:"text-center flex-1",children:[i.jsx("p",{className:"text-base font-bold",style:{color:w.gold},children:((h=d.term)==null?void 0:h.split(" ")[0])||"12"}),i.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:(p=d.term)!=null&&p.includes("day")?"Days":"Months"})]})]}),i.jsx("p",{className:"text-sm text-gray-500 mb-4 line-clamp-2",children:d.desc||"Premium investment opportunity with professional management and strong projected returns."}),d.progress!==void 0&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex justify-between text-xs mb-1.5",children:[i.jsxs("span",{className:"text-gray-600 font-medium",children:[d.progress,"% funded"]}),i.jsxs("span",{className:"text-gray-400",children:["$",(d.progress/100*(d.goal||1e6)/1e3).toFixed(0),"K raised"]})]}),i.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:i.jsx(U.div,{initial:{width:0},animate:{width:`${d.progress}%`},transition:{duration:1,delay:f*.1},className:"h-full rounded-full",style:{background:`linear-gradient(90deg, ${w.green}, ${w.gold})`}})})]}),i.jsxs("button",{className:"w-full py-3 rounded-xl text-sm font-semibold text-white transition-all hover:shadow-lg group-hover:scale-[1.02]",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:["View Details",i.jsx(Z2,{className:"w-4 h-4 inline ml-1"})]})]})]},d.id)})}),u.length===0&&i.jsxs("div",{className:"text-center py-16",children:[i.jsx(Tv,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500",children:"No investments found matching your criteria."})]})]})})}function I6({investment:t,onClose:e,onInvest:n}){var s,r,a;return t?i.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-white z-50 overflow-y-auto",children:[i.jsx("div",{className:"sticky top-0 bg-white/95 backdrop-blur-sm border-b border-gray-100 z-10",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-3 flex items-center justify-between",children:[i.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[i.jsx(Dl,{className:"w-5 h-5"})," Back"]}),i.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium text-white",style:{background:t.status==="Active"?w.green:w.gold},children:t.status})]})}),i.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[i.jsxs("div",{className:"relative h-48 lg:h-64 rounded-2xl overflow-hidden mb-6",children:[i.jsx("img",{src:t.img||t.customImg,alt:t.name,className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"}),i.jsxs("div",{className:"absolute bottom-4 left-4",children:[i.jsx("span",{className:"px-2 py-1 rounded bg-white/20 backdrop-blur text-white text-xs mb-2 inline-block",children:t.category}),i.jsx("h1",{className:"font-serif text-2xl lg:text-3xl text-white",children:t.name})]})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[i.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 text-center",children:[i.jsx("p",{className:"text-xl lg:text-2xl font-bold",style:{color:w.green},children:t.returns}),i.jsx("p",{className:"text-xs text-gray-500",children:"Returns"})]}),i.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 text-center",children:[i.jsx("p",{className:"text-xl lg:text-2xl font-bold",style:{color:w.navy},children:t.min>=1e3?`$${t.min/1e3}K`:`$${t.min}`}),i.jsx("p",{className:"text-xs text-gray-500",children:"Min"})]}),i.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 text-center",children:[i.jsx("p",{className:"text-xl lg:text-2xl font-bold",style:{color:w.gold},children:((s=t.term)==null?void 0:s.split(" ")[0])||"12"}),i.jsx("p",{className:"text-xs text-gray-500",children:(r=t.term)!=null&&r.includes("month")?"Months":"Term"})]}),i.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 text-center",children:[i.jsx("p",{className:"text-xl lg:text-2xl font-bold text-gray-700",children:t.investors||"50+"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Investors"})]})]}),t.progress!==void 0&&i.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-6",children:[i.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[i.jsx("span",{className:"font-medium",style:{color:w.navy},children:"Funding Progress"}),i.jsxs("span",{className:"font-bold",children:[t.progress,"%"]})]}),i.jsx("div",{className:"h-3 bg-gray-200 rounded-full overflow-hidden mb-2",children:i.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${t.progress}%`,background:`linear-gradient(90deg, ${w.green}, ${w.gold})`}})}),i.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[i.jsxs("span",{children:["$",(t.progress/100*(t.goal||1e6)).toLocaleString()," raised"]}),i.jsxs("span",{children:["Goal: $",(t.goal||1e6).toLocaleString()]})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"font-semibold text-lg mb-2",style:{color:w.navy},children:"About This Investment"}),i.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:t.desc||"A premium investment opportunity with strong projected returns and professional management. This carefully vetted opportunity offers investors exposure to a high-growth sector with risk-managed strategies."})]}),t.features&&t.features.length>0&&i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"font-semibold text-lg mb-3",style:{color:w.navy},children:"Key Features"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:t.features.map((o,l)=>i.jsxs("div",{className:"flex items-center gap-2 p-2.5 bg-gray-50 rounded-lg",children:[i.jsx(sn,{className:"w-4 h-4 text-green-600 flex-shrink-0"}),i.jsx("span",{className:"text-sm text-gray-700",children:o})]},l))})]}),i.jsx("div",{className:"mb-6",children:i.jsx(qT,{})}),i.jsxs("div",{className:"sticky bottom-0 bg-white pt-4 pb-6 -mx-4 px-4 border-t border-gray-100 lg:relative lg:border-0 lg:pt-0 lg:pb-0 lg:mx-0 lg:px-0",children:[i.jsxs(U.button,{onClick:n,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-4 rounded-xl text-white font-semibold text-lg shadow-xl",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:["Invest Now - Min $",(a=t.min)==null?void 0:a.toLocaleString()]}),i.jsx("p",{className:"text-center text-xs text-gray-400 mt-2",children:"Secure  Instant Confirmation  24/7 Support"})]})]})]}):null}function C6({investment:t,onClose:e,balance:n}){const[s,r]=R.useState(1),[a,o]=R.useState(t.min),[l,u]=R.useState("BTC"),[d,f]=R.useState(1800),[h,p]=R.useState(!1),[v,T]=R.useState(!1),[S,I]=R.useState(!1),N=JSON.parse(localStorage.getItem("saxovault_current_user")||"{}"),y=N.balance||n||0,b=()=>t.min>y?`Insufficient balance. You have $${y.toLocaleString()} available. Minimum investment is $${t.min.toLocaleString()}. Please deposit funds first.`:"",[D,M]=R.useState(b);R.useEffect(()=>{parseFloat(a)>y?M(`Insufficient balance. You have $${y.toLocaleString()} available. Please deposit funds first.`):parseFloat(a)<t.min?M(`Minimum investment for ${t.name} is $${t.min.toLocaleString()}`):M("")},[a,y,t.min,t.name]),R.useEffect(()=>{if(t.isTestPlan&&t.onePerUser){const L=JSON.parse(localStorage.getItem(`investments_${N.uid}`)||"[]"),B=J.getTransactions().filter(ne=>ne.userId===N.uid),Z=L.some(ne=>ne.investmentId===100||ne.investmentName==="Test Plan")||B.some(ne=>ne.investmentId===100||ne.investmentName==="Test Plan");T(Z)}},[t,N.uid]);const k=JSON.parse(localStorage.getItem("saxovault_settings")||"{}").wallets||{BTC:"bc1qzmgg6hw0fttfpczh2whp8f44k497d6pucghk58",ETH:"0x83057882eC7B7EE0cBe63C2fE2b8957e7ab69655",USDT:"TLGH9FucAuPNUoQw2XUFEDtCg4FFdJ2jKG"},_=[{id:"BTC",name:"Bitcoin",icon:"",color:"#f7931a"},{id:"ETH",name:"Ethereum",icon:"",color:"#627eea"},{id:"USDT",name:"USDT (TRC-20)",icon:"",color:"#26a17b"}],A=(()=>{if(t.dailyRate&&t.totalDays)return t.dailyRate/100*t.totalDays;const B=(t.returns||"12%").match(/(\d+)/);return B?parseFloat(B[1])/100:.12})(),P=t.dailyRate?a*t.dailyRate/100:a*A/(t.totalDays||30),V=a*A,C=a+V;R.useEffect(()=>{if(s===2&&d>0){const L=setInterval(()=>f(B=>B-1),1e3);return()=>clearInterval(L)}},[s,d]);const Q=L=>{const B=Math.floor(L/60),Z=L%60;return`${B.toString().padStart(2,"0")}:${Z.toString().padStart(2,"0")}`},ae=L=>{navigator.clipboard.writeText(L),p(!0),setTimeout(()=>p(!1),2e3)},me=()=>{const L=k[l],B=parseFloat(a),Z=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),ne=/iPhone|iPad|iPod/i.test(navigator.userAgent);navigator.clipboard.writeText(L).then(()=>{console.log(" Address copied to clipboard")}).catch(je=>{console.error("Could not copy address:",je)});let G=l,pe="";if(l==="BTC"?(G="Bitcoin",pe="Open your Bitcoin wallet (Coinbase, Trust Wallet, Cash App, etc.)"):l==="ETH"?(G="Ethereum",pe="Open your Ethereum wallet (MetaMask, Trust Wallet, Coinbase, etc.)"):l==="USDT"&&(G="USDT TRC-20",pe="Open your USDT wallet (Trust Wallet, TronLink, Binance, etc.)"),ne){alert(` Send ${G}

 Address copied to clipboard!

Steps:
1. ${pe}
2. Tap "Send" or "Transfer"
3. Paste the address (long-press  Paste)
4. Enter amount: $${B.toLocaleString()} USD
5. Confirm and send

Address:
${L.substring(0,25)}...`);return}if(Z&&!ne){let je=null;if(l==="BTC"){const Me=(B/95e3).toFixed(8);je=`bitcoin:${L}?amount=${Me}`}else if(l==="ETH"){const Me=(B/3500).toFixed(8);je=`ethereum:${L}?value=${Me}`}else l==="USDT"&&(je=`trust://send?asset=trc20_TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t&address=${L}&amount=${B}`);je&&(window.location.href=je,setTimeout(()=>{alert(`If your wallet didn't open:

 Address copied to clipboard!

1. ${pe}
2. Tap "Send"
3. Paste the address
4. Amount: $${B.toLocaleString()} USD

Address: ${L.substring(0,20)}...`)},2e3));return}alert(` Send ${G}

 Address copied to clipboard!

Steps:
1. ${pe}
2. Click "Send"
3. Paste the address (Ctrl+V / Cmd+V)
4. Enter amount: $${B.toLocaleString()} USD
5. Confirm and send

Address:
${L}`)},ze=async()=>{var L;console.log(" Starting investment submission..."),I(!0);try{const B=JSON.parse(localStorage.getItem("saxovault_current_user")||"{}");if(!B.email||!B.uid){alert("Please login to continue"),I(!1);return}const Z=B.balance||0,ne=parseFloat(a);if(ne>Z){alert(` Insufficient Balance

You cannot invest more than your available balance.

Your balance: $${Z.toLocaleString()}
Investment amount: $${ne.toLocaleString()}

Please deposit funds first.`),I(!1);return}if(ne<t.min){alert(` Below Minimum Investment

Minimum investment for ${t.name} is $${t.min.toLocaleString()}.`),I(!1);return}const G=(L=t.term)==null?void 0:L.match(/(\d+)/);let pe=t.totalDays||30;if(G){const Se=parseInt(G[1]);t.term.includes("month")?pe=Se*30:t.term.includes("day")?pe=Se:t.term.includes("year")&&(pe=Se*365)}const je=new Date;je.setDate(je.getDate()+pe);const Me={type:"investment",investmentId:t.id,investmentName:t.name,category:t.category,amount:parseFloat(a),crypto:l,walletAddress:k[l],returnRate:(A*100).toFixed(1)+"%",dailyRate:t.dailyRate||A*100/pe,dailyProfit:parseFloat(P.toFixed(2)),expectedReturn:parseFloat(V.toFixed(2)),totalReturn:parseFloat(C.toFixed(2)),term:t.term,totalDays:pe,maturityDate:je.toISOString(),userEmail:B.email,userId:B.uid,userName:B.name||"User",isTestPlan:t.isTestPlan||!1,payoutSchedule:t.payoutSchedule||"End of Term",approvalDate:null,countdownStarted:!1};console.log(" Investment data:",Me);const O=await J.addTransaction(Me);console.log(" Investment saved to storage:",O);const ce=JSON.parse(localStorage.getItem(`investments_${B.uid}`)||"[]");ce.push({...Me,id:O.id,firestoreId:O.firestoreId,status:"pending",createdAt:new Date().toISOString()}),localStorage.setItem(`investments_${B.uid}`,JSON.stringify(ce)),console.log(" Sending email notifications..."),_e.sendInvestmentNotification(B.email,t.name,a,t.term).then(Se=>{console.log(" Investment email sent:",Se)}).catch(Se=>{console.error(" Investment email failed:",Se)}),J.logActivity(B.uid,"investment_request",{investment:t.name,amount:a,crypto:l,expectedReturn:V,dailyProfit:P}),console.log(" Investment submission complete!"),I(!1),r(3)}catch(B){console.error(" Investment submission error:",B),alert("Error submitting investment. Please try again. Error: "+B.message),I(!1)}};return i.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-end lg:items-center justify-center p-0 lg:p-4",onClick:e,children:i.jsx(U.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"tween"},className:"bg-white rounded-t-3xl lg:rounded-3xl w-full lg:max-w-lg shadow-2xl max-h-[90vh] overflow-y-auto",onClick:L=>L.stopPropagation(),children:i.jsxs("div",{className:"p-5 lg:p-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl",style:{color:w.navy},children:s===1?"Investment Amount":s===2?"Make Payment":" Pending Approval"}),i.jsx("p",{className:"text-sm text-gray-500",children:t.name})]}),i.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:i.jsx(Ot,{className:"w-5 h-5"})})]}),s===1&&i.jsxs("div",{children:[t.isTestPlan&&v&&i.jsxs("div",{className:"mb-4 p-4 rounded-xl bg-red-50 border border-red-200",children:[i.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[i.jsx(vs,{className:"w-5 h-5"}),i.jsx("span",{className:"font-medium",children:"One Per Account"})]}),i.jsx("p",{className:"text-red-600 text-sm mt-1",children:"You have already invested in the Test Plan. This plan is limited to one investment per account."})]}),t.isTestPlan&&!v&&i.jsxs("div",{className:"mb-4 p-4 rounded-xl bg-green-50 border border-green-200",children:[i.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[i.jsx(Ze,{className:"w-5 h-5"}),i.jsx("span",{className:"font-medium",children:"Test Plan - Perfect for Beginners!"})]}),i.jsx("p",{className:"text-green-600 text-sm mt-1",children:"Earn 1% daily for 5 days. Fixed $500 investment. One per account."})]}),i.jsx("label",{className:"block font-medium text-gray-700 mb-2 text-sm",children:"Investment Amount (USD)"}),i.jsxs("div",{className:"relative mb-4",children:[i.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-2xl font-bold text-gray-400",children:"$"}),i.jsx("input",{type:"number",value:t.isTestPlan?t.min:a,onChange:L=>!t.isTestPlan&&o(Math.max(t.min,Math.min(t.max||1e6,+L.target.value))),className:"w-full pl-12 pr-4 py-4 text-2xl font-bold border-2 rounded-xl text-center focus:outline-none",style:{borderColor:w.gold},readOnly:t.isTestPlan})]}),i.jsx("p",{className:"text-xs text-gray-500 mb-4",children:t.isTestPlan?"Fixed amount: $500":`Minimum: $${t.min.toLocaleString()}`}),!t.isTestPlan&&i.jsx("div",{className:"flex gap-2 mb-6",children:[1,2,5,10].map(L=>{const B=t.min*L,Z=B>=1e3?`$${B/1e3}K`:`$${B}`;return i.jsx("button",{onClick:()=>o(B),className:`flex-1 py-2.5 rounded-xl text-sm font-medium border-2 transition-all ${a===B?"text-white":"border-gray-200"}`,style:a===B?{background:w.navy,borderColor:w.navy}:{},children:Z},L)})}),i.jsx("label",{className:"block font-medium text-gray-700 mb-2 text-sm",children:"Select Cryptocurrency"}),i.jsx("div",{className:"space-y-2 mb-6",children:_.map(L=>i.jsxs("button",{onClick:()=>u(L.id),className:`w-full flex items-center gap-3 p-4 rounded-xl border-2 transition-all ${l===L.id?"shadow-lg":"border-gray-200"}`,style:l===L.id?{borderColor:L.color,background:`${L.color}10`}:{},children:[i.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center text-white text-xl font-bold",style:{background:L.color},children:L.icon}),i.jsx("div",{className:"text-left flex-1",children:i.jsx("p",{className:"font-semibold",style:{color:w.navy},children:L.name})}),l===L.id&&i.jsx(Ze,{className:"w-5 h-5",style:{color:L.color}})]},L.id))}),i.jsxs("div",{className:"p-4 rounded-2xl mb-4",style:{background:`${w.green}10`},children:[t.dailyRate&&i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-gray-600 text-sm",children:"Daily Profit"}),i.jsxs("span",{className:"font-bold",style:{color:w.green},children:[t.dailyRate,"% ($",P.toLocaleString(void 0,{maximumFractionDigits:2}),"/day)"]})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-gray-600 text-sm",children:"Duration"}),i.jsx("span",{className:"font-bold",style:{color:w.navy},children:t.term})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-gray-600 text-sm",children:"Total Profit"}),i.jsxs("span",{className:"font-bold",style:{color:w.green},children:["+$",V.toLocaleString(void 0,{maximumFractionDigits:2})]})]}),i.jsxs("div",{className:"flex justify-between border-t border-green-200 pt-2 mt-2",children:[i.jsx("span",{className:"text-gray-600 text-sm",children:"Total Payout"}),i.jsxs("span",{className:"font-bold text-lg",style:{color:w.navy},children:["$",(a+V).toLocaleString(void 0,{maximumFractionDigits:2})]})]})]}),i.jsx(qT,{}),D&&i.jsx("div",{className:"mt-4 p-4 rounded-xl bg-red-50 border border-red-200",children:i.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[i.jsx(vs,{className:"w-5 h-5"}),i.jsx("span",{className:"font-medium text-sm",children:D})]})}),i.jsxs("div",{className:"mt-4 p-3 rounded-xl bg-gray-50 flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Your Available Balance:"}),i.jsxs("span",{className:"font-bold",style:{color:y>=a?w.green:"#ef4444"},children:["$",y.toLocaleString()]})]}),i.jsx(U.button,{onClick:()=>{if(D){alert(D);return}r(2)},whileHover:{scale:D?1:1.02},whileTap:{scale:D?1:.98},disabled:t.isTestPlan&&v||!!D,className:"w-full py-4 rounded-xl text-white font-semibold mt-4 disabled:opacity-50 disabled:cursor-not-allowed",style:{background:D?"#9ca3af":`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:t.isTestPlan&&v?"Already Invested in Test Plan":D?"Insufficient Balance":"Continue to Payment"})]}),s===2&&i.jsxs("div",{children:[i.jsxs("div",{className:"text-center mb-6 p-4 rounded-2xl",style:{background:d<300?"#fef2f2":`${w.gold}10`},children:[i.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Payment expires in"}),i.jsxs("p",{className:`text-3xl font-mono font-bold ${d<300?"text-red-500":""}`,style:{color:d>=300?w.navy:void 0},children:[i.jsx(lN,{className:"w-6 h-6 inline mr-2"}),Q(d)]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4 mb-4",children:[i.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Amount to invest"}),i.jsxs("p",{className:"text-2xl font-bold",style:{color:w.navy},children:["$",a.toLocaleString()," USD"]}),i.jsxs("p",{className:"text-sm text-gray-500",children:["Pay equivalent in ",l]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["Send ",l," to this address:"]}),i.jsxs("div",{className:"bg-gray-900 rounded-xl p-4",children:[i.jsxs("p",{className:"text-xs text-gray-400 mb-2 text-center",children:[l," Wallet Address"]}),i.jsx("p",{className:"font-mono text-sm text-white break-all text-center mb-3",children:k[l]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(U.button,{onClick:()=>ae(k[l]),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 py-2.5 rounded-lg text-sm font-medium flex items-center justify-center gap-2",style:{background:h?w.green:w.gold,color:"white"},children:h?i.jsxs(i.Fragment,{children:[i.jsx(Ze,{className:"w-4 h-4"})," Copied!"]}):i.jsxs(i.Fragment,{children:[i.jsx($u,{className:"w-4 h-4"})," Copy Address"]})}),i.jsxs(U.button,{onClick:me,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 py-2.5 rounded-lg text-sm font-medium flex items-center justify-center gap-2 bg-blue-500 text-white",children:[i.jsx(j4,{className:"w-4 h-4"})," Open Wallet"]})]})]})]}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:"w-32 h-32 bg-gray-100 rounded-xl flex items-center justify-center",children:i.jsx(D4,{className:"w-16 h-16 text-gray-400"})})}),i.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-3 mb-4",children:i.jsxs("p",{className:"text-xs text-yellow-800",children:[" Only send ",l," to this address. Sending any other cryptocurrency may result in permanent loss."]})}),i.jsx(U.button,{onClick:ze,whileHover:{scale:S?1:1.02},whileTap:{scale:S?1:.98},disabled:S,className:"w-full py-4 rounded-xl text-white font-semibold flex items-center justify-center gap-2 disabled:opacity-70",style:{background:`linear-gradient(135deg, ${w.green} 0%, ${w.greenDark} 100%)`},children:S?i.jsxs(i.Fragment,{children:[i.jsx(_n,{className:"w-5 h-5 animate-spin"}),"Processing..."]}):"I've Made the Payment"})]}),s===3&&i.jsxs("div",{className:"text-center py-6",children:[i.jsx(U.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring"},className:"w-20 h-20 mx-auto rounded-full flex items-center justify-center mb-4",style:{background:`${w.gold}20`},children:i.jsx(yi,{className:"w-10 h-10",style:{color:w.gold}})}),i.jsx("h3",{className:"font-serif text-xl mb-2",style:{color:w.navy},children:"Investment Pending"}),i.jsxs("p",{className:"text-gray-500 text-sm mb-6",children:["Your investment of ",i.jsxs("strong",{children:["$",a.toLocaleString()]})," in ",i.jsx("strong",{children:t.name})," is being reviewed."]}),i.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4 text-left space-y-3 mb-6",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-500",children:"Status"}),i.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 rounded-full text-xs font-medium",children:" Pending Approval"})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-500",children:"Amount"}),i.jsxs("span",{className:"font-bold",children:["$",a.toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-500",children:"Payment Method"}),i.jsx("span",{className:"font-bold",children:l})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-500",children:"Expected Return"}),i.jsxs("span",{className:"font-bold",style:{color:w.green},children:["+$",V.toLocaleString(void 0,{maximumFractionDigits:0})]})]})]}),i.jsx("p",{className:"text-xs text-gray-400 mb-4",children:"You will be notified once your investment is approved. This usually takes 1-24 hours."}),i.jsx(U.button,{onClick:e,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-4 rounded-xl text-white font-semibold",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:"Done"})]})]})})})}function A6({user:t,onNavigate:e}){const[n,s]=R.useState(!1),[r,a]=R.useState(!1),[o,l]=R.useState(!1),[u,d]=R.useState([]),[f,h]=R.useState(t);R.useEffect(()=>{const y=async()=>{try{const D=await J.fetchTransactionsFromCloud();d(D);const z=(await J.fetchUsersFromCloud()).find(k=>k.uid===t.uid);z&&(h(z),localStorage.setItem(`user_${t.uid}`,JSON.stringify(z)),localStorage.setItem("saxovault_current_user",JSON.stringify(z)))}catch{console.log("Using cached data"),d(J.getTransactions())}};y();const b=setInterval(y,3e4);return()=>clearInterval(b)},[t.uid]),JSON.parse(localStorage.getItem("saxovault_investments")||"null");const p=u.filter(y=>y.userId===t.uid&&y.type==="investment"&&(y.status==="approved"||y.status==="completed")),v=p.length>0?p.map(y=>{let b=.1;y.returnRate&&(typeof y.returnRate=="string"?b=parseFloat(y.returnRate)/100:y.returnRate<1?b=y.returnRate:b=y.returnRate/100);let D=0,M=0,z=!1,k=0;if(y.countdownStarted&&y.maturityDate){const _=new Date,E=new Date(y.maturityDate),A=y.approvalDate?new Date(y.approvalDate):_,P=E-A,V=E-_;V>0?(z=!0,D=Math.floor(V/(1e3*60*60*24)),M=Math.floor(V%(1e3*60*60*24)/(1e3*60*60)),k=Math.round((P-V)/P*100)):k=100}return{id:y.id,name:y.investmentName||"Investment",type:y.category||y.investmentType||"Mixed",invested:y.amount||0,current:(y.amount||0)+(y.expectedReturn||y.amount*b),returns:b*100,expectedReturn:y.expectedReturn||y.amount*b,dailyProfit:y.dailyProfit||y.amount*(y.dailyRate||1)/100,dailyRate:y.dailyRate||0,term:y.term,totalDays:y.totalDays,maturityDate:y.maturityDate,approvalDate:y.approvalDate,countdownActive:z,daysRemaining:D,hoursRemaining:M,progressPercent:k,status:y.status,color:"#3b82f6"}}):[],T=v.reduce((y,b)=>y+b.invested,0),S=v.reduce((y,b)=>y+b.current,0),I=S-T,N=f.balance||0;return i.jsxs("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:w.cream},children:[i.jsxs("div",{className:"max-w-6xl mx-auto px-4 lg:px-6",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsxs("div",{children:[i.jsx("h1",{className:"font-serif text-xl lg:text-2xl",style:{color:w.navy},children:"Dashboard"}),i.jsxs("p",{className:"text-gray-500 text-sm",children:["Welcome back, ",f.name||"Investor"]})]})}),i.jsx(U.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"rounded-2xl p-5 lg:p-6 mb-6 text-white",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-white/60 text-sm mb-1",children:"Available Balance"}),i.jsxs("p",{className:"text-3xl lg:text-4xl font-bold",children:["$",N.toLocaleString()]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(U.button,{onClick:()=>s(!0),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-xl text-sm font-medium",style:{background:w.green,color:"white"},children:[i.jsx(bs,{className:"w-4 h-4 inline mr-1"})," Deposit"]}),i.jsxs(U.button,{onClick:()=>a(!0),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-xl text-sm font-medium bg-white/20 text-white",children:[i.jsx(es,{className:"w-4 h-4 inline mr-1"})," Withdraw"]})]})]})}),i.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[i.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[i.jsx("p",{className:"text-gray-500 text-xs mb-1",children:"Portfolio"}),i.jsxs("p",{className:"text-lg font-bold",style:{color:w.navy},children:["$",S.toLocaleString()]})]}),i.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[i.jsx("p",{className:"text-gray-500 text-xs mb-1",children:"Invested"}),i.jsxs("p",{className:"text-lg font-bold",style:{color:w.gold},children:["$",T.toLocaleString()]})]}),i.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[i.jsx("p",{className:"text-gray-500 text-xs mb-1",children:"Returns"}),i.jsxs("p",{className:"text-lg font-bold",style:{color:w.green},children:[I>=0?"+":"","$",I.toLocaleString()]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden mb-6",children:[i.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[i.jsx("h2",{className:"font-medium",style:{color:w.navy},children:"My Investments"}),i.jsx("button",{onClick:()=>e("investments"),className:"text-sm",style:{color:w.gold},children:"View All"})]}),v.length>0?i.jsx("div",{className:"divide-y divide-gray-50",children:v.map((y,b)=>{var D,M;return i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{background:`${y.color}15`},children:i.jsx(ci,{className:"w-5 h-5",style:{color:y.color}})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:y.name}),i.jsxs("p",{className:"text-xs text-gray-400",children:[y.type,"  ",y.term]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"font-bold text-sm",style:{color:w.navy},children:["$",y.current.toLocaleString(void 0,{maximumFractionDigits:2})]}),i.jsxs("p",{className:"text-xs text-green-600",children:["+$",(D=y.expectedReturn)==null?void 0:D.toLocaleString(void 0,{maximumFractionDigits:2})]})]})]}),y.countdownActive?i.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(lN,{className:"w-4 h-4 text-blue-600"}),i.jsx("span",{className:"text-xs font-medium text-blue-600",children:"Time Remaining"})]}),i.jsxs("span",{className:"text-sm font-bold",style:{color:w.navy},children:[y.daysRemaining,"d ",y.hoursRemaining,"h"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"h-2 rounded-full transition-all duration-500",style:{width:`${y.progressPercent}%`,background:`linear-gradient(90deg, ${w.green} 0%, ${w.gold} 100%)`}})}),i.jsxs("div",{className:"flex justify-between mt-1",children:[i.jsxs("span",{className:"text-xs text-gray-500",children:[y.progressPercent,"% complete"]}),y.dailyRate>0&&i.jsxs("span",{className:"text-xs text-green-600",children:["+$",(M=y.dailyProfit)==null?void 0:M.toFixed(2),"/day"]})]})]}):y.status==="pending"?i.jsxs("div",{className:"bg-yellow-50 rounded-lg p-3 flex items-center gap-2",children:[i.jsx(yi,{className:"w-4 h-4 text-yellow-600"}),i.jsx("span",{className:"text-xs text-yellow-700",children:"Awaiting approval - countdown starts after approval"})]}):y.progressPercent>=100?i.jsxs("div",{className:"bg-green-50 rounded-lg p-3 flex items-center gap-2",children:[i.jsx(Ze,{className:"w-4 h-4 text-green-600"}),i.jsx("span",{className:"text-xs text-green-700",children:"Completed! Payout ready"})]}):null]},b)})}):i.jsxs("div",{className:"p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mx-auto mb-4",children:i.jsx(ci,{className:"w-8 h-8 text-gray-400"})}),i.jsx("p",{className:"text-gray-500 font-medium mb-2",children:"No investments yet"}),i.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Start your investment journey today"}),i.jsx(U.button,{onClick:()=>e("investments"),whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-6 py-2 rounded-lg text-white text-sm font-medium",style:{background:w.gold},children:"Browse Investments"})]})]}),i.jsx("div",{className:"grid grid-cols-4 gap-3",children:[{icon:ci,label:"Invest",color:w.navy,action:()=>e("investments")},{icon:Wu,label:"Auto-Invest",color:"#f59e0b",action:()=>l(!0)},{icon:nN,label:"History",color:"#8b5cf6",action:()=>e("history")},{icon:Ll,label:"Profile",color:w.green,action:()=>e("profile")}].map((y,b)=>i.jsxs(U.button,{onClick:y.action,whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-white rounded-xl p-4 shadow-sm flex flex-col items-center gap-2",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{background:`${y.color}15`},children:i.jsx(y.icon,{className:"w-5 h-5",style:{color:y.color}})}),i.jsx("span",{className:"text-xs font-medium text-gray-600",children:y.label})]},b))})]}),i.jsxs(lt,{children:[n&&i.jsx(GT,{onClose:()=>s(!1)}),r&&i.jsx(KT,{onClose:()=>a(!1),balance:N}),o&&i.jsx(F6,{onClose:()=>l(!1),user:t})]})]})}function P6({user:t}){const[e,n]=R.useState("all"),[s,r]=R.useState("all"),a=J.getTransactions().filter(p=>p.userId===(t==null?void 0:t.uid)||p.userEmail===(t==null?void 0:t.email)),o=JSON.parse(localStorage.getItem("saxovault_pending_investments")||"[]").filter(p=>p.userEmail===(t==null?void 0:t.email)),u=[...a.map(p=>({...p,category:p.type})),...o.map(p=>({id:p.id,type:"investment",category:"investment",amount:p.amount,status:p.status,name:p.investmentName,crypto:p.crypto,createdAt:p.createdAt}))].sort((p,v)=>new Date(v.createdAt)-new Date(p.createdAt)).filter(p=>e==="all"||p.category===e),d=p=>{switch(p){case"completed":case"approved":return"bg-green-100 text-green-700";case"pending":return"bg-yellow-100 text-yellow-700";case"rejected":case"failed":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},f=p=>{switch(p){case"deposit":return i.jsx(bs,{className:"w-5 h-5 text-green-600"});case"withdrawal":return i.jsx(es,{className:"w-5 h-5 text-orange-600"});case"investment":return i.jsx(ci,{className:"w-5 h-5 text-blue-600"});default:return i.jsx(eN,{className:"w-5 h-5 text-gray-600"})}},h=()=>{const p=[["Date","Type","Amount","Status","Details"].join(","),...u.map(I=>[new Date(I.createdAt).toLocaleDateString(),I.type,I.amount,I.status,I.name||I.crypto||""].join(","))].join(`
`),v=new Blob([p],{type:"text/csv"}),T=URL.createObjectURL(v),S=document.createElement("a");S.href=T,S.download=`saxovault_transactions_${new Date().toISOString().split("T")[0]}.csv`,S.click()};return i.jsx("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:w.cream},children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4 lg:px-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"font-serif text-xl lg:text-2xl",style:{color:w.navy},children:"Transaction History"}),i.jsxs("p",{className:"text-gray-500 text-sm",children:[u.length," transactions"]})]}),i.jsxs(U.button,{onClick:h,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-medium",style:{background:w.navy,color:"white"},children:[i.jsx(E4,{className:"w-4 h-4"})," Export"]})]}),i.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm mb-6",children:i.jsx("div",{className:"flex gap-2 overflow-x-auto",children:[{id:"all",label:"All"},{id:"deposit",label:"Deposits"},{id:"withdrawal",label:"Withdrawals"},{id:"investment",label:"Investments"}].map(p=>i.jsx("button",{onClick:()=>n(p.id),className:`px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all ${e===p.id?"text-white":"bg-gray-100 text-gray-600"}`,style:e===p.id?{background:w.navy}:{},children:p.label},p.id))})}),i.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:u.length>0?i.jsx("div",{className:"divide-y divide-gray-100",children:u.map((p,v)=>{var T;return i.jsx(U.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:v*.03},className:"p-4 hover:bg-gray-50 transition-colors",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-gray-100 flex items-center justify-center",children:f(p.type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("p",{className:"font-medium",style:{color:w.navy},children:p.type.charAt(0).toUpperCase()+p.type.slice(1)}),i.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${d(p.status)}`,children:p.status})]}),i.jsxs("p",{className:"text-sm text-gray-500 truncate",children:[p.name||p.crypto||"Transaction","  ",new Date(p.createdAt).toLocaleDateString()]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:`font-bold ${p.type==="withdrawal"?"text-orange-600":"text-green-600"}`,children:[p.type==="withdrawal"?"-":"+","$",(T=p.amount)==null?void 0:T.toLocaleString()]}),i.jsx("p",{className:"text-xs text-gray-400",children:new Date(p.createdAt).toLocaleTimeString()})]})]})},v)})}):i.jsxs("div",{className:"text-center py-16",children:[i.jsx(nN,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500",children:"No transactions yet"})]})})]})})}function R6({user:t}){const[e,n]=R.useState([]);R.useEffect(()=>{const o=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}"),l=JSON.parse(localStorage.getItem("saxovault_broadcasts")||"[]"),u=[...o[t==null?void 0:t.email]||[],...l.map(d=>({...d,type:"broadcast",title:d.title,message:d.message}))].sort((d,f)=>new Date(f.createdAt)-new Date(d.createdAt));n(u)},[t]);const s=o=>{const l=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}");l[t==null?void 0:t.email]&&(l[t.email]=l[t.email].map(u=>u.id===o?{...u,read:!0}:u),localStorage.setItem("saxovault_user_notifications",JSON.stringify(l)),n(u=>u.map(d=>d.id===o?{...d,read:!0}:d)))},r=o=>{switch(o){case"investment_approved":return i.jsx(Ze,{className:"w-5 h-5 text-green-600"});case"investment_rejected":return i.jsx(Ot,{className:"w-5 h-5 text-red-600"});case"deposit_confirmed":return i.jsx(bs,{className:"w-5 h-5 text-green-600"});case"withdrawal_processed":return i.jsx(es,{className:"w-5 h-5 text-orange-600"});case"broadcast":return i.jsx(ws,{className:"w-5 h-5 text-blue-600"});default:return i.jsx(ws,{className:"w-5 h-5 text-gray-600"})}},a=e.filter(o=>!o.read).length;return i.jsx("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:w.cream},children:i.jsxs("div",{className:"max-w-2xl mx-auto px-4 lg:px-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"font-serif text-xl lg:text-2xl",style:{color:w.navy},children:"Notifications"}),i.jsxs("p",{className:"text-gray-500 text-sm",children:[a," unread"]})]}),a>0&&i.jsx("button",{onClick:()=>{const o=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}");o[t==null?void 0:t.email]&&(o[t.email]=o[t.email].map(l=>({...l,read:!0})),localStorage.setItem("saxovault_user_notifications",JSON.stringify(o)),n(l=>l.map(u=>({...u,read:!0}))))},className:"text-sm font-medium",style:{color:w.gold},children:"Mark all as read"})]}),i.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:e.length>0?i.jsx("div",{className:"divide-y divide-gray-100",children:e.map((o,l)=>i.jsx(U.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:l*.03},onClick:()=>s(o.id),className:`p-4 cursor-pointer transition-colors ${o.read?"bg-white":"bg-blue-50"} hover:bg-gray-50`,children:i.jsxs("div",{className:"flex gap-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center flex-shrink-0",children:r(o.type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:o.title}),!o.read&&i.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500"})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:o.message}),i.jsx("p",{className:"text-xs text-gray-400",children:new Date(o.createdAt).toLocaleString()})]})]})},l))}):i.jsxs("div",{className:"text-center py-16",children:[i.jsx(ws,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500",children:"No notifications yet"})]})})]})})}function D6({user:t}){const[e,n]=R.useState([]);return R.useEffect(()=>{const s=JSON.parse(localStorage.getItem("saxovault_activity_logs")||"{}");n(s[t==null?void 0:t.email]||[])},[t]),i.jsx("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:w.cream},children:i.jsxs("div",{className:"max-w-2xl mx-auto px-4 lg:px-6",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h1",{className:"font-serif text-xl lg:text-2xl",style:{color:w.navy},children:"Activity Log"}),i.jsx("p",{className:"text-gray-500 text-sm",children:"Your recent account activity"})]}),i.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:e.length>0?i.jsx("div",{className:"divide-y divide-gray-100",children:e.map((s,r)=>i.jsx("div",{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${s.type==="login"?"bg-green-100":s.type==="logout"?"bg-gray-100":s.type==="password_change"?"bg-yellow-100":"bg-blue-100"}`,children:[s.type==="login"&&i.jsx(_a,{className:"w-5 h-5 text-green-600 rotate-180"}),s.type==="logout"&&i.jsx(_a,{className:"w-5 h-5 text-gray-600"}),s.type==="password_change"&&i.jsx(zu,{className:"w-5 h-5 text-yellow-600"}),s.type==="profile_update"&&i.jsx(Ll,{className:"w-5 h-5 text-blue-600"})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:s.type==="login"?"Signed in":s.type==="logout"?"Signed out":s.type==="password_change"?"Password changed":"Profile updated"}),i.jsx("p",{className:"text-xs text-gray-500",children:new Date(s.timestamp).toLocaleString()})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-xs text-gray-400",children:s.ip||"Unknown IP"}),i.jsx("p",{className:"text-xs text-gray-400",children:s.device||"Unknown Device"})]})]})},r))}):i.jsxs("div",{className:"text-center py-16",children:[i.jsx(w4,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500",children:"No activity recorded yet"})]})}),i.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-xl",children:[i.jsxs("h3",{className:"font-medium text-blue-800 mb-2 flex items-center gap-2",children:[i.jsx(Tr,{className:"w-5 h-5"})," Security Tips"]}),i.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[i.jsx("li",{children:" Review your activity regularly for suspicious logins"}),i.jsx("li",{children:" Enable two-factor authentication for extra security"}),i.jsx("li",{children:" Never share your password with anyone"})]})]})]})})}function GT({onClose:t}){const[e,n]=R.useState(1),[s,r]=R.useState(""),[a,o]=R.useState(null),[l,u]=R.useState(!1),[d,f]=R.useState(1800),[h,p]=R.useState(""),[v,T]=R.useState(null),[S,I]=R.useState(!1),[N,y]=R.useState(!1),b=R.useRef(null),D=[{id:"btc",name:"Bitcoin",symbol:"BTC",icon:"",color:"#f7931a",address:"bc1qzmgg6hw0fttfpczh2whp8f44k497d6pucghk58",network:"Bitcoin"},{id:"eth",name:"Ethereum",symbol:"ETH",icon:"",color:"#627eea",address:"0x83057882eC7B7EE0cBe63C2fE2b8957e7ab69655",network:"ERC-20"},{id:"usdt",name:"Tether",symbol:"USDT",icon:"",color:"#26a17b",address:"TLGH9FucAuPNUoQw2XUFEDtCg4FFdJ2jKG",network:"TRC-20"},{id:"usdc",name:"USD Coin",symbol:"USDC",icon:"$",color:"#2775ca",address:"0x83057882eC7B7EE0cBe63C2fE2b8957e7ab69655",network:"ERC-20"},{id:"bnb",name:"BNB",symbol:"BNB",icon:"B",color:"#f3ba2f",address:"0x83057882eC7B7EE0cBe63C2fE2b8957e7ab69655",network:"BEP-20"}];R.useEffect(()=>{if(e===2&&d>0){const E=setInterval(()=>f(A=>A-1),1e3);return()=>clearInterval(E)}},[e,d]);const M=E=>`${Math.floor(E/60).toString().padStart(2,"0")}:${(E%60).toString().padStart(2,"0")}`,z=E=>{navigator.clipboard.writeText(E),u(!0),setTimeout(()=>u(!1),2e3)},k=E=>{var P;const A=(P=E.target.files)==null?void 0:P[0];if(A){if(A.size>5*1024*1024){alert("File too large. Max 5MB.");return}I(!0);const V=new FileReader;V.onload=()=>{T(V.result),I(!1)},V.readAsDataURL(A)}},_=async()=>{if(!h&&!v){alert("Please provide transaction hash or payment proof.");return}y(!0),console.log(" Starting deposit submission...");try{const E=JSON.parse(localStorage.getItem("saxovault_current_user")||"{}");if(!E.email||!E.uid){alert("Please login to continue"),y(!1);return}const A={type:"deposit",amount:parseFloat(s),crypto:a.symbol,network:a.network,txHash:h||null,proofImage:v?"uploaded":null,userEmail:E.email,userId:E.uid,userName:E.name||"User"};console.log(" Deposit data:",A);const P=await J.addTransaction(A);console.log(" Deposit saved:",P),console.log(" Sending deposit email notification...");try{const V=await _e.sendDepositNotification(E.email,parseFloat(s),a.symbol);console.log(" Deposit email sent:",V)}catch(V){console.error(" Deposit email failed:",V)}y(!1),n(4),console.log(" Deposit submission complete!")}catch(E){console.error(" Deposit submission error:",E),alert("Error submitting deposit. Please try again."),y(!1)}};return i.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t,children:i.jsxs(U.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-2xl w-full max-w-md shadow-xl overflow-hidden",onClick:E=>E.stopPropagation(),children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",style:{background:w.navy},children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(bs,{className:"w-5 h-5 text-white"}),i.jsx("span",{className:"text-white font-medium",children:"Deposit Funds"})]}),i.jsx("button",{onClick:t,className:"text-white/70 hover:text-white",children:i.jsx(Ot,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"px-6 py-3 bg-gray-50 border-b border-gray-100",children:[i.jsx("div",{className:"flex gap-2",children:[1,2,3,4].map(E=>i.jsx("div",{className:`h-1 flex-1 rounded-full ${e>=E?"bg-blue-500":"bg-gray-200"}`},E))}),i.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Step ",e," of 4: ",e===1?"Select Amount":e===2?"Send Payment":e===3?"Confirm Payment":"Complete"]})]}),i.jsxs("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:[e===1&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Payment Method"}),i.jsx("div",{className:"grid grid-cols-3 gap-2",children:D.map(E=>i.jsxs("button",{onClick:()=>o(E),className:`p-3 rounded-lg border-2 text-center transition-all ${(a==null?void 0:a.id)===E.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[i.jsx("span",{className:"text-lg",children:E.icon}),i.jsx("p",{className:"text-xs font-medium mt-1",children:E.symbol})]},E.id))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Amount (USD)"}),i.jsx("input",{type:"number",value:s,onChange:E=>r(E.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"Enter amount",min:"10"}),i.jsx("div",{className:"flex gap-2 mt-2",children:[100,500,1e3,5e3].map(E=>i.jsxs("button",{onClick:()=>r(E.toString()),className:"flex-1 py-1.5 text-xs border border-gray-200 rounded hover:bg-gray-50",children:["$",E.toLocaleString()]},E))})]}),i.jsx("button",{onClick:()=>a&&s>=10&&n(2),disabled:!a||!s||parseFloat(s)<10,className:"w-full py-3 rounded-lg text-white font-medium disabled:opacity-50 transition-all",style:{background:w.navy},children:"Continue"})]}),e===2&&a&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"text-center p-3 bg-amber-50 rounded-lg border border-amber-200",children:[i.jsx("p",{className:"text-sm text-amber-700",children:"Complete payment within"}),i.jsx("p",{className:"text-2xl font-mono font-bold text-amber-800",children:M(d)})]}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Amount"}),i.jsxs("span",{className:"font-semibold",children:["$",parseFloat(s).toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Network"}),i.jsx("span",{className:"text-sm font-medium",children:a.network})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:["Send ",a.symbol," to:"]}),i.jsx("div",{className:"p-3 bg-gray-900 rounded-lg",children:i.jsx("p",{className:"font-mono text-xs text-gray-300 break-all text-center",children:a.address})}),i.jsx("button",{onClick:()=>z(a.address),className:"w-full mt-2 py-2 text-sm border border-gray-200 rounded-lg hover:bg-gray-50 flex items-center justify-center gap-2",children:l?i.jsxs(i.Fragment,{children:[i.jsx(Ze,{className:"w-4 h-4 text-green-500"})," Copied!"]}):i.jsxs(i.Fragment,{children:[i.jsx($u,{className:"w-4 h-4"})," Copy Address"]})})]}),i.jsxs("p",{className:"text-xs text-gray-500 text-center",children:[" Only send ",a.symbol," via ",a.network,". Wrong network = lost funds."]}),i.jsx("button",{onClick:()=>n(3),className:"w-full py-3 rounded-lg text-white font-medium",style:{background:w.navy},children:"I've Sent Payment"})]}),e===3&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("button",{onClick:()=>n(2),className:"text-sm text-gray-500 hover:text-gray-700 flex items-center gap-1",children:[i.jsx(Dl,{className:"w-4 h-4"})," Back"]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Transaction Hash (Recommended)"}),i.jsx("input",{type:"text",value:h,onChange:E=>p(E.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-blue-500 font-mono text-sm",placeholder:"0x... or txid..."})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex-1 h-px bg-gray-200"}),i.jsx("span",{className:"text-xs text-gray-400",children:"OR"}),i.jsx("div",{className:"flex-1 h-px bg-gray-200"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Upload Proof of Payment"}),i.jsx("input",{ref:b,type:"file",accept:"image/*",onChange:k,className:"hidden"}),v?i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:v,alt:"Proof",className:"w-full h-32 object-cover rounded-lg"}),i.jsx("button",{onClick:()=>T(null),className:"absolute top-2 right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center",children:i.jsx(Ot,{className:"w-3 h-3"})})]}):i.jsx("button",{onClick:()=>{var E;return(E=b.current)==null?void 0:E.click()},className:"w-full p-6 border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 text-center",children:S?i.jsx(_n,{className:"w-6 h-6 mx-auto animate-spin text-gray-400"}):i.jsxs(i.Fragment,{children:[i.jsx(Am,{className:"w-6 h-6 mx-auto text-gray-400 mb-2"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Click to upload screenshot"})]})})]}),i.jsx("div",{className:"p-3 bg-gray-50 rounded-lg text-sm",children:i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Verification"}),i.jsx("span",{className:h||v?"text-green-600":"text-amber-600",children:h&&v?" Both provided":h?" Hash provided":v?" Proof uploaded":" Required"})]})}),i.jsx("button",{onClick:_,disabled:!h&&!v||N,className:"w-full py-3 rounded-lg text-white font-medium disabled:opacity-50 flex items-center justify-center gap-2",style:{background:w.navy},children:N?i.jsxs(i.Fragment,{children:[i.jsx(_n,{className:"w-4 h-4 animate-spin"})," Processing..."]}):"Submit for Verification"})]}),e===4&&i.jsxs("div",{className:"text-center py-6",children:[i.jsx("div",{className:"w-16 h-16 mx-auto rounded-full bg-green-100 flex items-center justify-center mb-4",children:i.jsx(Ze,{className:"w-8 h-8 text-green-500"})}),i.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:w.navy},children:"Deposit Submitted"}),i.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Your deposit is pending verification. You'll be notified once approved."}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg text-sm text-left mb-4",children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-gray-500",children:"Amount"}),i.jsxs("span",{className:"font-medium",children:["$",parseFloat(s).toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-gray-500",children:"Method"}),i.jsx("span",{className:"font-medium",children:a==null?void 0:a.symbol})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Status"}),i.jsx("span",{className:"text-amber-600 font-medium",children:"Pending Approval"})]})]}),i.jsx("button",{onClick:t,className:"w-full py-3 rounded-lg font-medium border border-gray-200 hover:bg-gray-50",children:"Done"})]})]})]})})}function KT({onClose:t,balance:e}){const[n,s]=R.useState(1),[r,a]=R.useState(""),[o,l]=R.useState(null),[u,d]=R.useState(""),[f,h]=R.useState(!1),v=JSON.parse(localStorage.getItem("saxovault_platform_config")||"{}").minWithdrawal||100,T=[{id:"btc",name:"Bitcoin",symbol:"BTC",icon:"",network:"Bitcoin",minWithdraw:50},{id:"eth",name:"Ethereum",symbol:"ETH",icon:"",network:"ERC-20",minWithdraw:50},{id:"usdt",name:"Tether",symbol:"USDT",icon:"",network:"TRC-20",minWithdraw:20},{id:"usdc",name:"USD Coin",symbol:"USDC",icon:"$",network:"ERC-20",minWithdraw:20},{id:"bnb",name:"BNB",symbol:"BNB",icon:"B",network:"BEP-20",minWithdraw:30}],S=(o==null?void 0:o.minWithdraw)||v,I=parseFloat(r)||0,N=I>0&&I<S,y=I>e,b=I>=S&&I<=e,D=u.length>=26,M=()=>r?y?`Insufficient balance. You have $${e.toLocaleString()} available.`:N?`Minimum withdrawal is $${S}. Please enter a higher amount.`:"":"",z=()=>{if(y){alert(` Insufficient Balance

You cannot withdraw more than your available balance.

Your balance: $${e.toLocaleString()}
Requested: $${I.toLocaleString()}`);return}if(N){alert(` Below Minimum

Minimum withdrawal for ${(o==null?void 0:o.symbol)||"this method"} is $${S}.

Please enter at least $${S}.`);return}if(!D){alert("Please enter a valid wallet address (at least 26 characters).");return}s(2)},k=async()=>{if(!(!b||!D)){h(!0),console.log(" Starting withdrawal submission...");try{const _=JSON.parse(localStorage.getItem("saxovault_current_user")||"{}");if(!_.email||!_.uid){alert("Please login to continue"),h(!1);return}const E={type:"withdrawal",amount:parseFloat(r),crypto:o.symbol,network:o.network,walletAddress:u,userEmail:_.email,userId:_.uid,userName:_.name||"User"};console.log(" Withdrawal data:",E);const A=await J.addTransaction(E);console.log(" Withdrawal saved:",A),console.log(" Sending withdrawal email...");try{const P=await _e.sendWithdrawalNotification(_.email,parseFloat(r),u);console.log(" Withdrawal email sent:",P)}catch(P){console.error(" Withdrawal email failed:",P)}h(!1),s(3),console.log(" Withdrawal submission complete!")}catch(_){console.error(" Withdrawal submission error:",_),alert("Error submitting withdrawal. Please try again."),h(!1)}}};return i.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t,children:i.jsxs(U.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-2xl w-full max-w-md shadow-xl overflow-hidden",onClick:_=>_.stopPropagation(),children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",style:{background:w.navy},children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(es,{className:"w-5 h-5 text-white"}),i.jsxs("div",{children:[i.jsx("span",{className:"text-white font-medium",children:"Withdraw Funds"}),i.jsxs("p",{className:"text-white/60 text-xs",children:["Balance: $",e.toLocaleString()]})]})]}),i.jsx("button",{onClick:t,className:"text-white/70 hover:text-white",children:i.jsx(Ot,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"px-6 py-3 bg-gray-50 border-b border-gray-100",children:[i.jsx("div",{className:"flex gap-2",children:[1,2,3].map(_=>i.jsx("div",{className:`h-1 flex-1 rounded-full ${n>=_?"bg-blue-500":"bg-gray-200"}`},_))}),i.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Step ",n," of 3: ",n===1?"Enter Details":n===2?"Confirm":"Complete"]})]}),i.jsxs("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:[n===1&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Withdrawal Method"}),i.jsx("div",{className:"grid grid-cols-3 gap-2",children:T.map(_=>i.jsxs("button",{onClick:()=>l(_),className:`p-3 rounded-lg border-2 text-center transition-all ${(o==null?void 0:o.id)===_.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[i.jsx("span",{className:"text-lg",children:_.icon}),i.jsx("p",{className:"text-xs font-medium mt-1",children:_.symbol})]},_.id))}),o&&i.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Min: $",o.minWithdraw,"  Network: ",o.network]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Amount (USD)"}),i.jsx("input",{type:"number",value:r,onChange:_=>a(_.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:border-blue-500 ${M()?"border-red-300 bg-red-50":"border-gray-200"}`,placeholder:"Enter amount",max:e}),i.jsx("div",{className:"flex gap-2 mt-2",children:[25,50,75,100].map(_=>i.jsxs("button",{onClick:()=>a(Math.floor(e*_/100).toString()),className:"flex-1 py-1.5 text-xs border border-gray-200 rounded hover:bg-gray-50",children:[_,"%"]},_))}),M()&&i.jsxs("p",{className:"text-xs text-red-500 mt-2 flex items-center gap-1",children:[i.jsx(vs,{className:"w-3 h-3"})," ",M()]}),i.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Available balance: ",i.jsxs("span",{className:"font-semibold",children:["$",e.toLocaleString()]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Wallet Address"}),i.jsx("input",{type:"text",value:u,onChange:_=>d(_.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-blue-500 font-mono text-sm",placeholder:"Enter your wallet address"})]}),i.jsx("button",{onClick:z,disabled:!r||!o||!u,className:"w-full py-3 rounded-lg text-white font-medium disabled:opacity-50",style:{background:y||N?"#9ca3af":w.navy},children:"Continue"})]}),n===2&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("button",{onClick:()=>s(1),className:"text-sm text-gray-500 hover:text-gray-700 flex items-center gap-1",children:[i.jsx(Dl,{className:"w-4 h-4"})," Back"]}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg space-y-3",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Amount"}),i.jsxs("span",{className:"font-semibold",children:["$",parseFloat(r).toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Method"}),i.jsxs("span",{className:"font-medium",children:[o==null?void 0:o.symbol," (",o==null?void 0:o.network,")"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Fee"}),i.jsx("span",{className:"text-sm",children:"Network fee applies"})]}),i.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Destination"}),i.jsx("p",{className:"font-mono text-xs break-all",children:u})]})]}),i.jsx("div",{className:"p-3 bg-amber-50 rounded-lg border border-amber-200",children:i.jsx("p",{className:"text-xs text-amber-700",children:" Please verify the address is correct. Withdrawals to wrong addresses cannot be recovered."})}),i.jsx("button",{onClick:k,disabled:f,className:"w-full py-3 rounded-lg text-white font-medium disabled:opacity-50 flex items-center justify-center gap-2",style:{background:w.navy},children:f?i.jsxs(i.Fragment,{children:[i.jsx(_n,{className:"w-4 h-4 animate-spin"})," Processing..."]}):"Confirm Withdrawal"})]}),n===3&&i.jsxs("div",{className:"text-center py-6",children:[i.jsx("div",{className:"w-16 h-16 mx-auto rounded-full bg-blue-100 flex items-center justify-center mb-4",children:i.jsx(yi,{className:"w-8 h-8 text-blue-500"})}),i.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:w.navy},children:"Withdrawal Submitted"}),i.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Your withdrawal is under review. Processing time: 24-48 hours."}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg text-sm text-left mb-4",children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-gray-500",children:"Amount"}),i.jsxs("span",{className:"font-medium",children:["$",parseFloat(r).toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-gray-500",children:"Method"}),i.jsx("span",{className:"font-medium",children:o==null?void 0:o.symbol})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Status"}),i.jsx("span",{className:"text-amber-600 font-medium",children:"Under Review"})]})]}),i.jsx("button",{onClick:t,className:"w-full py-3 rounded-lg font-medium border border-gray-200 hover:bg-gray-50",children:"Done"})]})]})]})})}function V6({document:t,onClose:e}){const n={"White Paper":{title:"SaxoVault Capital White Paper",version:"Version 2.1 | January 2024",sections:[{title:"Executive Summary",content:`SaxoVault Capital is a premier institutional-grade investment platform designed to democratize access to high-yield investment opportunities traditionally reserved for accredited investors and financial institutions.

Our platform leverages cutting-edge technology, rigorous due diligence processes, and diversified asset allocation strategies to deliver consistent, risk-adjusted returns across multiple asset classes including Real Estate, Cryptocurrency, Stocks & Bonds, and Precious Metals.

Founded in 2019, SaxoVault Capital has grown to manage over $600 million in assets under management (AUM), serving more than 12,000 investors across 45+ countries.`},{title:"1. Introduction & Vision",content:`1.1 Mission Statement
To provide retail and institutional investors with secure, transparent, and profitable investment opportunities through innovative technology and expert portfolio management.

1.2 Core Values
 Transparency: Full disclosure of investment strategies, risks, and performance
 Security: Bank-level encryption and multi-layer authentication
 Accessibility: Institutional-grade investments with retail-friendly minimums
 Education: Comprehensive investor resources and market insights

1.3 Platform Overview
SaxoVault Capital offers curated opportunities across four primary asset verticals: Real Estate, Cryptocurrency & Digital Assets, Stocks & Fixed Income, and Precious Metals.`},{title:"2. Investment Philosophy",content:`2.1 Diversification Strategy
Our portfolio construction emphasizes strategic diversification across asset classes, geographies, and investment horizons to mitigate concentration risk.

2.2 Due Diligence Framework
Every investment undergoes a rigorous 5-stage vetting process:
 Stage 1: Initial Screening & Market Analysis
 Stage 2: Financial Modeling & Stress Testing
 Stage 3: Legal & Regulatory Compliance Review
 Stage 4: Third-Party Audit & Verification
 Stage 5: Investment Committee Approval

2.3 Risk Management
We employ sophisticated risk management including position sizing limits, stop-loss mechanisms, and real-time monitoring. Maximum exposure to any single investment is capped at 15% of total AUM.`},{title:"3. Asset Allocation",content:`Real Estate (35%): Development funding and income properties
Cryptocurrency (25%): Blue-chip holdings and DeFi strategies
Stocks & Bonds (25%): Dividend aristocrats and growth ETFs
Precious Metals (15%): Gold, silver, and platinum exposure`},{title:"4. Technology & Security",content:` 256-bit SSL/TLS encryption
 Multi-factor authentication (MFA)
 Cold storage for 95% of digital assets
 SOC 2 Type II certified data centers
 Regular penetration testing and security audits
 Smart contract integration for transparent transactions`},{title:"5. Regulatory Compliance",content:"SaxoVault Capital maintains appropriate licenses and adheres to AML/KYC procedures. We implement robust Anti-Money Laundering and Know Your Customer procedures with segregated client accounts and independent custodian relationships."},{title:"6. Fee Structure",content:`Management Fee: 1.5% annually
Performance Fee: 20% of profits above 8% hurdle
Deposit Fee: 0% (no deposit fees)
Withdrawal Fee: Network fees only for cryptocurrency`}]},"Terms of Service":{title:"Terms of Service",version:"Last Updated: December 2024",sections:[{title:"1. Agreement to Terms",content:"By accessing SaxoVault Capital, you agree to these Terms. If you do not agree, you may not use the Platform. We may modify these Terms at any time."},{title:"2. Eligibility",content:"You must be 18+ years old, have legal capacity to contract, not be in a prohibited jurisdiction, complete KYC verification, and provide accurate information."},{title:"3. Account Security",content:"You are responsible for maintaining credential confidentiality. Notify us immediately of unauthorized access. One account per person."},{title:"4. Investment Services",content:"We provide access to curated investment opportunities as an intermediary. All investments carry risk. Past performance does not guarantee future results."},{title:"5. Deposits & Withdrawals",content:"We accept cryptocurrency deposits. Withdrawals are processed within 24-48 hours. Large withdrawals may require additional verification."},{title:"6. Prohibited Activities",content:"No money laundering, market manipulation, fraud, unauthorized bots, security circumvention, impersonation, or illegal activity."},{title:"7. Limitation of Liability",content:"SaxoVault Capital is not liable for indirect, incidental, or consequential damages. Total liability is limited to fees paid in the preceding 12 months."}]},"Privacy Policy":{title:"Privacy Policy",version:"GDPR & CCPA Compliant | December 2024",sections:[{title:"1. Information We Collect",content:"Identity info (name, DOB, ID), contact info (email, phone, address), financial info (wallet addresses), verification documents, device info, and usage data."},{title:"2. How We Use Information",content:"Verify identity, process transactions, communicate about your account, comply with regulations, improve services, and detect security threats."},{title:"3. Data Sharing",content:"We share with service providers, regulatory authorities, and professional advisors. We do NOT sell your personal information."},{title:"4. Data Security",content:"256-bit encryption, multi-factor authentication, regular audits, employee access controls, and SOC 2 certified data centers."},{title:"5. Your Rights",content:"Access, rectification, erasure, restriction, portability, and objection rights. Contact privacy@saxobankcapital.com to exercise."},{title:"6. Data Retention",content:"We retain data as long as necessary for services and legal compliance. After account closure, certain data is retained for up to 7 years."}]},"Risk Disclosure":{title:"Risk Disclosure Statement",version:"Required Reading | All Investors",sections:[{title:"IMPORTANT WARNING",content:"Investing involves risk including possible loss of principal. Values can go down as well as up. This does not disclose all risks. Consult a financial advisor."},{title:"1. Market Risk",content:"Values fluctuate based on economic events, political developments, and market sentiment."},{title:"2. Real Estate Risks",content:"Property values may decline, projects may face delays, rental income affected by vacancies, regulatory changes, environmental issues."},{title:"3. Cryptocurrency Risks",content:"Extreme volatility, regulatory uncertainty, security risks, technology vulnerabilities, market manipulation, no intrinsic value."},{title:"4. Stock & Bond Risks",content:"Equity risk, credit risk, sector concentration, currency fluctuations, dividend reductions."},{title:"5. Precious Metals Risks",content:"Price volatility, no income generation, storage costs, industrial demand cycles."},{title:"Acknowledgment",content:"By investing, you acknowledge reading this disclosure, understanding risks, accepting potential losses, and conducting your own due diligence."}]},"AML/KYC Policy":{title:"Anti-Money Laundering & KYC Policy",version:"FATF Compliant | December 2024",sections:[{title:"1. Policy Statement",content:"SaxoVault Capital is committed to highest AML/CTF standards, adhering to FATF recommendations and applicable laws."},{title:"2. Customer Identification",content:"Required: Government photo ID, proof of address (within 90 days), selfie verification. Enhanced due diligence for high-value transactions and PEPs."},{title:"3. Ongoing Monitoring",content:"Transaction monitoring, periodic reviews, sanctions screening, automated alerts for unusual activity."},{title:"4. Suspicious Activity",content:"We file SARs and CTRs as required, cooperate with law enforcement, and maintain records for 5+ years."},{title:"5. Prohibited Activities",content:"Money laundering, terrorist financing, sanctioned transactions, structuring, false identities, illegal proceeds."},{title:"6. Sanctions Compliance",content:"We screen against OFAC, UN, EU, and other sanctions lists. Transactions with sanctioned parties are blocked and reported."}]},"Investment Guide":{title:"Investment Guidelines & Handbook",version:"Investor Reference | 2024",sections:[{title:"1. Getting Started",content:"Register  Complete KYC  Enable 2FA  Fund account  Browse investments. Account levels: Basic (<$25K), Premium ($25K-$100K), Elite ($100K+)."},{title:"2. Investment Categories",content:"Real Estate: $10K-$50K min, 12-36 months, 7-22% target. Crypto: $2.5K-$10K min, 6-12 months, 15-40% target. Stocks: $3K-$10K min, 12 months, 5-20% target. Metals: $2.5K-$15K min, 12-24 months, 8-18% target."},{title:"3. Portfolio Strategies",content:"Conservative: 50% bonds, 30% RE income, 15% metals, 5% crypto. Balanced: 35% RE, 25% stocks, 25% crypto, 15% metals. Aggressive: 40% crypto, 30% growth stocks, 20% RE dev, 10% altcoins."},{title:"4. Payouts",content:"Methods: Cryptocurrency or reinvestment. Schedule: Monthly, quarterly, or at maturity. Compound option available."},{title:"5. Withdrawals",content:"Crypto: 24-48 hours. Large (>$50K): 3-5 days. Daily limit: $100K (Elite: $500K)."}]},"Fee Schedule":{title:"Fee Schedule",version:"Effective January 2024",sections:[{title:"Account Fees",content:"Opening: FREE. Maintenance: FREE. Closure: FREE. Inactivity (12+ months): $25/month."},{title:"Deposit Fees",content:"All cryptocurrency deposits: FREE. Network fees paid by sender."},{title:"Withdrawal Fees",content:"Network fees only. Express processing (4 hours): 0.1% of amount."},{title:"Management Fees",content:"1.5% annually (0.375% quarterly). Performance fee: 20% of profits above 8% hurdle."},{title:"Early Redemption",content:"0-30 days: 5%. 31-90 days: 3%. 91-180 days: 1%. 180+ days: No penalty."},{title:"Elite Discounts",content:"25% off management fees, free express withdrawals, dedicated account manager."}]},"FAQ & Support":{title:"Frequently Asked Questions",version:"Updated December 2024",sections:[{title:"Account",content:`Q: How to register? A: Click Register, enter details, complete KYC.
Q: Verification time? A: 24-48 hours standard, 4 hours express.
Q: Multiple accounts? A: No, one per person.`},{title:"Deposits",content:`Q: Which cryptos? A: BTC, ETH, USDT, USDC, BNB, LTC.
Q: Minimum? A: No account minimum. Each investment has its own.
Q: How long? A: 10-30 minutes after confirmation.`},{title:"Investments",content:`Q: Minimum investment? A: $2,500 - $50,000 depending on opportunity.
Q: Early withdrawal? A: May incur penalties per terms.
Q: When payouts? A: Monthly, quarterly, or at maturity.`},{title:"Withdrawals",content:`Q: Processing time? A: 24-48 hours standard.
Q: Limits? A: $100K daily ($500K for Elite).
Q: Delayed? A: Contact support if >72 hours.`},{title:"Contact Support",content:`WhatsApp: +1 (464) 239-5280 (24/7)
Live Chat: Available on website
Email: support@saxovault.com
Response: Under 24 hours`}]}},s=n[t]||n["White Paper"];return i.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e,children:i.jsxs(U.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-2xl lg:rounded-3xl w-full max-w-4xl max-h-[90vh] overflow-hidden shadow-2xl",onClick:r=>r.stopPropagation(),children:[i.jsxs("div",{className:"p-5 lg:p-6 border-b border-gray-100 flex items-center justify-between sticky top-0 bg-white z-10",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl",style:{color:w.navy},children:s.title}),i.jsx("p",{className:"text-gray-500 text-sm",children:s.version})]}),i.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:i.jsx(Ot,{className:"w-6 h-6",style:{color:w.navy}})})]}),i.jsxs("div",{className:"p-5 lg:p-8 overflow-y-auto max-h-[calc(90vh-100px)]",children:[i.jsx("div",{className:"space-y-8",children:s.sections.map((r,a)=>i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:a*.05},children:[i.jsx("h3",{className:"font-serif text-lg lg:text-xl mb-3 pb-2 border-b border-gray-100",style:{color:w.navy},children:r.title}),i.jsx("div",{className:"text-gray-600 text-sm lg:text-base leading-relaxed whitespace-pre-line",children:r.content})]},a))}),i.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-100 flex flex-col sm:flex-row gap-3",children:[i.jsxs(U.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 py-3 rounded-xl font-medium flex items-center justify-center gap-2",style:{background:`${w.navy}10`,color:w.navy},children:[i.jsx(bs,{className:"w-4 h-4"})," Download PDF"]}),i.jsx(U.button,{onClick:e,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 py-3 rounded-xl text-white font-medium",style:{background:w.navy},children:"Close"})]})]})]})})}function L6({user:t}){const e=R.useMemo(()=>{const h=localStorage.getItem(`saxovault_referral_code_${t.uid}`);if(h)return h;const p="SAXO"+(t.name||"USER").split(" ")[0].toUpperCase().slice(0,4)+Math.random().toString(36).substr(2,4).toUpperCase();return localStorage.setItem(`saxovault_referral_code_${t.uid}`,p),p},[t.uid,t.name]),n=`https://saxovault.com/ref/${e}`,[s,r]=R.useState(!1),a=h=>{navigator.clipboard.writeText(h),r(!0),setTimeout(()=>r(!1),2e3)},l=J.getUsers().filter(h=>{const p=h.usedReferralCode===e,v=h.referredBy===t.uid,T=h.registrationReferralCode===e;return(p||v||T)&&h.uid!==t.uid}).map(h=>{var S;const v=J.getTransactions().filter(I=>I.userId===h.uid&&I.type==="deposit"&&(I.status==="approved"||I.status==="completed")).reduce((I,N)=>I+(N.amount||0),0),T=v*.01;return{name:h.name?h.name.split(" ")[0]+" "+(((S=h.name.split(" ")[1])==null?void 0:S[0])||"")+".":"User",date:h.createdAt||new Date().toISOString(),deposits:v,bonus:T,status:v>0?"Active":"Pending"}}),u=l.reduce((h,p)=>h+p.bonus,0),d=l.length,f=l.filter(h=>h.status==="Active").length;return i.jsx("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:w.cream},children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4 lg:px-6",children:[i.jsxs("div",{className:"text-center mb-8 lg:mb-12",children:[i.jsx(U.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring"},className:"w-16 h-16 lg:w-20 lg:h-20 mx-auto rounded-2xl flex items-center justify-center mb-4",style:{background:`linear-gradient(135deg, ${w.gold} 0%, ${w.goldDark} 100%)`},children:i.jsx(Vl,{className:"w-8 h-8 lg:w-10 lg:h-10 text-white"})}),i.jsx("h1",{className:"font-serif text-2xl lg:text-4xl mb-2",style:{color:w.navy},children:"Referral Program"}),i.jsx("p",{className:"text-gray-600 text-sm lg:text-base max-w-lg mx-auto",children:"Earn rewards when your friends invest. Get 1% bonus on every deposit your referrals make!"})]}),l.length>0?i.jsx("div",{className:"grid grid-cols-3 gap-3 lg:gap-6 mb-6 lg:mb-8",children:[{label:"Total Earnings",value:`$${u.toLocaleString()}`,icon:_4,color:w.green},{label:"Total Referrals",value:d,icon:Hu,color:w.navy},{label:"Active Referrals",value:f,icon:Ev,color:w.gold}].map((h,p)=>i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:p*.1},className:"bg-white rounded-xl lg:rounded-2xl p-4 lg:p-6 shadow-lg text-center",children:[i.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 rounded-xl flex items-center justify-center mx-auto mb-2 lg:mb-3",style:{background:`${h.color}15`},children:i.jsx(h.icon,{className:"w-5 h-5 lg:w-6 lg:h-6",style:{color:h.color}})}),i.jsx("p",{className:"text-xl lg:text-3xl font-bold",style:{color:h.color},children:h.value}),i.jsx("p",{className:"text-xs lg:text-sm text-gray-500",children:h.label})]},p))}):i.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl p-6 lg:p-8 mb-6 lg:mb-8 text-center border border-blue-100",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-white shadow-md flex items-center justify-center mx-auto mb-4",children:i.jsx(Ev,{className:"w-8 h-8 text-blue-500"})}),i.jsx("h3",{className:"font-semibold text-lg mb-2",style:{color:w.navy},children:"Start Earning Today!"}),i.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Share your referral link with friends and earn 1% bonus on every deposit they make."}),i.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[i.jsx("span",{className:"px-3 py-1 bg-white rounded-full text-gray-500",children:"No referrals yet"}),i.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full",children:"$0 earned"})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-5 lg:p-8 mb-6 lg:mb-8",children:[i.jsx("h2",{className:"font-serif text-lg lg:text-xl mb-4 lg:mb-6",style:{color:w.navy},children:"Your Referral Details"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-500 mb-2",children:"Referral Code"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex-1 px-4 py-3 lg:py-4 bg-gray-50 rounded-xl font-mono font-bold text-lg lg:text-xl text-center",style:{color:w.navy},children:e}),i.jsx(U.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>a(e),className:"p-3 lg:p-4 rounded-xl text-white",style:{background:s?w.green:w.navy},children:s?i.jsx(sn,{className:"w-5 h-5"}):i.jsx($u,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-500 mb-2",children:"Referral Link"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex-1 px-4 py-3 bg-gray-50 rounded-xl text-sm text-gray-600 truncate",children:n}),i.jsx(U.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>a(n),className:"p-3 rounded-xl",style:{background:`${w.gold}15`,color:w.gold},children:i.jsx(C4,{className:"w-5 h-5"})})]})]})]}),i.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[i.jsx("h3",{className:"font-medium mb-3",style:{color:w.navy},children:"Share via"}),i.jsx("div",{className:"flex gap-3",children:[{name:"WhatsApp",color:"#25D366",icon:rN},{name:"Email",color:"#EA4335",icon:Qn},{name:"Copy Link",color:w.navy,icon:$u}].map((h,p)=>i.jsxs(U.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>h.name==="Copy Link"?a(n):null,className:"flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-white text-sm font-medium",style:{background:h.color},children:[i.jsx(h.icon,{className:"w-4 h-4"}),i.jsx("span",{className:"hidden sm:inline",children:h.name})]},p))})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-5 lg:p-8 mb-6 lg:mb-8",children:[i.jsx("h2",{className:"font-serif text-lg lg:text-xl mb-4 lg:mb-6",style:{color:w.navy},children:"How It Works"}),i.jsx("div",{className:"grid sm:grid-cols-3 gap-4 lg:gap-6",children:[{step:"1",title:"Share Your Link",desc:"Send your unique referral link to friends and family"},{step:"2",title:"They Sign Up",desc:"When they register using your link or code"},{step:"3",title:"Earn Rewards",desc:"Get 1% bonus on every deposit they make!"}].map((h,p)=>i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 rounded-full flex items-center justify-center mx-auto mb-3 text-white font-bold",style:{background:`linear-gradient(135deg, ${w.gold} 0%, ${w.goldDark} 100%)`},children:h.step}),i.jsx("h3",{className:"font-semibold text-sm lg:text-base mb-1",style:{color:w.navy},children:h.title}),i.jsx("p",{className:"text-gray-500 text-xs lg:text-sm",children:h.desc})]},p))})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg overflow-hidden",children:[i.jsx("div",{className:"p-4 lg:p-6 border-b border-gray-100",children:i.jsx("h2",{className:"font-serif text-lg lg:text-xl",style:{color:w.navy},children:"Your Referrals"})}),l.length>0?i.jsx("div",{className:"divide-y divide-gray-100",children:l.map((h,p)=>i.jsxs("div",{className:"p-4 lg:p-5 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-bold",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:h.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm lg:text-base",style:{color:w.navy},children:h.name}),i.jsxs("p",{className:"text-xs text-gray-500",children:["Joined ",h.date]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"font-bold text-sm lg:text-base",style:{color:w.green},children:["+$",h.bonus]}),i.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${h.status==="Active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:h.status})]})]},p))}):i.jsxs("div",{className:"p-8 text-center",children:[i.jsx(Hu,{className:"w-12 h-12 mx-auto text-gray-300 mb-3"}),i.jsx("p",{className:"text-gray-500",children:"No referrals yet. Share your link to get started!"})]})]})]})})}function M6(){const[t,e]=R.useState(25e3),[n,s]=R.useState(12),[r,a]=R.useState(24),o=t*Math.pow(1+n/100/12,r),l=o-t;return i.jsx("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:w.cream},children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4 lg:px-6",children:[i.jsxs("div",{className:"text-center mb-8 lg:mb-12",children:[i.jsx("h1",{className:"font-serif text-2xl lg:text-4xl mb-2",style:{color:w.navy},children:"Investment Calculator"}),i.jsx("p",{className:"text-gray-600 text-sm lg:text-base",children:"Project your potential returns."})]}),i.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 lg:gap-8",children:[i.jsxs("div",{className:"bg-white rounded-2xl lg:rounded-3xl p-5 lg:p-8 shadow-xl",children:[i.jsx("h2",{className:"font-serif text-lg lg:text-xl mb-4 lg:mb-6",style:{color:w.navy},children:"Parameters"}),i.jsxs("div",{className:"space-y-5 lg:space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block font-medium text-gray-700 mb-2 text-sm lg:text-base",children:"Initial Investment"}),i.jsx("input",{type:"number",value:t,onChange:u=>e(+u.target.value),className:"w-full px-4 py-3 lg:py-4 text-xl font-bold border-2 border-gray-200 rounded-xl text-center focus:outline-none"}),i.jsx("div",{className:"flex gap-2 mt-2",children:[1e4,25e3,5e4,1e5].map(u=>i.jsxs("button",{onClick:()=>e(u),className:`flex-1 py-2 rounded-lg text-xs font-medium border ${t===u?"text-white":"border-gray-200"}`,style:t===u?{background:w.navy}:{},children:["$",u/1e3,"K"]},u))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block font-medium text-gray-700 mb-2 text-sm lg:text-base",children:"Annual Return (%)"}),i.jsx("input",{type:"number",value:n,onChange:u=>s(+u.target.value),className:"w-full px-4 py-3 lg:py-4 text-xl font-bold border-2 border-gray-200 rounded-xl text-center focus:outline-none"}),i.jsx("div",{className:"flex gap-2 mt-2",children:[8,12,15,20].map(u=>i.jsxs("button",{onClick:()=>s(u),className:`flex-1 py-2 rounded-lg text-xs font-medium border ${n===u?"text-white":"border-gray-200"}`,style:n===u?{background:w.navy}:{},children:[u,"%"]},u))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block font-medium text-gray-700 mb-2 text-sm lg:text-base",children:"Period (Months)"}),i.jsx("input",{type:"number",value:r,onChange:u=>a(+u.target.value),className:"w-full px-4 py-3 lg:py-4 text-xl font-bold border-2 border-gray-200 rounded-xl text-center focus:outline-none"}),i.jsx("div",{className:"flex gap-2 mt-2",children:[12,24,36,60].map(u=>i.jsxs("button",{onClick:()=>a(u),className:`flex-1 py-2 rounded-lg text-xs font-medium border ${r===u?"text-white":"border-gray-200"}`,style:r===u?{background:w.navy}:{},children:[u,"mo"]},u))})]})]})]}),i.jsxs("div",{className:"rounded-2xl lg:rounded-3xl p-5 lg:p-8 text-white shadow-xl",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:[i.jsx("h2",{className:"font-serif text-lg lg:text-xl mb-6 lg:mb-8",style:{color:w.gold},children:"Projected Returns"}),i.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-white/60 text-xs lg:text-sm mb-1",children:"Final Value"}),i.jsxs("p",{className:"font-serif text-4xl lg:text-5xl font-bold",children:["$",o.toLocaleString(void 0,{maximumFractionDigits:0})]})]}),i.jsx("div",{className:"h-px bg-white/20"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 lg:gap-6",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-white/60 text-xs lg:text-sm mb-1",children:"Total Return"}),i.jsxs("p",{className:"text-xl lg:text-2xl font-bold",style:{color:w.gold},children:["+$",l.toLocaleString(void 0,{maximumFractionDigits:0})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-white/60 text-xs lg:text-sm mb-1",children:"Return %"}),i.jsxs("p",{className:"text-xl lg:text-2xl font-bold",style:{color:w.green},children:["+",(l/t*100).toFixed(1),"%"]})]})]}),i.jsxs("div",{className:"p-4 rounded-xl bg-white/10",children:[i.jsx("p",{className:"text-white/60 text-xs lg:text-sm mb-2",children:"Summary"}),i.jsxs("p",{className:"text-xs lg:text-sm",children:[i.jsxs("span",{className:"font-bold",children:["$",t.toLocaleString()]})," at ",i.jsxs("span",{className:"font-bold",children:[n,"%"]})," for ",i.jsxs("span",{className:"font-bold",children:[r," months"]})," = ",i.jsxs("span",{className:"font-bold",style:{color:w.gold},children:["$",o.toLocaleString(void 0,{maximumFractionDigits:0})]})]})]})]})]})]}),i.jsx("p",{className:"text-center text-xs lg:text-sm text-gray-500 mt-6 lg:mt-8",children:"* Estimates only. Actual returns may vary."})]})})}function O6({user:t,setUser:e,onLogout:n}){const[s,r]=R.useState("profile"),[a,o]=R.useState({name:t.name,email:t.email,phone:t.phone,address:t.address}),[l,u]=R.useState({current:"",new:"",confirm:""}),[d,f]=R.useState({current:!1,new:!1,confirm:!1}),[h,p]=R.useState("pending"),[v,T]=R.useState(1),[S,I]=R.useState({fullName:(t==null?void 0:t.name)||"",dateOfBirth:"",idNumber:"",idType:"",idFront:null,idBack:null,selfie:null}),[N,y]=R.useState(!1),[b,D]=R.useState(!1),[M,z]=R.useState(!1),[k,_]=R.useState(()=>rn.is2FAEnabled(t==null?void 0:t.uid)),[E,A]=R.useState(!1),[P,V]=R.useState(""),[C,Q]=R.useState(!1),[ae,me]=R.useState(()=>localStorage.getItem("saxovault_dark_mode")==="true"),ze=R.useRef(null);R.useRef(null),R.useRef(null),R.useRef(null),R.useEffect(()=>{if(t!=null&&t.uid){const O=JSON.parse(localStorage.getItem(`kyc_${t.uid}`)||"{}");O.status&&(p(O.status),I(ce=>({...ce,...O})))}},[t==null?void 0:t.uid]);const L=(O,ce)=>{var He;const Se=(He=O.target.files)==null?void 0:He[0];if(console.log(` KYC Upload - Field: ${ce}, File:`,Se),!Se){console.log(" No file selected");return}if(Se.size>5*1024*1024){alert("File size must be less than 5MB");return}if(!["image/jpeg","image/png","image/jpg","image/gif","image/webp","application/pdf"].includes(Se.type)){alert("Please upload an image (JPG, PNG) or PDF file");return}const Te=new FileReader;Te.onload=()=>{console.log(` File loaded for ${ce}`),I(En=>({...En,[ce]:Te.result}))},Te.onerror=()=>{console.error(" Error reading file"),alert("Error reading file. Please try again.")},Te.readAsDataURL(Se)},B=f6(),Z=a1[B]||"English",ne=async()=>{try{const O={...t,...a};await J.updateUser(t.uid,a),localStorage.setItem(`user_${t.uid}`,JSON.stringify(O)),localStorage.setItem("saxovault_current_user",JSON.stringify(O)),e(O),y(!0),setTimeout(()=>y(!1),3e3),console.log(" Profile saved successfully")}catch(O){console.error(" Error saving profile:",O),alert("Error saving profile. Please try again.")}},G=async()=>{if(!l.current){alert("Please enter your current password");return}if(!l.new){alert("Please enter a new password");return}if(l.new!==l.confirm){alert("New passwords do not match!");return}const O=l.new.length>=8,ce=/[A-Z]/.test(l.new),Se=/[a-z]/.test(l.new),xt=/[0-9]/.test(l.new);if(/[^A-Za-z0-9]/.test(l.new),!O||!ce||!Se||!xt){alert(` Password does not meet requirements!

Your password must have:
 At least 8 characters
 One uppercase letter (A-Z)
 One lowercase letter (a-z)
 One number (0-9)
 One special character (!@#$%^&*) - recommended`);return}try{const Te=JSON.parse(localStorage.getItem(`user_${t.uid}`)||"{}"),He=J.getUsers(),En=He.find(qt=>qt.uid===t.uid),jn=Te.passwordHash||(En==null?void 0:En.passwordHash),Nt=btoa(l.current);if(jn){if(jn!==Nt){alert(` Current password is incorrect!

The password you entered does not match your current password.`);return}console.log(" Current password verified")}else{console.log(" First time password setup - no existing hash found");const qt=btoa(l.current);await J.updateUser(t.uid,{initialPasswordHash:qt,passwordSetupDate:new Date().toISOString()})}const $n=btoa(l.new);await J.updateUser(t.uid,{passwordHash:$n,passwordLastChanged:new Date().toISOString()});const kn={...Te,...t,passwordHash:$n,passwordLastChanged:new Date().toISOString()};localStorage.setItem(`user_${t.uid}`,JSON.stringify(kn)),localStorage.setItem("saxovault_current_user",JSON.stringify(kn));const Os=He.map(qt=>qt.uid===t.uid?{...qt,passwordHash:$n,passwordLastChanged:new Date().toISOString()}:qt);J.setUsers(Os),e(kn),y(!0),u({current:"",new:"",confirm:""}),setTimeout(()=>y(!1),3e3),alert(` Password Updated Successfully!

Your new password has been saved. Please use this password for future logins.`),console.log(" Password updated in all storage locations")}catch(Te){console.error(" Error changing password:",Te),alert("Error changing password. Please try again.")}},pe=async O=>{var Se;const ce=(Se=O.target.files)==null?void 0:Se[0];if(ce){if(ce.size>2*1024*1024){alert("Image size must be less than 2MB");return}D(!0);const xt=new FileReader;xt.onload=async()=>{try{const Te=xt.result;await J.updateUser(t.uid,{profileImage:Te});const He={...t,profileImage:Te};localStorage.setItem(`user_${t.uid}`,JSON.stringify(He)),localStorage.setItem("saxovault_current_user",JSON.stringify(He)),e(He),D(!1),console.log(" Profile image saved")}catch(Te){console.error(" Error saving profile image:",Te),alert("Error saving profile image. Please try again."),D(!1)}},xt.readAsDataURL(ce)}},je=async()=>{if(!S.fullName||!S.idNumber||!S.idType){alert("Please fill in all personal information fields"),T(1);return}if(!S.idFront||!S.idBack){alert("Please upload both front and back of your ID"),T(2);return}if(!S.selfie){alert("Please upload a selfie with your ID");return}D(!0);try{const O={...S,status:"submitted",userId:t.uid,userEmail:t.email,submittedAt:new Date().toISOString()};localStorage.setItem(`kyc_${t.uid}`,JSON.stringify(O));const ce=JSON.parse(localStorage.getItem("saxovault_kyc_submissions")||"[]");ce.unshift(O),localStorage.setItem("saxovault_kyc_submissions",JSON.stringify(ce)),await _e.sendKYCNotification(t.email,S.fullName,S.idType),p("submitted"),alert(" KYC documents submitted successfully! You will be notified once verified.")}catch(O){console.error("KYC submission error:",O),alert("Error submitting KYC. Please try again.")}finally{D(!1)}},Me=[{id:"profile",label:"Profile",icon:Ll},{id:"security",label:"Security",icon:la},{id:"appearance",label:"Appearance",icon:iN},{id:"language",label:"Language",icon:oa},{id:"kyc",label:"KYC",icon:Tr},{id:"notifications",label:"Alerts",icon:ws}];return i.jsx("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:w.cream},children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4 lg:px-6",children:[i.jsx("div",{className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl overflow-hidden mb-6",children:i.jsxs("div",{className:"p-6 lg:p-8 text-center",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:[i.jsxs("div",{className:"relative inline-block",children:[i.jsx("div",{className:"w-20 h-20 lg:w-24 lg:h-24 mx-auto rounded-full flex items-center justify-center text-3xl lg:text-4xl font-bold text-white overflow-hidden",style:{background:`linear-gradient(135deg, ${w.gold} 0%, ${w.goldDark} 100%)`},children:t.profileImage?i.jsx("img",{src:t.profileImage,alt:"",className:"w-full h-full object-cover"}):t.name.charAt(0)}),i.jsx("button",{onClick:()=>{var O;return(O=ze.current)==null?void 0:O.click()},className:"absolute bottom-0 right-0 w-8 h-8 rounded-full bg-white shadow-lg flex items-center justify-center",children:b?i.jsx(_n,{className:"w-4 h-4 animate-spin",style:{color:w.navy}}):i.jsx(Am,{className:"w-4 h-4",style:{color:w.navy}})}),i.jsx("input",{ref:ze,type:"file",accept:"image/*",onChange:pe,className:"hidden"})]}),i.jsx("h2",{className:"text-xl lg:text-2xl font-serif text-white mt-3",children:t.name}),i.jsx("p",{className:"text-white/60 text-sm",children:t.email}),i.jsxs("div",{className:"inline-flex items-center gap-2 mt-2 px-3 py-1 rounded-full",style:{background:`${w.green}30`},children:[i.jsx(Ze,{className:"w-3.5 h-3.5",style:{color:w.green}}),i.jsx("span",{style:{color:w.green},className:"text-xs font-medium",children:"Verified Investor"})]})]})}),i.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2 -mx-4 px-4 lg:mx-0 lg:px-0",children:Me.map(O=>i.jsxs("button",{onClick:()=>r(O.id),className:`flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium text-sm whitespace-nowrap transition-all ${s===O.id?"text-white shadow-lg":"bg-white text-gray-600"}`,style:s===O.id?{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`}:{},children:[i.jsx(O.icon,{className:"w-4 h-4"}),O.label]},O.id))}),s==="profile"&&i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-5 lg:p-8",children:[i.jsx("h2",{className:"font-serif text-lg lg:text-2xl mb-4 lg:mb-6",style:{color:w.navy},children:"Profile Information"}),i.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 lg:gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-700 mb-1.5 lg:mb-2",children:"Full Name"}),i.jsx("input",{type:"text",value:a.name,onChange:O=>o({...a,name:O.target.value}),className:"w-full px-4 py-2.5 lg:py-3 border border-gray-200 rounded-xl focus:outline-none text-sm lg:text-base"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-700 mb-1.5 lg:mb-2",children:"Email Address"}),i.jsx("input",{type:"email",value:a.email,onChange:O=>o({...a,email:O.target.value}),className:"w-full px-4 py-2.5 lg:py-3 border border-gray-200 rounded-xl focus:outline-none text-sm lg:text-base"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-700 mb-1.5 lg:mb-2",children:"Phone Number"}),i.jsx("input",{type:"tel",value:a.phone,onChange:O=>o({...a,phone:O.target.value}),className:"w-full px-4 py-2.5 lg:py-3 border border-gray-200 rounded-xl focus:outline-none text-sm lg:text-base"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-700 mb-1.5 lg:mb-2",children:"Address"}),i.jsx("input",{type:"text",value:a.address,onChange:O=>o({...a,address:O.target.value}),className:"w-full px-4 py-2.5 lg:py-3 border border-gray-200 rounded-xl focus:outline-none text-sm lg:text-base"})]})]}),i.jsx(U.button,{onClick:ne,whileHover:{scale:1.02},whileTap:{scale:.98},className:"mt-6 px-6 lg:px-8 py-2.5 lg:py-3 rounded-xl text-white font-semibold flex items-center gap-2 text-sm lg:text-base",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:N?i.jsxs(i.Fragment,{children:[i.jsx(Ze,{className:"w-4 h-4 lg:w-5 lg:h-5"})," Saved!"]}):i.jsx(i.Fragment,{children:"Save Changes"})})]}),s==="security"&&i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-5 lg:p-8",children:[i.jsx("h2",{className:"font-serif text-lg lg:text-2xl mb-2",style:{color:w.navy},children:"Change Password"}),i.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Update your password to keep your account secure"}),i.jsxs("div",{className:"space-y-4 max-w-md",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-700 mb-1.5 lg:mb-2",children:"Current Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(pr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 lg:w-5 lg:h-5 text-gray-400"}),i.jsx("input",{type:d.current?"text":"password",value:l.current,onChange:O=>u({...l,current:O.target.value}),className:"w-full pl-11 lg:pl-12 pr-12 py-2.5 lg:py-3 border border-gray-200 rounded-xl focus:outline-none text-sm lg:text-base",placeholder:"Enter current password"}),i.jsx("button",{type:"button",onClick:()=>f({...d,current:!d.current}),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400",children:d.current?i.jsx(Yc,{className:"w-4 h-4 lg:w-5 lg:h-5"}):i.jsx(Qc,{className:"w-4 h-4 lg:w-5 lg:h-5"})})]}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:(()=>{const O=JSON.parse(localStorage.getItem(`user_${t.uid}`)||"{}"),Se=JSON.parse(localStorage.getItem("saxovault_users")||"[]").find(Te=>Te.uid===t.uid);return O.passwordHash||(Se==null?void 0:Se.passwordHash)?"Enter your current password to verify":" First time? Enter any password to set up password verification"})()})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-700 mb-1.5 lg:mb-2",children:"New Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(zu,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 lg:w-5 lg:h-5 text-gray-400"}),i.jsx("input",{type:d.new?"text":"password",value:l.new,onChange:O=>u({...l,new:O.target.value}),className:"w-full pl-11 lg:pl-12 pr-12 py-2.5 lg:py-3 border border-gray-200 rounded-xl focus:outline-none text-sm lg:text-base",placeholder:"Create new password"}),i.jsx("button",{type:"button",onClick:()=>f({...d,new:!d.new}),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400",children:d.new?i.jsx(Yc,{className:"w-4 h-4 lg:w-5 lg:h-5"}):i.jsx(Qc,{className:"w-4 h-4 lg:w-5 lg:h-5"})})]}),l.new&&i.jsxs("div",{className:"mt-3 space-y-2",children:[i.jsx("div",{className:"flex gap-1",children:[1,2,3,4].map(O=>{const ce=(()=>{let Te=0;return l.new.length>=8&&Te++,/[A-Z]/.test(l.new)&&Te++,/[a-z]/.test(l.new)&&Te++,/[0-9]/.test(l.new)&&Te++,/[^A-Za-z0-9]/.test(l.new)&&Te++,Te})(),Se=["#ef4444","#f97316","#eab308","#22c55e"],xt=O<=ce;return i.jsx("div",{className:"flex-1 h-1.5 rounded-full transition-all",style:{background:xt?Se[Math.min(ce-1,3)]:"#e5e7eb"}},O)})}),i.jsx("p",{className:"text-xs",style:{color:(()=>{let O=0;return l.new.length>=8&&O++,/[A-Z]/.test(l.new)&&O++,/[a-z]/.test(l.new)&&O++,/[0-9]/.test(l.new)&&O++,/[^A-Za-z0-9]/.test(l.new)&&O++,O<=1?"#ef4444":O<=2?"#f97316":O<=3?"#eab308":"#22c55e"})()},children:(()=>{let O=0;return l.new.length>=8&&O++,/[A-Z]/.test(l.new)&&O++,/[a-z]/.test(l.new)&&O++,/[0-9]/.test(l.new)&&O++,/[^A-Za-z0-9]/.test(l.new)&&O++,O<=1?"Weak password":O<=2?"Fair password":O<=3?"Good password":"Strong password"})()}),i.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 space-y-1.5",children:[i.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Password Requirements:"}),[{label:"At least 8 characters",check:l.new.length>=8},{label:"One uppercase letter (A-Z)",check:/[A-Z]/.test(l.new)},{label:"One lowercase letter (a-z)",check:/[a-z]/.test(l.new)},{label:"One number (0-9)",check:/[0-9]/.test(l.new)},{label:"One special character (!@#$%^&*)",check:/[^A-Za-z0-9]/.test(l.new)}].map((O,ce)=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-4 h-4 rounded-full flex items-center justify-center ${O.check?"bg-green-500":"bg-gray-300"}`,children:O.check&&i.jsx(sn,{className:"w-3 h-3 text-white"})}),i.jsx("span",{className:`text-xs ${O.check?"text-green-600":"text-gray-500"}`,children:O.label})]},ce))]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-700 mb-1.5 lg:mb-2",children:"Confirm New Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(zu,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 lg:w-5 lg:h-5 text-gray-400"}),i.jsx("input",{type:d.confirm?"text":"password",value:l.confirm,onChange:O=>u({...l,confirm:O.target.value}),className:`w-full pl-11 lg:pl-12 pr-12 py-2.5 lg:py-3 border rounded-xl focus:outline-none text-sm lg:text-base ${l.confirm&&l.new===l.confirm?"border-green-500 bg-green-50":l.confirm&&l.new!==l.confirm?"border-red-500 bg-red-50":"border-gray-200"}`,placeholder:"Re-enter new password"}),i.jsx("button",{type:"button",onClick:()=>f({...d,confirm:!d.confirm}),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400",children:d.confirm?i.jsx(Yc,{className:"w-4 h-4 lg:w-5 lg:h-5"}):i.jsx(Qc,{className:"w-4 h-4 lg:w-5 lg:h-5"})}),l.confirm&&i.jsx("div",{className:`absolute right-12 top-1/2 -translate-y-1/2 w-5 h-5 rounded-full flex items-center justify-center ${l.new===l.confirm?"bg-green-500":"bg-red-500"}`,children:l.new===l.confirm?i.jsx(sn,{className:"w-3 h-3 text-white"}):i.jsx(Ot,{className:"w-3 h-3 text-white"})})]}),l.confirm&&l.new!==l.confirm&&i.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Passwords do not match"}),l.confirm&&l.new===l.confirm&&i.jsx("p",{className:"text-xs text-green-500 mt-1",children:" Passwords match"})]})]}),i.jsx(U.button,{onClick:G,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:!l.current||!l.new||!l.confirm||l.new!==l.confirm,className:"mt-6 px-6 lg:px-8 py-2.5 lg:py-3 rounded-xl text-white font-semibold flex items-center gap-2 text-sm lg:text-base disabled:opacity-50 disabled:cursor-not-allowed",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:N?i.jsxs(i.Fragment,{children:[i.jsx(Ze,{className:"w-4 h-4 lg:w-5 lg:h-5"})," Updated!"]}):i.jsxs(i.Fragment,{children:[i.jsx(pr,{className:"w-4 h-4 lg:w-5 lg:h-5"})," Update Password"]})})]}),i.jsxs("div",{className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-5 lg:p-8",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-lg lg:text-xl mb-1 lg:mb-2",style:{color:w.navy},children:"Two-Factor Authentication"}),i.jsx("p",{className:"text-gray-500 text-xs lg:text-sm",children:"Adds an extra security layer - you'll receive a verification code via email each time you login."})]}),i.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${k?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:k?" Enabled":"Disabled"})]}),k?i.jsxs(U.button,{onClick:async()=>{confirm("Are you sure you want to disable 2FA? This will make your account less secure.")&&(await rn.disable2FA(t==null?void 0:t.uid),_(!1),alert("2FA has been disabled."))},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 rounded-xl font-medium flex items-center justify-center gap-2 bg-red-50 text-red-600",children:[i.jsx(la,{className:"w-4 h-4"})," Disable 2FA"]}):i.jsx("div",{children:E?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("p",{className:"text-sm text-gray-600",children:["A verification code has been sent to ",i.jsx("strong",{children:t==null?void 0:t.email})]}),i.jsx("input",{type:"text",value:P,onChange:O=>V(O.target.value.replace(/\D/g,"").slice(0,6)),className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-center text-2xl font-mono tracking-widest",placeholder:"000000",maxLength:"6"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>A(!1),className:"flex-1 py-2.5 rounded-xl border border-gray-200 text-sm",children:"Cancel"}),i.jsx(U.button,{onClick:async()=>{const O=rn.verify2FACode(t==null?void 0:t.uid,P);O.valid?(await rn.enable2FA(t==null?void 0:t.uid),_(!0),A(!1),V(""),alert(` Two-Factor Authentication enabled!

You will now receive a verification code via email each time you log in.`)):alert(" "+O.message)},whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl text-white text-sm font-medium",style:{background:w.green},children:C?"Verifying...":"Verify & Enable"})]}),i.jsx("button",{onClick:async()=>{Q(!0);const O=await rn.send2FACode(t==null?void 0:t.uid,t==null?void 0:t.email);Q(!1),O.success?alert(" New code sent!"):alert(" Failed to resend code.")},className:"w-full text-sm text-blue-600 hover:underline",disabled:C,children:"Didn't receive code? Resend"})]}):i.jsx(U.button,{onClick:async()=>{Q(!0);try{(await rn.send2FACode(t==null?void 0:t.uid,t==null?void 0:t.email)).success?A(!0):alert(" Failed to send verification code. Please try again.")}catch{alert(" Failed to send verification code. Please try again.")}Q(!1)},whileHover:{scale:1.02},whileTap:{scale:.98},disabled:C,className:"w-full py-3 rounded-xl font-medium flex items-center justify-center gap-2 disabled:opacity-50",style:{background:`${w.green}15`,color:w.green},children:C?i.jsxs(i.Fragment,{children:[i.jsx(_n,{className:"w-4 h-4 animate-spin"})," Sending Code..."]}):i.jsxs(i.Fragment,{children:[i.jsx(la,{className:"w-4 h-4"})," Enable 2FA"]})})})]}),i.jsxs("div",{className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-5 lg:p-8",children:[i.jsx("h2",{className:"font-serif text-lg lg:text-xl mb-4 lg:mb-6",style:{color:w.navy},children:"Login Activity"}),i.jsx("div",{className:"space-y-3",children:[{device:"Chrome on Windows",location:"New York",time:"Now",current:!0},{device:"Safari on iPhone",location:"New York",time:"1 day ago",current:!1}].map((O,ce)=>i.jsxs("div",{className:"flex items-center justify-between p-3 lg:p-4 bg-gray-50 rounded-xl",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(aN,{className:"w-5 h-5 text-gray-400"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:O.device}),i.jsxs("p",{className:"text-xs text-gray-500",children:[O.location,"  ",O.time]})]})]}),O.current&&i.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium",style:{background:`${w.green}15`,color:w.green},children:"Current"})]},ce))})]})]}),s==="appearance"&&i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-5 lg:p-8",children:[i.jsx("h2",{className:"font-serif text-lg lg:text-2xl mb-2",style:{color:w.navy},children:"Appearance Settings"}),i.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Customize how SaxoVault looks for you"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"p-5 rounded-2xl border border-gray-100 hover:border-gray-200 transition-colors",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{background:ae?"#1e293b":`${w.gold}15`},children:ae?i.jsx(df,{className:"w-6 h-6 text-yellow-400"}):i.jsx(hf,{className:"w-6 h-6",style:{color:w.gold}})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",style:{color:w.navy},children:"Dark Mode"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Switch between light and dark themes"})]})]}),i.jsx("button",{onClick:()=>{const O=!ae;me(O),localStorage.setItem("saxovault_dark_mode",O.toString()),window.location.reload()},className:`relative w-14 h-8 rounded-full transition-colors ${ae?"bg-green-500":"bg-gray-300"}`,children:i.jsx(U.div,{animate:{x:ae?24:4},className:"absolute top-1 w-6 h-6 bg-white rounded-full shadow-md flex items-center justify-center",children:ae?i.jsx(df,{className:"w-3 h-3 text-gray-700"}):i.jsx(hf,{className:"w-3 h-3 text-yellow-500"})})})]})}),i.jsxs("div",{className:"mt-6",children:[i.jsx("h3",{className:"font-medium text-sm text-gray-700 mb-3",children:"Preview"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("button",{onClick:()=>{me(!1),localStorage.setItem("saxovault_dark_mode","false"),window.location.reload()},className:`p-4 rounded-xl border-2 transition-all ${ae?"border-gray-200":"border-green-500 ring-2 ring-green-100"}`,children:[i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("div",{className:"w-4 h-4 rounded-full bg-gray-300"}),i.jsx("div",{className:"h-2 bg-gray-300 rounded flex-1"})]}),i.jsx("div",{className:"h-8 bg-white rounded border border-gray-200"})]}),i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx(hf,{className:"w-4 h-4 text-yellow-500"}),i.jsx("span",{className:"text-sm font-medium",children:"Light"})]}),!ae&&i.jsx("span",{className:"text-xs text-green-500 mt-1 block",children:"Active"})]}),i.jsxs("button",{onClick:()=>{me(!0),localStorage.setItem("saxovault_dark_mode","true"),window.location.reload()},className:`p-4 rounded-xl border-2 transition-all ${ae?"border-green-500 ring-2 ring-green-100":"border-gray-200"}`,children:[i.jsxs("div",{className:"bg-slate-800 rounded-lg p-3 mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("div",{className:"w-4 h-4 rounded-full bg-slate-600"}),i.jsx("div",{className:"h-2 bg-slate-600 rounded flex-1"})]}),i.jsx("div",{className:"h-8 bg-slate-700 rounded"})]}),i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx(df,{className:"w-4 h-4 text-blue-400"}),i.jsx("span",{className:"text-sm font-medium",children:"Dark"})]}),ae&&i.jsx("span",{className:"text-xs text-green-500 mt-1 block",children:"Active"})]})]})]}),i.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl",children:i.jsxs("p",{className:"text-sm text-blue-700",children:[i.jsx(Sv,{className:"w-4 h-4 inline mr-2"}),"Dark mode reduces eye strain in low-light conditions and can save battery on OLED screens."]})})]})]}),s==="language"&&i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-5 lg:p-8",children:[i.jsx("h2",{className:"font-serif text-lg lg:text-2xl mb-2",style:{color:w.navy},children:"Language Settings"}),i.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Select your preferred language"}),i.jsx("div",{className:"p-4 rounded-xl mb-6",style:{background:`${w.gold}15`},children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:w.gold},children:i.jsx(oa,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",style:{color:w.navy},children:"Current Language"}),i.jsx("p",{className:"text-sm text-gray-500",children:Z})]})]})}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 max-h-[400px] overflow-y-auto",children:Object.entries(a1).map(([O,ce])=>i.jsxs("button",{onClick:()=>{localStorage.setItem("saxovault_language",O),window.location.reload()},className:`p-3 rounded-xl text-left text-sm font-medium transition-all ${B===O?"text-white shadow-lg":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,style:B===O?{background:w.navy}:{},children:[ce,B===O&&i.jsx(sn,{className:"w-4 h-4 inline ml-2"})]},O))}),i.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl",children:i.jsxs("p",{className:"text-sm text-blue-700",children:[i.jsx(Sv,{className:"w-4 h-4 inline mr-2"}),"Language is automatically detected from your browser settings. You can manually change it above."]})})]}),s==="kyc"&&i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-5 lg:p-8",children:[i.jsx("h2",{className:"font-serif text-lg lg:text-2xl mb-2",style:{color:w.navy},children:"KYC Verification"}),i.jsx("p",{className:"text-gray-500 text-sm mb-6 lg:mb-8",children:"Complete verification to unlock all features"}),h==="verified"?i.jsxs("div",{className:"text-center py-8 lg:py-12",children:[i.jsx("div",{className:"w-20 h-20 lg:w-24 lg:h-24 mx-auto rounded-full flex items-center justify-center mb-4 lg:mb-6",style:{background:`${w.green}20`},children:i.jsx(Ze,{className:"w-12 h-12 lg:w-14 lg:h-14",style:{color:w.green}})}),i.jsx("h3",{className:"font-serif text-xl lg:text-2xl mb-2",style:{color:w.navy},children:"Verified"}),i.jsx("p",{className:"text-gray-500 text-sm",children:"Your identity has been verified."})]}):h==="submitted"?i.jsxs("div",{className:"text-center py-8 lg:py-12",children:[i.jsx("div",{className:"w-20 h-20 lg:w-24 lg:h-24 mx-auto rounded-full flex items-center justify-center mb-4 lg:mb-6",style:{background:`${w.gold}20`},children:i.jsx(yi,{className:"w-12 h-12 lg:w-14 lg:h-14",style:{color:w.gold}})}),i.jsx("h3",{className:"font-serif text-xl lg:text-2xl mb-2",style:{color:w.navy},children:"Under Review"}),i.jsx("p",{className:"text-gray-500 text-sm",children:"We're reviewing your documents (1-2 business days)."})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex items-center justify-center mb-6 lg:mb-8",children:[1,2,3].map(O=>i.jsxs(fd.Fragment,{children:[i.jsx("div",{className:`w-8 h-8 lg:w-10 lg:h-10 rounded-full flex items-center justify-center font-bold text-sm ${v>=O?"text-white":"bg-gray-200 text-gray-500"}`,style:v>=O?{background:w.navy}:{},children:v>O?i.jsx(sn,{className:"w-4 h-4"}):O}),O<3&&i.jsx("div",{className:`w-12 lg:w-20 h-1 mx-1 lg:mx-2 ${v>O?"bg-green-500":"bg-gray-200"}`})]},O))}),v===1&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold",style:{color:w.navy},children:"Personal Information"}),i.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Full Legal Name"}),i.jsx("input",{type:"text",value:S.fullName,onChange:O=>I({...S,fullName:O.target.value}),placeholder:"As shown on ID",className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Date of Birth"}),i.jsx("input",{type:"date",value:S.dateOfBirth,onChange:O=>I({...S,dateOfBirth:O.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:"ID Number"}),i.jsx("input",{type:"text",value:S.idNumber,onChange:O=>I({...S,idNumber:O.target.value}),placeholder:"Enter your ID number",className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:"ID Type"}),i.jsxs("select",{value:S.idType,onChange:O=>I({...S,idType:O.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"Select ID Type"}),i.jsx("option",{value:"passport",children:"International Passport"}),i.jsx("option",{value:"drivers_license",children:"Driver's License"}),i.jsx("option",{value:"national_id",children:"National ID Card"}),i.jsx("option",{value:"residence_permit",children:"Residence Permit"})]})]})]})]}),v===2&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold",style:{color:w.navy},children:"Upload Documents"}),i.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Take photos of your ID or upload existing images"}),i.jsxs("label",{className:"block cursor-pointer",children:[i.jsx("input",{type:"file",accept:"image/*,application/pdf",capture:"environment",onChange:O=>L(O,"idFront"),className:"hidden"}),i.jsx("div",{className:`border-2 border-dashed rounded-2xl p-6 lg:p-8 text-center hover:border-gray-400 transition-colors ${S.idFront?"border-green-400 bg-green-50":"border-gray-200"}`,children:S.idFront?i.jsxs(i.Fragment,{children:[i.jsx(sn,{className:"w-10 h-10 mx-auto text-green-500 mb-3"}),i.jsx("p",{className:"font-medium text-sm text-green-600",children:"ID Front Uploaded "}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tap to change"})]}):i.jsxs(i.Fragment,{children:[i.jsx(es,{className:"w-10 h-10 mx-auto text-gray-400 mb-3"}),i.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:"Upload ID (Front)"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tap to take photo or select file"})]})})]}),i.jsxs("label",{className:"block cursor-pointer",children:[i.jsx("input",{type:"file",accept:"image/*,application/pdf",capture:"environment",onChange:O=>L(O,"idBack"),className:"hidden"}),i.jsx("div",{className:`border-2 border-dashed rounded-2xl p-6 lg:p-8 text-center hover:border-gray-400 transition-colors ${S.idBack?"border-green-400 bg-green-50":"border-gray-200"}`,children:S.idBack?i.jsxs(i.Fragment,{children:[i.jsx(sn,{className:"w-10 h-10 mx-auto text-green-500 mb-3"}),i.jsx("p",{className:"font-medium text-sm text-green-600",children:"ID Back Uploaded "}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tap to change"})]}):i.jsxs(i.Fragment,{children:[i.jsx(es,{className:"w-10 h-10 mx-auto text-gray-400 mb-3"}),i.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:"Upload ID (Back)"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tap to take photo or select file"})]})})]})]}),v===3&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold",style:{color:w.navy},children:"Take a Selfie"}),i.jsx("p",{className:"text-gray-500 text-sm",children:"Hold your ID next to your face"}),i.jsxs("label",{className:"block cursor-pointer",children:[i.jsx("input",{type:"file",accept:"image/*",capture:"user",onChange:O=>L(O,"selfie"),className:"hidden"}),i.jsx("div",{className:`border-2 border-dashed rounded-2xl p-8 lg:p-12 text-center hover:border-gray-400 transition-colors ${S.selfie?"border-green-400 bg-green-50":"border-gray-200"}`,children:S.selfie?i.jsxs(i.Fragment,{children:[i.jsx("img",{src:S.selfie,alt:"Selfie preview",className:"w-32 h-32 mx-auto rounded-xl object-cover mb-3"}),i.jsx("p",{className:"font-medium text-sm text-green-600",children:"Selfie Uploaded "}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tap to change"})]}):i.jsxs(i.Fragment,{children:[i.jsx(Am,{className:"w-14 h-14 mx-auto text-gray-400 mb-3"}),i.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:"Take or Upload Selfie"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tap to open camera or select photo"})]})})]})]}),i.jsxs("div",{className:"flex justify-between mt-6 lg:mt-8",children:[v>1&&i.jsx("button",{onClick:()=>T(v-1),className:"px-6 py-2.5 rounded-xl font-medium text-gray-600 hover:bg-gray-100 text-sm",children:"Back"}),i.jsx(U.button,{onClick:()=>v<3?T(v+1):je(),whileHover:{scale:1.02},whileTap:{scale:.98},disabled:b,className:"ml-auto px-6 lg:px-8 py-2.5 lg:py-3 rounded-xl text-white font-semibold text-sm disabled:opacity-50",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:b?"Submitting...":v===3?"Submit KYC":"Continue"})]})]})]}),s==="notifications"&&i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-5 lg:p-8",children:[i.jsx("h2",{className:"font-serif text-lg lg:text-2xl mb-4 lg:mb-6",style:{color:w.navy},children:"Notifications"}),i.jsx("div",{className:"space-y-4",children:[{title:"Investment Updates",desc:"Portfolio performance alerts",enabled:!0},{title:"New Opportunities",desc:"New investment alerts",enabled:!0},{title:"Payouts",desc:"Payout notifications",enabled:!0},{title:"Referral Bonuses",desc:"Earn alerts from referrals",enabled:!0},{title:"Marketing",desc:"Promotional emails",enabled:!1}].map((O,ce)=>i.jsxs("div",{className:"flex items-center justify-between p-3 lg:p-4 bg-gray-50 rounded-xl",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:O.title}),i.jsx("p",{className:"text-xs text-gray-500",children:O.desc})]}),i.jsx("button",{className:`w-11 h-6 lg:w-12 lg:h-7 rounded-full transition-colors ${O.enabled?"":"bg-gray-300"}`,style:O.enabled?{background:w.green}:{},children:i.jsx("div",{className:`w-4 h-4 lg:w-5 lg:h-5 bg-white rounded-full shadow transition-transform ${O.enabled?"translate-x-6":"translate-x-1"}`})})]},ce))})]}),i.jsxs(U.button,{onClick:n,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full mt-6 py-3.5 rounded-xl text-red-500 font-semibold bg-red-50 flex items-center justify-center gap-2 lg:hidden",children:[i.jsx(_a,{className:"w-5 h-5"})," Logout"]})]})})}const o1={email:"saxovaultadmin@saxovault.com",password:"SaxoAdmin2024!"},J={getUsers:()=>JSON.parse(localStorage.getItem("saxovault_users")||"[]"),setUsers:t=>localStorage.setItem("saxovault_users",JSON.stringify(t)),fetchUsersFromCloud:async()=>{try{const t=await t6();return t.success?(localStorage.setItem("saxovault_users",JSON.stringify(t.data)),t.data):J.getUsers()}catch(t){return console.error("Error fetching users from cloud:",t),J.getUsers()}},getTransactions:()=>{try{const t=localStorage.getItem("saxovault_transactions"),e=JSON.parse(t||"[]");return Array.isArray(e)?e:[]}catch(t){return console.error("Error parsing transactions:",t),[]}},setTransactions:t=>{const e=Array.isArray(t)?t:[];localStorage.setItem("saxovault_transactions",JSON.stringify(e))},fetchTransactionsFromCloud:async()=>{try{const t=await s6();return t.success?(localStorage.setItem("saxovault_transactions",JSON.stringify(t.data)),t.data):J.getTransactions()}catch(t){return console.error("Error fetching transactions from cloud:",t),J.getTransactions()}},addTransaction:async t=>{var s;console.log(" Adding new transaction:",t.type);const e=Date.now().toString();let n={...t,id:e,localId:e,createdAt:new Date().toISOString(),status:"pending"};try{const r=await n6(n);r.success&&r.id&&(n.id=r.id,n.firestoreId=r.id,console.log(" Transaction saved to Firestore with ID:",r.id))}catch(r){console.error(" Error saving to Firestore:",r)}try{let r=J.getTransactions();Array.isArray(r)||(console.warn(" Transactions was not an array, resetting..."),r=[]),r.unshift(n),J.setTransactions(r),console.log(" Transaction saved to localStorage")}catch(r){console.error(" Error saving to localStorage:",r);try{J.setTransactions([n])}catch(a){console.error(" Critical: Could not save transaction:",a)}}return J.notifyAdmin({type:t.type,title:`New ${t.type} Request`,message:`$${(s=t.amount)==null?void 0:s.toLocaleString()} ${t.type} from ${t.userEmail||"user"}`,urgent:!0,actionRequired:!0}),n},updateTransaction:async(t,e)=>{console.log(" Updating transaction:",t,e);const s=J.getTransactions().find(l=>l.id===t||l.firestoreId===t),r=(s==null?void 0:s.firestoreId)||(s==null?void 0:s.id)||t;try{await r1(r,e),console.log(" Transaction updated in Firestore with ID:",r)}catch(l){if(console.error(" Error updating in Firestore:",l),s!=null&&s.id&&s.id!==r)try{await r1(s.id,e),console.log(" Transaction updated with alternate ID:",s.id)}catch(u){console.error(" Alternate update also failed:",u)}}const o=J.getTransactions().map(l=>l.id===t||l.firestoreId===t?{...l,...e}:l);J.setTransactions(o)},updateUser:async(t,e)=>{try{await Ey(t,e),console.log(" User updated in Firestore")}catch(s){console.error(" Error updating user in Firestore:",s)}const n=localStorage.getItem(`user_${t}`);if(n){const s=JSON.parse(n);localStorage.setItem(`user_${t}`,JSON.stringify({...s,...e}))}},getSettings:()=>JSON.parse(localStorage.getItem("saxovault_settings")||JSON.stringify({wallets:{btc:"bc1qzmgg6hw0fttfpczh2whp8f44k497d6pucghk58",eth:"0x83057882eC7B7EE0cBe63C2fE2b8957e7ab69655",usdt:"TLGH9FucAuPNUoQw2XUFEDtCg4FFdJ2jKG"},whatsapp:"+14642395280",email:"support@saxovault.com",siteName:"SaxoVault Capital"})),setSettings:t=>localStorage.setItem("saxovault_settings",JSON.stringify(t)),getNotifications:()=>JSON.parse(localStorage.getItem("saxovault_notifications")||"[]"),addNotification:t=>{const e=J.getNotifications();e.unshift({...t,id:Date.now(),read:!1,createdAt:new Date().toISOString()}),localStorage.setItem("saxovault_notifications",JSON.stringify(e.slice(0,100)))},getAdminNotifications:()=>JSON.parse(localStorage.getItem("saxovault_admin_notifs")||"[]"),notifyAdmin:t=>{const e=J.getAdminNotifications(),n={...t,id:Date.now(),read:!1,createdAt:new Date().toISOString()};if(e.unshift(n),localStorage.setItem("saxovault_admin_notifs",JSON.stringify(e.slice(0,200))),localStorage.getItem("saxovault_admin")==="true")try{const s=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2teleQABMjV4wdvqhBwIPnyV0+TkeEU5Un+13e6ZRxcnOFJsocHn04FGNjBIYZi+4t6QSjE0SGqay+LYglM4M0NTfqrN3tCMaD0wP0pqpcnc3I5kOC9AWGyiwtff");s.volume=.3,s.play().catch(()=>{})}catch{}return n},markAdminNotifRead:t=>{const n=J.getAdminNotifications().map(s=>s.id===t?{...s,read:!0}:s);localStorage.setItem("saxovault_admin_notifs",JSON.stringify(n))},queueEmail:t=>{const e=JSON.parse(localStorage.getItem("saxovault_email_queue")||"[]");e.push({...t,id:Date.now(),status:"queued",createdAt:new Date().toISOString()}),localStorage.setItem("saxovault_email_queue",JSON.stringify(e))},logActivity:(t,e,n)=>{try{let s=JSON.parse(localStorage.getItem("saxovault_activity_logs")||"[]");Array.isArray(s)||(console.warn("Activity logs was not an array, resetting..."),s=[]),s.unshift({id:Date.now(),userId:t,action:e,details:n,ip:"xxx.xxx.xxx.xxx",userAgent:navigator.userAgent,createdAt:new Date().toISOString()}),localStorage.setItem("saxovault_activity_logs",JSON.stringify(s.slice(0,500)))}catch(s){console.error("Error logging activity:",s),localStorage.setItem("saxovault_activity_logs",JSON.stringify([]))}},getActivityLogs:t=>{const e=JSON.parse(localStorage.getItem("saxovault_activity_logs")||"[]");return t?e.filter(n=>n.userId===t):e},getAutoInvestPlans:t=>{const e=JSON.parse(localStorage.getItem("saxovault_autoinvest")||"[]");return t?e.filter(n=>n.userId===t):e},saveAutoInvestPlan:t=>{const e=J.getAutoInvestPlans(),n=e.findIndex(s=>s.id===t.id);n>=0?e[n]=t:e.push({...t,id:Date.now(),createdAt:new Date().toISOString()}),localStorage.setItem("saxovault_autoinvest",JSON.stringify(e))},deleteAutoInvestPlan:t=>{const e=J.getAutoInvestPlans().filter(n=>n.id!==t);localStorage.setItem("saxovault_autoinvest",JSON.stringify(e))}},mt={publicKey:"trmaHaGeZzBpjKtaj",serviceId:"service_59y54de",templateId:"template_kskirgx",adminEmail:"saxovault6@gmail.com"};let nr=!1;try{Uu.init(mt.publicKey),nr=!0,console.log(" EmailJS initialized successfully"),console.log(" Admin email:",mt.adminEmail)}catch(t){console.error(" EmailJS init failed:",t)}const _e={getAdminEmail:()=>mt.adminEmail,isReady:()=>nr,testEmail:async t=>{if(console.log(" ========== EMAIL TEST START =========="),console.log(" Testing EmailJS with:",t),console.log(" Service ID:",mt.serviceId),console.log(" Template ID:",mt.templateId),console.log(" Public Key:",mt.publicKey),console.log(" EmailJS Initialized:",nr),!nr)return console.error(" EmailJS not initialized!"),alert("EmailJS not initialized. Check console for errors."),{success:!1,error:"Not initialized"};try{const e=await Uu.send(mt.serviceId,mt.templateId,{to_email:t,subject:"SaxoVault Test Email",message:`This is a test email from SaxoVault. If you received this, EmailJS is working correctly!

Time: `+new Date().toLocaleString(),from_name:"SaxoVault Capital",reply_to:"support@saxovault.com"});return console.log(" Test email sent successfully!",e),console.log(" ========== EMAIL TEST SUCCESS =========="),alert(" Test email sent! Check your inbox (and spam folder)."),{success:!0,result:e}}catch(e){return console.error(" Test email failed:",e),console.error(" Error details:",{text:e==null?void 0:e.text,message:e==null?void 0:e.message,status:e==null?void 0:e.status,name:e==null?void 0:e.name}),console.log(" ========== EMAIL TEST FAILED =========="),alert(" Test email failed: "+((e==null?void 0:e.text)||(e==null?void 0:e.message)||"Unknown error")+`

Check console for details.`),{success:!1,error:e}}},sendEmail:async(t,e,n,s="notification")=>{if(console.log(" ========== SENDING EMAIL =========="),console.log(" To:",t),console.log(" Subject:",e),console.log(" Type:",s),console.log(" EmailJS Ready:",nr),!nr)return console.error(" EmailJS not initialized - cannot send email"),{success:!1,message:"EmailJS not initialized"};if(!t||!e)return console.error(" Missing email or subject"),{success:!1,message:"Missing email or subject"};try{const r={to_email:t,subject:e,message:n,from_name:"SaxoVault Capital",reply_to:"support@saxovault.com"};console.log(" Calling emailjs.send()...");const a=await Uu.send(mt.serviceId,mt.templateId,r);return console.log(" EMAIL SENT SUCCESSFULLY!"),console.log(" Response:",{status:a.status,text:a.text}),J.queueEmail({to:t,subject:e,type:s,status:"sent",createdAt:new Date().toISOString()}),{success:!0,response:a}}catch(r){return console.error(" EMAIL SEND FAILED!"),console.error(" Error:",r),console.error(" Details:",{text:r==null?void 0:r.text,message:r==null?void 0:r.message,status:r==null?void 0:r.status}),J.queueEmail({to:t,subject:e,type:s,status:"failed",error:(r==null?void 0:r.text)||(r==null?void 0:r.message),createdAt:new Date().toISOString()}),{success:!1,error:(r==null?void 0:r.text)||(r==null?void 0:r.message)}}},sendAdminNotification:async(t,e)=>(console.log(" Sending ADMIN notification:",t),await _e.sendEmail(mt.adminEmail,t,e,"admin")),sendDepositNotification:async(t,e,n)=>{const s=`Deposit Request - $${e.toLocaleString()} ${n}`,r=`Hello,

Your deposit request has been received!

Amount: $${e.toLocaleString()}
Payment Method: ${n}
Status: Pending Confirmation

Your funds will be credited once confirmed (usually 10-30 minutes).

Thank you,
SaxoVault Capital`,a=await _e.sendEmail(t,s,r,"deposit"),o=` [DEPOSIT] $${e.toLocaleString()} from ${t}`,l=`
       NEW DEPOSIT REQUEST


 User: ${t}
 Amount: $${e.toLocaleString()}
 Method: ${n}
 Time: ${new Date().toLocaleString()}

Action Required: Review in admin panel

`;return await _e.sendAdminNotification(o,l),a},sendWithdrawalNotification:async(t,e,n)=>{const s=`Withdrawal Request - $${e.toLocaleString()}`,r=`Hello,

Your withdrawal request has been submitted.

Amount: $${e.toLocaleString()}
Destination: ${n}
Status: Under Review

Processing time: 24-48 hours after approval.

Thank you,
SaxoVault Capital`,a=await _e.sendEmail(t,s,r,"withdrawal"),o=` [WITHDRAWAL] $${e.toLocaleString()} from ${t}`,l=`
      NEW WITHDRAWAL REQUEST


 User: ${t}
 Amount: $${e.toLocaleString()}
 Wallet: ${n}
 Time: ${new Date().toLocaleString()}

Action Required: Approve/Reject in admin panel

`;return await _e.sendAdminNotification(o,l),a},sendInvestmentNotification:async(t,e,n,s)=>{const r=`Investment Activated - ${e}`,a=`Hello,

Your investment has been activated!

Investment: ${e}
Amount: $${n.toLocaleString()}
Duration: ${s||"As specified"}
Status: Active

You can track your investment in the dashboard.

Thank you,
SaxoVault Capital`,o=await _e.sendEmail(t,r,a,"investment"),l=` [INVESTMENT] $${n.toLocaleString()} - ${e}`,u=`
      NEW INVESTMENT ACTIVATION


 User: ${t}
 Plan: ${e}
 Amount: $${n.toLocaleString()}
 Duration: ${s||"N/A"}
 Time: ${new Date().toLocaleString()}

`;return await _e.sendAdminNotification(l,u),o},sendKYCNotification:async(t,e,n)=>{const s="KYC Verification Submitted",r=`Hello ${e||""},

Your KYC verification documents have been submitted successfully.

Document Type: ${n||"ID Document"}
Status: Under Review

Our team will verify your documents within 24-48 hours.

Thank you,
SaxoVault Capital`,a=await _e.sendEmail(t,s,r,"kyc"),o=` [KYC] New Submission from ${t}`,l=`
        NEW KYC SUBMISSION


 User: ${e||"N/A"}
 Email: ${t}
 Document Type: ${n||"ID Document"}
 Submitted: ${new Date().toLocaleString()}

Action Required: Verify documents in admin panel

`;return await _e.sendAdminNotification(o,l),a},sendNewUserNotification:async(t,e,n)=>{const s=` [NEW USER] ${e||t} just registered`,r=`
         NEW USER REGISTRATION


 Name: ${e||"N/A"}
 Email: ${t}
 Method: ${n||"Email"}
 Time: ${new Date().toLocaleString()}

`;return await _e.sendAdminNotification(s,r)},sendLoginNotification:async(t,e,n)=>{const s=` [LOGIN] ${t} logged in`,r=`User Login Activity

 User: ${e||t}
 Email: ${t}
 Method: ${n||"Email"}
 Time: ${new Date().toLocaleString()}`;return await _e.sendAdminNotification(s,r)},sendReferralNotification:async(t,e)=>{const n="New Referral Signup!",s=`Hello,

Someone signed up using your referral link!

New User: ${e}
Your Bonus: 1% of their deposits

Keep sharing to earn more!

Thank you,
SaxoVault Capital`;return await _e.sendEmail(t,n,s,"referral")},send2FACode:async(t,e)=>{const n=`Security Code: ${e}`,s=`Your SaxoVault verification code:

${e}

This code expires in 5 minutes.
Never share this code with anyone.

SaxoVault Capital`;return await _e.sendEmail(t,n,s,"2fa")},sendBroadcast:async(t,e,n)=>{const s=[];for(const r of t){const a=await _e.sendEmail(r.email,e,n,"broadcast");s.push({email:r.email,...a})}return s},sendStatusUpdate:async(t,e,n,s,r="")=>{console.log(` Sending status update email to: ${t}`),console.log(` Type: ${e}, Status: ${n}, Amount: ${s}`);const a=`SaxoVault - ${e} ${n}`,o=`Hello,

Your ${e.toLowerCase()} has been ${n.toUpperCase()}.

Amount: $${(s==null?void 0:s.toLocaleString())||"N/A"}
Status: ${n.toUpperCase()}
${r?`
Note: ${r}`:""}

If you have any questions, please contact our support team.

Thank you,
SaxoVault Capital
support@saxovault.com`;try{const l=await _e.sendEmail(t,a,o,"status");return console.log(" Status update email result:",l),l}catch(l){throw console.error(" Status update email failed:",l),l}},sendKYCStatusUpdate:async(t,e,n="")=>{const s=e==="verified"||e==="approved",r=s?"KYC Verification Approved ":"KYC Verification Update",a=`Hello,

Your KYC verification has been ${s?"APPROVED":"REJECTED"}.

${s?`Congratulations! Your account is now fully verified. You can now:
 Make unlimited deposits
 Access all investment plans
 Enjoy faster withdrawal processing

Thank you for verifying your identity with SaxoVault Capital.`:`Unfortunately, your KYC submission could not be verified.

${n?`Reason: ${n}`:"Please ensure your documents are clear and match your profile information."}

You can resubmit your documents by going to Profile  KYC Verification.`}

Thank you,
SaxoVault Capital`;return await _e.sendEmail(t,r,a,"kyc")}};typeof window<"u"&&(window.EmailService=_e,window.testEmail=async t=>{if(console.log(" ========== EMAIL TEST START =========="),console.log(" Testing EmailJS with:",t),console.log(" Service ID:",mt.serviceId),console.log(" Template ID:",mt.templateId),console.log(" Public Key:",mt.publicKey),console.log(" EmailJS Ready:",nr),!nr)return console.error(" EmailJS not initialized!"),alert("EmailJS not initialized. Check console for errors."),{success:!1,error:"Not initialized"};try{const e=await Uu.send(mt.serviceId,mt.templateId,{to_email:t,subject:"SaxoVault Test Email - "+new Date().toLocaleTimeString(),message:`This is a test email from SaxoVault.

If you received this, EmailJS is working correctly!

Time: `+new Date().toLocaleString(),from_name:"SaxoVault Capital",reply_to:"support@saxovault.com"});return console.log(" Test email sent successfully!",e),console.log(" ========== EMAIL TEST SUCCESS =========="),alert(" Test email sent to "+t+`!

Check your inbox (and spam folder).`),{success:!0,result:e}}catch(e){return console.error(" Test email failed:",e),console.error(" Error details:",{text:e==null?void 0:e.text,message:e==null?void 0:e.message,status:e==null?void 0:e.status,name:e==null?void 0:e.name}),console.log(" ========== EMAIL TEST FAILED =========="),alert(` Test email failed!

Error: `+((e==null?void 0:e.text)||(e==null?void 0:e.message)||"Unknown error")+`

Check console for details.`),{success:!1,error:e}}},console.log(' Email test ready! Run: window.testEmail("your@email.com")'));const rn={generate2FACode:()=>Math.floor(1e5+Math.random()*9e5).toString(),store2FACode:(t,e)=>{const n=JSON.parse(localStorage.getItem("saxovault_2fa_codes")||"{}");return n[t]={code:e,createdAt:Date.now(),expires:Date.now()+5*60*1e3},localStorage.setItem("saxovault_2fa_codes",JSON.stringify(n)),e},verify2FACode:(t,e)=>{const n=JSON.parse(localStorage.getItem("saxovault_2fa_codes")||"{}"),s=n[t];return s?Date.now()>s.expires?{valid:!1,message:"Code expired"}:s.code!==e?{valid:!1,message:"Invalid code"}:(delete n[t],localStorage.setItem("saxovault_2fa_codes",JSON.stringify(n)),{valid:!0,message:"Verified"}):{valid:!1,message:"No code found"}},send2FACode:async(t,e)=>{console.log(" Sending 2FA code to:",e);const n=rn.generate2FACode();rn.store2FACode(t,n);try{const s=await _e.send2FACode(e,n);return console.log(" 2FA code sent successfully:",s),{success:!0,code:n}}catch(s){return console.error(" Failed to send 2FA code:",s),{success:!1,error:s}}},is2FAEnabled:t=>{var a;if(!t)return!1;if((a=JSON.parse(localStorage.getItem("saxovault_user_2fa")||"{}")[t])!=null&&a.enabled||JSON.parse(localStorage.getItem(`user_${t}`)||"{}").twoFactorEnabled)return!0;const r=JSON.parse(localStorage.getItem("saxovault_users")||"[]").find(o=>o.uid===t);return!!(r!=null&&r.twoFactorEnabled)},enable2FA:async t=>{const e=JSON.parse(localStorage.getItem("saxovault_user_2fa")||"{}");e[t]={enabled:!0,enabledAt:new Date().toISOString()},localStorage.setItem("saxovault_user_2fa",JSON.stringify(e));const n=JSON.parse(localStorage.getItem(`user_${t}`)||"{}");n.twoFactorEnabled=!0,n.twoFactorEnabledAt=new Date().toISOString(),localStorage.setItem(`user_${t}`,JSON.stringify(n));const s=JSON.parse(localStorage.getItem("saxovault_current_user")||"{}");s.uid===t&&(s.twoFactorEnabled=!0,localStorage.setItem("saxovault_current_user",JSON.stringify(s)));const a=JSON.parse(localStorage.getItem("saxovault_users")||"[]").map(o=>o.uid===t?{...o,twoFactorEnabled:!0,twoFactorEnabledAt:new Date().toISOString()}:o);localStorage.setItem("saxovault_users",JSON.stringify(a));try{await J.updateUser(t,{twoFactorEnabled:!0,twoFactorEnabledAt:new Date().toISOString()}),console.log(" 2FA status synced to Firestore")}catch(o){console.error(" Failed to sync 2FA to Firestore:",o)}console.log(" 2FA enabled for user:",t)},disable2FA:async t=>{const e=JSON.parse(localStorage.getItem("saxovault_user_2fa")||"{}");e[t]={enabled:!1},localStorage.setItem("saxovault_user_2fa",JSON.stringify(e));const n=JSON.parse(localStorage.getItem(`user_${t}`)||"{}");n.twoFactorEnabled=!1,localStorage.setItem(`user_${t}`,JSON.stringify(n));const s=JSON.parse(localStorage.getItem("saxovault_current_user")||"{}");s.uid===t&&(s.twoFactorEnabled=!1,localStorage.setItem("saxovault_current_user",JSON.stringify(s)));const a=JSON.parse(localStorage.getItem("saxovault_users")||"[]").map(o=>o.uid===t?{...o,twoFactorEnabled:!1}:o);localStorage.setItem("saxovault_users",JSON.stringify(a));try{await J.updateUser(t,{twoFactorEnabled:!1}),console.log(" 2FA disabled synced to Firestore")}catch(o){console.error(" Failed to sync 2FA disable to Firestore:",o)}console.log(" 2FA disabled for user:",t)}};function F6({onClose:t,user:e}){const[n,s]=R.useState("weekly"),[r,a]=R.useState(500),[o,l]=R.useState(null),[u,d]=R.useState([]),f=JSON.parse(localStorage.getItem("saxovault_investments")||"null")||oh;R.useEffect(()=>{d(J.getAutoInvestPlans(e==null?void 0:e.uid))},[e]),R.useEffect(()=>{o&&a(o.min||500)},[o]);const h=[{id:"daily",label:"Daily",desc:"Every day"},{id:"weekly",label:"Weekly",desc:"Every Monday"},{id:"biweekly",label:"Bi-Weekly",desc:"Every 2 weeks"},{id:"monthly",label:"Monthly",desc:"1st of each month"}],p=(o==null?void 0:o.min)||500,v=async()=>{if(!o){alert("Please select an investment plan");return}if(r<p){alert(`Minimum investment for ${o.name} is $${p.toLocaleString()}`);return}const I={userId:e==null?void 0:e.uid,userEmail:e==null?void 0:e.email,userName:e==null?void 0:e.name,investmentId:o.id,investmentName:o.name,investmentCategory:o.category,amount:r,frequency:n,status:"active",nextExecution:T(n),totalInvested:0,executionCount:0,createdAt:new Date().toISOString()};J.saveAutoInvestPlan(I),d([...u,I]);try{const N=mt.adminEmail||"saxovault6@gmail.com",y=`New Auto-Invest Plan Created

User: ${(e==null?void 0:e.name)||"User"} (${e==null?void 0:e.email})
Investment: ${o.name}
Category: ${o.category}
Amount: $${r.toLocaleString()} per ${n}
Next Execution: ${new Date(I.nextExecution).toLocaleDateString()}

---
This auto-invest plan will automatically execute at the scheduled times.
SaxoVault Capital`;await _e.sendEmail(N,` New Auto-Invest: ${e==null?void 0:e.email} - $${r}/${n}`,y,"autoinvest"),console.log(" Auto-invest notification sent to admin")}catch(N){console.error(" Failed to send auto-invest notification:",N)}J.addNotification({type:"autoinvest",message:`Auto-invest plan created: $${r}/${n} into ${o.name}`}),l(null),a(500),alert(` Auto-invest plan created!

$${r.toLocaleString()} will be invested ${n} into ${o.name}`)},T=I=>{const N=new Date;switch(I){case"daily":return new Date(N.setDate(N.getDate()+1)).toISOString();case"weekly":return new Date(N.setDate(N.getDate()+(7-N.getDay()+1)%7+1)).toISOString();case"biweekly":return new Date(N.setDate(N.getDate()+14)).toISOString();case"monthly":return new Date(N.getFullYear(),N.getMonth()+1,1).toISOString();default:return new Date(N.setDate(N.getDate()+7)).toISOString()}},S=async I=>{var N,y;if(confirm("Cancel this auto-invest plan?")){J.deleteAutoInvestPlan(I.id),d(u.filter(b=>b.id!==I.id));try{const b=mt.adminEmail||"saxovault6@gmail.com",D=`Auto-Invest Plan Cancelled

User: ${(e==null?void 0:e.name)||"User"} (${e==null?void 0:e.email})
Investment: ${I.investmentName}
Amount: $${(N=I.amount)==null?void 0:N.toLocaleString()} per ${I.frequency}
Total Invested: $${((y=I.totalInvested)==null?void 0:y.toLocaleString())||0}
Executions: ${I.executionCount||0}

---
The user has cancelled this auto-invest plan.
SaxoVault Capital`;await _e.sendEmail(b,` Auto-Invest Cancelled: ${e==null?void 0:e.email}`,D,"autoinvest"),console.log(" Auto-invest cancellation notification sent to admin")}catch(b){console.error(" Failed to send cancellation notification:",b)}alert("Auto-invest plan cancelled")}};return i.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t,children:i.jsxs(U.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto shadow-2xl",onClick:I=>I.stopPropagation(),children:[i.jsx("div",{className:"p-6 border-b border-gray-100",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"font-serif text-xl",style:{color:w.navy},children:[i.jsx(Wu,{className:"w-5 h-5 inline mr-2 text-yellow-500"}),"Auto-Invest Plans"]}),i.jsx("p",{className:"text-sm text-gray-500",children:"Set up recurring investments automatically"})]}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full",children:i.jsx(Ot,{className:"w-5 h-5"})})]})}),i.jsxs("div",{className:"p-6",children:[u.length>0&&i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"font-medium text-sm text-gray-700 mb-3",children:"Active Plans"}),i.jsx("div",{className:"space-y-2",children:u.map(I=>{var N;return i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:I.investmentName}),i.jsxs("p",{className:"text-xs text-gray-500",children:["$",(N=I.amount)==null?void 0:N.toLocaleString(),"/",I.frequency]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${I.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:I.status}),i.jsx("button",{onClick:()=>S(I),className:"p-1.5 hover:bg-red-100 rounded text-red-500",children:i.jsx(cN,{className:"w-4 h-4"})})]})]},I.id)})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Investment"}),i.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto",children:f.slice(0,8).map(I=>i.jsxs("button",{onClick:()=>l(I),className:`p-3 rounded-xl text-left text-sm transition-all ${(o==null?void 0:o.id)===I.id?"ring-2 bg-blue-50":"bg-gray-50 hover:bg-gray-100"}`,style:(o==null?void 0:o.id)===I.id?{ringColor:w.navy}:{},children:[i.jsx("p",{className:"font-medium truncate",style:{color:w.navy},children:I.name}),i.jsxs("p",{className:"text-xs text-gray-500",children:[I.returns," returns"]})]},I.id))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount per Investment"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 font-medium",children:"$"}),i.jsx("input",{type:"number",value:r,onChange:I=>a(Math.max(p,+I.target.value)),className:"w-full pl-8 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2",style:{"--tw-ring-color":w.navy},min:p})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:o?`Minimum for ${o.name}: $${p.toLocaleString()}`:"Select an investment to see minimum amount"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Frequency"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:h.map(I=>i.jsxs("button",{onClick:()=>s(I.id),className:`p-3 rounded-xl text-left transition-all ${n===I.id?"text-white":"bg-gray-50 hover:bg-gray-100"}`,style:n===I.id?{background:w.navy}:{},children:[i.jsx("p",{className:"font-medium text-sm",children:I.label}),i.jsx("p",{className:`text-xs ${n===I.id?"text-white/70":"text-gray-500"}`,children:I.desc})]},I.id))})]}),o&&i.jsxs("div",{className:"p-4 rounded-xl",style:{background:`${w.green}10`},children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"You'll invest"}),i.jsxs("p",{className:"text-2xl font-bold",style:{color:w.navy},children:["$",r," / ",n]}),i.jsxs("p",{className:"text-sm text-gray-500",children:["into ",o.name]})]}),i.jsxs(U.button,{onClick:v,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:!o,className:"w-full py-4 rounded-xl text-white font-semibold disabled:opacity-50",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:[i.jsx(Wu,{className:"w-5 h-5 inline mr-2"}),"Create Auto-Invest Plan"]})]})]})]})})}function U6({user:t,onVerify:e,onClose:n,onResend:s}){const[r,a]=R.useState(["","","","","",""]),[o,l]=R.useState(""),[u,d]=R.useState(!1),[f,h]=R.useState(0),p=R.useRef([]);R.useEffect(()=>{var N;(N=p.current[0])==null||N.focus()},[]),R.useEffect(()=>{if(f>0){const N=setTimeout(()=>h(y=>y-1),1e3);return()=>clearTimeout(N)}},[f]);const v=(N,y)=>{var D;if(!/^\d*$/.test(y))return;const b=[...r];b[N]=y.slice(-1),a(b),y&&N<5&&((D=p.current[N+1])==null||D.focus()),b.every(M=>M)&&b.join("").length===6&&S(b.join(""))},T=(N,y)=>{var b;y.key==="Backspace"&&!r[N]&&N>0&&((b=p.current[N-1])==null||b.focus())},S=async N=>{var b;d(!0),l("");const y=rn.verify2FACode(t==null?void 0:t.uid,N);y.valid?e():(l(y.message),a(["","","","","",""]),(b=p.current[0])==null||b.focus()),d(!1)},I=async()=>{if(!(f>0)){d(!0);try{(await rn.send2FACode(t==null?void 0:t.uid,t==null?void 0:t.email)).success?(h(60),a(["","","","","",""]),l("")):l("Failed to send code. Please try again.")}catch{l("Failed to send code. Please try again.")}d(!1)}};return i.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:i.jsxs(U.div,{initial:{scale:.9},animate:{scale:1},className:"bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl text-center",children:[i.jsx("div",{className:"w-16 h-16 rounded-full mx-auto mb-4 flex items-center justify-center",style:{background:`${w.navy}10`},children:i.jsx(aN,{className:"w-8 h-8",style:{color:w.navy}})}),i.jsx("h2",{className:"font-serif text-xl mb-2",style:{color:w.navy},children:"Two-Factor Authentication"}),i.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:["Enter the 6-digit code sent to",i.jsx("br",{}),i.jsx("strong",{children:t==null?void 0:t.email})]}),i.jsx("div",{className:"flex justify-center gap-2 mb-6",children:r.map((N,y)=>i.jsx("input",{ref:b=>p.current[y]=b,type:"text",inputMode:"numeric",maxLength:"1",value:N,onChange:b=>v(y,b.target.value),onKeyDown:b=>T(y,b),className:"w-12 h-14 text-center text-2xl font-bold border-2 rounded-xl focus:outline-none transition-all",style:{borderColor:o?"#ef4444":N?w.navy:"#e5e7eb"}},y))}),o&&i.jsxs("p",{className:"text-red-500 text-sm mb-4 flex items-center justify-center gap-1",children:[i.jsx(vs,{className:"w-4 h-4"})," ",o]}),i.jsx("button",{onClick:I,disabled:f>0,className:"text-sm text-gray-500 hover:text-gray-700 disabled:opacity-50 mb-4",children:f>0?`Resend code in ${f}s`:"Resend code"}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(U.button,{onClick:n,whileHover:{scale:1.02},className:"flex-1 py-3 rounded-xl border border-gray-200",children:"Cancel"}),i.jsx(U.button,{onClick:()=>S(r.join("")),whileHover:{scale:1.02},disabled:u||r.some(N=>!N),className:"flex-1 py-3 rounded-xl text-white font-medium disabled:opacity-50",style:{background:w.navy},children:u?"Verifying...":"Verify"})]})]})})}function $6({onLogin:t}){const[e,n]=R.useState(""),[s,r]=R.useState(""),[a,o]=R.useState(""),[l,u]=R.useState(!1),d=f=>{f.preventDefault(),u(!0),o(""),setTimeout(()=>{e===o1.email&&s===o1.password?(localStorage.setItem("saxovault_admin","true"),t()):o("Invalid admin credentials"),u(!1)},1e3)};return i.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"w-16 h-16 mx-auto rounded-2xl flex items-center justify-center mb-4",style:{background:`linear-gradient(135deg, ${w.gold} 0%, ${w.goldDark} 100%)`},children:i.jsx(Tr,{className:"w-8 h-8 text-white"})}),i.jsx("h1",{className:"font-serif text-2xl",style:{color:w.navy},children:"Admin Portal"}),i.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"SaxoVault Capital Management"})]}),a&&i.jsxs("div",{className:"mb-4 p-3 rounded-xl bg-red-50 text-red-600 text-sm flex items-center gap-2",children:[i.jsx(vs,{className:"w-4 h-4"})," ",a]}),i.jsxs("form",{onSubmit:d,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Admin Email"}),i.jsxs("div",{className:"relative",children:[i.jsx(Qn,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"email",value:e,onChange:f=>n(f.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"admin@saxovault.com",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(pr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"password",value:s,onChange:f=>r(f.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"",required:!0})]})]}),i.jsx(U.button,{type:"submit",disabled:l,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3.5 rounded-xl text-white font-semibold flex items-center justify-center gap-3",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:l?i.jsx(_n,{className:"w-5 h-5 animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(Tr,{className:"w-5 h-5"})," Access Admin Panel"]})})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsx("a",{href:"/",className:"text-sm text-gray-500 hover:underline",children:" Back to Website"})})]})})}function B6({onLogout:t}){var Ci,zn,Ka;const[e,n]=R.useState("overview"),[s,r]=R.useState([]),[a,o]=R.useState([]),[l,u]=R.useState(J.getSettings()),[d,f]=R.useState(J.getNotifications()),[h,p]=R.useState(null),[v,T]=R.useState(!0),[S,I]=R.useState(()=>{const x=localStorage.getItem("saxovault_website_settings");return x?JSON.parse(x):{siteName:"SaxoVault Capital",tagline:"Premium Investment Solutions",heroTitle:"Invest in Your Future",heroSubtitle:"Professional wealth management with institutional-grade security",minDeposit:500,minWithdrawal:100,withdrawalFee:0,referralBonus:1,maintenanceMode:!1,registrationOpen:!0,kycRequired:!0,twoFactorRequired:!1}}),[N,y]=R.useState(()=>{const x=localStorage.getItem("saxovault_branding_settings");return x?JSON.parse(x):{primaryColor:"#0a1628",secondaryColor:"#1e3a5f",accentColor:"#d4af37",logoUrl:"",faviconUrl:"",footerText:" 2024 SaxoVault Capital. All rights reserved.",socialLinks:{twitter:"",telegram:"",linkedin:"",facebook:""}}}),[b,D]=R.useState(()=>{const x=localStorage.getItem("saxovault_payment_settings");return x?JSON.parse(x):{btcEnabled:!0,btcAddress:"bc1qzmgg6hw0fttfpczh2whp8f44k497d6pucghk58",btcMinDeposit:100,ethEnabled:!0,ethAddress:"0x742d35Cc6634C0532925a3b844Bc9e7595f5bE21",ethMinDeposit:100,usdtEnabled:!0,usdtAddress:"TYDzsYUEpvnYmQk4zGP9sWWcTEd2MiAtW6",usdtNetwork:"TRC-20",usdtMinDeposit:100,bankTransferEnabled:!1,bankName:"",bankAccount:"",bankRouting:""}}),[M,z]=R.useState(()=>{const x=localStorage.getItem("saxovault_platform_config");return x?JSON.parse(x):{maxDailyWithdrawal:5e4,maxSingleWithdrawal:25e3,withdrawalProcessingTime:"24-48 hours",autoApproveDeposits:!1,autoApproveWithdrawals:!1,emailNotifications:!0,smsNotifications:!1,sessionTimeout:30,maxLoginAttempts:5,ipWhitelist:"",blockedCountries:""}}),k=()=>{localStorage.setItem("saxovault_website_settings",JSON.stringify(S)),alert(" Website settings saved!")},_=()=>{localStorage.setItem("saxovault_branding_settings",JSON.stringify(N)),alert(" Branding settings saved!")},E=()=>{localStorage.setItem("saxovault_payment_settings",JSON.stringify(b)),alert(" Payment settings saved!")},A=()=>{localStorage.setItem("saxovault_platform_config",JSON.stringify(M)),alert(" Platform configuration saved!")};R.useEffect(()=>{(async()=>{T(!0);try{const ie=await J.fetchUsersFromCloud();r(ie);const Re=await J.fetchTransactionsFromCloud();o(Re),console.log(" Admin data loaded from Firestore:",ie.length,"users,",Re.length,"transactions")}catch(ie){console.error("Error loading data:",ie),r(J.getUsers()),o(J.getTransactions())}T(!1)})();const te=i6(ie=>{r(ie),J.setUsers(ie)}),q=r6(ie=>{o(ie),J.setTransactions(ie)});return()=>{te&&te(),q&&q()}},[]);const P=s.length,V=a.filter(x=>x.type==="deposit"&&x.status==="completed").reduce((x,te)=>x+(parseFloat(te.amount)||0),0),C=a.filter(x=>x.type==="deposit"&&x.status==="pending").length,Q=a.filter(x=>x.type==="withdrawal"&&x.status==="pending").length,ae=async(x,te)=>{const q=s.map(ie=>ie.uid===x?{...ie,...te}:ie);r(q),await J.updateUser(x,te),J.addNotification({type:"user_update",message:"User updated successfully"}),p(null)},me=async(x,te)=>{const q=a.find(Ee=>Ee.id===x||Ee.firestoreId===x),ie={status:te,updatedAt:new Date().toISOString()};if(q&&te==="completed"&&q.type==="investment"){const Ee=new Date,Ie=q.totalDays||30,Ae=new Date(Ee);Ae.setDate(Ae.getDate()+Ie),ie.approvalDate=Ee.toISOString(),ie.maturityDate=Ae.toISOString(),ie.countdownStarted=!0,ie.countdownEndsAt=Ae.toISOString(),console.log(` Investment ${q.investmentName} approved!`),console.log(`   Countdown started: ${Ee.toISOString()}`),console.log(`   Maturity date: ${Ae.toISOString()} (${Ie} days)`)}const Re=a.map(Ee=>Ee.id===x||Ee.firestoreId===x?{...Ee,...ie}:Ee);if(o(Re),await J.updateTransaction(x,ie),q&&te==="completed"&&q.type==="deposit"){const Ee=s.find(Ie=>Ie.uid===q.userId||Ie.email===q.userEmail);if(Ee){const Ie=(parseFloat(Ee.balance)||0)+parseFloat(q.amount);await J.updateUser(Ee.uid,{balance:Ie}),r(s.map(Ae=>Ae.uid===Ee.uid?{...Ae,balance:Ie}:Ae)),console.log(` User ${Ee.email} balance updated to $${Ie}`)}}if(q&&te==="completed"&&q.type==="withdrawal"){const Ee=s.find(Ie=>Ie.uid===q.userId||Ie.email===q.userEmail);if(Ee){const Ie=Math.max(0,(parseFloat(Ee.balance)||0)-parseFloat(q.amount));await J.updateUser(Ee.uid,{balance:Ie}),r(s.map(Ae=>Ae.uid===Ee.uid?{...Ae,balance:Ie}:Ae)),console.log(` User ${Ee.email} balance updated to $${Ie} after withdrawal`)}}if(q&&te==="completed"&&q.type==="investment"){const Ie=JSON.parse(localStorage.getItem(`investments_${q.userId}`)||"[]").map(Ae=>Ae.investmentId===q.investmentId?{...Ae,...ie}:Ae);localStorage.setItem(`investments_${q.userId}`,JSON.stringify(Ie)),console.log(` Investment countdown started for ${q.userEmail}`)}if(J.addNotification({type:"tx_update",message:`Transaction ${te}`}),q&&q.userEmail){const Ee=te==="completed"?"Approved":te==="rejected"?"Rejected":te,Ie=q.type.charAt(0).toUpperCase()+q.type.slice(1);console.log(` Preparing to send ${Ee} email to ${q.userEmail}`),console.log(` Transaction type: ${Ie}, Amount: ${q.amount}`);try{const Ae=await _e.sendStatusUpdate(q.userEmail,Ie,Ee,q.amount,te==="rejected"?"Please contact support if you have questions.":q.type==="investment"?`Your investment is now active. Duration: ${q.totalDays||30} days.`:q.type==="deposit"?"Funds have been credited to your account.":q.type==="withdrawal"?"Funds will be sent to your wallet shortly.":"");console.log(` Status notification sent to ${q.userEmail}:`,Ae),alert(` ${Ie} ${Ee}! Email notification sent to ${q.userEmail}`)}catch(Ae){console.error(" Failed to send status notification:",Ae),alert(` ${Ie} ${Ee}! (Email notification failed - check console)`)}}else console.warn(" No user email found for transaction:",q)},ze=x=>{u(x),J.setSettings(x),J.addNotification({type:"settings_update",message:"Settings updated successfully"}),alert("Settings saved successfully!")},L=JSON.parse(localStorage.getItem("saxovault_tickets")||"[]"),B=L.filter(x=>x.status==="open").length,[Z,ne]=R.useState(()=>{const x=localStorage.getItem("saxovault_investments");return x?JSON.parse(x):oh}),[G,pe]=R.useState(null),[je,Me]=R.useState(!1),[O,ce]=R.useState({name:"",category:"Real Estate",type:"real-estate",min:1e3,returns:"10-15%",term:"12 months",desc:"",status:"Funding",progress:0,goal:1e6}),Se=x=>{let te;x.id?te=Z.map(q=>q.id===x.id?x:q):(x.id=Date.now(),te=[...Z,x]),ne(te),localStorage.setItem("saxovault_investments",JSON.stringify(te)),J.addNotification({type:"investment",message:x.id?"Investment updated":"Investment added"}),pe(null),Me(!1)},xt=x=>{if(confirm("Are you sure you want to delete this investment?")){const te=Z.filter(q=>q.id!==x);ne(te),localStorage.setItem("saxovault_investments",JSON.stringify(te)),J.addNotification({type:"investment",message:"Investment deleted"})}},[Te,He]=R.useState(!1),[En,jn]=R.useState(!1),[Nt,$n]=R.useState(null),[kn,Os]=R.useState(""),[qt,dt]=R.useState(""),[ht,Ur]=R.useState(""),[za,Ha]=R.useState(""),lh=()=>{if(!kn||!qt){alert("Please enter both title and message");return}const x={id:Date.now(),type:"broadcast",title:kn,message:qt,sentAt:new Date().toISOString(),recipients:s.length},te=JSON.parse(localStorage.getItem("saxovault_messages")||"[]");localStorage.setItem("saxovault_messages",JSON.stringify([x,...te]));const q=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}");s.forEach(ie=>{q[ie.uid]||(q[ie.uid]=[]),q[ie.uid].unshift({...x,read:!1})}),localStorage.setItem("saxovault_user_notifications",JSON.stringify(q)),J.addNotification({type:"broadcast",message:`Broadcast sent to ${s.length} users`}),Os(""),dt(""),He(!1),alert(` Message sent to ${s.length} users!`)},$r=()=>{if(!ht||!za||!Nt){alert("Please enter both subject and message");return}const x={id:Date.now(),type:"personal",title:ht,message:za,sentAt:new Date().toISOString(),recipient:Nt.email,recipientId:Nt.uid},te=JSON.parse(localStorage.getItem("saxovault_messages")||"[]");localStorage.setItem("saxovault_messages",JSON.stringify([x,...te]));const q=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}");q[Nt.uid]||(q[Nt.uid]=[]),q[Nt.uid].unshift({...x,read:!1}),localStorage.setItem("saxovault_user_notifications",JSON.stringify(q)),J.addNotification({type:"personal_msg",message:`Message sent to ${Nt.email}`}),Ur(""),Ha(""),$n(null),jn(!1),alert(` Message sent to ${Nt.name||Nt.email}!`)},Bn=JSON.parse(localStorage.getItem("saxovault_pending_investments")||"[]"),Jl=Bn.filter(x=>x.status==="pending").length,Wa=async x=>{const te=Bn.map(ie=>ie.id===x.id?{...ie,status:"approved",approvedAt:new Date().toISOString()}:ie);localStorage.setItem("saxovault_pending_investments",JSON.stringify(te));const q=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}");q[x.userEmail]||(q[x.userEmail]=[]),q[x.userEmail].unshift({id:Date.now(),type:"investment_approved",title:" Investment Approved!",message:`Your $${x.amount.toLocaleString()} investment in ${x.investmentName} has been approved.`,read:!1,createdAt:new Date().toISOString()}),localStorage.setItem("saxovault_user_notifications",JSON.stringify(q));try{await _e.sendStatusUpdate(x.userEmail,"Investment","Approved",x.amount,`Your investment in ${x.investmentName} is now active. Duration: ${x.term||x.totalDays+" days"}.`),console.log(` Investment approval email sent to ${x.userEmail}`)}catch(ie){console.error(" Failed to send approval email:",ie)}J.addNotification({type:"investment_approved",message:`Investment approved: $${x.amount.toLocaleString()}`}),alert("Investment approved!"),window.location.reload()},ch=async x=>{if(!confirm("Are you sure you want to reject this investment?"))return;const te=Bn.map(ie=>ie.id===x.id?{...ie,status:"rejected",rejectedAt:new Date().toISOString()}:ie);localStorage.setItem("saxovault_pending_investments",JSON.stringify(te));const q=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}");q[x.userEmail]||(q[x.userEmail]=[]),q[x.userEmail].unshift({id:Date.now(),type:"investment_rejected",title:" Investment Rejected",message:`Your $${x.amount.toLocaleString()} investment in ${x.investmentName} was not approved. Please contact support.`,read:!1,createdAt:new Date().toISOString()}),localStorage.setItem("saxovault_user_notifications",JSON.stringify(q));try{await _e.sendStatusUpdate(x.userEmail,"Investment","Rejected",x.amount,"Your investment was not approved. Please contact support if you have questions."),console.log(` Investment rejection email sent to ${x.userEmail}`)}catch(ie){console.error(" Failed to send rejection email:",ie)}J.addNotification({type:"investment_rejected",message:"Investment rejected"}),alert("Investment rejected."),window.location.reload()},uh=[{id:"overview",name:"Overview",icon:Eg},{id:"users",name:"Users",icon:Hu},{id:"transactions",name:"Transactions",icon:eN},{id:"pending",name:"Pending",icon:yi,badge:Jl},{id:"kyc",name:"KYC Verification",icon:Tr},{id:"investments",name:"Investments",icon:ci},{id:"tickets",name:"Tickets",icon:oN,badge:B},{id:"website",name:"Website Editor",icon:oa},{id:"branding",name:"Branding",icon:I4},{id:"payments",name:"Payment Methods",icon:jv},{id:"platform",name:"Platform Config",icon:Jc}],In=JSON.parse(localStorage.getItem("saxovault_kyc_submissions")||"[]"),qa=In.filter(x=>x.status==="submitted"||x.status==="pending").length,Br=async x=>{const te=In.map(ie=>ie.userId===x.userId?{...ie,status:"verified",verifiedAt:new Date().toISOString()}:ie);localStorage.setItem("saxovault_kyc_submissions",JSON.stringify(te)),localStorage.setItem(`kyc_${x.userId}`,JSON.stringify({...x,status:"verified",verifiedAt:new Date().toISOString()}));const q=s.find(ie=>ie.uid===x.userId||ie.email===x.userEmail);q&&await J.updateUser(q.uid,{kycStatus:"verified",kycVerifiedAt:new Date().toISOString()});try{await _e.sendKYCStatusUpdate(x.userEmail,"approved"),console.log(` KYC approval email sent to ${x.userEmail}`)}catch(ie){console.error(" Failed to send KYC approval email:",ie)}J.addNotification({type:"kyc_approved",message:`KYC approved for ${x.userEmail}`}),alert(` KYC approved for ${x.fullName||x.userEmail}`),window.location.reload()},Ga=async(x,te="")=>{const q=te||prompt("Enter rejection reason (optional):")||"Documents could not be verified",ie=In.map(Re=>Re.userId===x.userId?{...Re,status:"rejected",rejectedAt:new Date().toISOString(),rejectReason:q}:Re);localStorage.setItem("saxovault_kyc_submissions",JSON.stringify(ie)),localStorage.setItem(`kyc_${x.userId}`,JSON.stringify({...x,status:"rejected",rejectedAt:new Date().toISOString(),rejectReason:q}));try{await _e.sendKYCStatusUpdate(x.userEmail,"rejected",q),console.log(` KYC rejection email sent to ${x.userEmail}`)}catch(Re){console.error(" Failed to send KYC rejection email:",Re)}J.addNotification({type:"kyc_rejected",message:`KYC rejected for ${x.userEmail}`}),alert(`KYC rejected for ${x.fullName||x.userEmail}`),window.location.reload()};return i.jsxs("div",{className:"min-h-screen",style:{background:w.cream},children:[i.jsxs("div",{className:"bg-white shadow-md px-4 lg:px-6 py-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:`linear-gradient(135deg, ${w.gold} 0%, ${w.goldDark} 100%)`},children:i.jsx(tN,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"font-serif text-lg lg:text-xl",style:{color:w.navy},children:"Admin Dashboard"}),i.jsx("p",{className:"text-gray-500 text-xs",children:"SaxoVault Capital"})]})]}),i.jsxs(U.button,{onClick:t,whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center gap-2 px-3 lg:px-4 py-2 rounded-xl bg-red-50 text-red-600 hover:bg-red-100 text-sm",children:[i.jsx(_a,{className:"w-4 h-4"})," ",i.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]}),i.jsxs("div",{className:"flex flex-col lg:flex-row",children:[i.jsx("div",{className:"lg:w-64 bg-white shadow-lg lg:min-h-screen",children:i.jsx("div",{className:"flex lg:flex-col overflow-x-auto lg:overflow-x-visible p-2 lg:p-4 gap-2",children:uh.map(x=>i.jsxs(U.button,{onClick:()=>n(x.id),whileTap:{scale:.98},className:`flex items-center gap-2 lg:gap-3 px-3 lg:px-4 py-2 lg:py-3 rounded-xl whitespace-nowrap transition-all ${e===x.id?"shadow-md":"hover:bg-gray-50"}`,style:e===x.id?{background:`${w.navy}10`,color:w.navy}:{color:"#6b7280"},children:[i.jsx(x.icon,{className:"w-4 h-4 lg:w-5 lg:h-5"}),i.jsx("span",{className:"font-medium text-sm",children:x.name}),x.id==="transactions"&&C+Q>0&&i.jsx("span",{className:"ml-auto px-2 py-0.5 rounded-full text-xs bg-red-500 text-white",children:C+Q}),x.id==="kyc"&&qa>0&&i.jsx("span",{className:"ml-auto px-2 py-0.5 rounded-full text-xs bg-yellow-500 text-white",children:qa}),x.id==="tickets"&&B>0&&i.jsx("span",{className:"ml-auto px-2 py-0.5 rounded-full text-xs bg-purple-500 text-white",children:B})]},x.id))})}),i.jsxs("div",{className:"flex-1 p-4 lg:p-6",children:[e==="overview"&&i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:w.navy},children:"Dashboard Overview"}),(()=>{const x=J.getAdminNotifications().filter(te=>te.actionRequired&&!te.read);return x.length===0?null:i.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 border border-red-200 rounded-xl p-4 mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-red-100 flex items-center justify-center",children:i.jsx(ws,{className:"w-5 h-5 text-red-600 animate-pulse"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-red-800",children:"Action Required"}),i.jsxs("p",{className:"text-sm text-red-600",children:[x.length," notification(s) need your attention"]})]})]}),i.jsx("div",{className:"space-y-2",children:x.slice(0,5).map((te,q)=>i.jsxs("div",{className:"flex items-center justify-between bg-white rounded-lg p-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:te.title}),i.jsx("p",{className:"text-xs text-gray-500",children:te.message})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs text-gray-400",children:new Date(te.createdAt).toLocaleTimeString()}),i.jsx("button",{onClick:()=>J.markAdminNotifRead(te.id),className:"p-1 hover:bg-gray-100 rounded",children:i.jsx(sn,{className:"w-4 h-4 text-green-600"})})]})]},q))})]})})(),i.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mb-8",children:[{label:"Total Users",value:P,icon:Hu,color:w.navy},{label:"Total Deposits",value:`$${V.toLocaleString()}`,icon:bs,color:w.green},{label:"Pending Deposits",value:C,icon:yi,color:w.gold},{label:"Pending Withdrawals",value:Q,icon:es,color:"#ef4444"}].map((x,te)=>i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:te*.1},className:"bg-white rounded-xl lg:rounded-2xl p-4 lg:p-6 shadow-lg",children:[i.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 rounded-xl flex items-center justify-center mb-3",style:{background:`${x.color}15`},children:i.jsx(x.icon,{className:"w-5 h-5 lg:w-6 lg:h-6",style:{color:x.color}})}),i.jsx("p",{className:"text-gray-500 text-xs lg:text-sm",children:x.label}),i.jsx("p",{className:"text-xl lg:text-2xl font-bold",style:{color:x.color},children:x.value})]},te))}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsx("h3",{className:"font-serif text-lg mb-4",style:{color:w.navy},children:"Recent Transactions"}),i.jsxs("div",{className:"space-y-3",children:[a.slice(0,5).map((x,te)=>{var q;return i.jsxs("div",{className:"flex items-center justify-between p-3 lg:p-4 rounded-xl bg-gray-50",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-8 h-8 lg:w-10 lg:h-10 rounded-full flex items-center justify-center ${x.type==="deposit"?"bg-green-100":"bg-orange-100"}`,children:x.type==="deposit"?i.jsx(bs,{className:"w-4 h-4 lg:w-5 lg:h-5 text-green-600"}):i.jsx(es,{className:"w-4 h-4 lg:w-5 lg:h-5 text-orange-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:x.type==="deposit"?"Deposit":"Withdrawal"}),i.jsx("p",{className:"text-xs text-gray-500",children:x.userEmail})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"font-bold text-sm lg:text-base",children:["$",(q=x.amount)==null?void 0:q.toLocaleString()]}),i.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${x.status==="completed"?"bg-green-100 text-green-700":x.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:x.status})]})]},te)}),a.length===0&&i.jsx("p",{className:"text-center text-gray-500 py-8",children:"No transactions yet"})]})]})]}),e==="users"&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl",style:{color:w.navy},children:"User Management"}),i.jsxs(U.button,{onClick:()=>He(!0),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-2 px-4 py-2 rounded-xl text-white text-sm font-medium",style:{background:w.navy},children:[i.jsx($o,{className:"w-4 h-4"})," Broadcast Message"]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg overflow-hidden",children:[i.jsx("div",{className:"p-4 border-b border-gray-100",children:i.jsxs("p",{className:"text-gray-500 text-sm",children:[s.length," registered users"]})}),i.jsxs("div",{className:"divide-y divide-gray-100",children:[s.map((x,te)=>{var q,ie;return i.jsx("div",{className:`p-4 hover:bg-gray-50 transition-colors ${x.status==="banned"?"bg-red-50":x.status==="suspended"?"bg-yellow-50":""}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"w-10 h-10 lg:w-12 lg:h-12 rounded-full flex items-center justify-center text-white font-bold text-sm relative",style:{background:x.status==="banned"?"#ef4444":x.status==="suspended"?"#f59e0b":`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:[((q=x.name)==null?void 0:q.charAt(0))||((ie=x.email)==null?void 0:ie.charAt(0))||"U",x.status==="banned"&&i.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-600 rounded-full flex items-center justify-center",children:i.jsx(Ot,{className:"w-3 h-3 text-white"})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:x.name||"No Name"}),x.status==="banned"&&i.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-red-100 text-red-700",children:"Banned"}),x.status==="suspended"&&i.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-yellow-100 text-yellow-700",children:"Suspended"})]}),i.jsx("p",{className:"text-xs text-gray-500",children:x.email})]})]}),i.jsxs("div",{className:"flex items-center gap-2 lg:gap-3",children:[i.jsxs("div",{className:"text-right hidden sm:block",children:[i.jsxs("p",{className:"font-bold text-sm",style:{color:w.green},children:["$",(x.balance||0).toLocaleString()]}),i.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${x.kycStatus==="verified"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:x.kycStatus||"pending"})]}),i.jsx(U.button,{onClick:()=>{$n(x),jn(!0)},whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 rounded-lg hover:bg-blue-100",title:"Send Message",children:i.jsx(Qn,{className:"w-4 h-4 text-blue-500"})}),i.jsx(U.button,{onClick:()=>p(x),whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 rounded-lg hover:bg-gray-100",title:"Edit User",children:i.jsx(Jc,{className:"w-4 h-4 text-gray-500"})})]})]})},te)}),s.length===0&&i.jsx("p",{className:"text-center text-gray-500 py-12",children:"No users registered yet"})]})]}),i.jsx(lt,{children:h&&i.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>p(null),children:i.jsxs(U.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl",onClick:x=>x.stopPropagation(),children:[i.jsxs("h3",{className:"font-serif text-xl mb-4",style:{color:w.navy},children:["Edit User: ",h.name||h.email]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Balance ($)"}),i.jsx("input",{type:"number",value:h.balance||0,onChange:x=>p({...h,balance:parseFloat(x.target.value)||0}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"KYC Status"}),i.jsxs("select",{value:h.kycStatus||"pending",onChange:x=>p({...h,kycStatus:x.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",children:[i.jsx("option",{value:"pending",children:"Pending"}),i.jsx("option",{value:"verified",children:"Verified"}),i.jsx("option",{value:"rejected",children:"Rejected"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Status"}),i.jsxs("select",{value:h.status||"active",onChange:x=>p({...h,status:x.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",children:[i.jsx("option",{value:"active",children:" Active"}),i.jsx("option",{value:"suspended",children:" Suspended"}),i.jsx("option",{value:"banned",children:" Banned"})]}),h.status==="suspended"&&i.jsx("p",{className:"text-xs text-yellow-600 mt-1",children:"User can't withdraw or invest while suspended"}),h.status==="banned"&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:"User cannot access their account"})]})]}),i.jsxs("div",{className:"flex gap-3 mt-6",children:[i.jsx(U.button,{onClick:()=>p(null),whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl border border-gray-200",children:"Cancel"}),i.jsx(U.button,{onClick:()=>ae(h.uid,h),whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl text-white",style:{background:w.navy},children:"Save Changes"})]})]})})}),i.jsx(lt,{children:Te&&i.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>He(!1),children:i.jsxs(U.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-white rounded-2xl p-6 w-full max-w-lg shadow-2xl",onClick:x=>x.stopPropagation(),children:[i.jsx("h3",{className:"font-serif text-xl mb-4",style:{color:w.navy},children:" Broadcast Message to All Users"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message Title"}),i.jsx("input",{type:"text",value:kn,onChange:x=>Os(x.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",placeholder:"Important Announcement"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),i.jsx("textarea",{rows:4,value:qt,onChange:x=>dt(x.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-xl resize-none",placeholder:"Enter your message to all users..."})]}),i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-3",children:i.jsxs("p",{className:"text-sm text-blue-700",children:[" This message will be sent to ",i.jsx("strong",{children:s.length})," users"]})})]}),i.jsxs("div",{className:"flex gap-3 mt-6",children:[i.jsx(U.button,{onClick:()=>He(!1),whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl border border-gray-200",children:"Cancel"}),i.jsxs(U.button,{onClick:lh,whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl text-white flex items-center justify-center gap-2",style:{background:w.navy},children:[i.jsx($o,{className:"w-4 h-4"})," Send to All"]})]})]})})}),i.jsx(lt,{children:En&&Nt&&i.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>{jn(!1),$n(null)},children:i.jsxs(U.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-white rounded-2xl p-6 w-full max-w-lg shadow-2xl",onClick:x=>x.stopPropagation(),children:[i.jsxs("h3",{className:"font-serif text-xl mb-4",style:{color:w.navy},children:[" Message to ",Nt.name||Nt.email]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),i.jsx("input",{type:"text",value:ht,onChange:x=>Ur(x.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",placeholder:"Account Update"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),i.jsx("textarea",{rows:4,value:za,onChange:x=>Ha(x.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-xl resize-none",placeholder:"Enter your message..."})]})]}),i.jsxs("div",{className:"flex gap-3 mt-6",children:[i.jsx(U.button,{onClick:()=>{jn(!1),$n(null)},whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl border border-gray-200",children:"Cancel"}),i.jsxs(U.button,{onClick:$r,whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl text-white flex items-center justify-center gap-2",style:{background:w.green},children:[i.jsx($o,{className:"w-4 h-4"})," Send Message"]})]})]})})})]}),e==="transactions"&&i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:w.navy},children:"Transaction Management"}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg overflow-hidden",children:[i.jsx("div",{className:"p-4 border-b border-gray-100",children:i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("span",{className:"px-3 py-1 rounded-full text-xs bg-yellow-100 text-yellow-700",children:[C," pending deposits"]}),i.jsxs("span",{className:"px-3 py-1 rounded-full text-xs bg-orange-100 text-orange-700",children:[Q," pending withdrawals"]})]})}),i.jsxs("div",{className:"divide-y divide-gray-100",children:[a.map((x,te)=>{var q;return i.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${x.type==="deposit"?"bg-green-100":"bg-orange-100"}`,children:x.type==="deposit"?i.jsx(bs,{className:"w-5 h-5 text-green-600"}):i.jsx(es,{className:"w-5 h-5 text-orange-600"})}),i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium text-sm",style:{color:w.navy},children:[x.type==="deposit"?"Deposit":"Withdrawal"," - ",x.crypto]}),i.jsx("p",{className:"text-xs text-gray-500",children:x.userEmail}),i.jsx("p",{className:"text-xs text-gray-400",children:new Date(x.createdAt).toLocaleString()})]})]}),i.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"font-bold",children:["$",(q=x.amount)==null?void 0:q.toLocaleString()]}),i.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${x.status==="completed"?"bg-green-100 text-green-700":x.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:x.status})]}),x.status==="pending"&&i.jsxs("div",{className:"flex gap-2",children:[i.jsx(U.button,{onClick:()=>me(x.id,"completed"),whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 rounded-lg bg-green-100 text-green-600 hover:bg-green-200",children:i.jsx(sn,{className:"w-4 h-4"})}),i.jsx(U.button,{onClick:()=>me(x.id,"rejected"),whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 rounded-lg bg-red-100 text-red-600 hover:bg-red-200",children:i.jsx(Ot,{className:"w-4 h-4"})})]})]})]})},te)}),a.length===0&&i.jsx("p",{className:"text-center text-gray-500 py-12",children:"No transactions yet"})]})]})]}),e==="notifications"&&i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:w.navy},children:"Activity Log"}),i.jsx("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg overflow-hidden",children:i.jsxs("div",{className:"divide-y divide-gray-100",children:[d.map((x,te)=>i.jsx("div",{className:`p-4 ${x.read?"":"bg-blue-50"}`,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center flex-shrink-0",children:i.jsx(ws,{className:"w-5 h-5 text-gray-500"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:x.message}),i.jsx("p",{className:"text-xs text-gray-500",children:new Date(x.createdAt).toLocaleString()})]})]})},te)),d.length===0&&i.jsx("p",{className:"text-center text-gray-500 py-12",children:"No activity yet"})]})})]}),e==="pending"&&i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:w.navy},children:"Pending Approvals"}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[i.jsx("div",{className:"p-4 border-b border-gray-100",children:i.jsxs("p",{className:"text-sm text-gray-500",children:[Bn.filter(x=>x.status==="pending").length," pending approvals"]})}),i.jsxs("div",{className:"divide-y divide-gray-100",children:[Bn.filter(x=>x.status==="pending").map((x,te)=>{var q;return i.jsx("div",{className:"p-4 hover:bg-yellow-50 transition-colors",children:i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"px-2 py-0.5 bg-yellow-100 text-yellow-700 rounded-full text-xs font-medium",children:" Pending"}),i.jsx("span",{className:"text-xs text-gray-400",children:new Date(x.createdAt).toLocaleDateString()})]}),i.jsx("p",{className:"font-semibold",style:{color:w.navy},children:x.investmentName}),i.jsx("p",{className:"text-sm text-gray-500",children:x.userEmail}),i.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm",children:[i.jsxs("span",{className:"font-bold text-lg",style:{color:w.green},children:["$",(q=x.amount)==null?void 0:q.toLocaleString()]}),i.jsxs("span",{className:"text-gray-400",children:["via ",x.crypto]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(U.button,{onClick:()=>Wa(x),whileHover:{scale:1.05},className:"px-4 py-2 rounded-lg text-white text-sm font-medium",style:{background:w.green},children:[i.jsx(sn,{className:"w-4 h-4 inline mr-1"})," Approve"]}),i.jsxs(U.button,{onClick:()=>ch(x),whileHover:{scale:1.05},className:"px-4 py-2 rounded-lg bg-red-100 text-red-600 text-sm font-medium",children:[i.jsx(Ot,{className:"w-4 h-4 inline mr-1"})," Reject"]})]})]})},te)}),Bn.filter(x=>x.status==="pending").length===0&&i.jsx("p",{className:"text-center text-gray-500 py-12",children:"No pending approvals"})]})]}),i.jsx("h3",{className:"font-serif text-lg mt-8 mb-4",style:{color:w.navy},children:"Recent Decisions"}),i.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:i.jsx("div",{className:"divide-y divide-gray-100",children:Bn.filter(x=>x.status!=="pending").slice(0,10).map((x,te)=>{var q;return i.jsx("div",{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:x.investmentName}),i.jsx("p",{className:"text-xs text-gray-500",children:x.userEmail})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${x.status==="approved"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:x.status==="approved"?" Approved":" Rejected"}),i.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["$",(q=x.amount)==null?void 0:q.toLocaleString()]})]})]})},te)})})})]}),e==="investments"&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl",style:{color:w.navy},children:"Investment Plans"}),i.jsxs(U.button,{onClick:()=>Me(!0),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-2 px-4 py-2 rounded-xl text-white text-sm font-medium",style:{background:w.green},children:[i.jsx(R4,{className:"w-4 h-4"})," Add Investment"]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[i.jsx("div",{className:"p-4 border-b border-gray-100",children:i.jsxs("p",{className:"text-sm text-gray-500",children:[Z.length," investment plans"]})}),i.jsx("div",{className:"divide-y divide-gray-100",children:Z.map((x,te)=>{var q;return i.jsx("div",{className:"p-4 hover:bg-gray-50",children:i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-gray-100 flex items-center justify-center flex-shrink-0",children:i.jsx(Sg,{className:"w-6 h-6 text-gray-500"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"font-semibold truncate",style:{color:w.navy},children:x.name}),i.jsxs("p",{className:"text-xs text-gray-500",children:[x.category,"  Min $",(q=x.min)==null?void 0:q.toLocaleString()]}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-green-100 text-green-700",children:x.returns}),i.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-blue-100 text-blue-700",children:x.term}),i.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${x.status==="Active"?"bg-green-100 text-green-700":x.status==="Funding"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:x.status})]})]})]}),i.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[i.jsx(U.button,{onClick:()=>pe(x),whileHover:{scale:1.1},className:"p-2 rounded-lg bg-blue-100 text-blue-600",children:i.jsx(P4,{className:"w-4 h-4"})}),i.jsx(U.button,{onClick:()=>xt(x.id),whileHover:{scale:1.1},className:"p-2 rounded-lg bg-red-100 text-red-600",children:i.jsx(cN,{className:"w-4 h-4"})})]})]})},te)})})]}),i.jsx(lt,{children:(je||G)&&i.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>{Me(!1),pe(null)},children:i.jsxs(U.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-white rounded-2xl p-6 w-full max-w-lg shadow-2xl max-h-[90vh] overflow-y-auto",onClick:x=>x.stopPropagation(),children:[i.jsx("h3",{className:"font-serif text-xl mb-4",style:{color:w.navy},children:G?"Edit Investment":"Add New Investment"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),i.jsx("input",{type:"text",value:(G==null?void 0:G.name)||O.name,onChange:x=>G?pe({...G,name:x.target.value}):ce({...O,name:x.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl",placeholder:"Greenwich Towers"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),i.jsxs("select",{value:(G==null?void 0:G.category)||O.category,onChange:x=>G?pe({...G,category:x.target.value}):ce({...O,category:x.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl",children:[i.jsx("option",{children:"Real Estate"}),i.jsx("option",{children:"Cryptocurrency"}),i.jsx("option",{children:"Stocks & Bonds"}),i.jsx("option",{children:"Precious Metals"}),i.jsx("option",{children:"Investment Plans"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),i.jsxs("select",{value:(G==null?void 0:G.status)||O.status,onChange:x=>G?pe({...G,status:x.target.value}):ce({...O,status:x.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl",children:[i.jsx("option",{children:"Funding"}),i.jsx("option",{children:"Active"}),i.jsx("option",{children:"Open"}),i.jsx("option",{children:"Closed"}),i.jsx("option",{children:"Coming Soon"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Returns (e.g. 12-15%)"}),i.jsx("input",{type:"text",value:(G==null?void 0:G.returns)||O.returns,onChange:x=>G?pe({...G,returns:x.target.value}):ce({...O,returns:x.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl",placeholder:"12-15%"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Term (e.g. 24 months)"}),i.jsx("input",{type:"text",value:(G==null?void 0:G.term)||O.term,onChange:x=>G?pe({...G,term:x.target.value}):ce({...O,term:x.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl",placeholder:"24 months"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Investment ($)"}),i.jsx("input",{type:"number",value:(G==null?void 0:G.min)||O.min,onChange:x=>G?pe({...G,min:parseInt(x.target.value)}):ce({...O,min:parseInt(x.target.value)}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Funding Goal ($)"}),i.jsx("input",{type:"number",value:(G==null?void 0:G.goal)||O.goal,onChange:x=>G?pe({...G,goal:parseInt(x.target.value)}):ce({...O,goal:parseInt(x.target.value)}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Progress (%)"}),i.jsx("input",{type:"number",min:"0",max:"100",value:(G==null?void 0:G.progress)||O.progress,onChange:x=>G?pe({...G,progress:parseInt(x.target.value)}):ce({...O,progress:parseInt(x.target.value)}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),i.jsx("textarea",{rows:3,value:(G==null?void 0:G.desc)||O.desc,onChange:x=>G?pe({...G,desc:x.target.value}):ce({...O,desc:x.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl resize-none",placeholder:"Premium mixed-use development..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image URL (optional)"}),i.jsx("input",{type:"text",value:(G==null?void 0:G.customImg)||"",onChange:x=>G?pe({...G,customImg:x.target.value}):ce({...O,customImg:x.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl",placeholder:"https://example.com/image.jpg"})]})]}),i.jsxs("div",{className:"flex gap-3 mt-6",children:[i.jsx(U.button,{onClick:()=>{Me(!1),pe(null)},whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl border border-gray-200",children:"Cancel"}),i.jsx(U.button,{onClick:()=>Se(G||O),whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl text-white",style:{background:w.green},children:G?"Save Changes":"Add Investment"})]})]})})})]}),e==="kyc"&&i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:w.navy},children:"KYC Verification"}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg overflow-hidden",children:[i.jsx("div",{className:"p-4 border-b border-gray-100",children:i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("span",{className:"px-3 py-1 rounded-full text-xs bg-yellow-100 text-yellow-700",children:[In.filter(x=>x.status==="submitted"||x.status==="pending").length," pending review"]}),i.jsxs("span",{className:"px-3 py-1 rounded-full text-xs bg-green-100 text-green-700",children:[In.filter(x=>x.status==="verified").length," verified"]}),i.jsxs("span",{className:"px-3 py-1 rounded-full text-xs bg-red-100 text-red-700",children:[In.filter(x=>x.status==="rejected").length," rejected"]})]})}),In.length===0?i.jsxs("div",{className:"p-8 text-center",children:[i.jsx(Tr,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),i.jsx("p",{className:"text-gray-500",children:"No KYC submissions yet"})]}):i.jsx("div",{className:"divide-y divide-gray-100",children:In.map((x,te)=>i.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("span",{className:"font-semibold",style:{color:w.navy},children:x.fullName||"Unknown"}),i.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${x.status==="verified"?"bg-green-100 text-green-700":x.status==="rejected"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:x.status||"pending"})]}),i.jsx("p",{className:"text-sm text-gray-500",children:x.userEmail}),i.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 text-xs text-gray-500",children:[i.jsxs("span",{children:["ID Type: ",x.idType]}),i.jsx("span",{children:""}),i.jsxs("span",{children:["ID #: ",x.idNumber]}),i.jsx("span",{children:""}),i.jsxs("span",{children:["DOB: ",x.dateOfBirth]})]}),i.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Submitted: ",new Date(x.submittedAt).toLocaleString()]})]}),i.jsxs("div",{className:"flex gap-2",children:[x.idFront&&i.jsxs("div",{className:"relative group",children:[i.jsx("img",{src:x.idFront,alt:"ID Front",className:"w-16 h-12 object-cover rounded-lg border cursor-pointer",onClick:()=>window.open(x.idFront,"_blank")}),i.jsx("span",{className:"absolute -bottom-5 left-0 text-[10px] text-gray-500",children:"Front"})]}),x.idBack&&i.jsxs("div",{className:"relative group",children:[i.jsx("img",{src:x.idBack,alt:"ID Back",className:"w-16 h-12 object-cover rounded-lg border cursor-pointer",onClick:()=>window.open(x.idBack,"_blank")}),i.jsx("span",{className:"absolute -bottom-5 left-0 text-[10px] text-gray-500",children:"Back"})]}),x.selfie&&i.jsxs("div",{className:"relative group",children:[i.jsx("img",{src:x.selfie,alt:"Selfie",className:"w-16 h-12 object-cover rounded-lg border cursor-pointer",onClick:()=>window.open(x.selfie,"_blank")}),i.jsx("span",{className:"absolute -bottom-5 left-0 text-[10px] text-gray-500",children:"Selfie"})]})]}),(x.status==="submitted"||x.status==="pending")&&i.jsxs("div",{className:"flex gap-2 flex-shrink-0 mt-4 lg:mt-0",children:[i.jsxs(U.button,{onClick:()=>Br(x),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-xl text-white text-sm font-medium flex items-center gap-1",style:{background:w.green},children:[i.jsx(sn,{className:"w-4 h-4"})," Approve"]}),i.jsxs(U.button,{onClick:()=>Ga(x),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-xl bg-red-500 text-white text-sm font-medium flex items-center gap-1",children:[i.jsx(Ot,{className:"w-4 h-4"})," Reject"]})]}),x.status==="verified"&&i.jsxs("span",{className:"px-4 py-2 rounded-xl bg-green-100 text-green-700 text-sm font-medium flex items-center gap-1",children:[i.jsx(Ze,{className:"w-4 h-4"})," Verified"]}),x.status==="rejected"&&i.jsxs("div",{className:"text-right",children:[i.jsx("span",{className:"px-4 py-2 rounded-xl bg-red-100 text-red-700 text-sm font-medium",children:"Rejected"}),x.rejectReason&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:x.rejectReason})]})]})},te))})]})]}),e==="tickets"&&i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:w.navy},children:"Support Tickets"}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg overflow-hidden",children:[i.jsx("div",{className:"p-4 border-b border-gray-100",children:i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("span",{className:"px-3 py-1 rounded-full text-xs bg-purple-100 text-purple-700",children:[B," open tickets"]}),i.jsxs("span",{className:"px-3 py-1 rounded-full text-xs bg-green-100 text-green-700",children:[L.filter(x=>x.status==="closed").length," closed"]})]})}),i.jsxs("div",{className:"divide-y divide-gray-100",children:[L.map((x,te)=>i.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"font-mono text-xs px-2 py-0.5 rounded bg-gray-100",style:{color:w.navy},children:x.id}),i.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${x.priority==="urgent"?"bg-red-100 text-red-700":x.priority==="high"?"bg-orange-100 text-orange-700":x.priority==="medium"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:x.priority}),i.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${x.status==="open"?"bg-purple-100 text-purple-700":x.status==="in-progress"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:x.status})]}),i.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:x.subject}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["From: ",x.name," (",x.email,")"]}),i.jsx("p",{className:"text-xs text-gray-400",children:new Date(x.createdAt).toLocaleString()}),i.jsx("p",{className:"text-sm text-gray-600 mt-2 line-clamp-2",children:x.message})]}),i.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[x.status==="open"&&i.jsxs(i.Fragment,{children:[i.jsx(U.button,{onClick:()=>{const q=L.map(ie=>ie.id===x.id?{...ie,status:"in-progress"}:ie);localStorage.setItem("saxovault_tickets",JSON.stringify(q)),window.location.reload()},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-3 py-1.5 rounded-lg bg-blue-100 text-blue-700 text-xs font-medium",children:"In Progress"}),i.jsxs(U.a,{href:`mailto:${x.email}?subject=Re: ${x.subject} [${x.id}]&body=Hi ${x.name},%0D%0A%0D%0AThank you for contacting SaxoVault Capital support.%0D%0A%0D%0A[Your response here]%0D%0A%0D%0ABest regards,%0D%0ASaxoVault Capital Support Team`,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-3 py-1.5 rounded-lg bg-green-100 text-green-700 text-xs font-medium flex items-center gap-1",children:[i.jsx(Qn,{className:"w-3 h-3"})," Reply"]})]}),x.status!=="closed"&&i.jsx(U.button,{onClick:()=>{const q=L.map(ie=>ie.id===x.id?{...ie,status:"closed"}:ie);localStorage.setItem("saxovault_tickets",JSON.stringify(q)),window.location.reload()},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-3 py-1.5 rounded-lg bg-gray-100 text-gray-700 text-xs font-medium",children:"Close"})]})]})},te)),L.length===0&&i.jsx("p",{className:"text-center text-gray-500 py-12",children:"No tickets yet"})]})]})]}),e==="website"&&i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:w.navy},children:"Website Editor"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:w.navy},children:[i.jsx(oa,{className:"w-5 h-5"})," General Settings"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Site Name"}),i.jsx("input",{type:"text",value:S.siteName,onChange:x=>I({...S,siteName:x.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tagline"}),i.jsx("input",{type:"text",value:S.tagline,onChange:x=>I({...S,tagline:x.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hero Title"}),i.jsx("input",{type:"text",value:S.heroTitle,onChange:x=>I({...S,heroTitle:x.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hero Subtitle"}),i.jsx("textarea",{value:S.heroSubtitle,onChange:x=>I({...S,heroSubtitle:x.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",rows:2})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:w.navy},children:[i.jsx(Pm,{className:"w-5 h-5"})," Investment Limits"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Deposit ($)"}),i.jsx("input",{type:"number",value:S.minDeposit,onChange:x=>I({...S,minDeposit:parseInt(x.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Withdrawal ($)"}),i.jsx("input",{type:"number",value:S.minWithdrawal,onChange:x=>I({...S,minWithdrawal:parseInt(x.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Withdrawal Fee (%)"}),i.jsx("input",{type:"number",value:S.withdrawalFee,onChange:x=>I({...S,withdrawalFee:parseFloat(x.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",step:"0.1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Referral Bonus (%)"}),i.jsx("input",{type:"number",value:S.referralBonus,onChange:x=>I({...S,referralBonus:parseFloat(x.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",step:"0.1"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:w.navy},children:[i.jsx(Jc,{className:"w-5 h-5"})," Feature Toggles"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100",children:[i.jsx("input",{type:"checkbox",checked:S.maintenanceMode,onChange:x=>I({...S,maintenanceMode:x.target.checked}),className:"w-5 h-5 rounded"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:"Maintenance Mode"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Disable site for visitors"})]})]}),i.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100",children:[i.jsx("input",{type:"checkbox",checked:S.registrationOpen,onChange:x=>I({...S,registrationOpen:x.target.checked}),className:"w-5 h-5 rounded"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:"Registration Open"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Allow new user signups"})]})]}),i.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100",children:[i.jsx("input",{type:"checkbox",checked:S.kycRequired,onChange:x=>I({...S,kycRequired:x.target.checked}),className:"w-5 h-5 rounded"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:"KYC Required"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Require identity verification"})]})]}),i.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100",children:[i.jsx("input",{type:"checkbox",checked:S.twoFactorRequired,onChange:x=>I({...S,twoFactorRequired:x.target.checked}),className:"w-5 h-5 rounded"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:"2FA Required"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Force two-factor authentication"})]})]})]})]}),i.jsx(U.button,{onClick:k,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 rounded-xl text-white font-semibold",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:"Save Website Settings"})]})]}),e==="branding"&&i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:w.navy},children:"Branding"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:w.navy},children:[i.jsx(iN,{className:"w-5 h-5"})," Brand Colors"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Primary Color"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"color",value:N.primaryColor,onChange:x=>y({...N,primaryColor:x.target.value}),className:"w-12 h-10 rounded cursor-pointer"}),i.jsx("input",{type:"text",value:N.primaryColor,onChange:x=>y({...N,primaryColor:x.target.value}),className:"flex-1 px-4 py-2 border border-gray-200 rounded-xl font-mono text-sm"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Secondary Color"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"color",value:N.secondaryColor,onChange:x=>y({...N,secondaryColor:x.target.value}),className:"w-12 h-10 rounded cursor-pointer"}),i.jsx("input",{type:"text",value:N.secondaryColor,onChange:x=>y({...N,secondaryColor:x.target.value}),className:"flex-1 px-4 py-2 border border-gray-200 rounded-xl font-mono text-sm"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Accent Color (Gold)"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"color",value:N.accentColor,onChange:x=>y({...N,accentColor:x.target.value}),className:"w-12 h-10 rounded cursor-pointer"}),i.jsx("input",{type:"text",value:N.accentColor,onChange:x=>y({...N,accentColor:x.target.value}),className:"flex-1 px-4 py-2 border border-gray-200 rounded-xl font-mono text-sm"})]})]})]}),i.jsxs("div",{className:"mt-4 p-4 rounded-xl",style:{background:N.primaryColor},children:[i.jsx("p",{className:"text-white font-medium",children:"Primary Background Preview"}),i.jsx("p",{className:"text-sm mt-2",style:{color:N.accentColor},children:"Accent Text Color"})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:w.navy},children:[i.jsx(V4,{className:"w-5 h-5"})," Social Links"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Twitter/X URL"}),i.jsx("input",{type:"url",value:N.socialLinks.twitter,onChange:x=>y({...N,socialLinks:{...N.socialLinks,twitter:x.target.value}}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",placeholder:"https://twitter.com/..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telegram URL"}),i.jsx("input",{type:"url",value:N.socialLinks.telegram,onChange:x=>y({...N,socialLinks:{...N.socialLinks,telegram:x.target.value}}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",placeholder:"https://t.me/..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"LinkedIn URL"}),i.jsx("input",{type:"url",value:N.socialLinks.linkedin,onChange:x=>y({...N,socialLinks:{...N.socialLinks,linkedin:x.target.value}}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",placeholder:"https://linkedin.com/..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Facebook URL"}),i.jsx("input",{type:"url",value:N.socialLinks.facebook,onChange:x=>y({...N,socialLinks:{...N.socialLinks,facebook:x.target.value}}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",placeholder:"https://facebook.com/..."})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:w.navy},children:[i.jsx(Bu,{className:"w-5 h-5"})," Footer Text"]}),i.jsx("textarea",{value:N.footerText,onChange:x=>y({...N,footerText:x.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",rows:2})]}),i.jsx(U.button,{onClick:_,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 rounded-xl text-white font-semibold",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:"Save Branding Settings"})]})]}),e==="payments"&&i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:w.navy},children:"Payment Methods"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"font-serif text-lg flex items-center gap-2",style:{color:w.navy},children:[i.jsx("span",{className:"text-orange-500",children:""})," Bitcoin (BTC)"]}),i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:b.btcEnabled,onChange:x=>D({...b,btcEnabled:x.target.checked}),className:"w-5 h-5 rounded"}),i.jsx("span",{className:"text-sm font-medium",children:"Enabled"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Wallet Address"}),i.jsx("input",{type:"text",value:b.btcAddress,onChange:x=>D({...b,btcAddress:x.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl font-mono text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Deposit ($)"}),i.jsx("input",{type:"number",value:b.btcMinDeposit,onChange:x=>D({...b,btcMinDeposit:parseInt(x.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"font-serif text-lg flex items-center gap-2",style:{color:w.navy},children:[i.jsx("span",{className:"text-blue-500",children:""})," Ethereum (ETH)"]}),i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:b.ethEnabled,onChange:x=>D({...b,ethEnabled:x.target.checked}),className:"w-5 h-5 rounded"}),i.jsx("span",{className:"text-sm font-medium",children:"Enabled"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Wallet Address"}),i.jsx("input",{type:"text",value:b.ethAddress,onChange:x=>D({...b,ethAddress:x.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl font-mono text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Deposit ($)"}),i.jsx("input",{type:"number",value:b.ethMinDeposit,onChange:x=>D({...b,ethMinDeposit:parseInt(x.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"font-serif text-lg flex items-center gap-2",style:{color:w.navy},children:[i.jsx("span",{className:"text-green-500",children:""})," USDT (Tether)"]}),i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:b.usdtEnabled,onChange:x=>D({...b,usdtEnabled:x.target.checked}),className:"w-5 h-5 rounded"}),i.jsx("span",{className:"text-sm font-medium",children:"Enabled"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Wallet Address"}),i.jsx("input",{type:"text",value:b.usdtAddress,onChange:x=>D({...b,usdtAddress:x.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl font-mono text-sm"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Network"}),i.jsxs("select",{value:b.usdtNetwork,onChange:x=>D({...b,usdtNetwork:x.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",children:[i.jsx("option",{value:"TRC-20",children:"TRC-20 (Tron)"}),i.jsx("option",{value:"ERC-20",children:"ERC-20 (Ethereum)"}),i.jsx("option",{value:"BEP-20",children:"BEP-20 (BSC)"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Deposit ($)"}),i.jsx("input",{type:"number",value:b.usdtMinDeposit,onChange:x=>D({...b,usdtMinDeposit:parseInt(x.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"font-serif text-lg flex items-center gap-2",style:{color:w.navy},children:[i.jsx(S4,{className:"w-5 h-5"})," Bank Transfer"]}),i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:b.bankTransferEnabled,onChange:x=>D({...b,bankTransferEnabled:x.target.checked}),className:"w-5 h-5 rounded"}),i.jsx("span",{className:"text-sm font-medium",children:"Enabled"})]})]}),b.bankTransferEnabled&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bank Name"}),i.jsx("input",{type:"text",value:b.bankName,onChange:x=>D({...b,bankName:x.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Number"}),i.jsx("input",{type:"text",value:b.bankAccount,onChange:x=>D({...b,bankAccount:x.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Routing Number"}),i.jsx("input",{type:"text",value:b.bankRouting,onChange:x=>D({...b,bankRouting:x.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]})]})]}),i.jsx(U.button,{onClick:E,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 rounded-xl text-white font-semibold",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:"Save Payment Settings"})]})]}),e==="platform"&&i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:w.navy},children:"Platform Configuration"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:w.navy},children:[i.jsx(Pm,{className:"w-5 h-5"})," Withdrawal Limits"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Daily Withdrawal ($)"}),i.jsx("input",{type:"number",value:M.maxDailyWithdrawal,onChange:x=>z({...M,maxDailyWithdrawal:parseInt(x.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Single Withdrawal ($)"}),i.jsx("input",{type:"number",value:M.maxSingleWithdrawal,onChange:x=>z({...M,maxSingleWithdrawal:parseInt(x.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Processing Time"}),i.jsx("input",{type:"text",value:M.withdrawalProcessingTime,onChange:x=>z({...M,withdrawalProcessingTime:x.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:w.navy},children:[i.jsx(Wu,{className:"w-5 h-5"})," Automation"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100",children:[i.jsx("input",{type:"checkbox",checked:M.autoApproveDeposits,onChange:x=>z({...M,autoApproveDeposits:x.target.checked}),className:"w-5 h-5 rounded"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:"Auto-Approve Deposits"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Automatically approve all deposits"})]})]}),i.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100",children:[i.jsx("input",{type:"checkbox",checked:M.autoApproveWithdrawals,onChange:x=>z({...M,autoApproveWithdrawals:x.target.checked}),className:"w-5 h-5 rounded"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:"Auto-Approve Withdrawals"}),i.jsx("p",{className:"text-xs text-gray-500 text-red-500",children:" Use with caution"})]})]}),i.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100",children:[i.jsx("input",{type:"checkbox",checked:M.emailNotifications,onChange:x=>z({...M,emailNotifications:x.target.checked}),className:"w-5 h-5 rounded"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:"Email Notifications"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Send email alerts for transactions"})]})]}),i.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100",children:[i.jsx("input",{type:"checkbox",checked:M.smsNotifications,onChange:x=>z({...M,smsNotifications:x.target.checked}),className:"w-5 h-5 rounded"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:"SMS Notifications"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Send SMS alerts (requires setup)"})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:w.navy},children:[i.jsx(la,{className:"w-5 h-5"})," Security Settings"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Session Timeout (minutes)"}),i.jsx("input",{type:"number",value:M.sessionTimeout,onChange:x=>z({...M,sessionTimeout:parseInt(x.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Login Attempts"}),i.jsx("input",{type:"number",value:M.maxLoginAttempts,onChange:x=>z({...M,maxLoginAttempts:parseInt(x.target.value)}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"IP Whitelist (comma separated)"}),i.jsx("input",{type:"text",value:M.ipWhitelist,onChange:x=>z({...M,ipWhitelist:x.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",placeholder:"Leave empty to allow all IPs"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blocked Countries (comma separated)"}),i.jsx("input",{type:"text",value:M.blockedCountries,onChange:x=>z({...M,blockedCountries:x.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",placeholder:"e.g., US, UK, CN"})]})]})]}),i.jsx(U.button,{onClick:A,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 rounded-xl text-white font-semibold",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:"Save Platform Configuration"})]})]}),e==="settings"&&i.jsxs("div",{children:[i.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:w.navy},children:"Platform Settings"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:w.navy},children:[i.jsx(jv,{className:"w-5 h-5"})," Deposit Wallet Addresses"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bitcoin (BTC)"}),i.jsx("input",{type:"text",value:((Ci=l.wallets)==null?void 0:Ci.btc)||"",onChange:x=>u({...l,wallets:{...l.wallets,btc:x.target.value}}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl font-mono text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ethereum (ETH)"}),i.jsx("input",{type:"text",value:((zn=l.wallets)==null?void 0:zn.eth)||"",onChange:x=>u({...l,wallets:{...l.wallets,eth:x.target.value}}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl font-mono text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"USDT (TRC-20)"}),i.jsx("input",{type:"text",value:((Ka=l.wallets)==null?void 0:Ka.usdt)||"",onChange:x=>u({...l,wallets:{...l.wallets,usdt:x.target.value}}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl font-mono text-sm"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:w.navy},children:[i.jsx(Tg,{className:"w-5 h-5"})," Contact Settings"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"WhatsApp Number"}),i.jsx("input",{type:"text",value:l.whatsapp||"",onChange:x=>u({...l,whatsapp:x.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",placeholder:"+1234567890"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Support Email"}),i.jsx("input",{type:"email",value:l.email||"",onChange:x=>u({...l,email:x.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[i.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:w.navy},children:[i.jsx(oa,{className:"w-5 h-5"})," Site Settings"]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Site Name"}),i.jsx("input",{type:"text",value:l.siteName||"",onChange:x=>u({...l,siteName:x.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]})]}),i.jsx(U.button,{onClick:()=>ze(l),whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 rounded-xl text-white font-semibold",style:{background:`linear-gradient(135deg, ${w.green} 0%, ${w.greenDark} 100%)`},children:"Save All Settings"})]})]})]})]})]})}function z6(){const[t,e]=R.useState(!1),[n,s]=R.useState(!1),[r,a]=R.useState(!1),[o,l]=R.useState(!1),[u,d]=R.useState("home"),[f,h]=R.useState(null),[p,v]=R.useState(!1),[T,S]=R.useState(!0),[I,N]=R.useState({name:"",email:"",phone:"",address:"",balance:0,profileImage:null});localStorage.getItem("saxovault_dark_mode")==="true"?w=u6:w=WT;const b=R.useRef(null),D=()=>{b.current&&b.current(),e(!1),N({name:"",email:"",phone:"",address:"",balance:0,profileImage:null}),localStorage.removeItem("saxovault_current_user"),alert(` Session Expired

You have been logged out due to inactivity. Please login again.`)},{showWarning:M,countdown:z,extendSession:k}=N6(t,D,30),_=(C,Q)=>{const ae=JSON.parse(localStorage.getItem("saxovault_activity_logs")||"{}");ae[Q]||(ae[Q]=[]),ae[Q].unshift({type:C,timestamp:new Date().toISOString(),ip:"User IP",device:navigator.userAgent.includes("Mobile")?"Mobile Device":"Desktop Browser"}),ae[Q]=ae[Q].slice(0,50),localStorage.setItem("saxovault_activity_logs",JSON.stringify(ae))};R.useEffect(()=>{(window.location.pathname==="/admin"||window.location.hash==="#admin")&&a(!0),localStorage.getItem("saxovault_admin")==="true"&&(s(!0),a(!0));const C=localStorage.getItem("saxovault_current_user");if(C)try{const Q=JSON.parse(C);if(Q&&Q.uid&&Q.email){const ae=JSON.parse(localStorage.getItem(`user_${Q.uid}`)||"{}"),me={...Q,...ae,uid:Q.uid,email:Q.email,name:ae.name||Q.name||"",phone:ae.phone||Q.phone||"",address:ae.address||Q.address||"",country:ae.country||Q.country||"",balance:ae.balance??Q.balance??0,profileImage:ae.profileImage||Q.profileImage||null,twoFactorEnabled:ae.twoFactorEnabled||Q.twoFactorEnabled||!1};N(me),e(!0),console.log(" User session restored:",me.email)}}catch(Q){console.error(" Error restoring user session:",Q),localStorage.removeItem("saxovault_current_user")}setTimeout(()=>S(!1),800)},[]);const E=C=>{if(C){const Q=JSON.parse(localStorage.getItem(`user_${C.uid}`)||"{}"),ae={...C,...Q,uid:C.uid,email:C.email,name:Q.name||C.name||"",phone:Q.phone||C.phone||"",address:Q.address||C.address||"",country:Q.country||C.country||"",balance:Q.balance??C.balance??0,profileImage:Q.profileImage||C.profileImage||null};N(ae),_("login",ae.email);const me=J.getUsers();if(!me.find(B=>B.email===C.email)&&(me.push({...C,uid:C.uid||Date.now().toString(),createdAt:new Date().toISOString(),balance:0,totalDeposited:0,totalWithdrawn:0,totalEarnings:0,activeInvestments:0,referralEarnings:0,referralCount:0,onboardingComplete:!1}),J.setUsers(me),l(!0),J.notifyAdmin({type:"new_user",title:" New User Registration",message:`${C.name||"New user"} (${C.email}) just registered`,urgent:!0,actionRequired:!1}),C.referralCode)){const B=me.find(Z=>Z.referralCode===C.referralCode||Z.uid===C.referralCode);if(B){_e.sendReferralNotification(B.email,C.name||C.email);const Z=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}");Z[B.uid]||(Z[B.uid]=[]),Z[B.uid].unshift({id:Date.now(),type:"referral",title:" New Referral!",message:`${C.name||"Someone"} signed up using your referral link!`,read:!1,createdAt:new Date().toISOString()}),localStorage.setItem("saxovault_user_notifications",JSON.stringify(Z)),J.notifyAdmin({type:"referral",title:" New Referral Signup",message:`${C.email} signed up via ${B.email}'s referral`,urgent:!1,actionRequired:!1})}}localStorage.setItem("saxovault_current_user",JSON.stringify(ae)),localStorage.setItem(`user_${ae.uid}`,JSON.stringify(ae))}e(!0)},A=async()=>{try{I.email&&_("logout",I.email),await l6()}catch{}e(!1),N({name:"",email:"",phone:"",address:"",balance:0,profileImage:null}),localStorage.removeItem("saxovault_current_user")};b.current=A;const P=()=>{localStorage.removeItem("saxovault_admin"),s(!1),a(!1)};if(r&&!n)return i.jsx($6,{onLogin:()=>s(!0)});if(n)return i.jsx(B6,{onLogout:P});if(!t)return i.jsx(y6,{onLogin:E});const V=C=>h(C);return T?i.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{background:w.cream},children:i.jsxs(U.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[i.jsx(U.div,{animate:{rotate:360},transition:{repeat:1/0,duration:1.5,ease:"linear"},className:"w-16 h-16 mx-auto mb-4 rounded-full border-4 border-t-transparent",style:{borderColor:`${w.navy}30`,borderTopColor:w.gold}}),i.jsx("h2",{className:"font-serif text-xl",style:{color:w.navy},children:"SaxoVault"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Loading..."})]})}):i.jsx(b6,{children:i.jsxs("div",{className:"min-h-screen",style:{background:w.cream},children:[i.jsx(lt,{children:M&&i.jsx(S6,{countdown:z,onExtend:k,onLogout:A})}),i.jsx(lt,{children:o&&i.jsx(m6,{onComplete:()=>l(!1)})}),i.jsx(x6,{activePage:u,onNavigate:d,user:I,onLogout:A}),i.jsxs(lt,{children:[f&&!p&&i.jsx(I6,{investment:f,onClose:()=>h(null),onInvest:()=>v(!0)}),p&&f&&i.jsx(C6,{investment:f,onClose:()=>{v(!1),h(null)},balance:I.balance})]}),i.jsxs(lt,{mode:"wait",children:[u==="home"&&i.jsx(j6,{onNavigate:d,onSelectInvestment:V},"home"),u==="investments"&&i.jsx(k6,{onSelectInvestment:V},"investments"),u==="dashboard"&&i.jsx(A6,{user:I,onNavigate:d},"dashboard"),u==="history"&&i.jsx(P6,{user:I},"history"),u==="notifications"&&i.jsx(R6,{user:I},"notifications"),u==="activity"&&i.jsx(D6,{user:I},"activity"),u==="referral"&&i.jsx(L6,{user:I},"referral"),u==="calculator"&&i.jsx(M6,{},"calculator"),u==="profile"&&i.jsx(O6,{user:I,setUser:N,onLogout:A},"profile")]}),i.jsx(v6,{activePage:u,onNavigate:d}),i.jsx(T6,{})]})})}Tf.createRoot(document.getElementById("root")).render(i.jsx(fd.StrictMode,{children:i.jsx(z6,{})}));
